function IK(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ky(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nk={exports:{}},rC={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function Che(){if(Rj)return rC;Rj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return rC.Fragment=t,rC.jsx=n,rC.jsxs=n,rC}var $j;function Ehe(){return $j||($j=1,nk.exports=Che()),nk.exports}var qn=Ehe(),rk={exports:{}},da={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function Ohe(){if(kj)return da;kj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(le){return le===null||typeof le!="object"?null:(le=d&&le[d]||le["@@iterator"],typeof le=="function"?le:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function w(le,pe,ye){this.props=le,this.context=pe,this.refs=x,this.updater=ye||g}w.prototype.isReactComponent={},w.prototype.setState=function(le,pe){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,pe,"setState")},w.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function C(){}C.prototype=w.prototype;function E(le,pe,ye){this.props=le,this.context=pe,this.refs=x,this.updater=ye||g}var M=E.prototype=new C;M.constructor=E,v(M,w.prototype),M.isPureReactComponent=!0;var R=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function D(le,pe,ye,_e,Se,Re){return ye=Re.ref,{$$typeof:e,type:le,key:pe,ref:ye!==void 0?ye:null,props:Re}}function H(le,pe){return D(le.type,pe,void 0,void 0,void 0,le.props)}function U(le){return typeof le=="object"&&le!==null&&le.$$typeof===e}function q(le){var pe={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(ye){return pe[ye]})}var K=/\/+/g;function Q(le,pe){return typeof le=="object"&&le!==null&&le.key!=null?q(""+le.key):pe.toString(36)}function X(){}function te(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(X,X):(le.status="pending",le.then(function(pe){le.status==="pending"&&(le.status="fulfilled",le.value=pe)},function(pe){le.status==="pending"&&(le.status="rejected",le.reason=pe)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function ee(le,pe,ye,_e,Se){var Re=typeof le;(Re==="undefined"||Re==="boolean")&&(le=null);var je=!1;if(le===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(le.$$typeof){case e:case t:je=!0;break;case u:return je=le._init,ee(je(le._payload),pe,ye,_e,Se)}}if(je)return Se=Se(le),je=_e===""?"."+Q(le,0):_e,R(Se)?(ye="",je!=null&&(ye=je.replace(K,"$&/")+"/"),ee(Se,pe,ye,"",function(Ze){return Ze})):Se!=null&&(U(Se)&&(Se=H(Se,ye+(Se.key==null||le&&le.key===Se.key?"":(""+Se.key).replace(K,"$&/")+"/")+je)),pe.push(Se)),1;je=0;var Fe=_e===""?".":_e+":";if(R(le))for(var ze=0;ze<le.length;ze++)_e=le[ze],Re=Fe+Q(_e,ze),je+=ee(_e,pe,ye,Re,Se);else if(ze=h(le),typeof ze=="function")for(le=ze.call(le),ze=0;!(_e=le.next()).done;)_e=_e.value,Re=Fe+Q(_e,ze++),je+=ee(_e,pe,ye,Re,Se);else if(Re==="object"){if(typeof le.then=="function")return ee(te(le),pe,ye,_e,Se);throw pe=String(le),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return je}function Z(le,pe,ye){if(le==null)return le;var _e=[],Se=0;return ee(le,_e,"","",function(Re){return pe.call(ye,Re,Se++)}),_e}function re(le){if(le._status===-1){var pe=le._result;pe=pe(),pe.then(function(ye){(le._status===0||le._status===-1)&&(le._status=1,le._result=ye)},function(ye){(le._status===0||le._status===-1)&&(le._status=2,le._result=ye)}),le._status===-1&&(le._status=0,le._result=pe)}if(le._status===1)return le._result.default;throw le._result}var oe=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)};function ce(){}return da.Children={map:Z,forEach:function(le,pe,ye){Z(le,function(){pe.apply(this,arguments)},ye)},count:function(le){var pe=0;return Z(le,function(){pe++}),pe},toArray:function(le){return Z(le,function(pe){return pe})||[]},only:function(le){if(!U(le))throw Error("React.Children.only expected to receive a single React element child.");return le}},da.Component=w,da.Fragment=n,da.Profiler=i,da.PureComponent=E,da.StrictMode=r,da.Suspense=l,da.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,da.__COMPILER_RUNTIME={__proto__:null,c:function(le){return L.H.useMemoCache(le)}},da.cache=function(le){return function(){return le.apply(null,arguments)}},da.cloneElement=function(le,pe,ye){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var _e=v({},le.props),Se=le.key,Re=void 0;if(pe!=null)for(je in pe.ref!==void 0&&(Re=void 0),pe.key!==void 0&&(Se=""+pe.key),pe)!N.call(pe,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&pe.ref===void 0||(_e[je]=pe[je]);var je=arguments.length-2;if(je===1)_e.children=ye;else if(1<je){for(var Fe=Array(je),ze=0;ze<je;ze++)Fe[ze]=arguments[ze+2];_e.children=Fe}return D(le.type,Se,void 0,void 0,Re,_e)},da.createContext=function(le){return le={$$typeof:s,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:a,_context:le},le},da.createElement=function(le,pe,ye){var _e,Se={},Re=null;if(pe!=null)for(_e in pe.key!==void 0&&(Re=""+pe.key),pe)N.call(pe,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Se[_e]=pe[_e]);var je=arguments.length-2;if(je===1)Se.children=ye;else if(1<je){for(var Fe=Array(je),ze=0;ze<je;ze++)Fe[ze]=arguments[ze+2];Se.children=Fe}if(le&&le.defaultProps)for(_e in je=le.defaultProps,je)Se[_e]===void 0&&(Se[_e]=je[_e]);return D(le,Re,void 0,void 0,null,Se)},da.createRef=function(){return{current:null}},da.forwardRef=function(le){return{$$typeof:o,render:le}},da.isValidElement=U,da.lazy=function(le){return{$$typeof:u,_payload:{_status:-1,_result:le},_init:re}},da.memo=function(le,pe){return{$$typeof:c,type:le,compare:pe===void 0?null:pe}},da.startTransition=function(le){var pe=L.T,ye={};L.T=ye;try{var _e=le(),Se=L.S;Se!==null&&Se(ye,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ce,oe)}catch(Re){oe(Re)}finally{L.T=pe}},da.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},da.use=function(le){return L.H.use(le)},da.useActionState=function(le,pe,ye){return L.H.useActionState(le,pe,ye)},da.useCallback=function(le,pe){return L.H.useCallback(le,pe)},da.useContext=function(le){return L.H.useContext(le)},da.useDebugValue=function(){},da.useDeferredValue=function(le,pe){return L.H.useDeferredValue(le,pe)},da.useEffect=function(le,pe,ye){var _e=L.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(le,pe)},da.useId=function(){return L.H.useId()},da.useImperativeHandle=function(le,pe,ye){return L.H.useImperativeHandle(le,pe,ye)},da.useInsertionEffect=function(le,pe){return L.H.useInsertionEffect(le,pe)},da.useLayoutEffect=function(le,pe){return L.H.useLayoutEffect(le,pe)},da.useMemo=function(le,pe){return L.H.useMemo(le,pe)},da.useOptimistic=function(le,pe){return L.H.useOptimistic(le,pe)},da.useReducer=function(le,pe,ye){return L.H.useReducer(le,pe,ye)},da.useRef=function(le){return L.H.useRef(le)},da.useState=function(le){return L.H.useState(le)},da.useSyncExternalStore=function(le,pe,ye){return L.H.useSyncExternalStore(le,pe,ye)},da.useTransition=function(){return L.H.useTransition()},da.version="19.1.0",da}var Lj;function Q4(){return Lj||(Lj=1,rk.exports=Ohe()),rk.exports}var I=Q4();const it=Ky(I),nR=IK({__proto__:null,default:it},[I]);var ik={exports:{}},iC={},ak={exports:{}},ok={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function The(){return Nj||(Nj=1,function(e){function t(Z,re){var oe=Z.length;Z.push(re);e:for(;0<oe;){var ce=oe-1>>>1,le=Z[ce];if(0<i(le,re))Z[ce]=re,Z[oe]=le,oe=ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var re=Z[0],oe=Z.pop();if(oe!==re){Z[0]=oe;e:for(var ce=0,le=Z.length,pe=le>>>1;ce<pe;){var ye=2*(ce+1)-1,_e=Z[ye],Se=ye+1,Re=Z[Se];if(0>i(_e,oe))Se<le&&0>i(Re,_e)?(Z[ce]=Re,Z[Se]=oe,ce=Se):(Z[ce]=_e,Z[ye]=oe,ce=ye);else if(Se<le&&0>i(Re,oe))Z[ce]=Re,Z[Se]=oe,ce=Se;else break e}}return re}function i(Z,re){var oe=Z.sortIndex-re.sortIndex;return oe!==0?oe:Z.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,g=!1,v=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(Z){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=Z)r(c),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(c)}}function L(Z){if(x=!1,R(Z),!v)if(n(l)!==null)v=!0,N||(N=!0,Q());else{var re=n(c);re!==null&&ee(L,re.startTime-Z)}}var N=!1,D=-1,H=5,U=-1;function q(){return w?!0:!(e.unstable_now()-U<H)}function K(){if(w=!1,N){var Z=e.unstable_now();U=Z;var re=!0;try{e:{v=!1,x&&(x=!1,E(D),D=-1),g=!0;var oe=h;try{t:{for(R(Z),d=n(l);d!==null&&!(d.expirationTime>Z&&q());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var le=ce(d.expirationTime<=Z);if(Z=e.unstable_now(),typeof le=="function"){d.callback=le,R(Z),re=!0;break t}d===n(l)&&r(l),R(Z)}else r(l);d=n(l)}if(d!==null)re=!0;else{var pe=n(c);pe!==null&&ee(L,pe.startTime-Z),re=!1}}break e}finally{d=null,h=oe,g=!1}re=void 0}}finally{re?Q():N=!1}}}var Q;if(typeof M=="function")Q=function(){M(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=K,Q=function(){te.postMessage(null)}}else Q=function(){C(K,0)};function ee(Z,re){D=C(function(){Z(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var oe=h;h=re;try{return Z()}finally{h=oe}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=h;h=Z;try{return re()}finally{h=oe}},e.unstable_scheduleCallback=function(Z,re,oe){var ce=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ce+oe:ce):oe=ce,Z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=oe+le,Z={id:u++,callback:re,priorityLevel:Z,startTime:oe,expirationTime:le,sortIndex:-1},oe>ce?(Z.sortIndex=oe,t(c,Z),n(l)===null&&Z===n(c)&&(x?(E(D),D=-1):x=!0,ee(L,oe-ce))):(Z.sortIndex=le,t(l,Z),v||g||(v=!0,N||(N=!0,Q()))),Z},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Z){var re=h;return function(){var oe=h;h=re;try{return Z.apply(this,arguments)}finally{h=oe}}}}(ok)),ok}var Dj;function Mhe(){return Dj||(Dj=1,ak.exports=The()),ak.exports}var sk={exports:{}},Mf={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function Ahe(){if(zj)return Mf;zj=1;var e=Q4();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Mf.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mf.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,u)},Mf.flushSync=function(l){var c=s.T,u=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=c,r.p=u,r.d.f()}},Mf.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Mf.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Mf.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=o(u,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:h,fetchPriority:g}):u==="script"&&r.d.X(l,{crossOrigin:d,integrity:h,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Mf.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=o(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Mf.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=o(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Mf.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=o(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Mf.requestFormReset=function(l){r.d.r(l)},Mf.unstable_batchedUpdates=function(l,c){return l(c)},Mf.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},Mf.useFormStatus=function(){return s.H.useHostTransitionStatus()},Mf.version="19.1.0",Mf}var Bj;function PK(){if(Bj)return sk.exports;Bj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sk.exports=Ahe(),sk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function Ihe(){if(jj)return iC;jj=1;var e=Mhe(),t=Q4(),n=PK();function r(m){var S="https://react.dev/errors/"+m;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)S+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+m+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function a(m){var S=m,A=m;if(m.alternate)for(;S.return;)S=S.return;else{m=S;do S=m,(S.flags&4098)!==0&&(A=S.return),m=S.return;while(m)}return S.tag===3?A:null}function s(m){if(m.tag===13){var S=m.memoizedState;if(S===null&&(m=m.alternate,m!==null&&(S=m.memoizedState)),S!==null)return S.dehydrated}return null}function o(m){if(a(m)!==m)throw Error(r(188))}function l(m){var S=m.alternate;if(!S){if(S=a(m),S===null)throw Error(r(188));return S!==m?null:m}for(var A=m,B=S;;){var J=A.return;if(J===null)break;var ue=J.alternate;if(ue===null){if(B=J.return,B!==null){A=B;continue}break}if(J.child===ue.child){for(ue=J.child;ue;){if(ue===A)return o(J),m;if(ue===B)return o(J),S;ue=ue.sibling}throw Error(r(188))}if(A.return!==B.return)A=J,B=ue;else{for(var Ie=!1,Ge=J.child;Ge;){if(Ge===A){Ie=!0,A=J,B=ue;break}if(Ge===B){Ie=!0,B=J,A=ue;break}Ge=Ge.sibling}if(!Ie){for(Ge=ue.child;Ge;){if(Ge===A){Ie=!0,A=ue,B=J;break}if(Ge===B){Ie=!0,B=ue,A=J;break}Ge=Ge.sibling}if(!Ie)throw Error(r(189))}}if(A.alternate!==B)throw Error(r(190))}if(A.tag!==3)throw Error(r(188));return A.stateNode.current===A?m:S}function c(m){var S=m.tag;if(S===5||S===26||S===27||S===6)return m;for(m=m.child;m!==null;){if(S=c(m),S!==null)return S;m=m.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(m){return m===null||typeof m!="object"?null:(m=K&&m[K]||m["@@iterator"],typeof m=="function"?m:null)}var X=Symbol.for("react.client.reference");function te(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===X?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case v:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case N:return"SuspenseList";case U:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case g:return"Portal";case M:return(m.displayName||"Context")+".Provider";case E:return(m._context.displayName||"Context")+".Consumer";case R:var S=m.render;return m=m.displayName,m||(m=S.displayName||S.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case D:return S=m.displayName||null,S!==null?S:te(m.type)||"Memo";case H:S=m._payload,m=m._init;try{return te(m(S))}catch{}}return null}var ee=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ce=[],le=-1;function pe(m){return{current:m}}function ye(m){0>le||(m.current=ce[le],ce[le]=null,le--)}function _e(m,S){le++,ce[le]=m.current,m.current=S}var Se=pe(null),Re=pe(null),je=pe(null),Fe=pe(null);function ze(m,S){switch(_e(je,S),_e(Re,m),_e(Se,null),S.nodeType){case 9:case 11:m=(m=S.documentElement)&&(m=m.namespaceURI)?jo(m):0;break;default:if(m=S.tagName,S=S.namespaceURI)S=jo(S),m=Qo(S,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}ye(Se),_e(Se,m)}function Ze(){ye(Se),ye(Re),ye(je)}function st(m){m.memoizedState!==null&&_e(Fe,m);var S=Se.current,A=Qo(S,m.type);S!==A&&(_e(Re,m),_e(Se,A))}function Ue(m){Re.current===m&&(ye(Se),ye(Re)),Fe.current===m&&(ye(Fe),dr._currentValue=oe)}var Ne=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,rt=e.unstable_shouldYield,ht=e.unstable_requestPaint,ft=e.unstable_now,Rt=e.unstable_getCurrentPriorityLevel,Yt=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,xt=e.unstable_NormalPriority,Ft=e.unstable_LowPriority,Lt=e.unstable_IdlePriority,Kt=e.log,hn=e.unstable_setDisableYieldValue,dn=null,Cn=null;function kn(m){if(typeof Kt=="function"&&hn(m),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(dn,m)}catch{}}var sn=Math.clz32?Math.clz32:Qt,un=Math.log,gn=Math.LN2;function Qt(m){return m>>>=0,m===0?32:31-(un(m)/gn|0)|0}var Ln=256,Gt=4194304;function He(m){var S=m&42;if(S!==0)return S;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function be(m,S,A){var B=m.pendingLanes;if(B===0)return 0;var J=0,ue=m.suspendedLanes,Ie=m.pingedLanes;m=m.warmLanes;var Ge=B&134217727;return Ge!==0?(B=Ge&~ue,B!==0?J=He(B):(Ie&=Ge,Ie!==0?J=He(Ie):A||(A=Ge&~m,A!==0&&(J=He(A))))):(Ge=B&~ue,Ge!==0?J=He(Ge):Ie!==0?J=He(Ie):A||(A=B&~m,A!==0&&(J=He(A)))),J===0?0:S!==0&&S!==J&&(S&ue)===0&&(ue=J&-J,A=S&-S,ue>=A||ue===32&&(A&4194048)!==0)?S:J}function we(m,S){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&S)===0}function xe(m,S){switch(m){case 1:case 2:case 4:case 8:case 64:return S+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var m=Ln;return Ln<<=1,(Ln&4194048)===0&&(Ln=256),m}function lt(){var m=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),m}function ct(m){for(var S=[],A=0;31>A;A++)S.push(m);return S}function _t(m,S){m.pendingLanes|=S,S!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function yt(m,S,A,B,J,ue){var Ie=m.pendingLanes;m.pendingLanes=A,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=A,m.entangledLanes&=A,m.errorRecoveryDisabledLanes&=A,m.shellSuspendCounter=0;var Ge=m.entanglements,Ct=m.expirationTimes,an=m.hiddenUpdates;for(A=Ie&~A;0<A;){var An=31-sn(A),Hn=1<<An;Ge[An]=0,Ct[An]=-1;var fn=an[An];if(fn!==null)for(an[An]=null,An=0;An<fn.length;An++){var on=fn[An];on!==null&&(on.lane&=-536870913)}A&=~Hn}B!==0&&jt(m,B,0),ue!==0&&J===0&&m.tag!==0&&(m.suspendedLanes|=ue&~(Ie&~S))}function jt(m,S,A){m.pendingLanes|=S,m.suspendedLanes&=~S;var B=31-sn(S);m.entangledLanes|=S,m.entanglements[B]=m.entanglements[B]|1073741824|A&4194090}function $t(m,S){var A=m.entangledLanes|=S;for(m=m.entanglements;A;){var B=31-sn(A),J=1<<B;J&S|m[B]&S&&(m[B]|=S),A&=~J}}function vt(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function It(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function zt(){var m=re.p;return m!==0?m:(m=window.event,m===void 0?32:rc(m.type))}function Dt(m,S){var A=re.p;try{return re.p=m,S()}finally{re.p=A}}var Tt=Math.random().toString(36).slice(2),xn="__reactFiber$"+Tt,Bt="__reactProps$"+Tt,nn="__reactContainer$"+Tt,Fn="__reactEvents$"+Tt,Ht="__reactListeners$"+Tt,ln="__reactHandles$"+Tt,rn="__reactResources$"+Tt,Tn="__reactMarker$"+Tt;function Un(m){delete m[xn],delete m[Bt],delete m[Fn],delete m[Ht],delete m[ln]}function ir(m){var S=m[xn];if(S)return S;for(var A=m.parentNode;A;){if(S=A[nn]||A[xn]){if(A=S.alternate,S.child!==null||A!==null&&A.child!==null)for(m=T_(m);m!==null;){if(A=m[xn])return A;m=T_(m)}return S}m=A,A=m.parentNode}return null}function Dn(m){if(m=m[xn]||m[nn]){var S=m.tag;if(S===5||S===6||S===13||S===26||S===27||S===3)return m}return null}function Er(m){var S=m.tag;if(S===5||S===26||S===27||S===6)return m.stateNode;throw Error(r(33))}function Cr(m){var S=m[rn];return S||(S=m[rn]={hoistableStyles:new Map,hoistableScripts:new Map}),S}function $r(m){m[Tn]=!0}var Zr=new Set,li={};function Kr(m,S){$n(m,S),$n(m+"Capture",S)}function $n(m,S){for(li[m]=S,m=0;m<S.length;m++)Zr.add(S[m])}var sr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tr={},Yn={};function br(m){return Ne.call(Yn,m)?!0:Ne.call(tr,m)?!1:sr.test(m)?Yn[m]=!0:(tr[m]=!0,!1)}function Hr(m,S,A){if(br(S))if(A===null)m.removeAttribute(S);else{switch(typeof A){case"undefined":case"function":case"symbol":m.removeAttribute(S);return;case"boolean":var B=S.toLowerCase().slice(0,5);if(B!=="data-"&&B!=="aria-"){m.removeAttribute(S);return}}m.setAttribute(S,""+A)}}function ki(m,S,A){if(A===null)m.removeAttribute(S);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(S);return}m.setAttribute(S,""+A)}}function Vi(m,S,A,B){if(B===null)m.removeAttribute(A);else{switch(typeof B){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(A);return}m.setAttributeNS(S,A,""+B)}}var pr,_r;function Vr(m){if(pr===void 0)try{throw Error()}catch(A){var S=A.stack.trim().match(/\n( *(at )?)/);pr=S&&S[1]||"",_r=-1<A.stack.indexOf(`
    at`)?" (<anonymous>)":-1<A.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+m+_r}var ta=!1;function Wo(m,S){if(!m||ta)return"";ta=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var B={DetermineComponentFrameRoot:function(){try{if(S){var Hn=function(){throw Error()};if(Object.defineProperty(Hn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Hn,[])}catch(on){var fn=on}Reflect.construct(m,[],Hn)}else{try{Hn.call()}catch(on){fn=on}m.call(Hn.prototype)}}else{try{throw Error()}catch(on){fn=on}(Hn=m())&&typeof Hn.catch=="function"&&Hn.catch(function(){})}}catch(on){if(on&&fn&&typeof on.stack=="string")return[on.stack,fn.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var J=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");J&&J.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ue=B.DetermineComponentFrameRoot(),Ie=ue[0],Ge=ue[1];if(Ie&&Ge){var Ct=Ie.split(`
`),an=Ge.split(`
`);for(J=B=0;B<Ct.length&&!Ct[B].includes("DetermineComponentFrameRoot");)B++;for(;J<an.length&&!an[J].includes("DetermineComponentFrameRoot");)J++;if(B===Ct.length||J===an.length)for(B=Ct.length-1,J=an.length-1;1<=B&&0<=J&&Ct[B]!==an[J];)J--;for(;1<=B&&0<=J;B--,J--)if(Ct[B]!==an[J]){if(B!==1||J!==1)do if(B--,J--,0>J||Ct[B]!==an[J]){var An=`
`+Ct[B].replace(" at new "," at ");return m.displayName&&An.includes("<anonymous>")&&(An=An.replace("<anonymous>",m.displayName)),An}while(1<=B&&0<=J);break}}}finally{ta=!1,Error.prepareStackTrace=A}return(A=m?m.displayName||m.name:"")?Vr(A):""}function Ks(m){switch(m.tag){case 26:case 27:case 5:return Vr(m.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return Wo(m.type,!1);case 11:return Wo(m.type.render,!1);case 1:return Wo(m.type,!0);case 31:return Vr("Activity");default:return""}}function $o(m){try{var S="";do S+=Ks(m),m=m.return;while(m);return S}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}function ma(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function ms(m){var S=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(S==="checkbox"||S==="radio")}function Ys(m){var S=ms(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,S),B=""+m[S];if(!m.hasOwnProperty(S)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var J=A.get,ue=A.set;return Object.defineProperty(m,S,{configurable:!0,get:function(){return J.call(this)},set:function(Ie){B=""+Ie,ue.call(this,Ie)}}),Object.defineProperty(m,S,{enumerable:A.enumerable}),{getValue:function(){return B},setValue:function(Ie){B=""+Ie},stopTracking:function(){m._valueTracker=null,delete m[S]}}}}function ko(m){m._valueTracker||(m._valueTracker=Ys(m))}function il(m){if(!m)return!1;var S=m._valueTracker;if(!S)return!0;var A=S.getValue(),B="";return m&&(B=ms(m)?m.checked?"true":"false":m.value),m=B,m!==A?(S.setValue(m),!0):!1}function ai(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var gr=/[\n"\\]/g;function Jn(m){return m.replace(gr,function(S){return"\\"+S.charCodeAt(0).toString(16)+" "})}function ur(m,S,A,B,J,ue,Ie,Ge){m.name="",Ie!=null&&typeof Ie!="function"&&typeof Ie!="symbol"&&typeof Ie!="boolean"?m.type=Ie:m.removeAttribute("type"),S!=null?Ie==="number"?(S===0&&m.value===""||m.value!=S)&&(m.value=""+ma(S)):m.value!==""+ma(S)&&(m.value=""+ma(S)):Ie!=="submit"&&Ie!=="reset"||m.removeAttribute("value"),S!=null?Ci(m,Ie,ma(S)):A!=null?Ci(m,Ie,ma(A)):B!=null&&m.removeAttribute("value"),J==null&&ue!=null&&(m.defaultChecked=!!ue),J!=null&&(m.checked=J&&typeof J!="function"&&typeof J!="symbol"),Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"?m.name=""+ma(Ge):m.removeAttribute("name")}function ci(m,S,A,B,J,ue,Ie,Ge){if(ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(m.type=ue),S!=null||A!=null){if(!(ue!=="submit"&&ue!=="reset"||S!=null))return;A=A!=null?""+ma(A):"",S=S!=null?""+ma(S):A,Ge||S===m.value||(m.value=S),m.defaultValue=S}B=B??J,B=typeof B!="function"&&typeof B!="symbol"&&!!B,m.checked=Ge?m.checked:!!B,m.defaultChecked=!!B,Ie!=null&&typeof Ie!="function"&&typeof Ie!="symbol"&&typeof Ie!="boolean"&&(m.name=Ie)}function Ci(m,S,A){S==="number"&&ai(m.ownerDocument)===m||m.defaultValue===""+A||(m.defaultValue=""+A)}function Ei(m,S,A,B){if(m=m.options,S){S={};for(var J=0;J<A.length;J++)S["$"+A[J]]=!0;for(A=0;A<m.length;A++)J=S.hasOwnProperty("$"+m[A].value),m[A].selected!==J&&(m[A].selected=J),J&&B&&(m[A].defaultSelected=!0)}else{for(A=""+ma(A),S=null,J=0;J<m.length;J++){if(m[J].value===A){m[J].selected=!0,B&&(m[J].defaultSelected=!0);return}S!==null||m[J].disabled||(S=m[J])}S!==null&&(S.selected=!0)}}function ro(m,S,A){if(S!=null&&(S=""+ma(S),S!==m.value&&(m.value=S),A==null)){m.defaultValue!==S&&(m.defaultValue=S);return}m.defaultValue=A!=null?""+ma(A):""}function Br(m,S,A,B){if(S==null){if(B!=null){if(A!=null)throw Error(r(92));if(ee(B)){if(1<B.length)throw Error(r(93));B=B[0]}A=B}A==null&&(A=""),S=A}A=ma(S),m.defaultValue=A,B=m.textContent,B===A&&B!==""&&B!==null&&(m.value=B)}function Ui(m,S){if(S){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=S;return}}m.textContent=S}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(m,S,A){var B=S.indexOf("--")===0;A==null||typeof A=="boolean"||A===""?B?m.setProperty(S,""):S==="float"?m.cssFloat="":m[S]="":B?m.setProperty(S,A):typeof A!="number"||A===0||Fa.has(S)?S==="float"?m.cssFloat=A:m[S]=(""+A).trim():m[S]=A+"px"}function Tr(m,S,A){if(S!=null&&typeof S!="object")throw Error(r(62));if(m=m.style,A!=null){for(var B in A)!A.hasOwnProperty(B)||S!=null&&S.hasOwnProperty(B)||(B.indexOf("--")===0?m.setProperty(B,""):B==="float"?m.cssFloat="":m[B]="");for(var J in S)B=S[J],S.hasOwnProperty(J)&&A[J]!==B&&bo(m,J,B)}else for(var ue in S)S.hasOwnProperty(ue)&&bo(m,ue,S[ue])}function xr(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ka=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(m){return ka.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var La=null;function Ki(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var qo=null,Lo=null;function na(m){var S=Dn(m);if(S&&(m=S.stateNode)){var A=m[Bt]||null;e:switch(m=S.stateNode,S.type){case"input":if(ur(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name),S=A.name,A.type==="radio"&&S!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll('input[name="'+Jn(""+S)+'"][type="radio"]'),S=0;S<A.length;S++){var B=A[S];if(B!==m&&B.form===m.form){var J=B[Bt]||null;if(!J)throw Error(r(90));ur(B,J.value,J.defaultValue,J.defaultValue,J.checked,J.defaultChecked,J.type,J.name)}}for(S=0;S<A.length;S++)B=A[S],B.form===m.form&&il(B)}break e;case"textarea":ro(m,A.value,A.defaultValue);break e;case"select":S=A.value,S!=null&&Ei(m,!!A.multiple,S,!1)}}}var tu=!1;function $c(m,S,A){if(tu)return m(S,A);tu=!0;try{var B=m(S);return B}finally{if(tu=!1,(qo!==null||Lo!==null)&&(G0(),qo&&(S=qo,m=Lo,Lo=qo=null,na(S),m)))for(S=0;S<m.length;S++)na(m[S])}}function kc(m,S){var A=m.stateNode;if(A===null)return null;var B=A[Bt]||null;if(B===null)return null;A=B[S];e:switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(m=m.type,B=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!B;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(r(231,S,typeof A));return A}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(nr)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{fr=!1}var Lr=null,Ir=null,dc=null;function Pi(){if(dc)return dc;var m,S=Ir,A=S.length,B,J="value"in Lr?Lr.value:Lr.textContent,ue=J.length;for(m=0;m<A&&S[m]===J[m];m++);var Ie=A-m;for(B=1;B<=Ie&&S[A-B]===J[ue-B];B++);return dc=J.slice(m,1<B?1-B:void 0)}function ra(m){var S=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&S===13&&(m=13)):m=S,m===10&&(m=13),32<=m||m===13?m:0}function gi(){return!0}function vp(){return!1}function al(m){function S(A,B,J,ue,Ie){this._reactName=A,this._targetInst=J,this.type=B,this.nativeEvent=ue,this.target=Ie,this.currentTarget=null;for(var Ge in m)m.hasOwnProperty(Ge)&&(A=m[Ge],this[Ge]=A?A(ue):ue[Ge]);return this.isDefaultPrevented=(ue.defaultPrevented!=null?ue.defaultPrevented:ue.returnValue===!1)?gi:vp,this.isPropagationStopped=vp,this}return u(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),S}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=al(Ju),Uf=u({},Ju,{view:0,detail:0}),Nm=al(Uf),Gf,Dm,fo,vs=u({},Uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==fo&&(fo&&m.type==="mousemove"?(Gf=m.screenX-fo.screenX,Dm=m.screenY-fo.screenY):Dm=Gf=0,fo=m),Gf)},movementY:function(m){return"movementY"in m?m.movementY:Dm}}),Cu=al(vs),_0=u({},vs,{dataTransfer:0}),ol=al(_0),Na=u({},Uf,{relatedTarget:0}),hc=al(Na),yh=u({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=al(yh),x0=u({},Ju,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),ef=al(x0),Bm=u({},Ju,{data:0}),pc=al(Bm),jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(m){var S=this.nativeEvent;return S.getModifierState?S.getModifierState(m):(m=Eu[m])?!!S[m]:!1}function Dl(){return w0}var yp=u({},Uf,{key:function(m){if(m.key){var S=jm[m.key]||m.key;if(S!=="Unidentified")return S}return m.type==="keypress"?(m=ra(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Wl[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(m){return m.type==="keypress"?ra(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?ra(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Rd=al(yp),_o=u({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=al(_o),nu=u({},Uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),V1=al(nu),$d=u({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=al($d),bp=u({},vs,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),nb=al(bp),Mg=u({},Ju,{newState:0,oldState:0}),Ag=al(Mg),Tu=[9,13,27,32],S0=nr&&"CompositionEvent"in window,bh=null;nr&&"documentMode"in document&&(bh=document.documentMode);var rb=nr&&"TextEvent"in window&&!bh,Ig=nr&&(!S0||bh&&8<bh&&11>=bh),_h=" ",Pg=!1;function Fm(m,S){switch(m){case"keyup":return Tu.indexOf(S.keyCode)!==-1;case"keydown":return S.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Wf=!1;function xh(m,S){switch(m){case"compositionend":return Rg(S);case"keypress":return S.which!==32?null:(Pg=!0,_h);case"textInput":return m=S.data,m===_h&&Pg?null:m;default:return null}}function $g(m,S){if(Wf)return m==="compositionend"||!S0&&Fm(m,S)?(m=Pi(),dc=Ir=Lr=null,Wf=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(S.ctrlKey||S.altKey||S.metaKey)||S.ctrlKey&&S.altKey){if(S.char&&1<S.char.length)return S.char;if(S.which)return String.fromCharCode(S.which)}return null;case"compositionend":return Ig&&S.locale!=="ko"?null:S.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(m){var S=m&&m.nodeName&&m.nodeName.toLowerCase();return S==="input"?!!gc[m.type]:S==="textarea"}function _p(m,S,A,B){qo?Lo?Lo.push(B):Lo=[B]:qo=B,S=Lb(S,"onChange"),0<S.length&&(A=new Pd("onChange","change",null,A,B),m.push({event:A,listeners:S}))}var tf=null,wh=null;function U1(m){gu(m,0)}function kg(m){var S=Er(m);if(il(S))return m}function Hm(m,S){if(m==="change")return S}var Vm=!1;if(nr){var Lg;if(nr){var qf="oninput"in document;if(!qf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),qf=typeof Ng.oninput=="function"}Lg=qf}else Lg=!1;Vm=Lg&&(!document.documentMode||9<document.documentMode)}function Mu(){tf&&(tf.detachEvent("onpropertychange",xp),wh=tf=null)}function xp(m){if(m.propertyName==="value"&&kg(wh)){var S=[];_p(S,wh,m,Ki(m)),$c(U1,S)}}function Um(m,S,A){m==="focusin"?(Mu(),tf=S,wh=A,tf.attachEvent("onpropertychange",xp)):m==="focusout"&&Mu()}function nf(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return kg(wh)}function Dg(m,S){if(m==="click")return kg(S)}function va(m,S){if(m==="input"||m==="change")return kg(S)}function Sh(m,S){return m===S&&(m!==0||1/m===1/S)||m!==m&&S!==S}var ql=typeof Object.is=="function"?Object.is:Sh;function rf(m,S){if(ql(m,S))return!0;if(typeof m!="object"||m===null||typeof S!="object"||S===null)return!1;var A=Object.keys(m),B=Object.keys(S);if(A.length!==B.length)return!1;for(B=0;B<A.length;B++){var J=A[B];if(!Ne.call(S,J)||!ql(m[J],S[J]))return!1}return!0}function ru(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function C0(m,S){var A=ru(m);m=0;for(var B;A;){if(A.nodeType===3){if(B=m+A.textContent.length,m<=S&&B>=S)return{node:A,offset:S-m};m=B}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=ru(A)}}function ib(m,S){return m&&S?m===S?!0:m&&m.nodeType===3?!1:S&&S.nodeType===3?ib(m,S.parentNode):"contains"in m?m.contains(S):m.compareDocumentPosition?!!(m.compareDocumentPosition(S)&16):!1:!1}function E0(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var S=ai(m.document);S instanceof m.HTMLIFrameElement;){try{var A=typeof S.contentWindow.location.href=="string"}catch{A=!1}if(A)m=S.contentWindow;else break;S=ai(m.document)}return S}function O0(m){var S=m&&m.nodeName&&m.nodeName.toLowerCase();return S&&(S==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||S==="textarea"||m.contentEditable==="true")}var ab=nr&&"documentMode"in document&&11>=document.documentMode,Kf=null,Au=null,Vt=null,Rn=!1;function pn(m,S,A){var B=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Rn||Kf==null||Kf!==ai(B)||(B=Kf,"selectionStart"in B&&O0(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),Vt&&rf(Vt,B)||(Vt=B,B=Lb(Au,"onSelect"),0<B.length&&(S=new Pd("onSelect","select",null,S,A),m.push({event:S,listeners:B}),S.target=Kf)))}function hr(m,S){var A={};return A[m.toLowerCase()]=S.toLowerCase(),A["Webkit"+m]="webkit"+S,A["Moz"+m]="moz"+S,A}var jr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},ya={},Os={};nr&&(Os=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function la(m){if(ya[m])return ya[m];if(!jr[m])return m;var S=jr[m],A;for(A in S)if(S.hasOwnProperty(A)&&A in Os)return ya[m]=S[A];return m}var af=la("animationend"),zg=la("animationiteration"),zl=la("animationstart"),Ld=la("transitionrun"),Gm=la("transitionstart"),Ch=la("transitioncancel"),of=la("transitionend"),sf=new Map,Ta="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ta.push("scrollEnd");function Lc(m,S){sf.set(m,S),Kr(S,[m])}var Yi=new WeakMap;function sl(m,S){if(typeof m=="object"&&m!==null){var A=Yi.get(m);return A!==void 0?A:(S={value:m,source:S,stack:$o(S)},Yi.set(m,S),S)}return{value:m,source:S,stack:$o(S)}}var mc=[],Eh=0,Oh=0;function Th(){for(var m=Eh,S=Oh=Eh=0;S<m;){var A=mc[S];mc[S++]=null;var B=mc[S];mc[S++]=null;var J=mc[S];mc[S++]=null;var ue=mc[S];if(mc[S++]=null,B!==null&&J!==null){var Ie=B.pending;Ie===null?J.next=J:(J.next=Ie.next,Ie.next=J),B.pending=J}ue!==0&&lf(A,J,ue)}}function iu(m,S,A,B){mc[Eh++]=m,mc[Eh++]=S,mc[Eh++]=A,mc[Eh++]=B,Oh|=B,m.lanes|=B,m=m.alternate,m!==null&&(m.lanes|=B)}function Mh(m,S,A,B){return iu(m,S,A,B),Yf(m)}function Ah(m,S){return iu(m,null,null,S),Yf(m)}function lf(m,S,A){m.lanes|=A;var B=m.alternate;B!==null&&(B.lanes|=A);for(var J=!1,ue=m.return;ue!==null;)ue.childLanes|=A,B=ue.alternate,B!==null&&(B.childLanes|=A),ue.tag===22&&(m=ue.stateNode,m===null||m._visibility&1||(J=!0)),m=ue,ue=ue.return;return m.tag===3?(ue=m.stateNode,J&&S!==null&&(J=31-sn(A),m=ue.hiddenUpdates,B=m[J],B===null?m[J]=[S]:B.push(S),S.lane=A|536870912),ue):null}function Yf(m){if(50<Hu)throw Hu=0,pv=null,Error(r(185));for(var S=m.return;S!==null;)m=S,S=m.return;return m.tag===3?m.stateNode:null}var cf={};function wp(m,S,A,B){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(m,S,A,B){return new wp(m,S,A,B)}function Nd(m){return m=m.prototype,!(!m||!m.isReactComponent)}function ll(m,S){var A=m.alternate;return A===null?(A=Bl(m.tag,S,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=S,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&65011712,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,S=m.dependencies,A.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A.refCleanup=m.refCleanup,A}function Xf(m,S){m.flags&=65011714;var A=m.alternate;return A===null?(m.childLanes=0,m.lanes=S,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=A.childLanes,m.lanes=A.lanes,m.child=A.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=A.memoizedProps,m.memoizedState=A.memoizedState,m.updateQueue=A.updateQueue,m.type=A.type,S=A.dependencies,m.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),m}function Ih(m,S,A,B,J,ue){var Ie=0;if(B=m,typeof m=="function")Nd(m)&&(Ie=1);else if(typeof m=="string")Ie=Ke(m,A,Se.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case U:return m=Bl(31,A,S,J),m.elementType=U,m.lanes=ue,m;case v:return Ph(A.children,J,ue,S);case x:Ie=8,J|=24;break;case w:return m=Bl(12,A,S,J|2),m.elementType=w,m.lanes=ue,m;case L:return m=Bl(13,A,S,J),m.elementType=L,m.lanes=ue,m;case N:return m=Bl(19,A,S,J),m.elementType=N,m.lanes=ue,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case C:case M:Ie=10;break e;case E:Ie=9;break e;case R:Ie=11;break e;case D:Ie=14;break e;case H:Ie=16,B=null;break e}Ie=29,A=Error(r(130,m===null?"null":typeof m,"")),B=null}return S=Bl(Ie,A,S,J),S.elementType=m,S.type=B,S.lanes=ue,S}function Ph(m,S,A,B){return m=Bl(7,m,B,S),m.lanes=A,m}function Bg(m,S,A){return m=Bl(6,m,null,S),m.lanes=A,m}function Rh(m,S,A){return S=Bl(4,m.children!==null?m.children:[],m.key,S),S.lanes=A,S.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},S}var Iu=[],au=0,$h=null,Dd=0,Kl=[],bl=0,Ha=null,Ko=1,uf="";function io(m,S){Iu[au++]=Dd,Iu[au++]=$h,$h=m,Dd=S}function Zf(m,S,A){Kl[bl++]=Ko,Kl[bl++]=uf,Kl[bl++]=Ha,Ha=m;var B=Ko;m=uf;var J=32-sn(B)-1;B&=~(1<<J),A+=1;var ue=32-sn(S)+J;if(30<ue){var Ie=J-J%5;ue=(B&(1<<Ie)-1).toString(32),B>>=Ie,J-=Ie,Ko=1<<32-sn(S)+J|A<<J|B,uf=ue+m}else Ko=1<<ue|A<<J|B,uf=m}function vc(m){m.return!==null&&(io(m,1),Zf(m,1,0))}function kh(m){for(;m===$h;)$h=Iu[--au],Iu[au]=null,Dd=Iu[--au],Iu[au]=null;for(;m===Ha;)Ha=Kl[--bl],Kl[bl]=null,uf=Kl[--bl],Kl[bl]=null,Ko=Kl[--bl],Kl[bl]=null}var ys=null,xo=null,mi=!1,Yl=null,_l=!1,zd=Error(r(519));function Nc(m){var S=Error(r(418,""));throw Qf(sl(S,m)),zd}function Wm(m){var S=m.stateNode,A=m.type,B=m.memoizedProps;switch(S[xn]=m,S[Bt]=B,A){case"dialog":Fi("cancel",S),Fi("close",S);break;case"iframe":case"object":case"embed":Fi("load",S);break;case"video":case"audio":for(A=0;A<lm.length;A++)Fi(lm[A],S);break;case"source":Fi("error",S);break;case"img":case"image":case"link":Fi("error",S),Fi("load",S);break;case"details":Fi("toggle",S);break;case"input":Fi("invalid",S),ci(S,B.value,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name,!0),ko(S);break;case"select":Fi("invalid",S);break;case"textarea":Fi("invalid",S),Br(S,B.value,B.defaultValue,B.children),ko(S)}A=B.children,typeof A!="string"&&typeof A!="number"&&typeof A!="bigint"||S.textContent===""+A||B.suppressHydrationWarning===!0||x_(S.textContent,A)?(B.popover!=null&&(Fi("beforetoggle",S),Fi("toggle",S)),B.onScroll!=null&&Fi("scroll",S),B.onScrollEnd!=null&&Fi("scrollend",S),B.onClick!=null&&(S.onclick=Nb),S=!0):S=!1,S||Nc(m)}function qm(m){for(ys=m.return;ys;)switch(ys.tag){case 5:case 13:_l=!1;return;case 27:case 3:_l=!0;return;default:ys=ys.return}}function ff(m){if(m!==ys)return!1;if(!mi)return qm(m),mi=!0,!1;var S=m.tag,A;if((A=S!==3&&S!==27)&&((A=S===5)&&(A=m.type,A=!(A!=="form"&&A!=="button")||zb(m.type,m.memoizedProps)),A=!A),A&&xo&&Nc(m),qm(m),S===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));e:{for(m=m.nextSibling,S=0;m;){if(m.nodeType===8)if(A=m.data,A==="/$"){if(S===0){xo=Uu(m.nextSibling);break e}S--}else A!=="$"&&A!=="$!"&&A!=="$?"||S++;m=m.nextSibling}xo=null}}else S===27?(S=xo,Vu(m.type)?(m=oy,oy=null,xo=m):xo=S):xo=ys?Uu(m.stateNode.nextSibling):null;return!0}function Pu(){xo=ys=null,mi=!1}function T0(){var m=Yl;return m!==null&&(xc===null?xc=m:xc.push.apply(xc,m),Yl=null),m}function Qf(m){Yl===null?Yl=[m]:Yl.push(m)}var Bd=pe(null),Jf=null,Ve=null;function cl(m,S,A){_e(Bd,S._currentValue),S._currentValue=A}function xl(m){m._currentValue=Bd.current,ye(Bd)}function Ka(m,S,A){for(;m!==null;){var B=m.alternate;if((m.childLanes&S)!==S?(m.childLanes|=S,B!==null&&(B.childLanes|=S)):B!==null&&(B.childLanes&S)!==S&&(B.childLanes|=S),m===A)break;m=m.return}}function Oi(m,S,A,B){var J=m.child;for(J!==null&&(J.return=m);J!==null;){var ue=J.dependencies;if(ue!==null){var Ie=J.child;ue=ue.firstContext;e:for(;ue!==null;){var Ge=ue;ue=J;for(var Ct=0;Ct<S.length;Ct++)if(Ge.context===S[Ct]){ue.lanes|=A,Ge=ue.alternate,Ge!==null&&(Ge.lanes|=A),Ka(ue.return,A,m),B||(Ie=null);break e}ue=Ge.next}}else if(J.tag===18){if(Ie=J.return,Ie===null)throw Error(r(341));Ie.lanes|=A,ue=Ie.alternate,ue!==null&&(ue.lanes|=A),Ka(Ie,A,m),Ie=null}else Ie=J.child;if(Ie!==null)Ie.return=J;else for(Ie=J;Ie!==null;){if(Ie===m){Ie=null;break}if(J=Ie.sibling,J!==null){J.return=Ie.return,Ie=J;break}Ie=Ie.return}J=Ie}}function jl(m,S,A,B){m=null;for(var J=S,ue=!1;J!==null;){if(!ue){if((J.flags&524288)!==0)ue=!0;else if((J.flags&262144)!==0)break}if(J.tag===10){var Ie=J.alternate;if(Ie===null)throw Error(r(387));if(Ie=Ie.memoizedProps,Ie!==null){var Ge=J.type;ql(J.pendingProps.value,Ie.value)||(m!==null?m.push(Ge):m=[Ge])}}else if(J===Fe.current){if(Ie=J.alternate,Ie===null)throw Error(r(387));Ie.memoizedState.memoizedState!==J.memoizedState.memoizedState&&(m!==null?m.push(dr):m=[dr])}J=J.return}m!==null&&Oi(S,m,A,B),S.flags|=262144}function Dc(m){for(m=m.firstContext;m!==null;){if(!ql(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function jd(m){Jf=m,Ve=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function ca(m){return Km(Jf,m)}function df(m,S){return Jf===null&&jd(m),Km(m,S)}function Km(m,S){var A=S._currentValue;if(S={context:S,memoizedValue:A,next:null},Ve===null){if(m===null)throw Error(r(308));Ve=S,m.dependencies={lanes:0,firstContext:S},m.flags|=524288}else Ve=Ve.next=S;return A}var G1=typeof AbortController<"u"?AbortController:function(){var m=[],S=this.signal={aborted:!1,addEventListener:function(A,B){m.push(B)}};this.abort=function(){S.aborted=!0,m.forEach(function(A){return A()})}},M0=e.unstable_scheduleCallback,W1=e.unstable_NormalPriority,Ma={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new G1,data:new Map,refCount:0}}function wl(m){m.refCount--,m.refCount===0&&M0(W1,function(){m.controller.abort()})}var lr=null,Ym=0,Ru=0,Xl=null;function Nh(m,S){if(lr===null){var A=lr=[];Ym=0,Ru=ty(),Xl={status:"pending",value:void 0,then:function(B){A.push(B)}}}return Ym++,S.then(ed,ed),S}function ed(){if(--Ym===0&&lr!==null){Xl!==null&&(Xl.status="fulfilled");var m=lr;lr=null,Ru=0,Xl=null;for(var S=0;S<m.length;S++)(0,m[S])()}}function A0(m,S){var A=[],B={status:"pending",value:null,reason:null,then:function(J){A.push(J)}};return m.then(function(){B.status="fulfilled",B.value=S;for(var J=0;J<A.length;J++)(0,A[J])(S)},function(J){for(B.status="rejected",B.reason=J,J=0;J<A.length;J++)(0,A[J])(void 0)}),B}var Li=Z.S;Z.S=function(m,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&Nh(m,S),Li!==null&&Li(m,S)};var hf=pe(null);function pf(){var m=hf.current;return m!==null?m:zo.pooledCache}function Fd(m,S){S===null?_e(hf,hf.current):_e(hf,S.pool)}function I0(){var m=pf();return m===null?null:{parent:Ma._currentValue,pool:m}}var Zl=Error(r(460)),Xm=Error(r(474)),Sp=Error(r(542)),jg={then:function(){}};function P0(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Cp(){}function R0(m,S,A){switch(A=m[A],A===void 0?m.push(S):A!==S&&(S.then(Cp,Cp),S=A),S.status){case"fulfilled":return S.value;case"rejected":throw m=S.reason,ho(m),m;default:if(typeof S.status=="string")S.then(Cp,Cp);else{if(m=zo,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=S,m.status="pending",m.then(function(B){if(S.status==="pending"){var J=S;J.status="fulfilled",J.value=B}},function(B){if(S.status==="pending"){var J=S;J.status="rejected",J.reason=B}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw m=S.reason,ho(m),m}throw Ep=S,Zl}}var Ep=null;function gf(){if(Ep===null)throw Error(r(459));var m=Ep;return Ep=null,m}function ho(m){if(m===Zl||m===Sp)throw Error(r(483))}var yc=!1;function mf(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(m,S){m=m.updateQueue,S.updateQueue===m&&(S.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function td(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function ou(m,S,A){var B=m.updateQueue;if(B===null)return null;if(B=B.shared,(so&2)!==0){var J=B.pending;return J===null?S.next=S:(S.next=J.next,J.next=S),B.pending=S,S=Yf(m),lf(m,null,A),S}return iu(m,B,S,A),Yf(m)}function Fg(m,S,A){if(S=S.updateQueue,S!==null&&(S=S.shared,(A&4194048)!==0)){var B=S.lanes;B&=m.pendingLanes,A|=B,S.lanes=A,$t(m,A)}}function Ds(m,S){var A=m.updateQueue,B=m.alternate;if(B!==null&&(B=B.updateQueue,A===B)){var J=null,ue=null;if(A=A.firstBaseUpdate,A!==null){do{var Ie={lane:A.lane,tag:A.tag,payload:A.payload,callback:null,next:null};ue===null?J=ue=Ie:ue=ue.next=Ie,A=A.next}while(A!==null);ue===null?J=ue=S:ue=ue.next=S}else J=ue=S;A={baseState:B.baseState,firstBaseUpdate:J,lastBaseUpdate:ue,shared:B.shared,callbacks:B.callbacks},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=S:m.next=S,A.lastBaseUpdate=S}var nd=!1;function vr(){if(nd){var m=Xl;if(m!==null)throw m}}function wr(m,S,A,B){nd=!1;var J=m.updateQueue;yc=!1;var ue=J.firstBaseUpdate,Ie=J.lastBaseUpdate,Ge=J.shared.pending;if(Ge!==null){J.shared.pending=null;var Ct=Ge,an=Ct.next;Ct.next=null,Ie===null?ue=an:Ie.next=an,Ie=Ct;var An=m.alternate;An!==null&&(An=An.updateQueue,Ge=An.lastBaseUpdate,Ge!==Ie&&(Ge===null?An.firstBaseUpdate=an:Ge.next=an,An.lastBaseUpdate=Ct))}if(ue!==null){var Hn=J.baseState;Ie=0,An=an=Ct=null,Ge=ue;do{var fn=Ge.lane&-536870913,on=fn!==Ge.lane;if(on?(fa&fn)===fn:(B&fn)===fn){fn!==0&&fn===Ru&&(nd=!0),An!==null&&(An=An.next={lane:0,tag:Ge.tag,payload:Ge.payload,callback:null,next:null});e:{var ni=m,Qr=Ge;fn=S;var Ri=A;switch(Qr.tag){case 1:if(ni=Qr.payload,typeof ni=="function"){Hn=ni.call(Ri,Hn,fn);break e}Hn=ni;break e;case 3:ni.flags=ni.flags&-65537|128;case 0:if(ni=Qr.payload,fn=typeof ni=="function"?ni.call(Ri,Hn,fn):ni,fn==null)break e;Hn=u({},Hn,fn);break e;case 2:yc=!0}}fn=Ge.callback,fn!==null&&(m.flags|=64,on&&(m.flags|=8192),on=J.callbacks,on===null?J.callbacks=[fn]:on.push(fn))}else on={lane:fn,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null},An===null?(an=An=on,Ct=Hn):An=An.next=on,Ie|=fn;if(Ge=Ge.next,Ge===null){if(Ge=J.shared.pending,Ge===null)break;on=Ge,Ge=on.next,on.next=null,J.lastBaseUpdate=on,J.shared.pending=null}}while(!0);An===null&&(Ct=Hn),J.baseState=Ct,J.firstBaseUpdate=an,J.lastBaseUpdate=An,ue===null&&(J.shared.lanes=0),Np|=Ie,m.lanes=Ie,m.memoizedState=Hn}}function Hg(m,S){if(typeof m!="function")throw Error(r(191,m));m.call(S)}function Vg(m,S){var A=m.callbacks;if(A!==null)for(m.callbacks=null,m=0;m<A.length;m++)Hg(A[m],S)}var rd=pe(null),Ts=pe(0);function yf(m,S){m=Zd,_e(Ts,m),_e(rd,S),Zd=m|S.baseLanes}function ul(){_e(Ts,Zd),_e(rd,rd.current)}function $0(){Zd=Ts.current,ye(rd),ye(Ts)}var Ql=0,Nr=null,Xr=null,Xi=null,bf=!1,Fl=!1,Xs=!1,_f=0,$u=0,fl=null,Zm=0;function ji(){throw Error(r(321))}function ku(m,S){if(S===null)return!1;for(var A=0;A<S.length&&A<m.length;A++)if(!ql(m[A],S[A]))return!1;return!0}function Ug(m,S,A,B,J,ue){return Ql=ue,Nr=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Z.H=m===null||m.memoizedState===null?ob:Jm,Xs=!1,ue=A(B,J),Xs=!1,Fl&&(ue=Hd(S,A,B,J)),Gg(m),ue}function Gg(m){Z.H=Du;var S=Xr!==null&&Xr.next!==null;if(Ql=0,Xi=Xr=Nr=null,bf=!1,$u=0,fl=null,S)throw Error(r(300));m===null||Sl||(m=m.dependencies,m!==null&&Dc(m)&&(Sl=!0))}function Hd(m,S,A,B){Nr=m;var J=0;do{if(Fl&&(fl=null),$u=0,Fl=!1,25<=J)throw Error(r(301));if(J+=1,Xi=Xr=null,m.updateQueue!=null){var ue=m.updateQueue;ue.lastEffect=null,ue.events=null,ue.stores=null,ue.memoCache!=null&&(ue.memoCache.index=0)}Z.H=ev,ue=S(A,B)}while(Fl);return ue}function Wg(){var m=Z.H,S=m.useState()[0];return S=typeof S.then=="function"?T(S):S,m=m.useState()[0],(Xr!==null?Xr.memoizedState:null)!==m&&(Nr.flags|=1024),S}function qg(){var m=_f!==0;return _f=0,m}function Lu(m,S,A){S.updateQueue=m.updateQueue,S.flags&=-2053,m.lanes&=~A}function Op(m){if(bf){for(m=m.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}bf=!1}Ql=0,Xi=Xr=Nr=null,Fl=!1,$u=_f=0,fl=null}function z(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?Nr.memoizedState=Xi=m:Xi=Xi.next=m,Xi}function f(){if(Xr===null){var m=Nr.alternate;m=m!==null?m.memoizedState:null}else m=Xr.next;var S=Xi===null?Nr.memoizedState:Xi.next;if(S!==null)Xi=S,Xr=m;else{if(m===null)throw Nr.alternate===null?Error(r(467)):Error(r(310));Xr=m,m={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},Xi===null?Nr.memoizedState=Xi=m:Xi=Xi.next=m}return Xi}function y(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function T(m){var S=$u;return $u+=1,fl===null&&(fl=[]),m=R0(fl,m,S),S=Nr,(Xi===null?S.memoizedState:Xi.next)===null&&(S=S.alternate,Z.H=S===null||S.memoizedState===null?ob:Jm),m}function $(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return T(m);if(m.$$typeof===M)return ca(m)}throw Error(r(438,String(m)))}function F(m){var S=null,A=Nr.updateQueue;if(A!==null&&(S=A.memoCache),S==null){var B=Nr.alternate;B!==null&&(B=B.updateQueue,B!==null&&(B=B.memoCache,B!=null&&(S={data:B.data.map(function(J){return J.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),A===null&&(A=y(),Nr.updateQueue=A),A.memoCache=S,A=S.data[S.index],A===void 0)for(A=S.data[S.index]=Array(m),B=0;B<m;B++)A[B]=q;return S.index++,A}function W(m,S){return typeof S=="function"?S(m):S}function ne(m){var S=f();return se(S,Xr,m)}function se(m,S,A){var B=m.queue;if(B===null)throw Error(r(311));B.lastRenderedReducer=A;var J=m.baseQueue,ue=B.pending;if(ue!==null){if(J!==null){var Ie=J.next;J.next=ue.next,ue.next=Ie}S.baseQueue=J=ue,B.pending=null}if(ue=m.baseState,J===null)m.memoizedState=ue;else{S=J.next;var Ge=Ie=null,Ct=null,an=S,An=!1;do{var Hn=an.lane&-536870913;if(Hn!==an.lane?(fa&Hn)===Hn:(Ql&Hn)===Hn){var fn=an.revertLane;if(fn===0)Ct!==null&&(Ct=Ct.next={lane:0,revertLane:0,action:an.action,hasEagerState:an.hasEagerState,eagerState:an.eagerState,next:null}),Hn===Ru&&(An=!0);else if((Ql&fn)===fn){an=an.next,fn===Ru&&(An=!0);continue}else Hn={lane:0,revertLane:an.revertLane,action:an.action,hasEagerState:an.hasEagerState,eagerState:an.eagerState,next:null},Ct===null?(Ge=Ct=Hn,Ie=ue):Ct=Ct.next=Hn,Nr.lanes|=fn,Np|=fn;Hn=an.action,Xs&&A(ue,Hn),ue=an.hasEagerState?an.eagerState:A(ue,Hn)}else fn={lane:Hn,revertLane:an.revertLane,action:an.action,hasEagerState:an.hasEagerState,eagerState:an.eagerState,next:null},Ct===null?(Ge=Ct=fn,Ie=ue):Ct=Ct.next=fn,Nr.lanes|=Hn,Np|=Hn;an=an.next}while(an!==null&&an!==S);if(Ct===null?Ie=ue:Ct.next=Ge,!ql(ue,m.memoizedState)&&(Sl=!0,An&&(A=Xl,A!==null)))throw A;m.memoizedState=ue,m.baseState=Ie,m.baseQueue=Ct,B.lastRenderedState=ue}return J===null&&(B.lanes=0),[m.memoizedState,B.dispatch]}function de(m){var S=f(),A=S.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=m;var B=A.dispatch,J=A.pending,ue=S.memoizedState;if(J!==null){A.pending=null;var Ie=J=J.next;do ue=m(ue,Ie.action),Ie=Ie.next;while(Ie!==J);ql(ue,S.memoizedState)||(Sl=!0),S.memoizedState=ue,S.baseQueue===null&&(S.baseState=ue),A.lastRenderedState=ue}return[ue,B]}function ve(m,S,A){var B=Nr,J=f(),ue=mi;if(ue){if(A===void 0)throw Error(r(407));A=A()}else A=S();var Ie=!ql((Xr||J).memoizedState,A);Ie&&(J.memoizedState=A,Sl=!0),J=J.queue;var Ge=ke.bind(null,B,J,m);if(Zi(2048,8,Ge,[m]),J.getSnapshot!==S||Ie||Xi!==null&&Xi.memoizedState.tag&1){if(B.flags|=2048,Zn(9,Nn(),Ce.bind(null,B,J,A,S),null),zo===null)throw Error(r(349));ue||(Ql&124)!==0||Ee(B,S,A)}return A}function Ee(m,S,A){m.flags|=16384,m={getSnapshot:S,value:A},S=Nr.updateQueue,S===null?(S=y(),Nr.updateQueue=S,S.stores=[m]):(A=S.stores,A===null?S.stores=[m]:A.push(m))}function Ce(m,S,A,B){S.value=A,S.getSnapshot=B,Be(S)&&tt(m)}function ke(m,S,A){return A(function(){Be(S)&&tt(m)})}function Be(m){var S=m.getSnapshot;m=m.value;try{var A=S();return!ql(m,A)}catch{return!0}}function tt(m){var S=Ah(m,2);S!==null&&wc(S,m,2)}function Je(m){var S=z();if(typeof m=="function"){var A=m;if(m=A(),Xs){kn(!0);try{A()}finally{kn(!1)}}}return S.memoizedState=S.baseState=m,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W,lastRenderedState:m},S}function nt(m,S,A,B){return m.baseState=A,se(m,Xr,typeof B=="function"?B:W)}function pt(m,S,A,B,J){if(za(m))throw Error(r(485));if(m=S.action,m!==null){var ue={payload:J,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ie){ue.listeners.push(Ie)}};Z.T!==null?A(!0):ue.isTransition=!1,B(ue),A=S.pending,A===null?(ue.next=S.pending=ue,bt(S,ue)):(ue.next=A.next,S.pending=A.next=ue)}}function bt(m,S){var A=S.action,B=S.payload,J=m.state;if(S.isTransition){var ue=Z.T,Ie={};Z.T=Ie;try{var Ge=A(J,B),Ct=Z.S;Ct!==null&&Ct(Ie,Ge),wt(m,S,Ge)}catch(an){Pt(m,S,an)}finally{Z.T=ue}}else try{ue=A(J,B),wt(m,S,ue)}catch(an){Pt(m,S,an)}}function wt(m,S,A){A!==null&&typeof A=="object"&&typeof A.then=="function"?A.then(function(B){Et(m,S,B)},function(B){return Pt(m,S,B)}):Et(m,S,A)}function Et(m,S,A){S.status="fulfilled",S.value=A,Mt(S),m.state=A,S=m.pending,S!==null&&(A=S.next,A===S?m.pending=null:(A=A.next,S.next=A,bt(m,A)))}function Pt(m,S,A){var B=m.pending;if(m.pending=null,B!==null){B=B.next;do S.status="rejected",S.reason=A,Mt(S),S=S.next;while(S!==B)}m.action=null}function Mt(m){m=m.listeners;for(var S=0;S<m.length;S++)(0,m[S])()}function en(m,S){return S}function Xt(m,S){if(mi){var A=zo.formState;if(A!==null){e:{var B=Nr;if(mi){if(xo){t:{for(var J=xo,ue=_l;J.nodeType!==8;){if(!ue){J=null;break t}if(J=Uu(J.nextSibling),J===null){J=null;break t}}ue=J.data,J=ue==="F!"||ue==="F"?J:null}if(J){xo=Uu(J.nextSibling),B=J.data==="F!";break e}}Nc(B)}B=!1}B&&(S=A[0])}}return A=z(),A.memoizedState=A.baseState=S,B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:S},A.queue=B,A=No.bind(null,Nr,B),B.dispatch=A,B=Je(!1),ue=bs.bind(null,Nr,!1,B.queue),B=z(),J={state:S,dispatch:null,action:m,pending:null},B.queue=J,A=pt.bind(null,Nr,J,ue,A),J.dispatch=A,B.memoizedState=m,[S,A,!1]}function bn(m){var S=f();return wn(S,Xr,m)}function wn(m,S,A){if(S=se(m,S,en)[0],m=ne(W)[0],typeof S=="object"&&S!==null&&typeof S.then=="function")try{var B=T(S)}catch(Ie){throw Ie===Zl?Sp:Ie}else B=S;S=f();var J=S.queue,ue=J.dispatch;return A!==S.memoizedState&&(Nr.flags|=2048,Zn(9,Nn(),vn.bind(null,J,A),null)),[B,ue,m]}function vn(m,S){m.action=S}function Mn(m){var S=f(),A=Xr;if(A!==null)return wn(S,A,m);f(),S=S.memoizedState,A=f();var B=A.queue.dispatch;return A.memoizedState=m,[S,B,!1]}function Zn(m,S,A,B){return m={tag:m,create:A,deps:B,inst:S,next:null},S=Nr.updateQueue,S===null&&(S=y(),Nr.updateQueue=S),A=S.lastEffect,A===null?S.lastEffect=m.next=m:(B=A.next,A.next=m,m.next=B,S.lastEffect=m),m}function Nn(){return{destroy:void 0,resource:void 0}}function yr(){return f().memoizedState}function ti(m,S,A,B){var J=z();B=B===void 0?null:B,Nr.flags|=m,J.memoizedState=Zn(1|S,Nn(),A,B)}function Zi(m,S,A,B){var J=f();B=B===void 0?null:B;var ue=J.memoizedState.inst;Xr!==null&&B!==null&&ku(B,Xr.memoizedState.deps)?J.memoizedState=Zn(S,ue,A,B):(Nr.flags|=m,J.memoizedState=Zn(1|S,ue,A,B))}function vi(m,S){ti(8390656,8,m,S)}function Ni(m,S){Zi(2048,8,m,S)}function ao(m,S){return Zi(4,2,m,S)}function Va(m,S){return Zi(4,4,m,S)}function wa(m,S){if(typeof S=="function"){m=m();var A=S(m);return function(){typeof A=="function"?A():S(null)}}if(S!=null)return m=m(),S.current=m,function(){S.current=null}}function Da(m,S,A){A=A!=null?A.concat([m]):null,Zi(4,4,wa.bind(null,S,m),A)}function Yo(){}function Aa(m,S){var A=f();S=S===void 0?null:S;var B=A.memoizedState;return S!==null&&ku(S,B[1])?B[0]:(A.memoizedState=[m,S],m)}function wo(m,S){var A=f();S=S===void 0?null:S;var B=A.memoizedState;if(S!==null&&ku(S,B[1]))return B[0];if(B=m(),Xs){kn(!0);try{m()}finally{kn(!1)}}return A.memoizedState=[B,S],B}function dl(m,S,A){return A===void 0||(Ql&1073741824)!==0?m.memoizedState=S:(m.memoizedState=A,m=im(),Nr.lanes|=m,Np|=m,A)}function Nu(m,S,A,B){return ql(A,S)?A:rd.current!==null?(m=dl(m,A,B),ql(m,S)||(Sl=!0),m):(Ql&42)===0?(Sl=!0,m.memoizedState=A):(m=im(),Nr.lanes|=m,Np|=m,S)}function bc(m,S,A,B,J){var ue=re.p;re.p=ue!==0&&8>ue?ue:8;var Ie=Z.T,Ge={};Z.T=Ge,bs(m,!1,S,A);try{var Ct=J(),an=Z.S;if(an!==null&&an(Ge,Ct),Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var An=A0(Ct,B);Ya(m,S,An,hl(m))}else Ya(m,S,B,hl(m))}catch(Hn){Ya(m,S,{then:function(){},status:"rejected",reason:Hn},hl())}finally{re.p=ue,Z.T=Ie}}function id(){}function su(m,S,A,B){if(m.tag!==5)throw Error(r(476));var J=ad(m).queue;bc(m,J,S,oe,A===null?id:function(){return zc(m),A(B)})}function ad(m){var S=m.memoizedState;if(S!==null)return S;S={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:W,lastRenderedState:oe},next:null};var A={};return S.next={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:W,lastRenderedState:A},next:null},m.memoizedState=S,m=m.alternate,m!==null&&(m.memoizedState=S),S}function zc(m){var S=ad(m).next.queue;Ya(m,S,{},hl())}function Bc(){return ca(dr)}function Ms(){return f().memoizedState}function xf(){return f().memoizedState}function _c(m){for(var S=m.return;S!==null;){switch(S.tag){case 24:case 3:var A=hl();m=td(A);var B=ou(S,m,A);B!==null&&(wc(B,S,A),Fg(B,S,A)),S={cache:Lh()},m.payload=S;return}S=S.return}}function Vd(m,S,A){var B=hl();A={lane:B,revertLane:0,action:A,hasEagerState:!1,eagerState:null,next:null},za(m)?od(S,A):(A=Mh(m,S,A,B),A!==null&&(wc(A,m,B),Qm(A,S,B)))}function No(m,S,A){var B=hl();Ya(m,S,A,B)}function Ya(m,S,A,B){var J={lane:B,revertLane:0,action:A,hasEagerState:!1,eagerState:null,next:null};if(za(m))od(S,J);else{var ue=m.alternate;if(m.lanes===0&&(ue===null||ue.lanes===0)&&(ue=S.lastRenderedReducer,ue!==null))try{var Ie=S.lastRenderedState,Ge=ue(Ie,A);if(J.hasEagerState=!0,J.eagerState=Ge,ql(Ge,Ie))return iu(m,S,J,0),zo===null&&Th(),!1}catch{}finally{}if(A=Mh(m,S,J,B),A!==null)return wc(A,m,B),Qm(A,S,B),!0}return!1}function bs(m,S,A,B){if(B={lane:2,revertLane:ty(),action:B,hasEagerState:!1,eagerState:null,next:null},za(m)){if(S)throw Error(r(479))}else S=Mh(m,A,B,2),S!==null&&wc(S,m,2)}function za(m){var S=m.alternate;return m===Nr||S!==null&&S===Nr}function od(m,S){Fl=bf=!0;var A=m.pending;A===null?S.next=S:(S.next=A.next,A.next=S),m.pending=S}function Qm(m,S,A){if((A&4194048)!==0){var B=S.lanes;B&=m.pendingLanes,A|=B,S.lanes=A,$t(m,A)}}var Du={readContext:ca,use:$,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useLayoutEffect:ji,useInsertionEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useSyncExternalStore:ji,useId:ji,useHostTransitionStatus:ji,useFormState:ji,useActionState:ji,useOptimistic:ji,useMemoCache:ji,useCacheRefresh:ji},ob={readContext:ca,use:$,useCallback:function(m,S){return z().memoizedState=[m,S===void 0?null:S],m},useContext:ca,useEffect:vi,useImperativeHandle:function(m,S,A){A=A!=null?A.concat([m]):null,ti(4194308,4,wa.bind(null,S,m),A)},useLayoutEffect:function(m,S){return ti(4194308,4,m,S)},useInsertionEffect:function(m,S){ti(4,2,m,S)},useMemo:function(m,S){var A=z();S=S===void 0?null:S;var B=m();if(Xs){kn(!0);try{m()}finally{kn(!1)}}return A.memoizedState=[B,S],B},useReducer:function(m,S,A){var B=z();if(A!==void 0){var J=A(S);if(Xs){kn(!0);try{A(S)}finally{kn(!1)}}}else J=S;return B.memoizedState=B.baseState=J,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:J},B.queue=m,m=m.dispatch=Vd.bind(null,Nr,m),[B.memoizedState,m]},useRef:function(m){var S=z();return m={current:m},S.memoizedState=m},useState:function(m){m=Je(m);var S=m.queue,A=No.bind(null,Nr,S);return S.dispatch=A,[m.memoizedState,A]},useDebugValue:Yo,useDeferredValue:function(m,S){var A=z();return dl(A,m,S)},useTransition:function(){var m=Je(!1);return m=bc.bind(null,Nr,m.queue,!0,!1),z().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,S,A){var B=Nr,J=z();if(mi){if(A===void 0)throw Error(r(407));A=A()}else{if(A=S(),zo===null)throw Error(r(349));(fa&124)!==0||Ee(B,S,A)}J.memoizedState=A;var ue={value:A,getSnapshot:S};return J.queue=ue,vi(ke.bind(null,B,ue,m),[m]),B.flags|=2048,Zn(9,Nn(),Ce.bind(null,B,ue,A,S),null),A},useId:function(){var m=z(),S=zo.identifierPrefix;if(mi){var A=uf,B=Ko;A=(B&~(1<<32-sn(B)-1)).toString(32)+A,S=""+S+"R"+A,A=_f++,0<A&&(S+="H"+A.toString(32)),S+=""}else A=Zm++,S=""+S+"r"+A.toString(32)+"";return m.memoizedState=S},useHostTransitionStatus:Bc,useFormState:Xt,useActionState:Xt,useOptimistic:function(m){var S=z();S.memoizedState=S.baseState=m;var A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=A,S=bs.bind(null,Nr,!0,A),A.dispatch=S,[m,S]},useMemoCache:F,useCacheRefresh:function(){return z().memoizedState=_c.bind(null,Nr)}},Jm={readContext:ca,use:$,useCallback:Aa,useContext:ca,useEffect:Ni,useImperativeHandle:Da,useInsertionEffect:ao,useLayoutEffect:Va,useMemo:wo,useReducer:ne,useRef:yr,useState:function(){return ne(W)},useDebugValue:Yo,useDeferredValue:function(m,S){var A=f();return Nu(A,Xr.memoizedState,m,S)},useTransition:function(){var m=ne(W)[0],S=f().memoizedState;return[typeof m=="boolean"?m:T(m),S]},useSyncExternalStore:ve,useId:Ms,useHostTransitionStatus:Bc,useFormState:bn,useActionState:bn,useOptimistic:function(m,S){var A=f();return nt(A,Xr,m,S)},useMemoCache:F,useCacheRefresh:xf},ev={readContext:ca,use:$,useCallback:Aa,useContext:ca,useEffect:Ni,useImperativeHandle:Da,useInsertionEffect:ao,useLayoutEffect:Va,useMemo:wo,useReducer:de,useRef:yr,useState:function(){return de(W)},useDebugValue:Yo,useDeferredValue:function(m,S){var A=f();return Xr===null?dl(A,m,S):Nu(A,Xr.memoizedState,m,S)},useTransition:function(){var m=de(W)[0],S=f().memoizedState;return[typeof m=="boolean"?m:T(m),S]},useSyncExternalStore:ve,useId:Ms,useHostTransitionStatus:Bc,useFormState:Mn,useActionState:Mn,useOptimistic:function(m,S){var A=f();return Xr!==null?nt(A,Xr,m,S):(A.baseState=m,[m,A.queue.dispatch])},useMemoCache:F,useCacheRefresh:xf},So=null,As=0;function zu(m){var S=As;return As+=1,So===null&&(So=[]),R0(So,m,S)}function Dh(m,S){S=S.props.ref,m.ref=S!==void 0?S:null}function sd(m,S){throw S.$$typeof===d?Error(r(525)):(m=Object.prototype.toString.call(S),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":m)))}function wf(m){var S=m._init;return S(m._payload)}function Tp(m){function S(Ut,kt){if(m){var qt=Ut.deletions;qt===null?(Ut.deletions=[kt],Ut.flags|=16):qt.push(kt)}}function A(Ut,kt){if(!m)return null;for(;kt!==null;)S(Ut,kt),kt=kt.sibling;return null}function B(Ut){for(var kt=new Map;Ut!==null;)Ut.key!==null?kt.set(Ut.key,Ut):kt.set(Ut.index,Ut),Ut=Ut.sibling;return kt}function J(Ut,kt){return Ut=ll(Ut,kt),Ut.index=0,Ut.sibling=null,Ut}function ue(Ut,kt,qt){return Ut.index=qt,m?(qt=Ut.alternate,qt!==null?(qt=qt.index,qt<kt?(Ut.flags|=67108866,kt):qt):(Ut.flags|=67108866,kt)):(Ut.flags|=1048576,kt)}function Ie(Ut){return m&&Ut.alternate===null&&(Ut.flags|=67108866),Ut}function Ge(Ut,kt,qt,zn){return kt===null||kt.tag!==6?(kt=Bg(qt,Ut.mode,zn),kt.return=Ut,kt):(kt=J(kt,qt),kt.return=Ut,kt)}function Ct(Ut,kt,qt,zn){var Sr=qt.type;return Sr===v?An(Ut,kt,qt.props.children,zn,qt.key):kt!==null&&(kt.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===H&&wf(Sr)===kt.type)?(kt=J(kt,qt.props),Dh(kt,qt),kt.return=Ut,kt):(kt=Ih(qt.type,qt.key,qt.props,null,Ut.mode,zn),Dh(kt,qt),kt.return=Ut,kt)}function an(Ut,kt,qt,zn){return kt===null||kt.tag!==4||kt.stateNode.containerInfo!==qt.containerInfo||kt.stateNode.implementation!==qt.implementation?(kt=Rh(qt,Ut.mode,zn),kt.return=Ut,kt):(kt=J(kt,qt.children||[]),kt.return=Ut,kt)}function An(Ut,kt,qt,zn,Sr){return kt===null||kt.tag!==7?(kt=Ph(qt,Ut.mode,zn,Sr),kt.return=Ut,kt):(kt=J(kt,qt),kt.return=Ut,kt)}function Hn(Ut,kt,qt){if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return kt=Bg(""+kt,Ut.mode,qt),kt.return=Ut,kt;if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case h:return qt=Ih(kt.type,kt.key,kt.props,null,Ut.mode,qt),Dh(qt,kt),qt.return=Ut,qt;case g:return kt=Rh(kt,Ut.mode,qt),kt.return=Ut,kt;case H:var zn=kt._init;return kt=zn(kt._payload),Hn(Ut,kt,qt)}if(ee(kt)||Q(kt))return kt=Ph(kt,Ut.mode,qt,null),kt.return=Ut,kt;if(typeof kt.then=="function")return Hn(Ut,zu(kt),qt);if(kt.$$typeof===M)return Hn(Ut,df(Ut,kt),qt);sd(Ut,kt)}return null}function fn(Ut,kt,qt,zn){var Sr=kt!==null?kt.key:null;if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return Sr!==null?null:Ge(Ut,kt,""+qt,zn);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case h:return qt.key===Sr?Ct(Ut,kt,qt,zn):null;case g:return qt.key===Sr?an(Ut,kt,qt,zn):null;case H:return Sr=qt._init,qt=Sr(qt._payload),fn(Ut,kt,qt,zn)}if(ee(qt)||Q(qt))return Sr!==null?null:An(Ut,kt,qt,zn,null);if(typeof qt.then=="function")return fn(Ut,kt,zu(qt),zn);if(qt.$$typeof===M)return fn(Ut,kt,df(Ut,qt),zn);sd(Ut,qt)}return null}function on(Ut,kt,qt,zn,Sr){if(typeof zn=="string"&&zn!==""||typeof zn=="number"||typeof zn=="bigint")return Ut=Ut.get(qt)||null,Ge(kt,Ut,""+zn,Sr);if(typeof zn=="object"&&zn!==null){switch(zn.$$typeof){case h:return Ut=Ut.get(zn.key===null?qt:zn.key)||null,Ct(kt,Ut,zn,Sr);case g:return Ut=Ut.get(zn.key===null?qt:zn.key)||null,an(kt,Ut,zn,Sr);case H:var ba=zn._init;return zn=ba(zn._payload),on(Ut,kt,qt,zn,Sr)}if(ee(zn)||Q(zn))return Ut=Ut.get(qt)||null,An(kt,Ut,zn,Sr,null);if(typeof zn.then=="function")return on(Ut,kt,qt,zu(zn),Sr);if(zn.$$typeof===M)return on(Ut,kt,qt,df(kt,zn),Sr);sd(kt,zn)}return null}function ni(Ut,kt,qt,zn){for(var Sr=null,ba=null,Gr=kt,si=kt=0,Ec=null;Gr!==null&&si<qt.length;si++){Gr.index>si?(Ec=Gr,Gr=null):Ec=Gr.sibling;var Qa=fn(Ut,Gr,qt[si],zn);if(Qa===null){Gr===null&&(Gr=Ec);break}m&&Gr&&Qa.alternate===null&&S(Ut,Gr),kt=ue(Qa,kt,si),ba===null?Sr=Qa:ba.sibling=Qa,ba=Qa,Gr=Ec}if(si===qt.length)return A(Ut,Gr),mi&&io(Ut,si),Sr;if(Gr===null){for(;si<qt.length;si++)Gr=Hn(Ut,qt[si],zn),Gr!==null&&(kt=ue(Gr,kt,si),ba===null?Sr=Gr:ba.sibling=Gr,ba=Gr);return mi&&io(Ut,si),Sr}for(Gr=B(Gr);si<qt.length;si++)Ec=on(Gr,Ut,si,qt[si],zn),Ec!==null&&(m&&Ec.alternate!==null&&Gr.delete(Ec.key===null?si:Ec.key),kt=ue(Ec,kt,si),ba===null?Sr=Ec:ba.sibling=Ec,ba=Ec);return m&&Gr.forEach(function(xv){return S(Ut,xv)}),mi&&io(Ut,si),Sr}function Qr(Ut,kt,qt,zn){if(qt==null)throw Error(r(151));for(var Sr=null,ba=null,Gr=kt,si=kt=0,Ec=null,Qa=qt.next();Gr!==null&&!Qa.done;si++,Qa=qt.next()){Gr.index>si?(Ec=Gr,Gr=null):Ec=Gr.sibling;var xv=fn(Ut,Gr,Qa.value,zn);if(xv===null){Gr===null&&(Gr=Ec);break}m&&Gr&&xv.alternate===null&&S(Ut,Gr),kt=ue(xv,kt,si),ba===null?Sr=xv:ba.sibling=xv,ba=xv,Gr=Ec}if(Qa.done)return A(Ut,Gr),mi&&io(Ut,si),Sr;if(Gr===null){for(;!Qa.done;si++,Qa=qt.next())Qa=Hn(Ut,Qa.value,zn),Qa!==null&&(kt=ue(Qa,kt,si),ba===null?Sr=Qa:ba.sibling=Qa,ba=Qa);return mi&&io(Ut,si),Sr}for(Gr=B(Gr);!Qa.done;si++,Qa=qt.next())Qa=on(Gr,Ut,si,Qa.value,zn),Qa!==null&&(m&&Qa.alternate!==null&&Gr.delete(Qa.key===null?si:Qa.key),kt=ue(Qa,kt,si),ba===null?Sr=Qa:ba.sibling=Qa,ba=Qa);return m&&Gr.forEach(function(J$){return S(Ut,J$)}),mi&&io(Ut,si),Sr}function Ri(Ut,kt,qt,zn){if(typeof qt=="object"&&qt!==null&&qt.type===v&&qt.key===null&&(qt=qt.props.children),typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case h:e:{for(var Sr=qt.key;kt!==null;){if(kt.key===Sr){if(Sr=qt.type,Sr===v){if(kt.tag===7){A(Ut,kt.sibling),zn=J(kt,qt.props.children),zn.return=Ut,Ut=zn;break e}}else if(kt.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===H&&wf(Sr)===kt.type){A(Ut,kt.sibling),zn=J(kt,qt.props),Dh(zn,qt),zn.return=Ut,Ut=zn;break e}A(Ut,kt);break}else S(Ut,kt);kt=kt.sibling}qt.type===v?(zn=Ph(qt.props.children,Ut.mode,zn,qt.key),zn.return=Ut,Ut=zn):(zn=Ih(qt.type,qt.key,qt.props,null,Ut.mode,zn),Dh(zn,qt),zn.return=Ut,Ut=zn)}return Ie(Ut);case g:e:{for(Sr=qt.key;kt!==null;){if(kt.key===Sr)if(kt.tag===4&&kt.stateNode.containerInfo===qt.containerInfo&&kt.stateNode.implementation===qt.implementation){A(Ut,kt.sibling),zn=J(kt,qt.children||[]),zn.return=Ut,Ut=zn;break e}else{A(Ut,kt);break}else S(Ut,kt);kt=kt.sibling}zn=Rh(qt,Ut.mode,zn),zn.return=Ut,Ut=zn}return Ie(Ut);case H:return Sr=qt._init,qt=Sr(qt._payload),Ri(Ut,kt,qt,zn)}if(ee(qt))return ni(Ut,kt,qt,zn);if(Q(qt)){if(Sr=Q(qt),typeof Sr!="function")throw Error(r(150));return qt=Sr.call(qt),Qr(Ut,kt,qt,zn)}if(typeof qt.then=="function")return Ri(Ut,kt,zu(qt),zn);if(qt.$$typeof===M)return Ri(Ut,kt,df(Ut,qt),zn);sd(Ut,qt)}return typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint"?(qt=""+qt,kt!==null&&kt.tag===6?(A(Ut,kt.sibling),zn=J(kt,qt),zn.return=Ut,Ut=zn):(A(Ut,kt),zn=Bg(qt,Ut.mode,zn),zn.return=Ut,Ut=zn),Ie(Ut)):A(Ut,kt)}return function(Ut,kt,qt,zn){try{As=0;var Sr=Ri(Ut,kt,qt,zn);return So=null,Sr}catch(Gr){if(Gr===Zl||Gr===Sp)throw Gr;var ba=Bl(29,Gr,null,Ut.mode);return ba.lanes=zn,ba.return=Ut,ba}finally{}}}var Kg=Tp(!0),q1=Tp(!1),Bu=pe(null),Jl=null;function Sf(m){var S=m.alternate;_e(Co,Co.current&1),_e(Bu,m),Jl===null&&(S===null||rd.current!==null||S.memoizedState!==null)&&(Jl=m)}function sb(m){if(m.tag===22){if(_e(Co,Co.current),_e(Bu,m),Jl===null){var S=m.alternate;S!==null&&S.memoizedState!==null&&(Jl=m)}}else Ud()}function Ud(){_e(Co,Co.current),_e(Bu,Bu.current)}function ld(m){ye(Bu),Jl===m&&(Jl=null),ye(Co)}var Co=pe(0);function k0(m){for(var S=m;S!==null;){if(S.tag===13){var A=S.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||Uc(A)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function Gd(m,S,A,B){S=m.memoizedState,A=A(B,S),A=A==null?S:u({},S,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var Mp={enqueueSetState:function(m,S,A){m=m._reactInternals;var B=hl(),J=td(B);J.payload=S,A!=null&&(J.callback=A),S=ou(m,J,B),S!==null&&(wc(S,m,B),Fg(S,m,B))},enqueueReplaceState:function(m,S,A){m=m._reactInternals;var B=hl(),J=td(B);J.tag=1,J.payload=S,A!=null&&(J.callback=A),S=ou(m,J,B),S!==null&&(wc(S,m,B),Fg(S,m,B))},enqueueForceUpdate:function(m,S){m=m._reactInternals;var A=hl(),B=td(A);B.tag=2,S!=null&&(B.callback=S),S=ou(m,B,A),S!==null&&(wc(S,m,A),Fg(S,m,A))}};function Ap(m,S,A,B,J,ue,Ie){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(B,ue,Ie):S.prototype&&S.prototype.isPureReactComponent?!rf(A,B)||!rf(J,ue):!0}function K1(m,S,A,B){m=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(A,B),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(A,B),S.state!==m&&Mp.enqueueReplaceState(S,S.state,null)}function zh(m,S){var A=S;if("ref"in S){A={};for(var B in S)B!=="ref"&&(A[B]=S[B])}if(m=m.defaultProps){A===S&&(A=u({},A));for(var J in m)A[J]===void 0&&(A[J]=m[J])}return A}var Yg=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function Y1(m){Yg(m)}function L0(m){console.error(m)}function X1(m){Yg(m)}function tv(m,S){try{var A=m.onUncaughtError;A(S.value,{componentStack:S.stack})}catch(B){setTimeout(function(){throw B})}}function Wd(m,S,A){try{var B=m.onCaughtError;B(A.value,{componentStack:A.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(J){setTimeout(function(){throw J})}}function nv(m,S,A){return A=td(A),A.tag=3,A.payload={element:null},A.callback=function(){tv(m,S)},A}function lb(m){return m=td(m),m.tag=3,m}function cb(m,S,A,B){var J=A.type.getDerivedStateFromError;if(typeof J=="function"){var ue=B.value;m.payload=function(){return J(ue)},m.callback=function(){Wd(S,A,B)}}var Ie=A.stateNode;Ie!==null&&typeof Ie.componentDidCatch=="function"&&(m.callback=function(){Wd(S,A,B),typeof J!="function"&&(zp===null?zp=new Set([this]):zp.add(this));var Ge=B.stack;this.componentDidCatch(B.value,{componentStack:Ge!==null?Ge:""})})}function rv(m,S,A,B,J){if(A.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){if(S=A.alternate,S!==null&&jl(S,A,J,!0),A=Bu.current,A!==null){switch(A.tag){case 13:return Jl===null?h_():A.alternate===null&&zs===0&&(zs=3),A.flags&=-257,A.flags|=65536,A.lanes=J,B===jg?A.flags|=16384:(S=A.updateQueue,S===null?A.updateQueue=new Set([B]):S.add(B),K0(m,B,J)),!1;case 22:return A.flags|=65536,B===jg?A.flags|=16384:(S=A.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([B])},A.updateQueue=S):(A=S.retryQueue,A===null?S.retryQueue=new Set([B]):A.add(B)),K0(m,B,J)),!1}throw Error(r(435,A.tag))}return K0(m,B,J),h_(),!1}if(mi)return S=Bu.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=J,B!==zd&&(m=Error(r(422),{cause:B}),Qf(sl(m,A)))):(B!==zd&&(S=Error(r(423),{cause:B}),Qf(sl(S,A))),m=m.current.alternate,m.flags|=65536,J&=-J,m.lanes|=J,B=sl(B,A),J=nv(m.stateNode,B,J),Ds(m,J),zs!==4&&(zs=2)),!1;var ue=Error(r(520),{cause:B});if(ue=sl(ue,A),as===null?as=[ue]:as.push(ue),zs!==4&&(zs=2),S===null)return!0;B=sl(B,A),A=S;do{switch(A.tag){case 3:return A.flags|=65536,m=J&-J,A.lanes|=m,m=nv(A.stateNode,B,m),Ds(A,m),!1;case 1:if(S=A.type,ue=A.stateNode,(A.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(zp===null||!zp.has(ue))))return A.flags|=65536,J&=-J,A.lanes|=J,J=lb(J),cb(J,m,A,B),Ds(A,J),!1}A=A.return}while(A!==null);return!1}var lu=Error(r(461)),Sl=!1;function Do(m,S,A,B){S.child=m===null?q1(S,null,A,B):Kg(S,m.child,A,B)}function ub(m,S,A,B,J){A=A.render;var ue=S.ref;if("ref"in B){var Ie={};for(var Ge in B)Ge!=="ref"&&(Ie[Ge]=B[Ge])}else Ie=B;return jd(S),B=Ug(m,S,A,Ie,ue,J),Ge=qg(),m!==null&&!Sl?(Lu(m,S,J),qd(m,S,J)):(mi&&Ge&&vc(S),S.flags|=1,Do(m,S,B,J),S.child)}function N0(m,S,A,B,J){if(m===null){var ue=A.type;return typeof ue=="function"&&!Nd(ue)&&ue.defaultProps===void 0&&A.compare===null?(S.tag=15,S.type=ue,fb(m,S,ue,B,J)):(m=Ih(A.type,null,B,S,S.mode,J),m.ref=S.ref,m.return=S,S.child=m)}if(ue=m.child,!jc(m,J)){var Ie=ue.memoizedProps;if(A=A.compare,A=A!==null?A:rf,A(Ie,B)&&m.ref===S.ref)return qd(m,S,J)}return S.flags|=1,m=ll(ue,B),m.ref=S.ref,m.return=S,S.child=m}function fb(m,S,A,B,J){if(m!==null){var ue=m.memoizedProps;if(rf(ue,B)&&m.ref===S.ref)if(Sl=!1,S.pendingProps=B=ue,jc(m,J))(m.flags&131072)!==0&&(Sl=!0);else return S.lanes=m.lanes,qd(m,S,J)}return Ip(m,S,A,B,J)}function D0(m,S,A){var B=S.pendingProps,J=B.children,ue=m!==null?m.memoizedState:null;if(B.mode==="hidden"){if((S.flags&128)!==0){if(B=ue!==null?ue.baseLanes|A:A,m!==null){for(J=S.child=m.child,ue=0;J!==null;)ue=ue|J.lanes|J.childLanes,J=J.sibling;S.childLanes=ue&~B}else S.childLanes=0,S.child=null;return Xg(m,S,B,A)}if((A&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},m!==null&&Fd(S,ue!==null?ue.cachePool:null),ue!==null?yf(S,ue):ul(),sb(S);else return S.lanes=S.childLanes=536870912,Xg(m,S,ue!==null?ue.baseLanes|A:A,A)}else ue!==null?(Fd(S,ue.cachePool),yf(S,ue),Ud(),S.memoizedState=null):(m!==null&&Fd(S,null),ul(),Ud());return Do(m,S,J,A),S.child}function Xg(m,S,A,B){var J=pf();return J=J===null?null:{parent:Ma._currentValue,pool:J},S.memoizedState={baseLanes:A,cachePool:J},m!==null&&Fd(S,null),ul(),sb(S),m!==null&&jl(m,S,B,!0),null}function Yr(m,S){var A=S.ref;if(A===null)m!==null&&m.ref!==null&&(S.flags|=4194816);else{if(typeof A!="function"&&typeof A!="object")throw Error(r(284));(m===null||m.ref!==A)&&(S.flags|=4194816)}}function Ip(m,S,A,B,J){return jd(S),A=Ug(m,S,A,B,void 0,J),B=qg(),m!==null&&!Sl?(Lu(m,S,J),qd(m,S,J)):(mi&&B&&vc(S),S.flags|=1,Do(m,S,A,J),S.child)}function iv(m,S,A,B,J,ue){return jd(S),S.updateQueue=null,A=Hd(S,B,A,J),Gg(m),B=qg(),m!==null&&!Sl?(Lu(m,S,ue),qd(m,S,ue)):(mi&&B&&vc(S),S.flags|=1,Do(m,S,A,ue),S.child)}function Bh(m,S,A,B,J){if(jd(S),S.stateNode===null){var ue=cf,Ie=A.contextType;typeof Ie=="object"&&Ie!==null&&(ue=ca(Ie)),ue=new A(B,ue),S.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,ue.updater=Mp,S.stateNode=ue,ue._reactInternals=S,ue=S.stateNode,ue.props=B,ue.state=S.memoizedState,ue.refs={},mf(S),Ie=A.contextType,ue.context=typeof Ie=="object"&&Ie!==null?ca(Ie):cf,ue.state=S.memoizedState,Ie=A.getDerivedStateFromProps,typeof Ie=="function"&&(Gd(S,A,Ie,B),ue.state=S.memoizedState),typeof A.getDerivedStateFromProps=="function"||typeof ue.getSnapshotBeforeUpdate=="function"||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(Ie=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),Ie!==ue.state&&Mp.enqueueReplaceState(ue,ue.state,null),wr(S,B,ue,J),vr(),ue.state=S.memoizedState),typeof ue.componentDidMount=="function"&&(S.flags|=4194308),B=!0}else if(m===null){ue=S.stateNode;var Ge=S.memoizedProps,Ct=zh(A,Ge);ue.props=Ct;var an=ue.context,An=A.contextType;Ie=cf,typeof An=="object"&&An!==null&&(Ie=ca(An));var Hn=A.getDerivedStateFromProps;An=typeof Hn=="function"||typeof ue.getSnapshotBeforeUpdate=="function",Ge=S.pendingProps!==Ge,An||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ge||an!==Ie)&&K1(S,ue,B,Ie),yc=!1;var fn=S.memoizedState;ue.state=fn,wr(S,B,ue,J),vr(),an=S.memoizedState,Ge||fn!==an||yc?(typeof Hn=="function"&&(Gd(S,A,Hn,B),an=S.memoizedState),(Ct=yc||Ap(S,A,Ct,B,fn,an,Ie))?(An||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(S.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=B,S.memoizedState=an),ue.props=B,ue.state=an,ue.context=Ie,B=Ct):(typeof ue.componentDidMount=="function"&&(S.flags|=4194308),B=!1)}else{ue=S.stateNode,vf(m,S),Ie=S.memoizedProps,An=zh(A,Ie),ue.props=An,Hn=S.pendingProps,fn=ue.context,an=A.contextType,Ct=cf,typeof an=="object"&&an!==null&&(Ct=ca(an)),Ge=A.getDerivedStateFromProps,(an=typeof Ge=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ie!==Hn||fn!==Ct)&&K1(S,ue,B,Ct),yc=!1,fn=S.memoizedState,ue.state=fn,wr(S,B,ue,J),vr();var on=S.memoizedState;Ie!==Hn||fn!==on||yc||m!==null&&m.dependencies!==null&&Dc(m.dependencies)?(typeof Ge=="function"&&(Gd(S,A,Ge,B),on=S.memoizedState),(An=yc||Ap(S,A,An,B,fn,on,Ct)||m!==null&&m.dependencies!==null&&Dc(m.dependencies))?(an||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(B,on,Ct),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(B,on,Ct)),typeof ue.componentDidUpdate=="function"&&(S.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Ie===m.memoizedProps&&fn===m.memoizedState||(S.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ie===m.memoizedProps&&fn===m.memoizedState||(S.flags|=1024),S.memoizedProps=B,S.memoizedState=on),ue.props=B,ue.state=on,ue.context=Ct,B=An):(typeof ue.componentDidUpdate!="function"||Ie===m.memoizedProps&&fn===m.memoizedState||(S.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ie===m.memoizedProps&&fn===m.memoizedState||(S.flags|=1024),B=!1)}return ue=B,Yr(m,S),B=(S.flags&128)!==0,ue||B?(ue=S.stateNode,A=B&&typeof A.getDerivedStateFromError!="function"?null:ue.render(),S.flags|=1,m!==null&&B?(S.child=Kg(S,m.child,null,J),S.child=Kg(S,null,A,J)):Do(m,S,A,J),S.memoizedState=ue.state,m=S.child):m=qd(m,S,J),m}function Pp(m,S,A,B){return Pu(),S.flags|=256,Do(m,S,A,B),S.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function db(m){return{baseLanes:m,cachePool:I0()}}function Hl(m,S,A){return m=m!==null?m.childLanes&~A:0,S&&(m|=hu),m}function Wx(m,S,A){var B=S.pendingProps,J=!1,ue=(S.flags&128)!==0,Ie;if((Ie=ue)||(Ie=m!==null&&m.memoizedState===null?!1:(Co.current&2)!==0),Ie&&(J=!0,S.flags&=-129),Ie=(S.flags&32)!==0,S.flags&=-33,m===null){if(mi){if(J?Sf(S):Ud(),mi){var Ge=xo,Ct;if(Ct=Ge){e:{for(Ct=Ge,Ge=_l;Ct.nodeType!==8;){if(!Ge){Ge=null;break e}if(Ct=Uu(Ct.nextSibling),Ct===null){Ge=null;break e}}Ge=Ct}Ge!==null?(S.memoizedState={dehydrated:Ge,treeContext:Ha!==null?{id:Ko,overflow:uf}:null,retryLane:536870912,hydrationErrors:null},Ct=Bl(18,null,null,0),Ct.stateNode=Ge,Ct.return=S,S.child=Ct,ys=S,xo=null,Ct=!0):Ct=!1}Ct||Nc(S)}if(Ge=S.memoizedState,Ge!==null&&(Ge=Ge.dehydrated,Ge!==null))return Uc(Ge)?S.lanes=32:S.lanes=536870912,null;ld(S)}return Ge=B.children,B=B.fallback,J?(Ud(),J=S.mode,Ge=z0({mode:"hidden",children:Ge},J),B=Ph(B,J,A,null),Ge.return=S,B.return=S,Ge.sibling=B,S.child=Ge,J=S.child,J.memoizedState=db(A),J.childLanes=Hl(m,Ie,A),S.memoizedState=jh,B):(Sf(S),Z1(S,Ge))}if(Ct=m.memoizedState,Ct!==null&&(Ge=Ct.dehydrated,Ge!==null)){if(ue)S.flags&256?(Sf(S),S.flags&=-257,S=Q1(m,S,A)):S.memoizedState!==null?(Ud(),S.child=m.child,S.flags|=128,S=null):(Ud(),J=B.fallback,Ge=S.mode,B=z0({mode:"visible",children:B.children},Ge),J=Ph(J,Ge,A,null),J.flags|=2,B.return=S,J.return=S,B.sibling=J,S.child=B,Kg(S,m.child,null,A),B=S.child,B.memoizedState=db(A),B.childLanes=Hl(m,Ie,A),S.memoizedState=jh,S=J);else if(Sf(S),Uc(Ge)){if(Ie=Ge.nextSibling&&Ge.nextSibling.dataset,Ie)var an=Ie.dgst;Ie=an,B=Error(r(419)),B.stack="",B.digest=Ie,Qf({value:B,source:null,stack:null}),S=Q1(m,S,A)}else if(Sl||jl(m,S,A,!1),Ie=(A&m.childLanes)!==0,Sl||Ie){if(Ie=zo,Ie!==null&&(B=A&-A,B=(B&42)!==0?1:vt(B),B=(B&(Ie.suspendedLanes|A))!==0?0:B,B!==0&&B!==Ct.retryLane))throw Ct.retryLane=B,Ah(m,B),wc(Ie,m,B),lu;Ge.data==="$?"||h_(),S=Q1(m,S,A)}else Ge.data==="$?"?(S.flags|=192,S.child=m.child,S=null):(m=Ct.treeContext,xo=Uu(Ge.nextSibling),ys=S,mi=!0,Yl=null,_l=!1,m!==null&&(Kl[bl++]=Ko,Kl[bl++]=uf,Kl[bl++]=Ha,Ko=m.id,uf=m.overflow,Ha=S),S=Z1(S,B.children),S.flags|=4096);return S}return J?(Ud(),J=B.fallback,Ge=S.mode,Ct=m.child,an=Ct.sibling,B=ll(Ct,{mode:"hidden",children:B.children}),B.subtreeFlags=Ct.subtreeFlags&65011712,an!==null?J=ll(an,J):(J=Ph(J,Ge,A,null),J.flags|=2),J.return=S,B.return=S,B.sibling=J,S.child=B,B=J,J=S.child,Ge=m.child.memoizedState,Ge===null?Ge=db(A):(Ct=Ge.cachePool,Ct!==null?(an=Ma._currentValue,Ct=Ct.parent!==an?{parent:an,pool:an}:Ct):Ct=I0(),Ge={baseLanes:Ge.baseLanes|A,cachePool:Ct}),J.memoizedState=Ge,J.childLanes=Hl(m,Ie,A),S.memoizedState=jh,B):(Sf(S),A=m.child,m=A.sibling,A=ll(A,{mode:"visible",children:B.children}),A.return=S,A.sibling=null,m!==null&&(Ie=S.deletions,Ie===null?(S.deletions=[m],S.flags|=16):Ie.push(m)),S.child=A,S.memoizedState=null,A)}function Z1(m,S){return S=z0({mode:"visible",children:S},m.mode),S.return=m,m.child=S}function z0(m,S){return m=Bl(22,m,null,S),m.lanes=0,m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},m}function Q1(m,S,A){return Kg(S,m.child,null,A),m=Z1(S,S.pendingProps.children),m.flags|=2,S.memoizedState=null,m}function J1(m,S,A){m.lanes|=S;var B=m.alternate;B!==null&&(B.lanes|=S),Ka(m.return,S,A)}function B0(m,S,A,B,J){var ue=m.memoizedState;ue===null?m.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:B,tail:A,tailMode:J}:(ue.isBackwards=S,ue.rendering=null,ue.renderingStartTime=0,ue.last=B,ue.tail=A,ue.tailMode=J)}function qx(m,S,A){var B=S.pendingProps,J=B.revealOrder,ue=B.tail;if(Do(m,S,B.children,A),B=Co.current,(B&2)!==0)B=B&1|2,S.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=S.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&J1(m,A,S);else if(m.tag===19)J1(m,A,S);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===S)break e;for(;m.sibling===null;){if(m.return===null||m.return===S)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}B&=1}switch(_e(Co,B),J){case"forwards":for(A=S.child,J=null;A!==null;)m=A.alternate,m!==null&&k0(m)===null&&(J=A),A=A.sibling;A=J,A===null?(J=S.child,S.child=null):(J=A.sibling,A.sibling=null),B0(S,!1,J,A,ue);break;case"backwards":for(A=null,J=S.child,S.child=null;J!==null;){if(m=J.alternate,m!==null&&k0(m)===null){S.child=J;break}m=J.sibling,J.sibling=A,A=J,J=m}B0(S,!0,A,null,ue);break;case"together":B0(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function qd(m,S,A){if(m!==null&&(S.dependencies=m.dependencies),Np|=S.lanes,(A&S.childLanes)===0)if(m!==null){if(jl(m,S,A,!1),(A&S.childLanes)===0)return null}else return null;if(m!==null&&S.child!==m.child)throw Error(r(153));if(S.child!==null){for(m=S.child,A=ll(m,m.pendingProps),S.child=A,A.return=S;m.sibling!==null;)m=m.sibling,A=A.sibling=ll(m,m.pendingProps),A.return=S;A.sibling=null}return S.child}function jc(m,S){return(m.lanes&S)!==0?!0:(m=m.dependencies,!!(m!==null&&Dc(m)))}function Fc(m,S,A){switch(S.tag){case 3:ze(S,S.stateNode.containerInfo),cl(S,Ma,m.memoizedState.cache),Pu();break;case 27:case 5:st(S);break;case 4:ze(S,S.stateNode.containerInfo);break;case 10:cl(S,S.type,S.memoizedProps.value);break;case 13:var B=S.memoizedState;if(B!==null)return B.dehydrated!==null?(Sf(S),S.flags|=128,null):(A&S.child.childLanes)!==0?Wx(m,S,A):(Sf(S),m=qd(m,S,A),m!==null?m.sibling:null);Sf(S);break;case 19:var J=(m.flags&128)!==0;if(B=(A&S.childLanes)!==0,B||(jl(m,S,A,!1),B=(A&S.childLanes)!==0),J){if(B)return qx(m,S,A);S.flags|=128}if(J=S.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),_e(Co,Co.current),B)break;return null;case 22:case 23:return S.lanes=0,D0(m,S,A);case 24:cl(S,Ma,m.memoizedState.cache)}return qd(m,S,A)}function Xo(m,S,A){if(m!==null)if(m.memoizedProps!==S.pendingProps)Sl=!0;else{if(!jc(m,A)&&(S.flags&128)===0)return Sl=!1,Fc(m,S,A);Sl=(m.flags&131072)!==0}else Sl=!1,mi&&(S.flags&1048576)!==0&&Zf(S,Dd,S.index);switch(S.lanes=0,S.tag){case 16:e:{m=S.pendingProps;var B=S.elementType,J=B._init;if(B=J(B._payload),S.type=B,typeof B=="function")Nd(B)?(m=zh(B,m),S.tag=1,S=Bh(null,S,B,m,A)):(S.tag=0,S=Ip(null,S,B,m,A));else{if(B!=null){if(J=B.$$typeof,J===R){S.tag=11,S=ub(null,S,B,m,A);break e}else if(J===D){S.tag=14,S=N0(null,S,B,m,A);break e}}throw S=te(B)||B,Error(r(306,S,""))}}return S;case 0:return Ip(m,S,S.type,S.pendingProps,A);case 1:return B=S.type,J=zh(B,S.pendingProps),Bh(m,S,B,J,A);case 3:e:{if(ze(S,S.stateNode.containerInfo),m===null)throw Error(r(387));B=S.pendingProps;var ue=S.memoizedState;J=ue.element,vf(m,S),wr(S,B,null,A);var Ie=S.memoizedState;if(B=Ie.cache,cl(S,Ma,B),B!==ue.cache&&Oi(S,[Ma],A,!0),vr(),B=Ie.element,ue.isDehydrated)if(ue={element:B,isDehydrated:!1,cache:Ie.cache},S.updateQueue.baseState=ue,S.memoizedState=ue,S.flags&256){S=Pp(m,S,B,A);break e}else if(B!==J){J=sl(Error(r(424)),S),Qf(J),S=Pp(m,S,B,A);break e}else{switch(m=S.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(xo=Uu(m.firstChild),ys=S,mi=!0,Yl=null,_l=!0,A=q1(S,null,B,A),S.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling}else{if(Pu(),B===J){S=qd(m,S,A);break e}Do(m,S,B,A)}S=S.child}return S;case 26:return Yr(m,S),m===null?(A=Y(S.type,null,S.pendingProps,null))?S.memoizedState=A:mi||(A=S.type,m=S.pendingProps,B=eh(je.current).createElement(A),B[xn]=S,B[Bt]=m,Is(B,A,m),$r(B),S.stateNode=B):S.memoizedState=Y(S.type,m.memoizedProps,S.pendingProps,m.memoizedState),null;case 27:return st(S),m===null&&mi&&(B=S.stateNode=yv(S.type,S.pendingProps,je.current),ys=S,_l=!0,J=xo,Vu(S.type)?(oy=J,xo=Uu(B.firstChild)):xo=J),Do(m,S,S.pendingProps.children,A),Yr(m,S),m===null&&(S.flags|=4194304),S.child;case 5:return m===null&&mi&&((J=B=xo)&&(B=O_(B,S.type,S.pendingProps,_l),B!==null?(S.stateNode=B,ys=S,xo=Uu(B.firstChild),_l=!1,J=!0):J=!1),J||Nc(S)),st(S),J=S.type,ue=S.pendingProps,Ie=m!==null?m.memoizedProps:null,B=ue.children,zb(J,ue)?B=null:Ie!==null&&zb(J,Ie)&&(S.flags|=32),S.memoizedState!==null&&(J=Ug(m,S,Wg,null,null,A),dr._currentValue=J),Yr(m,S),Do(m,S,B,A),S.child;case 6:return m===null&&mi&&((m=A=xo)&&(A=ay(A,S.pendingProps,_l),A!==null?(S.stateNode=A,ys=S,xo=null,m=!0):m=!1),m||Nc(S)),null;case 13:return Wx(m,S,A);case 4:return ze(S,S.stateNode.containerInfo),B=S.pendingProps,m===null?S.child=Kg(S,null,B,A):Do(m,S,B,A),S.child;case 11:return ub(m,S,S.type,S.pendingProps,A);case 7:return Do(m,S,S.pendingProps,A),S.child;case 8:return Do(m,S,S.pendingProps.children,A),S.child;case 12:return Do(m,S,S.pendingProps.children,A),S.child;case 10:return B=S.pendingProps,cl(S,S.type,B.value),Do(m,S,B.children,A),S.child;case 9:return J=S.type._context,B=S.pendingProps.children,jd(S),J=ca(J),B=B(J),S.flags|=1,Do(m,S,B,A),S.child;case 14:return N0(m,S,S.type,S.pendingProps,A);case 15:return fb(m,S,S.type,S.pendingProps,A);case 19:return qx(m,S,A);case 31:return B=S.pendingProps,A=S.mode,B={mode:B.mode,children:B.children},m===null?(A=z0(B,A),A.ref=S.ref,S.child=A,A.return=S,S=A):(A=ll(m.child,B),A.ref=S.ref,S.child=A,A.return=S,S=A),S;case 22:return D0(m,S,A);case 24:return jd(S),B=ca(Ma),m===null?(J=pf(),J===null&&(J=zo,ue=Lh(),J.pooledCache=ue,ue.refCount++,ue!==null&&(J.pooledCacheLanes|=A),J=ue),S.memoizedState={parent:B,cache:J},mf(S),cl(S,Ma,J)):((m.lanes&A)!==0&&(vf(m,S),wr(S,null,null,A),vr()),J=m.memoizedState,ue=S.memoizedState,J.parent!==B?(J={parent:B,cache:B},S.memoizedState=J,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=J),cl(S,Ma,B)):(B=ue.cache,cl(S,Ma,B),B!==J.cache&&Oi(S,[Ma],A,!0))),Do(m,S,S.pendingProps.children,A),S.child;case 29:throw S.pendingProps}throw Error(r(156,S.tag))}function cu(m){m.flags|=4}function j0(m,S){if(S.type!=="stylesheet"||(S.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!dt(S)){if(S=Bu.current,S!==null&&((fa&4194048)===fa?Jl!==null:(fa&62914560)!==fa&&(fa&536870912)===0||S!==Jl))throw Ep=jg,Xm;m.flags|=8192}}function Zg(m,S){S!==null&&(m.flags|=4),m.flags&16384&&(S=m.tag!==22?lt():536870912,m.lanes|=S,tm|=S)}function Rp(m,S){if(!mi)switch(m.tailMode){case"hidden":S=m.tail;for(var A=null;S!==null;)S.alternate!==null&&(A=S),S=S.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var B=null;A!==null;)A.alternate!==null&&(B=A),A=A.sibling;B===null?S||m.tail===null?m.tail=null:m.tail.sibling=null:B.sibling=null}}function Xa(m){var S=m.alternate!==null&&m.alternate.child===m.child,A=0,B=0;if(S)for(var J=m.child;J!==null;)A|=J.lanes|J.childLanes,B|=J.subtreeFlags&65011712,B|=J.flags&65011712,J.return=m,J=J.sibling;else for(J=m.child;J!==null;)A|=J.lanes|J.childLanes,B|=J.subtreeFlags,B|=J.flags,J.return=m,J=J.sibling;return m.subtreeFlags|=B,m.childLanes=A,S}function e_(m,S,A){var B=S.pendingProps;switch(kh(S),S.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(S),null;case 1:return Xa(S),null;case 3:return A=S.stateNode,B=null,m!==null&&(B=m.memoizedState.cache),S.memoizedState.cache!==B&&(S.flags|=2048),xl(Ma),Ze(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(m===null||m.child===null)&&(ff(S)?cu(S):m===null||m.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,T0())),Xa(S),null;case 26:return A=S.memoizedState,m===null?(cu(S),A!==null?(Xa(S),j0(S,A)):(Xa(S),S.flags&=-16777217)):A?A!==m.memoizedState?(cu(S),Xa(S),j0(S,A)):(Xa(S),S.flags&=-16777217):(m.memoizedProps!==B&&cu(S),Xa(S),S.flags&=-16777217),null;case 27:Ue(S),A=je.current;var J=S.type;if(m!==null&&S.stateNode!=null)m.memoizedProps!==B&&cu(S);else{if(!B){if(S.stateNode===null)throw Error(r(166));return Xa(S),null}m=Se.current,ff(S)?Wm(S):(m=yv(J,B,A),S.stateNode=m,cu(S))}return Xa(S),null;case 5:if(Ue(S),A=S.type,m!==null&&S.stateNode!=null)m.memoizedProps!==B&&cu(S);else{if(!B){if(S.stateNode===null)throw Error(r(166));return Xa(S),null}if(m=Se.current,ff(S))Wm(S);else{switch(J=eh(je.current),m){case 1:m=J.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:m=J.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":m=J.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":m=J.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":m=J.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof B.is=="string"?J.createElement("select",{is:B.is}):J.createElement("select"),B.multiple?m.multiple=!0:B.size&&(m.size=B.size);break;default:m=typeof B.is=="string"?J.createElement(A,{is:B.is}):J.createElement(A)}}m[xn]=S,m[Bt]=B;e:for(J=S.child;J!==null;){if(J.tag===5||J.tag===6)m.appendChild(J.stateNode);else if(J.tag!==4&&J.tag!==27&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===S)break e;for(;J.sibling===null;){if(J.return===null||J.return===S)break e;J=J.return}J.sibling.return=J.return,J=J.sibling}S.stateNode=m;e:switch(Is(m,A,B),A){case"button":case"input":case"select":case"textarea":m=!!B.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&cu(S)}}return Xa(S),S.flags&=-16777217,null;case 6:if(m&&S.stateNode!=null)m.memoizedProps!==B&&cu(S);else{if(typeof B!="string"&&S.stateNode===null)throw Error(r(166));if(m=je.current,ff(S)){if(m=S.stateNode,A=S.memoizedProps,B=null,J=ys,J!==null)switch(J.tag){case 27:case 5:B=J.memoizedProps}m[xn]=S,m=!!(m.nodeValue===A||B!==null&&B.suppressHydrationWarning===!0||x_(m.nodeValue,A)),m||Nc(S)}else m=eh(m).createTextNode(B),m[xn]=S,S.stateNode=m}return Xa(S),null;case 13:if(B=S.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(J=ff(S),B!==null&&B.dehydrated!==null){if(m===null){if(!J)throw Error(r(318));if(J=S.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(r(317));J[xn]=S}else Pu(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;Xa(S),J=!1}else J=T0(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=J),J=!0;if(!J)return S.flags&256?(ld(S),S):(ld(S),null)}if(ld(S),(S.flags&128)!==0)return S.lanes=A,S;if(A=B!==null,m=m!==null&&m.memoizedState!==null,A){B=S.child,J=null,B.alternate!==null&&B.alternate.memoizedState!==null&&B.alternate.memoizedState.cachePool!==null&&(J=B.alternate.memoizedState.cachePool.pool);var ue=null;B.memoizedState!==null&&B.memoizedState.cachePool!==null&&(ue=B.memoizedState.cachePool.pool),ue!==J&&(B.flags|=2048)}return A!==m&&A&&(S.child.flags|=8192),Zg(S,S.updateQueue),Xa(S),null;case 4:return Ze(),m===null&&kb(S.stateNode.containerInfo),Xa(S),null;case 10:return xl(S.type),Xa(S),null;case 19:if(ye(Co),J=S.memoizedState,J===null)return Xa(S),null;if(B=(S.flags&128)!==0,ue=J.rendering,ue===null)if(B)Rp(J,!1);else{if(zs!==0||m!==null&&(m.flags&128)!==0)for(m=S.child;m!==null;){if(ue=k0(m),ue!==null){for(S.flags|=128,Rp(J,!1),m=ue.updateQueue,S.updateQueue=m,Zg(S,m),S.subtreeFlags=0,m=A,A=S.child;A!==null;)Xf(A,m),A=A.sibling;return _e(Co,Co.current&1|2),S.child}m=m.sibling}J.tail!==null&&ft()>Dp&&(S.flags|=128,B=!0,Rp(J,!1),S.lanes=4194304)}else{if(!B)if(m=k0(ue),m!==null){if(S.flags|=128,B=!0,m=m.updateQueue,S.updateQueue=m,Zg(S,m),Rp(J,!0),J.tail===null&&J.tailMode==="hidden"&&!ue.alternate&&!mi)return Xa(S),null}else 2*ft()-J.renderingStartTime>Dp&&A!==536870912&&(S.flags|=128,B=!0,Rp(J,!1),S.lanes=4194304);J.isBackwards?(ue.sibling=S.child,S.child=ue):(m=J.last,m!==null?m.sibling=ue:S.child=ue,J.last=ue)}return J.tail!==null?(S=J.tail,J.rendering=S,J.tail=S.sibling,J.renderingStartTime=ft(),S.sibling=null,m=Co.current,_e(Co,B?m&1|2:m&1),S):(Xa(S),null);case 22:case 23:return ld(S),$0(),B=S.memoizedState!==null,m!==null?m.memoizedState!==null!==B&&(S.flags|=8192):B&&(S.flags|=8192),B?(A&536870912)!==0&&(S.flags&128)===0&&(Xa(S),S.subtreeFlags&6&&(S.flags|=8192)):Xa(S),A=S.updateQueue,A!==null&&Zg(S,A.retryQueue),A=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),B=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(B=S.memoizedState.cachePool.pool),B!==A&&(S.flags|=2048),m!==null&&ye(hf),null;case 24:return A=null,m!==null&&(A=m.memoizedState.cache),S.memoizedState.cache!==A&&(S.flags|=2048),xl(Ma),Xa(S),null;case 25:return null;case 30:return null}throw Error(r(156,S.tag))}function t_(m,S){switch(kh(S),S.tag){case 1:return m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 3:return xl(Ma),Ze(),m=S.flags,(m&65536)!==0&&(m&128)===0?(S.flags=m&-65537|128,S):null;case 26:case 27:case 5:return Ue(S),null;case 13:if(ld(S),m=S.memoizedState,m!==null&&m.dehydrated!==null){if(S.alternate===null)throw Error(r(340));Pu()}return m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 19:return ye(Co),null;case 4:return Ze(),null;case 10:return xl(S.type),null;case 22:case 23:return ld(S),$0(),m!==null&&ye(hf),m=S.flags,m&65536?(S.flags=m&-65537|128,S):null;case 24:return xl(Ma),null;case 25:return null;default:return null}}function av(m,S){switch(kh(S),S.tag){case 3:xl(Ma),Ze();break;case 26:case 27:case 5:Ue(S);break;case 4:Ze();break;case 13:ld(S);break;case 19:ye(Co);break;case 10:xl(S.type);break;case 22:case 23:ld(S),$0(),m!==null&&ye(hf);break;case 24:xl(Ma)}}function Qg(m,S){try{var A=S.updateQueue,B=A!==null?A.lastEffect:null;if(B!==null){var J=B.next;A=J;do{if((A.tag&m)===m){B=void 0;var ue=A.create,Ie=A.inst;B=ue(),Ie.destroy=B}A=A.next}while(A!==J)}}catch(Ge){Bo(S,S.return,Ge)}}function ju(m,S,A){try{var B=S.updateQueue,J=B!==null?B.lastEffect:null;if(J!==null){var ue=J.next;B=ue;do{if((B.tag&m)===m){var Ie=B.inst,Ge=Ie.destroy;if(Ge!==void 0){Ie.destroy=void 0,J=S;var Ct=A,an=Ge;try{an()}catch(An){Bo(J,Ct,An)}}}B=B.next}while(B!==ue)}}catch(An){Bo(S,S.return,An)}}function F0(m){var S=m.updateQueue;if(S!==null){var A=m.stateNode;try{Vg(S,A)}catch(B){Bo(m,m.return,B)}}}function $p(m,S,A){A.props=zh(m.type,m.memoizedProps),A.state=m.memoizedState;try{A.componentWillUnmount()}catch(B){Bo(m,S,B)}}function Kd(m,S){try{var A=m.ref;if(A!==null){switch(m.tag){case 26:case 27:case 5:var B=m.stateNode;break;case 30:B=m.stateNode;break;default:B=m.stateNode}typeof A=="function"?m.refCleanup=A(B):A.current=B}}catch(J){Bo(m,S,J)}}function Yd(m,S){var A=m.ref,B=m.refCleanup;if(A!==null)if(typeof B=="function")try{B()}catch(J){Bo(m,S,J)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof A=="function")try{A(null)}catch(J){Bo(m,S,J)}else A.current=null}function H0(m){var S=m.type,A=m.memoizedProps,B=m.stateNode;try{e:switch(S){case"button":case"input":case"select":case"textarea":A.autoFocus&&B.focus();break e;case"img":A.src?B.src=A.src:A.srcSet&&(B.srcset=A.srcSet)}}catch(J){Bo(m,m.return,J)}}function Xd(m,S,A){try{var B=m.stateNode;lw(B,m.type,A,S),B[Bt]=S}catch(J){Bo(m,m.return,J)}}function ov(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&Vu(m.type)||m.tag===4}function sv(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||ov(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&Vu(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function kp(m,S,A){var B=m.tag;if(B===5||B===6)m=m.stateNode,S?(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A).insertBefore(m,S):(S=A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,S.appendChild(m),A=A._reactRootContainer,A!=null||S.onclick!==null||(S.onclick=Nb));else if(B!==4&&(B===27&&Vu(m.type)&&(A=m.stateNode,S=null),m=m.child,m!==null))for(kp(m,S,A),m=m.sibling;m!==null;)kp(m,S,A),m=m.sibling}function Jg(m,S,A){var B=m.tag;if(B===5||B===6)m=m.stateNode,S?A.insertBefore(m,S):A.appendChild(m);else if(B!==4&&(B===27&&Vu(m.type)&&(A=m.stateNode),m=m.child,m!==null))for(Jg(m,S,A),m=m.sibling;m!==null;)Jg(m,S,A),m=m.sibling}function lv(m){var S=m.stateNode,A=m.memoizedProps;try{for(var B=m.type,J=S.attributes;J.length;)S.removeAttributeNode(J[0]);Is(S,B,A),S[xn]=m,S[Bt]=A}catch(ue){Bo(m,m.return,ue)}}var cd=!1,oo=!1,Fh=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,Cl=null;function Z2(m,S){if(m=m.containerInfo,mu=Sc,m=E0(m),O0(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var B=A.getSelection&&A.getSelection();if(B&&B.rangeCount!==0){A=B.anchorNode;var J=B.anchorOffset,ue=B.focusNode;B=B.focusOffset;try{A.nodeType,ue.nodeType}catch{A=null;break e}var Ie=0,Ge=-1,Ct=-1,an=0,An=0,Hn=m,fn=null;t:for(;;){for(var on;Hn!==A||J!==0&&Hn.nodeType!==3||(Ge=Ie+J),Hn!==ue||B!==0&&Hn.nodeType!==3||(Ct=Ie+B),Hn.nodeType===3&&(Ie+=Hn.nodeValue.length),(on=Hn.firstChild)!==null;)fn=Hn,Hn=on;for(;;){if(Hn===m)break t;if(fn===A&&++an===J&&(Ge=Ie),fn===ue&&++An===B&&(Ct=Ie),(on=Hn.nextSibling)!==null)break;Hn=fn,fn=Hn.parentNode}Hn=on}A=Ge===-1||Ct===-1?null:{start:Ge,end:Ct}}else A=null}A=A||{start:0,end:0}}else A=null;for(iy={focusedElem:m,selectionRange:A},Sc=!1,Cl=S;Cl!==null;)if(S=Cl,m=S.child,(S.subtreeFlags&1024)!==0&&m!==null)m.return=S,Cl=m;else for(;Cl!==null;){switch(S=Cl,ue=S.alternate,m=S.flags,S.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&ue!==null){m=void 0,A=S,J=ue.memoizedProps,ue=ue.memoizedState,B=A.stateNode;try{var ni=zh(A.type,J,A.elementType===A.type);m=B.getSnapshotBeforeUpdate(ni,ue),B.__reactInternalSnapshotBeforeUpdate=m}catch(Qr){Bo(A,A.return,Qr)}}break;case 3:if((m&1024)!==0){if(m=S.stateNode.containerInfo,A=m.nodeType,A===9)E_(m);else if(A===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":E_(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=S.sibling,m!==null){m.return=S.return,Cl=m;break}Cl=S.return}}function hb(m,S,A){var B=A.flags;switch(A.tag){case 0:case 11:case 15:Cf(m,A),B&4&&Qg(5,A);break;case 1:if(Cf(m,A),B&4)if(m=A.stateNode,S===null)try{m.componentDidMount()}catch(Ie){Bo(A,A.return,Ie)}else{var J=zh(A.type,S.memoizedProps);S=S.memoizedState;try{m.componentDidUpdate(J,S,m.__reactInternalSnapshotBeforeUpdate)}catch(Ie){Bo(A,A.return,Ie)}}B&64&&F0(A),B&512&&Kd(A,A.return);break;case 3:if(Cf(m,A),B&64&&(m=A.updateQueue,m!==null)){if(S=null,A.child!==null)switch(A.child.tag){case 27:case 5:S=A.child.stateNode;break;case 1:S=A.child.stateNode}try{Vg(m,S)}catch(Ie){Bo(A,A.return,Ie)}}break;case 27:S===null&&B&4&&lv(A);case 26:case 5:Cf(m,A),S===null&&B&4&&H0(A),B&512&&Kd(A,A.return);break;case 12:Cf(m,A);break;case 13:Cf(m,A),B&4&&i_(m,A),B&64&&(m=A.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(A=Y0.bind(null,A),um(m,A))));break;case 22:if(B=A.memoizedState!==null||cd,!B){S=S!==null&&S.memoizedState!==null||oo,J=cd;var ue=oo;cd=B,(oo=S)&&!ue?Vh(m,A,(A.subtreeFlags&8772)!==0):Cf(m,A),cd=J,oo=ue}break;case 30:break;default:Cf(m,A)}}function n_(m){var S=m.alternate;S!==null&&(m.alternate=null,n_(S)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(S=m.stateNode,S!==null&&Un(S)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var Zo=null,Hc=!1;function ud(m,S,A){for(A=A.child;A!==null;)r_(m,S,A),A=A.sibling}function r_(m,S,A){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(dn,A)}catch{}switch(A.tag){case 26:oo||Yd(A,S),ud(m,S,A),A.memoizedState?A.memoizedState.count--:A.stateNode&&(A=A.stateNode,A.parentNode.removeChild(A));break;case 27:oo||Yd(A,S);var B=Zo,J=Hc;Vu(A.type)&&(Zo=A.stateNode,Hc=!1),ud(m,S,A),fm(A.stateNode),Zo=B,Hc=J;break;case 5:oo||Yd(A,S);case 6:if(B=Zo,J=Hc,Zo=null,ud(m,S,A),Zo=B,Hc=J,Zo!==null)if(Hc)try{(Zo.nodeType===9?Zo.body:Zo.nodeName==="HTML"?Zo.ownerDocument.body:Zo).removeChild(A.stateNode)}catch(ue){Bo(A,S,ue)}else try{Zo.removeChild(A.stateNode)}catch(ue){Bo(A,S,ue)}break;case 18:Zo!==null&&(Hc?(m=Zo,vv(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,A.stateNode),_v(m)):vv(Zo,A.stateNode));break;case 4:B=Zo,J=Hc,Zo=A.stateNode.containerInfo,Hc=!0,ud(m,S,A),Zo=B,Hc=J;break;case 0:case 11:case 14:case 15:oo||ju(2,A,S),oo||ju(4,A,S),ud(m,S,A);break;case 1:oo||(Yd(A,S),B=A.stateNode,typeof B.componentWillUnmount=="function"&&$p(A,S,B)),ud(m,S,A);break;case 21:ud(m,S,A);break;case 22:oo=(B=oo)||A.memoizedState!==null,ud(m,S,A),oo=B;break;default:ud(m,S,A)}}function i_(m,S){if(S.memoizedState===null&&(m=S.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{_v(m)}catch(A){Bo(S,S.return,A)}}function pb(m){switch(m.tag){case 13:case 19:var S=m.stateNode;return S===null&&(S=m.stateNode=new Kx),S;case 22:return m=m.stateNode,S=m._retryCache,S===null&&(S=m._retryCache=new Kx),S;default:throw Error(r(435,m.tag))}}function gb(m,S){var A=pb(m);S.forEach(function(B){var J=rw.bind(null,m,B);A.has(B)||(A.add(B),B.then(J,J))})}function uu(m,S){var A=S.deletions;if(A!==null)for(var B=0;B<A.length;B++){var J=A[B],ue=m,Ie=S,Ge=Ie;e:for(;Ge!==null;){switch(Ge.tag){case 27:if(Vu(Ge.type)){Zo=Ge.stateNode,Hc=!1;break e}break;case 5:Zo=Ge.stateNode,Hc=!1;break e;case 3:case 4:Zo=Ge.stateNode.containerInfo,Hc=!0;break e}Ge=Ge.return}if(Zo===null)throw Error(r(160));r_(ue,Ie,J),Zo=null,Hc=!1,ue=J.alternate,ue!==null&&(ue.return=null),J.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)em(S,m),S=S.sibling}var Fu=null;function em(m,S){var A=m.alternate,B=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:uu(S,m),fu(m),B&4&&(ju(3,m,m.return),Qg(3,m),ju(5,m,m.return));break;case 1:uu(S,m),fu(m),B&512&&(oo||A===null||Yd(A,A.return)),B&64&&cd&&(m=m.updateQueue,m!==null&&(B=m.callbacks,B!==null&&(A=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=A===null?B:A.concat(B))));break;case 26:var J=Fu;if(uu(S,m),fu(m),B&512&&(oo||A===null||Yd(A,A.return)),B&4){var ue=A!==null?A.memoizedState:null;if(B=m.memoizedState,A===null)if(B===null)if(m.stateNode===null){e:{B=m.type,A=m.memoizedProps,J=J.ownerDocument||J;t:switch(B){case"title":ue=J.getElementsByTagName("title")[0],(!ue||ue[Tn]||ue[xn]||ue.namespaceURI==="http://www.w3.org/2000/svg"||ue.hasAttribute("itemprop"))&&(ue=J.createElement(B),J.head.insertBefore(ue,J.querySelector("head > title"))),Is(ue,B,A),ue[xn]=m,$r(ue),B=ue;break e;case"link":var Ie=gt("link","href",J).get(B+(A.href||""));if(Ie){for(var Ge=0;Ge<Ie.length;Ge++)if(ue=Ie[Ge],ue.getAttribute("href")===(A.href==null||A.href===""?null:A.href)&&ue.getAttribute("rel")===(A.rel==null?null:A.rel)&&ue.getAttribute("title")===(A.title==null?null:A.title)&&ue.getAttribute("crossorigin")===(A.crossOrigin==null?null:A.crossOrigin)){Ie.splice(Ge,1);break t}}ue=J.createElement(B),Is(ue,B,A),J.head.appendChild(ue);break;case"meta":if(Ie=gt("meta","content",J).get(B+(A.content||""))){for(Ge=0;Ge<Ie.length;Ge++)if(ue=Ie[Ge],ue.getAttribute("content")===(A.content==null?null:""+A.content)&&ue.getAttribute("name")===(A.name==null?null:A.name)&&ue.getAttribute("property")===(A.property==null?null:A.property)&&ue.getAttribute("http-equiv")===(A.httpEquiv==null?null:A.httpEquiv)&&ue.getAttribute("charset")===(A.charSet==null?null:A.charSet)){Ie.splice(Ge,1);break t}}ue=J.createElement(B),Is(ue,B,A),J.head.appendChild(ue);break;default:throw Error(r(468,B))}ue[xn]=m,$r(ue),B=ue}m.stateNode=B}else Me(J,m.type,m.stateNode);else m.stateNode=$e(J,B,m.memoizedProps);else ue!==B?(ue===null?A.stateNode!==null&&(A=A.stateNode,A.parentNode.removeChild(A)):ue.count--,B===null?Me(J,m.type,m.stateNode):$e(J,B,m.memoizedProps)):B===null&&m.stateNode!==null&&Xd(m,m.memoizedProps,A.memoizedProps)}break;case 27:uu(S,m),fu(m),B&512&&(oo||A===null||Yd(A,A.return)),A!==null&&B&4&&Xd(m,m.memoizedProps,A.memoizedProps);break;case 5:if(uu(S,m),fu(m),B&512&&(oo||A===null||Yd(A,A.return)),m.flags&32){J=m.stateNode;try{Ui(J,"")}catch(on){Bo(m,m.return,on)}}B&4&&m.stateNode!=null&&(J=m.memoizedProps,Xd(m,J,A!==null?A.memoizedProps:J)),B&1024&&(Fh=!0);break;case 6:if(uu(S,m),fu(m),B&4){if(m.stateNode===null)throw Error(r(162));B=m.memoizedProps,A=m.stateNode;try{A.nodeValue=B}catch(on){Bo(m,m.return,on)}}break;case 3:if(Ot=null,J=Fu,Fu=ui(S.containerInfo),uu(S,m),Fu=J,fu(m),B&4&&A!==null&&A.memoizedState.isDehydrated)try{_v(S.containerInfo)}catch(on){Bo(m,m.return,on)}Fh&&(Fh=!1,mb(m));break;case 4:B=Fu,Fu=ui(m.stateNode.containerInfo),uu(S,m),fu(m),Fu=B;break;case 12:uu(S,m),fu(m);break;case 13:uu(S,m),fu(m),m.child.flags&8192&&m.memoizedState!==null!=(A!==null&&A.memoizedState!==null)&&(xb=ft()),B&4&&(B=m.updateQueue,B!==null&&(m.updateQueue=null,gb(m,B)));break;case 22:J=m.memoizedState!==null;var Ct=A!==null&&A.memoizedState!==null,an=cd,An=oo;if(cd=an||J,oo=An||Ct,uu(S,m),oo=An,cd=an,fu(m),B&8192)e:for(S=m.stateNode,S._visibility=J?S._visibility&-2:S._visibility|1,J&&(A===null||Ct||cd||oo||Hh(m)),A=null,S=m;;){if(S.tag===5||S.tag===26){if(A===null){Ct=A=S;try{if(ue=Ct.stateNode,J)Ie=ue.style,typeof Ie.setProperty=="function"?Ie.setProperty("display","none","important"):Ie.display="none";else{Ge=Ct.stateNode;var Hn=Ct.memoizedProps.style,fn=Hn!=null&&Hn.hasOwnProperty("display")?Hn.display:null;Ge.style.display=fn==null||typeof fn=="boolean"?"":(""+fn).trim()}}catch(on){Bo(Ct,Ct.return,on)}}}else if(S.tag===6){if(A===null){Ct=S;try{Ct.stateNode.nodeValue=J?"":Ct.memoizedProps}catch(on){Bo(Ct,Ct.return,on)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===m)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break e;for(;S.sibling===null;){if(S.return===null||S.return===m)break e;A===S&&(A=null),S=S.return}A===S&&(A=null),S.sibling.return=S.return,S=S.sibling}B&4&&(B=m.updateQueue,B!==null&&(A=B.retryQueue,A!==null&&(B.retryQueue=null,gb(m,A))));break;case 19:uu(S,m),fu(m),B&4&&(B=m.updateQueue,B!==null&&(m.updateQueue=null,gb(m,B)));break;case 30:break;case 21:break;default:uu(S,m),fu(m)}}function fu(m){var S=m.flags;if(S&2){try{for(var A,B=m.return;B!==null;){if(ov(B)){A=B;break}B=B.return}if(A==null)throw Error(r(160));switch(A.tag){case 27:var J=A.stateNode,ue=sv(m);Jg(m,ue,J);break;case 5:var Ie=A.stateNode;A.flags&32&&(Ui(Ie,""),A.flags&=-33);var Ge=sv(m);Jg(m,Ge,Ie);break;case 3:case 4:var Ct=A.stateNode.containerInfo,an=sv(m);kp(m,an,Ct);break;default:throw Error(r(161))}}catch(An){Bo(m,m.return,An)}m.flags&=-3}S&4096&&(m.flags&=-4097)}function mb(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var S=m;mb(S),S.tag===5&&S.flags&1024&&S.stateNode.reset(),m=m.sibling}}function Cf(m,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)hb(m,S.alternate,S),S=S.sibling}function Hh(m){for(m=m.child;m!==null;){var S=m;switch(S.tag){case 0:case 11:case 14:case 15:ju(4,S,S.return),Hh(S);break;case 1:Yd(S,S.return);var A=S.stateNode;typeof A.componentWillUnmount=="function"&&$p(S,S.return,A),Hh(S);break;case 27:fm(S.stateNode);case 26:case 5:Yd(S,S.return),Hh(S);break;case 22:S.memoizedState===null&&Hh(S);break;case 30:Hh(S);break;default:Hh(S)}m=m.sibling}}function Vh(m,S,A){for(A=A&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var B=S.alternate,J=m,ue=S,Ie=ue.flags;switch(ue.tag){case 0:case 11:case 15:Vh(J,ue,A),Qg(4,ue);break;case 1:if(Vh(J,ue,A),B=ue,J=B.stateNode,typeof J.componentDidMount=="function")try{J.componentDidMount()}catch(an){Bo(B,B.return,an)}if(B=ue,J=B.updateQueue,J!==null){var Ge=B.stateNode;try{var Ct=J.shared.hiddenCallbacks;if(Ct!==null)for(J.shared.hiddenCallbacks=null,J=0;J<Ct.length;J++)Hg(Ct[J],Ge)}catch(an){Bo(B,B.return,an)}}A&&Ie&64&&F0(ue),Kd(ue,ue.return);break;case 27:lv(ue);case 26:case 5:Vh(J,ue,A),A&&B===null&&Ie&4&&H0(ue),Kd(ue,ue.return);break;case 12:Vh(J,ue,A);break;case 13:Vh(J,ue,A),A&&Ie&4&&i_(J,ue);break;case 22:ue.memoizedState===null&&Vh(J,ue,A),Kd(ue,ue.return);break;case 30:break;default:Vh(J,ue,A)}S=S.sibling}}function a_(m,S){var A=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),m=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(m=S.memoizedState.cachePool.pool),m!==A&&(m!=null&&m.refCount++,A!=null&&wl(A))}function vb(m,S){m=null,S.alternate!==null&&(m=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==m&&(S.refCount++,m!=null&&wl(m))}function fd(m,S,A,B){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Yx(m,S,A,B),S=S.sibling}function Yx(m,S,A,B){var J=S.flags;switch(S.tag){case 0:case 11:case 15:fd(m,S,A,B),J&2048&&Qg(9,S);break;case 1:fd(m,S,A,B);break;case 3:fd(m,S,A,B),J&2048&&(m=null,S.alternate!==null&&(m=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==m&&(S.refCount++,m!=null&&wl(m)));break;case 12:if(J&2048){fd(m,S,A,B),m=S.stateNode;try{var ue=S.memoizedProps,Ie=ue.id,Ge=ue.onPostCommit;typeof Ge=="function"&&Ge(Ie,S.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Ct){Bo(S,S.return,Ct)}}else fd(m,S,A,B);break;case 13:fd(m,S,A,B);break;case 23:break;case 22:ue=S.stateNode,Ie=S.alternate,S.memoizedState!==null?ue._visibility&2?fd(m,S,A,B):Uh(m,S):ue._visibility&2?fd(m,S,A,B):(ue._visibility|=2,cv(m,S,A,B,(S.subtreeFlags&10256)!==0)),J&2048&&a_(Ie,S);break;case 24:fd(m,S,A,B),J&2048&&vb(S.alternate,S);break;default:fd(m,S,A,B)}}function cv(m,S,A,B,J){for(J=J&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var ue=m,Ie=S,Ge=A,Ct=B,an=Ie.flags;switch(Ie.tag){case 0:case 11:case 15:cv(ue,Ie,Ge,Ct,J),Qg(8,Ie);break;case 23:break;case 22:var An=Ie.stateNode;Ie.memoizedState!==null?An._visibility&2?cv(ue,Ie,Ge,Ct,J):Uh(ue,Ie):(An._visibility|=2,cv(ue,Ie,Ge,Ct,J)),J&&an&2048&&a_(Ie.alternate,Ie);break;case 24:cv(ue,Ie,Ge,Ct,J),J&&an&2048&&vb(Ie.alternate,Ie);break;default:cv(ue,Ie,Ge,Ct,J)}S=S.sibling}}function Uh(m,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var A=m,B=S,J=B.flags;switch(B.tag){case 22:Uh(A,B),J&2048&&a_(B.alternate,B);break;case 24:Uh(A,B),J&2048&&vb(B.alternate,B);break;default:Uh(A,B)}S=S.sibling}}var ec=8192;function uv(m){if(m.subtreeFlags&ec)for(m=m.child;m!==null;)Xx(m),m=m.sibling}function Xx(m){switch(m.tag){case 26:uv(m),m.flags&ec&&m.memoizedState!==null&&cn(Fu,m.memoizedState,m.memoizedProps);break;case 5:uv(m);break;case 3:case 4:var S=Fu;Fu=ui(m.stateNode.containerInfo),uv(m),Fu=S;break;case 22:m.memoizedState===null&&(S=m.alternate,S!==null&&S.memoizedState!==null?(S=ec,ec=16777216,uv(m),ec=S):uv(m));break;default:uv(m)}}function Zx(m){var S=m.alternate;if(S!==null&&(m=S.child,m!==null)){S.child=null;do S=m.sibling,m.sibling=null,m=S;while(m!==null)}}function fv(m){var S=m.deletions;if((m.flags&16)!==0){if(S!==null)for(var A=0;A<S.length;A++){var B=S[A];Cl=B,o_(B,m)}Zx(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Qx(m),m=m.sibling}function Qx(m){switch(m.tag){case 0:case 11:case 15:fv(m),m.flags&2048&&ju(9,m,m.return);break;case 3:fv(m);break;case 12:fv(m);break;case 22:var S=m.stateNode;m.memoizedState!==null&&S._visibility&2&&(m.return===null||m.return.tag!==13)?(S._visibility&=-3,yb(m)):fv(m);break;default:fv(m)}}function yb(m){var S=m.deletions;if((m.flags&16)!==0){if(S!==null)for(var A=0;A<S.length;A++){var B=S[A];Cl=B,o_(B,m)}Zx(m)}for(m=m.child;m!==null;){switch(S=m,S.tag){case 0:case 11:case 15:ju(8,S,S.return),yb(S);break;case 22:A=S.stateNode,A._visibility&2&&(A._visibility&=-3,yb(S));break;default:yb(S)}m=m.sibling}}function o_(m,S){for(;Cl!==null;){var A=Cl;switch(A.tag){case 0:case 11:case 15:ju(8,A,S);break;case 23:case 22:if(A.memoizedState!==null&&A.memoizedState.cachePool!==null){var B=A.memoizedState.cachePool.pool;B!=null&&B.refCount++}break;case 24:wl(A.memoizedState.cache)}if(B=A.child,B!==null)B.return=A,Cl=B;else e:for(A=m;Cl!==null;){B=Cl;var J=B.sibling,ue=B.return;if(n_(B),B===A){Cl=null;break e}if(J!==null){J.return=ue,Cl=J;break e}Cl=ue}}}var s_={getCacheForType:function(m){var S=ca(Ma),A=S.data.get(m);return A===void 0&&(A=m(),S.data.set(m,A)),A}},bb=typeof WeakMap=="function"?WeakMap:Map,so=0,zo=null,ua=null,fa=0,po=0,du=null,Lp=!1,dv=!1,l_=!1,Zd=0,zs=0,Np=0,dd=0,_b=0,hu=0,tm=0,as=null,xc=null,c_=!1,xb=0,Dp=1/0,nm=null,zp=null,tc=0,Bp=null,hv=null,rm=0,nc=0,V0=null,u_=null,Hu=0,pv=null;function hl(){if((so&2)!==0&&fa!==0)return fa&-fa;if(Z.T!==null){var m=Ru;return m!==0?m:ty()}return zt()}function im(){hu===0&&(hu=(fa&536870912)===0||mi?Ye():536870912);var m=Bu.current;return m!==null&&(m.flags|=32),hu}function wc(m,S,A){(m===zo&&(po===2||po===9)||m.cancelPendingCommit!==null)&&(am(m,0),Gh(m,fa,hu,!1)),_t(m,A),((so&2)===0||m!==zo)&&(m===zo&&((so&2)===0&&(dd|=A),zs===4&&Gh(m,fa,hu,!1)),Qd(m))}function U0(m,S,A){if((so&6)!==0)throw Error(r(327));var B=!A&&(S&124)===0&&(S&m.expiredLanes)===0||we(m,S),J=B?eC(m,S):Cb(m,S,!0),ue=B;do{if(J===0){dv&&!B&&Gh(m,S,0,!1);break}else{if(A=m.current.alternate,ue&&!Q2(A)){J=Cb(m,S,!1),ue=!1;continue}if(J===2){if(ue=S,m.errorRecoveryDisabledLanes&ue)var Ie=0;else Ie=m.pendingLanes&-536870913,Ie=Ie!==0?Ie:Ie&536870912?536870912:0;if(Ie!==0){S=Ie;e:{var Ge=m;J=as;var Ct=Ge.current.memoizedState.isDehydrated;if(Ct&&(am(Ge,Ie).flags|=256),Ie=Cb(Ge,Ie,!1),Ie!==2){if(l_&&!Ct){Ge.errorRecoveryDisabledLanes|=ue,dd|=ue,J=4;break e}ue=xc,xc=J,ue!==null&&(xc===null?xc=ue:xc.push.apply(xc,ue))}J=Ie}if(ue=!1,J!==2)continue}}if(J===1){am(m,0),Gh(m,S,0,!0);break}e:{switch(B=m,ue=J,ue){case 0:case 1:throw Error(r(345));case 4:if((S&4194048)!==S)break;case 6:Gh(B,S,hu,!Lp);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((S&62914560)===S&&(J=xb+300-ft(),10<J)){if(Gh(B,S,hu,!Lp),be(B,0,!0)!==0)break e;B.timeoutHandle=cm(Jx.bind(null,B,A,xc,nm,c_,S,hu,dd,tm,Lp,ue,2,-0,0),J);break e}Jx(B,A,xc,nm,c_,S,hu,dd,tm,Lp,ue,0,-0,0)}}break}while(!0);Qd(m)}function Jx(m,S,A,B,J,ue,Ie,Ge,Ct,an,An,Hn,fn,on){if(m.timeoutHandle=-1,Hn=S.subtreeFlags,(Hn&8192||(Hn&16785408)===16785408)&&(Wt={stylesheets:null,count:0,unsuspend:jn},Xx(S),Hn=yn(),Hn!==null)){m.cancelPendingCommit=Hn(pu.bind(null,m,S,ue,A,B,J,Ie,Ge,Ct,An,1,fn,on)),Gh(m,ue,Ie,!an);return}pu(m,S,ue,A,B,J,Ie,Ge,Ct)}function Q2(m){for(var S=m;;){var A=S.tag;if((A===0||A===11||A===15)&&S.flags&16384&&(A=S.updateQueue,A!==null&&(A=A.stores,A!==null)))for(var B=0;B<A.length;B++){var J=A[B],ue=J.getSnapshot;J=J.value;try{if(!ql(ue(),J))return!1}catch{return!1}}if(A=S.child,S.subtreeFlags&16384&&A!==null)A.return=S,S=A;else{if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Gh(m,S,A,B){S&=~_b,S&=~dd,m.suspendedLanes|=S,m.pingedLanes&=~S,B&&(m.warmLanes|=S),B=m.expirationTimes;for(var J=S;0<J;){var ue=31-sn(J),Ie=1<<ue;B[ue]=-1,J&=~Ie}A!==0&&jt(m,A,S)}function G0(){return(so&6)===0?(Q0(0),!1):!0}function f_(){if(ua!==null){if(po===0)var m=ua.return;else m=ua,Ve=Jf=null,Op(m),So=null,As=0,m=ua;for(;m!==null;)av(m.alternate,m),m=m.return;ua=null}}function am(m,S){var A=m.timeoutHandle;A!==-1&&(m.timeoutHandle=-1,Vl(A)),A=m.cancelPendingCommit,A!==null&&(m.cancelPendingCommit=null,A()),f_(),zo=m,ua=A=ll(m.current,null),fa=S,po=0,du=null,Lp=!1,dv=we(m,S),l_=!1,tm=hu=_b=dd=Np=zs=0,xc=as=null,c_=!1,(S&8)!==0&&(S|=S&32);var B=m.entangledLanes;if(B!==0)for(m=m.entanglements,B&=S;0<B;){var J=31-sn(B),ue=1<<J;S|=m[J],B&=~ue}return Zd=S,Th(),A}function d_(m,S){Nr=null,Z.H=Du,S===Zl||S===Sp?(S=gf(),po=3):S===Xm?(S=gf(),po=4):po=S===lu?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,du=S,ua===null&&(zs=1,tv(m,sl(S,m.current)))}function wb(){var m=Z.H;return Z.H=Du,m===null?Du:m}function Sb(){var m=Z.A;return Z.A=s_,m}function h_(){zs=4,Lp||(fa&4194048)!==fa&&Bu.current!==null||(dv=!0),(Np&134217727)===0&&(dd&134217727)===0||zo===null||Gh(zo,fa,hu,!1)}function Cb(m,S,A){var B=so;so|=2;var J=wb(),ue=Sb();(zo!==m||fa!==S)&&(nm=null,am(m,S)),S=!1;var Ie=zs;e:do try{if(po!==0&&ua!==null){var Ge=ua,Ct=du;switch(po){case 8:f_(),Ie=6;break e;case 3:case 2:case 9:case 6:Bu.current===null&&(S=!0);var an=po;if(po=0,du=null,om(m,Ge,Ct,an),A&&dv){Ie=0;break e}break;default:an=po,po=0,du=null,om(m,Ge,Ct,an)}}J2(),Ie=zs;break}catch(An){d_(m,An)}while(!0);return S&&m.shellSuspendCounter++,Ve=Jf=null,so=B,Z.H=J,Z.A=ue,ua===null&&(zo=null,fa=0,Th()),Ie}function J2(){for(;ua!==null;)p_(ua)}function eC(m,S){var A=so;so|=2;var B=wb(),J=Sb();zo!==m||fa!==S?(nm=null,Dp=ft()+500,am(m,S)):dv=we(m,S);e:do try{if(po!==0&&ua!==null){S=ua;var ue=du;t:switch(po){case 1:po=0,du=null,om(m,S,ue,1);break;case 2:case 9:if(P0(ue)){po=0,du=null,tw(S);break}S=function(){po!==2&&po!==9||zo!==m||(po=7),Qd(m)},ue.then(S,S);break e;case 3:po=7;break e;case 4:po=5;break e;case 7:P0(ue)?(po=0,du=null,tw(S)):(po=0,du=null,om(m,S,ue,7));break;case 5:var Ie=null;switch(ua.tag){case 26:Ie=ua.memoizedState;case 5:case 27:var Ge=ua;if(!Ie||dt(Ie)){po=0,du=null;var Ct=Ge.sibling;if(Ct!==null)ua=Ct;else{var an=Ge.return;an!==null?(ua=an,W0(an)):ua=null}break t}}po=0,du=null,om(m,S,ue,5);break;case 6:po=0,du=null,om(m,S,ue,6);break;case 8:f_(),zs=6;break e;default:throw Error(r(462))}}ew();break}catch(An){d_(m,An)}while(!0);return Ve=Jf=null,Z.H=B,Z.A=J,so=A,ua!==null?0:(zo=null,fa=0,Th(),zs)}function ew(){for(;ua!==null&&!rt();)p_(ua)}function p_(m){var S=Xo(m.alternate,m,Zd);m.memoizedProps=m.pendingProps,S===null?W0(m):ua=S}function tw(m){var S=m,A=S.alternate;switch(S.tag){case 15:case 0:S=iv(A,S,S.pendingProps,S.type,void 0,fa);break;case 11:S=iv(A,S,S.pendingProps,S.type.render,S.ref,fa);break;case 5:Op(S);default:av(A,S),S=ua=Xf(S,Zd),S=Xo(A,S,Zd)}m.memoizedProps=m.pendingProps,S===null?W0(m):ua=S}function om(m,S,A,B){Ve=Jf=null,Op(S),So=null,As=0;var J=S.return;try{if(rv(m,J,S,A,fa)){zs=1,tv(m,sl(A,m.current)),ua=null;return}}catch(ue){if(J!==null)throw ua=J,ue;zs=1,tv(m,sl(A,m.current)),ua=null;return}S.flags&32768?(mi||B===1?m=!0:dv||(fa&536870912)!==0?m=!1:(Lp=m=!0,(B===2||B===9||B===3||B===6)&&(B=Bu.current,B!==null&&B.tag===13&&(B.flags|=16384))),gv(S,m)):W0(S)}function W0(m){var S=m;do{if((S.flags&32768)!==0){gv(S,Lp);return}m=S.return;var A=e_(S.alternate,S,Zd);if(A!==null){ua=A;return}if(S=S.sibling,S!==null){ua=S;return}ua=S=m}while(S!==null);zs===0&&(zs=5)}function gv(m,S){do{var A=t_(m.alternate,m);if(A!==null){A.flags&=32767,ua=A;return}if(A=m.return,A!==null&&(A.flags|=32768,A.subtreeFlags=0,A.deletions=null),!S&&(m=m.sibling,m!==null)){ua=m;return}ua=m=A}while(m!==null);zs=6,ua=null}function pu(m,S,A,B,J,ue,Ie,Ge,Ct){m.cancelPendingCommit=null;do Ob();while(tc!==0);if((so&6)!==0)throw Error(r(327));if(S!==null){if(S===m.current)throw Error(r(177));if(ue=S.lanes|S.childLanes,ue|=Oh,yt(m,A,ue,Ie,Ge,Ct),m===zo&&(ua=zo=null,fa=0),hv=S,Bp=m,rm=A,nc=ue,V0=J,u_=B,(S.subtreeFlags&10256)!==0||(S.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,Mb(xt,function(){return q0(),null})):(m.callbackNode=null,m.callbackPriority=0),B=(S.flags&13878)!==0,(S.subtreeFlags&13878)!==0||B){B=Z.T,Z.T=null,J=re.p,re.p=2,Ie=so,so|=4;try{Z2(m,S,A)}finally{so=Ie,re.p=J,Z.T=B}}tc=1,Wh(),g_(),Eb()}}function Wh(){if(tc===1){tc=0;var m=Bp,S=hv,A=(S.flags&13878)!==0;if((S.subtreeFlags&13878)!==0||A){A=Z.T,Z.T=null;var B=re.p;re.p=2;var J=so;so|=4;try{em(S,m);var ue=iy,Ie=E0(m.containerInfo),Ge=ue.focusedElem,Ct=ue.selectionRange;if(Ie!==Ge&&Ge&&Ge.ownerDocument&&ib(Ge.ownerDocument.documentElement,Ge)){if(Ct!==null&&O0(Ge)){var an=Ct.start,An=Ct.end;if(An===void 0&&(An=an),"selectionStart"in Ge)Ge.selectionStart=an,Ge.selectionEnd=Math.min(An,Ge.value.length);else{var Hn=Ge.ownerDocument||document,fn=Hn&&Hn.defaultView||window;if(fn.getSelection){var on=fn.getSelection(),ni=Ge.textContent.length,Qr=Math.min(Ct.start,ni),Ri=Ct.end===void 0?Qr:Math.min(Ct.end,ni);!on.extend&&Qr>Ri&&(Ie=Ri,Ri=Qr,Qr=Ie);var Ut=C0(Ge,Qr),kt=C0(Ge,Ri);if(Ut&&kt&&(on.rangeCount!==1||on.anchorNode!==Ut.node||on.anchorOffset!==Ut.offset||on.focusNode!==kt.node||on.focusOffset!==kt.offset)){var qt=Hn.createRange();qt.setStart(Ut.node,Ut.offset),on.removeAllRanges(),Qr>Ri?(on.addRange(qt),on.extend(kt.node,kt.offset)):(qt.setEnd(kt.node,kt.offset),on.addRange(qt))}}}}for(Hn=[],on=Ge;on=on.parentNode;)on.nodeType===1&&Hn.push({element:on,left:on.scrollLeft,top:on.scrollTop});for(typeof Ge.focus=="function"&&Ge.focus(),Ge=0;Ge<Hn.length;Ge++){var zn=Hn[Ge];zn.element.scrollLeft=zn.left,zn.element.scrollTop=zn.top}}Sc=!!mu,iy=mu=null}finally{so=J,re.p=B,Z.T=A}}m.current=S,tc=2}}function g_(){if(tc===2){tc=0;var m=Bp,S=hv,A=(S.flags&8772)!==0;if((S.subtreeFlags&8772)!==0||A){A=Z.T,Z.T=null;var B=re.p;re.p=2;var J=so;so|=4;try{hb(m,S.alternate,S)}finally{so=J,re.p=B,Z.T=A}}tc=3}}function Eb(){if(tc===4||tc===3){tc=0,ht();var m=Bp,S=hv,A=rm,B=u_;(S.subtreeFlags&10256)!==0||(S.flags&10256)!==0?tc=5:(tc=0,hv=Bp=null,nw(m,m.pendingLanes));var J=m.pendingLanes;if(J===0&&(zp=null),It(A),S=S.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(dn,S,void 0,(S.current.flags&128)===128)}catch{}if(B!==null){S=Z.T,J=re.p,re.p=2,Z.T=null;try{for(var ue=m.onRecoverableError,Ie=0;Ie<B.length;Ie++){var Ge=B[Ie];ue(Ge.value,{componentStack:Ge.stack})}}finally{Z.T=S,re.p=J}}(rm&3)!==0&&Ob(),Qd(m),J=m.pendingLanes,(A&4194090)!==0&&(J&42)!==0?m===pv?Hu++:(Hu=0,pv=m):Hu=0,Q0(0)}}function nw(m,S){(m.pooledCacheLanes&=S)===0&&(S=m.pooledCache,S!=null&&(m.pooledCache=null,wl(S)))}function Ob(m){return Wh(),g_(),Eb(),q0()}function q0(){if(tc!==5)return!1;var m=Bp,S=nc;nc=0;var A=It(rm),B=Z.T,J=re.p;try{re.p=32>A?32:A,Z.T=null,A=V0,V0=null;var ue=Bp,Ie=rm;if(tc=0,hv=Bp=null,rm=0,(so&6)!==0)throw Error(r(331));var Ge=so;if(so|=4,Qx(ue.current),Yx(ue,ue.current,Ie,A),so=Ge,Q0(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(dn,ue)}catch{}return!0}finally{re.p=J,Z.T=B,nw(m,S)}}function Tb(m,S,A){S=sl(A,S),S=nv(m.stateNode,S,2),m=ou(m,S,2),m!==null&&(_t(m,2),Qd(m))}function Bo(m,S,A){if(m.tag===3)Tb(m,m,A);else for(;S!==null;){if(S.tag===3){Tb(S,m,A);break}else if(S.tag===1){var B=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(zp===null||!zp.has(B))){m=sl(A,m),A=lb(2),B=ou(S,A,2),B!==null&&(cb(A,B,S,m),_t(B,2),Qd(B));break}}S=S.return}}function K0(m,S,A){var B=m.pingCache;if(B===null){B=m.pingCache=new bb;var J=new Set;B.set(S,J)}else J=B.get(S),J===void 0&&(J=new Set,B.set(S,J));J.has(A)||(l_=!0,J.add(A),m=m_.bind(null,m,S,A),S.then(m,m))}function m_(m,S,A){var B=m.pingCache;B!==null&&B.delete(S),m.pingedLanes|=m.suspendedLanes&A,m.warmLanes&=~A,zo===m&&(fa&A)===A&&(zs===4||zs===3&&(fa&62914560)===fa&&300>ft()-xb?(so&2)===0&&am(m,0):_b|=A,tm===fa&&(tm=0)),Qd(m)}function sm(m,S){S===0&&(S=lt()),m=Ah(m,S),m!==null&&(_t(m,S),Qd(m))}function Y0(m){var S=m.memoizedState,A=0;S!==null&&(A=S.retryLane),sm(m,A)}function rw(m,S){var A=0;switch(m.tag){case 13:var B=m.stateNode,J=m.memoizedState;J!==null&&(A=J.retryLane);break;case 19:B=m.stateNode;break;case 22:B=m.stateNode._retryCache;break;default:throw Error(r(314))}B!==null&&B.delete(S),sm(m,A)}function Mb(m,S){return qe(m,S)}var mv=null,hd=null,X0=!1,Z0=!1,Ab=!1,qh=0;function Qd(m){m!==hd&&m.next===null&&(hd===null?mv=hd=m:hd=hd.next=m),Z0=!0,X0||(X0=!0,Pb())}function Q0(m,S){if(!Ab&&Z0){Ab=!0;do for(var A=!1,B=mv;B!==null;){if(m!==0){var J=B.pendingLanes;if(J===0)var ue=0;else{var Ie=B.suspendedLanes,Ge=B.pingedLanes;ue=(1<<31-sn(42|m)+1)-1,ue&=J&~(Ie&~Ge),ue=ue&201326741?ue&201326741|1:ue?ue|2:0}ue!==0&&(A=!0,Kh(B,ue))}else ue=fa,ue=be(B,B===zo?ue:0,B.cancelPendingCommit!==null||B.timeoutHandle!==-1),(ue&3)===0||we(B,ue)||(A=!0,Kh(B,ue));B=B.next}while(A);Ab=!1}}function tC(){J0()}function J0(){Z0=X0=!1;var m=0;qh!==0&&(nC()&&(m=qh),qh=0);for(var S=ft(),A=null,B=mv;B!==null;){var J=B.next,ue=ey(B,S);ue===0?(B.next=null,A===null?mv=J:A.next=J,J===null&&(hd=A)):(A=B,(m!==0||(ue&3)!==0)&&(Z0=!0)),B=J}Q0(m)}function ey(m,S){for(var A=m.suspendedLanes,B=m.pingedLanes,J=m.expirationTimes,ue=m.pendingLanes&-62914561;0<ue;){var Ie=31-sn(ue),Ge=1<<Ie,Ct=J[Ie];Ct===-1?((Ge&A)===0||(Ge&B)!==0)&&(J[Ie]=xe(Ge,S)):Ct<=S&&(m.expiredLanes|=Ge),ue&=~Ge}if(S=zo,A=fa,A=be(m,m===S?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),B=m.callbackNode,A===0||m===S&&(po===2||po===9)||m.cancelPendingCommit!==null)return B!==null&&B!==null&&We(B),m.callbackNode=null,m.callbackPriority=0;if((A&3)===0||we(m,A)){if(S=A&-A,S===m.callbackPriority)return S;switch(B!==null&&We(B),It(A)){case 2:case 8:A=Jt;break;case 32:A=xt;break;case 268435456:A=Lt;break;default:A=xt}return B=Ib.bind(null,m),A=qe(A,B),m.callbackPriority=S,m.callbackNode=A,S}return B!==null&&B!==null&&We(B),m.callbackPriority=2,m.callbackNode=null,2}function Ib(m,S){if(tc!==0&&tc!==5)return m.callbackNode=null,m.callbackPriority=0,null;var A=m.callbackNode;if(Ob()&&m.callbackNode!==A)return null;var B=fa;return B=be(m,m===zo?B:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),B===0?null:(U0(m,B,S),ey(m,ft()),m.callbackNode!=null&&m.callbackNode===A?Ib.bind(null,m):null)}function Kh(m,S){if(Ob())return null;U0(m,S,!0)}function Pb(){S_(function(){(so&6)!==0?qe(Yt,tC):J0()})}function ty(){return qh===0&&(qh=Ye()),qh}function v_(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:Ii(""+m)}function y_(m,S){var A=S.ownerDocument.createElement("input");return A.name=S.name,A.value=S.value,m.id&&A.setAttribute("form",m.id),S.parentNode.insertBefore(A,S),m=new FormData(m),A.parentNode.removeChild(A),m}function iw(m,S,A,B,J){if(S==="submit"&&A&&A.stateNode===J){var ue=v_((J[Bt]||null).action),Ie=B.submitter;Ie&&(S=(S=Ie[Bt]||null)?v_(S.formAction):Ie.getAttribute("formAction"),S!==null&&(ue=S,Ie=null));var Ge=new Pd("action","action",null,B,J);m.push({event:Ge,listeners:[{instance:null,listener:function(){if(B.defaultPrevented){if(qh!==0){var Ct=Ie?y_(J,Ie):new FormData(J);su(A,{pending:!0,data:Ct,method:J.method,action:ue},null,Ct)}}else typeof ue=="function"&&(Ge.preventDefault(),Ct=Ie?y_(J,Ie):new FormData(J),su(A,{pending:!0,data:Ct,method:J.method,action:ue},ue,Ct))},currentTarget:J}]})}}for(var ny=0;ny<Ta.length;ny++){var Rb=Ta[ny],ry=Rb.toLowerCase(),aw=Rb[0].toUpperCase()+Rb.slice(1);Lc(ry,"on"+aw)}Lc(af,"onAnimationEnd"),Lc(zg,"onAnimationIteration"),Lc(zl,"onAnimationStart"),Lc("dblclick","onDoubleClick"),Lc("focusin","onFocus"),Lc("focusout","onBlur"),Lc(Ld,"onTransitionRun"),Lc(Gm,"onTransitionStart"),Lc(Ch,"onTransitionCancel"),Lc(of,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lm));function gu(m,S){S=(S&4)!==0;for(var A=0;A<m.length;A++){var B=m[A],J=B.event;B=B.listeners;e:{var ue=void 0;if(S)for(var Ie=B.length-1;0<=Ie;Ie--){var Ge=B[Ie],Ct=Ge.instance,an=Ge.currentTarget;if(Ge=Ge.listener,Ct!==ue&&J.isPropagationStopped())break e;ue=Ge,J.currentTarget=an;try{ue(J)}catch(An){Yg(An)}J.currentTarget=null,ue=Ct}else for(Ie=0;Ie<B.length;Ie++){if(Ge=B[Ie],Ct=Ge.instance,an=Ge.currentTarget,Ge=Ge.listener,Ct!==ue&&J.isPropagationStopped())break e;ue=Ge,J.currentTarget=an;try{ue(J)}catch(An){Yg(An)}J.currentTarget=null,ue=Ct}}}}function Fi(m,S){var A=S[Fn];A===void 0&&(A=S[Fn]=new Set);var B=m+"__bubble";A.has(B)||(b_(S,m,2,!1),A.add(B))}function $b(m,S,A){var B=0;S&&(B|=4),b_(A,m,B,S)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function kb(m){if(!m[Vc]){m[Vc]=!0,Zr.forEach(function(A){A!=="selectionchange"&&(ow.has(A)||$b(A,!1,m),$b(A,!0,m))});var S=m.nodeType===9?m:m.ownerDocument;S===null||S[Vc]||(S[Vc]=!0,$b("selectionchange",!1,S))}}function b_(m,S,A,B){switch(rc(S)){case 2:var J=Gc;break;case 8:J=_s;break;default:J=Oo}A=J.bind(null,S,A,m),J=void 0,!fr||S!=="touchstart"&&S!=="touchmove"&&S!=="wheel"||(J=!0),B?J!==void 0?m.addEventListener(S,A,{capture:!0,passive:J}):m.addEventListener(S,A,!0):J!==void 0?m.addEventListener(S,A,{passive:J}):m.addEventListener(S,A,!1)}function Jd(m,S,A,B,J){var ue=B;if((S&1)===0&&(S&2)===0&&B!==null)e:for(;;){if(B===null)return;var Ie=B.tag;if(Ie===3||Ie===4){var Ge=B.stateNode.containerInfo;if(Ge===J)break;if(Ie===4)for(Ie=B.return;Ie!==null;){var Ct=Ie.tag;if((Ct===3||Ct===4)&&Ie.stateNode.containerInfo===J)return;Ie=Ie.return}for(;Ge!==null;){if(Ie=ir(Ge),Ie===null)return;if(Ct=Ie.tag,Ct===5||Ct===6||Ct===26||Ct===27){B=ue=Ie;continue e}Ge=Ge.parentNode}}B=B.return}$c(function(){var an=ue,An=Ki(A),Hn=[];e:{var fn=sf.get(m);if(fn!==void 0){var on=Pd,ni=m;switch(m){case"keypress":if(ra(A)===0)break e;case"keydown":case"keyup":on=Rd;break;case"focusin":ni="focus",on=hc;break;case"focusout":ni="blur",on=hc;break;case"beforeblur":case"afterblur":on=hc;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":on=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":on=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":on=V1;break;case af:case zg:case zl:on=zm;break;case of:on=Tg;break;case"scroll":case"scrollend":on=Nm;break;case"wheel":on=nb;break;case"copy":case"cut":case"paste":on=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":on=Ou;break;case"toggle":case"beforetoggle":on=Ag}var Qr=(S&4)!==0,Ri=!Qr&&(m==="scroll"||m==="scrollend"),Ut=Qr?fn!==null?fn+"Capture":null:fn;Qr=[];for(var kt=an,qt;kt!==null;){var zn=kt;if(qt=zn.stateNode,zn=zn.tag,zn!==5&&zn!==26&&zn!==27||qt===null||Ut===null||(zn=kc(kt,Ut),zn!=null&&Qr.push(oi(kt,zn,qt))),Ri)break;kt=kt.return}0<Qr.length&&(fn=new on(fn,ni,null,A,An),Hn.push({event:fn,listeners:Qr}))}}if((S&7)===0){e:{if(fn=m==="mouseover"||m==="pointerover",on=m==="mouseout"||m==="pointerout",fn&&A!==La&&(ni=A.relatedTarget||A.fromElement)&&(ir(ni)||ni[nn]))break e;if((on||fn)&&(fn=An.window===An?An:(fn=An.ownerDocument)?fn.defaultView||fn.parentWindow:window,on?(ni=A.relatedTarget||A.toElement,on=an,ni=ni?ir(ni):null,ni!==null&&(Ri=a(ni),Qr=ni.tag,ni!==Ri||Qr!==5&&Qr!==27&&Qr!==6)&&(ni=null)):(on=null,ni=an),on!==ni)){if(Qr=Cu,zn="onMouseLeave",Ut="onMouseEnter",kt="mouse",(m==="pointerout"||m==="pointerover")&&(Qr=Ou,zn="onPointerLeave",Ut="onPointerEnter",kt="pointer"),Ri=on==null?fn:Er(on),qt=ni==null?fn:Er(ni),fn=new Qr(zn,kt+"leave",on,A,An),fn.target=Ri,fn.relatedTarget=qt,zn=null,ir(An)===an&&(Qr=new Qr(Ut,kt+"enter",ni,A,An),Qr.target=qt,Qr.relatedTarget=Ri,zn=Qr),Ri=zn,on&&ni)t:{for(Qr=on,Ut=ni,kt=0,qt=Qr;qt;qt=pl(qt))kt++;for(qt=0,zn=Ut;zn;zn=pl(zn))qt++;for(;0<kt-qt;)Qr=pl(Qr),kt--;for(;0<qt-kt;)Ut=pl(Ut),qt--;for(;kt--;){if(Qr===Ut||Ut!==null&&Qr===Ut.alternate)break t;Qr=pl(Qr),Ut=pl(Ut)}Qr=null}else Qr=null;on!==null&&go(Hn,fn,on,Qr,!1),ni!==null&&Ri!==null&&go(Hn,Ri,ni,Qr,!0)}}e:{if(fn=an?Er(an):window,on=fn.nodeName&&fn.nodeName.toLowerCase(),on==="select"||on==="input"&&fn.type==="file")var Sr=Hm;else if(kd(fn))if(Vm)Sr=va;else{Sr=nf;var ba=Um}else on=fn.nodeName,!on||on.toLowerCase()!=="input"||fn.type!=="checkbox"&&fn.type!=="radio"?an&&xr(an.elementType)&&(Sr=Hm):Sr=Dg;if(Sr&&(Sr=Sr(m,an))){_p(Hn,Sr,A,An);break e}ba&&ba(m,fn,an),m==="focusout"&&an&&fn.type==="number"&&an.memoizedProps.value!=null&&Ci(fn,"number",fn.value)}switch(ba=an?Er(an):window,m){case"focusin":(kd(ba)||ba.contentEditable==="true")&&(Kf=ba,Au=an,Vt=null);break;case"focusout":Vt=Au=Kf=null;break;case"mousedown":Rn=!0;break;case"contextmenu":case"mouseup":case"dragend":Rn=!1,pn(Hn,A,An);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":pn(Hn,A,An)}var Gr;if(S0)e:{switch(m){case"compositionstart":var si="onCompositionStart";break e;case"compositionend":si="onCompositionEnd";break e;case"compositionupdate":si="onCompositionUpdate";break e}si=void 0}else Wf?Fm(m,A)&&(si="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(si="onCompositionStart");si&&(Ig&&A.locale!=="ko"&&(Wf||si!=="onCompositionStart"?si==="onCompositionEnd"&&Wf&&(Gr=Pi()):(Lr=An,Ir="value"in Lr?Lr.value:Lr.textContent,Wf=!0)),ba=Lb(an,si),0<ba.length&&(si=new pc(si,m,null,A,An),Hn.push({event:si,listeners:ba}),Gr?si.data=Gr:(Gr=Rg(A),Gr!==null&&(si.data=Gr)))),(Gr=rb?xh(m,A):$g(m,A))&&(si=Lb(an,"onBeforeInput"),0<si.length&&(ba=new pc("onBeforeInput","beforeinput",null,A,An),Hn.push({event:ba,listeners:si}),ba.data=Gr)),iw(Hn,m,an,A,An)}gu(Hn,S)})}function oi(m,S,A){return{instance:m,listener:S,currentTarget:A}}function Lb(m,S){for(var A=S+"Capture",B=[];m!==null;){var J=m,ue=J.stateNode;if(J=J.tag,J!==5&&J!==26&&J!==27||ue===null||(J=kc(m,A),J!=null&&B.unshift(oi(m,J,ue)),J=kc(m,S),J!=null&&B.push(oi(m,J,ue))),m.tag===3)return B;m=m.return}return[]}function pl(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function go(m,S,A,B,J){for(var ue=S._reactName,Ie=[];A!==null&&A!==B;){var Ge=A,Ct=Ge.alternate,an=Ge.stateNode;if(Ge=Ge.tag,Ct!==null&&Ct===B)break;Ge!==5&&Ge!==26&&Ge!==27||an===null||(Ct=an,J?(an=kc(A,ue),an!=null&&Ie.unshift(oi(A,an,Ct))):J||(an=kc(A,ue),an!=null&&Ie.push(oi(A,an,Ct)))),A=A.return}Ie.length!==0&&m.push({event:S,listeners:Ie})}var sw=/\r\n?/g,Yh=/\u0000|\uFFFD/g;function __(m){return(typeof m=="string"?m:""+m).replace(sw,`
`).replace(Yh,"")}function x_(m,S){return S=__(S),__(m)===S}function Nb(){}function Eo(m,S,A,B,J,ue){switch(A){case"children":typeof B=="string"?S==="body"||S==="textarea"&&B===""||Ui(m,B):(typeof B=="number"||typeof B=="bigint")&&S!=="body"&&Ui(m,""+B);break;case"className":ki(m,"class",B);break;case"tabIndex":ki(m,"tabindex",B);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(m,A,B);break;case"style":Tr(m,B,ue);break;case"data":if(S!=="object"){ki(m,"data",B);break}case"src":case"href":if(B===""&&(S!=="a"||A!=="href")){m.removeAttribute(A);break}if(B==null||typeof B=="function"||typeof B=="symbol"||typeof B=="boolean"){m.removeAttribute(A);break}B=Ii(""+B),m.setAttribute(A,B);break;case"action":case"formAction":if(typeof B=="function"){m.setAttribute(A,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ue=="function"&&(A==="formAction"?(S!=="input"&&Eo(m,S,"name",J.name,J,null),Eo(m,S,"formEncType",J.formEncType,J,null),Eo(m,S,"formMethod",J.formMethod,J,null),Eo(m,S,"formTarget",J.formTarget,J,null)):(Eo(m,S,"encType",J.encType,J,null),Eo(m,S,"method",J.method,J,null),Eo(m,S,"target",J.target,J,null)));if(B==null||typeof B=="symbol"||typeof B=="boolean"){m.removeAttribute(A);break}B=Ii(""+B),m.setAttribute(A,B);break;case"onClick":B!=null&&(m.onclick=Nb);break;case"onScroll":B!=null&&Fi("scroll",m);break;case"onScrollEnd":B!=null&&Fi("scrollend",m);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(r(61));if(A=B.__html,A!=null){if(J.children!=null)throw Error(r(60));m.innerHTML=A}}break;case"multiple":m.multiple=B&&typeof B!="function"&&typeof B!="symbol";break;case"muted":m.muted=B&&typeof B!="function"&&typeof B!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(B==null||typeof B=="function"||typeof B=="boolean"||typeof B=="symbol"){m.removeAttribute("xlink:href");break}A=Ii(""+B),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",A);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":B!=null&&typeof B!="function"&&typeof B!="symbol"?m.setAttribute(A,""+B):m.removeAttribute(A);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":B&&typeof B!="function"&&typeof B!="symbol"?m.setAttribute(A,""):m.removeAttribute(A);break;case"capture":case"download":B===!0?m.setAttribute(A,""):B!==!1&&B!=null&&typeof B!="function"&&typeof B!="symbol"?m.setAttribute(A,B):m.removeAttribute(A);break;case"cols":case"rows":case"size":case"span":B!=null&&typeof B!="function"&&typeof B!="symbol"&&!isNaN(B)&&1<=B?m.setAttribute(A,B):m.removeAttribute(A);break;case"rowSpan":case"start":B==null||typeof B=="function"||typeof B=="symbol"||isNaN(B)?m.removeAttribute(A):m.setAttribute(A,B);break;case"popover":Fi("beforetoggle",m),Fi("toggle",m),Hr(m,"popover",B);break;case"xlinkActuate":Vi(m,"http://www.w3.org/1999/xlink","xlink:actuate",B);break;case"xlinkArcrole":Vi(m,"http://www.w3.org/1999/xlink","xlink:arcrole",B);break;case"xlinkRole":Vi(m,"http://www.w3.org/1999/xlink","xlink:role",B);break;case"xlinkShow":Vi(m,"http://www.w3.org/1999/xlink","xlink:show",B);break;case"xlinkTitle":Vi(m,"http://www.w3.org/1999/xlink","xlink:title",B);break;case"xlinkType":Vi(m,"http://www.w3.org/1999/xlink","xlink:type",B);break;case"xmlBase":Vi(m,"http://www.w3.org/XML/1998/namespace","xml:base",B);break;case"xmlLang":Vi(m,"http://www.w3.org/XML/1998/namespace","xml:lang",B);break;case"xmlSpace":Vi(m,"http://www.w3.org/XML/1998/namespace","xml:space",B);break;case"is":Hr(m,"is",B);break;case"innerText":case"textContent":break;default:(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N")&&(A=ei.get(A)||A,Hr(m,A,B))}}function Db(m,S,A,B,J,ue){switch(A){case"style":Tr(m,B,ue);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(r(61));if(A=B.__html,A!=null){if(J.children!=null)throw Error(r(60));m.innerHTML=A}}break;case"children":typeof B=="string"?Ui(m,B):(typeof B=="number"||typeof B=="bigint")&&Ui(m,""+B);break;case"onScroll":B!=null&&Fi("scroll",m);break;case"onScrollEnd":B!=null&&Fi("scrollend",m);break;case"onClick":B!=null&&(m.onclick=Nb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!li.hasOwnProperty(A))e:{if(A[0]==="o"&&A[1]==="n"&&(J=A.endsWith("Capture"),S=A.slice(2,J?A.length-7:void 0),ue=m[Bt]||null,ue=ue!=null?ue[A]:null,typeof ue=="function"&&m.removeEventListener(S,ue,J),typeof B=="function")){typeof ue!="function"&&ue!==null&&(A in m?m[A]=null:m.hasAttribute(A)&&m.removeAttribute(A)),m.addEventListener(S,B,J);break e}A in m?m[A]=B:B===!0?m.setAttribute(A,""):Hr(m,A,B)}}}function Is(m,S,A){switch(S){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fi("error",m),Fi("load",m);var B=!1,J=!1,ue;for(ue in A)if(A.hasOwnProperty(ue)){var Ie=A[ue];if(Ie!=null)switch(ue){case"src":B=!0;break;case"srcSet":J=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,S));default:Eo(m,S,ue,Ie,A,null)}}J&&Eo(m,S,"srcSet",A.srcSet,A,null),B&&Eo(m,S,"src",A.src,A,null);return;case"input":Fi("invalid",m);var Ge=ue=Ie=J=null,Ct=null,an=null;for(B in A)if(A.hasOwnProperty(B)){var An=A[B];if(An!=null)switch(B){case"name":J=An;break;case"type":Ie=An;break;case"checked":Ct=An;break;case"defaultChecked":an=An;break;case"value":ue=An;break;case"defaultValue":Ge=An;break;case"children":case"dangerouslySetInnerHTML":if(An!=null)throw Error(r(137,S));break;default:Eo(m,S,B,An,A,null)}}ci(m,ue,Ge,Ct,an,Ie,J,!1),ko(m);return;case"select":Fi("invalid",m),B=Ie=ue=null;for(J in A)if(A.hasOwnProperty(J)&&(Ge=A[J],Ge!=null))switch(J){case"value":ue=Ge;break;case"defaultValue":Ie=Ge;break;case"multiple":B=Ge;default:Eo(m,S,J,Ge,A,null)}S=ue,A=Ie,m.multiple=!!B,S!=null?Ei(m,!!B,S,!1):A!=null&&Ei(m,!!B,A,!0);return;case"textarea":Fi("invalid",m),ue=J=B=null;for(Ie in A)if(A.hasOwnProperty(Ie)&&(Ge=A[Ie],Ge!=null))switch(Ie){case"value":B=Ge;break;case"defaultValue":J=Ge;break;case"children":ue=Ge;break;case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(91));break;default:Eo(m,S,Ie,Ge,A,null)}Br(m,B,J,ue),ko(m);return;case"option":for(Ct in A)if(A.hasOwnProperty(Ct)&&(B=A[Ct],B!=null))switch(Ct){case"selected":m.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Eo(m,S,Ct,B,A,null)}return;case"dialog":Fi("beforetoggle",m),Fi("toggle",m),Fi("cancel",m),Fi("close",m);break;case"iframe":case"object":Fi("load",m);break;case"video":case"audio":for(B=0;B<lm.length;B++)Fi(lm[B],m);break;case"image":Fi("error",m),Fi("load",m);break;case"details":Fi("toggle",m);break;case"embed":case"source":case"link":Fi("error",m),Fi("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(an in A)if(A.hasOwnProperty(an)&&(B=A[an],B!=null))switch(an){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,S));default:Eo(m,S,an,B,A,null)}return;default:if(xr(S)){for(An in A)A.hasOwnProperty(An)&&(B=A[An],B!==void 0&&Db(m,S,An,B,A,void 0));return}}for(Ge in A)A.hasOwnProperty(Ge)&&(B=A[Ge],B!=null&&Eo(m,S,Ge,B,A,null))}function lw(m,S,A,B){switch(S){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var J=null,ue=null,Ie=null,Ge=null,Ct=null,an=null,An=null;for(on in A){var Hn=A[on];if(A.hasOwnProperty(on)&&Hn!=null)switch(on){case"checked":break;case"value":break;case"defaultValue":Ct=Hn;default:B.hasOwnProperty(on)||Eo(m,S,on,null,B,Hn)}}for(var fn in B){var on=B[fn];if(Hn=A[fn],B.hasOwnProperty(fn)&&(on!=null||Hn!=null))switch(fn){case"type":ue=on;break;case"name":J=on;break;case"checked":an=on;break;case"defaultChecked":An=on;break;case"value":Ie=on;break;case"defaultValue":Ge=on;break;case"children":case"dangerouslySetInnerHTML":if(on!=null)throw Error(r(137,S));break;default:on!==Hn&&Eo(m,S,fn,on,B,Hn)}}ur(m,Ie,Ge,Ct,an,An,ue,J);return;case"select":on=Ie=Ge=fn=null;for(ue in A)if(Ct=A[ue],A.hasOwnProperty(ue)&&Ct!=null)switch(ue){case"value":break;case"multiple":on=Ct;default:B.hasOwnProperty(ue)||Eo(m,S,ue,null,B,Ct)}for(J in B)if(ue=B[J],Ct=A[J],B.hasOwnProperty(J)&&(ue!=null||Ct!=null))switch(J){case"value":fn=ue;break;case"defaultValue":Ge=ue;break;case"multiple":Ie=ue;default:ue!==Ct&&Eo(m,S,J,ue,B,Ct)}S=Ge,A=Ie,B=on,fn!=null?Ei(m,!!A,fn,!1):!!B!=!!A&&(S!=null?Ei(m,!!A,S,!0):Ei(m,!!A,A?[]:"",!1));return;case"textarea":on=fn=null;for(Ge in A)if(J=A[Ge],A.hasOwnProperty(Ge)&&J!=null&&!B.hasOwnProperty(Ge))switch(Ge){case"value":break;case"children":break;default:Eo(m,S,Ge,null,B,J)}for(Ie in B)if(J=B[Ie],ue=A[Ie],B.hasOwnProperty(Ie)&&(J!=null||ue!=null))switch(Ie){case"value":fn=J;break;case"defaultValue":on=J;break;case"children":break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:J!==ue&&Eo(m,S,Ie,J,B,ue)}ro(m,fn,on);return;case"option":for(var ni in A)if(fn=A[ni],A.hasOwnProperty(ni)&&fn!=null&&!B.hasOwnProperty(ni))switch(ni){case"selected":m.selected=!1;break;default:Eo(m,S,ni,null,B,fn)}for(Ct in B)if(fn=B[Ct],on=A[Ct],B.hasOwnProperty(Ct)&&fn!==on&&(fn!=null||on!=null))switch(Ct){case"selected":m.selected=fn&&typeof fn!="function"&&typeof fn!="symbol";break;default:Eo(m,S,Ct,fn,B,on)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qr in A)fn=A[Qr],A.hasOwnProperty(Qr)&&fn!=null&&!B.hasOwnProperty(Qr)&&Eo(m,S,Qr,null,B,fn);for(an in B)if(fn=B[an],on=A[an],B.hasOwnProperty(an)&&fn!==on&&(fn!=null||on!=null))switch(an){case"children":case"dangerouslySetInnerHTML":if(fn!=null)throw Error(r(137,S));break;default:Eo(m,S,an,fn,B,on)}return;default:if(xr(S)){for(var Ri in A)fn=A[Ri],A.hasOwnProperty(Ri)&&fn!==void 0&&!B.hasOwnProperty(Ri)&&Db(m,S,Ri,void 0,B,fn);for(An in B)fn=B[An],on=A[An],!B.hasOwnProperty(An)||fn===on||fn===void 0&&on===void 0||Db(m,S,An,fn,B,on);return}}for(var Ut in A)fn=A[Ut],A.hasOwnProperty(Ut)&&fn!=null&&!B.hasOwnProperty(Ut)&&Eo(m,S,Ut,null,B,fn);for(Hn in B)fn=B[Hn],on=A[Hn],!B.hasOwnProperty(Hn)||fn===on||fn==null&&on==null||Eo(m,S,Hn,fn,B,on)}var mu=null,iy=null;function eh(m){return m.nodeType===9?m:m.ownerDocument}function jo(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qo(m,S){if(m===0)switch(S){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&S==="foreignObject"?0:m}function zb(m,S){return m==="textarea"||m==="noscript"||typeof S.children=="string"||typeof S.children=="number"||typeof S.children=="bigint"||typeof S.dangerouslySetInnerHTML=="object"&&S.dangerouslySetInnerHTML!==null&&S.dangerouslySetInnerHTML.__html!=null}var w_=null;function nC(){var m=window.event;return m&&m.type==="popstate"?m===w_?!1:(w_=m,!0):(w_=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,Vl=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(m){return Xh.resolve(null).then(m).catch(C_)}:cm;function C_(m){setTimeout(function(){throw m})}function Vu(m){return m==="head"}function vv(m,S){var A=S,B=0,J=0;do{var ue=A.nextSibling;if(m.removeChild(A),ue&&ue.nodeType===8)if(A=ue.data,A==="/$"){if(0<B&&8>B){A=B;var Ie=m.ownerDocument;if(A&1&&fm(Ie.documentElement),A&2&&fm(Ie.body),A&4)for(A=Ie.head,fm(A),Ie=A.firstChild;Ie;){var Ge=Ie.nextSibling,Ct=Ie.nodeName;Ie[Tn]||Ct==="SCRIPT"||Ct==="STYLE"||Ct==="LINK"&&Ie.rel.toLowerCase()==="stylesheet"||A.removeChild(Ie),Ie=Ge}}if(J===0){m.removeChild(ue),_v(S);return}J--}else A==="$"||A==="$?"||A==="$!"?J++:B=A.charCodeAt(0)-48;else B=0;A=ue}while(A);_v(S)}function E_(m){var S=m.firstChild;for(S&&S.nodeType===10&&(S=S.nextSibling);S;){var A=S;switch(S=S.nextSibling,A.nodeName){case"HTML":case"HEAD":case"BODY":E_(A),Un(A);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(A.rel.toLowerCase()==="stylesheet")continue}m.removeChild(A)}}function O_(m,S,A,B){for(;m.nodeType===1;){var J=A;if(m.nodeName.toLowerCase()!==S.toLowerCase()){if(!B&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(B){if(!m[Tn])switch(S){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(ue=m.getAttribute("rel"),ue==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(ue!==J.rel||m.getAttribute("href")!==(J.href==null||J.href===""?null:J.href)||m.getAttribute("crossorigin")!==(J.crossOrigin==null?null:J.crossOrigin)||m.getAttribute("title")!==(J.title==null?null:J.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(ue=m.getAttribute("src"),(ue!==(J.src==null?null:J.src)||m.getAttribute("type")!==(J.type==null?null:J.type)||m.getAttribute("crossorigin")!==(J.crossOrigin==null?null:J.crossOrigin))&&ue&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(S==="input"&&m.type==="hidden"){var ue=J.name==null?null:""+J.name;if(J.type==="hidden"&&m.getAttribute("name")===ue)return m}else return m;if(m=Uu(m.nextSibling),m===null)break}return null}function ay(m,S,A){if(S==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!A||(m=Uu(m.nextSibling),m===null))return null;return m}function Uc(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState==="complete"}function um(m,S){var A=m.ownerDocument;if(m.data!=="$?"||A.readyState==="complete")S();else{var B=function(){S(),A.removeEventListener("DOMContentLoaded",B)};A.addEventListener("DOMContentLoaded",B),m._reactRetry=B}}function Uu(m){for(;m!=null;m=m.nextSibling){var S=m.nodeType;if(S===1||S===3)break;if(S===8){if(S=m.data,S==="$"||S==="$!"||S==="$?"||S==="F!"||S==="F")break;if(S==="/$")return null}}return m}var oy=null;function T_(m){m=m.previousSibling;for(var S=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(S===0)return m;S--}else A==="/$"&&S++}m=m.previousSibling}return null}function yv(m,S,A){switch(S=eh(A),m){case"html":if(m=S.documentElement,!m)throw Error(r(452));return m;case"head":if(m=S.head,!m)throw Error(r(453));return m;case"body":if(m=S.body,!m)throw Error(r(454));return m;default:throw Error(r(451))}}function fm(m){for(var S=m.attributes;S.length;)m.removeAttributeNode(S[0]);Un(m)}var vu=new Map,Ef=new Set;function ui(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var yu=re.d;re.d={f:bu,r:Bb,D:b,C:p,L:_,m:O,X:V,S:k,M:G};function bu(){var m=yu.f(),S=G0();return m||S}function Bb(m){var S=Dn(m);S!==null&&S.tag===5&&S.type==="form"?zc(S):yu.r(m)}var jp=typeof document>"u"?null:document;function Za(m,S,A){var B=jp;if(B&&typeof S=="string"&&S){var J=Jn(S);J='link[rel="'+m+'"][href="'+J+'"]',typeof A=="string"&&(J+='[crossorigin="'+A+'"]'),Ef.has(J)||(Ef.add(J),m={rel:m,crossOrigin:A,href:S},B.querySelector(J)===null&&(S=B.createElement("link"),Is(S,"link",m),$r(S),B.head.appendChild(S)))}}function b(m){yu.D(m),Za("dns-prefetch",m,null)}function p(m,S){yu.C(m,S),Za("preconnect",m,S)}function _(m,S,A){yu.L(m,S,A);var B=jp;if(B&&m&&S){var J='link[rel="preload"][as="'+Jn(S)+'"]';S==="image"&&A&&A.imageSrcSet?(J+='[imagesrcset="'+Jn(A.imageSrcSet)+'"]',typeof A.imageSizes=="string"&&(J+='[imagesizes="'+Jn(A.imageSizes)+'"]')):J+='[href="'+Jn(m)+'"]';var ue=J;switch(S){case"style":ue=ae(m);break;case"script":ue=Oe(m)}vu.has(ue)||(m=u({rel:"preload",href:S==="image"&&A&&A.imageSrcSet?void 0:m,as:S},A),vu.set(ue,m),B.querySelector(J)!==null||S==="style"&&B.querySelector(fe(ue))||S==="script"&&B.querySelector(Ae(ue))||(S=B.createElement("link"),Is(S,"link",m),$r(S),B.head.appendChild(S)))}}function O(m,S){yu.m(m,S);var A=jp;if(A&&m){var B=S&&typeof S.as=="string"?S.as:"script",J='link[rel="modulepreload"][as="'+Jn(B)+'"][href="'+Jn(m)+'"]',ue=J;switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ue=Oe(m)}if(!vu.has(ue)&&(m=u({rel:"modulepreload",href:m},S),vu.set(ue,m),A.querySelector(J)===null)){switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(A.querySelector(Ae(ue)))return}B=A.createElement("link"),Is(B,"link",m),$r(B),A.head.appendChild(B)}}}function k(m,S,A){yu.S(m,S,A);var B=jp;if(B&&m){var J=Cr(B).hoistableStyles,ue=ae(m);S=S||"default";var Ie=J.get(ue);if(!Ie){var Ge={loading:0,preload:null};if(Ie=B.querySelector(fe(ue)))Ge.loading=5;else{m=u({rel:"stylesheet",href:m,"data-precedence":S},A),(A=vu.get(ue))&&Xe(m,A);var Ct=Ie=B.createElement("link");$r(Ct),Is(Ct,"link",m),Ct._p=new Promise(function(an,An){Ct.onload=an,Ct.onerror=An}),Ct.addEventListener("load",function(){Ge.loading|=1}),Ct.addEventListener("error",function(){Ge.loading|=2}),Ge.loading|=4,De(Ie,S,B)}Ie={type:"stylesheet",instance:Ie,count:1,state:Ge},J.set(ue,Ie)}}}function V(m,S){yu.X(m,S);var A=jp;if(A&&m){var B=Cr(A).hoistableScripts,J=Oe(m),ue=B.get(J);ue||(ue=A.querySelector(Ae(J)),ue||(m=u({src:m,async:!0},S),(S=vu.get(J))&&at(m,S),ue=A.createElement("script"),$r(ue),Is(ue,"link",m),A.head.appendChild(ue)),ue={type:"script",instance:ue,count:1,state:null},B.set(J,ue))}}function G(m,S){yu.M(m,S);var A=jp;if(A&&m){var B=Cr(A).hoistableScripts,J=Oe(m),ue=B.get(J);ue||(ue=A.querySelector(Ae(J)),ue||(m=u({src:m,async:!0,type:"module"},S),(S=vu.get(J))&&at(m,S),ue=A.createElement("script"),$r(ue),Is(ue,"link",m),A.head.appendChild(ue)),ue={type:"script",instance:ue,count:1,state:null},B.set(J,ue))}}function Y(m,S,A,B){var J=(J=je.current)?ui(J):null;if(!J)throw Error(r(446));switch(m){case"meta":case"title":return null;case"style":return typeof A.precedence=="string"&&typeof A.href=="string"?(S=ae(A.href),A=Cr(J).hoistableStyles,B=A.get(S),B||(B={type:"style",instance:null,count:0,state:null},A.set(S,B)),B):{type:"void",instance:null,count:0,state:null};case"link":if(A.rel==="stylesheet"&&typeof A.href=="string"&&typeof A.precedence=="string"){m=ae(A.href);var ue=Cr(J).hoistableStyles,Ie=ue.get(m);if(Ie||(J=J.ownerDocument||J,Ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ue.set(m,Ie),(ue=J.querySelector(fe(m)))&&!ue._p&&(Ie.instance=ue,Ie.state.loading=5),vu.has(m)||(A={rel:"preload",as:"style",href:A.href,crossOrigin:A.crossOrigin,integrity:A.integrity,media:A.media,hrefLang:A.hrefLang,referrerPolicy:A.referrerPolicy},vu.set(m,A),ue||me(J,m,A,Ie.state))),S&&B===null)throw Error(r(528,""));return Ie}if(S&&B!==null)throw Error(r(529,""));return null;case"script":return S=A.async,A=A.src,typeof A=="string"&&S&&typeof S!="function"&&typeof S!="symbol"?(S=Oe(A),A=Cr(J).hoistableScripts,B=A.get(S),B||(B={type:"script",instance:null,count:0,state:null},A.set(S,B)),B):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,m))}}function ae(m){return'href="'+Jn(m)+'"'}function fe(m){return'link[rel="stylesheet"]['+m+"]"}function he(m){return u({},m,{"data-precedence":m.precedence,precedence:null})}function me(m,S,A,B){m.querySelector('link[rel="preload"][as="style"]['+S+"]")?B.loading=1:(S=m.createElement("link"),B.preload=S,S.addEventListener("load",function(){return B.loading|=1}),S.addEventListener("error",function(){return B.loading|=2}),Is(S,"link",A),$r(S),m.head.appendChild(S))}function Oe(m){return'[src="'+Jn(m)+'"]'}function Ae(m){return"script[async]"+m}function $e(m,S,A){if(S.count++,S.instance===null)switch(S.type){case"style":var B=m.querySelector('style[data-href~="'+Jn(A.href)+'"]');if(B)return S.instance=B,$r(B),B;var J=u({},A,{"data-href":A.href,"data-precedence":A.precedence,href:null,precedence:null});return B=(m.ownerDocument||m).createElement("style"),$r(B),Is(B,"style",J),De(B,A.precedence,m),S.instance=B;case"stylesheet":J=ae(A.href);var ue=m.querySelector(fe(J));if(ue)return S.state.loading|=4,S.instance=ue,$r(ue),ue;B=he(A),(J=vu.get(J))&&Xe(B,J),ue=(m.ownerDocument||m).createElement("link"),$r(ue);var Ie=ue;return Ie._p=new Promise(function(Ge,Ct){Ie.onload=Ge,Ie.onerror=Ct}),Is(ue,"link",B),S.state.loading|=4,De(ue,A.precedence,m),S.instance=ue;case"script":return ue=Oe(A.src),(J=m.querySelector(Ae(ue)))?(S.instance=J,$r(J),J):(B=A,(J=vu.get(ue))&&(B=u({},A),at(B,J)),m=m.ownerDocument||m,J=m.createElement("script"),$r(J),Is(J,"link",B),m.head.appendChild(J),S.instance=J);case"void":return null;default:throw Error(r(443,S.type))}else S.type==="stylesheet"&&(S.state.loading&4)===0&&(B=S.instance,S.state.loading|=4,De(B,A.precedence,m));return S.instance}function De(m,S,A){for(var B=A.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),J=B.length?B[B.length-1]:null,ue=J,Ie=0;Ie<B.length;Ie++){var Ge=B[Ie];if(Ge.dataset.precedence===S)ue=Ge;else if(ue!==J)break}ue?ue.parentNode.insertBefore(m,ue.nextSibling):(S=A.nodeType===9?A.head:A,S.insertBefore(m,S.firstChild))}function Xe(m,S){m.crossOrigin==null&&(m.crossOrigin=S.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=S.referrerPolicy),m.title==null&&(m.title=S.title)}function at(m,S){m.crossOrigin==null&&(m.crossOrigin=S.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=S.referrerPolicy),m.integrity==null&&(m.integrity=S.integrity)}var Ot=null;function gt(m,S,A){if(Ot===null){var B=new Map,J=Ot=new Map;J.set(A,B)}else J=Ot,B=J.get(A),B||(B=new Map,J.set(A,B));if(B.has(m))return B;for(B.set(m,null),A=A.getElementsByTagName(m),J=0;J<A.length;J++){var ue=A[J];if(!(ue[Tn]||ue[xn]||m==="link"&&ue.getAttribute("rel")==="stylesheet")&&ue.namespaceURI!=="http://www.w3.org/2000/svg"){var Ie=ue.getAttribute(S)||"";Ie=m+Ie;var Ge=B.get(Ie);Ge?Ge.push(ue):B.set(Ie,[ue])}}return B}function Me(m,S,A){m=m.ownerDocument||m,m.head.insertBefore(A,S==="title"?m.querySelector("head > title"):null)}function Ke(m,S,A){if(A===1||S.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof S.precedence!="string"||typeof S.href!="string"||S.href==="")break;return!0;case"link":if(typeof S.rel!="string"||typeof S.href!="string"||S.href===""||S.onLoad||S.onError)break;switch(S.rel){case"stylesheet":return m=S.disabled,typeof S.precedence=="string"&&m==null;default:return!0}case"script":if(S.async&&typeof S.async!="function"&&typeof S.async!="symbol"&&!S.onLoad&&!S.onError&&S.src&&typeof S.src=="string")return!0}return!1}function dt(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}var Wt=null;function jn(){}function cn(m,S,A){if(Wt===null)throw Error(r(475));var B=Wt;if(S.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var J=ae(A.href),ue=m.querySelector(fe(J));if(ue){m=ue._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(B.count++,B=Vn.bind(B),m.then(B,B)),S.state.loading|=4,S.instance=ue,$r(ue);return}ue=m.ownerDocument||m,A=he(A),(J=vu.get(J))&&Xe(A,J),ue=ue.createElement("link"),$r(ue);var Ie=ue;Ie._p=new Promise(function(Ge,Ct){Ie.onload=Ge,Ie.onerror=Ct}),Is(ue,"link",A),S.instance=ue}B.stylesheets===null&&(B.stylesheets=new Map),B.stylesheets.set(S,m),(m=S.state.preload)&&(S.state.loading&3)===0&&(B.count++,S=Vn.bind(B),m.addEventListener("load",S),m.addEventListener("error",S))}}function yn(){if(Wt===null)throw Error(r(475));var m=Wt;return m.stylesheets&&m.count===0&&Kn(m,m.stylesheets),0<m.count?function(S){var A=setTimeout(function(){if(m.stylesheets&&Kn(m,m.stylesheets),m.unsuspend){var B=m.unsuspend;m.unsuspend=null,B()}},6e4);return m.unsuspend=S,function(){m.unsuspend=null,clearTimeout(A)}}:null}function Vn(){if(this.count--,this.count===0){if(this.stylesheets)Kn(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var Bn=null;function Kn(m,S){m.stylesheets=null,m.unsuspend!==null&&(m.count++,Bn=new Map,S.forEach(Sn,m),Bn=null,Vn.call(m))}function Sn(m,S){if(!(S.state.loading&4)){var A=Bn.get(m);if(A)var B=A.get(null);else{A=new Map,Bn.set(m,A);for(var J=m.querySelectorAll("link[data-precedence],style[data-precedence]"),ue=0;ue<J.length;ue++){var Ie=J[ue];(Ie.nodeName==="LINK"||Ie.getAttribute("media")!=="not all")&&(A.set(Ie.dataset.precedence,Ie),B=Ie)}B&&A.set(null,B)}J=S.instance,Ie=J.getAttribute("data-precedence"),ue=A.get(Ie)||B,ue===B&&A.set(null,J),A.set(Ie,J),this.count++,B=Vn.bind(this),J.addEventListener("load",B),J.addEventListener("error",B),ue?ue.parentNode.insertBefore(J,ue.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(J,m.firstChild)),S.state.loading|=4}}var dr={$$typeof:M,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Fr(m,S,A,B,J,ue,Ie,Ge){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=B,this.onUncaughtError=J,this.onCaughtError=ue,this.onRecoverableError=Ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ge,this.incompleteTransitions=new Map}function kr(m,S,A,B,J,ue,Ie,Ge,Ct,an,An,Hn){return m=new Fr(m,S,A,Ie,Ge,Ct,an,Hn),S=1,ue===!0&&(S|=24),ue=Bl(3,null,null,S),m.current=ue,ue.stateNode=m,S=Lh(),S.refCount++,m.pooledCache=S,S.refCount++,ue.memoizedState={element:B,isDehydrated:A,cache:S},mf(ue),m}function Mr(m){return m?(m=cf,m):cf}function Di(m,S,A,B,J,ue){J=Mr(J),B.context===null?B.context=J:B.pendingContext=J,B=td(S),B.payload={element:A},ue=ue===void 0?null:ue,ue!==null&&(B.callback=ue),A=ou(m,B,S),A!==null&&(wc(A,m,S),Fg(A,m,S))}function Fo(m,S){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<S?A:S}}function Ps(m,S){Fo(m,S),(m=m.alternate)&&Fo(m,S)}function El(m){if(m.tag===13){var S=Ah(m,67108864);S!==null&&wc(S,m,67108864),Ps(m,67108864)}}var Sc=!0;function Gc(m,S,A,B){var J=Z.T;Z.T=null;var ue=re.p;try{re.p=2,Oo(m,S,A,B)}finally{re.p=ue,Z.T=J}}function _s(m,S,A,B){var J=Z.T;Z.T=null;var ue=re.p;try{re.p=8,Oo(m,S,A,B)}finally{re.p=ue,Z.T=J}}function Oo(m,S,A,B){if(Sc){var J=Bs(B);if(J===null)Jd(m,S,B,js,A),Of(m,B);else if(pd(J,m,S,A,B))B.stopPropagation();else if(Of(m,B),S&4&&-1<Ao.indexOf(m)){for(;J!==null;){var ue=Dn(J);if(ue!==null)switch(ue.tag){case 3:if(ue=ue.stateNode,ue.current.memoizedState.isDehydrated){var Ie=He(ue.pendingLanes);if(Ie!==0){var Ge=ue;for(Ge.pendingLanes|=2,Ge.entangledLanes|=2;Ie;){var Ct=1<<31-sn(Ie);Ge.entanglements[1]|=Ct,Ie&=~Ct}Qd(ue),(so&6)===0&&(Dp=ft()+500,Q0(0))}}break;case 13:Ge=Ah(ue,2),Ge!==null&&wc(Ge,ue,2),G0(),Ps(ue,2)}if(ue=Bs(B),ue===null&&Jd(m,S,B,js,A),ue===J)break;J=ue}J!==null&&B.stopPropagation()}else Jd(m,S,B,null,A)}}function Bs(m){return m=Ki(m),Zs(m)}var js=null;function Zs(m){if(js=null,m=ir(m),m!==null){var S=a(m);if(S===null)m=null;else{var A=S.tag;if(A===13){if(m=s(S),m!==null)return m;m=null}else if(A===3){if(S.stateNode.current.memoizedState.isDehydrated)return S.tag===3?S.stateNode.containerInfo:null;m=null}else S!==m&&(m=null)}}return js=m,null}function rc(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case Yt:return 2;case Jt:return 8;case xt:case Ft:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var Cc=!1,To=null,Fs=null,Mo=null,xs=new Map,ws=new Map,mo=[],Ao="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Of(m,S){switch(m){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":xs.delete(S.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(S.pointerId)}}function th(m,S,A,B,J,ue){return m===null||m.nativeEvent!==ue?(m={blockedOn:S,domEventName:A,eventSystemFlags:B,nativeEvent:ue,targetContainers:[J]},S!==null&&(S=Dn(S),S!==null&&El(S)),m):(m.eventSystemFlags|=B,S=m.targetContainers,J!==null&&S.indexOf(J)===-1&&S.push(J),m)}function pd(m,S,A,B,J){switch(S){case"focusin":return To=th(To,m,S,A,B,J),!0;case"dragenter":return Fs=th(Fs,m,S,A,B,J),!0;case"mouseover":return Mo=th(Mo,m,S,A,B,J),!0;case"pointerover":var ue=J.pointerId;return xs.set(ue,th(xs.get(ue)||null,m,S,A,B,J)),!0;case"gotpointercapture":return ue=J.pointerId,ws.set(ue,th(ws.get(ue)||null,m,S,A,B,J)),!0}return!1}function cw(m){var S=ir(m.target);if(S!==null){var A=a(S);if(A!==null){if(S=A.tag,S===13){if(S=s(A),S!==null){m.blockedOn=S,Dt(m.priority,function(){if(A.tag===13){var B=hl();B=vt(B);var J=Ah(A,B);J!==null&&wc(J,A,B),Ps(A,B)}});return}}else if(S===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Zh(m){if(m.blockedOn!==null)return!1;for(var S=m.targetContainers;0<S.length;){var A=Bs(m.nativeEvent);if(A===null){A=m.nativeEvent;var B=new A.constructor(A.type,A);La=B,A.target.dispatchEvent(B),La=null}else return S=Dn(A),S!==null&&El(S),m.blockedOn=A,!1;S.shift()}return!0}function Fp(m,S,A){Zh(m)&&A.delete(S)}function bv(){Cc=!1,To!==null&&Zh(To)&&(To=null),Fs!==null&&Zh(Fs)&&(Fs=null),Mo!==null&&Zh(Mo)&&(Mo=null),xs.forEach(Fp),ws.forEach(Fp)}function Qh(m,S){m.blockedOn===S&&(m.blockedOn=null,Cc||(Cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bv)))}var Jh=null;function M_(m){Jh!==m&&(Jh=m,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jh===m&&(Jh=null);for(var S=0;S<m.length;S+=3){var A=m[S],B=m[S+1],J=m[S+2];if(typeof B!="function"){if(Zs(B||A)===null)continue;break}var ue=Dn(A);ue!==null&&(m.splice(S,3),S-=3,su(ue,{pending:!0,data:J,method:A.method,action:B},B,J))}}))}function _v(m){function S(Ct){return Qh(Ct,m)}To!==null&&Qh(To,m),Fs!==null&&Qh(Fs,m),Mo!==null&&Qh(Mo,m),xs.forEach(S),ws.forEach(S);for(var A=0;A<mo.length;A++){var B=mo[A];B.blockedOn===m&&(B.blockedOn=null)}for(;0<mo.length&&(A=mo[0],A.blockedOn===null);)cw(A),A.blockedOn===null&&mo.shift();if(A=(m.ownerDocument||m).$$reactFormReplay,A!=null)for(B=0;B<A.length;B+=3){var J=A[B],ue=A[B+1],Ie=J[Bt]||null;if(typeof ue=="function")Ie||M_(A);else if(Ie){var Ge=null;if(ue&&ue.hasAttribute("formAction")){if(J=ue,Ie=ue[Bt]||null)Ge=Ie.formAction;else if(Zs(J)!==null)continue}else Ge=Ie.action;typeof Ge=="function"?A[B+1]=Ge:(A.splice(B,3),B-=3),M_(A)}}}function jb(m){this._internalRoot=m}sy.prototype.render=jb.prototype.render=function(m){var S=this._internalRoot;if(S===null)throw Error(r(409));var A=S.current,B=hl();Di(A,B,m,S,null,null)},sy.prototype.unmount=jb.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var S=m.containerInfo;Di(m.current,2,null,m,null,null),G0(),S[nn]=null}};function sy(m){this._internalRoot=m}sy.prototype.unstable_scheduleHydration=function(m){if(m){var S=zt();m={blockedOn:null,target:m,priority:S};for(var A=0;A<mo.length&&S!==0&&S<mo[A].priority;A++);mo.splice(A,0,m),A===0&&cw(m)}};var Fb=t.version;if(Fb!=="19.1.0")throw Error(r(527,Fb,"19.1.0"));re.findDOMNode=function(m){var S=m._reactInternals;if(S===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=l(S),m=m!==null?c(m):null,m=m===null?null:m.stateNode,m};var A_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{dn=Tf.inject(A_),Cn=Tf}catch{}}return iC.createRoot=function(m,S){if(!i(m))throw Error(r(299));var A=!1,B="",J=Y1,ue=L0,Ie=X1,Ge=null;return S!=null&&(S.unstable_strictMode===!0&&(A=!0),S.identifierPrefix!==void 0&&(B=S.identifierPrefix),S.onUncaughtError!==void 0&&(J=S.onUncaughtError),S.onCaughtError!==void 0&&(ue=S.onCaughtError),S.onRecoverableError!==void 0&&(Ie=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(Ge=S.unstable_transitionCallbacks)),S=kr(m,1,!1,null,null,A,B,J,ue,Ie,Ge,null),m[nn]=S.current,kb(m),new jb(S)},iC.hydrateRoot=function(m,S,A){if(!i(m))throw Error(r(299));var B=!1,J="",ue=Y1,Ie=L0,Ge=X1,Ct=null,an=null;return A!=null&&(A.unstable_strictMode===!0&&(B=!0),A.identifierPrefix!==void 0&&(J=A.identifierPrefix),A.onUncaughtError!==void 0&&(ue=A.onUncaughtError),A.onCaughtError!==void 0&&(Ie=A.onCaughtError),A.onRecoverableError!==void 0&&(Ge=A.onRecoverableError),A.unstable_transitionCallbacks!==void 0&&(Ct=A.unstable_transitionCallbacks),A.formState!==void 0&&(an=A.formState)),S=kr(m,1,!0,S,A??null,B,J,ue,Ie,Ge,Ct,an),S.context=Mr(null),A=S.current,B=hl(),B=vt(B),J=td(B),J.callback=null,ou(A,J,B),A=B,S.current.lanes=A,_t(S,A),Qd(S),m[nn]=S.current,kb(m),new sy(S)},iC.version="19.1.0",iC}var Fj;function Phe(){if(Fj)return ik.exports;Fj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ik.exports=Ihe(),ik.exports}var Rhe=Phe(),qM={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.3.0/LICENSE.txt
 */var $he=qM.exports,Hj;function khe(){return Hj||(Hj=1,function(e,t){(function(n,r){e.exports=r()})($he,function(){var n={},r={};function i(s,o,l){if(r[s]=l,s==="index"){var c="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",u={};return r.shared(u),r.index(n,u),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([c],{type:"text/javascript"}))),n}}i("shared",["exports"],function(s){function o(b,p,_,O){return new(_||(_=Promise))(function(k,V){function G(fe){try{ae(O.next(fe))}catch(he){V(he)}}function Y(fe){try{ae(O.throw(fe))}catch(he){V(he)}}function ae(fe){var he;fe.done?k(fe.value):(he=fe.value,he instanceof _?he:new _(function(me){me(he)})).then(G,Y)}ae((O=O.apply(b,p||[])).next())})}function l(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var c,u;function d(){if(u)return c;function b(p,_){this.x=p,this.y=_}return u=1,c=b,b.prototype={clone:function(){return new b(this.x,this.y)},add:function(p){return this.clone()._add(p)},sub:function(p){return this.clone()._sub(p)},multByPoint:function(p){return this.clone()._multByPoint(p)},divByPoint:function(p){return this.clone()._divByPoint(p)},mult:function(p){return this.clone()._mult(p)},div:function(p){return this.clone()._div(p)},rotate:function(p){return this.clone()._rotate(p)},rotateAround:function(p,_){return this.clone()._rotateAround(p,_)},matMult:function(p){return this.clone()._matMult(p)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(p){return this.x===p.x&&this.y===p.y},dist:function(p){return Math.sqrt(this.distSqr(p))},distSqr:function(p){var _=p.x-this.x,O=p.y-this.y;return _*_+O*O},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(p){return Math.atan2(this.y-p.y,this.x-p.x)},angleWith:function(p){return this.angleWithSep(p.x,p.y)},angleWithSep:function(p,_){return Math.atan2(this.x*_-this.y*p,this.x*p+this.y*_)},_matMult:function(p){var _=p[2]*this.x+p[3]*this.y;return this.x=p[0]*this.x+p[1]*this.y,this.y=_,this},_add:function(p){return this.x+=p.x,this.y+=p.y,this},_sub:function(p){return this.x-=p.x,this.y-=p.y,this},_mult:function(p){return this.x*=p,this.y*=p,this},_div:function(p){return this.x/=p,this.y/=p,this},_multByPoint:function(p){return this.x*=p.x,this.y*=p.y,this},_divByPoint:function(p){return this.x/=p.x,this.y/=p.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var p=this.y;return this.y=this.x,this.x=-p,this},_rotate:function(p){var _=Math.cos(p),O=Math.sin(p),k=O*this.x+_*this.y;return this.x=_*this.x-O*this.y,this.y=k,this},_rotateAround:function(p,_){var O=Math.cos(p),k=Math.sin(p),V=_.y+k*(this.x-_.x)+O*(this.y-_.y);return this.x=_.x+O*(this.x-_.x)-k*(this.y-_.y),this.y=V,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(p){return p instanceof b?p:Array.isArray(p)?new b(p[0],p[1]):p},c}typeof SuppressedError=="function"&&SuppressedError;var h,g,v=l(d()),x=function(){if(g)return h;function b(p,_,O,k){this.cx=3*p,this.bx=3*(O-p)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*_,this.by=3*(k-_)-this.cy,this.ay=1-this.cy-this.by,this.p1x=p,this.p1y=_,this.p2x=O,this.p2y=k}return g=1,h=b,b.prototype={sampleCurveX:function(p){return((this.ax*p+this.bx)*p+this.cx)*p},sampleCurveY:function(p){return((this.ay*p+this.by)*p+this.cy)*p},sampleCurveDerivativeX:function(p){return(3*this.ax*p+2*this.bx)*p+this.cx},solveCurveX:function(p,_){if(_===void 0&&(_=1e-6),p<0)return 0;if(p>1)return 1;for(var O=p,k=0;k<8;k++){var V=this.sampleCurveX(O)-p;if(Math.abs(V)<_)return O;var G=this.sampleCurveDerivativeX(O);if(Math.abs(G)<1e-6)break;O-=V/G}var Y=0,ae=1;for(O=p,k=0;k<20&&(V=this.sampleCurveX(O),!(Math.abs(V-p)<_));k++)p>V?Y=O:ae=O,O=.5*(ae-Y)+Y;return O},solve:function(p,_){return this.sampleCurveY(this.solveCurveX(p,_))}},h}(),w=l(x);let C,E;function M(){return C==null&&(C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),C}function R(){if(E==null&&(E=!1,M())){const p=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(p){for(let O=0;O<5*5;O++){const k=4*O;p.fillStyle=`rgb(${k},${k+1},${k+2})`,p.fillRect(O%5,Math.floor(O/5),1,1)}const _=p.getImageData(0,0,5,5).data;for(let O=0;O<5*5*4;O++)if(O%4!=3&&_[O]!==O){E=!0;break}}}return E||!1}var L,N=1e-6,D=typeof Float32Array<"u"?Float32Array:Array;function H(){var b=new D(9);return D!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[5]=0,b[6]=0,b[7]=0),b[0]=1,b[4]=1,b[8]=1,b}function U(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function q(){var b=new D(3);return D!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0),b}function K(b,p,_){var O=new D(3);return O[0]=b,O[1]=p,O[2]=_,O}function Q(b,p,_){var O=p[0],k=p[1],V=p[2],G=p[3];return b[0]=_[0]*O+_[4]*k+_[8]*V+_[12]*G,b[1]=_[1]*O+_[5]*k+_[9]*V+_[13]*G,b[2]=_[2]*O+_[6]*k+_[10]*V+_[14]*G,b[3]=_[3]*O+_[7]*k+_[11]*V+_[15]*G,b}function X(){var b=new D(4);return D!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0),b[3]=1,b}function te(){var b=new D(2);return D!=Float32Array&&(b[0]=0,b[1]=0),b}function ee(b,p){var _=new D(2);return _[0]=b,_[1]=p,_}Math.hypot||(Math.hypot=function(){for(var b=0,p=arguments.length;p--;)b+=arguments[p]*arguments[p];return Math.sqrt(b)}),q(),L=new D(4),D!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0,L[3]=0),q(),K(1,0,0),K(0,1,0),X(),X(),H(),te();const Z=8192;function re(b,p,_){return p*(Z/(b.tileSize*Math.pow(2,_-b.tileID.overscaledZ)))}function oe(b,p){return(b%p+p)%p}function ce(b,p,_){return b*(1-_)+p*_}function le(b){if(b<=0)return 0;if(b>=1)return 1;const p=b*b,_=p*b;return 4*(b<.5?_:3*(b-p)+_-.75)}function pe(b,p,_,O){const k=new w(b,p,_,O);return V=>k.solve(V)}const ye=pe(.25,.1,.25,1);function _e(b,p,_){return Math.min(_,Math.max(p,b))}function Se(b,p,_){const O=_-p,k=((b-p)%O+O)%O+p;return k===p?_:k}function Re(b,...p){for(const _ of p)for(const O in _)b[O]=_[O];return b}let je=1;function Fe(b,p,_){const O={};for(const k in b)O[k]=p.call(this,b[k],k,b);return O}function ze(b,p,_){const O={};for(const k in b)p.call(this,b[k],k,b)&&(O[k]=b[k]);return O}function Ze(b){return Array.isArray(b)?b.map(Ze):typeof b=="object"&&b?Fe(b,Ze):b}const st={};function Ue(b){st[b]||(typeof console<"u"&&console.warn(b),st[b]=!0)}function Ne(b,p,_){return(_.y-b.y)*(p.x-b.x)>(p.y-b.y)*(_.x-b.x)}function qe(b){return typeof WorkerGlobalScope<"u"&&b!==void 0&&b instanceof WorkerGlobalScope}let We=null;function rt(b){return typeof ImageBitmap<"u"&&b instanceof ImageBitmap}const ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ft(b,p,_,O,k){return o(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const V=new VideoFrame(b,{timestamp:0});try{const G=V?.format;if(!G||!G.startsWith("BGR")&&!G.startsWith("RGB"))throw new Error(`Unrecognized format ${G}`);const Y=G.startsWith("BGR"),ae=new Uint8ClampedArray(O*k*4);if(yield V.copyTo(ae,function(fe,he,me,Oe,Ae){const $e=4*Math.max(1,0),De=(Math.max(0,me)-me)*Oe*4+$e,Xe=4*Oe,at=Math.max(0,he),Ot=Math.max(0,me);return{rect:{x:at,y:Ot,width:Math.min(fe.width,he+Oe)-at,height:Math.min(fe.height,me+Ae)-Ot},layout:[{offset:De,stride:Xe}]}}(b,p,_,O,k)),Y)for(let fe=0;fe<ae.length;fe+=4){const he=ae[fe];ae[fe]=ae[fe+2],ae[fe+2]=he}return ae}finally{V.close()}})}let Rt,Yt;function Jt(b,p,_,O){return b.addEventListener(p,_,O),{unsubscribe:()=>{b.removeEventListener(p,_,O)}}}function xt(b){return b/Math.PI*180}const Ft={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Lt={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Kt="AbortError";function hn(){return new Error(Kt)}const dn={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Cn(b){return dn.REGISTERED_PROTOCOLS[b.substring(0,b.indexOf("://"))]}const kn="global-dispatcher";class sn extends Error{constructor(p,_,O,k){super(`AJAXError: ${_} (${p}): ${O}`),this.status=p,this.statusText=_,this.url=O,this.body=k}}const un=()=>qe(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,gn=function(b,p){if(/:\/\//.test(b.url)&&!/^https?:|^file:/.test(b.url)){const O=Cn(b.url);if(O)return O(b,p);if(qe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:b,targetMapId:kn},p)}if(!(/^file:/.test(_=b.url)||/^file:/.test(un())&&!/^\w+:/.test(_))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(O,k){return o(this,void 0,void 0,function*(){const V=new Request(O.url,{method:O.method||"GET",body:O.body,credentials:O.credentials,headers:O.headers,cache:O.cache,referrer:un(),signal:k.signal});let G,Y;O.type!=="json"||V.headers.has("Accept")||V.headers.set("Accept","application/json");try{G=yield fetch(V)}catch(fe){throw new sn(0,fe.message,O.url,new Blob)}if(!G.ok){const fe=yield G.blob();throw new sn(G.status,G.statusText,O.url,fe)}Y=O.type==="arrayBuffer"||O.type==="image"?G.arrayBuffer():O.type==="json"?G.json():G.text();const ae=yield Y;if(k.signal.aborted)throw hn();return{data:ae,cacheControl:G.headers.get("Cache-Control"),expires:G.headers.get("Expires")}})}(b,p);if(qe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:b,mustQueue:!0,targetMapId:kn},p)}var _;return function(O,k){return new Promise((V,G)=>{var Y;const ae=new XMLHttpRequest;ae.open(O.method||"GET",O.url,!0),O.type!=="arrayBuffer"&&O.type!=="image"||(ae.responseType="arraybuffer");for(const fe in O.headers)ae.setRequestHeader(fe,O.headers[fe]);O.type==="json"&&(ae.responseType="text",!((Y=O.headers)===null||Y===void 0)&&Y.Accept||ae.setRequestHeader("Accept","application/json")),ae.withCredentials=O.credentials==="include",ae.onerror=()=>{G(new Error(ae.statusText))},ae.onload=()=>{if(!k.signal.aborted)if((ae.status>=200&&ae.status<300||ae.status===0)&&ae.response!==null){let fe=ae.response;if(O.type==="json")try{fe=JSON.parse(ae.response)}catch(he){return void G(he)}V({data:fe,cacheControl:ae.getResponseHeader("Cache-Control"),expires:ae.getResponseHeader("Expires")})}else{const fe=new Blob([ae.response],{type:ae.getResponseHeader("Content-Type")});G(new sn(ae.status,ae.statusText,O.url,fe))}},k.signal.addEventListener("abort",()=>{ae.abort(),G(hn())}),ae.send(O.body)})}(b,p)};function Qt(b){if(!b||b.indexOf("://")<=0||b.indexOf("data:image/")===0||b.indexOf("blob:")===0)return!0;const p=new URL(b),_=window.location;return p.protocol===_.protocol&&p.host===_.host}function Ln(b,p,_){_[b]&&_[b].indexOf(p)!==-1||(_[b]=_[b]||[],_[b].push(p))}function Gt(b,p,_){if(_&&_[b]){const O=_[b].indexOf(p);O!==-1&&_[b].splice(O,1)}}class He{constructor(p,_={}){Re(this,_),this.type=p}}class be extends He{constructor(p,_={}){super("error",Re({error:p},_))}}class we{on(p,_){return this._listeners=this._listeners||{},Ln(p,_,this._listeners),{unsubscribe:()=>{this.off(p,_)}}}off(p,_){return Gt(p,_,this._listeners),Gt(p,_,this._oneTimeListeners),this}once(p,_){return _?(this._oneTimeListeners=this._oneTimeListeners||{},Ln(p,_,this._oneTimeListeners),this):new Promise(O=>this.once(p,O))}fire(p,_){typeof p=="string"&&(p=new He(p,_||{}));const O=p.type;if(this.listens(O)){p.target=this;const k=this._listeners&&this._listeners[O]?this._listeners[O].slice():[];for(const Y of k)Y.call(this,p);const V=this._oneTimeListeners&&this._oneTimeListeners[O]?this._oneTimeListeners[O].slice():[];for(const Y of V)Gt(O,Y,this._oneTimeListeners),Y.call(this,p);const G=this._eventedParent;G&&(Re(p,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),G.fire(p))}else p instanceof be&&console.error(p.error);return this}listens(p){return this._listeners&&this._listeners[p]&&this._listeners[p].length>0||this._oneTimeListeners&&this._oneTimeListeners[p]&&this._oneTimeListeners[p].length>0||this._eventedParent&&this._eventedParent.listens(p)}setEventedParent(p,_){return this._eventedParent=p,this._eventedParentData=_,this}}var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Ye=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function lt(b,p){const _={};for(const O in b)O!=="ref"&&(_[O]=b[O]);return Ye.forEach(O=>{O in p&&(_[O]=p[O])}),_}function ct(b,p){if(Array.isArray(b)){if(!Array.isArray(p)||b.length!==p.length)return!1;for(let _=0;_<b.length;_++)if(!ct(b[_],p[_]))return!1;return!0}if(typeof b=="object"&&b!==null&&p!==null){if(typeof p!="object"||Object.keys(b).length!==Object.keys(p).length)return!1;for(const _ in b)if(!ct(b[_],p[_]))return!1;return!0}return b===p}function _t(b,p){b.push(p)}function yt(b,p,_){_t(_,{command:"addSource",args:[b,p[b]]})}function jt(b,p,_){_t(p,{command:"removeSource",args:[b]}),_[b]=!0}function $t(b,p,_,O){jt(b,_,O),yt(b,p,_)}function vt(b,p,_){let O;for(O in b[_])if(Object.prototype.hasOwnProperty.call(b[_],O)&&O!=="data"&&!ct(b[_][O],p[_][O]))return!1;for(O in p[_])if(Object.prototype.hasOwnProperty.call(p[_],O)&&O!=="data"&&!ct(b[_][O],p[_][O]))return!1;return!0}function It(b,p,_,O,k,V){b=b||{},p=p||{};for(const G in b)Object.prototype.hasOwnProperty.call(b,G)&&(ct(b[G],p[G])||_.push({command:V,args:[O,G,p[G],k]}));for(const G in p)Object.prototype.hasOwnProperty.call(p,G)&&!Object.prototype.hasOwnProperty.call(b,G)&&(ct(b[G],p[G])||_.push({command:V,args:[O,G,p[G],k]}))}function zt(b){return b.id}function Dt(b,p){return b[p.id]=p,b}class Tt{constructor(p,_,O,k){this.message=(p?`${p}: `:"")+O,k&&(this.identifier=k),_!=null&&_.__line__&&(this.line=_.__line__)}}function xn(b,...p){for(const _ of p)for(const O in _)b[O]=_[O];return b}class Bt extends Error{constructor(p,_){super(_),this.message=_,this.key=p}}class nn{constructor(p,_=[]){this.parent=p,this.bindings={};for(const[O,k]of _)this.bindings[O]=k}concat(p){return new nn(this,p)}get(p){if(this.bindings[p])return this.bindings[p];if(this.parent)return this.parent.get(p);throw new Error(`${p} not found in scope.`)}has(p){return!!this.bindings[p]||!!this.parent&&this.parent.has(p)}}const Fn={kind:"null"},Ht={kind:"number"},ln={kind:"string"},rn={kind:"boolean"},Tn={kind:"color"},Un={kind:"projectionDefinition"},ir={kind:"object"},Dn={kind:"value"},Er={kind:"collator"},Cr={kind:"formatted"},$r={kind:"padding"},Zr={kind:"resolvedImage"},li={kind:"variableAnchorOffsetCollection"};function Kr(b,p){return{kind:"array",itemType:b,N:p}}function $n(b){if(b.kind==="array"){const p=$n(b.itemType);return typeof b.N=="number"?`array<${p}, ${b.N}>`:b.itemType.kind==="value"?"array":`array<${p}>`}return b.kind}const sr=[Fn,Ht,ln,rn,Tn,Un,Cr,ir,Kr(Dn),$r,Zr,li];function tr(b,p){if(p.kind==="error")return null;if(b.kind==="array"){if(p.kind==="array"&&(p.N===0&&p.itemType.kind==="value"||!tr(b.itemType,p.itemType))&&(typeof b.N!="number"||b.N===p.N))return null}else{if(b.kind===p.kind)return null;if(b.kind==="value"){for(const _ of sr)if(!tr(_,p))return null}}return`Expected ${$n(b)} but found ${$n(p)} instead.`}function Yn(b,p){return p.some(_=>_.kind===b.kind)}function br(b,p){return p.some(_=>_==="null"?b===null:_==="array"?Array.isArray(b):_==="object"?b&&!Array.isArray(b)&&typeof b=="object":_===typeof b)}function Hr(b,p){return b.kind==="array"&&p.kind==="array"?b.itemType.kind===p.itemType.kind&&typeof b.N=="number":b.kind===p.kind}const ki=.96422,Vi=.82521,pr=4/29,_r=6/29,Vr=3*_r*_r,ta=_r*_r*_r,Wo=Math.PI/180,Ks=180/Math.PI;function $o(b){return(b%=360)<0&&(b+=360),b}function ma([b,p,_,O]){let k,V;const G=Ys((.2225045*(b=ms(b))+.7168786*(p=ms(p))+.0606169*(_=ms(_)))/1);b===p&&p===_?k=V=G:(k=Ys((.4360747*b+.3850649*p+.1430804*_)/ki),V=Ys((.0139322*b+.0971045*p+.7141733*_)/Vi));const Y=116*G-16;return[Y<0?0:Y,500*(k-G),200*(G-V),O]}function ms(b){return b<=.04045?b/12.92:Math.pow((b+.055)/1.055,2.4)}function Ys(b){return b>ta?Math.pow(b,1/3):b/Vr+pr}function ko([b,p,_,O]){let k=(b+16)/116,V=isNaN(p)?k:k+p/500,G=isNaN(_)?k:k-_/200;return k=1*ai(k),V=ki*ai(V),G=Vi*ai(G),[il(3.1338561*V-1.6168667*k-.4906146*G),il(-.9787684*V+1.9161415*k+.033454*G),il(.0719453*V-.2289914*k+1.4052427*G),O]}function il(b){return(b=b<=.00304?12.92*b:1.055*Math.pow(b,1/2.4)-.055)<0?0:b>1?1:b}function ai(b){return b>_r?b*b*b:Vr*(b-pr)}function gr(b){return parseInt(b.padEnd(2,b),16)/255}function Jn(b,p){return ur(p?b/100:b,0,1)}function ur(b,p,_){return Math.min(Math.max(p,b),_)}function ci(b){return!b.some(Number.isNaN)}const Ci={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Ei(b,p,_){return b+_*(p-b)}function ro(b,p,_){return b.map((O,k)=>Ei(O,p[k],_))}class Br{constructor(p,_,O,k=1,V=!0){this.r=p,this.g=_,this.b=O,this.a=k,V||(this.r*=k,this.g*=k,this.b*=k,k||this.overwriteGetter("rgb",[p,_,O,k]))}static parse(p){if(p instanceof Br)return p;if(typeof p!="string")return;const _=function(O){if((O=O.toLowerCase().trim())==="transparent")return[0,0,0,0];const k=Ci[O];if(k){const[G,Y,ae]=k;return[G/255,Y/255,ae/255,1]}if(O.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(O)){const G=O.length<6?1:2;let Y=1;return[gr(O.slice(Y,Y+=G)),gr(O.slice(Y,Y+=G)),gr(O.slice(Y,Y+=G)),gr(O.slice(Y,Y+G)||"ff")]}if(O.startsWith("rgb")){const G=O.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(G){const[Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot]=G,gt=[he||" ",Ae||" ",Xe].join("");if(gt==="  "||gt==="  /"||gt===",,"||gt===",,,"){const Me=[fe,Oe,De].join(""),Ke=Me==="%%%"?100:Me===""?255:0;if(Ke){const dt=[ur(+ae/Ke,0,1),ur(+me/Ke,0,1),ur(+$e/Ke,0,1),at?Jn(+at,Ot):1];if(ci(dt))return dt}}return}}const V=O.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(V){const[G,Y,ae,fe,he,me,Oe,Ae,$e]=V,De=[ae||" ",he||" ",Oe].join("");if(De==="  "||De==="  /"||De===",,"||De===",,,"){const Xe=[+Y,ur(+fe,0,100),ur(+me,0,100),Ae?Jn(+Ae,$e):1];if(ci(Xe))return function([at,Ot,gt,Me]){function Ke(dt){const Wt=(dt+at/30)%12,jn=Ot*Math.min(gt,1-gt);return gt-jn*Math.max(-1,Math.min(Wt-3,9-Wt,1))}return at=$o(at),Ot/=100,gt/=100,[Ke(0),Ke(8),Ke(4),Me]}(Xe)}}}(p);return _?new Br(..._,!1):void 0}get rgb(){const{r:p,g:_,b:O,a:k}=this,V=k||1/0;return this.overwriteGetter("rgb",[p/V,_/V,O/V,k])}get hcl(){return this.overwriteGetter("hcl",function(p){const[_,O,k,V]=ma(p),G=Math.sqrt(O*O+k*k);return[Math.round(1e4*G)?$o(Math.atan2(k,O)*Ks):NaN,G,_,V]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ma(this.rgb))}overwriteGetter(p,_){return Object.defineProperty(this,p,{value:_}),_}toString(){const[p,_,O,k]=this.rgb;return`rgba(${[p,_,O].map(V=>Math.round(255*V)).join(",")},${k})`}static interpolate(p,_,O,k="rgb"){switch(k){case"rgb":{const[V,G,Y,ae]=ro(p.rgb,_.rgb,O);return new Br(V,G,Y,ae,!1)}case"hcl":{const[V,G,Y,ae]=p.hcl,[fe,he,me,Oe]=_.hcl;let Ae,$e;if(isNaN(V)||isNaN(fe))isNaN(V)?isNaN(fe)?Ae=NaN:(Ae=fe,Y!==1&&Y!==0||($e=he)):(Ae=V,me!==1&&me!==0||($e=G));else{let gt=fe-V;fe>V&&gt>180?gt-=360:fe<V&&V-fe>180&&(gt+=360),Ae=V+O*gt}const[De,Xe,at,Ot]=function([gt,Me,Ke,dt]){return gt=isNaN(gt)?0:gt*Wo,ko([Ke,Math.cos(gt)*Me,Math.sin(gt)*Me,dt])}([Ae,$e??Ei(G,he,O),Ei(Y,me,O),Ei(ae,Oe,O)]);return new Br(De,Xe,at,Ot,!1)}case"lab":{const[V,G,Y,ae]=ko(ro(p.lab,_.lab,O));return new Br(V,G,Y,ae,!1)}}}}Br.black=new Br(0,0,0,1),Br.white=new Br(1,1,1,1),Br.transparent=new Br(0,0,0,0),Br.red=new Br(1,0,0,1);class Ui{constructor(p,_,O){this.sensitivity=p?_?"variant":"case":_?"accent":"base",this.locale=O,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(p,_){return this.collator.compare(p,_)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Fa=["bottom","center","top"];class bo{constructor(p,_,O,k,V,G){this.text=p,this.image=_,this.scale=O,this.fontStack=k,this.textColor=V,this.verticalAlign=G}}class Tr{constructor(p){this.sections=p}static fromString(p){return new Tr([new bo(p,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(p=>p.text.length!==0||p.image&&p.image.name.length!==0)}static factory(p){return p instanceof Tr?p:Tr.fromString(p)}toString(){return this.sections.length===0?"":this.sections.map(p=>p.text).join("")}}class xr{constructor(p){this.values=p.slice()}static parse(p){if(p instanceof xr)return p;if(typeof p=="number")return new xr([p,p,p,p]);if(Array.isArray(p)&&!(p.length<1||p.length>4)){for(const _ of p)if(typeof _!="number")return;switch(p.length){case 1:p=[p[0],p[0],p[0],p[0]];break;case 2:p=[p[0],p[1],p[0],p[1]];break;case 3:p=[p[0],p[1],p[2],p[1]]}return new xr(p)}}toString(){return JSON.stringify(this.values)}static interpolate(p,_,O){return new xr(ro(p.values,_.values,O))}}class ei{constructor(p){this.name="ExpressionEvaluationError",this.message=p}toJSON(){return this.message}}const ka=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ii{constructor(p){this.values=p.slice()}static parse(p){if(p instanceof Ii)return p;if(Array.isArray(p)&&!(p.length<1)&&p.length%2==0){for(let _=0;_<p.length;_+=2){const O=p[_],k=p[_+1];if(typeof O!="string"||!ka.has(O)||!Array.isArray(k)||k.length!==2||typeof k[0]!="number"||typeof k[1]!="number")return}return new Ii(p)}}toString(){return JSON.stringify(this.values)}static interpolate(p,_,O){const k=p.values,V=_.values;if(k.length!==V.length)throw new ei(`Cannot interpolate values of different length. from: ${p.toString()}, to: ${_.toString()}`);const G=[];for(let Y=0;Y<k.length;Y+=2){if(k[Y]!==V[Y])throw new ei(`Cannot interpolate values containing mismatched anchors. from[${Y}]: ${k[Y]}, to[${Y}]: ${V[Y]}`);G.push(k[Y]);const[ae,fe]=k[Y+1],[he,me]=V[Y+1];G.push([Ei(ae,he,O),Ei(fe,me,O)])}return new Ii(G)}}class La{constructor(p){this.name=p.name,this.available=p.available}toString(){return this.name}static fromString(p){return p?new La({name:p,available:!1}):null}}class Ki{constructor(p,_,O){this.from=p,this.to=_,this.transition=O}static interpolate(p,_,O){return new Ki(p,_,O)}static parse(p){return p instanceof Ki?p:Array.isArray(p)&&p.length===3&&typeof p[0]=="string"&&typeof p[1]=="string"&&typeof p[2]=="number"?new Ki(p[0],p[1],p[2]):typeof p=="object"&&typeof p.from=="string"&&typeof p.to=="string"&&typeof p.transition=="number"?new Ki(p.from,p.to,p.transition):typeof p=="string"?new Ki(p,p,1):void 0}}function qo(b,p,_,O){return typeof b=="number"&&b>=0&&b<=255&&typeof p=="number"&&p>=0&&p<=255&&typeof _=="number"&&_>=0&&_<=255?O===void 0||typeof O=="number"&&O>=0&&O<=1?null:`Invalid rgba value [${[b,p,_,O].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof O=="number"?[b,p,_,O]:[b,p,_]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Lo(b){if(b===null||typeof b=="string"||typeof b=="boolean"||typeof b=="number"||b instanceof Ki||b instanceof Br||b instanceof Ui||b instanceof Tr||b instanceof xr||b instanceof Ii||b instanceof La)return!0;if(Array.isArray(b)){for(const p of b)if(!Lo(p))return!1;return!0}if(typeof b=="object"){for(const p in b)if(!Lo(b[p]))return!1;return!0}return!1}function na(b){if(b===null)return Fn;if(typeof b=="string")return ln;if(typeof b=="boolean")return rn;if(typeof b=="number")return Ht;if(b instanceof Br)return Tn;if(b instanceof Ki)return Un;if(b instanceof Ui)return Er;if(b instanceof Tr)return Cr;if(b instanceof xr)return $r;if(b instanceof Ii)return li;if(b instanceof La)return Zr;if(Array.isArray(b)){const p=b.length;let _;for(const O of b){const k=na(O);if(_){if(_===k)continue;_=Dn;break}_=k}return Kr(_||Dn,p)}return ir}function tu(b){const p=typeof b;return b===null?"":p==="string"||p==="number"||p==="boolean"?String(b):b instanceof Br||b instanceof Ki||b instanceof Tr||b instanceof xr||b instanceof Ii||b instanceof La?b.toString():JSON.stringify(b)}class $c{constructor(p,_){this.type=p,this.value=_}static parse(p,_){if(p.length!==2)return _.error(`'literal' expression requires exactly one argument, but found ${p.length-1} instead.`);if(!Lo(p[1]))return _.error("invalid value");const O=p[1];let k=na(O);const V=_.expectedType;return k.kind!=="array"||k.N!==0||!V||V.kind!=="array"||typeof V.N=="number"&&V.N!==0||(k=V),new $c(k,O)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const kc={string:ln,number:Ht,boolean:rn,object:ir};class nr{constructor(p,_){this.type=p,this.args=_}static parse(p,_){if(p.length<2)return _.error("Expected at least one argument.");let O,k=1;const V=p[0];if(V==="array"){let Y,ae;if(p.length>2){const fe=p[1];if(typeof fe!="string"||!(fe in kc)||fe==="object")return _.error('The item type argument of "array" must be one of string, number, boolean',1);Y=kc[fe],k++}else Y=Dn;if(p.length>3){if(p[2]!==null&&(typeof p[2]!="number"||p[2]<0||p[2]!==Math.floor(p[2])))return _.error('The length argument to "array" must be a positive integer literal',2);ae=p[2],k++}O=Kr(Y,ae)}else{if(!kc[V])throw new Error(`Types doesn't contain name = ${V}`);O=kc[V]}const G=[];for(;k<p.length;k++){const Y=_.parse(p[k],k,Dn);if(!Y)return null;G.push(Y)}return new nr(O,G)}evaluate(p){for(let _=0;_<this.args.length;_++){const O=this.args[_].evaluate(p);if(!tr(this.type,na(O)))return O;if(_===this.args.length-1)throw new ei(`Expected value to be of type ${$n(this.type)}, but found ${$n(na(O))} instead.`)}throw new Error}eachChild(p){this.args.forEach(p)}outputDefined(){return this.args.every(p=>p.outputDefined())}}const fr={"to-boolean":rn,"to-color":Tn,"to-number":Ht,"to-string":ln};class Gi{constructor(p,_){this.type=p,this.args=_}static parse(p,_){if(p.length<2)return _.error("Expected at least one argument.");const O=p[0];if(!fr[O])throw new Error(`Can't parse ${O} as it is not part of the known types`);if((O==="to-boolean"||O==="to-string")&&p.length!==2)return _.error("Expected one argument.");const k=fr[O],V=[];for(let G=1;G<p.length;G++){const Y=_.parse(p[G],G,Dn);if(!Y)return null;V.push(Y)}return new Gi(k,V)}evaluate(p){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(p);case"color":{let _,O;for(const k of this.args){if(_=k.evaluate(p),O=null,_ instanceof Br)return _;if(typeof _=="string"){const V=p.parseColor(_);if(V)return V}else if(Array.isArray(_)&&(O=_.length<3||_.length>4?`Invalid rgba value ${JSON.stringify(_)}: expected an array containing either three or four numeric values.`:qo(_[0],_[1],_[2],_[3]),!O))return new Br(_[0]/255,_[1]/255,_[2]/255,_[3])}throw new ei(O||`Could not parse color from value '${typeof _=="string"?_:JSON.stringify(_)}'`)}case"padding":{let _;for(const O of this.args){_=O.evaluate(p);const k=xr.parse(_);if(k)return k}throw new ei(`Could not parse padding from value '${typeof _=="string"?_:JSON.stringify(_)}'`)}case"variableAnchorOffsetCollection":{let _;for(const O of this.args){_=O.evaluate(p);const k=Ii.parse(_);if(k)return k}throw new ei(`Could not parse variableAnchorOffsetCollection from value '${typeof _=="string"?_:JSON.stringify(_)}'`)}case"number":{let _=null;for(const O of this.args){if(_=O.evaluate(p),_===null)return 0;const k=Number(_);if(!isNaN(k))return k}throw new ei(`Could not convert ${JSON.stringify(_)} to number.`)}case"formatted":return Tr.fromString(tu(this.args[0].evaluate(p)));case"resolvedImage":return La.fromString(tu(this.args[0].evaluate(p)));case"projectionDefinition":return this.args[0].evaluate(p);default:return tu(this.args[0].evaluate(p))}}eachChild(p){this.args.forEach(p)}outputDefined(){return this.args.every(p=>p.outputDefined())}}const Lr=["Unknown","Point","LineString","Polygon"];class Ir{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Lr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(p){let _=this._parseColorCache[p];return _||(_=this._parseColorCache[p]=Br.parse(p)),_}}class dc{constructor(p,_,O=[],k,V=new nn,G=[]){this.registry=p,this.path=O,this.key=O.map(Y=>`[${Y}]`).join(""),this.scope=V,this.errors=G,this.expectedType=k,this._isConstant=_}parse(p,_,O,k,V={}){return _?this.concat(_,O,k)._parse(p,V):this._parse(p,V)}_parse(p,_){function O(k,V,G){return G==="assert"?new nr(V,[k]):G==="coerce"?new Gi(V,[k]):k}if(p!==null&&typeof p!="string"&&typeof p!="boolean"&&typeof p!="number"||(p=["literal",p]),Array.isArray(p)){if(p.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const k=p[0];if(typeof k!="string")return this.error(`Expression name must be a string, but found ${typeof k} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const V=this.registry[k];if(V){let G=V.parse(p,this);if(!G)return null;if(this.expectedType){const Y=this.expectedType,ae=G.type;if(Y.kind!=="string"&&Y.kind!=="number"&&Y.kind!=="boolean"&&Y.kind!=="object"&&Y.kind!=="array"||ae.kind!=="value")if(Y.kind!=="projectionDefinition"||ae.kind!=="string"&&ae.kind!=="array")if(Y.kind!=="color"&&Y.kind!=="formatted"&&Y.kind!=="resolvedImage"||ae.kind!=="value"&&ae.kind!=="string")if(Y.kind!=="padding"||ae.kind!=="value"&&ae.kind!=="number"&&ae.kind!=="array")if(Y.kind!=="variableAnchorOffsetCollection"||ae.kind!=="value"&&ae.kind!=="array"){if(this.checkSubtype(Y,ae))return null}else G=O(G,Y,_.typeAnnotation||"coerce");else G=O(G,Y,_.typeAnnotation||"coerce");else G=O(G,Y,_.typeAnnotation||"coerce");else G=O(G,Y,_.typeAnnotation||"coerce");else G=O(G,Y,_.typeAnnotation||"assert")}if(!(G instanceof $c)&&G.type.kind!=="resolvedImage"&&this._isConstant(G)){const Y=new Ir;try{G=new $c(G.type,G.evaluate(Y))}catch(ae){return this.error(ae.message),null}}return G}return this.error(`Unknown expression "${k}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(p===void 0?"'undefined' value invalid. Use null instead.":typeof p=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof p} instead.`)}concat(p,_,O){const k=typeof p=="number"?this.path.concat(p):this.path,V=O?this.scope.concat(O):this.scope;return new dc(this.registry,this._isConstant,k,_||null,V,this.errors)}error(p,..._){const O=`${this.key}${_.map(k=>`[${k}]`).join("")}`;this.errors.push(new Bt(O,p))}checkSubtype(p,_){const O=tr(p,_);return O&&this.error(O),O}}class Pi{constructor(p,_){this.type=_.type,this.bindings=[].concat(p),this.result=_}evaluate(p){return this.result.evaluate(p)}eachChild(p){for(const _ of this.bindings)p(_[1]);p(this.result)}static parse(p,_){if(p.length<4)return _.error(`Expected at least 3 arguments, but found ${p.length-1} instead.`);const O=[];for(let V=1;V<p.length-1;V+=2){const G=p[V];if(typeof G!="string")return _.error(`Expected string, but found ${typeof G} instead.`,V);if(/[^a-zA-Z0-9_]/.test(G))return _.error("Variable names must contain only alphanumeric characters or '_'.",V);const Y=_.parse(p[V+1],V+1);if(!Y)return null;O.push([G,Y])}const k=_.parse(p[p.length-1],p.length-1,_.expectedType,O);return k?new Pi(O,k):null}outputDefined(){return this.result.outputDefined()}}class ra{constructor(p,_){this.type=_.type,this.name=p,this.boundExpression=_}static parse(p,_){if(p.length!==2||typeof p[1]!="string")return _.error("'var' expression requires exactly one string literal argument.");const O=p[1];return _.scope.has(O)?new ra(O,_.scope.get(O)):_.error(`Unknown variable "${O}". Make sure "${O}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(p){return this.boundExpression.evaluate(p)}eachChild(){}outputDefined(){return!1}}class gi{constructor(p,_,O){this.type=p,this.index=_,this.input=O}static parse(p,_){if(p.length!==3)return _.error(`Expected 2 arguments, but found ${p.length-1} instead.`);const O=_.parse(p[1],1,Ht),k=_.parse(p[2],2,Kr(_.expectedType||Dn));return O&&k?new gi(k.type.itemType,O,k):null}evaluate(p){const _=this.index.evaluate(p),O=this.input.evaluate(p);if(_<0)throw new ei(`Array index out of bounds: ${_} < 0.`);if(_>=O.length)throw new ei(`Array index out of bounds: ${_} > ${O.length-1}.`);if(_!==Math.floor(_))throw new ei(`Array index must be an integer, but found ${_} instead.`);return O[_]}eachChild(p){p(this.index),p(this.input)}outputDefined(){return!1}}class vp{constructor(p,_){this.type=rn,this.needle=p,this.haystack=_}static parse(p,_){if(p.length!==3)return _.error(`Expected 2 arguments, but found ${p.length-1} instead.`);const O=_.parse(p[1],1,Dn),k=_.parse(p[2],2,Dn);return O&&k?Yn(O.type,[rn,ln,Ht,Fn,Dn])?new vp(O,k):_.error(`Expected first argument to be of type boolean, string, number or null, but found ${$n(O.type)} instead`):null}evaluate(p){const _=this.needle.evaluate(p),O=this.haystack.evaluate(p);if(!O)return!1;if(!br(_,["boolean","string","number","null"]))throw new ei(`Expected first argument to be of type boolean, string, number or null, but found ${$n(na(_))} instead.`);if(!br(O,["string","array"]))throw new ei(`Expected second argument to be of type array or string, but found ${$n(na(O))} instead.`);return O.indexOf(_)>=0}eachChild(p){p(this.needle),p(this.haystack)}outputDefined(){return!0}}class al{constructor(p,_,O){this.type=Ht,this.needle=p,this.haystack=_,this.fromIndex=O}static parse(p,_){if(p.length<=2||p.length>=5)return _.error(`Expected 3 or 4 arguments, but found ${p.length-1} instead.`);const O=_.parse(p[1],1,Dn),k=_.parse(p[2],2,Dn);if(!O||!k)return null;if(!Yn(O.type,[rn,ln,Ht,Fn,Dn]))return _.error(`Expected first argument to be of type boolean, string, number or null, but found ${$n(O.type)} instead`);if(p.length===4){const V=_.parse(p[3],3,Ht);return V?new al(O,k,V):null}return new al(O,k)}evaluate(p){const _=this.needle.evaluate(p),O=this.haystack.evaluate(p);if(!br(_,["boolean","string","number","null"]))throw new ei(`Expected first argument to be of type boolean, string, number or null, but found ${$n(na(_))} instead.`);let k;if(this.fromIndex&&(k=this.fromIndex.evaluate(p)),br(O,["string"])){const V=O.indexOf(_,k);return V===-1?-1:[...O.slice(0,V)].length}if(br(O,["array"]))return O.indexOf(_,k);throw new ei(`Expected second argument to be of type array or string, but found ${$n(na(O))} instead.`)}eachChild(p){p(this.needle),p(this.haystack),this.fromIndex&&p(this.fromIndex)}outputDefined(){return!1}}class Ju{constructor(p,_,O,k,V,G){this.inputType=p,this.type=_,this.input=O,this.cases=k,this.outputs=V,this.otherwise=G}static parse(p,_){if(p.length<5)return _.error(`Expected at least 4 arguments, but found only ${p.length-1}.`);if(p.length%2!=1)return _.error("Expected an even number of arguments.");let O,k;_.expectedType&&_.expectedType.kind!=="value"&&(k=_.expectedType);const V={},G=[];for(let fe=2;fe<p.length-1;fe+=2){let he=p[fe];const me=p[fe+1];Array.isArray(he)||(he=[he]);const Oe=_.concat(fe);if(he.length===0)return Oe.error("Expected at least one branch label.");for(const $e of he){if(typeof $e!="number"&&typeof $e!="string")return Oe.error("Branch labels must be numbers or strings.");if(typeof $e=="number"&&Math.abs($e)>Number.MAX_SAFE_INTEGER)return Oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof $e=="number"&&Math.floor($e)!==$e)return Oe.error("Numeric branch labels must be integer values.");if(O){if(Oe.checkSubtype(O,na($e)))return null}else O=na($e);if(V[String($e)]!==void 0)return Oe.error("Branch labels must be unique.");V[String($e)]=G.length}const Ae=_.parse(me,fe,k);if(!Ae)return null;k=k||Ae.type,G.push(Ae)}const Y=_.parse(p[1],1,Dn);if(!Y)return null;const ae=_.parse(p[p.length-1],p.length-1,k);return ae?Y.type.kind!=="value"&&_.concat(1).checkSubtype(O,Y.type)?null:new Ju(O,k,Y,V,G,ae):null}evaluate(p){const _=this.input.evaluate(p);return(na(_)===this.inputType&&this.outputs[this.cases[_]]||this.otherwise).evaluate(p)}eachChild(p){p(this.input),this.outputs.forEach(p),p(this.otherwise)}outputDefined(){return this.outputs.every(p=>p.outputDefined())&&this.otherwise.outputDefined()}}class Pd{constructor(p,_,O){this.type=p,this.branches=_,this.otherwise=O}static parse(p,_){if(p.length<4)return _.error(`Expected at least 3 arguments, but found only ${p.length-1}.`);if(p.length%2!=0)return _.error("Expected an odd number of arguments.");let O;_.expectedType&&_.expectedType.kind!=="value"&&(O=_.expectedType);const k=[];for(let G=1;G<p.length-1;G+=2){const Y=_.parse(p[G],G,rn);if(!Y)return null;const ae=_.parse(p[G+1],G+1,O);if(!ae)return null;k.push([Y,ae]),O=O||ae.type}const V=_.parse(p[p.length-1],p.length-1,O);if(!V)return null;if(!O)throw new Error("Can't infer output type");return new Pd(O,k,V)}evaluate(p){for(const[_,O]of this.branches)if(_.evaluate(p))return O.evaluate(p);return this.otherwise.evaluate(p)}eachChild(p){for(const[_,O]of this.branches)p(_),p(O);p(this.otherwise)}outputDefined(){return this.branches.every(([p,_])=>_.outputDefined())&&this.otherwise.outputDefined()}}class Uf{constructor(p,_,O,k){this.type=p,this.input=_,this.beginIndex=O,this.endIndex=k}static parse(p,_){if(p.length<=2||p.length>=5)return _.error(`Expected 3 or 4 arguments, but found ${p.length-1} instead.`);const O=_.parse(p[1],1,Dn),k=_.parse(p[2],2,Ht);if(!O||!k)return null;if(!Yn(O.type,[Kr(Dn),ln,Dn]))return _.error(`Expected first argument to be of type array or string, but found ${$n(O.type)} instead`);if(p.length===4){const V=_.parse(p[3],3,Ht);return V?new Uf(O.type,O,k,V):null}return new Uf(O.type,O,k)}evaluate(p){const _=this.input.evaluate(p),O=this.beginIndex.evaluate(p);let k;if(this.endIndex&&(k=this.endIndex.evaluate(p)),br(_,["string"]))return[..._].slice(O,k).join("");if(br(_,["array"]))return _.slice(O,k);throw new ei(`Expected first argument to be of type array or string, but found ${$n(na(_))} instead.`)}eachChild(p){p(this.input),p(this.beginIndex),this.endIndex&&p(this.endIndex)}outputDefined(){return!1}}function Nm(b,p){const _=b.length-1;let O,k,V=0,G=_,Y=0;for(;V<=G;)if(Y=Math.floor((V+G)/2),O=b[Y],k=b[Y+1],O<=p){if(Y===_||p<k)return Y;V=Y+1}else{if(!(O>p))throw new ei("Input is not a number.");G=Y-1}return 0}class Gf{constructor(p,_,O){this.type=p,this.input=_,this.labels=[],this.outputs=[];for(const[k,V]of O)this.labels.push(k),this.outputs.push(V)}static parse(p,_){if(p.length-1<4)return _.error(`Expected at least 4 arguments, but found only ${p.length-1}.`);if((p.length-1)%2!=0)return _.error("Expected an even number of arguments.");const O=_.parse(p[1],1,Ht);if(!O)return null;const k=[];let V=null;_.expectedType&&_.expectedType.kind!=="value"&&(V=_.expectedType);for(let G=1;G<p.length;G+=2){const Y=G===1?-1/0:p[G],ae=p[G+1],fe=G,he=G+1;if(typeof Y!="number")return _.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',fe);if(k.length&&k[k.length-1][0]>=Y)return _.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',fe);const me=_.parse(ae,he,V);if(!me)return null;V=V||me.type,k.push([Y,me])}return new Gf(V,O,k)}evaluate(p){const _=this.labels,O=this.outputs;if(_.length===1)return O[0].evaluate(p);const k=this.input.evaluate(p);if(k<=_[0])return O[0].evaluate(p);const V=_.length;return k>=_[V-1]?O[V-1].evaluate(p):O[Nm(_,k)].evaluate(p)}eachChild(p){p(this.input);for(const _ of this.outputs)p(_)}outputDefined(){return this.outputs.every(p=>p.outputDefined())}}function Dm(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var fo,vs,Cu=function(){if(vs)return fo;function b(p,_,O,k){this.cx=3*p,this.bx=3*(O-p)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*_,this.by=3*(k-_)-this.cy,this.ay=1-this.cy-this.by,this.p1x=p,this.p1y=_,this.p2x=O,this.p2y=k}return vs=1,fo=b,b.prototype={sampleCurveX:function(p){return((this.ax*p+this.bx)*p+this.cx)*p},sampleCurveY:function(p){return((this.ay*p+this.by)*p+this.cy)*p},sampleCurveDerivativeX:function(p){return(3*this.ax*p+2*this.bx)*p+this.cx},solveCurveX:function(p,_){if(_===void 0&&(_=1e-6),p<0)return 0;if(p>1)return 1;for(var O=p,k=0;k<8;k++){var V=this.sampleCurveX(O)-p;if(Math.abs(V)<_)return O;var G=this.sampleCurveDerivativeX(O);if(Math.abs(G)<1e-6)break;O-=V/G}var Y=0,ae=1;for(O=p,k=0;k<20&&(V=this.sampleCurveX(O),!(Math.abs(V-p)<_));k++)p>V?Y=O:ae=O,O=.5*(ae-Y)+Y;return O},solve:function(p,_){return this.sampleCurveY(this.solveCurveX(p,_))}},fo}(),_0=Dm(Cu);class ol{constructor(p,_,O,k,V){this.type=p,this.operator=_,this.interpolation=O,this.input=k,this.labels=[],this.outputs=[];for(const[G,Y]of V)this.labels.push(G),this.outputs.push(Y)}static interpolationFactor(p,_,O,k){let V=0;if(p.name==="exponential")V=Na(_,p.base,O,k);else if(p.name==="linear")V=Na(_,1,O,k);else if(p.name==="cubic-bezier"){const G=p.controlPoints;V=new _0(G[0],G[1],G[2],G[3]).solve(Na(_,1,O,k))}return V}static parse(p,_){let[O,k,V,...G]=p;if(!Array.isArray(k)||k.length===0)return _.error("Expected an interpolation type expression.",1);if(k[0]==="linear")k={name:"linear"};else if(k[0]==="exponential"){const fe=k[1];if(typeof fe!="number")return _.error("Exponential interpolation requires a numeric base.",1,1);k={name:"exponential",base:fe}}else{if(k[0]!=="cubic-bezier")return _.error(`Unknown interpolation type ${String(k[0])}`,1,0);{const fe=k.slice(1);if(fe.length!==4||fe.some(he=>typeof he!="number"||he<0||he>1))return _.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);k={name:"cubic-bezier",controlPoints:fe}}}if(p.length-1<4)return _.error(`Expected at least 4 arguments, but found only ${p.length-1}.`);if((p.length-1)%2!=0)return _.error("Expected an even number of arguments.");if(V=_.parse(V,2,Ht),!V)return null;const Y=[];let ae=null;O==="interpolate-hcl"||O==="interpolate-lab"?ae=Tn:_.expectedType&&_.expectedType.kind!=="value"&&(ae=_.expectedType);for(let fe=0;fe<G.length;fe+=2){const he=G[fe],me=G[fe+1],Oe=fe+3,Ae=fe+4;if(typeof he!="number")return _.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Oe);if(Y.length&&Y[Y.length-1][0]>=he)return _.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Oe);const $e=_.parse(me,Ae,ae);if(!$e)return null;ae=ae||$e.type,Y.push([he,$e])}return Hr(ae,Ht)||Hr(ae,Un)||Hr(ae,Tn)||Hr(ae,$r)||Hr(ae,li)||Hr(ae,Kr(Ht))?new ol(ae,O,k,V,Y):_.error(`Type ${$n(ae)} is not interpolatable.`)}evaluate(p){const _=this.labels,O=this.outputs;if(_.length===1)return O[0].evaluate(p);const k=this.input.evaluate(p);if(k<=_[0])return O[0].evaluate(p);const V=_.length;if(k>=_[V-1])return O[V-1].evaluate(p);const G=Nm(_,k),Y=ol.interpolationFactor(this.interpolation,k,_[G],_[G+1]),ae=O[G].evaluate(p),fe=O[G+1].evaluate(p);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Ei(ae,fe,Y);case"color":return Br.interpolate(ae,fe,Y);case"padding":return xr.interpolate(ae,fe,Y);case"variableAnchorOffsetCollection":return Ii.interpolate(ae,fe,Y);case"array":return ro(ae,fe,Y);case"projectionDefinition":return Ki.interpolate(ae,fe,Y)}case"interpolate-hcl":return Br.interpolate(ae,fe,Y,"hcl");case"interpolate-lab":return Br.interpolate(ae,fe,Y,"lab")}}eachChild(p){p(this.input);for(const _ of this.outputs)p(_)}outputDefined(){return this.outputs.every(p=>p.outputDefined())}}function Na(b,p,_,O){const k=O-_,V=b-_;return k===0?0:p===1?V/k:(Math.pow(p,V)-1)/(Math.pow(p,k)-1)}const hc={color:Br.interpolate,number:Ei,padding:xr.interpolate,variableAnchorOffsetCollection:Ii.interpolate,array:ro};class yh{constructor(p,_){this.type=p,this.args=_}static parse(p,_){if(p.length<2)return _.error("Expected at least one argument.");let O=null;const k=_.expectedType;k&&k.kind!=="value"&&(O=k);const V=[];for(const Y of p.slice(1)){const ae=_.parse(Y,1+V.length,O,void 0,{typeAnnotation:"omit"});if(!ae)return null;O=O||ae.type,V.push(ae)}if(!O)throw new Error("No output type");const G=k&&V.some(Y=>tr(k,Y.type));return new yh(G?Dn:O,V)}evaluate(p){let _,O=null,k=0;for(const V of this.args)if(k++,O=V.evaluate(p),O&&O instanceof La&&!O.available&&(_||(_=O.name),O=null,k===this.args.length&&(O=_)),O!==null)break;return O}eachChild(p){this.args.forEach(p)}outputDefined(){return this.args.every(p=>p.outputDefined())}}function zm(b,p){return b==="=="||b==="!="?p.kind==="boolean"||p.kind==="string"||p.kind==="number"||p.kind==="null"||p.kind==="value":p.kind==="string"||p.kind==="number"||p.kind==="value"}function x0(b,p,_,O){return O.compare(p,_)===0}function ef(b,p,_){const O=b!=="=="&&b!=="!=";return class RK{constructor(V,G,Y){this.type=rn,this.lhs=V,this.rhs=G,this.collator=Y,this.hasUntypedArgument=V.type.kind==="value"||G.type.kind==="value"}static parse(V,G){if(V.length!==3&&V.length!==4)return G.error("Expected two or three arguments.");const Y=V[0];let ae=G.parse(V[1],1,Dn);if(!ae)return null;if(!zm(Y,ae.type))return G.concat(1).error(`"${Y}" comparisons are not supported for type '${$n(ae.type)}'.`);let fe=G.parse(V[2],2,Dn);if(!fe)return null;if(!zm(Y,fe.type))return G.concat(2).error(`"${Y}" comparisons are not supported for type '${$n(fe.type)}'.`);if(ae.type.kind!==fe.type.kind&&ae.type.kind!=="value"&&fe.type.kind!=="value")return G.error(`Cannot compare types '${$n(ae.type)}' and '${$n(fe.type)}'.`);O&&(ae.type.kind==="value"&&fe.type.kind!=="value"?ae=new nr(fe.type,[ae]):ae.type.kind!=="value"&&fe.type.kind==="value"&&(fe=new nr(ae.type,[fe])));let he=null;if(V.length===4){if(ae.type.kind!=="string"&&fe.type.kind!=="string"&&ae.type.kind!=="value"&&fe.type.kind!=="value")return G.error("Cannot use collator to compare non-string types.");if(he=G.parse(V[3],3,Er),!he)return null}return new RK(ae,fe,he)}evaluate(V){const G=this.lhs.evaluate(V),Y=this.rhs.evaluate(V);if(O&&this.hasUntypedArgument){const ae=na(G),fe=na(Y);if(ae.kind!==fe.kind||ae.kind!=="string"&&ae.kind!=="number")throw new ei(`Expected arguments for "${b}" to be (string, string) or (number, number), but found (${ae.kind}, ${fe.kind}) instead.`)}if(this.collator&&!O&&this.hasUntypedArgument){const ae=na(G),fe=na(Y);if(ae.kind!=="string"||fe.kind!=="string")return p(V,G,Y)}return this.collator?_(V,G,Y,this.collator.evaluate(V)):p(V,G,Y)}eachChild(V){V(this.lhs),V(this.rhs),this.collator&&V(this.collator)}outputDefined(){return!0}}}const Bm=ef("==",function(b,p,_){return p===_},x0),pc=ef("!=",function(b,p,_){return p!==_},function(b,p,_,O){return!x0(0,p,_,O)}),jm=ef("<",function(b,p,_){return p<_},function(b,p,_,O){return O.compare(p,_)<0}),Wl=ef(">",function(b,p,_){return p>_},function(b,p,_,O){return O.compare(p,_)>0}),Eu=ef("<=",function(b,p,_){return p<=_},function(b,p,_,O){return O.compare(p,_)<=0}),w0=ef(">=",function(b,p,_){return p>=_},function(b,p,_,O){return O.compare(p,_)>=0});class Dl{constructor(p,_,O){this.type=Er,this.locale=O,this.caseSensitive=p,this.diacriticSensitive=_}static parse(p,_){if(p.length!==2)return _.error("Expected one argument.");const O=p[1];if(typeof O!="object"||Array.isArray(O))return _.error("Collator options argument must be an object.");const k=_.parse(O["case-sensitive"]!==void 0&&O["case-sensitive"],1,rn);if(!k)return null;const V=_.parse(O["diacritic-sensitive"]!==void 0&&O["diacritic-sensitive"],1,rn);if(!V)return null;let G=null;return O.locale&&(G=_.parse(O.locale,1,ln),!G)?null:new Dl(k,V,G)}evaluate(p){return new Ui(this.caseSensitive.evaluate(p),this.diacriticSensitive.evaluate(p),this.locale?this.locale.evaluate(p):null)}eachChild(p){p(this.caseSensitive),p(this.diacriticSensitive),this.locale&&p(this.locale)}outputDefined(){return!1}}class yp{constructor(p,_,O,k,V){this.type=ln,this.number=p,this.locale=_,this.currency=O,this.minFractionDigits=k,this.maxFractionDigits=V}static parse(p,_){if(p.length!==3)return _.error("Expected two arguments.");const O=_.parse(p[1],1,Ht);if(!O)return null;const k=p[2];if(typeof k!="object"||Array.isArray(k))return _.error("NumberFormat options argument must be an object.");let V=null;if(k.locale&&(V=_.parse(k.locale,1,ln),!V))return null;let G=null;if(k.currency&&(G=_.parse(k.currency,1,ln),!G))return null;let Y=null;if(k["min-fraction-digits"]&&(Y=_.parse(k["min-fraction-digits"],1,Ht),!Y))return null;let ae=null;return k["max-fraction-digits"]&&(ae=_.parse(k["max-fraction-digits"],1,Ht),!ae)?null:new yp(O,V,G,Y,ae)}evaluate(p){return new Intl.NumberFormat(this.locale?this.locale.evaluate(p):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(p):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(p):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(p):void 0}).format(this.number.evaluate(p))}eachChild(p){p(this.number),this.locale&&p(this.locale),this.currency&&p(this.currency),this.minFractionDigits&&p(this.minFractionDigits),this.maxFractionDigits&&p(this.maxFractionDigits)}outputDefined(){return!1}}class Rd{constructor(p){this.type=Cr,this.sections=p}static parse(p,_){if(p.length<2)return _.error("Expected at least one argument.");const O=p[1];if(!Array.isArray(O)&&typeof O=="object")return _.error("First argument must be an image or text section.");const k=[];let V=!1;for(let G=1;G<=p.length-1;++G){const Y=p[G];if(V&&typeof Y=="object"&&!Array.isArray(Y)){V=!1;let ae=null;if(Y["font-scale"]&&(ae=_.parse(Y["font-scale"],1,Ht),!ae))return null;let fe=null;if(Y["text-font"]&&(fe=_.parse(Y["text-font"],1,Kr(ln)),!fe))return null;let he=null;if(Y["text-color"]&&(he=_.parse(Y["text-color"],1,Tn),!he))return null;let me=null;if(Y["vertical-align"]){if(typeof Y["vertical-align"]=="string"&&!Fa.includes(Y["vertical-align"]))return _.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${Y["vertical-align"]}' instead.`);if(me=_.parse(Y["vertical-align"],1,ln),!me)return null}const Oe=k[k.length-1];Oe.scale=ae,Oe.font=fe,Oe.textColor=he,Oe.verticalAlign=me}else{const ae=_.parse(p[G],1,Dn);if(!ae)return null;const fe=ae.type.kind;if(fe!=="string"&&fe!=="value"&&fe!=="null"&&fe!=="resolvedImage")return _.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");V=!0,k.push({content:ae,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Rd(k)}evaluate(p){return new Tr(this.sections.map(_=>{const O=_.content.evaluate(p);return na(O)===Zr?new bo("",O,null,null,null,_.verticalAlign?_.verticalAlign.evaluate(p):null):new bo(tu(O),null,_.scale?_.scale.evaluate(p):null,_.font?_.font.evaluate(p).join(","):null,_.textColor?_.textColor.evaluate(p):null,_.verticalAlign?_.verticalAlign.evaluate(p):null)}))}eachChild(p){for(const _ of this.sections)p(_.content),_.scale&&p(_.scale),_.font&&p(_.font),_.textColor&&p(_.textColor),_.verticalAlign&&p(_.verticalAlign)}outputDefined(){return!1}}class _o{constructor(p){this.type=Zr,this.input=p}static parse(p,_){if(p.length!==2)return _.error("Expected two arguments.");const O=_.parse(p[1],1,ln);return O?new _o(O):_.error("No image name provided.")}evaluate(p){const _=this.input.evaluate(p),O=La.fromString(_);return O&&p.availableImages&&(O.available=p.availableImages.indexOf(_)>-1),O}eachChild(p){p(this.input)}outputDefined(){return!1}}class Ou{constructor(p){this.type=Ht,this.input=p}static parse(p,_){if(p.length!==2)return _.error(`Expected 1 argument, but found ${p.length-1} instead.`);const O=_.parse(p[1],1);return O?O.type.kind!=="array"&&O.type.kind!=="string"&&O.type.kind!=="value"?_.error(`Expected argument of type string or array, but found ${$n(O.type)} instead.`):new Ou(O):null}evaluate(p){const _=this.input.evaluate(p);if(typeof _=="string")return[..._].length;if(Array.isArray(_))return _.length;throw new ei(`Expected value to be of type string or array, but found ${$n(na(_))} instead.`)}eachChild(p){p(this.input)}outputDefined(){return!1}}const nu=8192;function V1(b,p){const _=(180+b[0])/360,O=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+b[1]*Math.PI/360)))/360,k=Math.pow(2,p.z);return[Math.round(_*k*nu),Math.round(O*k*nu)]}function $d(b,p){const _=Math.pow(2,p.z);return[(k=(b[0]/nu+p.x)/_,360*k-180),(O=(b[1]/nu+p.y)/_,360/Math.PI*Math.atan(Math.exp((180-360*O)*Math.PI/180))-90)];var O,k}function Tg(b,p){b[0]=Math.min(b[0],p[0]),b[1]=Math.min(b[1],p[1]),b[2]=Math.max(b[2],p[0]),b[3]=Math.max(b[3],p[1])}function bp(b,p){return!(b[0]<=p[0]||b[2]>=p[2]||b[1]<=p[1]||b[3]>=p[3])}function nb(b,p,_){const O=b[0]-p[0],k=b[1]-p[1],V=b[0]-_[0],G=b[1]-_[1];return O*G-V*k==0&&O*V<=0&&k*G<=0}function Mg(b,p,_,O){return(k=[O[0]-_[0],O[1]-_[1]])[0]*(V=[p[0]-b[0],p[1]-b[1]])[1]-k[1]*V[0]!=0&&!(!Ig(b,p,_,O)||!Ig(_,O,b,p));var k,V}function Ag(b,p,_){for(const O of _)for(let k=0;k<O.length-1;++k)if(Mg(b,p,O[k],O[k+1]))return!0;return!1}function Tu(b,p,_=!1){let O=!1;for(const Y of p)for(let ae=0;ae<Y.length-1;ae++){if(nb(b,Y[ae],Y[ae+1]))return _;(V=Y[ae])[1]>(k=b)[1]!=(G=Y[ae+1])[1]>k[1]&&k[0]<(G[0]-V[0])*(k[1]-V[1])/(G[1]-V[1])+V[0]&&(O=!O)}var k,V,G;return O}function S0(b,p){for(const _ of p)if(Tu(b,_))return!0;return!1}function bh(b,p){for(const _ of b)if(!Tu(_,p))return!1;for(let _=0;_<b.length-1;++_)if(Ag(b[_],b[_+1],p))return!1;return!0}function rb(b,p){for(const _ of p)if(bh(b,_))return!0;return!1}function Ig(b,p,_,O){const k=O[0]-_[0],V=O[1]-_[1],G=(b[0]-_[0])*V-k*(b[1]-_[1]),Y=(p[0]-_[0])*V-k*(p[1]-_[1]);return G>0&&Y<0||G<0&&Y>0}function _h(b,p,_){const O=[];for(let k=0;k<b.length;k++){const V=[];for(let G=0;G<b[k].length;G++){const Y=V1(b[k][G],_);Tg(p,Y),V.push(Y)}O.push(V)}return O}function Pg(b,p,_){const O=[];for(let k=0;k<b.length;k++){const V=_h(b[k],p,_);O.push(V)}return O}function Fm(b,p,_,O){if(b[0]<_[0]||b[0]>_[2]){const k=.5*O;let V=b[0]-_[0]>k?-O:_[0]-b[0]>k?O:0;V===0&&(V=b[0]-_[2]>k?-O:_[2]-b[0]>k?O:0),b[0]+=V}Tg(p,b)}function Rg(b,p,_,O){const k=Math.pow(2,O.z)*nu,V=[O.x*nu,O.y*nu],G=[];for(const Y of b)for(const ae of Y){const fe=[ae.x+V[0],ae.y+V[1]];Fm(fe,p,_,k),G.push(fe)}return G}function Wf(b,p,_,O){const k=Math.pow(2,O.z)*nu,V=[O.x*nu,O.y*nu],G=[];for(const ae of b){const fe=[];for(const he of ae){const me=[he.x+V[0],he.y+V[1]];Tg(p,me),fe.push(me)}G.push(fe)}if(p[2]-p[0]<=k/2){(Y=p)[0]=Y[1]=1/0,Y[2]=Y[3]=-1/0;for(const ae of G)for(const fe of ae)Fm(fe,p,_,k)}var Y;return G}class xh{constructor(p,_){this.type=rn,this.geojson=p,this.geometries=_}static parse(p,_){if(p.length!==2)return _.error(`'within' expression requires exactly one argument, but found ${p.length-1} instead.`);if(Lo(p[1])){const O=p[1];if(O.type==="FeatureCollection"){const k=[];for(const V of O.features){const{type:G,coordinates:Y}=V.geometry;G==="Polygon"&&k.push(Y),G==="MultiPolygon"&&k.push(...Y)}if(k.length)return new xh(O,{type:"MultiPolygon",coordinates:k})}else if(O.type==="Feature"){const k=O.geometry.type;if(k==="Polygon"||k==="MultiPolygon")return new xh(O,O.geometry)}else if(O.type==="Polygon"||O.type==="MultiPolygon")return new xh(O,O)}return _.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(p){if(p.geometry()!=null&&p.canonicalID()!=null){if(p.geometryType()==="Point")return function(_,O){const k=[1/0,1/0,-1/0,-1/0],V=[1/0,1/0,-1/0,-1/0],G=_.canonicalID();if(O.type==="Polygon"){const Y=_h(O.coordinates,V,G),ae=Rg(_.geometry(),k,V,G);if(!bp(k,V))return!1;for(const fe of ae)if(!Tu(fe,Y))return!1}if(O.type==="MultiPolygon"){const Y=Pg(O.coordinates,V,G),ae=Rg(_.geometry(),k,V,G);if(!bp(k,V))return!1;for(const fe of ae)if(!S0(fe,Y))return!1}return!0}(p,this.geometries);if(p.geometryType()==="LineString")return function(_,O){const k=[1/0,1/0,-1/0,-1/0],V=[1/0,1/0,-1/0,-1/0],G=_.canonicalID();if(O.type==="Polygon"){const Y=_h(O.coordinates,V,G),ae=Wf(_.geometry(),k,V,G);if(!bp(k,V))return!1;for(const fe of ae)if(!bh(fe,Y))return!1}if(O.type==="MultiPolygon"){const Y=Pg(O.coordinates,V,G),ae=Wf(_.geometry(),k,V,G);if(!bp(k,V))return!1;for(const fe of ae)if(!rb(fe,Y))return!1}return!0}(p,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let $g=class{constructor(b=[],p=(_,O)=>_<O?-1:_>O?1:0){if(this.data=b,this.length=this.data.length,this.compare=p,this.length>0)for(let _=(this.length>>1)-1;_>=0;_--)this._down(_)}push(b){this.data.push(b),this._up(this.length++)}pop(){if(this.length===0)return;const b=this.data[0],p=this.data.pop();return--this.length>0&&(this.data[0]=p,this._down(0)),b}peek(){return this.data[0]}_up(b){const{data:p,compare:_}=this,O=p[b];for(;b>0;){const k=b-1>>1,V=p[k];if(_(O,V)>=0)break;p[b]=V,b=k}p[b]=O}_down(b){const{data:p,compare:_}=this,O=this.length>>1,k=p[b];for(;b<O;){let V=1+(b<<1);const G=V+1;if(G<this.length&&_(p[G],p[V])<0&&(V=G),_(p[V],k)>=0)break;p[b]=p[V],b=V}p[b]=k}};function gc(b,p,_=0,O=b.length-1,k=_p){for(;O>_;){if(O-_>600){const ae=O-_+1,fe=p-_+1,he=Math.log(ae),me=.5*Math.exp(2*he/3),Oe=.5*Math.sqrt(he*me*(ae-me)/ae)*(fe-ae/2<0?-1:1);gc(b,p,Math.max(_,Math.floor(p-fe*me/ae+Oe)),Math.min(O,Math.floor(p+(ae-fe)*me/ae+Oe)),k)}const V=b[p];let G=_,Y=O;for(kd(b,_,p),k(b[O],V)>0&&kd(b,_,O);G<Y;){for(kd(b,G,Y),G++,Y--;k(b[G],V)<0;)G++;for(;k(b[Y],V)>0;)Y--}k(b[_],V)===0?kd(b,_,Y):(Y++,kd(b,Y,O)),Y<=p&&(_=Y+1),p<=Y&&(O=Y-1)}}function kd(b,p,_){const O=b[p];b[p]=b[_],b[_]=O}function _p(b,p){return b<p?-1:b>p?1:0}function tf(b,p){if(b.length<=1)return[b];const _=[];let O,k;for(const V of b){const G=U1(V);G!==0&&(V.area=Math.abs(G),k===void 0&&(k=G<0),k===G<0?(O&&_.push(O),O=[V]):O.push(V))}if(O&&_.push(O),p>1)for(let V=0;V<_.length;V++)_[V].length<=p||(gc(_[V],p,1,_[V].length-1,wh),_[V]=_[V].slice(0,p));return _}function wh(b,p){return p.area-b.area}function U1(b){let p=0;for(let _,O,k=0,V=b.length,G=V-1;k<V;G=k++)_=b[k],O=b[G],p+=(O.x-_.x)*(_.y+O.y);return p}const kg=1/298.257223563,Hm=kg*(2-kg),Vm=Math.PI/180;class Lg{constructor(p){const _=6378.137*Vm*1e3,O=Math.cos(p*Vm),k=1/(1-Hm*(1-O*O)),V=Math.sqrt(k);this.kx=_*V*O,this.ky=_*V*k*(1-Hm)}distance(p,_){const O=this.wrap(p[0]-_[0])*this.kx,k=(p[1]-_[1])*this.ky;return Math.sqrt(O*O+k*k)}pointOnLine(p,_){let O,k,V,G,Y=1/0;for(let ae=0;ae<p.length-1;ae++){let fe=p[ae][0],he=p[ae][1],me=this.wrap(p[ae+1][0]-fe)*this.kx,Oe=(p[ae+1][1]-he)*this.ky,Ae=0;me===0&&Oe===0||(Ae=(this.wrap(_[0]-fe)*this.kx*me+(_[1]-he)*this.ky*Oe)/(me*me+Oe*Oe),Ae>1?(fe=p[ae+1][0],he=p[ae+1][1]):Ae>0&&(fe+=me/this.kx*Ae,he+=Oe/this.ky*Ae)),me=this.wrap(_[0]-fe)*this.kx,Oe=(_[1]-he)*this.ky;const $e=me*me+Oe*Oe;$e<Y&&(Y=$e,O=fe,k=he,V=ae,G=Ae)}return{point:[O,k],index:V,t:Math.max(0,Math.min(1,G))}}wrap(p){for(;p<-180;)p+=360;for(;p>180;)p-=360;return p}}function qf(b,p){return p[0]-b[0]}function Ng(b){return b[1]-b[0]+1}function Mu(b,p){return b[1]>=b[0]&&b[1]<p}function xp(b,p){if(b[0]>b[1])return[null,null];const _=Ng(b);if(p){if(_===2)return[b,null];const k=Math.floor(_/2);return[[b[0],b[0]+k],[b[0]+k,b[1]]]}if(_===1)return[b,null];const O=Math.floor(_/2)-1;return[[b[0],b[0]+O],[b[0]+O+1,b[1]]]}function Um(b,p){if(!Mu(p,b.length))return[1/0,1/0,-1/0,-1/0];const _=[1/0,1/0,-1/0,-1/0];for(let O=p[0];O<=p[1];++O)Tg(_,b[O]);return _}function nf(b){const p=[1/0,1/0,-1/0,-1/0];for(const _ of b)for(const O of _)Tg(p,O);return p}function Dg(b){return b[0]!==-1/0&&b[1]!==-1/0&&b[2]!==1/0&&b[3]!==1/0}function va(b,p,_){if(!Dg(b)||!Dg(p))return NaN;let O=0,k=0;return b[2]<p[0]&&(O=p[0]-b[2]),b[0]>p[2]&&(O=b[0]-p[2]),b[1]>p[3]&&(k=b[1]-p[3]),b[3]<p[1]&&(k=p[1]-b[3]),_.distance([0,0],[O,k])}function Sh(b,p,_){const O=_.pointOnLine(p,b);return _.distance(b,O.point)}function ql(b,p,_,O,k){const V=Math.min(Sh(b,[_,O],k),Sh(p,[_,O],k)),G=Math.min(Sh(_,[b,p],k),Sh(O,[b,p],k));return Math.min(V,G)}function rf(b,p,_,O,k){if(!Mu(p,b.length)||!Mu(O,_.length))return 1/0;let V=1/0;for(let G=p[0];G<p[1];++G){const Y=b[G],ae=b[G+1];for(let fe=O[0];fe<O[1];++fe){const he=_[fe],me=_[fe+1];if(Mg(Y,ae,he,me))return 0;V=Math.min(V,ql(Y,ae,he,me,k))}}return V}function ru(b,p,_,O,k){if(!Mu(p,b.length)||!Mu(O,_.length))return NaN;let V=1/0;for(let G=p[0];G<=p[1];++G)for(let Y=O[0];Y<=O[1];++Y)if(V=Math.min(V,k.distance(b[G],_[Y])),V===0)return V;return V}function C0(b,p,_){if(Tu(b,p,!0))return 0;let O=1/0;for(const k of p){const V=k[0],G=k[k.length-1];if(V!==G&&(O=Math.min(O,Sh(b,[G,V],_)),O===0))return O;const Y=_.pointOnLine(k,b);if(O=Math.min(O,_.distance(b,Y.point)),O===0)return O}return O}function ib(b,p,_,O){if(!Mu(p,b.length))return NaN;for(let V=p[0];V<=p[1];++V)if(Tu(b[V],_,!0))return 0;let k=1/0;for(let V=p[0];V<p[1];++V){const G=b[V],Y=b[V+1];for(const ae of _)for(let fe=0,he=ae.length,me=he-1;fe<he;me=fe++){const Oe=ae[me],Ae=ae[fe];if(Mg(G,Y,Oe,Ae))return 0;k=Math.min(k,ql(G,Y,Oe,Ae,O))}}return k}function E0(b,p){for(const _ of b)for(const O of _)if(Tu(O,p,!0))return!0;return!1}function O0(b,p,_,O=1/0){const k=nf(b),V=nf(p);if(O!==1/0&&va(k,V,_)>=O)return O;if(bp(k,V)){if(E0(b,p))return 0}else if(E0(p,b))return 0;let G=1/0;for(const Y of b)for(let ae=0,fe=Y.length,he=fe-1;ae<fe;he=ae++){const me=Y[he],Oe=Y[ae];for(const Ae of p)for(let $e=0,De=Ae.length,Xe=De-1;$e<De;Xe=$e++){const at=Ae[Xe],Ot=Ae[$e];if(Mg(me,Oe,at,Ot))return 0;G=Math.min(G,ql(me,Oe,at,Ot,_))}}return G}function ab(b,p,_,O,k,V){if(!V)return;const G=va(Um(O,V),k,_);G<p&&b.push([G,V,[0,0]])}function Kf(b,p,_,O,k,V,G){if(!V||!G)return;const Y=va(Um(O,V),Um(k,G),_);Y<p&&b.push([Y,V,G])}function Au(b,p,_,O,k=1/0){let V=Math.min(O.distance(b[0],_[0][0]),k);if(V===0)return V;const G=new $g([[0,[0,b.length-1],[0,0]]],qf),Y=nf(_);for(;G.length>0;){const ae=G.pop();if(ae[0]>=V)continue;const fe=ae[1],he=p?50:100;if(Ng(fe)<=he){if(!Mu(fe,b.length))return NaN;if(p){const me=ib(b,fe,_,O);if(isNaN(me)||me===0)return me;V=Math.min(V,me)}else for(let me=fe[0];me<=fe[1];++me){const Oe=C0(b[me],_,O);if(V=Math.min(V,Oe),V===0)return 0}}else{const me=xp(fe,p);ab(G,V,O,b,Y,me[0]),ab(G,V,O,b,Y,me[1])}}return V}function Vt(b,p,_,O,k,V=1/0){let G=Math.min(V,k.distance(b[0],_[0]));if(G===0)return G;const Y=new $g([[0,[0,b.length-1],[0,_.length-1]]],qf);for(;Y.length>0;){const ae=Y.pop();if(ae[0]>=G)continue;const fe=ae[1],he=ae[2],me=p?50:100,Oe=O?50:100;if(Ng(fe)<=me&&Ng(he)<=Oe){if(!Mu(fe,b.length)&&Mu(he,_.length))return NaN;let Ae;if(p&&O)Ae=rf(b,fe,_,he,k),G=Math.min(G,Ae);else if(p&&!O){const $e=b.slice(fe[0],fe[1]+1);for(let De=he[0];De<=he[1];++De)if(Ae=Sh(_[De],$e,k),G=Math.min(G,Ae),G===0)return G}else if(!p&&O){const $e=_.slice(he[0],he[1]+1);for(let De=fe[0];De<=fe[1];++De)if(Ae=Sh(b[De],$e,k),G=Math.min(G,Ae),G===0)return G}else Ae=ru(b,fe,_,he,k),G=Math.min(G,Ae)}else{const Ae=xp(fe,p),$e=xp(he,O);Kf(Y,G,k,b,_,Ae[0],$e[0]),Kf(Y,G,k,b,_,Ae[0],$e[1]),Kf(Y,G,k,b,_,Ae[1],$e[0]),Kf(Y,G,k,b,_,Ae[1],$e[1])}}return G}function Rn(b){return b.type==="MultiPolygon"?b.coordinates.map(p=>({type:"Polygon",coordinates:p})):b.type==="MultiLineString"?b.coordinates.map(p=>({type:"LineString",coordinates:p})):b.type==="MultiPoint"?b.coordinates.map(p=>({type:"Point",coordinates:p})):[b]}class pn{constructor(p,_){this.type=Ht,this.geojson=p,this.geometries=_}static parse(p,_){if(p.length!==2)return _.error(`'distance' expression requires exactly one argument, but found ${p.length-1} instead.`);if(Lo(p[1])){const O=p[1];if(O.type==="FeatureCollection")return new pn(O,O.features.map(k=>Rn(k.geometry)).flat());if(O.type==="Feature")return new pn(O,Rn(O.geometry));if("type"in O&&"coordinates"in O)return new pn(O,Rn(O))}return _.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(p){if(p.geometry()!=null&&p.canonicalID()!=null){if(p.geometryType()==="Point")return function(_,O){const k=_.geometry(),V=k.flat().map(ae=>$d([ae.x,ae.y],_.canonical));if(k.length===0)return NaN;const G=new Lg(V[0][1]);let Y=1/0;for(const ae of O){switch(ae.type){case"Point":Y=Math.min(Y,Vt(V,!1,[ae.coordinates],!1,G,Y));break;case"LineString":Y=Math.min(Y,Vt(V,!1,ae.coordinates,!0,G,Y));break;case"Polygon":Y=Math.min(Y,Au(V,!1,ae.coordinates,G,Y))}if(Y===0)return Y}return Y}(p,this.geometries);if(p.geometryType()==="LineString")return function(_,O){const k=_.geometry(),V=k.flat().map(ae=>$d([ae.x,ae.y],_.canonical));if(k.length===0)return NaN;const G=new Lg(V[0][1]);let Y=1/0;for(const ae of O){switch(ae.type){case"Point":Y=Math.min(Y,Vt(V,!0,[ae.coordinates],!1,G,Y));break;case"LineString":Y=Math.min(Y,Vt(V,!0,ae.coordinates,!0,G,Y));break;case"Polygon":Y=Math.min(Y,Au(V,!0,ae.coordinates,G,Y))}if(Y===0)return Y}return Y}(p,this.geometries);if(p.geometryType()==="Polygon")return function(_,O){const k=_.geometry();if(k.length===0||k[0].length===0)return NaN;const V=tf(k,0).map(ae=>ae.map(fe=>fe.map(he=>$d([he.x,he.y],_.canonical)))),G=new Lg(V[0][0][0][1]);let Y=1/0;for(const ae of O)for(const fe of V){switch(ae.type){case"Point":Y=Math.min(Y,Au([ae.coordinates],!1,fe,G,Y));break;case"LineString":Y=Math.min(Y,Au(ae.coordinates,!0,fe,G,Y));break;case"Polygon":Y=Math.min(Y,O0(fe,ae.coordinates,G,Y))}if(Y===0)return Y}return Y}(p,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const hr={"==":Bm,"!=":pc,">":Wl,"<":jm,">=":w0,"<=":Eu,array:nr,at:gi,boolean:nr,case:Pd,coalesce:yh,collator:Dl,format:Rd,image:_o,in:vp,"index-of":al,interpolate:ol,"interpolate-hcl":ol,"interpolate-lab":ol,length:Ou,let:Pi,literal:$c,match:Ju,number:nr,"number-format":yp,object:nr,slice:Uf,step:Gf,string:nr,"to-boolean":Gi,"to-color":Gi,"to-number":Gi,"to-string":Gi,var:ra,within:xh,distance:pn};class jr{constructor(p,_,O,k){this.name=p,this.type=_,this._evaluate=O,this.args=k}evaluate(p){return this._evaluate(p,this.args)}eachChild(p){this.args.forEach(p)}outputDefined(){return!1}static parse(p,_){const O=p[0],k=jr.definitions[O];if(!k)return _.error(`Unknown expression "${O}". If you wanted a literal array, use ["literal", [...]].`,0);const V=Array.isArray(k)?k[0]:k.type,G=Array.isArray(k)?[[k[1],k[2]]]:k.overloads,Y=G.filter(([fe])=>!Array.isArray(fe)||fe.length===p.length-1);let ae=null;for(const[fe,he]of Y){ae=new dc(_.registry,zg,_.path,null,_.scope);const me=[];let Oe=!1;for(let Ae=1;Ae<p.length;Ae++){const $e=p[Ae],De=Array.isArray(fe)?fe[Ae-1]:fe.type,Xe=ae.parse($e,1+me.length,De);if(!Xe){Oe=!0;break}me.push(Xe)}if(!Oe)if(Array.isArray(fe)&&fe.length!==me.length)ae.error(`Expected ${fe.length} arguments, but found ${me.length} instead.`);else{for(let Ae=0;Ae<me.length;Ae++){const $e=Array.isArray(fe)?fe[Ae]:fe.type,De=me[Ae];ae.concat(Ae+1).checkSubtype($e,De.type)}if(ae.errors.length===0)return new jr(O,V,he,me)}}if(Y.length===1)_.errors.push(...ae.errors);else{const fe=(Y.length?Y:G).map(([me])=>{return Oe=me,Array.isArray(Oe)?`(${Oe.map($n).join(", ")})`:`(${$n(Oe.type)}...)`;var Oe}).join(" | "),he=[];for(let me=1;me<p.length;me++){const Oe=_.parse(p[me],1+he.length);if(!Oe)return null;he.push($n(Oe.type))}_.error(`Expected arguments of type ${fe}, but found (${he.join(", ")}) instead.`)}return null}static register(p,_){jr.definitions=_;for(const O in _)p[O]=jr}}function ya(b,[p,_,O,k]){p=p.evaluate(b),_=_.evaluate(b),O=O.evaluate(b);const V=k?k.evaluate(b):1,G=qo(p,_,O,V);if(G)throw new ei(G);return new Br(p/255,_/255,O/255,V,!1)}function Os(b,p){return b in p}function la(b,p){const _=p[b];return _===void 0?null:_}function af(b){return{type:b}}function zg(b){if(b instanceof ra)return zg(b.boundExpression);if(b instanceof jr&&b.name==="error"||b instanceof Dl||b instanceof xh||b instanceof pn)return!1;const p=b instanceof Gi||b instanceof nr;let _=!0;return b.eachChild(O=>{_=p?_&&zg(O):_&&O instanceof $c}),!!_&&zl(b)&&Gm(b,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function zl(b){if(b instanceof jr&&(b.name==="get"&&b.args.length===1||b.name==="feature-state"||b.name==="has"&&b.args.length===1||b.name==="properties"||b.name==="geometry-type"||b.name==="id"||/^filter-/.test(b.name))||b instanceof xh||b instanceof pn)return!1;let p=!0;return b.eachChild(_=>{p&&!zl(_)&&(p=!1)}),p}function Ld(b){if(b instanceof jr&&b.name==="feature-state")return!1;let p=!0;return b.eachChild(_=>{p&&!Ld(_)&&(p=!1)}),p}function Gm(b,p){if(b instanceof jr&&p.indexOf(b.name)>=0)return!1;let _=!0;return b.eachChild(O=>{_&&!Gm(O,p)&&(_=!1)}),_}function Ch(b){return{result:"success",value:b}}function of(b){return{result:"error",value:b}}function sf(b){return b["property-type"]==="data-driven"||b["property-type"]==="cross-faded-data-driven"}function Ta(b){return!!b.expression&&b.expression.parameters.indexOf("zoom")>-1}function Lc(b){return!!b.expression&&b.expression.interpolated}function Yi(b){return b instanceof Number?"number":b instanceof String?"string":b instanceof Boolean?"boolean":Array.isArray(b)?"array":b===null?"null":typeof b}function sl(b){return typeof b=="object"&&b!==null&&!Array.isArray(b)}function mc(b){return b}function Eh(b,p){const _=p.type==="color",O=b.stops&&typeof b.stops[0][0]=="object",k=O||!(O||b.property!==void 0),V=b.type||(Lc(p)?"exponential":"interval");if(_||p.type==="padding"){const he=_?Br.parse:xr.parse;(b=xn({},b)).stops&&(b.stops=b.stops.map(me=>[me[0],he(me[1])])),b.default=he(b.default?b.default:p.default)}if(b.colorSpace&&(G=b.colorSpace)!=="rgb"&&G!=="hcl"&&G!=="lab")throw new Error(`Unknown color space: "${b.colorSpace}"`);var G;let Y,ae,fe;if(V==="exponential")Y=Mh;else if(V==="interval")Y=iu;else if(V==="categorical"){Y=Th,ae=Object.create(null);for(const he of b.stops)ae[he[0]]=he[1];fe=typeof b.stops[0][0]}else{if(V!=="identity")throw new Error(`Unknown function type "${V}"`);Y=Ah}if(O){const he={},me=[];for(let $e=0;$e<b.stops.length;$e++){const De=b.stops[$e],Xe=De[0].zoom;he[Xe]===void 0&&(he[Xe]={zoom:Xe,type:b.type,property:b.property,default:b.default,stops:[]},me.push(Xe)),he[Xe].stops.push([De[0].value,De[1]])}const Oe=[];for(const $e of me)Oe.push([he[$e].zoom,Eh(he[$e],p)]);const Ae={name:"linear"};return{kind:"composite",interpolationType:Ae,interpolationFactor:ol.interpolationFactor.bind(void 0,Ae),zoomStops:Oe.map($e=>$e[0]),evaluate:({zoom:$e},De)=>Mh({stops:Oe,base:b.base},p,$e).evaluate($e,De)}}if(k){const he=V==="exponential"?{name:"exponential",base:b.base!==void 0?b.base:1}:null;return{kind:"camera",interpolationType:he,interpolationFactor:ol.interpolationFactor.bind(void 0,he),zoomStops:b.stops.map(me=>me[0]),evaluate:({zoom:me})=>Y(b,p,me,ae,fe)}}return{kind:"source",evaluate(he,me){const Oe=me&&me.properties?me.properties[b.property]:void 0;return Oe===void 0?Oh(b.default,p.default):Y(b,p,Oe,ae,fe)}}}function Oh(b,p,_){return b!==void 0?b:p!==void 0?p:_!==void 0?_:void 0}function Th(b,p,_,O,k){return Oh(typeof _===k?O[_]:void 0,b.default,p.default)}function iu(b,p,_){if(Yi(_)!=="number")return Oh(b.default,p.default);const O=b.stops.length;if(O===1||_<=b.stops[0][0])return b.stops[0][1];if(_>=b.stops[O-1][0])return b.stops[O-1][1];const k=Nm(b.stops.map(V=>V[0]),_);return b.stops[k][1]}function Mh(b,p,_){const O=b.base!==void 0?b.base:1;if(Yi(_)!=="number")return Oh(b.default,p.default);const k=b.stops.length;if(k===1||_<=b.stops[0][0])return b.stops[0][1];if(_>=b.stops[k-1][0])return b.stops[k-1][1];const V=Nm(b.stops.map(he=>he[0]),_),G=function(he,me,Oe,Ae){const $e=Ae-Oe,De=he-Oe;return $e===0?0:me===1?De/$e:(Math.pow(me,De)-1)/(Math.pow(me,$e)-1)}(_,O,b.stops[V][0],b.stops[V+1][0]),Y=b.stops[V][1],ae=b.stops[V+1][1],fe=hc[p.type]||mc;return typeof Y.evaluate=="function"?{evaluate(...he){const me=Y.evaluate.apply(void 0,he),Oe=ae.evaluate.apply(void 0,he);if(me!==void 0&&Oe!==void 0)return fe(me,Oe,G,b.colorSpace)}}:fe(Y,ae,G,b.colorSpace)}function Ah(b,p,_){switch(p.type){case"color":_=Br.parse(_);break;case"formatted":_=Tr.fromString(_.toString());break;case"resolvedImage":_=La.fromString(_.toString());break;case"padding":_=xr.parse(_);break;default:Yi(_)===p.type||p.type==="enum"&&p.values[_]||(_=void 0)}return Oh(_,b.default,p.default)}jr.register(hr,{error:[{kind:"error"},[ln],(b,[p])=>{throw new ei(p.evaluate(b))}],typeof:[ln,[Dn],(b,[p])=>$n(na(p.evaluate(b)))],"to-rgba":[Kr(Ht,4),[Tn],(b,[p])=>{const[_,O,k,V]=p.evaluate(b).rgb;return[255*_,255*O,255*k,V]}],rgb:[Tn,[Ht,Ht,Ht],ya],rgba:[Tn,[Ht,Ht,Ht,Ht],ya],has:{type:rn,overloads:[[[ln],(b,[p])=>Os(p.evaluate(b),b.properties())],[[ln,ir],(b,[p,_])=>Os(p.evaluate(b),_.evaluate(b))]]},get:{type:Dn,overloads:[[[ln],(b,[p])=>la(p.evaluate(b),b.properties())],[[ln,ir],(b,[p,_])=>la(p.evaluate(b),_.evaluate(b))]]},"feature-state":[Dn,[ln],(b,[p])=>la(p.evaluate(b),b.featureState||{})],properties:[ir,[],b=>b.properties()],"geometry-type":[ln,[],b=>b.geometryType()],id:[Dn,[],b=>b.id()],zoom:[Ht,[],b=>b.globals.zoom],"heatmap-density":[Ht,[],b=>b.globals.heatmapDensity||0],"line-progress":[Ht,[],b=>b.globals.lineProgress||0],accumulated:[Dn,[],b=>b.globals.accumulated===void 0?null:b.globals.accumulated],"+":[Ht,af(Ht),(b,p)=>{let _=0;for(const O of p)_+=O.evaluate(b);return _}],"*":[Ht,af(Ht),(b,p)=>{let _=1;for(const O of p)_*=O.evaluate(b);return _}],"-":{type:Ht,overloads:[[[Ht,Ht],(b,[p,_])=>p.evaluate(b)-_.evaluate(b)],[[Ht],(b,[p])=>-p.evaluate(b)]]},"/":[Ht,[Ht,Ht],(b,[p,_])=>p.evaluate(b)/_.evaluate(b)],"%":[Ht,[Ht,Ht],(b,[p,_])=>p.evaluate(b)%_.evaluate(b)],ln2:[Ht,[],()=>Math.LN2],pi:[Ht,[],()=>Math.PI],e:[Ht,[],()=>Math.E],"^":[Ht,[Ht,Ht],(b,[p,_])=>Math.pow(p.evaluate(b),_.evaluate(b))],sqrt:[Ht,[Ht],(b,[p])=>Math.sqrt(p.evaluate(b))],log10:[Ht,[Ht],(b,[p])=>Math.log(p.evaluate(b))/Math.LN10],ln:[Ht,[Ht],(b,[p])=>Math.log(p.evaluate(b))],log2:[Ht,[Ht],(b,[p])=>Math.log(p.evaluate(b))/Math.LN2],sin:[Ht,[Ht],(b,[p])=>Math.sin(p.evaluate(b))],cos:[Ht,[Ht],(b,[p])=>Math.cos(p.evaluate(b))],tan:[Ht,[Ht],(b,[p])=>Math.tan(p.evaluate(b))],asin:[Ht,[Ht],(b,[p])=>Math.asin(p.evaluate(b))],acos:[Ht,[Ht],(b,[p])=>Math.acos(p.evaluate(b))],atan:[Ht,[Ht],(b,[p])=>Math.atan(p.evaluate(b))],min:[Ht,af(Ht),(b,p)=>Math.min(...p.map(_=>_.evaluate(b)))],max:[Ht,af(Ht),(b,p)=>Math.max(...p.map(_=>_.evaluate(b)))],abs:[Ht,[Ht],(b,[p])=>Math.abs(p.evaluate(b))],round:[Ht,[Ht],(b,[p])=>{const _=p.evaluate(b);return _<0?-Math.round(-_):Math.round(_)}],floor:[Ht,[Ht],(b,[p])=>Math.floor(p.evaluate(b))],ceil:[Ht,[Ht],(b,[p])=>Math.ceil(p.evaluate(b))],"filter-==":[rn,[ln,Dn],(b,[p,_])=>b.properties()[p.value]===_.value],"filter-id-==":[rn,[Dn],(b,[p])=>b.id()===p.value],"filter-type-==":[rn,[ln],(b,[p])=>b.geometryType()===p.value],"filter-<":[rn,[ln,Dn],(b,[p,_])=>{const O=b.properties()[p.value],k=_.value;return typeof O==typeof k&&O<k}],"filter-id-<":[rn,[Dn],(b,[p])=>{const _=b.id(),O=p.value;return typeof _==typeof O&&_<O}],"filter->":[rn,[ln,Dn],(b,[p,_])=>{const O=b.properties()[p.value],k=_.value;return typeof O==typeof k&&O>k}],"filter-id->":[rn,[Dn],(b,[p])=>{const _=b.id(),O=p.value;return typeof _==typeof O&&_>O}],"filter-<=":[rn,[ln,Dn],(b,[p,_])=>{const O=b.properties()[p.value],k=_.value;return typeof O==typeof k&&O<=k}],"filter-id-<=":[rn,[Dn],(b,[p])=>{const _=b.id(),O=p.value;return typeof _==typeof O&&_<=O}],"filter->=":[rn,[ln,Dn],(b,[p,_])=>{const O=b.properties()[p.value],k=_.value;return typeof O==typeof k&&O>=k}],"filter-id->=":[rn,[Dn],(b,[p])=>{const _=b.id(),O=p.value;return typeof _==typeof O&&_>=O}],"filter-has":[rn,[Dn],(b,[p])=>p.value in b.properties()],"filter-has-id":[rn,[],b=>b.id()!==null&&b.id()!==void 0],"filter-type-in":[rn,[Kr(ln)],(b,[p])=>p.value.indexOf(b.geometryType())>=0],"filter-id-in":[rn,[Kr(Dn)],(b,[p])=>p.value.indexOf(b.id())>=0],"filter-in-small":[rn,[ln,Kr(Dn)],(b,[p,_])=>_.value.indexOf(b.properties()[p.value])>=0],"filter-in-large":[rn,[ln,Kr(Dn)],(b,[p,_])=>function(O,k,V,G){for(;V<=G;){const Y=V+G>>1;if(k[Y]===O)return!0;k[Y]>O?G=Y-1:V=Y+1}return!1}(b.properties()[p.value],_.value,0,_.value.length-1)],all:{type:rn,overloads:[[[rn,rn],(b,[p,_])=>p.evaluate(b)&&_.evaluate(b)],[af(rn),(b,p)=>{for(const _ of p)if(!_.evaluate(b))return!1;return!0}]]},any:{type:rn,overloads:[[[rn,rn],(b,[p,_])=>p.evaluate(b)||_.evaluate(b)],[af(rn),(b,p)=>{for(const _ of p)if(_.evaluate(b))return!0;return!1}]]},"!":[rn,[rn],(b,[p])=>!p.evaluate(b)],"is-supported-script":[rn,[ln],(b,[p])=>{const _=b.globals&&b.globals.isSupportedScript;return!_||_(p.evaluate(b))}],upcase:[ln,[ln],(b,[p])=>p.evaluate(b).toUpperCase()],downcase:[ln,[ln],(b,[p])=>p.evaluate(b).toLowerCase()],concat:[ln,af(Dn),(b,p)=>p.map(_=>tu(_.evaluate(b))).join("")],"resolved-locale":[ln,[Er],(b,[p])=>p.evaluate(b).resolvedLocale()]});class lf{constructor(p,_){var O;this.expression=p,this._warningHistory={},this._evaluator=new Ir,this._defaultValue=_?(O=_).type==="color"&&sl(O.default)?new Br(0,0,0,0):O.type==="color"?Br.parse(O.default)||null:O.type==="padding"?xr.parse(O.default)||null:O.type==="variableAnchorOffsetCollection"?Ii.parse(O.default)||null:O.type==="projectionDefinition"?Ki.parse(O.default)||null:O.default===void 0?null:O.default:null,this._enumValues=_&&_.type==="enum"?_.values:null}evaluateWithoutErrorHandling(p,_,O,k,V,G){return this._evaluator.globals=p,this._evaluator.feature=_,this._evaluator.featureState=O,this._evaluator.canonical=k,this._evaluator.availableImages=V||null,this._evaluator.formattedSection=G,this.expression.evaluate(this._evaluator)}evaluate(p,_,O,k,V,G){this._evaluator.globals=p,this._evaluator.feature=_||null,this._evaluator.featureState=O||null,this._evaluator.canonical=k,this._evaluator.availableImages=V||null,this._evaluator.formattedSection=G||null;try{const Y=this.expression.evaluate(this._evaluator);if(Y==null||typeof Y=="number"&&Y!=Y)return this._defaultValue;if(this._enumValues&&!(Y in this._enumValues))throw new ei(`Expected value to be one of ${Object.keys(this._enumValues).map(ae=>JSON.stringify(ae)).join(", ")}, but found ${JSON.stringify(Y)} instead.`);return Y}catch(Y){return this._warningHistory[Y.message]||(this._warningHistory[Y.message]=!0,typeof console<"u"&&console.warn(Y.message)),this._defaultValue}}}function Yf(b){return Array.isArray(b)&&b.length>0&&typeof b[0]=="string"&&b[0]in hr}function cf(b,p){const _=new dc(hr,zg,[],p?function(k){const V={color:Tn,string:ln,number:Ht,enum:ln,boolean:rn,formatted:Cr,padding:$r,projectionDefinition:Un,resolvedImage:Zr,variableAnchorOffsetCollection:li};return k.type==="array"?Kr(V[k.value]||Dn,k.length):V[k.type]}(p):void 0),O=_.parse(b,void 0,void 0,void 0,p&&p.type==="string"?{typeAnnotation:"coerce"}:void 0);return O?Ch(new lf(O,p)):of(_.errors)}class wp{constructor(p,_){this.kind=p,this._styleExpression=_,this.isStateDependent=p!=="constant"&&!Ld(_.expression)}evaluateWithoutErrorHandling(p,_,O,k,V,G){return this._styleExpression.evaluateWithoutErrorHandling(p,_,O,k,V,G)}evaluate(p,_,O,k,V,G){return this._styleExpression.evaluate(p,_,O,k,V,G)}}class Bl{constructor(p,_,O,k){this.kind=p,this.zoomStops=O,this._styleExpression=_,this.isStateDependent=p!=="camera"&&!Ld(_.expression),this.interpolationType=k}evaluateWithoutErrorHandling(p,_,O,k,V,G){return this._styleExpression.evaluateWithoutErrorHandling(p,_,O,k,V,G)}evaluate(p,_,O,k,V,G){return this._styleExpression.evaluate(p,_,O,k,V,G)}interpolationFactor(p,_,O){return this.interpolationType?ol.interpolationFactor(this.interpolationType,p,_,O):0}}function Nd(b,p){const _=cf(b,p);if(_.result==="error")return _;const O=_.value.expression,k=zl(O);if(!k&&!sf(p))return of([new Bt("","data expressions not supported")]);const V=Gm(O,["zoom"]);if(!V&&!Ta(p))return of([new Bt("","zoom expressions not supported")]);const G=Xf(O);return G||V?G instanceof Bt?of([G]):G instanceof ol&&!Lc(p)?of([new Bt("",'"interpolate" expressions cannot be used with this property')]):Ch(G?new Bl(k?"camera":"composite",_.value,G.labels,G instanceof ol?G.interpolation:void 0):new wp(k?"constant":"source",_.value)):of([new Bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ll{constructor(p,_){this._parameters=p,this._specification=_,xn(this,Eh(this._parameters,this._specification))}static deserialize(p){return new ll(p._parameters,p._specification)}static serialize(p){return{_parameters:p._parameters,_specification:p._specification}}}function Xf(b){let p=null;if(b instanceof Pi)p=Xf(b.result);else if(b instanceof yh){for(const _ of b.args)if(p=Xf(_),p)break}else(b instanceof Gf||b instanceof ol)&&b.input instanceof jr&&b.input.name==="zoom"&&(p=b);return p instanceof Bt||b.eachChild(_=>{const O=Xf(_);O instanceof Bt?p=O:!p&&O?p=new Bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):p&&O&&p!==O&&(p=new Bt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),p}function Ih(b){if(b===!0||b===!1)return!0;if(!Array.isArray(b)||b.length===0)return!1;switch(b[0]){case"has":return b.length>=2&&b[1]!=="$id"&&b[1]!=="$type";case"in":return b.length>=3&&(typeof b[1]!="string"||Array.isArray(b[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return b.length!==3||Array.isArray(b[1])||Array.isArray(b[2]);case"any":case"all":for(const p of b.slice(1))if(!Ih(p)&&typeof p!="boolean")return!1;return!0;default:return!0}}const Ph={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Bg(b){if(b==null)return{filter:()=>!0,needGeometry:!1};Ih(b)||(b=au(b));const p=cf(b,Ph);if(p.result==="error")throw new Error(p.value.map(_=>`${_.key}: ${_.message}`).join(", "));return{filter:(_,O,k)=>p.value.evaluate(_,O,{},k),needGeometry:Iu(b)}}function Rh(b,p){return b<p?-1:b>p?1:0}function Iu(b){if(!Array.isArray(b))return!1;if(b[0]==="within"||b[0]==="distance")return!0;for(let p=1;p<b.length;p++)if(Iu(b[p]))return!0;return!1}function au(b){if(!b)return!0;const p=b[0];return b.length<=1?p!=="any":p==="=="?$h(b[1],b[2],"=="):p==="!="?bl($h(b[1],b[2],"==")):p==="<"||p===">"||p==="<="||p===">="?$h(b[1],b[2],p):p==="any"?(_=b.slice(1),["any"].concat(_.map(au))):p==="all"?["all"].concat(b.slice(1).map(au)):p==="none"?["all"].concat(b.slice(1).map(au).map(bl)):p==="in"?Dd(b[1],b.slice(2)):p==="!in"?bl(Dd(b[1],b.slice(2))):p==="has"?Kl(b[1]):p!=="!has"||bl(Kl(b[1]));var _}function $h(b,p,_){switch(b){case"$type":return[`filter-type-${_}`,p];case"$id":return[`filter-id-${_}`,p];default:return[`filter-${_}`,b,p]}}function Dd(b,p){if(p.length===0)return!1;switch(b){case"$type":return["filter-type-in",["literal",p]];case"$id":return["filter-id-in",["literal",p]];default:return p.length>200&&!p.some(_=>typeof _!=typeof p[0])?["filter-in-large",b,["literal",p.sort(Rh)]]:["filter-in-small",b,["literal",p]]}}function Kl(b){switch(b){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",b]}}function bl(b){return["!",b]}function Ha(b){const p=typeof b;if(p==="number"||p==="boolean"||p==="string"||b==null)return JSON.stringify(b);if(Array.isArray(b)){let k="[";for(const V of b)k+=`${Ha(V)},`;return`${k}]`}const _=Object.keys(b).sort();let O="{";for(let k=0;k<_.length;k++)O+=`${JSON.stringify(_[k])}:${Ha(b[_[k]])},`;return`${O}}`}function Ko(b){let p="";for(const _ of Ye)p+=`/${Ha(b[_])}`;return p}function uf(b){const p=b.value;return p?[new Tt(b.key,p,"constants have been deprecated as of v8")]:[]}function io(b){return b instanceof Number||b instanceof String||b instanceof Boolean?b.valueOf():b}function Zf(b){if(Array.isArray(b))return b.map(Zf);if(b instanceof Object&&!(b instanceof Number||b instanceof String||b instanceof Boolean)){const p={};for(const _ in b)p[_]=Zf(b[_]);return p}return io(b)}function vc(b){const p=b.key,_=b.value,O=b.valueSpec||{},k=b.objectElementValidators||{},V=b.style,G=b.styleSpec,Y=b.validateSpec;let ae=[];const fe=Yi(_);if(fe!=="object")return[new Tt(p,_,`object expected, ${fe} found`)];for(const he in _){const me=he.split(".")[0],Oe=O[me]||O["*"];let Ae;if(k[me])Ae=k[me];else if(O[me])Ae=Y;else if(k["*"])Ae=k["*"];else{if(!O["*"]){ae.push(new Tt(p,_[he],`unknown property "${he}"`));continue}Ae=Y}ae=ae.concat(Ae({key:(p&&`${p}.`)+he,value:_[he],valueSpec:Oe,style:V,styleSpec:G,object:_,objectKey:he,validateSpec:Y},_))}for(const he in O)k[he]||O[he].required&&O[he].default===void 0&&_[he]===void 0&&ae.push(new Tt(p,_,`missing required property "${he}"`));return ae}function kh(b){const p=b.value,_=b.valueSpec,O=b.style,k=b.styleSpec,V=b.key,G=b.arrayElementValidator||b.validateSpec;if(Yi(p)!=="array")return[new Tt(V,p,`array expected, ${Yi(p)} found`)];if(_.length&&p.length!==_.length)return[new Tt(V,p,`array length ${_.length} expected, length ${p.length} found`)];if(_["min-length"]&&p.length<_["min-length"])return[new Tt(V,p,`array length at least ${_["min-length"]} expected, length ${p.length} found`)];let Y={type:_.value,values:_.values};k.$version<7&&(Y.function=_.function),Yi(_.value)==="object"&&(Y=_.value);let ae=[];for(let fe=0;fe<p.length;fe++)ae=ae.concat(G({array:p,arrayIndex:fe,value:p[fe],valueSpec:Y,validateSpec:b.validateSpec,style:O,styleSpec:k,key:`${V}[${fe}]`}));return ae}function ys(b){const p=b.key,_=b.value,O=b.valueSpec;let k=Yi(_);return k==="number"&&_!=_&&(k="NaN"),k!=="number"?[new Tt(p,_,`number expected, ${k} found`)]:"minimum"in O&&_<O.minimum?[new Tt(p,_,`${_} is less than the minimum value ${O.minimum}`)]:"maximum"in O&&_>O.maximum?[new Tt(p,_,`${_} is greater than the maximum value ${O.maximum}`)]:[]}function xo(b){const p=b.valueSpec,_=io(b.value.type);let O,k,V,G={};const Y=_!=="categorical"&&b.value.property===void 0,ae=!Y,fe=Yi(b.value.stops)==="array"&&Yi(b.value.stops[0])==="array"&&Yi(b.value.stops[0][0])==="object",he=vc({key:b.key,value:b.value,valueSpec:b.styleSpec.function,validateSpec:b.validateSpec,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{stops:function(Ae){if(_==="identity")return[new Tt(Ae.key,Ae.value,'identity function may not have a "stops" property')];let $e=[];const De=Ae.value;return $e=$e.concat(kh({key:Ae.key,value:De,valueSpec:Ae.valueSpec,validateSpec:Ae.validateSpec,style:Ae.style,styleSpec:Ae.styleSpec,arrayElementValidator:me})),Yi(De)==="array"&&De.length===0&&$e.push(new Tt(Ae.key,De,"array must have at least one stop")),$e},default:function(Ae){return Ae.validateSpec({key:Ae.key,value:Ae.value,valueSpec:p,validateSpec:Ae.validateSpec,style:Ae.style,styleSpec:Ae.styleSpec})}}});return _==="identity"&&Y&&he.push(new Tt(b.key,b.value,'missing required property "property"')),_==="identity"||b.value.stops||he.push(new Tt(b.key,b.value,'missing required property "stops"')),_==="exponential"&&b.valueSpec.expression&&!Lc(b.valueSpec)&&he.push(new Tt(b.key,b.value,"exponential functions not supported")),b.styleSpec.$version>=8&&(ae&&!sf(b.valueSpec)?he.push(new Tt(b.key,b.value,"property functions not supported")):Y&&!Ta(b.valueSpec)&&he.push(new Tt(b.key,b.value,"zoom functions not supported"))),_!=="categorical"&&!fe||b.value.property!==void 0||he.push(new Tt(b.key,b.value,'"property" property is required')),he;function me(Ae){let $e=[];const De=Ae.value,Xe=Ae.key;if(Yi(De)!=="array")return[new Tt(Xe,De,`array expected, ${Yi(De)} found`)];if(De.length!==2)return[new Tt(Xe,De,`array length 2 expected, length ${De.length} found`)];if(fe){if(Yi(De[0])!=="object")return[new Tt(Xe,De,`object expected, ${Yi(De[0])} found`)];if(De[0].zoom===void 0)return[new Tt(Xe,De,"object stop key must have zoom")];if(De[0].value===void 0)return[new Tt(Xe,De,"object stop key must have value")];if(V&&V>io(De[0].zoom))return[new Tt(Xe,De[0].zoom,"stop zoom values must appear in ascending order")];io(De[0].zoom)!==V&&(V=io(De[0].zoom),k=void 0,G={}),$e=$e.concat(vc({key:`${Xe}[0]`,value:De[0],valueSpec:{zoom:{}},validateSpec:Ae.validateSpec,style:Ae.style,styleSpec:Ae.styleSpec,objectElementValidators:{zoom:ys,value:Oe}}))}else $e=$e.concat(Oe({key:`${Xe}[0]`,value:De[0],validateSpec:Ae.validateSpec,style:Ae.style,styleSpec:Ae.styleSpec},De));return Yf(Zf(De[1]))?$e.concat([new Tt(`${Xe}[1]`,De[1],"expressions are not allowed in function stops.")]):$e.concat(Ae.validateSpec({key:`${Xe}[1]`,value:De[1],valueSpec:p,validateSpec:Ae.validateSpec,style:Ae.style,styleSpec:Ae.styleSpec}))}function Oe(Ae,$e){const De=Yi(Ae.value),Xe=io(Ae.value),at=Ae.value!==null?Ae.value:$e;if(O){if(De!==O)return[new Tt(Ae.key,at,`${De} stop domain type must match previous stop domain type ${O}`)]}else O=De;if(De!=="number"&&De!=="string"&&De!=="boolean")return[new Tt(Ae.key,at,"stop domain value must be a number, string, or boolean")];if(De!=="number"&&_!=="categorical"){let Ot=`number expected, ${De} found`;return sf(p)&&_===void 0&&(Ot+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tt(Ae.key,at,Ot)]}return _!=="categorical"||De!=="number"||isFinite(Xe)&&Math.floor(Xe)===Xe?_!=="categorical"&&De==="number"&&k!==void 0&&Xe<k?[new Tt(Ae.key,at,"stop domain values must appear in ascending order")]:(k=Xe,_==="categorical"&&Xe in G?[new Tt(Ae.key,at,"stop domain values must be unique")]:(G[Xe]=!0,[])):[new Tt(Ae.key,at,`integer expected, found ${Xe}`)]}}function mi(b){const p=(b.expressionContext==="property"?Nd:cf)(Zf(b.value),b.valueSpec);if(p.result==="error")return p.value.map(O=>new Tt(`${b.key}${O.key}`,b.value,O.message));const _=p.value.expression||p.value._styleExpression.expression;if(b.expressionContext==="property"&&b.propertyKey==="text-font"&&!_.outputDefined())return[new Tt(b.key,b.value,`Invalid data expression for "${b.propertyKey}". Output values must be contained as literals within the expression.`)];if(b.expressionContext==="property"&&b.propertyType==="layout"&&!Ld(_))return[new Tt(b.key,b.value,'"feature-state" data expressions are not supported with layout properties.')];if(b.expressionContext==="filter"&&!Ld(_))return[new Tt(b.key,b.value,'"feature-state" data expressions are not supported with filters.')];if(b.expressionContext&&b.expressionContext.indexOf("cluster")===0){if(!Gm(_,["zoom","feature-state"]))return[new Tt(b.key,b.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(b.expressionContext==="cluster-initial"&&!zl(_))return[new Tt(b.key,b.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yl(b){const p=b.key,_=b.value,O=b.valueSpec,k=[];return Array.isArray(O.values)?O.values.indexOf(io(_))===-1&&k.push(new Tt(p,_,`expected one of [${O.values.join(", ")}], ${JSON.stringify(_)} found`)):Object.keys(O.values).indexOf(io(_))===-1&&k.push(new Tt(p,_,`expected one of [${Object.keys(O.values).join(", ")}], ${JSON.stringify(_)} found`)),k}function _l(b){return Ih(Zf(b.value))?mi(xn({},b,{expressionContext:"filter",valueSpec:{value:"boolean"}})):zd(b)}function zd(b){const p=b.value,_=b.key;if(Yi(p)!=="array")return[new Tt(_,p,`array expected, ${Yi(p)} found`)];const O=b.styleSpec;let k,V=[];if(p.length<1)return[new Tt(_,p,"filter array must have at least 1 element")];switch(V=V.concat(Yl({key:`${_}[0]`,value:p[0],valueSpec:O.filter_operator,style:b.style,styleSpec:b.styleSpec})),io(p[0])){case"<":case"<=":case">":case">=":p.length>=2&&io(p[1])==="$type"&&V.push(new Tt(_,p,`"$type" cannot be use with operator "${p[0]}"`));case"==":case"!=":p.length!==3&&V.push(new Tt(_,p,`filter array for operator "${p[0]}" must have 3 elements`));case"in":case"!in":p.length>=2&&(k=Yi(p[1]),k!=="string"&&V.push(new Tt(`${_}[1]`,p[1],`string expected, ${k} found`)));for(let G=2;G<p.length;G++)k=Yi(p[G]),io(p[1])==="$type"?V=V.concat(Yl({key:`${_}[${G}]`,value:p[G],valueSpec:O.geometry_type,style:b.style,styleSpec:b.styleSpec})):k!=="string"&&k!=="number"&&k!=="boolean"&&V.push(new Tt(`${_}[${G}]`,p[G],`string, number, or boolean expected, ${k} found`));break;case"any":case"all":case"none":for(let G=1;G<p.length;G++)V=V.concat(zd({key:`${_}[${G}]`,value:p[G],style:b.style,styleSpec:b.styleSpec}));break;case"has":case"!has":k=Yi(p[1]),p.length!==2?V.push(new Tt(_,p,`filter array for "${p[0]}" operator must have 2 elements`)):k!=="string"&&V.push(new Tt(`${_}[1]`,p[1],`string expected, ${k} found`))}return V}function Nc(b,p){const _=b.key,O=b.validateSpec,k=b.style,V=b.styleSpec,G=b.value,Y=b.objectKey,ae=V[`${p}_${b.layerType}`];if(!ae)return[];const fe=Y.match(/^(.*)-transition$/);if(p==="paint"&&fe&&ae[fe[1]]&&ae[fe[1]].transition)return O({key:_,value:G,valueSpec:V.transition,style:k,styleSpec:V});const he=b.valueSpec||ae[Y];if(!he)return[new Tt(_,G,`unknown property "${Y}"`)];let me;if(Yi(G)==="string"&&sf(he)&&!he.tokens&&(me=/^{([^}]+)}$/.exec(G)))return[new Tt(_,G,`"${Y}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(me[1])} }\`.`)];const Oe=[];return b.layerType==="symbol"&&(Y==="text-field"&&k&&!k.glyphs&&Oe.push(new Tt(_,G,'use of "text-field" requires a style "glyphs" property')),Y==="text-font"&&sl(Zf(G))&&io(G.type)==="identity"&&Oe.push(new Tt(_,G,'"text-font" does not support identity functions'))),Oe.concat(O({key:b.key,value:G,valueSpec:he,style:k,styleSpec:V,expressionContext:"property",propertyType:p,propertyKey:Y}))}function Wm(b){return Nc(b,"paint")}function qm(b){return Nc(b,"layout")}function ff(b){let p=[];const _=b.value,O=b.key,k=b.style,V=b.styleSpec;_.type||_.ref||p.push(new Tt(O,_,'either "type" or "ref" is required'));let G=io(_.type);const Y=io(_.ref);if(_.id){const ae=io(_.id);for(let fe=0;fe<b.arrayIndex;fe++){const he=k.layers[fe];io(he.id)===ae&&p.push(new Tt(O,_.id,`duplicate layer id "${_.id}", previously used at line ${he.id.__line__}`))}}if("ref"in _){let ae;["type","source","source-layer","filter","layout"].forEach(fe=>{fe in _&&p.push(new Tt(O,_[fe],`"${fe}" is prohibited for ref layers`))}),k.layers.forEach(fe=>{io(fe.id)===Y&&(ae=fe)}),ae?ae.ref?p.push(new Tt(O,_.ref,"ref cannot reference another ref layer")):G=io(ae.type):p.push(new Tt(O,_.ref,`ref layer "${Y}" not found`))}else if(G!=="background")if(_.source){const ae=k.sources&&k.sources[_.source],fe=ae&&io(ae.type);ae?fe==="vector"&&G==="raster"?p.push(new Tt(O,_.source,`layer "${_.id}" requires a raster source`)):fe!=="raster-dem"&&G==="hillshade"?p.push(new Tt(O,_.source,`layer "${_.id}" requires a raster-dem source`)):fe==="raster"&&G!=="raster"?p.push(new Tt(O,_.source,`layer "${_.id}" requires a vector source`)):fe!=="vector"||_["source-layer"]?fe==="raster-dem"&&G!=="hillshade"?p.push(new Tt(O,_.source,"raster-dem source can only be used with layer type 'hillshade'.")):G!=="line"||!_.paint||!_.paint["line-gradient"]||fe==="geojson"&&ae.lineMetrics||p.push(new Tt(O,_,`layer "${_.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):p.push(new Tt(O,_,`layer "${_.id}" must specify a "source-layer"`)):p.push(new Tt(O,_.source,`source "${_.source}" not found`))}else p.push(new Tt(O,_,'missing required property "source"'));return p=p.concat(vc({key:O,value:_,valueSpec:V.layer,style:b.style,styleSpec:b.styleSpec,validateSpec:b.validateSpec,objectElementValidators:{"*":()=>[],type:()=>b.validateSpec({key:`${O}.type`,value:_.type,valueSpec:V.layer.type,style:b.style,styleSpec:b.styleSpec,validateSpec:b.validateSpec,object:_,objectKey:"type"}),filter:_l,layout:ae=>vc({layer:_,key:ae.key,value:ae.value,style:ae.style,styleSpec:ae.styleSpec,validateSpec:ae.validateSpec,objectElementValidators:{"*":fe=>qm(xn({layerType:G},fe))}}),paint:ae=>vc({layer:_,key:ae.key,value:ae.value,style:ae.style,styleSpec:ae.styleSpec,validateSpec:ae.validateSpec,objectElementValidators:{"*":fe=>Wm(xn({layerType:G},fe))}})}})),p}function Pu(b){const p=b.value,_=b.key,O=Yi(p);return O!=="string"?[new Tt(_,p,`string expected, ${O} found`)]:[]}const T0={promoteId:function({key:b,value:p}){if(Yi(p)==="string")return Pu({key:b,value:p});{const _=[];for(const O in p)_.push(...Pu({key:`${b}.${O}`,value:p[O]}));return _}}};function Qf(b){const p=b.value,_=b.key,O=b.styleSpec,k=b.style,V=b.validateSpec;if(!p.type)return[new Tt(_,p,'"type" is required')];const G=io(p.type);let Y;switch(G){case"vector":case"raster":return Y=vc({key:_,value:p,valueSpec:O[`source_${G.replace("-","_")}`],style:b.style,styleSpec:O,objectElementValidators:T0,validateSpec:V}),Y;case"raster-dem":return Y=function(ae){var fe;const he=(fe=ae.sourceName)!==null&&fe!==void 0?fe:"",me=ae.value,Oe=ae.styleSpec,Ae=Oe.source_raster_dem,$e=ae.style;let De=[];const Xe=Yi(me);if(me===void 0)return De;if(Xe!=="object")return De.push(new Tt("source_raster_dem",me,`object expected, ${Xe} found`)),De;const at=io(me.encoding)==="custom",Ot=["redFactor","greenFactor","blueFactor","baseShift"],gt=ae.value.encoding?`"${ae.value.encoding}"`:"Default";for(const Me in me)!at&&Ot.includes(Me)?De.push(new Tt(Me,me[Me],`In "${he}": "${Me}" is only valid when "encoding" is set to "custom". ${gt} encoding found`)):Ae[Me]?De=De.concat(ae.validateSpec({key:Me,value:me[Me],valueSpec:Ae[Me],validateSpec:ae.validateSpec,style:$e,styleSpec:Oe})):De.push(new Tt(Me,me[Me],`unknown property "${Me}"`));return De}({sourceName:_,value:p,style:b.style,styleSpec:O,validateSpec:V}),Y;case"geojson":if(Y=vc({key:_,value:p,valueSpec:O.source_geojson,style:k,styleSpec:O,validateSpec:V,objectElementValidators:T0}),p.cluster)for(const ae in p.clusterProperties){const[fe,he]=p.clusterProperties[ae],me=typeof fe=="string"?[fe,["accumulated"],["get",ae]]:fe;Y.push(...mi({key:`${_}.${ae}.map`,value:he,expressionContext:"cluster-map"})),Y.push(...mi({key:`${_}.${ae}.reduce`,value:me,expressionContext:"cluster-reduce"}))}return Y;case"video":return vc({key:_,value:p,valueSpec:O.source_video,style:k,validateSpec:V,styleSpec:O});case"image":return vc({key:_,value:p,valueSpec:O.source_image,style:k,validateSpec:V,styleSpec:O});case"canvas":return[new Tt(_,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yl({key:`${_}.type`,value:p.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Bd(b){const p=b.value,_=b.styleSpec,O=_.light,k=b.style;let V=[];const G=Yi(p);if(p===void 0)return V;if(G!=="object")return V=V.concat([new Tt("light",p,`object expected, ${G} found`)]),V;for(const Y in p){const ae=Y.match(/^(.*)-transition$/);V=V.concat(ae&&O[ae[1]]&&O[ae[1]].transition?b.validateSpec({key:Y,value:p[Y],valueSpec:_.transition,validateSpec:b.validateSpec,style:k,styleSpec:_}):O[Y]?b.validateSpec({key:Y,value:p[Y],valueSpec:O[Y],validateSpec:b.validateSpec,style:k,styleSpec:_}):[new Tt(Y,p[Y],`unknown property "${Y}"`)])}return V}function Jf(b){const p=b.value,_=b.styleSpec,O=_.sky,k=b.style,V=Yi(p);if(p===void 0)return[];if(V!=="object")return[new Tt("sky",p,`object expected, ${V} found`)];let G=[];for(const Y in p)G=G.concat(O[Y]?b.validateSpec({key:Y,value:p[Y],valueSpec:O[Y],style:k,styleSpec:_}):[new Tt(Y,p[Y],`unknown property "${Y}"`)]);return G}function Ve(b){const p=b.value,_=b.styleSpec,O=_.terrain,k=b.style;let V=[];const G=Yi(p);if(p===void 0)return V;if(G!=="object")return V=V.concat([new Tt("terrain",p,`object expected, ${G} found`)]),V;for(const Y in p)V=V.concat(O[Y]?b.validateSpec({key:Y,value:p[Y],valueSpec:O[Y],validateSpec:b.validateSpec,style:k,styleSpec:_}):[new Tt(Y,p[Y],`unknown property "${Y}"`)]);return V}function cl(b){let p=[];const _=b.value,O=b.key;if(Array.isArray(_)){const k=[],V=[];for(const G in _)_[G].id&&k.includes(_[G].id)&&p.push(new Tt(O,_,`all the sprites' ids must be unique, but ${_[G].id} is duplicated`)),k.push(_[G].id),_[G].url&&V.includes(_[G].url)&&p.push(new Tt(O,_,`all the sprites' URLs must be unique, but ${_[G].url} is duplicated`)),V.push(_[G].url),p=p.concat(vc({key:`${O}[${G}]`,value:_[G],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:b.validateSpec}));return p}return Pu({key:O,value:_})}const xl={"*":()=>[],array:kh,boolean:function(b){const p=b.value,_=b.key,O=Yi(p);return O!=="boolean"?[new Tt(_,p,`boolean expected, ${O} found`)]:[]},number:ys,color:function(b){const p=b.key,_=b.value,O=Yi(_);return O!=="string"?[new Tt(p,_,`color expected, ${O} found`)]:Br.parse(String(_))?[]:[new Tt(p,_,`color expected, "${_}" found`)]},constants:uf,enum:Yl,filter:_l,function:xo,layer:ff,object:vc,source:Qf,light:Bd,sky:Jf,terrain:Ve,projection:function(b){const p=b.value,_=b.styleSpec,O=_.projection,k=b.style,V=Yi(p);if(p===void 0)return[];if(V!=="object")return[new Tt("projection",p,`object expected, ${V} found`)];let G=[];for(const Y in p)G=G.concat(O[Y]?b.validateSpec({key:Y,value:p[Y],valueSpec:O[Y],style:k,styleSpec:_}):[new Tt(Y,p[Y],`unknown property "${Y}"`)]);return G},projectionDefinition:function(b){const p=b.key;let _=b.value;_=_ instanceof String?_.valueOf():_;const O=Yi(_);return O!=="array"||function(k){return Array.isArray(k)&&k.length===3&&typeof k[0]=="string"&&typeof k[1]=="string"&&typeof k[2]=="number"}(_)||function(k){return!!["interpolate","step","literal"].includes(k[0])}(_)?["array","string"].includes(O)?[]:[new Tt(p,_,`projection expected, invalid type "${O}" found`)]:[new Tt(p,_,`projection expected, invalid array ${JSON.stringify(_)} found`)]},string:Pu,formatted:function(b){return Pu(b).length===0?[]:mi(b)},resolvedImage:function(b){return Pu(b).length===0?[]:mi(b)},padding:function(b){const p=b.key,_=b.value;if(Yi(_)==="array"){if(_.length<1||_.length>4)return[new Tt(p,_,`padding requires 1 to 4 values; ${_.length} values found`)];const O={type:"number"};let k=[];for(let V=0;V<_.length;V++)k=k.concat(b.validateSpec({key:`${p}[${V}]`,value:_[V],validateSpec:b.validateSpec,valueSpec:O}));return k}return ys({key:p,value:_,valueSpec:{}})},variableAnchorOffsetCollection:function(b){const p=b.key,_=b.value,O=Yi(_),k=b.styleSpec;if(O!=="array"||_.length<1||_.length%2!=0)return[new Tt(p,_,"variableAnchorOffsetCollection requires a non-empty array of even length")];let V=[];for(let G=0;G<_.length;G+=2)V=V.concat(Yl({key:`${p}[${G}]`,value:_[G],valueSpec:k.layout_symbol["text-anchor"]})),V=V.concat(kh({key:`${p}[${G+1}]`,value:_[G+1],valueSpec:{length:2,value:"number"},validateSpec:b.validateSpec,style:b.style,styleSpec:k}));return V},sprite:cl};function Ka(b){const p=b.value,_=b.valueSpec,O=b.styleSpec;return b.validateSpec=Ka,_.expression&&sl(io(p))?xo(b):_.expression&&Yf(Zf(p))?mi(b):_.type&&xl[_.type]?xl[_.type](b):vc(xn({},b,{valueSpec:_.type?O[_.type]:_}))}function Oi(b){const p=b.value,_=b.key,O=Pu(b);return O.length||(p.indexOf("{fontstack}")===-1&&O.push(new Tt(_,p,'"glyphs" url must include a "{fontstack}" token')),p.indexOf("{range}")===-1&&O.push(new Tt(_,p,'"glyphs" url must include a "{range}" token'))),O}function jl(b,p=xe){let _=[];return _=_.concat(Ka({key:"",value:b,valueSpec:p.$root,styleSpec:p,style:b,validateSpec:Ka,objectElementValidators:{glyphs:Oi,"*":()=>[]}})),b.constants&&(_=_.concat(uf({key:"constants",value:b.constants}))),jd(_)}function Dc(b){return function(p){return b({...p,validateSpec:Ka})}}function jd(b){return[].concat(b).sort((p,_)=>p.line-_.line)}function ca(b){return function(...p){return jd(b.apply(this,p))}}jl.source=ca(Dc(Qf)),jl.sprite=ca(Dc(cl)),jl.glyphs=ca(Dc(Oi)),jl.light=ca(Dc(Bd)),jl.sky=ca(Dc(Jf)),jl.terrain=ca(Dc(Ve)),jl.layer=ca(Dc(ff)),jl.filter=ca(Dc(_l)),jl.paintProperty=ca(Dc(Wm)),jl.layoutProperty=ca(Dc(qm));const df=jl,Km=df.light,G1=df.sky,M0=df.paintProperty,W1=df.layoutProperty;function Ma(b,p){let _=!1;if(p&&p.length)for(const O of p)b.fire(new be(new Error(O.message))),_=!0;return _}class Lh{constructor(p,_,O){const k=this.cells=[];if(p instanceof ArrayBuffer){this.arrayBuffer=p;const G=new Int32Array(this.arrayBuffer);p=G[0],this.d=(_=G[1])+2*(O=G[2]);for(let ae=0;ae<this.d*this.d;ae++){const fe=G[3+ae],he=G[3+ae+1];k.push(fe===he?null:G.subarray(fe,he))}const Y=G[3+k.length+1];this.keys=G.subarray(G[3+k.length],Y),this.bboxes=G.subarray(Y),this.insert=this._insertReadonly}else{this.d=_+2*O;for(let G=0;G<this.d*this.d;G++)k.push([]);this.keys=[],this.bboxes=[]}this.n=_,this.extent=p,this.padding=O,this.scale=_/p,this.uid=0;const V=O/_*p;this.min=-V,this.max=p+V}insert(p,_,O,k,V){this._forEachCell(_,O,k,V,this._insertCell,this.uid++,void 0,void 0),this.keys.push(p),this.bboxes.push(_),this.bboxes.push(O),this.bboxes.push(k),this.bboxes.push(V)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(p,_,O,k,V,G){this.cells[V].push(G)}query(p,_,O,k,V){const G=this.min,Y=this.max;if(p<=G&&_<=G&&Y<=O&&Y<=k&&!V)return Array.prototype.slice.call(this.keys);{const ae=[];return this._forEachCell(p,_,O,k,this._queryCell,ae,{},V),ae}}_queryCell(p,_,O,k,V,G,Y,ae){const fe=this.cells[V];if(fe!==null){const he=this.keys,me=this.bboxes;for(let Oe=0;Oe<fe.length;Oe++){const Ae=fe[Oe];if(Y[Ae]===void 0){const $e=4*Ae;(ae?ae(me[$e+0],me[$e+1],me[$e+2],me[$e+3]):p<=me[$e+2]&&_<=me[$e+3]&&O>=me[$e+0]&&k>=me[$e+1])?(Y[Ae]=!0,G.push(he[Ae])):Y[Ae]=!1}}}}_forEachCell(p,_,O,k,V,G,Y,ae){const fe=this._convertToCellCoord(p),he=this._convertToCellCoord(_),me=this._convertToCellCoord(O),Oe=this._convertToCellCoord(k);for(let Ae=fe;Ae<=me;Ae++)for(let $e=he;$e<=Oe;$e++){const De=this.d*$e+Ae;if((!ae||ae(this._convertFromCellCoord(Ae),this._convertFromCellCoord($e),this._convertFromCellCoord(Ae+1),this._convertFromCellCoord($e+1)))&&V.call(this,p,_,O,k,De,G,Y,ae))return}}_convertFromCellCoord(p){return(p-this.padding)/this.scale}_convertToCellCoord(p){return Math.max(0,Math.min(this.d-1,Math.floor(p*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const p=this.cells,_=3+this.cells.length+1+1;let O=0;for(let G=0;G<this.cells.length;G++)O+=this.cells[G].length;const k=new Int32Array(_+O+this.keys.length+this.bboxes.length);k[0]=this.extent,k[1]=this.n,k[2]=this.padding;let V=_;for(let G=0;G<p.length;G++){const Y=p[G];k[3+G]=V,k.set(Y,V),V+=Y.length}return k[3+p.length]=V,k.set(this.keys,V),V+=this.keys.length,k[3+p.length+1]=V,k.set(this.bboxes,V),V+=this.bboxes.length,k.buffer}static serialize(p,_){const O=p.toArrayBuffer();return _&&_.push(O),{buffer:O}}static deserialize(p){return new Lh(p.buffer)}}const wl={};function lr(b,p,_={}){if(wl[b])throw new Error(`${b} is already registered.`);Object.defineProperty(p,"_classRegistryKey",{value:b,writeable:!1}),wl[b]={klass:p,omit:_.omit||[],shallow:_.shallow||[]}}lr("Object",Object),lr("TransferableGridIndex",Lh),lr("Color",Br),lr("Error",Error),lr("AJAXError",sn),lr("ResolvedImage",La),lr("StylePropertyFunction",ll),lr("StyleExpression",lf,{omit:["_evaluator"]}),lr("ZoomDependentExpression",Bl),lr("ZoomConstantExpression",wp),lr("CompoundExpression",jr,{omit:["_evaluate"]});for(const b in hr)hr[b]._classRegistryKey||lr(`Expression_${b}`,hr[b]);function Ym(b){return b&&typeof ArrayBuffer<"u"&&(b instanceof ArrayBuffer||b.constructor&&b.constructor.name==="ArrayBuffer")}function Ru(b){return b.$name||b.constructor._classRegistryKey}function Xl(b){return!function(p){if(p===null||typeof p!="object")return!1;const _=Ru(p);return!(!_||_==="Object")}(b)&&(b==null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||b instanceof Boolean||b instanceof Number||b instanceof String||b instanceof Date||b instanceof RegExp||b instanceof Blob||b instanceof Error||Ym(b)||rt(b)||ArrayBuffer.isView(b)||b instanceof ImageData)}function Nh(b,p){if(Xl(b))return(Ym(b)||rt(b))&&p&&p.push(b),ArrayBuffer.isView(b)&&p&&p.push(b.buffer),b instanceof ImageData&&p&&p.push(b.data.buffer),b;if(Array.isArray(b)){const V=[];for(const G of b)V.push(Nh(G,p));return V}if(typeof b!="object")throw new Error("can't serialize object of type "+typeof b);const _=Ru(b);if(!_)throw new Error(`can't serialize object of unregistered class ${b.constructor.name}`);if(!wl[_])throw new Error(`${_} is not registered.`);const{klass:O}=wl[_],k=O.serialize?O.serialize(b,p):{};if(O.serialize){if(p&&k===p[p.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const V in b){if(!b.hasOwnProperty(V)||wl[_].omit.indexOf(V)>=0)continue;const G=b[V];k[V]=wl[_].shallow.indexOf(V)>=0?G:Nh(G,p)}b instanceof Error&&(k.message=b.message)}if(k.$name)throw new Error("$name property is reserved for worker serialization logic.");return _!=="Object"&&(k.$name=_),k}function ed(b){if(Xl(b))return b;if(Array.isArray(b))return b.map(ed);if(typeof b!="object")throw new Error("can't deserialize object of type "+typeof b);const p=Ru(b)||"Object";if(!wl[p])throw new Error(`can't deserialize unregistered class ${p}`);const{klass:_}=wl[p];if(!_)throw new Error(`can't deserialize unregistered class ${p}`);if(_.deserialize)return _.deserialize(b);const O=Object.create(_.prototype);for(const k of Object.keys(b)){if(k==="$name")continue;const V=b[k];O[k]=wl[p].shallow.indexOf(k)>=0?V:ed(V)}return O}class A0{constructor(){this.first=!0}update(p,_){const O=Math.floor(p);return this.first?(this.first=!1,this.lastIntegerZoom=O,this.lastIntegerZoomTime=0,this.lastZoom=p,this.lastFloorZoom=O,!0):(this.lastFloorZoom>O?(this.lastIntegerZoom=O+1,this.lastIntegerZoomTime=_):this.lastFloorZoom<O&&(this.lastIntegerZoom=O,this.lastIntegerZoomTime=_),p!==this.lastZoom&&(this.lastZoom=p,this.lastFloorZoom=O,!0))}}const Li={"Latin-1 Supplement":b=>b>=128&&b<=255,"Hangul Jamo":b=>b>=4352&&b<=4607,Khmer:b=>b>=6016&&b<=6143,"General Punctuation":b=>b>=8192&&b<=8303,"Letterlike Symbols":b=>b>=8448&&b<=8527,"Number Forms":b=>b>=8528&&b<=8591,"Miscellaneous Technical":b=>b>=8960&&b<=9215,"Control Pictures":b=>b>=9216&&b<=9279,"Optical Character Recognition":b=>b>=9280&&b<=9311,"Enclosed Alphanumerics":b=>b>=9312&&b<=9471,"Geometric Shapes":b=>b>=9632&&b<=9727,"Miscellaneous Symbols":b=>b>=9728&&b<=9983,"Miscellaneous Symbols and Arrows":b=>b>=11008&&b<=11263,"Ideographic Description Characters":b=>b>=12272&&b<=12287,"CJK Symbols and Punctuation":b=>b>=12288&&b<=12351,Hiragana:b=>b>=12352&&b<=12447,Katakana:b=>b>=12448&&b<=12543,Kanbun:b=>b>=12688&&b<=12703,"CJK Strokes":b=>b>=12736&&b<=12783,"Enclosed CJK Letters and Months":b=>b>=12800&&b<=13055,"CJK Compatibility":b=>b>=13056&&b<=13311,"Yijing Hexagram Symbols":b=>b>=19904&&b<=19967,"CJK Unified Ideographs":b=>b>=19968&&b<=40959,"Hangul Syllables":b=>b>=44032&&b<=55215,"Private Use Area":b=>b>=57344&&b<=63743,"Vertical Forms":b=>b>=65040&&b<=65055,"CJK Compatibility Forms":b=>b>=65072&&b<=65103,"Small Form Variants":b=>b>=65104&&b<=65135,"Halfwidth and Fullwidth Forms":b=>b>=65280&&b<=65519};function hf(b){for(const p of b)if(Sp(p.charCodeAt(0)))return!0;return!1}function pf(b){for(const p of b)if(!Zl(p.charCodeAt(0)))return!1;return!0}function Fd(b){const p=b.map(_=>{try{return new RegExp(`\\p{sc=${_}}`,"u").source}catch{return null}}).filter(_=>_);return new RegExp(p.join("|"),"u")}const I0=Fd(["Arab","Dupl","Mong","Ougr","Syrc"]);function Zl(b){return!I0.test(String.fromCodePoint(b))}const Xm=Fd(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Sp(b){return!(b!==746&&b!==747&&(b<4352||!(Li["CJK Compatibility Forms"](b)&&!(b>=65097&&b<=65103)||Li["CJK Compatibility"](b)||Li["CJK Strokes"](b)||!(!Li["CJK Symbols and Punctuation"](b)||b>=12296&&b<=12305||b>=12308&&b<=12319||b===12336)||Li["Enclosed CJK Letters and Months"](b)||Li["Ideographic Description Characters"](b)||Li.Kanbun(b)||Li.Katakana(b)&&b!==12540||!(!Li["Halfwidth and Fullwidth Forms"](b)||b===65288||b===65289||b===65293||b>=65306&&b<=65310||b===65339||b===65341||b===65343||b>=65371&&b<=65503||b===65507||b>=65512&&b<=65519)||!(!Li["Small Form Variants"](b)||b>=65112&&b<=65118||b>=65123&&b<=65126)||Li["Vertical Forms"](b)||Li["Yijing Hexagram Symbols"](b)||/\p{sc=Cans}/u.test(String.fromCodePoint(b))||/\p{sc=Hang}/u.test(String.fromCodePoint(b))||Xm.test(String.fromCodePoint(b)))))}function jg(b){return!(Sp(b)||function(p){return!!(Li["Latin-1 Supplement"](p)&&(p===167||p===169||p===174||p===177||p===188||p===189||p===190||p===215||p===247)||Li["General Punctuation"](p)&&(p===8214||p===8224||p===8225||p===8240||p===8241||p===8251||p===8252||p===8258||p===8263||p===8264||p===8265||p===8273)||Li["Letterlike Symbols"](p)||Li["Number Forms"](p)||Li["Miscellaneous Technical"](p)&&(p>=8960&&p<=8967||p>=8972&&p<=8991||p>=8996&&p<=9e3||p===9003||p>=9085&&p<=9114||p>=9150&&p<=9165||p===9167||p>=9169&&p<=9179||p>=9186&&p<=9215)||Li["Control Pictures"](p)&&p!==9251||Li["Optical Character Recognition"](p)||Li["Enclosed Alphanumerics"](p)||Li["Geometric Shapes"](p)||Li["Miscellaneous Symbols"](p)&&!(p>=9754&&p<=9759)||Li["Miscellaneous Symbols and Arrows"](p)&&(p>=11026&&p<=11055||p>=11088&&p<=11097||p>=11192&&p<=11243)||Li["CJK Symbols and Punctuation"](p)||Li.Katakana(p)||Li["Private Use Area"](p)||Li["CJK Compatibility Forms"](p)||Li["Small Form Variants"](p)||Li["Halfwidth and Fullwidth Forms"](p)||p===8734||p===8756||p===8757||p>=9984&&p<=10087||p>=10102&&p<=10131||p===65532||p===65533)}(b))}const P0=Fd(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Cp(b){return P0.test(String.fromCodePoint(b))}function R0(b,p){return!(!p&&Cp(b)||b>=2304&&b<=3583||b>=3840&&b<=4255||Li.Khmer(b))}function Ep(b){for(const p of b)if(Cp(p.charCodeAt(0)))return!0;return!1}const gf=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(b){this.pluginStatus=b.pluginStatus,this.pluginURL=b.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(b){if(gf.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=b.applyArabicShaping,this.processBidirectionalText=b.processBidirectionalText,this.processStyledBidirectionalText=b.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(b,p){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(b.pluginStatus!=="loading")return this.setState(b),b;const _=b.pluginURL,O=new Promise(V=>{this.loadScriptResolve=V});p(_);const k=new Promise(V=>setTimeout(()=>V(),this.TIMEOUT));if(yield Promise.race([O,k]),this.isParsed()){const V={pluginStatus:"loaded",pluginURL:_};return this.setState(V),V}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${_}`)})}};class ho{constructor(p,_){this.zoom=p,_?(this.now=_.now,this.fadeDuration=_.fadeDuration,this.zoomHistory=_.zoomHistory,this.transition=_.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new A0,this.transition={})}isSupportedScript(p){return function(_,O){for(const k of _)if(!R0(k.charCodeAt(0),O))return!1;return!0}(p,gf.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const p=this.zoom,_=p-Math.floor(p),O=this.crossFadingFactor();return p>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:_+(1-_)*O}:{fromScale:.5,toScale:1,t:1-(1-O)*_}}}class yc{constructor(p,_){this.property=p,this.value=_,this.expression=function(O,k){if(sl(O))return new ll(O,k);if(Yf(O)){const V=Nd(O,k);if(V.result==="error")throw new Error(V.value.map(G=>`${G.key}: ${G.message}`).join(", "));return V.value}{let V=O;return k.type==="color"&&typeof O=="string"?V=Br.parse(O):k.type!=="padding"||typeof O!="number"&&!Array.isArray(O)?k.type==="variableAnchorOffsetCollection"&&Array.isArray(O)?V=Ii.parse(O):k.type==="projectionDefinition"&&typeof O=="string"&&(V=Ki.parse(O)):V=xr.parse(O),{kind:"constant",evaluate:()=>V}}}(_===void 0?p.specification.default:_,p.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(p,_,O){return this.property.possiblyEvaluate(this,p,_,O)}}class mf{constructor(p){this.property=p,this.value=new yc(p,void 0)}transitioned(p,_){return new td(this.property,this.value,_,Re({},p.transition,this.transition),p.now)}untransitioned(){return new td(this.property,this.value,null,{},0)}}class vf{constructor(p){this._properties=p,this._values=Object.create(p.defaultTransitionablePropertyValues)}getValue(p){return Ze(this._values[p].value.value)}setValue(p,_){Object.prototype.hasOwnProperty.call(this._values,p)||(this._values[p]=new mf(this._values[p].property)),this._values[p].value=new yc(this._values[p].property,_===null?void 0:Ze(_))}getTransition(p){return Ze(this._values[p].transition)}setTransition(p,_){Object.prototype.hasOwnProperty.call(this._values,p)||(this._values[p]=new mf(this._values[p].property)),this._values[p].transition=Ze(_)||void 0}serialize(){const p={};for(const _ of Object.keys(this._values)){const O=this.getValue(_);O!==void 0&&(p[_]=O);const k=this.getTransition(_);k!==void 0&&(p[`${_}-transition`]=k)}return p}transitioned(p,_){const O=new ou(this._properties);for(const k of Object.keys(this._values))O._values[k]=this._values[k].transitioned(p,_._values[k]);return O}untransitioned(){const p=new ou(this._properties);for(const _ of Object.keys(this._values))p._values[_]=this._values[_].untransitioned();return p}}class td{constructor(p,_,O,k,V){this.property=p,this.value=_,this.begin=V+k.delay||0,this.end=this.begin+k.duration||0,p.specification.transition&&(k.delay||k.duration)&&(this.prior=O)}possiblyEvaluate(p,_,O){const k=p.now||0,V=this.value.possiblyEvaluate(p,_,O),G=this.prior;if(G){if(k>this.end)return this.prior=null,V;if(this.value.isDataDriven())return this.prior=null,V;if(k<this.begin)return G.possiblyEvaluate(p,_,O);{const Y=(k-this.begin)/(this.end-this.begin);return this.property.interpolate(G.possiblyEvaluate(p,_,O),V,le(Y))}}return V}}class ou{constructor(p){this._properties=p,this._values=Object.create(p.defaultTransitioningPropertyValues)}possiblyEvaluate(p,_,O){const k=new nd(this._properties);for(const V of Object.keys(this._values))k._values[V]=this._values[V].possiblyEvaluate(p,_,O);return k}hasTransition(){for(const p of Object.keys(this._values))if(this._values[p].prior)return!0;return!1}}class Fg{constructor(p){this._properties=p,this._values=Object.create(p.defaultPropertyValues)}hasValue(p){return this._values[p].value!==void 0}getValue(p){return Ze(this._values[p].value)}setValue(p,_){this._values[p]=new yc(this._values[p].property,_===null?void 0:Ze(_))}serialize(){const p={};for(const _ of Object.keys(this._values)){const O=this.getValue(_);O!==void 0&&(p[_]=O)}return p}possiblyEvaluate(p,_,O){const k=new nd(this._properties);for(const V of Object.keys(this._values))k._values[V]=this._values[V].possiblyEvaluate(p,_,O);return k}}class Ds{constructor(p,_,O){this.property=p,this.value=_,this.parameters=O}isConstant(){return this.value.kind==="constant"}constantOr(p){return this.value.kind==="constant"?this.value.value:p}evaluate(p,_,O,k){return this.property.evaluate(this.value,this.parameters,p,_,O,k)}}class nd{constructor(p){this._properties=p,this._values=Object.create(p.defaultPossiblyEvaluatedValues)}get(p){return this._values[p]}}class vr{constructor(p){this.specification=p}possiblyEvaluate(p,_){if(p.isDataDriven())throw new Error("Value should not be data driven");return p.expression.evaluate(_)}interpolate(p,_,O){const k=hc[this.specification.type];return k?k(p,_,O):p}}class wr{constructor(p,_){this.specification=p,this.overrides=_}possiblyEvaluate(p,_,O,k){return new Ds(this,p.expression.kind==="constant"||p.expression.kind==="camera"?{kind:"constant",value:p.expression.evaluate(_,null,{},O,k)}:p.expression,_)}interpolate(p,_,O){if(p.value.kind!=="constant"||_.value.kind!=="constant")return p;if(p.value.value===void 0||_.value.value===void 0)return new Ds(this,{kind:"constant",value:void 0},p.parameters);const k=hc[this.specification.type];if(k){const V=k(p.value.value,_.value.value,O);return new Ds(this,{kind:"constant",value:V},p.parameters)}return p}evaluate(p,_,O,k,V,G){return p.kind==="constant"?p.value:p.evaluate(_,O,k,V,G)}}class Hg extends wr{possiblyEvaluate(p,_,O,k){if(p.value===void 0)return new Ds(this,{kind:"constant",value:void 0},_);if(p.expression.kind==="constant"){const V=p.expression.evaluate(_,null,{},O,k),G=p.property.specification.type==="resolvedImage"&&typeof V!="string"?V.name:V,Y=this._calculate(G,G,G,_);return new Ds(this,{kind:"constant",value:Y},_)}if(p.expression.kind==="camera"){const V=this._calculate(p.expression.evaluate({zoom:_.zoom-1}),p.expression.evaluate({zoom:_.zoom}),p.expression.evaluate({zoom:_.zoom+1}),_);return new Ds(this,{kind:"constant",value:V},_)}return new Ds(this,p.expression,_)}evaluate(p,_,O,k,V,G){if(p.kind==="source"){const Y=p.evaluate(_,O,k,V,G);return this._calculate(Y,Y,Y,_)}return p.kind==="composite"?this._calculate(p.evaluate({zoom:Math.floor(_.zoom)-1},O,k),p.evaluate({zoom:Math.floor(_.zoom)},O,k),p.evaluate({zoom:Math.floor(_.zoom)+1},O,k),_):p.value}_calculate(p,_,O,k){return k.zoom>k.zoomHistory.lastIntegerZoom?{from:p,to:_}:{from:O,to:_}}interpolate(p){return p}}class Vg{constructor(p){this.specification=p}possiblyEvaluate(p,_,O,k){if(p.value!==void 0){if(p.expression.kind==="constant"){const V=p.expression.evaluate(_,null,{},O,k);return this._calculate(V,V,V,_)}return this._calculate(p.expression.evaluate(new ho(Math.floor(_.zoom-1),_)),p.expression.evaluate(new ho(Math.floor(_.zoom),_)),p.expression.evaluate(new ho(Math.floor(_.zoom+1),_)),_)}}_calculate(p,_,O,k){return k.zoom>k.zoomHistory.lastIntegerZoom?{from:p,to:_}:{from:O,to:_}}interpolate(p){return p}}class rd{constructor(p){this.specification=p}possiblyEvaluate(p,_,O,k){return!!p.expression.evaluate(_,null,{},O,k)}interpolate(){return!1}}class Ts{constructor(p){this.properties=p,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const _ in p){const O=p[_];O.specification.overridable&&this.overridableProperties.push(_);const k=this.defaultPropertyValues[_]=new yc(O,void 0),V=this.defaultTransitionablePropertyValues[_]=new mf(O);this.defaultTransitioningPropertyValues[_]=V.untransitioned(),this.defaultPossiblyEvaluatedValues[_]=k.possiblyEvaluate({})}}}lr("DataDrivenProperty",wr),lr("DataConstantProperty",vr),lr("CrossFadedDataDrivenProperty",Hg),lr("CrossFadedProperty",Vg),lr("ColorRampProperty",rd);const yf="-transition";class ul extends we{constructor(p,_){if(super(),this.id=p.id,this.type=p.type,this._featureFilter={filter:()=>!0,needGeometry:!1},p.type!=="custom"&&(this.metadata=p.metadata,this.minzoom=p.minzoom,this.maxzoom=p.maxzoom,p.type!=="background"&&(this.source=p.source,this.sourceLayer=p["source-layer"],this.filter=p.filter),_.layout&&(this._unevaluatedLayout=new Fg(_.layout)),_.paint)){this._transitionablePaint=new vf(_.paint);for(const O in p.paint)this.setPaintProperty(O,p.paint[O],{validate:!1});for(const O in p.layout)this.setLayoutProperty(O,p.layout[O],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new nd(_.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(p){return p==="visibility"?this.visibility:this._unevaluatedLayout.getValue(p)}setLayoutProperty(p,_,O={}){_!=null&&this._validate(W1,`layers.${this.id}.layout.${p}`,p,_,O)||(p!=="visibility"?this._unevaluatedLayout.setValue(p,_):this.visibility=_)}getPaintProperty(p){return p.endsWith(yf)?this._transitionablePaint.getTransition(p.slice(0,-11)):this._transitionablePaint.getValue(p)}setPaintProperty(p,_,O={}){if(_!=null&&this._validate(M0,`layers.${this.id}.paint.${p}`,p,_,O))return!1;if(p.endsWith(yf))return this._transitionablePaint.setTransition(p.slice(0,-11),_||void 0),!1;{const k=this._transitionablePaint._values[p],V=k.property.specification["property-type"]==="cross-faded-data-driven",G=k.value.isDataDriven(),Y=k.value;this._transitionablePaint.setValue(p,_),this._handleSpecialPaintPropertyUpdate(p);const ae=this._transitionablePaint._values[p].value;return ae.isDataDriven()||G||V||this._handleOverridablePaintPropertyUpdate(p,Y,ae)}}_handleSpecialPaintPropertyUpdate(p){}_handleOverridablePaintPropertyUpdate(p,_,O){return!1}isHidden(p){return!!(this.minzoom&&p<this.minzoom)||!!(this.maxzoom&&p>=this.maxzoom)||this.visibility==="none"}updateTransitions(p){this._transitioningPaint=this._transitionablePaint.transitioned(p,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(p,_){p.getCrossfadeParameters&&(this._crossfadeParameters=p.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(p,void 0,_)),this.paint=this._transitioningPaint.possiblyEvaluate(p,void 0,_)}serialize(){const p={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(p.layout=p.layout||{},p.layout.visibility=this.visibility),ze(p,(_,O)=>!(_===void 0||O==="layout"&&!Object.keys(_).length||O==="paint"&&!Object.keys(_).length))}_validate(p,_,O,k,V={}){return(!V||V.validate!==!1)&&Ma(this,p.call(df,{key:_,layerType:this.type,objectKey:O,value:k,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const p in this.paint._values){const _=this.paint.get(p);if(_ instanceof Ds&&sf(_.property.specification)&&(_.value.kind==="source"||_.value.kind==="composite")&&_.value.isStateDependent)return!0}return!1}}const $0={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ql{constructor(p,_){this._structArray=p,this._pos1=_*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Nr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(p,_){return p._trim(),_&&(p.isTransferred=!0,_.push(p.arrayBuffer)),{length:p.length,arrayBuffer:p.arrayBuffer}}static deserialize(p){const _=Object.create(this.prototype);return _.arrayBuffer=p.arrayBuffer,_.length=p.length,_.capacity=p.arrayBuffer.byteLength/_.bytesPerElement,_._refreshViews(),_}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(p){this.reserve(p),this.length=p}reserve(p){if(p>this.capacity){this.capacity=Math.max(p,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const _=this.uint8;this._refreshViews(),_&&this.uint8.set(_)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Xr(b,p=1){let _=0,O=0;return{members:b.map(k=>{const V=$0[k.type].BYTES_PER_ELEMENT,G=_=Xi(_,Math.max(p,V)),Y=k.components||1;return O=Math.max(O,V),_+=V*Y,{name:k.name,type:k.type,components:Y,offset:G}}),size:Xi(_,Math.max(O,p)),alignment:p}}function Xi(b,p){return Math.ceil(b/p)*p}class bf extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_){const O=this.length;return this.resize(O+1),this.emplace(O,p,_)}emplace(p,_,O){const k=2*p;return this.int16[k+0]=_,this.int16[k+1]=O,p}}bf.prototype.bytesPerElement=4,lr("StructArrayLayout2i4",bf);class Fl extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O){const k=this.length;return this.resize(k+1),this.emplace(k,p,_,O)}emplace(p,_,O,k){const V=3*p;return this.int16[V+0]=_,this.int16[V+1]=O,this.int16[V+2]=k,p}}Fl.prototype.bytesPerElement=6,lr("StructArrayLayout3i6",Fl);class Xs extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k){const V=this.length;return this.resize(V+1),this.emplace(V,p,_,O,k)}emplace(p,_,O,k,V){const G=4*p;return this.int16[G+0]=_,this.int16[G+1]=O,this.int16[G+2]=k,this.int16[G+3]=V,p}}Xs.prototype.bytesPerElement=8,lr("StructArrayLayout4i8",Xs);class _f extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G){const Y=this.length;return this.resize(Y+1),this.emplace(Y,p,_,O,k,V,G)}emplace(p,_,O,k,V,G,Y){const ae=6*p;return this.int16[ae+0]=_,this.int16[ae+1]=O,this.int16[ae+2]=k,this.int16[ae+3]=V,this.int16[ae+4]=G,this.int16[ae+5]=Y,p}}_f.prototype.bytesPerElement=12,lr("StructArrayLayout2i4i12",_f);class $u extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G){const Y=this.length;return this.resize(Y+1),this.emplace(Y,p,_,O,k,V,G)}emplace(p,_,O,k,V,G,Y){const ae=4*p,fe=8*p;return this.int16[ae+0]=_,this.int16[ae+1]=O,this.uint8[fe+4]=k,this.uint8[fe+5]=V,this.uint8[fe+6]=G,this.uint8[fe+7]=Y,p}}$u.prototype.bytesPerElement=8,lr("StructArrayLayout2i4ub8",$u);class fl extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_){const O=this.length;return this.resize(O+1),this.emplace(O,p,_)}emplace(p,_,O){const k=2*p;return this.float32[k+0]=_,this.float32[k+1]=O,p}}fl.prototype.bytesPerElement=8,lr("StructArrayLayout2f8",fl);class Zm extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G,Y,ae,fe,he){const me=this.length;return this.resize(me+1),this.emplace(me,p,_,O,k,V,G,Y,ae,fe,he)}emplace(p,_,O,k,V,G,Y,ae,fe,he,me){const Oe=10*p;return this.uint16[Oe+0]=_,this.uint16[Oe+1]=O,this.uint16[Oe+2]=k,this.uint16[Oe+3]=V,this.uint16[Oe+4]=G,this.uint16[Oe+5]=Y,this.uint16[Oe+6]=ae,this.uint16[Oe+7]=fe,this.uint16[Oe+8]=he,this.uint16[Oe+9]=me,p}}Zm.prototype.bytesPerElement=20,lr("StructArrayLayout10ui20",Zm);class ji extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G,Y,ae,fe,he,me,Oe){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,p,_,O,k,V,G,Y,ae,fe,he,me,Oe)}emplace(p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae){const $e=12*p;return this.int16[$e+0]=_,this.int16[$e+1]=O,this.int16[$e+2]=k,this.int16[$e+3]=V,this.uint16[$e+4]=G,this.uint16[$e+5]=Y,this.uint16[$e+6]=ae,this.uint16[$e+7]=fe,this.int16[$e+8]=he,this.int16[$e+9]=me,this.int16[$e+10]=Oe,this.int16[$e+11]=Ae,p}}ji.prototype.bytesPerElement=24,lr("StructArrayLayout4i4ui4i24",ji);class ku extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_,O){const k=this.length;return this.resize(k+1),this.emplace(k,p,_,O)}emplace(p,_,O,k){const V=3*p;return this.float32[V+0]=_,this.float32[V+1]=O,this.float32[V+2]=k,p}}ku.prototype.bytesPerElement=12,lr("StructArrayLayout3f12",ku);class Ug extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(p){const _=this.length;return this.resize(_+1),this.emplace(_,p)}emplace(p,_){return this.uint32[1*p+0]=_,p}}Ug.prototype.bytesPerElement=4,lr("StructArrayLayout1ul4",Ug);class Gg extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G,Y,ae,fe){const he=this.length;return this.resize(he+1),this.emplace(he,p,_,O,k,V,G,Y,ae,fe)}emplace(p,_,O,k,V,G,Y,ae,fe,he){const me=10*p,Oe=5*p;return this.int16[me+0]=_,this.int16[me+1]=O,this.int16[me+2]=k,this.int16[me+3]=V,this.int16[me+4]=G,this.int16[me+5]=Y,this.uint32[Oe+3]=ae,this.uint16[me+8]=fe,this.uint16[me+9]=he,p}}Gg.prototype.bytesPerElement=20,lr("StructArrayLayout6i1ul2ui20",Gg);class Hd extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G){const Y=this.length;return this.resize(Y+1),this.emplace(Y,p,_,O,k,V,G)}emplace(p,_,O,k,V,G,Y){const ae=6*p;return this.int16[ae+0]=_,this.int16[ae+1]=O,this.int16[ae+2]=k,this.int16[ae+3]=V,this.int16[ae+4]=G,this.int16[ae+5]=Y,p}}Hd.prototype.bytesPerElement=12,lr("StructArrayLayout2i2i2i12",Hd);class Wg extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V){const G=this.length;return this.resize(G+1),this.emplace(G,p,_,O,k,V)}emplace(p,_,O,k,V,G){const Y=4*p,ae=8*p;return this.float32[Y+0]=_,this.float32[Y+1]=O,this.float32[Y+2]=k,this.int16[ae+6]=V,this.int16[ae+7]=G,p}}Wg.prototype.bytesPerElement=16,lr("StructArrayLayout2f1f2i16",Wg);class qg extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G){const Y=this.length;return this.resize(Y+1),this.emplace(Y,p,_,O,k,V,G)}emplace(p,_,O,k,V,G,Y){const ae=16*p,fe=4*p,he=8*p;return this.uint8[ae+0]=_,this.uint8[ae+1]=O,this.float32[fe+1]=k,this.float32[fe+2]=V,this.int16[he+6]=G,this.int16[he+7]=Y,p}}qg.prototype.bytesPerElement=16,lr("StructArrayLayout2ub2f2i16",qg);class Lu extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_,O){const k=this.length;return this.resize(k+1),this.emplace(k,p,_,O)}emplace(p,_,O,k){const V=3*p;return this.uint16[V+0]=_,this.uint16[V+1]=O,this.uint16[V+2]=k,p}}Lu.prototype.bytesPerElement=6,lr("StructArrayLayout3ui6",Lu);class Op extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at){const Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at)}emplace(p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot){const gt=24*p,Me=12*p,Ke=48*p;return this.int16[gt+0]=_,this.int16[gt+1]=O,this.uint16[gt+2]=k,this.uint16[gt+3]=V,this.uint32[Me+2]=G,this.uint32[Me+3]=Y,this.uint32[Me+4]=ae,this.uint16[gt+10]=fe,this.uint16[gt+11]=he,this.uint16[gt+12]=me,this.float32[Me+7]=Oe,this.float32[Me+8]=Ae,this.uint8[Ke+36]=$e,this.uint8[Ke+37]=De,this.uint8[Ke+38]=Xe,this.uint32[Me+10]=at,this.int16[gt+22]=Ot,p}}Op.prototype.bytesPerElement=48,lr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Op);class z extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot,gt,Me,Ke,dt,Wt,jn,cn,yn,Vn,Bn){const Kn=this.length;return this.resize(Kn+1),this.emplace(Kn,p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot,gt,Me,Ke,dt,Wt,jn,cn,yn,Vn,Bn)}emplace(p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot,gt,Me,Ke,dt,Wt,jn,cn,yn,Vn,Bn,Kn){const Sn=32*p,dr=16*p;return this.int16[Sn+0]=_,this.int16[Sn+1]=O,this.int16[Sn+2]=k,this.int16[Sn+3]=V,this.int16[Sn+4]=G,this.int16[Sn+5]=Y,this.int16[Sn+6]=ae,this.int16[Sn+7]=fe,this.uint16[Sn+8]=he,this.uint16[Sn+9]=me,this.uint16[Sn+10]=Oe,this.uint16[Sn+11]=Ae,this.uint16[Sn+12]=$e,this.uint16[Sn+13]=De,this.uint16[Sn+14]=Xe,this.uint16[Sn+15]=at,this.uint16[Sn+16]=Ot,this.uint16[Sn+17]=gt,this.uint16[Sn+18]=Me,this.uint16[Sn+19]=Ke,this.uint16[Sn+20]=dt,this.uint16[Sn+21]=Wt,this.uint16[Sn+22]=jn,this.uint32[dr+12]=cn,this.float32[dr+13]=yn,this.float32[dr+14]=Vn,this.uint16[Sn+30]=Bn,this.uint16[Sn+31]=Kn,p}}z.prototype.bytesPerElement=64,lr("StructArrayLayout8i15ui1ul2f2ui64",z);class f extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p){const _=this.length;return this.resize(_+1),this.emplace(_,p)}emplace(p,_){return this.float32[1*p+0]=_,p}}f.prototype.bytesPerElement=4,lr("StructArrayLayout1f4",f);class y extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_,O){const k=this.length;return this.resize(k+1),this.emplace(k,p,_,O)}emplace(p,_,O,k){const V=3*p;return this.uint16[6*p+0]=_,this.float32[V+1]=O,this.float32[V+2]=k,p}}y.prototype.bytesPerElement=12,lr("StructArrayLayout1ui2f12",y);class T extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_,O){const k=this.length;return this.resize(k+1),this.emplace(k,p,_,O)}emplace(p,_,O,k){const V=4*p;return this.uint32[2*p+0]=_,this.uint16[V+2]=O,this.uint16[V+3]=k,p}}T.prototype.bytesPerElement=8,lr("StructArrayLayout1ul2ui8",T);class $ extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p,_){const O=this.length;return this.resize(O+1),this.emplace(O,p,_)}emplace(p,_,O){const k=2*p;return this.uint16[k+0]=_,this.uint16[k+1]=O,p}}$.prototype.bytesPerElement=4,lr("StructArrayLayout2ui4",$);class F extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(p){const _=this.length;return this.resize(_+1),this.emplace(_,p)}emplace(p,_){return this.uint16[1*p+0]=_,p}}F.prototype.bytesPerElement=2,lr("StructArrayLayout1ui2",F);class W extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(p,_,O,k){const V=this.length;return this.resize(V+1),this.emplace(V,p,_,O,k)}emplace(p,_,O,k,V){const G=4*p;return this.float32[G+0]=_,this.float32[G+1]=O,this.float32[G+2]=k,this.float32[G+3]=V,p}}W.prototype.bytesPerElement=16,lr("StructArrayLayout4f16",W);class ne extends Ql{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new v(this.anchorPointX,this.anchorPointY)}}ne.prototype.size=20;class se extends Gg{get(p){return new ne(this,p)}}lr("CollisionBoxArray",se);class de extends Ql{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(p){this._structArray.uint8[this._pos1+37]=p}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(p){this._structArray.uint8[this._pos1+38]=p}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(p){this._structArray.uint32[this._pos4+10]=p}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}de.prototype.size=48;class ve extends Op{get(p){return new de(this,p)}}lr("PlacedSymbolArray",ve);class Ee extends Ql{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(p){this._structArray.uint32[this._pos4+12]=p}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ee.prototype.size=64;class Ce extends z{get(p){return new Ee(this,p)}}lr("SymbolInstanceArray",Ce);class ke extends f{getoffsetX(p){return this.float32[1*p+0]}}lr("GlyphOffsetArray",ke);class Be extends Fl{getx(p){return this.int16[3*p+0]}gety(p){return this.int16[3*p+1]}gettileUnitDistanceFromAnchor(p){return this.int16[3*p+2]}}lr("SymbolLineVertexArray",Be);class tt extends Ql{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}tt.prototype.size=12;class Je extends y{get(p){return new tt(this,p)}}lr("TextAnchorOffsetArray",Je);class nt extends Ql{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}nt.prototype.size=8;class pt extends T{get(p){return new nt(this,p)}}lr("FeatureIndexArray",pt);class bt extends bf{}class wt extends bf{}class Et extends bf{}class Pt extends _f{}class Mt extends $u{}class en extends fl{}class Xt extends Zm{}class bn extends ji{}class wn extends ku{}class vn extends Ug{}class Mn extends Hd{}class Zn extends qg{}class Nn extends Lu{}class yr extends ${}const ti=Xr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Zi}=ti;class vi{constructor(p=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=p}prepareSegment(p,_,O,k){const V=this.segments[this.segments.length-1];return p>vi.MAX_VERTEX_ARRAY_LENGTH&&Ue(`Max vertices per segment is ${vi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${p}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${vi.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!V||V.vertexLength+p>vi.MAX_VERTEX_ARRAY_LENGTH||V.sortKey!==k?this.createNewSegment(_,O,k):V}createNewSegment(p,_,O){const k={vertexOffset:p.length,primitiveOffset:_.length,vertexLength:0,primitiveLength:0,vaos:{}};return O!==void 0&&(k.sortKey=O),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(k),k}getOrCreateLatestSegment(p,_,O){return this.prepareSegment(0,p,_,O)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const p of this.segments)for(const _ in p.vaos)p.vaos[_].destroy()}static simpleSegment(p,_,O,k){return new vi([{vertexOffset:p,primitiveOffset:_,vertexLength:O,primitiveLength:k,vaos:{},sortKey:0}])}}function Ni(b,p){return 256*(b=_e(Math.floor(b),0,255))+_e(Math.floor(p),0,255)}vi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,lr("SegmentVector",vi);const ao=Xr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Va,wa,Da,Yo={exports:{}},Aa={exports:{}},wo={exports:{}},dl=function(){if(Da)return Yo.exports;Da=1;var b=(Va||(Va=1,Aa.exports=function(_,O){var k,V,G,Y,ae,fe,he,me;for(V=_.length-(k=3&_.length),G=O,ae=3432918353,fe=461845907,me=0;me<V;)he=255&_.charCodeAt(me)|(255&_.charCodeAt(++me))<<8|(255&_.charCodeAt(++me))<<16|(255&_.charCodeAt(++me))<<24,++me,G=27492+(65535&(Y=5*(65535&(G=(G^=he=(65535&(he=(he=(65535&he)*ae+(((he>>>16)*ae&65535)<<16)&4294967295)<<15|he>>>17))*fe+(((he>>>16)*fe&65535)<<16)&4294967295)<<13|G>>>19))+((5*(G>>>16)&65535)<<16)&4294967295))+((58964+(Y>>>16)&65535)<<16);switch(he=0,k){case 3:he^=(255&_.charCodeAt(me+2))<<16;case 2:he^=(255&_.charCodeAt(me+1))<<8;case 1:G^=he=(65535&(he=(he=(65535&(he^=255&_.charCodeAt(me)))*ae+(((he>>>16)*ae&65535)<<16)&4294967295)<<15|he>>>17))*fe+(((he>>>16)*fe&65535)<<16)&4294967295}return G^=_.length,G=2246822507*(65535&(G^=G>>>16))+((2246822507*(G>>>16)&65535)<<16)&4294967295,G=3266489909*(65535&(G^=G>>>13))+((3266489909*(G>>>16)&65535)<<16)&4294967295,(G^=G>>>16)>>>0}),Aa.exports),p=(wa||(wa=1,wo.exports=function(_,O){for(var k,V=_.length,G=O^V,Y=0;V>=4;)k=1540483477*(65535&(k=255&_.charCodeAt(Y)|(255&_.charCodeAt(++Y))<<8|(255&_.charCodeAt(++Y))<<16|(255&_.charCodeAt(++Y))<<24))+((1540483477*(k>>>16)&65535)<<16),G=1540483477*(65535&G)+((1540483477*(G>>>16)&65535)<<16)^(k=1540483477*(65535&(k^=k>>>24))+((1540483477*(k>>>16)&65535)<<16)),V-=4,++Y;switch(V){case 3:G^=(255&_.charCodeAt(Y+2))<<16;case 2:G^=(255&_.charCodeAt(Y+1))<<8;case 1:G=1540483477*(65535&(G^=255&_.charCodeAt(Y)))+((1540483477*(G>>>16)&65535)<<16)}return G=1540483477*(65535&(G^=G>>>13))+((1540483477*(G>>>16)&65535)<<16),(G^=G>>>15)>>>0}),wo.exports);return Yo.exports=b,Yo.exports.murmur3=b,Yo.exports.murmur2=p,Yo.exports}(),Nu=l(dl);class bc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(p,_,O,k){this.ids.push(id(p)),this.positions.push(_,O,k)}getPositions(p){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const _=id(p);let O=0,k=this.ids.length-1;for(;O<k;){const G=O+k>>1;this.ids[G]>=_?k=G:O=G+1}const V=[];for(;this.ids[O]===_;)V.push({index:this.positions[3*O],start:this.positions[3*O+1],end:this.positions[3*O+2]}),O++;return V}static serialize(p,_){const O=new Float64Array(p.ids),k=new Uint32Array(p.positions);return su(O,k,0,O.length-1),_&&_.push(O.buffer,k.buffer),{ids:O,positions:k}}static deserialize(p){const _=new bc;return _.ids=p.ids,_.positions=p.positions,_.indexed=!0,_}}function id(b){const p=+b;return!isNaN(p)&&p<=Number.MAX_SAFE_INTEGER?p:Nu(String(b))}function su(b,p,_,O){for(;_<O;){const k=b[_+O>>1];let V=_-1,G=O+1;for(;;){do V++;while(b[V]<k);do G--;while(b[G]>k);if(V>=G)break;ad(b,V,G),ad(p,3*V,3*G),ad(p,3*V+1,3*G+1),ad(p,3*V+2,3*G+2)}G-_<O-G?(su(b,p,_,G),_=G+1):(su(b,p,G+1,O),O=G)}}function ad(b,p,_){const O=b[p];b[p]=b[_],b[_]=O}lr("FeaturePositionMap",bc);class zc{constructor(p,_){this.gl=p.gl,this.location=_}}class Bc extends zc{constructor(p,_){super(p,_),this.current=0}set(p){this.current!==p&&(this.current=p,this.gl.uniform1f(this.location,p))}}class Ms extends zc{constructor(p,_){super(p,_),this.current=[0,0,0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]&&p[3]===this.current[3]||(this.current=p,this.gl.uniform4f(this.location,p[0],p[1],p[2],p[3]))}}class xf extends zc{constructor(p,_){super(p,_),this.current=Br.transparent}set(p){p.r===this.current.r&&p.g===this.current.g&&p.b===this.current.b&&p.a===this.current.a||(this.current=p,this.gl.uniform4f(this.location,p.r,p.g,p.b,p.a))}}const _c=new Float32Array(16);function Vd(b){return[Ni(255*b.r,255*b.g),Ni(255*b.b,255*b.a)]}class No{constructor(p,_,O){this.value=p,this.uniformNames=_.map(k=>`u_${k}`),this.type=O}setUniform(p,_,O){p.set(O.constantOr(this.value))}getBinding(p,_,O){return this.type==="color"?new xf(p,_):new Bc(p,_)}}class Ya{constructor(p,_){this.uniformNames=_.map(O=>`u_${O}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(p,_){this.pixelRatioFrom=_.pixelRatio,this.pixelRatioTo=p.pixelRatio,this.patternFrom=_.tlbr,this.patternTo=p.tlbr}setUniform(p,_,O,k){const V=k==="u_pattern_to"?this.patternTo:k==="u_pattern_from"?this.patternFrom:k==="u_pixel_ratio_to"?this.pixelRatioTo:k==="u_pixel_ratio_from"?this.pixelRatioFrom:null;V&&p.set(V)}getBinding(p,_,O){return O.substr(0,9)==="u_pattern"?new Ms(p,_):new Bc(p,_)}}class bs{constructor(p,_,O,k){this.expression=p,this.type=O,this.maxValue=0,this.paintVertexAttributes=_.map(V=>({name:`a_${V}`,type:"Float32",components:O==="color"?2:1,offset:0})),this.paintVertexArray=new k}populatePaintArray(p,_,O,k,V){const G=this.paintVertexArray.length,Y=this.expression.evaluate(new ho(0),_,{},k,[],V);this.paintVertexArray.resize(p),this._setPaintValue(G,p,Y)}updatePaintArray(p,_,O,k){const V=this.expression.evaluate({zoom:0},O,k);this._setPaintValue(p,_,V)}_setPaintValue(p,_,O){if(this.type==="color"){const k=Vd(O);for(let V=p;V<_;V++)this.paintVertexArray.emplace(V,k[0],k[1])}else{for(let k=p;k<_;k++)this.paintVertexArray.emplace(k,O);this.maxValue=Math.max(this.maxValue,Math.abs(O))}}upload(p){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=p.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class za{constructor(p,_,O,k,V,G){this.expression=p,this.uniformNames=_.map(Y=>`u_${Y}_t`),this.type=O,this.useIntegerZoom=k,this.zoom=V,this.maxValue=0,this.paintVertexAttributes=_.map(Y=>({name:`a_${Y}`,type:"Float32",components:O==="color"?4:2,offset:0})),this.paintVertexArray=new G}populatePaintArray(p,_,O,k,V){const G=this.expression.evaluate(new ho(this.zoom),_,{},k,[],V),Y=this.expression.evaluate(new ho(this.zoom+1),_,{},k,[],V),ae=this.paintVertexArray.length;this.paintVertexArray.resize(p),this._setPaintValue(ae,p,G,Y)}updatePaintArray(p,_,O,k){const V=this.expression.evaluate({zoom:this.zoom},O,k),G=this.expression.evaluate({zoom:this.zoom+1},O,k);this._setPaintValue(p,_,V,G)}_setPaintValue(p,_,O,k){if(this.type==="color"){const V=Vd(O),G=Vd(k);for(let Y=p;Y<_;Y++)this.paintVertexArray.emplace(Y,V[0],V[1],G[0],G[1])}else{for(let V=p;V<_;V++)this.paintVertexArray.emplace(V,O,k);this.maxValue=Math.max(this.maxValue,Math.abs(O),Math.abs(k))}}upload(p){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=p.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(p,_){const O=this.useIntegerZoom?Math.floor(_.zoom):_.zoom,k=_e(this.expression.interpolationFactor(O,this.zoom,this.zoom+1),0,1);p.set(k)}getBinding(p,_,O){return new Bc(p,_)}}class od{constructor(p,_,O,k,V,G){this.expression=p,this.type=_,this.useIntegerZoom=O,this.zoom=k,this.layerId=G,this.zoomInPaintVertexArray=new V,this.zoomOutPaintVertexArray=new V}populatePaintArray(p,_,O){const k=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(p),this.zoomOutPaintVertexArray.resize(p),this._setPaintValues(k,p,_.patterns&&_.patterns[this.layerId],O)}updatePaintArray(p,_,O,k,V){this._setPaintValues(p,_,O.patterns&&O.patterns[this.layerId],V)}_setPaintValues(p,_,O,k){if(!k||!O)return;const{min:V,mid:G,max:Y}=O,ae=k[V],fe=k[G],he=k[Y];if(ae&&fe&&he)for(let me=p;me<_;me++)this.zoomInPaintVertexArray.emplace(me,fe.tl[0],fe.tl[1],fe.br[0],fe.br[1],ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],fe.pixelRatio,ae.pixelRatio),this.zoomOutPaintVertexArray.emplace(me,fe.tl[0],fe.tl[1],fe.br[0],fe.br[1],he.tl[0],he.tl[1],he.br[0],he.br[1],fe.pixelRatio,he.pixelRatio)}upload(p){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=p.createVertexBuffer(this.zoomInPaintVertexArray,ao.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=p.createVertexBuffer(this.zoomOutPaintVertexArray,ao.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Qm{constructor(p,_,O){this.binders={},this._buffers=[];const k=[];for(const V in p.paint._values){if(!O(V))continue;const G=p.paint.get(V);if(!(G instanceof Ds&&sf(G.property.specification)))continue;const Y=ob(V,p.type),ae=G.value,fe=G.property.specification.type,he=G.property.useIntegerZoom,me=G.property.specification["property-type"],Oe=me==="cross-faded"||me==="cross-faded-data-driven";if(ae.kind==="constant")this.binders[V]=Oe?new Ya(ae.value,Y):new No(ae.value,Y,fe),k.push(`/u_${V}`);else if(ae.kind==="source"||Oe){const Ae=Jm(V,fe,"source");this.binders[V]=Oe?new od(ae,fe,he,_,Ae,p.id):new bs(ae,Y,fe,Ae),k.push(`/a_${V}`)}else{const Ae=Jm(V,fe,"composite");this.binders[V]=new za(ae,Y,fe,he,_,Ae),k.push(`/z_${V}`)}}this.cacheKey=k.sort().join("")}getMaxValue(p){const _=this.binders[p];return _ instanceof bs||_ instanceof za?_.maxValue:0}populatePaintArrays(p,_,O,k,V){for(const G in this.binders){const Y=this.binders[G];(Y instanceof bs||Y instanceof za||Y instanceof od)&&Y.populatePaintArray(p,_,O,k,V)}}setConstantPatternPositions(p,_){for(const O in this.binders){const k=this.binders[O];k instanceof Ya&&k.setConstantPatternPositions(p,_)}}updatePaintArrays(p,_,O,k,V){let G=!1;for(const Y in p){const ae=_.getPositions(Y);for(const fe of ae){const he=O.feature(fe.index);for(const me in this.binders){const Oe=this.binders[me];if((Oe instanceof bs||Oe instanceof za||Oe instanceof od)&&Oe.expression.isStateDependent===!0){const Ae=k.paint.get(me);Oe.expression=Ae.value,Oe.updatePaintArray(fe.start,fe.end,he,p[Y],V),G=!0}}}}return G}defines(){const p=[];for(const _ in this.binders){const O=this.binders[_];(O instanceof No||O instanceof Ya)&&p.push(...O.uniformNames.map(k=>`#define HAS_UNIFORM_${k}`))}return p}getBinderAttributes(){const p=[];for(const _ in this.binders){const O=this.binders[_];if(O instanceof bs||O instanceof za)for(let k=0;k<O.paintVertexAttributes.length;k++)p.push(O.paintVertexAttributes[k].name);else if(O instanceof od)for(let k=0;k<ao.members.length;k++)p.push(ao.members[k].name)}return p}getBinderUniforms(){const p=[];for(const _ in this.binders){const O=this.binders[_];if(O instanceof No||O instanceof Ya||O instanceof za)for(const k of O.uniformNames)p.push(k)}return p}getPaintVertexBuffers(){return this._buffers}getUniforms(p,_){const O=[];for(const k in this.binders){const V=this.binders[k];if(V instanceof No||V instanceof Ya||V instanceof za){for(const G of V.uniformNames)if(_[G]){const Y=V.getBinding(p,_[G],G);O.push({name:G,property:k,binding:Y})}}}return O}setUniforms(p,_,O,k){for(const{name:V,property:G,binding:Y}of _)this.binders[G].setUniform(Y,k,O.get(G),V)}updatePaintBuffers(p){this._buffers=[];for(const _ in this.binders){const O=this.binders[_];if(p&&O instanceof od){const k=p.fromScale===2?O.zoomInPaintVertexBuffer:O.zoomOutPaintVertexBuffer;k&&this._buffers.push(k)}else(O instanceof bs||O instanceof za)&&O.paintVertexBuffer&&this._buffers.push(O.paintVertexBuffer)}}upload(p){for(const _ in this.binders){const O=this.binders[_];(O instanceof bs||O instanceof za||O instanceof od)&&O.upload(p)}this.updatePaintBuffers()}destroy(){for(const p in this.binders){const _=this.binders[p];(_ instanceof bs||_ instanceof za||_ instanceof od)&&_.destroy()}}}class Du{constructor(p,_,O=()=>!0){this.programConfigurations={};for(const k of p)this.programConfigurations[k.id]=new Qm(k,_,O);this.needsUpload=!1,this._featureMap=new bc,this._bufferOffset=0}populatePaintArrays(p,_,O,k,V,G){for(const Y in this.programConfigurations)this.programConfigurations[Y].populatePaintArrays(p,_,k,V,G);_.id!==void 0&&this._featureMap.add(_.id,O,this._bufferOffset,p),this._bufferOffset=p,this.needsUpload=!0}updatePaintArrays(p,_,O,k){for(const V of O)this.needsUpload=this.programConfigurations[V.id].updatePaintArrays(p,this._featureMap,_,V,k)||this.needsUpload}get(p){return this.programConfigurations[p]}upload(p){if(this.needsUpload){for(const _ in this.programConfigurations)this.programConfigurations[_].upload(p);this.needsUpload=!1}}destroy(){for(const p in this.programConfigurations)this.programConfigurations[p].destroy()}}function ob(b,p){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[b]||[b.replace(`${p}-`,"").replace(/-/g,"_")]}function Jm(b,p,_){const O={color:{source:fl,composite:W},number:{source:f,composite:fl}},k=function(V){return{"line-pattern":{source:Xt,composite:Xt},"fill-pattern":{source:Xt,composite:Xt},"fill-extrusion-pattern":{source:Xt,composite:Xt}}[V]}(b);return k&&k[_]||O[p][_]}lr("ConstantBinder",No),lr("CrossFadedConstantBinder",Ya),lr("SourceExpressionBinder",bs),lr("CrossFadedCompositeBinder",od),lr("CompositeExpressionBinder",za),lr("ProgramConfiguration",Qm,{omit:["_buffers"]}),lr("ProgramConfigurationSet",Du);const ev=Math.pow(2,14)-1,So=-ev-1;function As(b){const p=Z/b.extent,_=b.loadGeometry();for(let O=0;O<_.length;O++){const k=_[O];for(let V=0;V<k.length;V++){const G=k[V],Y=Math.round(G.x*p),ae=Math.round(G.y*p);G.x=_e(Y,So,ev),G.y=_e(ae,So,ev),(Y<G.x||Y>G.x+1||ae<G.y||ae>G.y+1)&&Ue("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return _}function zu(b,p){return{type:b.type,id:b.id,properties:b.properties,geometry:p?As(b):[]}}const Dh=-32768;function sd(b,p,_,O,k){b.emplaceBack(Dh+8*p+O,Dh+8*_+k)}class wf{constructor(p){this.zoom=p.zoom,this.overscaling=p.overscaling,this.layers=p.layers,this.layerIds=this.layers.map(_=>_.id),this.index=p.index,this.hasPattern=!1,this.layoutVertexArray=new wt,this.indexArray=new Nn,this.segments=new vi,this.programConfigurations=new Du(p.layers,p.zoom),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(p,_,O){const k=this.layers[0],V=[];let G=null,Y=!1,ae=k.type==="heatmap";if(k.type==="circle"){const he=k;G=he.layout.get("circle-sort-key"),Y=!G.isConstant(),ae=ae||he.paint.get("circle-pitch-alignment")==="map"}const fe=ae?_.subdivisionGranularity.circle:1;for(const{feature:he,id:me,index:Oe,sourceLayerIndex:Ae}of p){const $e=this.layers[0]._featureFilter.needGeometry,De=zu(he,$e);if(!this.layers[0]._featureFilter.filter(new ho(this.zoom),De,O))continue;const Xe=Y?G.evaluate(De,{},O):void 0,at={id:me,properties:he.properties,type:he.type,sourceLayerIndex:Ae,index:Oe,geometry:$e?De.geometry:As(he),patterns:{},sortKey:Xe};V.push(at)}Y&&V.sort((he,me)=>he.sortKey-me.sortKey);for(const he of V){const{geometry:me,index:Oe,sourceLayerIndex:Ae}=he,$e=p[Oe].feature;this.addFeature(he,me,Oe,O,fe),_.featureIndex.insert($e,me,Oe,Ae,this.index)}}update(p,_,O){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(p,_,this.stateDependentLayers,O)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(p){this.uploaded||(this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,Zi),this.indexBuffer=p.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(p),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(p,_,O,k,V=1){let G;switch(V){case 1:G=[0,7];break;case 3:G=[0,2,5,7];break;case 5:G=[0,1,3,4,6,7];break;case 7:G=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${V}; valid values are 1, 3, 5, 7.`)}const Y=G.length;for(const ae of _)for(const fe of ae){const he=fe.x,me=fe.y;if(he<0||he>=Z||me<0||me>=Z)continue;const Oe=this.segments.prepareSegment(Y*Y,this.layoutVertexArray,this.indexArray,p.sortKey),Ae=Oe.vertexLength;for(let $e=0;$e<Y;$e++)for(let De=0;De<Y;De++)sd(this.layoutVertexArray,he,me,G[De],G[$e]);for(let $e=0;$e<Y-1;$e++)for(let De=0;De<Y-1;De++){const Xe=Ae+$e*Y+De,at=Ae+($e+1)*Y+De;this.indexArray.emplaceBack(Xe,at+1,Xe+1),this.indexArray.emplaceBack(Xe,at,at+1)}Oe.vertexLength+=Y*Y,Oe.primitiveLength+=(Y-1)*(Y-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,p,O,{},k)}}function Tp(b,p){for(let _=0;_<b.length;_++)if(Co(p,b[_]))return!0;for(let _=0;_<p.length;_++)if(Co(b,p[_]))return!0;return!!Jl(b,p)}function Kg(b,p,_){return!!Co(b,p)||!!sb(p,b,_)}function q1(b,p){if(b.length===1)return ld(p,b[0]);for(let _=0;_<p.length;_++){const O=p[_];for(let k=0;k<O.length;k++)if(Co(b,O[k]))return!0}for(let _=0;_<b.length;_++)if(ld(p,b[_]))return!0;for(let _=0;_<p.length;_++)if(Jl(b,p[_]))return!0;return!1}function Bu(b,p,_){if(b.length>1){if(Jl(b,p))return!0;for(let O=0;O<p.length;O++)if(sb(p[O],b,_))return!0}for(let O=0;O<b.length;O++)if(sb(b[O],p,_))return!0;return!1}function Jl(b,p){if(b.length===0||p.length===0)return!1;for(let _=0;_<b.length-1;_++){const O=b[_],k=b[_+1];for(let V=0;V<p.length-1;V++)if(Sf(O,k,p[V],p[V+1]))return!0}return!1}function Sf(b,p,_,O){return Ne(b,_,O)!==Ne(p,_,O)&&Ne(b,p,_)!==Ne(b,p,O)}function sb(b,p,_){const O=_*_;if(p.length===1)return b.distSqr(p[0])<O;for(let k=1;k<p.length;k++)if(Ud(b,p[k-1],p[k])<O)return!0;return!1}function Ud(b,p,_){const O=p.distSqr(_);if(O===0)return b.distSqr(p);const k=((b.x-p.x)*(_.x-p.x)+(b.y-p.y)*(_.y-p.y))/O;return b.distSqr(k<0?p:k>1?_:_.sub(p)._mult(k)._add(p))}function ld(b,p){for(let _=0;_<b.length;_++)if(Co(b[_],p))return!0;return!1}function Co(b,p){let _=!1;for(let O=0,k=b.length-1;O<b.length;k=O++){const V=b[O],G=b[k];V.y>p.y!=G.y>p.y&&p.x<(G.x-V.x)*(p.y-V.y)/(G.y-V.y)+V.x&&(_=!_)}return _}function k0(b,p,_){const O=_[0],k=_[2];if(b.x<O.x&&p.x<O.x||b.x>k.x&&p.x>k.x||b.y<O.y&&p.y<O.y||b.y>k.y&&p.y>k.y)return!1;const V=Ne(b,p,_[0]);return V!==Ne(b,p,_[1])||V!==Ne(b,p,_[2])||V!==Ne(b,p,_[3])}function Gd(b,p,_){const O=p.paint.get(b).value;return O.kind==="constant"?O.value:_.programConfigurations.get(p.id).getMaxValue(b)}function Mp(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}function Ap(b,p,_,O,k){if(!p[0]&&!p[1])return b;const V=v.convert(p)._mult(k);_==="viewport"&&V._rotate(-O);const G=[];for(let Y=0;Y<b.length;Y++)G.push(b[Y].sub(V));return G}let K1,zh;lr("CircleBucket",wf,{omit:["layers"]});var Yg={get paint(){return zh=zh||new Ts({"circle-radius":new wr(xe.paint_circle["circle-radius"]),"circle-color":new wr(xe.paint_circle["circle-color"]),"circle-blur":new wr(xe.paint_circle["circle-blur"]),"circle-opacity":new wr(xe.paint_circle["circle-opacity"]),"circle-translate":new vr(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new vr(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new vr(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new vr(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new wr(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new wr(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new wr(xe.paint_circle["circle-stroke-opacity"])})},get layout(){return K1=K1||new Ts({"circle-sort-key":new wr(xe.layout_circle["circle-sort-key"])})}};class Y1 extends ul{constructor(p){super(p,Yg)}createBucket(p){return new wf(p)}queryRadius(p){const _=p;return Gd("circle-radius",this,_)+Gd("circle-stroke-width",this,_)+Mp(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:p,feature:_,featureState:O,geometry:k,transform:V,pixelsToTileUnits:G,unwrappedTileID:Y,getElevation:ae}){const fe=Ap(p,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-V.bearingInRadians,G),he=this.paint.get("circle-radius").evaluate(_,O)+this.paint.get("circle-stroke-width").evaluate(_,O),me=this.paint.get("circle-pitch-alignment")==="map",Oe=me?fe:function($e,De,Xe,at){return $e.map(Ot=>L0(Ot,De,Xe,at))}(fe,V,Y,ae),Ae=me?he*G:he;for(const $e of k)for(const De of $e){const Xe=me?De:L0(De,V,Y,ae);let at=Ae;const Ot=V.projectTileCoordinates(De.x,De.y,Y,ae).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?at*=Ot/V.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(at*=V.cameraToCenterDistance/Ot),Kg(Oe,Xe,at))return!0}return!1}}function L0(b,p,_,O){const k=p.projectTileCoordinates(b.x,b.y,_,O).point;return new v((.5*k.x+.5)*p.width,(.5*-k.y+.5)*p.height)}class X1 extends wf{}let tv;lr("HeatmapBucket",X1,{omit:["layers"]});var Wd={get paint(){return tv=tv||new Ts({"heatmap-radius":new wr(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new wr(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new vr(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new rd(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new vr(xe.paint_heatmap["heatmap-opacity"])})}};function nv(b,{width:p,height:_},O,k){if(k){if(k instanceof Uint8ClampedArray)k=new Uint8Array(k.buffer);else if(k.length!==p*_*O)throw new RangeError(`mismatched image size. expected: ${k.length} but got: ${p*_*O}`)}else k=new Uint8Array(p*_*O);return b.width=p,b.height=_,b.data=k,b}function lb(b,{width:p,height:_},O){if(p===b.width&&_===b.height)return;const k=nv({},{width:p,height:_},O);cb(b,k,{x:0,y:0},{x:0,y:0},{width:Math.min(b.width,p),height:Math.min(b.height,_)},O),b.width=p,b.height=_,b.data=k.data}function cb(b,p,_,O,k,V){if(k.width===0||k.height===0)return p;if(k.width>b.width||k.height>b.height||_.x>b.width-k.width||_.y>b.height-k.height)throw new RangeError("out of range source coordinates for image copy");if(k.width>p.width||k.height>p.height||O.x>p.width-k.width||O.y>p.height-k.height)throw new RangeError("out of range destination coordinates for image copy");const G=b.data,Y=p.data;if(G===Y)throw new Error("srcData equals dstData, so image is already copied");for(let ae=0;ae<k.height;ae++){const fe=((_.y+ae)*b.width+_.x)*V,he=((O.y+ae)*p.width+O.x)*V;for(let me=0;me<k.width*V;me++)Y[he+me]=G[fe+me]}return p}class rv{constructor(p,_){nv(this,p,1,_)}resize(p){lb(this,p,1)}clone(){return new rv({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(p,_,O,k,V){cb(p,_,O,k,V,1)}}class lu{constructor(p,_){nv(this,p,4,_)}resize(p){lb(this,p,4)}replace(p,_){_?this.data.set(p):this.data=p instanceof Uint8ClampedArray?new Uint8Array(p.buffer):p}clone(){return new lu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(p,_,O,k,V){cb(p,_,O,k,V,4)}}function Sl(b){const p={},_=b.resolution||256,O=b.clips?b.clips.length:1,k=b.image||new lu({width:_,height:O});if(Math.log(_)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${_}`);const V=(G,Y,ae)=>{p[b.evaluationKey]=ae;const fe=b.expression.evaluate(p);k.data[G+Y+0]=Math.floor(255*fe.r/fe.a),k.data[G+Y+1]=Math.floor(255*fe.g/fe.a),k.data[G+Y+2]=Math.floor(255*fe.b/fe.a),k.data[G+Y+3]=Math.floor(255*fe.a)};if(b.clips)for(let G=0,Y=0;G<O;++G,Y+=4*_)for(let ae=0,fe=0;ae<_;ae++,fe+=4){const he=ae/(_-1),{start:me,end:Oe}=b.clips[G];V(Y,fe,me*(1-he)+Oe*he)}else for(let G=0,Y=0;G<_;G++,Y+=4)V(0,Y,G/(_-1));return k}lr("AlphaImage",rv),lr("RGBAImage",lu);const Do="big-fb";class ub extends ul{createBucket(p){return new X1(p)}constructor(p){super(p,Wd),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(p){p==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Sl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Do)&&this.heatmapFbos.delete(Do)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let N0;var fb={get paint(){return N0=N0||new Ts({"hillshade-illumination-direction":new vr(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new vr(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new vr(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new vr(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new vr(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new vr(xe.paint_hillshade["hillshade-accent-color"])})}};class D0 extends ul{constructor(p){super(p,fb)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Xg=Xr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Yr}=Xg;function Ip(b,p,_){const O=_.patternDependencies;let k=!1;for(const V of p){const G=V.paint.get(`${b}-pattern`);G.isConstant()||(k=!0);const Y=G.constantOr(null);Y&&(k=!0,O[Y.to]=!0,O[Y.from]=!0)}return k}function iv(b,p,_,O,k){const V=k.patternDependencies;for(const G of p){const Y=G.paint.get(`${b}-pattern`).value;if(Y.kind!=="constant"){let ae=Y.evaluate({zoom:O-1},_,{},k.availableImages),fe=Y.evaluate({zoom:O},_,{},k.availableImages),he=Y.evaluate({zoom:O+1},_,{},k.availableImages);ae=ae&&ae.name?ae.name:ae,fe=fe&&fe.name?fe.name:fe,he=he&&he.name?he.name:he,V[ae]=!0,V[fe]=!0,V[he]=!0,_.patterns[G.id]={min:ae,mid:fe,max:he}}}return _}function Bh(b,p,_,O,k){let V;if(k===function(G,Y,ae,fe){let he=0;for(let me=Y,Oe=ae-fe;me<ae;me+=fe)he+=(G[Oe]-G[me])*(G[me+1]+G[Oe+1]),Oe=me;return he}(b,p,_,O)>0)for(let G=p;G<_;G+=O)V=t_(G/O|0,b[G],b[G+1],V);else for(let G=_-O;G>=p;G-=O)V=t_(G/O|0,b[G],b[G+1],V);return V&&cu(V,V.next)&&(av(V),V=V.next),V}function Pp(b,p){if(!b)return b;p||(p=b);let _,O=b;do if(_=!1,O.steiner||!cu(O,O.next)&&Xo(O.prev,O,O.next)!==0)O=O.next;else{if(av(O),O=p=O.prev,O===O.next)break;_=!0}while(_||O!==p);return p}function jh(b,p,_,O,k,V,G){if(!b)return;!G&&V&&function(ae,fe,he,me){let Oe=ae;do Oe.z===0&&(Oe.z=B0(Oe.x,Oe.y,fe,he,me)),Oe.prevZ=Oe.prev,Oe.nextZ=Oe.next,Oe=Oe.next;while(Oe!==ae);Oe.prevZ.nextZ=null,Oe.prevZ=null,function(Ae){let $e,De=1;do{let Xe,at=Ae;Ae=null;let Ot=null;for($e=0;at;){$e++;let gt=at,Me=0;for(let dt=0;dt<De&&(Me++,gt=gt.nextZ,gt);dt++);let Ke=De;for(;Me>0||Ke>0&&gt;)Me!==0&&(Ke===0||!gt||at.z<=gt.z)?(Xe=at,at=at.nextZ,Me--):(Xe=gt,gt=gt.nextZ,Ke--),Ot?Ot.nextZ=Xe:Ae=Xe,Xe.prevZ=Ot,Ot=Xe;at=gt}Ot.nextZ=null,De*=2}while($e>1)}(Oe)}(b,O,k,V);let Y=b;for(;b.prev!==b.next;){const ae=b.prev,fe=b.next;if(V?Hl(b,O,k,V):db(b))p.push(ae.i,b.i,fe.i),av(b),b=fe.next,Y=fe.next;else if((b=fe)===Y){G?G===1?jh(b=Wx(Pp(b),p),p,_,O,k,V,2):G===2&&Z1(b,p,_,O,k,V):jh(Pp(b),p,_,O,k,V,1);break}}}function db(b){const p=b.prev,_=b,O=b.next;if(Xo(p,_,O)>=0)return!1;const k=p.x,V=_.x,G=O.x,Y=p.y,ae=_.y,fe=O.y,he=Math.min(k,V,G),me=Math.min(Y,ae,fe),Oe=Math.max(k,V,G),Ae=Math.max(Y,ae,fe);let $e=O.next;for(;$e!==p;){if($e.x>=he&&$e.x<=Oe&&$e.y>=me&&$e.y<=Ae&&jc(k,Y,V,ae,G,fe,$e.x,$e.y)&&Xo($e.prev,$e,$e.next)>=0)return!1;$e=$e.next}return!0}function Hl(b,p,_,O){const k=b.prev,V=b,G=b.next;if(Xo(k,V,G)>=0)return!1;const Y=k.x,ae=V.x,fe=G.x,he=k.y,me=V.y,Oe=G.y,Ae=Math.min(Y,ae,fe),$e=Math.min(he,me,Oe),De=Math.max(Y,ae,fe),Xe=Math.max(he,me,Oe),at=B0(Ae,$e,p,_,O),Ot=B0(De,Xe,p,_,O);let gt=b.prevZ,Me=b.nextZ;for(;gt&&gt.z>=at&&Me&&Me.z<=Ot;){if(gt.x>=Ae&&gt.x<=De&&gt.y>=$e&&gt.y<=Xe&&gt!==k&&gt!==G&&jc(Y,he,ae,me,fe,Oe,gt.x,gt.y)&&Xo(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,Me.x>=Ae&&Me.x<=De&&Me.y>=$e&&Me.y<=Xe&&Me!==k&&Me!==G&&jc(Y,he,ae,me,fe,Oe,Me.x,Me.y)&&Xo(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;gt&&gt.z>=at;){if(gt.x>=Ae&&gt.x<=De&&gt.y>=$e&&gt.y<=Xe&&gt!==k&&gt!==G&&jc(Y,he,ae,me,fe,Oe,gt.x,gt.y)&&Xo(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;Me&&Me.z<=Ot;){if(Me.x>=Ae&&Me.x<=De&&Me.y>=$e&&Me.y<=Xe&&Me!==k&&Me!==G&&jc(Y,he,ae,me,fe,Oe,Me.x,Me.y)&&Xo(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function Wx(b,p){let _=b;do{const O=_.prev,k=_.next.next;!cu(O,k)&&j0(O,_,_.next,k)&&Xa(O,k)&&Xa(k,O)&&(p.push(O.i,_.i,k.i),av(_),av(_.next),_=b=k),_=_.next}while(_!==b);return Pp(_)}function Z1(b,p,_,O,k,V){let G=b;do{let Y=G.next.next;for(;Y!==G.prev;){if(G.i!==Y.i&&Fc(G,Y)){let ae=e_(G,Y);return G=Pp(G,G.next),ae=Pp(ae,ae.next),jh(G,p,_,O,k,V,0),void jh(ae,p,_,O,k,V,0)}Y=Y.next}G=G.next}while(G!==b)}function z0(b,p){let _=b.x-p.x;return _===0&&(_=b.y-p.y,_===0)&&(_=(b.next.y-b.y)/(b.next.x-b.x)-(p.next.y-p.y)/(p.next.x-p.x)),_}function Q1(b,p){const _=function(k,V){let G=V;const Y=k.x,ae=k.y;let fe,he=-1/0;if(cu(k,G))return G;do{if(cu(k,G.next))return G.next;if(ae<=G.y&&ae>=G.next.y&&G.next.y!==G.y){const De=G.x+(ae-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(De<=Y&&De>he&&(he=De,fe=G.x<G.next.x?G:G.next,De===Y))return fe}G=G.next}while(G!==V);if(!fe)return null;const me=fe,Oe=fe.x,Ae=fe.y;let $e=1/0;G=fe;do{if(Y>=G.x&&G.x>=Oe&&Y!==G.x&&qd(ae<Ae?Y:he,ae,Oe,Ae,ae<Ae?he:Y,ae,G.x,G.y)){const De=Math.abs(ae-G.y)/(Y-G.x);Xa(G,k)&&(De<$e||De===$e&&(G.x>fe.x||G.x===fe.x&&J1(fe,G)))&&(fe=G,$e=De)}G=G.next}while(G!==me);return fe}(b,p);if(!_)return p;const O=e_(_,b);return Pp(O,O.next),Pp(_,_.next)}function J1(b,p){return Xo(b.prev,b,p.prev)<0&&Xo(p.next,b,b.next)<0}function B0(b,p,_,O,k){return(b=1431655765&((b=858993459&((b=252645135&((b=16711935&((b=(b-_)*k|0)|b<<8))|b<<4))|b<<2))|b<<1))|(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-O)*k|0)|p<<8))|p<<4))|p<<2))|p<<1))<<1}function qx(b){let p=b,_=b;do(p.x<_.x||p.x===_.x&&p.y<_.y)&&(_=p),p=p.next;while(p!==b);return _}function qd(b,p,_,O,k,V,G,Y){return(k-G)*(p-Y)>=(b-G)*(V-Y)&&(b-G)*(O-Y)>=(_-G)*(p-Y)&&(_-G)*(V-Y)>=(k-G)*(O-Y)}function jc(b,p,_,O,k,V,G,Y){return!(b===G&&p===Y)&&qd(b,p,_,O,k,V,G,Y)}function Fc(b,p){return b.next.i!==p.i&&b.prev.i!==p.i&&!function(_,O){let k=_;do{if(k.i!==_.i&&k.next.i!==_.i&&k.i!==O.i&&k.next.i!==O.i&&j0(k,k.next,_,O))return!0;k=k.next}while(k!==_);return!1}(b,p)&&(Xa(b,p)&&Xa(p,b)&&function(_,O){let k=_,V=!1;const G=(_.x+O.x)/2,Y=(_.y+O.y)/2;do k.y>Y!=k.next.y>Y&&k.next.y!==k.y&&G<(k.next.x-k.x)*(Y-k.y)/(k.next.y-k.y)+k.x&&(V=!V),k=k.next;while(k!==_);return V}(b,p)&&(Xo(b.prev,b,p.prev)||Xo(b,p.prev,p))||cu(b,p)&&Xo(b.prev,b,b.next)>0&&Xo(p.prev,p,p.next)>0)}function Xo(b,p,_){return(p.y-b.y)*(_.x-p.x)-(p.x-b.x)*(_.y-p.y)}function cu(b,p){return b.x===p.x&&b.y===p.y}function j0(b,p,_,O){const k=Rp(Xo(b,p,_)),V=Rp(Xo(b,p,O)),G=Rp(Xo(_,O,b)),Y=Rp(Xo(_,O,p));return k!==V&&G!==Y||!(k!==0||!Zg(b,_,p))||!(V!==0||!Zg(b,O,p))||!(G!==0||!Zg(_,b,O))||!(Y!==0||!Zg(_,p,O))}function Zg(b,p,_){return p.x<=Math.max(b.x,_.x)&&p.x>=Math.min(b.x,_.x)&&p.y<=Math.max(b.y,_.y)&&p.y>=Math.min(b.y,_.y)}function Rp(b){return b>0?1:b<0?-1:0}function Xa(b,p){return Xo(b.prev,b,b.next)<0?Xo(b,p,b.next)>=0&&Xo(b,b.prev,p)>=0:Xo(b,p,b.prev)<0||Xo(b,b.next,p)<0}function e_(b,p){const _=Qg(b.i,b.x,b.y),O=Qg(p.i,p.x,p.y),k=b.next,V=p.prev;return b.next=p,p.prev=b,_.next=k,k.prev=_,O.next=_,_.prev=O,V.next=O,O.prev=V,O}function t_(b,p,_,O){const k=Qg(b,p,_);return O?(k.next=O.next,k.prev=O,O.next.prev=k,O.next=k):(k.prev=k,k.next=k),k}function av(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function Qg(b,p,_){return{i:b,x:p,y:_,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ju{constructor(p,_){if(_>p)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=p,this._minGranularity=_}getGranularityForZoomLevel(p){return Math.max(Math.floor(this._baseZoomGranularity/(1<<p)),this._minGranularity,1)}}class F0{constructor(p){this.fill=p.fill,this.line=p.line,this.tile=p.tile,this.stencil=p.stencil,this.circle=p.circle}}F0.noSubdivision=new F0({fill:new ju(0,0),line:new ju(0,0),tile:new ju(0,0),stencil:new ju(0,0),circle:1}),lr("SubdivisionGranularityExpression",ju),lr("SubdivisionGranularitySetting",F0);const $p=-32768,Kd=32767;class Yd{constructor(p,_){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=p,this._granularityCellSize=Z/p,this._canonical=_}_getKey(p,_){return(p+=32768)<<16|(_+=32768)<<0}_vertexToIndex(p,_){if(p<-32768||_<-32768||p>32767||_>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const O=0|Math.round(p),k=0|Math.round(_),V=this._getKey(O,k);if(this._vertexDictionary.has(V))return this._vertexDictionary.get(V);const G=this._vertexBuffer.length/2;return this._vertexDictionary.set(V,G),this._vertexBuffer.push(O,k),G}_subdivideTrianglesScanline(p){if(this._granularity<2)return function(k,V){const G=[];for(let Y=0;Y<V.length;Y+=3){const ae=V[Y],fe=V[Y+1],he=V[Y+2],me=k[2*ae],Oe=k[2*ae+1];(k[2*fe]-me)*(k[2*he+1]-Oe)-(k[2*fe+1]-Oe)*(k[2*he]-me)>0?(G.push(ae),G.push(he),G.push(fe)):(G.push(ae),G.push(fe),G.push(he))}return G}(this._vertexBuffer,p);const _=[],O=p.length;for(let k=0;k<O;k+=3){const V=[p[k+0],p[k+1],p[k+2]],G=[this._vertexBuffer[2*p[k+0]+0],this._vertexBuffer[2*p[k+0]+1],this._vertexBuffer[2*p[k+1]+0],this._vertexBuffer[2*p[k+1]+1],this._vertexBuffer[2*p[k+2]+0],this._vertexBuffer[2*p[k+2]+1]];let Y=1/0,ae=1/0,fe=-1/0,he=-1/0;for(let De=0;De<3;De++){const Xe=G[2*De],at=G[2*De+1];Y=Math.min(Y,Xe),fe=Math.max(fe,Xe),ae=Math.min(ae,at),he=Math.max(he,at)}if(Y===fe||ae===he)continue;const me=Math.floor(Y/this._granularityCellSize),Oe=Math.ceil(fe/this._granularityCellSize),Ae=Math.floor(ae/this._granularityCellSize),$e=Math.ceil(he/this._granularityCellSize);if(me!==Oe||Ae!==$e)for(let De=Ae;De<$e;De++){const Xe=this._scanlineGenerateVertexRingForCellRow(De,G,V);ov(this._vertexBuffer,Xe,_)}else _.push(...V)}return _}_scanlineGenerateVertexRingForCellRow(p,_,O){const k=p*this._granularityCellSize,V=k+this._granularityCellSize,G=[];for(let Y=0;Y<3;Y++){const ae=_[2*Y],fe=_[2*Y+1],he=_[2*(Y+1)%6],me=_[(2*(Y+1)+1)%6],Oe=_[2*(Y+2)%6],Ae=_[(2*(Y+2)+1)%6],$e=he-ae,De=me-fe,Xe=$e===0,at=De===0,Ot=(k-fe)/De,gt=(V-fe)/De,Me=Math.min(Ot,gt),Ke=Math.max(Ot,gt);if(!at&&(Me>=1||Ke<=0)||at&&(fe<k||fe>V)){me>=k&&me<=V&&G.push(O[(Y+1)%3]);continue}!at&&Me>0&&G.push(this._vertexToIndex(ae+$e*Me,fe+De*Me));const dt=ae+$e*Math.max(Me,0),Wt=ae+$e*Math.min(Ke,1);Xe||this._generateIntraEdgeVertices(G,ae,fe,he,me,dt,Wt),!at&&Ke<1&&G.push(this._vertexToIndex(ae+$e*Ke,fe+De*Ke)),(at||me>=k&&me<=V)&&G.push(O[(Y+1)%3]),!at&&(me<=k||me>=V)&&this._generateInterEdgeVertices(G,ae,fe,he,me,Oe,Ae,Wt,k,V)}return G}_generateIntraEdgeVertices(p,_,O,k,V,G,Y){const ae=k-_,fe=V-O,he=fe===0,me=he?Math.min(_,k):Math.min(G,Y),Oe=he?Math.max(_,k):Math.max(G,Y),Ae=Math.floor(me/this._granularityCellSize)+1,$e=Math.ceil(Oe/this._granularityCellSize)-1;if(he?_<k:G<Y)for(let De=Ae;De<=$e;De++){const Xe=De*this._granularityCellSize;p.push(this._vertexToIndex(Xe,O+fe*(Xe-_)/ae))}else for(let De=$e;De>=Ae;De--){const Xe=De*this._granularityCellSize;p.push(this._vertexToIndex(Xe,O+fe*(Xe-_)/ae))}}_generateInterEdgeVertices(p,_,O,k,V,G,Y,ae,fe,he){const me=V-O,Oe=G-k,Ae=Y-V,$e=(fe-V)/Ae,De=(he-V)/Ae,Xe=Math.min($e,De),at=Math.max($e,De),Ot=k+Oe*Xe;let gt=Math.floor(Math.min(Ot,ae)/this._granularityCellSize)+1,Me=Math.ceil(Math.max(Ot,ae)/this._granularityCellSize)-1,Ke=ae<Ot;const dt=Ae===0;if(dt&&(Y===fe||Y===he))return;if(dt||Xe>=1||at<=0){const jn=O-Y,cn=G+(_-G)*Math.min((fe-Y)/jn,(he-Y)/jn);gt=Math.floor(Math.min(cn,ae)/this._granularityCellSize)+1,Me=Math.ceil(Math.max(cn,ae)/this._granularityCellSize)-1,Ke=ae<cn}const Wt=me>0?he:fe;if(Ke)for(let jn=gt;jn<=Me;jn++)p.push(this._vertexToIndex(jn*this._granularityCellSize,Wt));else for(let jn=Me;jn>=gt;jn--)p.push(this._vertexToIndex(jn*this._granularityCellSize,Wt))}_generateOutline(p){const _=[];for(const O of p){const k=Xd(O,this._granularity,!0),V=this._pointArrayToIndices(k),G=[];for(let Y=1;Y<V.length;Y++)G.push(V[Y-1]),G.push(V[Y]);_.push(G)}return _}_handlePoles(p){let _=!1,O=!1;this._canonical&&(this._canonical.y===0&&(_=!0),this._canonical.y===(1<<this._canonical.z)-1&&(O=!0)),(_||O)&&this._fillPoles(p,_,O)}_ensureNoPoleVertices(){const p=this._vertexBuffer;for(let _=0;_<p.length;_+=2){const O=p[_+1];O===$p&&(p[_+1]=-32767),O===Kd&&(p[_+1]=32766)}}_generatePoleQuad(p,_,O,k,V,G){k>V!=(G===$p)?(p.push(_),p.push(O),p.push(this._vertexToIndex(k,G)),p.push(O),p.push(this._vertexToIndex(V,G)),p.push(this._vertexToIndex(k,G))):(p.push(O),p.push(_),p.push(this._vertexToIndex(k,G)),p.push(this._vertexToIndex(V,G)),p.push(O),p.push(this._vertexToIndex(k,G)))}_fillPoles(p,_,O){const k=this._vertexBuffer,V=Z,G=p.length;for(let Y=2;Y<G;Y+=3){const ae=p[Y-2],fe=p[Y-1],he=p[Y],me=k[2*ae],Oe=k[2*ae+1],Ae=k[2*fe],$e=k[2*fe+1],De=k[2*he],Xe=k[2*he+1];_&&(Oe===0&&$e===0&&this._generatePoleQuad(p,ae,fe,me,Ae,$p),$e===0&&Xe===0&&this._generatePoleQuad(p,fe,he,Ae,De,$p),Xe===0&&Oe===0&&this._generatePoleQuad(p,he,ae,De,me,$p)),O&&(Oe===V&&$e===V&&this._generatePoleQuad(p,ae,fe,me,Ae,Kd),$e===V&&Xe===V&&this._generatePoleQuad(p,fe,he,Ae,De,Kd),Xe===V&&Oe===V&&this._generatePoleQuad(p,he,ae,De,me,Kd))}}_initializeVertices(p){for(let _=0;_<p.length;_+=2)this._vertexToIndex(p[_],p[_+1])}subdividePolygonInternal(p,_){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:O,holeIndices:k}=function(Y){const ae=[],fe=[];for(const he of Y)if(he.length!==0){he!==Y[0]&&ae.push(fe.length/2);for(let me=0;me<he.length;me++)fe.push(he[me].x),fe.push(he[me].y)}return{flattened:fe,holeIndices:ae}}(p);let V;this._initializeVertices(O);try{const Y=function(fe,he,me=2){const Oe=he&&he.length,Ae=Oe?he[0]*me:fe.length;let $e=Bh(fe,0,Ae,me,!0);const De=[];if(!$e||$e.next===$e.prev)return De;let Xe,at,Ot;if(Oe&&($e=function(gt,Me,Ke,dt){const Wt=[];for(let jn=0,cn=Me.length;jn<cn;jn++){const yn=Bh(gt,Me[jn]*dt,jn<cn-1?Me[jn+1]*dt:gt.length,dt,!1);yn===yn.next&&(yn.steiner=!0),Wt.push(qx(yn))}Wt.sort(z0);for(let jn=0;jn<Wt.length;jn++)Ke=Q1(Wt[jn],Ke);return Ke}(fe,he,$e,me)),fe.length>80*me){Xe=1/0,at=1/0;let gt=-1/0,Me=-1/0;for(let Ke=me;Ke<Ae;Ke+=me){const dt=fe[Ke],Wt=fe[Ke+1];dt<Xe&&(Xe=dt),Wt<at&&(at=Wt),dt>gt&&(gt=dt),Wt>Me&&(Me=Wt)}Ot=Math.max(gt-Xe,Me-at),Ot=Ot!==0?32767/Ot:0}return jh($e,De,me,Xe,at,Ot,0),De}(O,k),ae=this._convertIndices(O,Y);V=this._subdivideTrianglesScanline(ae)}catch(Y){console.error(Y)}let G=[];return _&&(G=this._generateOutline(p)),this._ensureNoPoleVertices(),this._handlePoles(V),{verticesFlattened:this._vertexBuffer,indicesTriangles:V,indicesLineList:G}}_convertIndices(p,_){const O=[];for(let k=0;k<_.length;k++)O.push(this._vertexToIndex(p[2*_[k]],p[2*_[k]+1]));return O}_pointArrayToIndices(p){const _=[];for(let O=0;O<p.length;O++){const k=p[O];_.push(this._vertexToIndex(k.x,k.y))}return _}}function H0(b,p,_,O=!0){return new Yd(_,p).subdividePolygonInternal(b,O)}function Xd(b,p,_=!1){if(!b||b.length<1)return[];if(b.length<2)return[];const O=b[0],k=b[b.length-1],V=_&&(O.x!==k.x||O.y!==k.y);if(p<2)return V?[...b,b[0]]:[...b];const G=Math.floor(Z/p),Y=[];Y.push(new v(b[0].x,b[0].y));const ae=b.length,fe=V?ae:ae-1;for(let he=0;he<fe;he++){const me=b[he],Oe=he<ae-1?b[he+1]:b[0],Ae=me.x,$e=me.y,De=Oe.x,Xe=Oe.y,at=Ae!==De,Ot=$e!==Xe;if(!at&&!Ot)continue;const gt=De-Ae,Me=Xe-$e,Ke=Math.abs(gt),dt=Math.abs(Me);let Wt=Ae,jn=$e;for(;;){const yn=gt>0?(Math.floor(Wt/G)+1)*G:(Math.ceil(Wt/G)-1)*G,Vn=Me>0?(Math.floor(jn/G)+1)*G:(Math.ceil(jn/G)-1)*G,Bn=Math.abs(Wt-yn),Kn=Math.abs(jn-Vn),Sn=Math.abs(Wt-De),dr=Math.abs(jn-Xe),Fr=at?Bn/Ke:Number.POSITIVE_INFINITY,kr=Ot?Kn/dt:Number.POSITIVE_INFINITY;if((Sn<=Bn||!at)&&(dr<=Kn||!Ot))break;if(Fr<kr&&at||!Ot){Wt=yn,jn+=Me*Fr;const Mr=new v(Wt,Math.round(jn));Y[Y.length-1].x===Mr.x&&Y[Y.length-1].y===Mr.y||Y.push(Mr)}else{Wt+=gt*kr,jn=Vn;const Mr=new v(Math.round(Wt),jn);Y[Y.length-1].x===Mr.x&&Y[Y.length-1].y===Mr.y||Y.push(Mr)}}const cn=new v(De,Xe);Y[Y.length-1].x===cn.x&&Y[Y.length-1].y===cn.y||Y.push(cn)}return Y}function ov(b,p,_){if(p.length===0)throw new Error("Subdivision vertex ring is empty.");let O=0,k=b[2*p[0]];for(let ae=1;ae<p.length;ae++){const fe=b[2*p[ae]];fe<k&&(k=fe,O=ae)}const V=p.length;let G=O,Y=(G+1)%V;for(;;){const ae=G-1>=0?G-1:V-1,fe=(Y+1)%V,he=b[2*p[ae]],me=b[2*p[fe]],Oe=b[2*p[G]],Ae=b[2*p[G]+1],$e=b[2*p[Y]+1];let De=!1;if(he<me)De=!0;else if(he>me)De=!1;else{const Xe=$e-Ae,at=-(b[2*p[Y]]-Oe),Ot=Ae<$e?1:-1;((he-Oe)*Xe+(b[2*p[ae]+1]-Ae)*at)*Ot>((me-Oe)*Xe+(b[2*p[fe]+1]-Ae)*at)*Ot&&(De=!0)}if(De){const Xe=p[ae],at=p[G],Ot=p[Y];Xe!==at&&Xe!==Ot&&at!==Ot&&_.push(Ot,at,Xe),G--,G<0&&(G=V-1)}else{const Xe=p[fe],at=p[G],Ot=p[Y];Xe!==at&&Xe!==Ot&&at!==Ot&&_.push(Ot,at,Xe),Y++,Y>=V&&(Y=0)}if(ae===fe)break}}function sv(b,p,_,O,k,V,G,Y,ae){const fe=k.length/2,he=G&&Y&&ae;if(fe<vi.MAX_VERTEX_ARRAY_LENGTH){const me=p.prepareSegment(fe,_,O),Oe=me.vertexLength;for(let De=0;De<V.length;De+=3)O.emplaceBack(Oe+V[De],Oe+V[De+1],Oe+V[De+2]);let Ae,$e;me.vertexLength+=fe,me.primitiveLength+=V.length/3,he&&($e=G.prepareSegment(fe,_,Y),Ae=$e.vertexLength,$e.vertexLength+=fe);for(let De=0;De<k.length;De+=2)b(k[De],k[De+1]);if(he)for(let De=0;De<ae.length;De++){const Xe=ae[De];for(let at=1;at<Xe.length;at+=2)Y.emplaceBack(Ae+Xe[at-1],Ae+Xe[at]);$e.primitiveLength+=Xe.length/2}}else(function(me,Oe,Ae,$e,De,Xe){const at=[];for(let dt=0;dt<$e.length/2;dt++)at.push(-1);const Ot={count:0};let gt=0,Me=me.getOrCreateLatestSegment(Oe,Ae),Ke=Me.vertexLength;for(let dt=2;dt<De.length;dt+=3){const Wt=De[dt-2],jn=De[dt-1],cn=De[dt];let yn=at[Wt]<gt,Vn=at[jn]<gt,Bn=at[cn]<gt;Me.vertexLength+((yn?1:0)+(Vn?1:0)+(Bn?1:0))>vi.MAX_VERTEX_ARRAY_LENGTH&&(Me=me.createNewSegment(Oe,Ae),gt=Ot.count,yn=!0,Vn=!0,Bn=!0,Ke=0);const Kn=kp(at,$e,Xe,Ot,Wt,yn,Me),Sn=kp(at,$e,Xe,Ot,jn,Vn,Me),dr=kp(at,$e,Xe,Ot,cn,Bn,Me);Ae.emplaceBack(Ke+Kn-gt,Ke+Sn-gt,Ke+dr-gt),Me.primitiveLength++}})(p,_,O,k,V,b),he&&function(me,Oe,Ae,$e,De,Xe){const at=[];for(let dt=0;dt<$e.length/2;dt++)at.push(-1);const Ot={count:0};let gt=0,Me=me.getOrCreateLatestSegment(Oe,Ae),Ke=Me.vertexLength;for(let dt=0;dt<De.length;dt++){const Wt=De[dt];for(let jn=1;jn<De[dt].length;jn+=2){const cn=Wt[jn-1],yn=Wt[jn];let Vn=at[cn]<gt,Bn=at[yn]<gt;Me.vertexLength+((Vn?1:0)+(Bn?1:0))>vi.MAX_VERTEX_ARRAY_LENGTH&&(Me=me.createNewSegment(Oe,Ae),gt=Ot.count,Vn=!0,Bn=!0,Ke=0);const Kn=kp(at,$e,Xe,Ot,cn,Vn,Me),Sn=kp(at,$e,Xe,Ot,yn,Bn,Me);Ae.emplaceBack(Ke+Kn-gt,Ke+Sn-gt),Me.primitiveLength++}}}(G,_,Y,k,ae,b),p.forceNewSegmentOnNextPrepare(),G?.forceNewSegmentOnNextPrepare()}function kp(b,p,_,O,k,V,G){if(V){const Y=O.count;return _(p[2*k],p[2*k+1]),b[k]=O.count,O.count++,G.vertexLength++,Y}return b[k]}class Jg{constructor(p){this.zoom=p.zoom,this.overscaling=p.overscaling,this.layers=p.layers,this.layerIds=this.layers.map(_=>_.id),this.index=p.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Et,this.indexArray=new Nn,this.indexArray2=new yr,this.programConfigurations=new Du(p.layers,p.zoom),this.segments=new vi,this.segments2=new vi,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(p,_,O){this.hasPattern=Ip("fill",this.layers,_);const k=this.layers[0].layout.get("fill-sort-key"),V=!k.isConstant(),G=[];for(const{feature:Y,id:ae,index:fe,sourceLayerIndex:he}of p){const me=this.layers[0]._featureFilter.needGeometry,Oe=zu(Y,me);if(!this.layers[0]._featureFilter.filter(new ho(this.zoom),Oe,O))continue;const Ae=V?k.evaluate(Oe,{},O,_.availableImages):void 0,$e={id:ae,properties:Y.properties,type:Y.type,sourceLayerIndex:he,index:fe,geometry:me?Oe.geometry:As(Y),patterns:{},sortKey:Ae};G.push($e)}V&&G.sort((Y,ae)=>Y.sortKey-ae.sortKey);for(const Y of G){const{geometry:ae,index:fe,sourceLayerIndex:he}=Y;if(this.hasPattern){const me=iv("fill",this.layers,Y,this.zoom,_);this.patternFeatures.push(me)}else this.addFeature(Y,ae,fe,O,{},_.subdivisionGranularity);_.featureIndex.insert(p[fe].feature,ae,fe,he,this.index)}}update(p,_,O){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(p,_,this.stateDependentLayers,O)}addFeatures(p,_,O){for(const k of this.patternFeatures)this.addFeature(k,k.geometry,k.index,_,O,p.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(p){this.uploaded||(this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,Yr),this.indexBuffer=p.createIndexBuffer(this.indexArray),this.indexBuffer2=p.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(p),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(p,_,O,k,V,G){for(const Y of tf(_,500)){const ae=H0(Y,k,G.fill.getGranularityForZoomLevel(k.z)),fe=this.layoutVertexArray;sv((he,me)=>{fe.emplaceBack(he,me)},this.segments,this.layoutVertexArray,this.indexArray,ae.verticesFlattened,ae.indicesTriangles,this.segments2,this.indexArray2,ae.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,p,O,V,k)}}let lv,cd;lr("FillBucket",Jg,{omit:["layers","patternFeatures"]});var oo={get paint(){return cd=cd||new Ts({"fill-antialias":new vr(xe.paint_fill["fill-antialias"]),"fill-opacity":new wr(xe.paint_fill["fill-opacity"]),"fill-color":new wr(xe.paint_fill["fill-color"]),"fill-outline-color":new wr(xe.paint_fill["fill-outline-color"]),"fill-translate":new vr(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new vr(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hg(xe.paint_fill["fill-pattern"])})},get layout(){return lv=lv||new Ts({"fill-sort-key":new wr(xe.layout_fill["fill-sort-key"])})}};class Fh extends ul{constructor(p){super(p,oo)}recalculate(p,_){super.recalculate(p,_);const O=this.paint._values["fill-outline-color"];O.value.kind==="constant"&&O.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(p){return new Jg(p)}queryRadius(){return Mp(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:p,geometry:_,transform:O,pixelsToTileUnits:k}){return q1(Ap(p,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-O.bearingInRadians,k),_)}isTileClipped(){return!0}}const Kx=Xr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Cl=Xr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Z2}=Kx;var hb,n_,Zo,Hc,ud,r_,i_,pb={};function gb(){if(n_)return hb;n_=1;var b=d();function p(k,V,G,Y,ae){this.properties={},this.extent=G,this.type=0,this._pbf=k,this._geometry=-1,this._keys=Y,this._values=ae,k.readFields(_,this,V)}function _(k,V,G){k==1?V.id=G.readVarint():k==2?function(Y,ae){for(var fe=Y.readVarint()+Y.pos;Y.pos<fe;){var he=ae._keys[Y.readVarint()],me=ae._values[Y.readVarint()];ae.properties[he]=me}}(G,V):k==3?V.type=G.readVarint():k==4&&(V._geometry=G.pos)}function O(k){for(var V,G,Y=0,ae=0,fe=k.length,he=fe-1;ae<fe;he=ae++)Y+=((G=k[he]).x-(V=k[ae]).x)*(V.y+G.y);return Y}return hb=p,p.types=["Unknown","Point","LineString","Polygon"],p.prototype.loadGeometry=function(){var k=this._pbf;k.pos=this._geometry;for(var V,G=k.readVarint()+k.pos,Y=1,ae=0,fe=0,he=0,me=[];k.pos<G;){if(ae<=0){var Oe=k.readVarint();Y=7&Oe,ae=Oe>>3}if(ae--,Y===1||Y===2)fe+=k.readSVarint(),he+=k.readSVarint(),Y===1&&(V&&me.push(V),V=[]),V.push(new b(fe,he));else{if(Y!==7)throw new Error("unknown command "+Y);V&&V.push(V[0].clone())}}return V&&me.push(V),me},p.prototype.bbox=function(){var k=this._pbf;k.pos=this._geometry;for(var V=k.readVarint()+k.pos,G=1,Y=0,ae=0,fe=0,he=1/0,me=-1/0,Oe=1/0,Ae=-1/0;k.pos<V;){if(Y<=0){var $e=k.readVarint();G=7&$e,Y=$e>>3}if(Y--,G===1||G===2)(ae+=k.readSVarint())<he&&(he=ae),ae>me&&(me=ae),(fe+=k.readSVarint())<Oe&&(Oe=fe),fe>Ae&&(Ae=fe);else if(G!==7)throw new Error("unknown command "+G)}return[he,Oe,me,Ae]},p.prototype.toGeoJSON=function(k,V,G){var Y,ae,fe=this.extent*Math.pow(2,G),he=this.extent*k,me=this.extent*V,Oe=this.loadGeometry(),Ae=p.types[this.type];function $e(at){for(var Ot=0;Ot<at.length;Ot++){var gt=at[Ot];at[Ot]=[360*(gt.x+he)/fe-180,360/Math.PI*Math.atan(Math.exp((180-360*(gt.y+me)/fe)*Math.PI/180))-90]}}switch(this.type){case 1:var De=[];for(Y=0;Y<Oe.length;Y++)De[Y]=Oe[Y][0];$e(Oe=De);break;case 2:for(Y=0;Y<Oe.length;Y++)$e(Oe[Y]);break;case 3:for(Oe=function(at){var Ot=at.length;if(Ot<=1)return[at];for(var gt,Me,Ke=[],dt=0;dt<Ot;dt++){var Wt=O(at[dt]);Wt!==0&&(Me===void 0&&(Me=Wt<0),Me===Wt<0?(gt&&Ke.push(gt),gt=[at[dt]]):gt.push(at[dt]))}return gt&&Ke.push(gt),Ke}(Oe),Y=0;Y<Oe.length;Y++)for(ae=0;ae<Oe[Y].length;ae++)$e(Oe[Y][ae])}Oe.length===1?Oe=Oe[0]:Ae="Multi"+Ae;var Xe={type:"Feature",geometry:{type:Ae,coordinates:Oe},properties:this.properties};return"id"in this&&(Xe.id=this.id),Xe},hb}function uu(){if(Hc)return Zo;Hc=1;var b=gb();function p(O,k){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=O,this._keys=[],this._values=[],this._features=[],O.readFields(_,this,k),this.length=this._features.length}function _(O,k,V){O===15?k.version=V.readVarint():O===1?k.name=V.readString():O===5?k.extent=V.readVarint():O===2?k._features.push(V.pos):O===3?k._keys.push(V.readString()):O===4&&k._values.push(function(G){for(var Y=null,ae=G.readVarint()+G.pos;G.pos<ae;){var fe=G.readVarint()>>3;Y=fe===1?G.readString():fe===2?G.readFloat():fe===3?G.readDouble():fe===4?G.readVarint64():fe===5?G.readVarint():fe===6?G.readSVarint():fe===7?G.readBoolean():null}return Y}(V))}return Zo=p,p.prototype.feature=function(O){if(O<0||O>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[O];var k=this._pbf.readVarint()+this._pbf.pos;return new b(this._pbf,k,this.extent,this._keys,this._values)},Zo}function Fu(){return i_||(i_=1,pb.VectorTile=function(){if(r_)return ud;r_=1;var b=uu();function p(_,O,k){if(_===3){var V=new b(k,k.readVarint()+k.pos);V.length&&(O[V.name]=V)}}return ud=function(_,O){this.layers=_.readFields(p,{},O)},ud}(),pb.VectorTileFeature=gb(),pb.VectorTileLayer=uu()),pb}var em=l(Fu());const fu=em.VectorTileFeature.types,mb=Math.pow(2,13);function Cf(b,p,_,O,k,V,G,Y){b.emplaceBack(p,_,2*Math.floor(O*mb)+G,k*mb*2,V*mb*2,Math.round(Y))}class Hh{constructor(p){this.zoom=p.zoom,this.overscaling=p.overscaling,this.layers=p.layers,this.layerIds=this.layers.map(_=>_.id),this.index=p.index,this.hasPattern=!1,this.layoutVertexArray=new Pt,this.centroidVertexArray=new bt,this.indexArray=new Nn,this.programConfigurations=new Du(p.layers,p.zoom),this.segments=new vi,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(p,_,O){this.features=[],this.hasPattern=Ip("fill-extrusion",this.layers,_);for(const{feature:k,id:V,index:G,sourceLayerIndex:Y}of p){const ae=this.layers[0]._featureFilter.needGeometry,fe=zu(k,ae);if(!this.layers[0]._featureFilter.filter(new ho(this.zoom),fe,O))continue;const he={id:V,sourceLayerIndex:Y,index:G,geometry:ae?fe.geometry:As(k),properties:k.properties,type:k.type,patterns:{}};this.hasPattern?this.features.push(iv("fill-extrusion",this.layers,he,this.zoom,_)):this.addFeature(he,he.geometry,G,O,{},_.subdivisionGranularity),_.featureIndex.insert(k,he.geometry,G,Y,this.index,!0)}}addFeatures(p,_,O){for(const k of this.features){const{geometry:V}=k;this.addFeature(k,V,k.index,_,O,p.subdivisionGranularity)}}update(p,_,O){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(p,_,this.stateDependentLayers,O)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(p){this.uploaded||(this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,Z2),this.centroidVertexBuffer=p.createVertexBuffer(this.centroidVertexArray,Cl.members,!0),this.indexBuffer=p.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(p),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(p,_,O,k,V,G){for(const Y of tf(_,500)){const ae={x:0,y:0,sampleCount:0},fe=this.layoutVertexArray.length;this.processPolygon(ae,k,p,Y,G);const he=this.layoutVertexArray.length-fe,me=Math.floor(ae.x/ae.sampleCount),Oe=Math.floor(ae.y/ae.sampleCount);for(let Ae=0;Ae<he;Ae++)this.centroidVertexArray.emplaceBack(me,Oe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,p,O,V,k)}processPolygon(p,_,O,k,V){if(k.length<1||vb(k[0]))return;for(const me of k)me.length!==0&&Vh(p,me);const G={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},Y=V.fill.getGranularityForZoomLevel(_.z),ae=fu[O.type]==="Polygon";for(const me of k){if(me.length===0||vb(me))continue;const Oe=Xd(me,Y,ae);this._generateSideFaces(Oe,G)}if(!ae)return;const fe=H0(k,_,Y,!1),he=this.layoutVertexArray;sv((me,Oe)=>{Cf(he,me,Oe,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,fe.verticesFlattened,fe.indicesTriangles)}_generateSideFaces(p,_){let O=0;for(let k=1;k<p.length;k++){const V=p[k],G=p[k-1];if(a_(V,G))continue;_.segment.vertexLength+4>vi.MAX_VERTEX_ARRAY_LENGTH&&(_.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Y=V.sub(G)._perp()._unit(),ae=G.dist(V);O+ae>32768&&(O=0),Cf(this.layoutVertexArray,V.x,V.y,Y.x,Y.y,0,0,O),Cf(this.layoutVertexArray,V.x,V.y,Y.x,Y.y,0,1,O),O+=ae,Cf(this.layoutVertexArray,G.x,G.y,Y.x,Y.y,0,0,O),Cf(this.layoutVertexArray,G.x,G.y,Y.x,Y.y,0,1,O);const fe=_.segment.vertexLength;this.indexArray.emplaceBack(fe,fe+2,fe+1),this.indexArray.emplaceBack(fe+1,fe+2,fe+3),_.segment.vertexLength+=4,_.segment.primitiveLength+=2}}}function Vh(b,p){for(let _=0;_<p.length;_++){const O=p[_];_===p.length-1&&p[0].x===O.x&&p[0].y===O.y||(b.x+=O.x,b.y+=O.y,b.sampleCount++)}}function a_(b,p){return b.x===p.x&&(b.x<0||b.x>Z)||b.y===p.y&&(b.y<0||b.y>Z)}function vb(b){return b.every(p=>p.x<0)||b.every(p=>p.x>Z)||b.every(p=>p.y<0)||b.every(p=>p.y>Z)}let fd;lr("FillExtrusionBucket",Hh,{omit:["layers","features"]});var Yx={get paint(){return fd=fd||new Ts({"fill-extrusion-opacity":new vr(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new wr(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new vr(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new vr(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hg(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new wr(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new wr(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new vr(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class cv extends ul{constructor(p){super(p,Yx)}createBucket(p){return new Hh(p)}queryRadius(){return Mp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:p,feature:_,featureState:O,geometry:k,transform:V,pixelsToTileUnits:G,pixelPosMatrix:Y}){const ae=Ap(p,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-V.bearingInRadians,G),fe=this.paint.get("fill-extrusion-height").evaluate(_,O),he=this.paint.get("fill-extrusion-base").evaluate(_,O),me=function(Ae,$e,De){const Xe=[];for(const at of Ae){const Ot=[at.x,at.y,0,1];Q(Ot,Ot,$e),Xe.push(new v(Ot[0]/Ot[3],Ot[1]/Ot[3]))}return Xe}(ae,Y),Oe=function(Ae,$e,De,Xe){const at=[],Ot=[],gt=Xe[8]*$e,Me=Xe[9]*$e,Ke=Xe[10]*$e,dt=Xe[11]*$e,Wt=Xe[8]*De,jn=Xe[9]*De,cn=Xe[10]*De,yn=Xe[11]*De;for(const Vn of Ae){const Bn=[],Kn=[];for(const Sn of Vn){const dr=Sn.x,Fr=Sn.y,kr=Xe[0]*dr+Xe[4]*Fr+Xe[12],Mr=Xe[1]*dr+Xe[5]*Fr+Xe[13],Di=Xe[2]*dr+Xe[6]*Fr+Xe[14],Fo=Xe[3]*dr+Xe[7]*Fr+Xe[15],Ps=Di+Ke,El=Fo+dt,Sc=kr+Wt,Gc=Mr+jn,_s=Di+cn,Oo=Fo+yn,Bs=new v((kr+gt)/El,(Mr+Me)/El);Bs.z=Ps/El,Bn.push(Bs);const js=new v(Sc/Oo,Gc/Oo);js.z=_s/Oo,Kn.push(js)}at.push(Bn),Ot.push(Kn)}return[at,Ot]}(k,he,fe,Y);return function(Ae,$e,De){let Xe=1/0;q1(De,$e)&&(Xe=ec(De,$e[0]));for(let at=0;at<$e.length;at++){const Ot=$e[at],gt=Ae[at];for(let Me=0;Me<Ot.length-1;Me++){const Ke=Ot[Me],dt=[Ke,Ot[Me+1],gt[Me+1],gt[Me],Ke];Tp(De,dt)&&(Xe=Math.min(Xe,ec(De,dt)))}}return Xe!==1/0&&Xe}(Oe[0],Oe[1],me)}}function Uh(b,p){return b.x*p.x+b.y*p.y}function ec(b,p){if(b.length===1){let _=0;const O=p[_++];let k;for(;!k||O.equals(k);)if(k=p[_++],!k)return 1/0;for(;_<p.length;_++){const V=p[_],G=b[0],Y=k.sub(O),ae=V.sub(O),fe=G.sub(O),he=Uh(Y,Y),me=Uh(Y,ae),Oe=Uh(ae,ae),Ae=Uh(fe,Y),$e=Uh(fe,ae),De=he*Oe-me*me,Xe=(Oe*Ae-me*$e)/De,at=(he*$e-me*Ae)/De,Ot=O.z*(1-Xe-at)+k.z*Xe+V.z*at;if(isFinite(Ot))return Ot}return 1/0}{let _=1/0;for(const O of p)_=Math.min(_,O.z);return _}}const uv=Xr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Xx}=uv,Zx=Xr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:fv}=Zx,Qx=em.VectorTileFeature.types,yb=Math.cos(Math.PI/180*37.5),o_=Math.pow(2,14)/.5;class s_{constructor(p){this.zoom=p.zoom,this.overscaling=p.overscaling,this.layers=p.layers,this.layerIds=this.layers.map(_=>_.id),this.index=p.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(_=>{this.gradients[_.id]={}}),this.layoutVertexArray=new Mt,this.layoutVertexArray2=new en,this.indexArray=new Nn,this.programConfigurations=new Du(p.layers,p.zoom),this.segments=new vi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(p,_,O){this.hasPattern=Ip("line",this.layers,_);const k=this.layers[0].layout.get("line-sort-key"),V=!k.isConstant(),G=[];for(const{feature:Y,id:ae,index:fe,sourceLayerIndex:he}of p){const me=this.layers[0]._featureFilter.needGeometry,Oe=zu(Y,me);if(!this.layers[0]._featureFilter.filter(new ho(this.zoom),Oe,O))continue;const Ae=V?k.evaluate(Oe,{},O):void 0,$e={id:ae,properties:Y.properties,type:Y.type,sourceLayerIndex:he,index:fe,geometry:me?Oe.geometry:As(Y),patterns:{},sortKey:Ae};G.push($e)}V&&G.sort((Y,ae)=>Y.sortKey-ae.sortKey);for(const Y of G){const{geometry:ae,index:fe,sourceLayerIndex:he}=Y;if(this.hasPattern){const me=iv("line",this.layers,Y,this.zoom,_);this.patternFeatures.push(me)}else this.addFeature(Y,ae,fe,O,{},_.subdivisionGranularity);_.featureIndex.insert(p[fe].feature,ae,fe,he,this.index)}}update(p,_,O){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(p,_,this.stateDependentLayers,O)}addFeatures(p,_,O){for(const k of this.patternFeatures)this.addFeature(k,k.geometry,k.index,_,O,p.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(p){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=p.createVertexBuffer(this.layoutVertexArray2,fv)),this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,Xx),this.indexBuffer=p.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(p),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(p){if(p.properties&&Object.prototype.hasOwnProperty.call(p.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(p.properties,"mapbox_clip_end"))return{start:+p.properties.mapbox_clip_start,end:+p.properties.mapbox_clip_end}}addFeature(p,_,O,k,V,G){const Y=this.layers[0].layout,ae=Y.get("line-join").evaluate(p,{}),fe=Y.get("line-cap"),he=Y.get("line-miter-limit"),me=Y.get("line-round-limit");this.lineClips=this.lineFeatureClips(p);for(const Oe of _)this.addLine(Oe,p,ae,fe,he,me,k,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,p,O,V,k)}addLine(p,_,O,k,V,G,Y,ae){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,p=Xd(p,Y?ae.line.getGranularityForZoomLevel(Y.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let gt=0;gt<p.length-1;gt++)this.totalDistance+=p[gt].dist(p[gt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const fe=Qx[_.type]==="Polygon";let he=p.length;for(;he>=2&&p[he-1].equals(p[he-2]);)he--;let me=0;for(;me<he-1&&p[me].equals(p[me+1]);)me++;if(he<(fe?3:2))return;O==="bevel"&&(V=1.05);const Oe=this.overscaling<=16?15*Z/(512*this.overscaling):0,Ae=this.segments.prepareSegment(10*he,this.layoutVertexArray,this.indexArray);let $e,De,Xe,at,Ot;this.e1=this.e2=-1,fe&&($e=p[he-2],Ot=p[me].sub($e)._unit()._perp());for(let gt=me;gt<he;gt++){if(Xe=gt===he-1?fe?p[me+1]:void 0:p[gt+1],Xe&&p[gt].equals(Xe))continue;Ot&&(at=Ot),$e&&(De=$e),$e=p[gt],Ot=Xe?Xe.sub($e)._unit()._perp():at,at=at||Ot;let Me=at.add(Ot);Me.x===0&&Me.y===0||Me._unit();const Ke=at.x*Ot.x+at.y*Ot.y,dt=Me.x*Ot.x+Me.y*Ot.y,Wt=dt!==0?1/dt:1/0,jn=2*Math.sqrt(2-2*dt),cn=dt<yb&&De&&Xe,yn=at.x*Ot.y-at.y*Ot.x>0;if(cn&&gt>me){const Kn=$e.dist(De);if(Kn>2*Oe){const Sn=$e.sub($e.sub(De)._mult(Oe/Kn)._round());this.updateDistance(De,Sn),this.addCurrentVertex(Sn,at,0,0,Ae),De=Sn}}const Vn=De&&Xe;let Bn=Vn?O:fe?"butt":k;if(Vn&&Bn==="round"&&(Wt<G?Bn="miter":Wt<=2&&(Bn="fakeround")),Bn==="miter"&&Wt>V&&(Bn="bevel"),Bn==="bevel"&&(Wt>2&&(Bn="flipbevel"),Wt<V&&(Bn="miter")),De&&this.updateDistance(De,$e),Bn==="miter")Me._mult(Wt),this.addCurrentVertex($e,Me,0,0,Ae);else if(Bn==="flipbevel"){if(Wt>100)Me=Ot.mult(-1);else{const Kn=Wt*at.add(Ot).mag()/at.sub(Ot).mag();Me._perp()._mult(Kn*(yn?-1:1))}this.addCurrentVertex($e,Me,0,0,Ae),this.addCurrentVertex($e,Me.mult(-1),0,0,Ae)}else if(Bn==="bevel"||Bn==="fakeround"){const Kn=-Math.sqrt(Wt*Wt-1),Sn=yn?Kn:0,dr=yn?0:Kn;if(De&&this.addCurrentVertex($e,at,Sn,dr,Ae),Bn==="fakeround"){const Fr=Math.round(180*jn/Math.PI/20);for(let kr=1;kr<Fr;kr++){let Mr=kr/Fr;if(Mr!==.5){const Fo=Mr-.5;Mr+=Mr*Fo*(Mr-1)*((1.0904+Ke*(Ke*(3.55645-1.43519*Ke)-3.2452))*Fo*Fo+(.848013+Ke*(.215638*Ke-1.06021)))}const Di=Ot.sub(at)._mult(Mr)._add(at)._unit()._mult(yn?-1:1);this.addHalfVertex($e,Di.x,Di.y,!1,yn,0,Ae)}}Xe&&this.addCurrentVertex($e,Ot,-Sn,-dr,Ae)}else if(Bn==="butt")this.addCurrentVertex($e,Me,0,0,Ae);else if(Bn==="square"){const Kn=De?1:-1;this.addCurrentVertex($e,Me,Kn,Kn,Ae)}else Bn==="round"&&(De&&(this.addCurrentVertex($e,at,0,0,Ae),this.addCurrentVertex($e,at,1,1,Ae,!0)),Xe&&(this.addCurrentVertex($e,Ot,-1,-1,Ae,!0),this.addCurrentVertex($e,Ot,0,0,Ae)));if(cn&&gt<he-1){const Kn=$e.dist(Xe);if(Kn>2*Oe){const Sn=$e.add(Xe.sub($e)._mult(Oe/Kn)._round());this.updateDistance($e,Sn),this.addCurrentVertex(Sn,Ot,0,0,Ae),$e=Sn}}}}addCurrentVertex(p,_,O,k,V,G=!1){const Y=_.y*k-_.x,ae=-_.y-_.x*k;this.addHalfVertex(p,_.x+_.y*O,_.y-_.x*O,G,!1,O,V),this.addHalfVertex(p,Y,ae,G,!0,-k,V),this.distance>o_/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(p,_,O,k,V,G))}addHalfVertex({x:p,y:_},O,k,V,G,Y,ae){const fe=.5*(this.lineClips?this.scaledDistance*(o_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((p<<1)+(V?1:0),(_<<1)+(G?1:0),Math.round(63*O)+128,Math.round(63*k)+128,1+(Y===0?0:Y<0?-1:1)|(63&fe)<<2,fe>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const he=ae.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,he,this.e2),ae.primitiveLength++),G?this.e2=he:this.e1=he}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(p,_){this.distance+=p.dist(_),this.updateScaledDistance()}}let bb,so;lr("LineBucket",s_,{omit:["layers","patternFeatures"]});var zo={get paint(){return so=so||new Ts({"line-opacity":new wr(xe.paint_line["line-opacity"]),"line-color":new wr(xe.paint_line["line-color"]),"line-translate":new vr(xe.paint_line["line-translate"]),"line-translate-anchor":new vr(xe.paint_line["line-translate-anchor"]),"line-width":new wr(xe.paint_line["line-width"]),"line-gap-width":new wr(xe.paint_line["line-gap-width"]),"line-offset":new wr(xe.paint_line["line-offset"]),"line-blur":new wr(xe.paint_line["line-blur"]),"line-dasharray":new Vg(xe.paint_line["line-dasharray"]),"line-pattern":new Hg(xe.paint_line["line-pattern"]),"line-gradient":new rd(xe.paint_line["line-gradient"])})},get layout(){return bb=bb||new Ts({"line-cap":new vr(xe.layout_line["line-cap"]),"line-join":new wr(xe.layout_line["line-join"]),"line-miter-limit":new vr(xe.layout_line["line-miter-limit"]),"line-round-limit":new vr(xe.layout_line["line-round-limit"]),"line-sort-key":new wr(xe.layout_line["line-sort-key"])})}};class ua extends wr{possiblyEvaluate(p,_){return _=new ho(Math.floor(_.zoom),{now:_.now,fadeDuration:_.fadeDuration,zoomHistory:_.zoomHistory,transition:_.transition}),super.possiblyEvaluate(p,_)}evaluate(p,_,O,k){return _=Re({},_,{zoom:Math.floor(_.zoom)}),super.evaluate(p,_,O,k)}}let fa;class po extends ul{constructor(p){super(p,zo),this.gradientVersion=0,fa||(fa=new ua(zo.paint.properties["line-width"].specification),fa.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(p){if(p==="line-gradient"){const _=this.gradientExpression();this.stepInterpolant=!!function(O){return O._styleExpression!==void 0}(_)&&_._styleExpression.expression instanceof Gf,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(p,_){super.recalculate(p,_),this.paint._values["line-floorwidth"]=fa.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,p)}createBucket(p){return new s_(p)}queryRadius(p){const _=p,O=du(Gd("line-width",this,_),Gd("line-gap-width",this,_)),k=Gd("line-offset",this,_);return O/2+Math.abs(k)+Mp(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:p,feature:_,featureState:O,geometry:k,transform:V,pixelsToTileUnits:G}){const Y=Ap(p,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-V.bearingInRadians,G),ae=G/2*du(this.paint.get("line-width").evaluate(_,O),this.paint.get("line-gap-width").evaluate(_,O)),fe=this.paint.get("line-offset").evaluate(_,O);return fe&&(k=function(he,me){const Oe=[];for(let Ae=0;Ae<he.length;Ae++){const $e=he[Ae],De=[];for(let Xe=0;Xe<$e.length;Xe++){const at=$e[Xe-1],Ot=$e[Xe],gt=$e[Xe+1],Me=Xe===0?new v(0,0):Ot.sub(at)._unit()._perp(),Ke=Xe===$e.length-1?new v(0,0):gt.sub(Ot)._unit()._perp(),dt=Me._add(Ke)._unit(),Wt=dt.x*Ke.x+dt.y*Ke.y;Wt!==0&&dt._mult(1/Wt),De.push(dt._mult(me)._add(Ot))}Oe.push(De)}return Oe}(k,fe*G)),function(he,me,Oe){for(let Ae=0;Ae<me.length;Ae++){const $e=me[Ae];if(he.length>=3){for(let De=0;De<$e.length;De++)if(Co(he,$e[De]))return!0}if(Bu(he,$e,Oe))return!0}return!1}(Y,k,ae)}isTileClipped(){return!0}}function du(b,p){return p>0?p+2*b:b}const Lp=Xr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),dv=Xr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Xr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const l_=Xr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Xr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Zd=Xr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),zs=Xr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Np(b,p,_){return b.sections.forEach(O=>{O.text=function(k,V,G){const Y=V.layout.get("text-transform").evaluate(G,{});return Y==="uppercase"?k=k.toLocaleUpperCase():Y==="lowercase"&&(k=k.toLocaleLowerCase()),gf.applyArabicShaping&&(k=gf.applyArabicShaping(k)),k}(O.text,p,_)}),b}Xr([{name:"triangle",components:3,type:"Uint16"}]),Xr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Xr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Xr([{type:"Float32",name:"offsetX"}]),Xr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Xr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const dd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var _b,hu,tm,as=24,xc={};function c_(){return _b||(_b=1,xc.read=function(b,p,_,O,k){var V,G,Y=8*k-O-1,ae=(1<<Y)-1,fe=ae>>1,he=-7,me=_?k-1:0,Oe=_?-1:1,Ae=b[p+me];for(me+=Oe,V=Ae&(1<<-he)-1,Ae>>=-he,he+=Y;he>0;V=256*V+b[p+me],me+=Oe,he-=8);for(G=V&(1<<-he)-1,V>>=-he,he+=O;he>0;G=256*G+b[p+me],me+=Oe,he-=8);if(V===0)V=1-fe;else{if(V===ae)return G?NaN:1/0*(Ae?-1:1);G+=Math.pow(2,O),V-=fe}return(Ae?-1:1)*G*Math.pow(2,V-O)},xc.write=function(b,p,_,O,k,V){var G,Y,ae,fe=8*V-k-1,he=(1<<fe)-1,me=he>>1,Oe=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ae=O?0:V-1,$e=O?1:-1,De=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(Y=isNaN(p)?1:0,G=he):(G=Math.floor(Math.log(p)/Math.LN2),p*(ae=Math.pow(2,-G))<1&&(G--,ae*=2),(p+=G+me>=1?Oe/ae:Oe*Math.pow(2,1-me))*ae>=2&&(G++,ae/=2),G+me>=he?(Y=0,G=he):G+me>=1?(Y=(p*ae-1)*Math.pow(2,k),G+=me):(Y=p*Math.pow(2,me-1)*Math.pow(2,k),G=0));k>=8;b[_+Ae]=255&Y,Ae+=$e,Y/=256,k-=8);for(G=G<<k|Y,fe+=k;fe>0;b[_+Ae]=255&G,Ae+=$e,G/=256,fe-=8);b[_+Ae-$e]|=128*De}),xc}function xb(){if(tm)return hu;tm=1,hu=p;var b=c_();function p(Me){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Me)?Me:new Uint8Array(Me||0),this.pos=0,this.type=0,this.length=this.buf.length}p.Varint=0,p.Fixed64=1,p.Bytes=2,p.Fixed32=5;var _=4294967296,O=1/_,k=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function V(Me){return Me.type===p.Bytes?Me.readVarint()+Me.pos:Me.pos+1}function G(Me,Ke,dt){return dt?4294967296*Ke+(Me>>>0):4294967296*(Ke>>>0)+(Me>>>0)}function Y(Me,Ke,dt){var Wt=Ke<=16383?1:Ke<=2097151?2:Ke<=268435455?3:Math.floor(Math.log(Ke)/(7*Math.LN2));dt.realloc(Wt);for(var jn=dt.pos-1;jn>=Me;jn--)dt.buf[jn+Wt]=dt.buf[jn]}function ae(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeVarint(Me[dt])}function fe(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeSVarint(Me[dt])}function he(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeFloat(Me[dt])}function me(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeDouble(Me[dt])}function Oe(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeBoolean(Me[dt])}function Ae(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeFixed32(Me[dt])}function $e(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeSFixed32(Me[dt])}function De(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeFixed64(Me[dt])}function Xe(Me,Ke){for(var dt=0;dt<Me.length;dt++)Ke.writeSFixed64(Me[dt])}function at(Me,Ke){return(Me[Ke]|Me[Ke+1]<<8|Me[Ke+2]<<16)+16777216*Me[Ke+3]}function Ot(Me,Ke,dt){Me[dt]=Ke,Me[dt+1]=Ke>>>8,Me[dt+2]=Ke>>>16,Me[dt+3]=Ke>>>24}function gt(Me,Ke){return(Me[Ke]|Me[Ke+1]<<8|Me[Ke+2]<<16)+(Me[Ke+3]<<24)}return p.prototype={destroy:function(){this.buf=null},readFields:function(Me,Ke,dt){for(dt=dt||this.length;this.pos<dt;){var Wt=this.readVarint(),jn=Wt>>3,cn=this.pos;this.type=7&Wt,Me(jn,Ke,this),this.pos===cn&&this.skip(Wt)}return Ke},readMessage:function(Me,Ke){return this.readFields(Me,Ke,this.readVarint()+this.pos)},readFixed32:function(){var Me=at(this.buf,this.pos);return this.pos+=4,Me},readSFixed32:function(){var Me=gt(this.buf,this.pos);return this.pos+=4,Me},readFixed64:function(){var Me=at(this.buf,this.pos)+at(this.buf,this.pos+4)*_;return this.pos+=8,Me},readSFixed64:function(){var Me=at(this.buf,this.pos)+gt(this.buf,this.pos+4)*_;return this.pos+=8,Me},readFloat:function(){var Me=b.read(this.buf,this.pos,!0,23,4);return this.pos+=4,Me},readDouble:function(){var Me=b.read(this.buf,this.pos,!0,52,8);return this.pos+=8,Me},readVarint:function(Me){var Ke,dt,Wt=this.buf;return Ke=127&(dt=Wt[this.pos++]),dt<128?Ke:(Ke|=(127&(dt=Wt[this.pos++]))<<7,dt<128?Ke:(Ke|=(127&(dt=Wt[this.pos++]))<<14,dt<128?Ke:(Ke|=(127&(dt=Wt[this.pos++]))<<21,dt<128?Ke:function(jn,cn,yn){var Vn,Bn,Kn=yn.buf;if(Vn=(112&(Bn=Kn[yn.pos++]))>>4,Bn<128||(Vn|=(127&(Bn=Kn[yn.pos++]))<<3,Bn<128)||(Vn|=(127&(Bn=Kn[yn.pos++]))<<10,Bn<128)||(Vn|=(127&(Bn=Kn[yn.pos++]))<<17,Bn<128)||(Vn|=(127&(Bn=Kn[yn.pos++]))<<24,Bn<128)||(Vn|=(1&(Bn=Kn[yn.pos++]))<<31,Bn<128))return G(jn,Vn,cn);throw new Error("Expected varint not more than 10 bytes")}(Ke|=(15&(dt=Wt[this.pos]))<<28,Me,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Me=this.readVarint();return Me%2==1?(Me+1)/-2:Me/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var Me=this.readVarint()+this.pos,Ke=this.pos;return this.pos=Me,Me-Ke>=12&&k?function(dt,Wt,jn){return k.decode(dt.subarray(Wt,jn))}(this.buf,Ke,Me):function(dt,Wt,jn){for(var cn="",yn=Wt;yn<jn;){var Vn,Bn,Kn,Sn=dt[yn],dr=null,Fr=Sn>239?4:Sn>223?3:Sn>191?2:1;if(yn+Fr>jn)break;Fr===1?Sn<128&&(dr=Sn):Fr===2?(192&(Vn=dt[yn+1]))==128&&(dr=(31&Sn)<<6|63&Vn)<=127&&(dr=null):Fr===3?(Bn=dt[yn+2],(192&(Vn=dt[yn+1]))==128&&(192&Bn)==128&&((dr=(15&Sn)<<12|(63&Vn)<<6|63&Bn)<=2047||dr>=55296&&dr<=57343)&&(dr=null)):Fr===4&&(Bn=dt[yn+2],Kn=dt[yn+3],(192&(Vn=dt[yn+1]))==128&&(192&Bn)==128&&(192&Kn)==128&&((dr=(15&Sn)<<18|(63&Vn)<<12|(63&Bn)<<6|63&Kn)<=65535||dr>=1114112)&&(dr=null)),dr===null?(dr=65533,Fr=1):dr>65535&&(dr-=65536,cn+=String.fromCharCode(dr>>>10&1023|55296),dr=56320|1023&dr),cn+=String.fromCharCode(dr),yn+=Fr}return cn}(this.buf,Ke,Me)},readBytes:function(){var Me=this.readVarint()+this.pos,Ke=this.buf.subarray(this.pos,Me);return this.pos=Me,Ke},readPackedVarint:function(Me,Ke){if(this.type!==p.Bytes)return Me.push(this.readVarint(Ke));var dt=V(this);for(Me=Me||[];this.pos<dt;)Me.push(this.readVarint(Ke));return Me},readPackedSVarint:function(Me){if(this.type!==p.Bytes)return Me.push(this.readSVarint());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readSVarint());return Me},readPackedBoolean:function(Me){if(this.type!==p.Bytes)return Me.push(this.readBoolean());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readBoolean());return Me},readPackedFloat:function(Me){if(this.type!==p.Bytes)return Me.push(this.readFloat());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readFloat());return Me},readPackedDouble:function(Me){if(this.type!==p.Bytes)return Me.push(this.readDouble());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readDouble());return Me},readPackedFixed32:function(Me){if(this.type!==p.Bytes)return Me.push(this.readFixed32());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readFixed32());return Me},readPackedSFixed32:function(Me){if(this.type!==p.Bytes)return Me.push(this.readSFixed32());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readSFixed32());return Me},readPackedFixed64:function(Me){if(this.type!==p.Bytes)return Me.push(this.readFixed64());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readFixed64());return Me},readPackedSFixed64:function(Me){if(this.type!==p.Bytes)return Me.push(this.readSFixed64());var Ke=V(this);for(Me=Me||[];this.pos<Ke;)Me.push(this.readSFixed64());return Me},skip:function(Me){var Ke=7&Me;if(Ke===p.Varint)for(;this.buf[this.pos++]>127;);else if(Ke===p.Bytes)this.pos=this.readVarint()+this.pos;else if(Ke===p.Fixed32)this.pos+=4;else{if(Ke!==p.Fixed64)throw new Error("Unimplemented type: "+Ke);this.pos+=8}},writeTag:function(Me,Ke){this.writeVarint(Me<<3|Ke)},realloc:function(Me){for(var Ke=this.length||16;Ke<this.pos+Me;)Ke*=2;if(Ke!==this.length){var dt=new Uint8Array(Ke);dt.set(this.buf),this.buf=dt,this.length=Ke}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Me){this.realloc(4),Ot(this.buf,Me,this.pos),this.pos+=4},writeSFixed32:function(Me){this.realloc(4),Ot(this.buf,Me,this.pos),this.pos+=4},writeFixed64:function(Me){this.realloc(8),Ot(this.buf,-1&Me,this.pos),Ot(this.buf,Math.floor(Me*O),this.pos+4),this.pos+=8},writeSFixed64:function(Me){this.realloc(8),Ot(this.buf,-1&Me,this.pos),Ot(this.buf,Math.floor(Me*O),this.pos+4),this.pos+=8},writeVarint:function(Me){(Me=+Me||0)>268435455||Me<0?function(Ke,dt){var Wt,jn;if(Ke>=0?(Wt=Ke%4294967296|0,jn=Ke/4294967296|0):(jn=~(-Ke/4294967296),4294967295^(Wt=~(-Ke%4294967296))?Wt=Wt+1|0:(Wt=0,jn=jn+1|0)),Ke>=18446744073709552e3||Ke<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");dt.realloc(10),function(cn,yn,Vn){Vn.buf[Vn.pos++]=127&cn|128,cn>>>=7,Vn.buf[Vn.pos++]=127&cn|128,cn>>>=7,Vn.buf[Vn.pos++]=127&cn|128,cn>>>=7,Vn.buf[Vn.pos++]=127&cn|128,Vn.buf[Vn.pos]=127&(cn>>>=7)}(Wt,0,dt),function(cn,yn){var Vn=(7&cn)<<4;yn.buf[yn.pos++]|=Vn|((cn>>>=3)?128:0),cn&&(yn.buf[yn.pos++]=127&cn|((cn>>>=7)?128:0),cn&&(yn.buf[yn.pos++]=127&cn|((cn>>>=7)?128:0),cn&&(yn.buf[yn.pos++]=127&cn|((cn>>>=7)?128:0),cn&&(yn.buf[yn.pos++]=127&cn|((cn>>>=7)?128:0),cn&&(yn.buf[yn.pos++]=127&cn)))))}(jn,dt)}(Me,this):(this.realloc(4),this.buf[this.pos++]=127&Me|(Me>127?128:0),Me<=127||(this.buf[this.pos++]=127&(Me>>>=7)|(Me>127?128:0),Me<=127||(this.buf[this.pos++]=127&(Me>>>=7)|(Me>127?128:0),Me<=127||(this.buf[this.pos++]=Me>>>7&127))))},writeSVarint:function(Me){this.writeVarint(Me<0?2*-Me-1:2*Me)},writeBoolean:function(Me){this.writeVarint(!!Me)},writeString:function(Me){Me=String(Me),this.realloc(4*Me.length),this.pos++;var Ke=this.pos;this.pos=function(Wt,jn,cn){for(var yn,Vn,Bn=0;Bn<jn.length;Bn++){if((yn=jn.charCodeAt(Bn))>55295&&yn<57344){if(!Vn){yn>56319||Bn+1===jn.length?(Wt[cn++]=239,Wt[cn++]=191,Wt[cn++]=189):Vn=yn;continue}if(yn<56320){Wt[cn++]=239,Wt[cn++]=191,Wt[cn++]=189,Vn=yn;continue}yn=Vn-55296<<10|yn-56320|65536,Vn=null}else Vn&&(Wt[cn++]=239,Wt[cn++]=191,Wt[cn++]=189,Vn=null);yn<128?Wt[cn++]=yn:(yn<2048?Wt[cn++]=yn>>6|192:(yn<65536?Wt[cn++]=yn>>12|224:(Wt[cn++]=yn>>18|240,Wt[cn++]=yn>>12&63|128),Wt[cn++]=yn>>6&63|128),Wt[cn++]=63&yn|128)}return cn}(this.buf,Me,this.pos);var dt=this.pos-Ke;dt>=128&&Y(Ke,dt,this),this.pos=Ke-1,this.writeVarint(dt),this.pos+=dt},writeFloat:function(Me){this.realloc(4),b.write(this.buf,Me,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Me){this.realloc(8),b.write(this.buf,Me,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Me){var Ke=Me.length;this.writeVarint(Ke),this.realloc(Ke);for(var dt=0;dt<Ke;dt++)this.buf[this.pos++]=Me[dt]},writeRawMessage:function(Me,Ke){this.pos++;var dt=this.pos;Me(Ke,this);var Wt=this.pos-dt;Wt>=128&&Y(dt,Wt,this),this.pos=dt-1,this.writeVarint(Wt),this.pos+=Wt},writeMessage:function(Me,Ke,dt){this.writeTag(Me,p.Bytes),this.writeRawMessage(Ke,dt)},writePackedVarint:function(Me,Ke){Ke.length&&this.writeMessage(Me,ae,Ke)},writePackedSVarint:function(Me,Ke){Ke.length&&this.writeMessage(Me,fe,Ke)},writePackedBoolean:function(Me,Ke){Ke.length&&this.writeMessage(Me,Oe,Ke)},writePackedFloat:function(Me,Ke){Ke.length&&this.writeMessage(Me,he,Ke)},writePackedDouble:function(Me,Ke){Ke.length&&this.writeMessage(Me,me,Ke)},writePackedFixed32:function(Me,Ke){Ke.length&&this.writeMessage(Me,Ae,Ke)},writePackedSFixed32:function(Me,Ke){Ke.length&&this.writeMessage(Me,$e,Ke)},writePackedFixed64:function(Me,Ke){Ke.length&&this.writeMessage(Me,De,Ke)},writePackedSFixed64:function(Me,Ke){Ke.length&&this.writeMessage(Me,Xe,Ke)},writeBytesField:function(Me,Ke){this.writeTag(Me,p.Bytes),this.writeBytes(Ke)},writeFixed32Field:function(Me,Ke){this.writeTag(Me,p.Fixed32),this.writeFixed32(Ke)},writeSFixed32Field:function(Me,Ke){this.writeTag(Me,p.Fixed32),this.writeSFixed32(Ke)},writeFixed64Field:function(Me,Ke){this.writeTag(Me,p.Fixed64),this.writeFixed64(Ke)},writeSFixed64Field:function(Me,Ke){this.writeTag(Me,p.Fixed64),this.writeSFixed64(Ke)},writeVarintField:function(Me,Ke){this.writeTag(Me,p.Varint),this.writeVarint(Ke)},writeSVarintField:function(Me,Ke){this.writeTag(Me,p.Varint),this.writeSVarint(Ke)},writeStringField:function(Me,Ke){this.writeTag(Me,p.Bytes),this.writeString(Ke)},writeFloatField:function(Me,Ke){this.writeTag(Me,p.Fixed32),this.writeFloat(Ke)},writeDoubleField:function(Me,Ke){this.writeTag(Me,p.Fixed64),this.writeDouble(Ke)},writeBooleanField:function(Me,Ke){this.writeVarintField(Me,!!Ke)}},hu}var Dp=l(xb());const nm=3;function zp(b,p,_){b===1&&_.readMessage(tc,p)}function tc(b,p,_){if(b===3){const{id:O,bitmap:k,width:V,height:G,left:Y,top:ae,advance:fe}=_.readMessage(Bp,{});p.push({id:O,bitmap:new rv({width:V+2*nm,height:G+2*nm},k),metrics:{width:V,height:G,left:Y,top:ae,advance:fe}})}}function Bp(b,p,_){b===1?p.id=_.readVarint():b===2?p.bitmap=_.readBytes():b===3?p.width=_.readVarint():b===4?p.height=_.readVarint():b===5?p.left=_.readSVarint():b===6?p.top=_.readSVarint():b===7&&(p.advance=_.readVarint())}const hv=nm;function rm(b){let p=0,_=0;for(const G of b)p+=G.w*G.h,_=Math.max(_,G.w);b.sort((G,Y)=>Y.h-G.h);const O=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(p/.95)),_),h:1/0}];let k=0,V=0;for(const G of b)for(let Y=O.length-1;Y>=0;Y--){const ae=O[Y];if(!(G.w>ae.w||G.h>ae.h)){if(G.x=ae.x,G.y=ae.y,V=Math.max(V,G.y+G.h),k=Math.max(k,G.x+G.w),G.w===ae.w&&G.h===ae.h){const fe=O.pop();Y<O.length&&(O[Y]=fe)}else G.h===ae.h?(ae.x+=G.w,ae.w-=G.w):G.w===ae.w?(ae.y+=G.h,ae.h-=G.h):(O.push({x:ae.x+G.w,y:ae.y,w:ae.w-G.w,h:G.h}),ae.y+=G.h,ae.h-=G.h);break}}return{w:k,h:V,fill:p/(k*V)||0}}const nc=1;class V0{constructor(p,{pixelRatio:_,version:O,stretchX:k,stretchY:V,content:G,textFitWidth:Y,textFitHeight:ae}){this.paddedRect=p,this.pixelRatio=_,this.stretchX=k,this.stretchY=V,this.content=G,this.version=O,this.textFitWidth=Y,this.textFitHeight=ae}get tl(){return[this.paddedRect.x+nc,this.paddedRect.y+nc]}get br(){return[this.paddedRect.x+this.paddedRect.w-nc,this.paddedRect.y+this.paddedRect.h-nc]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*nc)/this.pixelRatio,(this.paddedRect.h-2*nc)/this.pixelRatio]}}class u_{constructor(p,_){const O={},k={};this.haveRenderCallbacks=[];const V=[];this.addImages(p,O,V),this.addImages(_,k,V);const{w:G,h:Y}=rm(V),ae=new lu({width:G||1,height:Y||1});for(const fe in p){const he=p[fe],me=O[fe].paddedRect;lu.copy(he.data,ae,{x:0,y:0},{x:me.x+nc,y:me.y+nc},he.data)}for(const fe in _){const he=_[fe],me=k[fe].paddedRect,Oe=me.x+nc,Ae=me.y+nc,$e=he.data.width,De=he.data.height;lu.copy(he.data,ae,{x:0,y:0},{x:Oe,y:Ae},he.data),lu.copy(he.data,ae,{x:0,y:De-1},{x:Oe,y:Ae-1},{width:$e,height:1}),lu.copy(he.data,ae,{x:0,y:0},{x:Oe,y:Ae+De},{width:$e,height:1}),lu.copy(he.data,ae,{x:$e-1,y:0},{x:Oe-1,y:Ae},{width:1,height:De}),lu.copy(he.data,ae,{x:0,y:0},{x:Oe+$e,y:Ae},{width:1,height:De})}this.image=ae,this.iconPositions=O,this.patternPositions=k}addImages(p,_,O){for(const k in p){const V=p[k],G={x:0,y:0,w:V.data.width+2*nc,h:V.data.height+2*nc};O.push(G),_[k]=new V0(G,V),V.hasRenderCallback&&this.haveRenderCallbacks.push(k)}}patchUpdatedImages(p,_){p.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const O in p.updatedImages)this.patchUpdatedImage(this.iconPositions[O],p.getImage(O),_),this.patchUpdatedImage(this.patternPositions[O],p.getImage(O),_)}patchUpdatedImage(p,_,O){if(!p||!_||p.version===_.version)return;p.version=_.version;const[k,V]=p.tl;O.update(_.data,void 0,{x:k,y:V})}}var Hu;lr("ImagePosition",V0),lr("ImageAtlas",u_),s.ah=void 0,(Hu=s.ah||(s.ah={}))[Hu.none=0]="none",Hu[Hu.horizontal=1]="horizontal",Hu[Hu.vertical=2]="vertical",Hu[Hu.horizontalOnly=3]="horizontalOnly";const pv=-17;class hl{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(p,_,O){const k=new hl;return k.scale=p||1,k.fontStack=_,k.verticalAlign=O||"bottom",k}static forImage(p,_){const O=new hl;return O.imageName=p,O.verticalAlign=_||"bottom",O}}class im{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(p,_){const O=new im;for(let k=0;k<p.sections.length;k++){const V=p.sections[k];V.image?O.addImageSection(V):O.addTextSection(V,_)}return O}length(){return this.text.length}getSection(p){return this.sections[this.sectionIndex[p]]}getSectionIndex(p){return this.sectionIndex[p]}getCharCode(p){return this.text.charCodeAt(p)}verticalizePunctuation(){this.text=function(p){let _="";for(let O=0;O<p.length;O++){const k=p.charCodeAt(O+1)||null,V=p.charCodeAt(O-1)||null;_+=k&&jg(k)&&!dd[p[O+1]]||V&&jg(V)&&!dd[p[O-1]]||!dd[p[O]]?p[O]:dd[p[O]]}return _}(this.text)}trim(){let p=0;for(let O=0;O<this.text.length&&U0[this.text.charCodeAt(O)];O++)p++;let _=this.text.length;for(let O=this.text.length-1;O>=0&&O>=p&&U0[this.text.charCodeAt(O)];O--)_--;this.text=this.text.substring(p,_),this.sectionIndex=this.sectionIndex.slice(p,_)}substring(p,_){const O=new im;return O.text=this.text.substring(p,_),O.sectionIndex=this.sectionIndex.slice(p,_),O.sections=this.sections,O}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((p,_)=>Math.max(p,this.sections[_].scale),0)}getMaxImageSize(p){let _=0,O=0;for(let k=0;k<this.length();k++){const V=this.getSection(k);if(V.imageName){const G=p[V.imageName];if(!G)continue;const Y=G.displaySize;_=Math.max(_,Y[0]),O=Math.max(O,Y[1])}}return{maxImageWidth:_,maxImageHeight:O}}addTextSection(p,_){this.text+=p.text,this.sections.push(hl.forText(p.scale,p.fontStack||_,p.verticalAlign));const O=this.sections.length-1;for(let k=0;k<p.text.length;++k)this.sectionIndex.push(O)}addImageSection(p){const _=p.image?p.image.name:"";if(_.length===0)return void Ue("Can't add FormattedSection with an empty image.");const O=this.getNextImageSectionCharCode();O?(this.text+=String.fromCharCode(O),this.sections.push(hl.forImage(_,p.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Ue("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function wc(b,p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e){const De=im.fromFeature(b,k);let Xe;me===s.ah.vertical&&De.verticalizePunctuation();const{processBidirectionalText:at,processStyledBidirectionalText:Ot}=gf;if(at&&De.sections.length===1){Xe=[];const Ke=at(De.toString(),wb(De,fe,V,p,O,Ae));for(const dt of Ke){const Wt=new im;Wt.text=dt,Wt.sections=De.sections;for(let jn=0;jn<dt.length;jn++)Wt.sectionIndex.push(0);Xe.push(Wt)}}else if(Ot){Xe=[];const Ke=Ot(De.text,De.sectionIndex,wb(De,fe,V,p,O,Ae));for(const dt of Ke){const Wt=new im;Wt.text=dt[0],Wt.sectionIndex=dt[1],Wt.sections=De.sections,Xe.push(Wt)}}else Xe=function(Ke,dt){const Wt=[],jn=Ke.text;let cn=0;for(const yn of dt)Wt.push(Ke.substring(cn,yn)),cn=yn;return cn<jn.length&&Wt.push(Ke.substring(cn,jn.length)),Wt}(De,wb(De,fe,V,p,O,Ae));const gt=[],Me={positionedLines:gt,text:De.toString(),top:he[1],bottom:he[1],left:he[0],right:he[0],writingMode:me,iconsInText:!1,verticalizable:!1};return function(Ke,dt,Wt,jn,cn,yn,Vn,Bn,Kn,Sn,dr,Fr){let kr=0,Mr=0,Di=0,Fo=0;const Ps=Bn==="right"?1:Bn==="left"?0:.5,El=as/Fr;let Sc=0;for(const Oo of cn){Oo.trim();const Bs=Oo.getMaxScale(),js={positionedGlyphs:[],lineOffset:0};Ke.positionedLines[Sc]=js;const Zs=js.positionedGlyphs;let rc=0;if(!Oo.length()){Mr+=yn,++Sc;continue}const Cc=h_(jn,Oo,El);for(let Fs=0;Fs<Oo.length();Fs++){const Mo=Oo.getSection(Fs),xs=Oo.getSectionIndex(Fs),ws=Oo.getCharCode(Fs),mo=J2(Kn,dr,ws);let Ao;if(Mo.imageName){if(Ke.iconsInText=!0,Mo.scale=Mo.scale*El,Ao=ew(Mo,mo,Bs,Cc,jn),!Ao)continue;rc=Math.max(rc,Ao.imageOffset)}else if(Ao=eC(Mo,ws,mo,Cc,dt,Wt),!Ao)continue;const{rect:Of,metrics:th,baselineOffset:pd}=Ao;Zs.push({glyph:ws,imageName:Mo.imageName,x:kr,y:Mr+pd+pv,vertical:mo,scale:Mo.scale,fontStack:Mo.fontStack,sectionIndex:xs,metrics:th,rect:Of}),mo?(Ke.verticalizable=!0,kr+=(Mo.imageName?th.advance:as)*Mo.scale+Sn):kr+=th.advance*Mo.scale+Sn}Zs.length!==0&&(Di=Math.max(kr-Sn,Di),p_(Zs,0,Zs.length-1,Ps)),kr=0,js.lineOffset=Math.max(rc,(Bs-1)*as);const To=yn*Bs+rc;Mr+=To,Fo=Math.max(To,Fo),++Sc}const{horizontalAlign:Gc,verticalAlign:_s}=Sb(Vn);(function(Oo,Bs,js,Zs,rc,Cc,To,Fs,Mo){const xs=(Bs-js)*rc;let ws=0;ws=Cc!==To?-Fs*Zs-pv:-Zs*Mo*To+.5*To;for(const mo of Oo)for(const Ao of mo.positionedGlyphs)Ao.x+=xs,Ao.y+=ws})(Ke.positionedLines,Ps,Gc,_s,Di,Fo,yn,Mr,cn.length),Ke.top+=-_s*Mr,Ke.bottom=Ke.top+Mr,Ke.left+=-Gc*Di,Ke.right=Ke.left+Di}(Me,p,_,O,Xe,G,Y,ae,me,fe,Oe,$e),!function(Ke){for(const dt of Ke)if(dt.positionedGlyphs.length!==0)return!1;return!0}(gt)&&Me}const U0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Jx={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Q2={40:!0};function Gh(b,p,_,O,k,V){if(p.imageName){const G=O[p.imageName];return G?G.displaySize[0]*p.scale*as/V+k:0}{const G=_[p.fontStack],Y=G&&G[b];return Y?Y.metrics.advance*p.scale+k:0}}function G0(b,p,_,O){const k=Math.pow(b-p,2);return O?b<p?k/2:2*k:k+Math.abs(_)*_}function f_(b,p,_){let O=0;return b===10&&(O-=1e4),_&&(O+=150),b!==40&&b!==65288||(O+=50),p!==41&&p!==65289||(O+=50),O}function am(b,p,_,O,k,V){let G=null,Y=G0(p,_,k,V);for(const ae of O){const fe=G0(p-ae.x,_,k,V)+ae.badness;fe<=Y&&(G=ae,Y=fe)}return{index:b,x:p,priorBreak:G,badness:Y}}function d_(b){return b?d_(b.priorBreak).concat(b.index):[]}function wb(b,p,_,O,k,V){if(!b)return[];const G=[],Y=function(me,Oe,Ae,$e,De,Xe){let at=0;for(let Ot=0;Ot<me.length();Ot++){const gt=me.getSection(Ot);at+=Gh(me.getCharCode(Ot),gt,$e,De,Oe,Xe)}return at/Math.max(1,Math.ceil(at/Ae))}(b,p,_,O,k,V),ae=b.text.indexOf("")>=0;let fe=0;for(let me=0;me<b.length();me++){const Oe=b.getSection(me),Ae=b.getCharCode(me);if(U0[Ae]||(fe+=Gh(Ae,Oe,O,k,p,V)),me<b.length()-1){const $e=!((he=Ae)<11904)&&(!!Li["CJK Compatibility Forms"](he)||!!Li["CJK Compatibility"](he)||!!Li["CJK Strokes"](he)||!!Li["CJK Symbols and Punctuation"](he)||!!Li["Enclosed CJK Letters and Months"](he)||!!Li["Halfwidth and Fullwidth Forms"](he)||!!Li["Ideographic Description Characters"](he)||!!Li["Vertical Forms"](he)||Xm.test(String.fromCodePoint(he)));(Jx[Ae]||$e||Oe.imageName||me!==b.length()-2&&Q2[b.getCharCode(me+1)])&&G.push(am(me+1,fe,Y,G,f_(Ae,b.getCharCode(me+1),$e&&ae),!1))}}var he;return d_(am(b.length(),fe,Y,G,0,!0))}function Sb(b){let p=.5,_=.5;switch(b){case"right":case"top-right":case"bottom-right":p=1;break;case"left":case"top-left":case"bottom-left":p=0}switch(b){case"bottom":case"bottom-right":case"bottom-left":_=1;break;case"top":case"top-right":case"top-left":_=0}return{horizontalAlign:p,verticalAlign:_}}function h_(b,p,_){const O=p.getMaxScale()*as,{maxImageWidth:k,maxImageHeight:V}=p.getMaxImageSize(b),G=Math.max(O,V*_);return{verticalLineContentWidth:Math.max(O,k*_),horizontalLineContentHeight:G}}function Cb(b){switch(b){case"top":return 0;case"center":return .5;default:return 1}}function J2(b,p,_){return!(b===s.ah.horizontal||!p&&!Sp(_)||p&&(U0[_]||(O=_,/\p{sc=Arab}/u.test(String.fromCodePoint(O)))));var O}function eC(b,p,_,O,k,V){const G=V[b.fontStack],Y=function(fe,he,me,Oe){if(fe&&fe.rect)return fe;const Ae=he[me.fontStack],$e=Ae&&Ae[Oe];return $e?{rect:null,metrics:$e.metrics}:null}(G&&G[p],k,b,p);if(Y===null)return null;let ae;if(_)ae=O.verticalLineContentWidth-b.scale*as;else{const fe=Cb(b.verticalAlign);ae=(O.horizontalLineContentHeight-b.scale*as)*fe}return{rect:Y.rect,metrics:Y.metrics,baselineOffset:ae}}function ew(b,p,_,O,k){const V=k[b.imageName];if(!V)return null;const G=V.paddedRect,Y=V.displaySize,ae={width:Y[0],height:Y[1],left:nc,top:-3,advance:p?Y[1]:Y[0]};let fe;if(p)fe=O.verticalLineContentWidth-Y[1]*b.scale;else{const he=Cb(b.verticalAlign);fe=(O.horizontalLineContentHeight-Y[1]*b.scale)*he}return{rect:G,metrics:ae,baselineOffset:fe,imageOffset:(p?Y[0]:Y[1])*b.scale-as*_}}function p_(b,p,_,O){if(O===0)return;const k=b[_],V=(b[_].x+k.metrics.advance*k.scale)*O;for(let G=p;G<=_;G++)b[G].x-=V}function tw(b,p,_){const{horizontalAlign:O,verticalAlign:k}=Sb(_),V=p[0]-b.displaySize[0]*O,G=p[1]-b.displaySize[1]*k;return{image:b,top:G,bottom:G+b.displaySize[1],left:V,right:V+b.displaySize[0]}}function om(b){var p,_;let O=b.left,k=b.top,V=b.right-O,G=b.bottom-k;const Y=(p=b.image.textFitWidth)!==null&&p!==void 0?p:"stretchOrShrink",ae=(_=b.image.textFitHeight)!==null&&_!==void 0?_:"stretchOrShrink",fe=(b.image.content[2]-b.image.content[0])/(b.image.content[3]-b.image.content[1]);if(ae==="proportional"){if(Y==="stretchOnly"&&V/G<fe||Y==="proportional"){const he=Math.ceil(G*fe);O*=he/V,V=he}}else if(Y==="proportional"&&ae==="stretchOnly"&&fe!==0&&V/G>fe){const he=Math.ceil(V/fe);k*=he/G,G=he}return{x1:O,y1:k,x2:O+V,y2:k+G}}function W0(b,p,_,O,k,V){const G=b.image;let Y;if(G.content){const Xe=G.content,at=G.pixelRatio||1;Y=[Xe[0]/at,Xe[1]/at,G.displaySize[0]-Xe[2]/at,G.displaySize[1]-Xe[3]/at]}const ae=p.left*V,fe=p.right*V;let he,me,Oe,Ae;_==="width"||_==="both"?(Ae=k[0]+ae-O[3],me=k[0]+fe+O[1]):(Ae=k[0]+(ae+fe-G.displaySize[0])/2,me=Ae+G.displaySize[0]);const $e=p.top*V,De=p.bottom*V;return _==="height"||_==="both"?(he=k[1]+$e-O[0],Oe=k[1]+De+O[2]):(he=k[1]+($e+De-G.displaySize[1])/2,Oe=he+G.displaySize[1]),{image:G,top:he,right:me,bottom:Oe,left:Ae,collisionPadding:Y}}const gv=255,pu=128,Wh=gv*pu;function g_(b,p){const{expression:_}=p;if(_.kind==="constant")return{kind:"constant",layoutSize:_.evaluate(new ho(b+1))};if(_.kind==="source")return{kind:"source"};{const{zoomStops:O,interpolationType:k}=_;let V=0;for(;V<O.length&&O[V]<=b;)V++;V=Math.max(0,V-1);let G=V;for(;G<O.length&&O[G]<b+1;)G++;G=Math.min(O.length-1,G);const Y=O[V],ae=O[G];return _.kind==="composite"?{kind:"composite",minZoom:Y,maxZoom:ae,interpolationType:k}:{kind:"camera",minZoom:Y,maxZoom:ae,minSize:_.evaluate(new ho(Y)),maxSize:_.evaluate(new ho(ae)),interpolationType:k}}}function Eb(b,p,_){let O="never";const k=b.get(p);return k?O=k:b.get(_)&&(O="always"),O}const nw=em.VectorTileFeature.types,Ob=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function q0(b,p,_,O,k,V,G,Y,ae,fe,he,me,Oe){const Ae=Y?Math.min(Wh,Math.round(Y[0])):0,$e=Y?Math.min(Wh,Math.round(Y[1])):0;b.emplaceBack(p,_,Math.round(32*O),Math.round(32*k),V,G,(Ae<<1)+(ae?1:0),$e,16*fe,16*he,256*me,256*Oe)}function Tb(b,p,_){b.emplaceBack(p.x,p.y,_),b.emplaceBack(p.x,p.y,_),b.emplaceBack(p.x,p.y,_),b.emplaceBack(p.x,p.y,_)}function Bo(b){for(const p of b.sections)if(Ep(p.text))return!0;return!1}class K0{constructor(p){this.layoutVertexArray=new bn,this.indexArray=new Nn,this.programConfigurations=p,this.segments=new vi,this.dynamicLayoutVertexArray=new wn,this.opacityVertexArray=new vn,this.hasVisibleVertices=!1,this.placedSymbolArray=new ve}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(p,_,O,k){this.isEmpty()||(O&&(this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,Lp.members),this.indexBuffer=p.createIndexBuffer(this.indexArray,_),this.dynamicLayoutVertexBuffer=p.createVertexBuffer(this.dynamicLayoutVertexArray,dv.members,!0),this.opacityVertexBuffer=p.createVertexBuffer(this.opacityVertexArray,Ob,!0),this.opacityVertexBuffer.itemSize=1),(O||k)&&this.programConfigurations.upload(p))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}lr("SymbolBuffers",K0);class m_{constructor(p,_,O){this.layoutVertexArray=new p,this.layoutAttributes=_,this.indexArray=new O,this.segments=new vi,this.collisionVertexArray=new Zn}upload(p){this.layoutVertexBuffer=p.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=p.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=p.createVertexBuffer(this.collisionVertexArray,l_.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}lr("CollisionBuffers",m_);class sm{constructor(p){this.collisionBoxArray=p.collisionBoxArray,this.zoom=p.zoom,this.overscaling=p.overscaling,this.layers=p.layers,this.layerIds=this.layers.map(G=>G.id),this.index=p.index,this.pixelRatio=p.pixelRatio,this.sourceLayerIndex=p.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const _=this.layers[0]._unevaluatedLayout._values;this.textSizeData=g_(this.zoom,_["text-size"]),this.iconSizeData=g_(this.zoom,_["icon-size"]);const O=this.layers[0].layout,k=O.get("symbol-sort-key"),V=O.get("symbol-z-order");this.canOverlap=Eb(O,"text-overlap","text-allow-overlap")!=="never"||Eb(O,"icon-overlap","icon-allow-overlap")!=="never"||O.get("text-ignore-placement")||O.get("icon-ignore-placement"),this.sortFeaturesByKey=V!=="viewport-y"&&!k.isConstant(),this.sortFeaturesByY=(V==="viewport-y"||V==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,O.get("symbol-placement")==="point"&&(this.writingModes=O.get("text-writing-mode").map(G=>s.ah[G])),this.stateDependentLayerIds=this.layers.filter(G=>G.isStateDependent()).map(G=>G.id),this.sourceID=p.sourceID}createArrays(){this.text=new K0(new Du(this.layers,this.zoom,p=>/^text/.test(p))),this.icon=new K0(new Du(this.layers,this.zoom,p=>/^icon/.test(p))),this.glyphOffsetArray=new ke,this.lineVertexArray=new Be,this.symbolInstances=new Ce,this.textAnchorOffsets=new Je}calculateGlyphDependencies(p,_,O,k,V){for(let G=0;G<p.length;G++)if(_[p.charCodeAt(G)]=!0,(O||k)&&V){const Y=dd[p.charAt(G)];Y&&(_[Y.charCodeAt(0)]=!0)}}populate(p,_,O){const k=this.layers[0],V=k.layout,G=V.get("text-font"),Y=V.get("text-field"),ae=V.get("icon-image"),fe=(Y.value.kind!=="constant"||Y.value.value instanceof Tr&&!Y.value.value.isEmpty()||Y.value.value.toString().length>0)&&(G.value.kind!=="constant"||G.value.value.length>0),he=ae.value.kind!=="constant"||!!ae.value.value||Object.keys(ae.parameters).length>0,me=V.get("symbol-sort-key");if(this.features=[],!fe&&!he)return;const Oe=_.iconDependencies,Ae=_.glyphDependencies,$e=_.availableImages,De=new ho(this.zoom);for(const{feature:Xe,id:at,index:Ot,sourceLayerIndex:gt}of p){const Me=k._featureFilter.needGeometry,Ke=zu(Xe,Me);if(!k._featureFilter.filter(De,Ke,O))continue;let dt,Wt;if(Me||(Ke.geometry=As(Xe)),fe){const cn=k.getValueAndResolveTokens("text-field",Ke,O,$e),yn=Tr.factory(cn),Vn=this.hasRTLText=this.hasRTLText||Bo(yn);(!Vn||gf.getRTLTextPluginStatus()==="unavailable"||Vn&&gf.isParsed())&&(dt=Np(yn,k,Ke))}if(he){const cn=k.getValueAndResolveTokens("icon-image",Ke,O,$e);Wt=cn instanceof La?cn:La.fromString(cn)}if(!dt&&!Wt)continue;const jn=this.sortFeaturesByKey?me.evaluate(Ke,{},O):void 0;if(this.features.push({id:at,text:dt,icon:Wt,index:Ot,sourceLayerIndex:gt,geometry:Ke.geometry,properties:Xe.properties,type:nw[Xe.type],sortKey:jn}),Wt&&(Oe[Wt.name]=!0),dt){const cn=G.evaluate(Ke,{},O).join(","),yn=V.get("text-rotation-alignment")!=="viewport"&&V.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ah.vertical)>=0;for(const Vn of dt.sections)if(Vn.image)Oe[Vn.image.name]=!0;else{const Bn=hf(dt.toString()),Kn=Vn.fontStack||cn,Sn=Ae[Kn]=Ae[Kn]||{};this.calculateGlyphDependencies(Vn.text,Sn,yn,this.allowVerticalPlacement,Bn)}}}V.get("symbol-placement")==="line"&&(this.features=function(Xe){const at={},Ot={},gt=[];let Me=0;function Ke(cn){gt.push(Xe[cn]),Me++}function dt(cn,yn,Vn){const Bn=Ot[cn];return delete Ot[cn],Ot[yn]=Bn,gt[Bn].geometry[0].pop(),gt[Bn].geometry[0]=gt[Bn].geometry[0].concat(Vn[0]),Bn}function Wt(cn,yn,Vn){const Bn=at[yn];return delete at[yn],at[cn]=Bn,gt[Bn].geometry[0].shift(),gt[Bn].geometry[0]=Vn[0].concat(gt[Bn].geometry[0]),Bn}function jn(cn,yn,Vn){const Bn=Vn?yn[0][yn[0].length-1]:yn[0][0];return`${cn}:${Bn.x}:${Bn.y}`}for(let cn=0;cn<Xe.length;cn++){const yn=Xe[cn],Vn=yn.geometry,Bn=yn.text?yn.text.toString():null;if(!Bn){Ke(cn);continue}const Kn=jn(Bn,Vn),Sn=jn(Bn,Vn,!0);if(Kn in Ot&&Sn in at&&Ot[Kn]!==at[Sn]){const dr=Wt(Kn,Sn,Vn),Fr=dt(Kn,Sn,gt[dr].geometry);delete at[Kn],delete Ot[Sn],Ot[jn(Bn,gt[Fr].geometry,!0)]=Fr,gt[dr].geometry=null}else Kn in Ot?dt(Kn,Sn,Vn):Sn in at?Wt(Kn,Sn,Vn):(Ke(cn),at[Kn]=Me-1,Ot[Sn]=Me-1)}return gt.filter(cn=>cn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Xe,at)=>Xe.sortKey-at.sortKey)}update(p,_,O){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(p,_,this.layers,O),this.icon.programConfigurations.updatePaintArrays(p,_,this.layers,O))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(p){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(p),this.iconCollisionBox.upload(p)),this.text.upload(p,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(p,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(p,_){const O=this.lineVertexArray.length;if(p.segment!==void 0){let k=p.dist(_[p.segment+1]),V=p.dist(_[p.segment]);const G={};for(let Y=p.segment+1;Y<_.length;Y++)G[Y]={x:_[Y].x,y:_[Y].y,tileUnitDistanceFromAnchor:k},Y<_.length-1&&(k+=_[Y+1].dist(_[Y]));for(let Y=p.segment||0;Y>=0;Y--)G[Y]={x:_[Y].x,y:_[Y].y,tileUnitDistanceFromAnchor:V},Y>0&&(V+=_[Y-1].dist(_[Y]));for(let Y=0;Y<_.length;Y++){const ae=G[Y];this.lineVertexArray.emplaceBack(ae.x,ae.y,ae.tileUnitDistanceFromAnchor)}}return{lineStartIndex:O,lineLength:this.lineVertexArray.length-O}}addSymbols(p,_,O,k,V,G,Y,ae,fe,he,me,Oe){const Ae=p.indexArray,$e=p.layoutVertexArray,De=p.segments.prepareSegment(4*_.length,$e,Ae,this.canOverlap?G.sortKey:void 0),Xe=this.glyphOffsetArray.length,at=De.vertexLength,Ot=this.allowVerticalPlacement&&Y===s.ah.vertical?Math.PI/2:0,gt=G.text&&G.text.sections;for(let Me=0;Me<_.length;Me++){const{tl:Ke,tr:dt,bl:Wt,br:jn,tex:cn,pixelOffsetTL:yn,pixelOffsetBR:Vn,minFontScaleX:Bn,minFontScaleY:Kn,glyphOffset:Sn,isSDF:dr,sectionIndex:Fr}=_[Me],kr=De.vertexLength,Mr=Sn[1];q0($e,ae.x,ae.y,Ke.x,Mr+Ke.y,cn.x,cn.y,O,dr,yn.x,yn.y,Bn,Kn),q0($e,ae.x,ae.y,dt.x,Mr+dt.y,cn.x+cn.w,cn.y,O,dr,Vn.x,yn.y,Bn,Kn),q0($e,ae.x,ae.y,Wt.x,Mr+Wt.y,cn.x,cn.y+cn.h,O,dr,yn.x,Vn.y,Bn,Kn),q0($e,ae.x,ae.y,jn.x,Mr+jn.y,cn.x+cn.w,cn.y+cn.h,O,dr,Vn.x,Vn.y,Bn,Kn),Tb(p.dynamicLayoutVertexArray,ae,Ot),Ae.emplaceBack(kr,kr+2,kr+1),Ae.emplaceBack(kr+1,kr+2,kr+3),De.vertexLength+=4,De.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Sn[0]),Me!==_.length-1&&Fr===_[Me+1].sectionIndex||p.programConfigurations.populatePaintArrays($e.length,G,G.index,{},Oe,gt&&gt[Fr])}p.placedSymbolArray.emplaceBack(ae.x,ae.y,Xe,this.glyphOffsetArray.length-Xe,at,fe,he,ae.segment,O?O[0]:0,O?O[1]:0,k[0],k[1],Y,0,!1,0,me)}_addCollisionDebugVertex(p,_,O,k,V,G){return _.emplaceBack(0,0),p.emplaceBack(O.x,O.y,k,V,Math.round(G.x),Math.round(G.y))}addCollisionDebugVertices(p,_,O,k,V,G,Y){const ae=V.segments.prepareSegment(4,V.layoutVertexArray,V.indexArray),fe=ae.vertexLength,he=V.layoutVertexArray,me=V.collisionVertexArray,Oe=Y.anchorX,Ae=Y.anchorY;this._addCollisionDebugVertex(he,me,G,Oe,Ae,new v(p,_)),this._addCollisionDebugVertex(he,me,G,Oe,Ae,new v(O,_)),this._addCollisionDebugVertex(he,me,G,Oe,Ae,new v(O,k)),this._addCollisionDebugVertex(he,me,G,Oe,Ae,new v(p,k)),ae.vertexLength+=4;const $e=V.indexArray;$e.emplaceBack(fe,fe+1),$e.emplaceBack(fe+1,fe+2),$e.emplaceBack(fe+2,fe+3),$e.emplaceBack(fe+3,fe),ae.primitiveLength+=4}addDebugCollisionBoxes(p,_,O,k){for(let V=p;V<_;V++){const G=this.collisionBoxArray.get(V);this.addCollisionDebugVertices(G.x1,G.y1,G.x2,G.y2,k?this.textCollisionBox:this.iconCollisionBox,G.anchorPoint,O)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new m_(Mn,Zd.members,yr),this.iconCollisionBox=new m_(Mn,Zd.members,yr);for(let p=0;p<this.symbolInstances.length;p++){const _=this.symbolInstances.get(p);this.addDebugCollisionBoxes(_.textBoxStartIndex,_.textBoxEndIndex,_,!0),this.addDebugCollisionBoxes(_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_,!0),this.addDebugCollisionBoxes(_.iconBoxStartIndex,_.iconBoxEndIndex,_,!1),this.addDebugCollisionBoxes(_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex,_,!1)}}_deserializeCollisionBoxesForSymbol(p,_,O,k,V,G,Y,ae,fe){const he={};for(let me=_;me<O;me++){const Oe=p.get(me);he.textBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},he.textFeatureIndex=Oe.featureIndex;break}for(let me=k;me<V;me++){const Oe=p.get(me);he.verticalTextBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},he.verticalTextFeatureIndex=Oe.featureIndex;break}for(let me=G;me<Y;me++){const Oe=p.get(me);he.iconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},he.iconFeatureIndex=Oe.featureIndex;break}for(let me=ae;me<fe;me++){const Oe=p.get(me);he.verticalIconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},he.verticalIconFeatureIndex=Oe.featureIndex;break}return he}deserializeCollisionBoxes(p){this.collisionArrays=[];for(let _=0;_<this.symbolInstances.length;_++){const O=this.symbolInstances.get(_);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(p,O.textBoxStartIndex,O.textBoxEndIndex,O.verticalTextBoxStartIndex,O.verticalTextBoxEndIndex,O.iconBoxStartIndex,O.iconBoxEndIndex,O.verticalIconBoxStartIndex,O.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(p,_){const O=p.placedSymbolArray.get(_),k=O.vertexStartIndex+4*O.numGlyphs;for(let V=O.vertexStartIndex;V<k;V+=4)p.indexArray.emplaceBack(V,V+2,V+1),p.indexArray.emplaceBack(V+1,V+2,V+3)}getSortedSymbolIndexes(p){if(this.sortedAngle===p&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const _=Math.sin(p),O=Math.cos(p),k=[],V=[],G=[];for(let Y=0;Y<this.symbolInstances.length;++Y){G.push(Y);const ae=this.symbolInstances.get(Y);k.push(0|Math.round(_*ae.anchorX+O*ae.anchorY)),V.push(ae.featureIndex)}return G.sort((Y,ae)=>k[Y]-k[ae]||V[ae]-V[Y]),G}addToSortKeyRanges(p,_){const O=this.sortKeyRanges[this.sortKeyRanges.length-1];O&&O.sortKey===_?O.symbolInstanceEnd=p+1:this.sortKeyRanges.push({sortKey:_,symbolInstanceStart:p,symbolInstanceEnd:p+1})}sortFeatures(p){if(this.sortFeaturesByY&&this.sortedAngle!==p&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(p),this.sortedAngle=p,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const _ of this.symbolInstanceIndexes){const O=this.symbolInstances.get(_);this.featureSortOrder.push(O.featureIndex),[O.rightJustifiedTextSymbolIndex,O.centerJustifiedTextSymbolIndex,O.leftJustifiedTextSymbolIndex].forEach((k,V,G)=>{k>=0&&G.indexOf(k)===V&&this.addIndicesForPlacedSymbol(this.text,k)}),O.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,O.verticalPlacedTextSymbolIndex),O.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,O.placedIconSymbolIndex),O.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,O.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Y0,rw;lr("SymbolBucket",sm,{omit:["layers","collisionBoxArray","features","compareText"]}),sm.MAX_GLYPHS=65535,sm.addDynamicAttributes=Tb;var Mb={get paint(){return rw=rw||new Ts({"icon-opacity":new wr(xe.paint_symbol["icon-opacity"]),"icon-color":new wr(xe.paint_symbol["icon-color"]),"icon-halo-color":new wr(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new wr(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new wr(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new vr(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new vr(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new wr(xe.paint_symbol["text-opacity"]),"text-color":new wr(xe.paint_symbol["text-color"],{runtimeType:Tn,getOverride:b=>b.textColor,hasOverride:b=>!!b.textColor}),"text-halo-color":new wr(xe.paint_symbol["text-halo-color"]),"text-halo-width":new wr(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new wr(xe.paint_symbol["text-halo-blur"]),"text-translate":new vr(xe.paint_symbol["text-translate"]),"text-translate-anchor":new vr(xe.paint_symbol["text-translate-anchor"])})},get layout(){return Y0=Y0||new Ts({"symbol-placement":new vr(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new vr(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new vr(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new wr(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new vr(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new vr(xe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new vr(xe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new vr(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new vr(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new vr(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new wr(xe.layout_symbol["icon-size"]),"icon-text-fit":new vr(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new vr(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new wr(xe.layout_symbol["icon-image"]),"icon-rotate":new wr(xe.layout_symbol["icon-rotate"]),"icon-padding":new wr(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new vr(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new wr(xe.layout_symbol["icon-offset"]),"icon-anchor":new wr(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new vr(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new vr(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new vr(xe.layout_symbol["text-rotation-alignment"]),"text-field":new wr(xe.layout_symbol["text-field"]),"text-font":new wr(xe.layout_symbol["text-font"]),"text-size":new wr(xe.layout_symbol["text-size"]),"text-max-width":new wr(xe.layout_symbol["text-max-width"]),"text-line-height":new vr(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new wr(xe.layout_symbol["text-letter-spacing"]),"text-justify":new wr(xe.layout_symbol["text-justify"]),"text-radial-offset":new wr(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new vr(xe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new wr(xe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new wr(xe.layout_symbol["text-anchor"]),"text-max-angle":new vr(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new vr(xe.layout_symbol["text-writing-mode"]),"text-rotate":new wr(xe.layout_symbol["text-rotate"]),"text-padding":new vr(xe.layout_symbol["text-padding"]),"text-keep-upright":new vr(xe.layout_symbol["text-keep-upright"]),"text-transform":new wr(xe.layout_symbol["text-transform"]),"text-offset":new wr(xe.layout_symbol["text-offset"]),"text-allow-overlap":new vr(xe.layout_symbol["text-allow-overlap"]),"text-overlap":new vr(xe.layout_symbol["text-overlap"]),"text-ignore-placement":new vr(xe.layout_symbol["text-ignore-placement"]),"text-optional":new vr(xe.layout_symbol["text-optional"])})}};class mv{constructor(p){if(p.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=p.property.overrides?p.property.overrides.runtimeType:Fn,this.defaultValue=p}evaluate(p){if(p.formattedSection){const _=this.defaultValue.property.overrides;if(_&&_.hasOverride(p.formattedSection))return _.getOverride(p.formattedSection)}return p.feature&&p.featureState?this.defaultValue.evaluate(p.feature,p.featureState):this.defaultValue.property.specification.default}eachChild(p){this.defaultValue.isConstant()||p(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}lr("FormatSectionOverride",mv,{omit:["defaultValue"]});class hd extends ul{constructor(p){super(p,Mb)}recalculate(p,_){if(super.recalculate(p,_),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const O=this.layout.get("text-writing-mode");if(O){const k=[];for(const V of O)k.indexOf(V)<0&&k.push(V);this.layout._values["text-writing-mode"]=k}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(p,_,O,k){const V=this.layout.get(p).evaluate(_,{},O,k),G=this._unevaluatedLayout._values[p];return G.isDataDriven()||Yf(G.value)||!V?V:function(Y,ae){return ae.replace(/{([^{}]+)}/g,(fe,he)=>Y&&he in Y?String(Y[he]):"")}(_.properties,V)}createBucket(p){return new sm(p)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const p of Mb.paint.overridableProperties){if(!hd.hasPaintOverride(this.layout,p))continue;const _=this.paint.get(p),O=new mv(_),k=new lf(O,_.property.specification);let V=null;V=_.value.kind==="constant"||_.value.kind==="source"?new wp("source",k):new Bl("composite",k,_.value.zoomStops),this.paint._values[p]=new Ds(_.property,V,_.parameters)}}_handleOverridablePaintPropertyUpdate(p,_,O){return!(!this.layout||_.isDataDriven()||O.isDataDriven())&&hd.hasPaintOverride(this.layout,p)}static hasPaintOverride(p,_){const O=p.get("text-field"),k=Mb.paint.properties[_];let V=!1;const G=Y=>{for(const ae of Y)if(k.overrides&&k.overrides.hasOverride(ae))return void(V=!0)};if(O.value.kind==="constant"&&O.value.value instanceof Tr)G(O.value.value.sections);else if(O.value.kind==="source"){const Y=fe=>{V||(fe instanceof $c&&na(fe.value)===Cr?G(fe.value.sections):fe instanceof Rd?G(fe.sections):fe.eachChild(Y))},ae=O.value;ae._styleExpression&&Y(ae._styleExpression.expression)}return V}}let X0;var Z0={get paint(){return X0=X0||new Ts({"background-color":new vr(xe.paint_background["background-color"]),"background-pattern":new Vg(xe.paint_background["background-pattern"]),"background-opacity":new vr(xe.paint_background["background-opacity"])})}};class Ab extends ul{constructor(p){super(p,Z0)}}let qh;var Qd={get paint(){return qh=qh||new Ts({"raster-opacity":new vr(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new vr(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new vr(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new vr(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new vr(xe.paint_raster["raster-saturation"]),"raster-contrast":new vr(xe.paint_raster["raster-contrast"]),"raster-resampling":new vr(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new vr(xe.paint_raster["raster-fade-duration"])})}};class Q0 extends ul{constructor(p){super(p,Qd)}}class tC extends ul{constructor(p){super(p,{}),this.onAdd=_=>{this.implementation.onAdd&&this.implementation.onAdd(_,_.painter.context.gl)},this.onRemove=_=>{this.implementation.onRemove&&this.implementation.onRemove(_,_.painter.context.gl)},this.implementation=p}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class J0{constructor(p){this._methodToThrottle=p,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const ey={once:!0},Ib=63710088e-1;class Kh{constructor(p,_){if(isNaN(p)||isNaN(_))throw new Error(`Invalid LngLat object: (${p}, ${_})`);if(this.lng=+p,this.lat=+_,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Kh(Se(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(p){const _=Math.PI/180,O=this.lat*_,k=p.lat*_,V=Math.sin(O)*Math.sin(k)+Math.cos(O)*Math.cos(k)*Math.cos((p.lng-this.lng)*_);return Ib*Math.acos(Math.min(V,1))}static convert(p){if(p instanceof Kh)return p;if(Array.isArray(p)&&(p.length===2||p.length===3))return new Kh(Number(p[0]),Number(p[1]));if(!Array.isArray(p)&&typeof p=="object"&&p!==null)return new Kh(Number("lng"in p?p.lng:p.lon),Number(p.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Pb=2*Math.PI*Ib;function ty(b){return Pb*Math.cos(b*Math.PI/180)}function v_(b){return(180+b)/360}function y_(b){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+b*Math.PI/360)))/360}function iw(b,p){return b/ty(p)}function ny(b){return 360/Math.PI*Math.atan(Math.exp((180-360*b)*Math.PI/180))-90}function Rb(b,p){return b*ty(ny(p))}class ry{constructor(p,_,O=0){this.x=+p,this.y=+_,this.z=+O}static fromLngLat(p,_=0){const O=Kh.convert(p);return new ry(v_(O.lng),y_(O.lat),iw(_,O.lat))}toLngLat(){return new Kh(360*this.x-180,ny(this.y))}toAltitude(){return Rb(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Pb*(p=ny(this.y),1/Math.cos(p*Math.PI/180));var p}}function aw(b,p,_){var O=2*Math.PI*6378137/256/Math.pow(2,_);return[b*O-2*Math.PI*6378137/2,p*O-2*Math.PI*6378137/2]}class lm{constructor(p,_,O){if(!function(k,V,G){return!(k<0||k>25||G<0||G>=Math.pow(2,k)||V<0||V>=Math.pow(2,k))}(p,_,O))throw new Error(`x=${_}, y=${O}, z=${p} outside of bounds. 0<=x<${Math.pow(2,p)}, 0<=y<${Math.pow(2,p)} 0<=z<=25 `);this.z=p,this.x=_,this.y=O,this.key=Fi(0,p,p,_,O)}equals(p){return this.z===p.z&&this.x===p.x&&this.y===p.y}url(p,_,O){const k=(G=this.y,Y=this.z,ae=aw(256*(V=this.x),256*(G=Math.pow(2,Y)-G-1),Y),fe=aw(256*(V+1),256*(G+1),Y),ae[0]+","+ae[1]+","+fe[0]+","+fe[1]);var V,G,Y,ae,fe;const he=function(me,Oe,Ae){let $e,De="";for(let Xe=me;Xe>0;Xe--)$e=1<<Xe-1,De+=(Oe&$e?1:0)+(Ae&$e?2:0);return De}(this.z,this.x,this.y);return p[(this.x+this.y)%p.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(O==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,_>1?"@2x":"").replace(/{quadkey}/g,he).replace(/{bbox-epsg-3857}/g,k)}isChildOf(p){const _=this.z-p.z;return _>0&&p.x===this.x>>_&&p.y===this.y>>_}getTilePoint(p){const _=Math.pow(2,this.z);return new v((p.x*_-this.x)*Z,(p.y*_-this.y)*Z)}toString(){return`${this.z}/${this.x}/${this.y}`}}class ow{constructor(p,_){this.wrap=p,this.canonical=_,this.key=Fi(p,_.z,_.z,_.x,_.y)}}class gu{constructor(p,_,O,k,V){if(this.terrainRttPosMatrix32f=null,p<O)throw new Error(`overscaledZ should be >= z; overscaledZ = ${p}; z = ${O}`);this.overscaledZ=p,this.wrap=_,this.canonical=new lm(O,+k,+V),this.key=Fi(_,p,O,k,V)}clone(){return new gu(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(p){return this.overscaledZ===p.overscaledZ&&this.wrap===p.wrap&&this.canonical.equals(p.canonical)}scaledTo(p){if(p>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${p}; overscaledZ = ${this.overscaledZ}`);const _=this.canonical.z-p;return p>this.canonical.z?new gu(p,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new gu(p,this.wrap,p,this.canonical.x>>_,this.canonical.y>>_)}calculateScaledKey(p,_){if(p>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${p}; overscaledZ = ${this.overscaledZ}`);const O=this.canonical.z-p;return p>this.canonical.z?Fi(this.wrap*+_,p,this.canonical.z,this.canonical.x,this.canonical.y):Fi(this.wrap*+_,p,p,this.canonical.x>>O,this.canonical.y>>O)}isChildOf(p){if(p.wrap!==this.wrap)return!1;const _=this.canonical.z-p.canonical.z;return p.overscaledZ===0||p.overscaledZ<this.overscaledZ&&p.canonical.x===this.canonical.x>>_&&p.canonical.y===this.canonical.y>>_}children(p){if(this.overscaledZ>=p)return[new gu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const _=this.canonical.z+1,O=2*this.canonical.x,k=2*this.canonical.y;return[new gu(_,this.wrap,_,O,k),new gu(_,this.wrap,_,O+1,k),new gu(_,this.wrap,_,O,k+1),new gu(_,this.wrap,_,O+1,k+1)]}isLessThan(p){return this.wrap<p.wrap||!(this.wrap>p.wrap)&&(this.overscaledZ<p.overscaledZ||!(this.overscaledZ>p.overscaledZ)&&(this.canonical.x<p.canonical.x||!(this.canonical.x>p.canonical.x)&&this.canonical.y<p.canonical.y))}wrapped(){return new gu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(p){return new gu(this.overscaledZ,p,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ow(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(p){return this.canonical.getTilePoint(new ry(p.x-this.wrap,p.y))}}function Fi(b,p,_,O,k){(b*=2)<0&&(b=-1*b-1);const V=1<<_;return(V*V*b+V*k+O).toString(36)+_.toString(36)+p.toString(36)}lr("CanonicalTileID",lm),lr("OverscaledTileID",gu,{omit:["terrainRttPosMatrix32f"]});class $b{constructor(p,_,O,k=1,V=1,G=1,Y=0){if(this.uid=p,_.height!==_.width)throw new RangeError("DEM tiles must be square");if(O&&!["mapbox","terrarium","custom"].includes(O))return void Ue(`"${O}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=_.height;const ae=this.dim=_.height-2;switch(this.data=new Uint32Array(_.data.buffer),O){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=k,this.greenFactor=V,this.blueFactor=G,this.baseShift=Y;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let fe=0;fe<ae;fe++)this.data[this._idx(-1,fe)]=this.data[this._idx(0,fe)],this.data[this._idx(ae,fe)]=this.data[this._idx(ae-1,fe)],this.data[this._idx(fe,-1)]=this.data[this._idx(fe,0)],this.data[this._idx(fe,ae)]=this.data[this._idx(fe,ae-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ae,-1)]=this.data[this._idx(ae-1,0)],this.data[this._idx(-1,ae)]=this.data[this._idx(0,ae-1)],this.data[this._idx(ae,ae)]=this.data[this._idx(ae-1,ae-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let fe=0;fe<ae;fe++)for(let he=0;he<ae;he++){const me=this.get(fe,he);me>this.max&&(this.max=me),me<this.min&&(this.min=me)}}get(p,_){const O=new Uint8Array(this.data.buffer),k=4*this._idx(p,_);return this.unpack(O[k],O[k+1],O[k+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(p,_){if(p<-1||p>=this.dim+1||_<-1||_>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(_+1)*this.stride+(p+1)}unpack(p,_,O){return p*this.redFactor+_*this.greenFactor+O*this.blueFactor-this.baseShift}getPixels(){return new lu({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(p,_,O){if(this.dim!==p.dim)throw new Error("dem dimension mismatch");let k=_*this.dim,V=_*this.dim+this.dim,G=O*this.dim,Y=O*this.dim+this.dim;switch(_){case-1:k=V-1;break;case 1:V=k+1}switch(O){case-1:G=Y-1;break;case 1:Y=G+1}const ae=-_*this.dim,fe=-O*this.dim;for(let he=G;he<Y;he++)for(let me=k;me<V;me++)this.data[this._idx(me,he)]=p.data[this._idx(me+ae,he+fe)]}}lr("DEMData",$b);class Vc{constructor(p){this._stringToNumber={},this._numberToString=[];for(let _=0;_<p.length;_++){const O=p[_];this._stringToNumber[O]=_,this._numberToString[_]=O}}encode(p){return this._stringToNumber[p]}decode(p){if(p>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${p} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[p]}}class kb{constructor(p,_,O,k,V){this.type="Feature",this._vectorTileFeature=p,p._z=_,p._x=O,p._y=k,this.properties=p.properties,this.id=V}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(p){this._geometry=p}toJSON(){const p={geometry:this.geometry};for(const _ in this)_!=="_geometry"&&_!=="_vectorTileFeature"&&(p[_]=this[_]);return p}}class b_{constructor(p,_){this.tileID=p,this.x=p.canonical.x,this.y=p.canonical.y,this.z=p.canonical.z,this.grid=new Lh(Z,16,0),this.grid3D=new Lh(Z,16,0),this.featureIndexArray=new pt,this.promoteId=_}insert(p,_,O,k,V,G){const Y=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(O,k,V);const ae=G?this.grid3D:this.grid;for(let fe=0;fe<_.length;fe++){const he=_[fe],me=[1/0,1/0,-1/0,-1/0];for(let Oe=0;Oe<he.length;Oe++){const Ae=he[Oe];me[0]=Math.min(me[0],Ae.x),me[1]=Math.min(me[1],Ae.y),me[2]=Math.max(me[2],Ae.x),me[3]=Math.max(me[3],Ae.y)}me[0]<Z&&me[1]<Z&&me[2]>=0&&me[3]>=0&&ae.insert(Y,me[0],me[1],me[2],me[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new em.VectorTile(new Dp(this.rawTileData)).layers,this.sourceLayerCoder=new Vc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(p,_,O,k){this.loadVTLayers();const V=p.params,G=Z/p.tileSize/p.scale,Y=Bg(V.filter),ae=p.queryGeometry,fe=p.queryPadding*G,he=oi(ae),me=this.grid.query(he.minX-fe,he.minY-fe,he.maxX+fe,he.maxY+fe),Oe=oi(p.cameraQueryGeometry),Ae=this.grid3D.query(Oe.minX-fe,Oe.minY-fe,Oe.maxX+fe,Oe.maxY+fe,(Xe,at,Ot,gt)=>function(Me,Ke,dt,Wt,jn){for(const yn of Me)if(Ke<=yn.x&&dt<=yn.y&&Wt>=yn.x&&jn>=yn.y)return!0;const cn=[new v(Ke,dt),new v(Ke,jn),new v(Wt,jn),new v(Wt,dt)];if(Me.length>2){for(const yn of cn)if(Co(Me,yn))return!0}for(let yn=0;yn<Me.length-1;yn++)if(k0(Me[yn],Me[yn+1],cn))return!0;return!1}(p.cameraQueryGeometry,Xe-fe,at-fe,Ot+fe,gt+fe));for(const Xe of Ae)me.push(Xe);me.sort(Lb);const $e={};let De;for(let Xe=0;Xe<me.length;Xe++){const at=me[Xe];if(at===De)continue;De=at;const Ot=this.featureIndexArray.get(at);let gt=null;this.loadMatchingFeature($e,Ot.bucketIndex,Ot.sourceLayerIndex,Ot.featureIndex,Y,V.layers,V.availableImages,_,O,k,(Me,Ke,dt)=>(gt||(gt=As(Me)),Ke.queryIntersectsFeature({queryGeometry:ae,feature:Me,featureState:dt,geometry:gt,zoom:this.z,transform:p.transform,pixelsToTileUnits:G,pixelPosMatrix:p.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:p.getElevation})))}return $e}loadMatchingFeature(p,_,O,k,V,G,Y,ae,fe,he,me){const Oe=this.bucketLayerIDs[_];if(G&&!Oe.some(Xe=>G.has(Xe)))return;const Ae=this.sourceLayerCoder.decode(O),$e=this.vtLayers[Ae].feature(k);if(V.needGeometry){const Xe=zu($e,!0);if(!V.filter(new ho(this.tileID.overscaledZ),Xe,this.tileID.canonical))return}else if(!V.filter(new ho(this.tileID.overscaledZ),$e))return;const De=this.getId($e,Ae);for(let Xe=0;Xe<Oe.length;Xe++){const at=Oe[Xe];if(G&&!G.has(at))continue;const Ot=ae[at];if(!Ot)continue;let gt={};De&&he&&(gt=he.getState(Ot.sourceLayer||"_geojsonTileLayer",De));const Me=Re({},fe[at]);Me.paint=Jd(Me.paint,Ot.paint,$e,gt,Y),Me.layout=Jd(Me.layout,Ot.layout,$e,gt,Y);const Ke=!me||me($e,Ot,gt);if(!Ke)continue;const dt=new kb($e,this.z,this.x,this.y,De);dt.layer=Me;let Wt=p[at];Wt===void 0&&(Wt=p[at]=[]),Wt.push({featureIndex:k,feature:dt,intersectionZ:Ke})}}lookupSymbolFeatures(p,_,O,k,V,G,Y,ae){const fe={};this.loadVTLayers();const he=Bg(V);for(const me of p)this.loadMatchingFeature(fe,O,k,me,he,G,Y,ae,_);return fe}hasLayer(p){for(const _ of this.bucketLayerIDs)for(const O of _)if(p===O)return!0;return!1}getId(p,_){var O;let k=p.id;return this.promoteId&&(k=p.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[_]],typeof k=="boolean"&&(k=Number(k)),k===void 0&&(!((O=p.properties)===null||O===void 0)&&O.cluster)&&this.promoteId&&(k=Number(p.properties.cluster_id))),k}}function Jd(b,p,_,O,k){return Fe(b,(V,G)=>{const Y=p instanceof nd?p.get(G):null;return Y&&Y.evaluate?Y.evaluate(_,O,k):Y})}function oi(b){let p=1/0,_=1/0,O=-1/0,k=-1/0;for(const V of b)p=Math.min(p,V.x),_=Math.min(_,V.y),O=Math.max(O,V.x),k=Math.max(k,V.y);return{minX:p,minY:_,maxX:O,maxY:k}}function Lb(b,p){return p-b}function pl(b,p,_,O,k){const V=[];for(let G=0;G<b.length;G++){const Y=b[G];let ae;for(let fe=0;fe<Y.length-1;fe++){let he=Y[fe],me=Y[fe+1];he.x<p&&me.x<p||(he.x<p?he=new v(p,he.y+(p-he.x)/(me.x-he.x)*(me.y-he.y))._round():me.x<p&&(me=new v(p,he.y+(p-he.x)/(me.x-he.x)*(me.y-he.y))._round()),he.y<_&&me.y<_||(he.y<_?he=new v(he.x+(_-he.y)/(me.y-he.y)*(me.x-he.x),_)._round():me.y<_&&(me=new v(he.x+(_-he.y)/(me.y-he.y)*(me.x-he.x),_)._round()),he.x>=O&&me.x>=O||(he.x>=O?he=new v(O,he.y+(O-he.x)/(me.x-he.x)*(me.y-he.y))._round():me.x>=O&&(me=new v(O,he.y+(O-he.x)/(me.x-he.x)*(me.y-he.y))._round()),he.y>=k&&me.y>=k||(he.y>=k?he=new v(he.x+(k-he.y)/(me.y-he.y)*(me.x-he.x),k)._round():me.y>=k&&(me=new v(he.x+(k-he.y)/(me.y-he.y)*(me.x-he.x),k)._round()),ae&&he.equals(ae[ae.length-1])||(ae=[he],V.push(ae)),ae.push(me)))))}}return V}lr("FeatureIndex",b_,{omit:["rawTileData","sourceLayerCoder"]});class go extends v{constructor(p,_,O,k){super(p,_),this.angle=O,k!==void 0&&(this.segment=k)}clone(){return new go(this.x,this.y,this.angle,this.segment)}}function sw(b,p,_,O,k){if(p.segment===void 0||_===0)return!0;let V=p,G=p.segment+1,Y=0;for(;Y>-_/2;){if(G--,G<0)return!1;Y-=b[G].dist(V),V=b[G]}Y+=b[G].dist(b[G+1]),G++;const ae=[];let fe=0;for(;Y<_/2;){const he=b[G],me=b[G+1];if(!me)return!1;let Oe=b[G-1].angleTo(he)-he.angleTo(me);for(Oe=Math.abs((Oe+3*Math.PI)%(2*Math.PI)-Math.PI),ae.push({distance:Y,angleDelta:Oe}),fe+=Oe;Y-ae[0].distance>O;)fe-=ae.shift().angleDelta;if(fe>k)return!1;G++,Y+=he.dist(me)}return!0}function Yh(b){let p=0;for(let _=0;_<b.length-1;_++)p+=b[_].dist(b[_+1]);return p}function __(b,p,_){return b?.6*p*_:0}function x_(b,p){return Math.max(b?b.right-b.left:0,p?p.right-p.left:0)}function Nb(b,p,_,O,k,V){const G=__(_,k,V),Y=x_(_,O)*V;let ae=0;const fe=Yh(b)/2;for(let he=0;he<b.length-1;he++){const me=b[he],Oe=b[he+1],Ae=me.dist(Oe);if(ae+Ae>fe){const $e=(fe-ae)/Ae,De=hc.number(me.x,Oe.x,$e),Xe=hc.number(me.y,Oe.y,$e),at=new go(De,Xe,Oe.angleTo(me),he);return at._round(),!G||sw(b,at,Y,G,p)?at:void 0}ae+=Ae}}function Eo(b,p,_,O,k,V,G,Y,ae){const fe=__(O,V,G),he=x_(O,k),me=he*G,Oe=b[0].x===0||b[0].x===ae||b[0].y===0||b[0].y===ae;return p-me<p/4&&(p=me+p/4),Db(b,Oe?p/2*Y%p:(he/2+2*V)*G*Y%p,p,fe,_,me,Oe,!1,ae)}function Db(b,p,_,O,k,V,G,Y,ae){const fe=V/2,he=Yh(b);let me=0,Oe=p-_,Ae=[];for(let $e=0;$e<b.length-1;$e++){const De=b[$e],Xe=b[$e+1],at=De.dist(Xe),Ot=Xe.angleTo(De);for(;Oe+_<me+at;){Oe+=_;const gt=(Oe-me)/at,Me=hc.number(De.x,Xe.x,gt),Ke=hc.number(De.y,Xe.y,gt);if(Me>=0&&Me<ae&&Ke>=0&&Ke<ae&&Oe-fe>=0&&Oe+fe<=he){const dt=new go(Me,Ke,Ot,$e);dt._round(),O&&!sw(b,dt,V,O,k)||Ae.push(dt)}}me+=at}return Y||Ae.length||G||(Ae=Db(b,me/2,_,O,k,V,G,!0,ae)),Ae}lr("Anchor",go);const Is=nc;function lw(b,p,_,O){const k=[],V=b.image,G=V.pixelRatio,Y=V.paddedRect.w-2*Is,ae=V.paddedRect.h-2*Is;let fe={x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};const he=V.stretchX||[[0,Y]],me=V.stretchY||[[0,ae]],Oe=(Sn,dr)=>Sn+dr[1]-dr[0],Ae=he.reduce(Oe,0),$e=me.reduce(Oe,0),De=Y-Ae,Xe=ae-$e;let at=0,Ot=Ae,gt=0,Me=$e,Ke=0,dt=De,Wt=0,jn=Xe;if(V.content&&O){const Sn=V.content,dr=Sn[2]-Sn[0],Fr=Sn[3]-Sn[1];(V.textFitWidth||V.textFitHeight)&&(fe=om(b)),at=mu(he,0,Sn[0]),gt=mu(me,0,Sn[1]),Ot=mu(he,Sn[0],Sn[2]),Me=mu(me,Sn[1],Sn[3]),Ke=Sn[0]-at,Wt=Sn[1]-gt,dt=dr-Ot,jn=Fr-Me}const cn=fe.x1,yn=fe.y1,Vn=fe.x2-cn,Bn=fe.y2-yn,Kn=(Sn,dr,Fr,kr)=>{const Mr=eh(Sn.stretch-at,Ot,Vn,cn),Di=jo(Sn.fixed-Ke,dt,Sn.stretch,Ae),Fo=eh(dr.stretch-gt,Me,Bn,yn),Ps=jo(dr.fixed-Wt,jn,dr.stretch,$e),El=eh(Fr.stretch-at,Ot,Vn,cn),Sc=jo(Fr.fixed-Ke,dt,Fr.stretch,Ae),Gc=eh(kr.stretch-gt,Me,Bn,yn),_s=jo(kr.fixed-Wt,jn,kr.stretch,$e),Oo=new v(Mr,Fo),Bs=new v(El,Fo),js=new v(El,Gc),Zs=new v(Mr,Gc),rc=new v(Di/G,Ps/G),Cc=new v(Sc/G,_s/G),To=p*Math.PI/180;if(To){const xs=Math.sin(To),ws=Math.cos(To),mo=[ws,-xs,xs,ws];Oo._matMult(mo),Bs._matMult(mo),Zs._matMult(mo),js._matMult(mo)}const Fs=Sn.stretch+Sn.fixed,Mo=dr.stretch+dr.fixed;return{tl:Oo,tr:Bs,bl:Zs,br:js,tex:{x:V.paddedRect.x+Is+Fs,y:V.paddedRect.y+Is+Mo,w:Fr.stretch+Fr.fixed-Fs,h:kr.stretch+kr.fixed-Mo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:rc,pixelOffsetBR:Cc,minFontScaleX:dt/G/Vn,minFontScaleY:jn/G/Bn,isSDF:_}};if(O&&(V.stretchX||V.stretchY)){const Sn=iy(he,De,Ae),dr=iy(me,Xe,$e);for(let Fr=0;Fr<Sn.length-1;Fr++){const kr=Sn[Fr],Mr=Sn[Fr+1];for(let Di=0;Di<dr.length-1;Di++)k.push(Kn(kr,dr[Di],Mr,dr[Di+1]))}}else k.push(Kn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Y+1},{fixed:0,stretch:ae+1}));return k}function mu(b,p,_){let O=0;for(const k of b)O+=Math.max(p,Math.min(_,k[1]))-Math.max(p,Math.min(_,k[0]));return O}function iy(b,p,_){const O=[{fixed:-1,stretch:0}];for(const[k,V]of b){const G=O[O.length-1];O.push({fixed:k-G.stretch,stretch:G.stretch}),O.push({fixed:k-G.stretch,stretch:G.stretch+(V-k)})}return O.push({fixed:p+Is,stretch:_}),O}function eh(b,p,_,O){return b/p*_+O}function jo(b,p,_,O){return b-p*_/O}class Qo{constructor(p,_,O,k,V,G,Y,ae,fe,he){var me;if(this.boxStartIndex=p.length,fe){let Oe=G.top,Ae=G.bottom;const $e=G.collisionPadding;$e&&(Oe-=$e[1],Ae+=$e[3]);let De=Ae-Oe;De>0&&(De=Math.max(10,De),this.circleDiameter=De)}else{const Oe=!((me=G.image)===null||me===void 0)&&me.content&&(G.image.textFitWidth||G.image.textFitHeight)?om(G):{x1:G.left,y1:G.top,x2:G.right,y2:G.bottom};Oe.y1=Oe.y1*Y-ae[0],Oe.y2=Oe.y2*Y+ae[2],Oe.x1=Oe.x1*Y-ae[3],Oe.x2=Oe.x2*Y+ae[1];const Ae=G.collisionPadding;if(Ae&&(Oe.x1-=Ae[0]*Y,Oe.y1-=Ae[1]*Y,Oe.x2+=Ae[2]*Y,Oe.y2+=Ae[3]*Y),he){const $e=new v(Oe.x1,Oe.y1),De=new v(Oe.x2,Oe.y1),Xe=new v(Oe.x1,Oe.y2),at=new v(Oe.x2,Oe.y2),Ot=he*Math.PI/180;$e._rotate(Ot),De._rotate(Ot),Xe._rotate(Ot),at._rotate(Ot),Oe.x1=Math.min($e.x,De.x,Xe.x,at.x),Oe.x2=Math.max($e.x,De.x,Xe.x,at.x),Oe.y1=Math.min($e.y,De.y,Xe.y,at.y),Oe.y2=Math.max($e.y,De.y,Xe.y,at.y)}p.emplaceBack(_.x,_.y,Oe.x1,Oe.y1,Oe.x2,Oe.y2,O,k,V)}this.boxEndIndex=p.length}}class zb{constructor(p=[],_=(O,k)=>O<k?-1:O>k?1:0){if(this.data=p,this.length=this.data.length,this.compare=_,this.length>0)for(let O=(this.length>>1)-1;O>=0;O--)this._down(O)}push(p){this.data.push(p),this._up(this.length++)}pop(){if(this.length===0)return;const p=this.data[0],_=this.data.pop();return--this.length>0&&(this.data[0]=_,this._down(0)),p}peek(){return this.data[0]}_up(p){const{data:_,compare:O}=this,k=_[p];for(;p>0;){const V=p-1>>1,G=_[V];if(O(k,G)>=0)break;_[p]=G,p=V}_[p]=k}_down(p){const{data:_,compare:O}=this,k=this.length>>1,V=_[p];for(;p<k;){let G=1+(p<<1);const Y=G+1;if(Y<this.length&&O(_[Y],_[G])<0&&(G=Y),O(_[G],V)>=0)break;_[p]=_[G],p=G}_[p]=V}}function w_(b,p=1,_=!1){let O=1/0,k=1/0,V=-1/0,G=-1/0;const Y=b[0];for(let Ae=0;Ae<Y.length;Ae++){const $e=Y[Ae];(!Ae||$e.x<O)&&(O=$e.x),(!Ae||$e.y<k)&&(k=$e.y),(!Ae||$e.x>V)&&(V=$e.x),(!Ae||$e.y>G)&&(G=$e.y)}const ae=Math.min(V-O,G-k);let fe=ae/2;const he=new zb([],nC);if(ae===0)return new v(O,k);for(let Ae=O;Ae<V;Ae+=ae)for(let $e=k;$e<G;$e+=ae)he.push(new cm(Ae+fe,$e+fe,fe,b));let me=function(Ae){let $e=0,De=0,Xe=0;const at=Ae[0];for(let Ot=0,gt=at.length,Me=gt-1;Ot<gt;Me=Ot++){const Ke=at[Ot],dt=at[Me],Wt=Ke.x*dt.y-dt.x*Ke.y;De+=(Ke.x+dt.x)*Wt,Xe+=(Ke.y+dt.y)*Wt,$e+=3*Wt}return new cm(De/$e,Xe/$e,0,Ae)}(b),Oe=he.length;for(;he.length;){const Ae=he.pop();(Ae.d>me.d||!me.d)&&(me=Ae,_&&console.log("found best %d after %d probes",Math.round(1e4*Ae.d)/1e4,Oe)),Ae.max-me.d<=p||(fe=Ae.h/2,he.push(new cm(Ae.p.x-fe,Ae.p.y-fe,fe,b)),he.push(new cm(Ae.p.x+fe,Ae.p.y-fe,fe,b)),he.push(new cm(Ae.p.x-fe,Ae.p.y+fe,fe,b)),he.push(new cm(Ae.p.x+fe,Ae.p.y+fe,fe,b)),Oe+=4)}return _&&(console.log(`num probes: ${Oe}`),console.log(`best distance: ${me.d}`)),me.p}function nC(b,p){return p.max-b.max}function cm(b,p,_,O){this.p=new v(b,p),this.h=_,this.d=function(k,V){let G=!1,Y=1/0;for(let ae=0;ae<V.length;ae++){const fe=V[ae];for(let he=0,me=fe.length,Oe=me-1;he<me;Oe=he++){const Ae=fe[he],$e=fe[Oe];Ae.y>k.y!=$e.y>k.y&&k.x<($e.x-Ae.x)*(k.y-Ae.y)/($e.y-Ae.y)+Ae.x&&(G=!G),Y=Math.min(Y,Ud(k,Ae,$e))}}return(G?1:-1)*Math.sqrt(Y)}(this.p,O),this.max=this.d+this.h*Math.SQRT2}var Vl;s.ay=void 0,(Vl=s.ay||(s.ay={}))[Vl.center=1]="center",Vl[Vl.left=2]="left",Vl[Vl.right=3]="right",Vl[Vl.top=4]="top",Vl[Vl.bottom=5]="bottom",Vl[Vl["top-left"]=6]="top-left",Vl[Vl["top-right"]=7]="top-right",Vl[Vl["bottom-left"]=8]="bottom-left",Vl[Vl["bottom-right"]=9]="bottom-right";const Xh=7,S_=Number.POSITIVE_INFINITY;function C_(b,p){return p[1]!==S_?function(_,O,k){let V=0,G=0;switch(O=Math.abs(O),k=Math.abs(k),_){case"top-right":case"top-left":case"top":G=k-Xh;break;case"bottom-right":case"bottom-left":case"bottom":G=-k+Xh}switch(_){case"top-right":case"bottom-right":case"right":V=-O;break;case"top-left":case"bottom-left":case"left":V=O}return[V,G]}(b,p[0],p[1]):function(_,O){let k=0,V=0;O<0&&(O=0);const G=O/Math.SQRT2;switch(_){case"top-right":case"top-left":V=G-Xh;break;case"bottom-right":case"bottom-left":V=-G+Xh;break;case"bottom":V=-O+Xh;break;case"top":V=O-Xh}switch(_){case"top-right":case"bottom-right":k=-G;break;case"top-left":case"bottom-left":k=G;break;case"left":k=O;break;case"right":k=-O}return[k,V]}(b,p[0])}function Vu(b,p,_){var O;const k=b.layout,V=(O=k.get("text-variable-anchor-offset"))===null||O===void 0?void 0:O.evaluate(p,{},_);if(V){const Y=V.values,ae=[];for(let fe=0;fe<Y.length;fe+=2){const he=ae[fe]=Y[fe],me=Y[fe+1].map(Oe=>Oe*as);he.startsWith("top")?me[1]-=Xh:he.startsWith("bottom")&&(me[1]+=Xh),ae[fe+1]=me}return new Ii(ae)}const G=k.get("text-variable-anchor");if(G){let Y;Y=b._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[k.get("text-radial-offset").evaluate(p,{},_)*as,S_]:k.get("text-offset").evaluate(p,{},_).map(fe=>fe*as);const ae=[];for(const fe of G)ae.push(fe,C_(fe,Y));return new Ii(ae)}return null}function vv(b){switch(b){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function E_(b,p,_,O,k,V,G,Y,ae,fe,he,me){let Oe=V.textMaxSize.evaluate(p,{});Oe===void 0&&(Oe=G);const Ae=b.layers[0].layout,$e=Ae.get("icon-offset").evaluate(p,{},he),De=ay(_.horizontal),Xe=G/24,at=b.tilePixelRatio*Xe,Ot=b.tilePixelRatio*Oe/24,gt=b.tilePixelRatio*Y,Me=b.tilePixelRatio*Ae.get("symbol-spacing"),Ke=Ae.get("text-padding")*b.tilePixelRatio,dt=function(Fr,kr,Mr,Di=1){const Fo=Fr.get("icon-padding").evaluate(kr,{},Mr),Ps=Fo&&Fo.values;return[Ps[0]*Di,Ps[1]*Di,Ps[2]*Di,Ps[3]*Di]}(Ae,p,he,b.tilePixelRatio),Wt=Ae.get("text-max-angle")/180*Math.PI,jn=Ae.get("text-rotation-alignment")!=="viewport"&&Ae.get("symbol-placement")!=="point",cn=Ae.get("icon-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point",yn=Ae.get("symbol-placement"),Vn=Me/2,Bn=Ae.get("icon-text-fit");let Kn;O&&Bn!=="none"&&(b.allowVerticalPlacement&&_.vertical&&(Kn=W0(O,_.vertical,Bn,Ae.get("icon-text-fit-padding"),$e,Xe)),De&&(O=W0(O,De,Bn,Ae.get("icon-text-fit-padding"),$e,Xe)));const Sn=he?me.line.getGranularityForZoomLevel(he.z):1,dr=(Fr,kr)=>{kr.x<0||kr.x>=Z||kr.y<0||kr.y>=Z||function(Mr,Di,Fo,Ps,El,Sc,Gc,_s,Oo,Bs,js,Zs,rc,Cc,To,Fs,Mo,xs,ws,mo,Ao,Of,th,pd,cw){const Zh=Mr.addToLineVertexArray(Di,Fo);let Fp,bv,Qh,Jh,M_=0,_v=0,jb=0,sy=0,Fb=-1,A_=-1;const Tf={};let m=Nu("");if(Mr.allowVerticalPlacement&&Ps.vertical){const Ri=_s.layout.get("text-rotate").evaluate(Ao,{},pd)+90;Qh=new Qo(Oo,Di,Bs,js,Zs,Ps.vertical,rc,Cc,To,Ri),Gc&&(Jh=new Qo(Oo,Di,Bs,js,Zs,Gc,Mo,xs,To,Ri))}if(El){const Ri=_s.layout.get("icon-rotate").evaluate(Ao,{}),Ut=_s.layout.get("icon-text-fit")!=="none",kt=lw(El,Ri,th,Ut),qt=Gc?lw(Gc,Ri,th,Ut):void 0;bv=new Qo(Oo,Di,Bs,js,Zs,El,Mo,xs,!1,Ri),M_=4*kt.length;const zn=Mr.iconSizeData;let Sr=null;zn.kind==="source"?(Sr=[pu*_s.layout.get("icon-size").evaluate(Ao,{})],Sr[0]>Wh&&Ue(`${Mr.layerIds[0]}: Value for "icon-size" is >= ${gv}. Reduce your "icon-size".`)):zn.kind==="composite"&&(Sr=[pu*Of.compositeIconSizes[0].evaluate(Ao,{},pd),pu*Of.compositeIconSizes[1].evaluate(Ao,{},pd)],(Sr[0]>Wh||Sr[1]>Wh)&&Ue(`${Mr.layerIds[0]}: Value for "icon-size" is >= ${gv}. Reduce your "icon-size".`)),Mr.addSymbols(Mr.icon,kt,Sr,mo,ws,Ao,s.ah.none,Di,Zh.lineStartIndex,Zh.lineLength,-1,pd),Fb=Mr.icon.placedSymbolArray.length-1,qt&&(_v=4*qt.length,Mr.addSymbols(Mr.icon,qt,Sr,mo,ws,Ao,s.ah.vertical,Di,Zh.lineStartIndex,Zh.lineLength,-1,pd),A_=Mr.icon.placedSymbolArray.length-1)}const S=Object.keys(Ps.horizontal);for(const Ri of S){const Ut=Ps.horizontal[Ri];if(!Fp){m=Nu(Ut.text);const qt=_s.layout.get("text-rotate").evaluate(Ao,{},pd);Fp=new Qo(Oo,Di,Bs,js,Zs,Ut,rc,Cc,To,qt)}const kt=Ut.positionedLines.length===1;if(jb+=O_(Mr,Di,Ut,Sc,_s,To,Ao,Fs,Zh,Ps.vertical?s.ah.horizontal:s.ah.horizontalOnly,kt?S:[Ri],Tf,Fb,Of,pd),kt)break}Ps.vertical&&(sy+=O_(Mr,Di,Ps.vertical,Sc,_s,To,Ao,Fs,Zh,s.ah.vertical,["vertical"],Tf,A_,Of,pd));const A=Fp?Fp.boxStartIndex:Mr.collisionBoxArray.length,B=Fp?Fp.boxEndIndex:Mr.collisionBoxArray.length,J=Qh?Qh.boxStartIndex:Mr.collisionBoxArray.length,ue=Qh?Qh.boxEndIndex:Mr.collisionBoxArray.length,Ie=bv?bv.boxStartIndex:Mr.collisionBoxArray.length,Ge=bv?bv.boxEndIndex:Mr.collisionBoxArray.length,Ct=Jh?Jh.boxStartIndex:Mr.collisionBoxArray.length,an=Jh?Jh.boxEndIndex:Mr.collisionBoxArray.length;let An=-1;const Hn=(Ri,Ut)=>Ri&&Ri.circleDiameter?Math.max(Ri.circleDiameter,Ut):Ut;An=Hn(Fp,An),An=Hn(Qh,An),An=Hn(bv,An),An=Hn(Jh,An);const fn=An>-1?1:0;fn&&(An*=cw/as),Mr.glyphOffsetArray.length>=sm.MAX_GLYPHS&&Ue("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ao.sortKey!==void 0&&Mr.addToSortKeyRanges(Mr.symbolInstances.length,Ao.sortKey);const on=Vu(_s,Ao,pd),[ni,Qr]=function(Ri,Ut){const kt=Ri.length,qt=Ut?.values;if(qt?.length>0)for(let zn=0;zn<qt.length;zn+=2){const Sr=qt[zn+1];Ri.emplaceBack(s.ay[qt[zn]],Sr[0],Sr[1])}return[kt,Ri.length]}(Mr.textAnchorOffsets,on);Mr.symbolInstances.emplaceBack(Di.x,Di.y,Tf.right>=0?Tf.right:-1,Tf.center>=0?Tf.center:-1,Tf.left>=0?Tf.left:-1,Tf.vertical||-1,Fb,A_,m,A,B,J,ue,Ie,Ge,Ct,an,Bs,jb,sy,M_,_v,fn,0,rc,An,ni,Qr)}(b,kr,Fr,_,O,k,Kn,b.layers[0],b.collisionBoxArray,p.index,p.sourceLayerIndex,b.index,at,[Ke,Ke,Ke,Ke],jn,ae,gt,dt,cn,$e,p,V,fe,he,G)};if(yn==="line")for(const Fr of pl(p.geometry,0,0,Z,Z)){const kr=Xd(Fr,Sn),Mr=Eo(kr,Me,Wt,_.vertical||De,O,24,Ot,b.overscaling,Z);for(const Di of Mr)De&&Uc(b,De.text,Vn,Di)||dr(kr,Di)}else if(yn==="line-center"){for(const Fr of p.geometry)if(Fr.length>1){const kr=Xd(Fr,Sn),Mr=Nb(kr,Wt,_.vertical||De,O,24,Ot);Mr&&dr(kr,Mr)}}else if(p.type==="Polygon")for(const Fr of tf(p.geometry,0)){const kr=w_(Fr,16);dr(Xd(Fr[0],Sn,!0),new go(kr.x,kr.y,0))}else if(p.type==="LineString")for(const Fr of p.geometry){const kr=Xd(Fr,Sn);dr(kr,new go(kr[0].x,kr[0].y,0))}else if(p.type==="Point")for(const Fr of p.geometry)for(const kr of Fr)dr([kr],new go(kr.x,kr.y,0))}function O_(b,p,_,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e){const De=function(Ot,gt,Me,Ke,dt,Wt,jn,cn){const yn=Ke.layout.get("text-rotate").evaluate(Wt,{})*Math.PI/180,Vn=[];for(const Bn of gt.positionedLines)for(const Kn of Bn.positionedGlyphs){if(!Kn.rect)continue;const Sn=Kn.rect||{};let dr=hv+1,Fr=!0,kr=1,Mr=0;const Di=(dt||cn)&&Kn.vertical,Fo=Kn.metrics.advance*Kn.scale/2;if(cn&&gt.verticalizable&&(Mr=Bn.lineOffset/2-(Kn.imageName?-(as-Kn.metrics.width*Kn.scale)/2:(Kn.scale-1)*as)),Kn.imageName){const xs=jn[Kn.imageName];Fr=xs.sdf,kr=xs.pixelRatio,dr=nc/kr}const Ps=dt?[Kn.x+Fo,Kn.y]:[0,0];let El=dt?[0,0]:[Kn.x+Fo+Me[0],Kn.y+Me[1]-Mr],Sc=[0,0];Di&&(Sc=El,El=[0,0]);const Gc=Kn.metrics.isDoubleResolution?2:1,_s=(Kn.metrics.left-dr)*Kn.scale-Fo+El[0],Oo=(-Kn.metrics.top-dr)*Kn.scale+El[1],Bs=_s+Sn.w/Gc*Kn.scale/kr,js=Oo+Sn.h/Gc*Kn.scale/kr,Zs=new v(_s,Oo),rc=new v(Bs,Oo),Cc=new v(_s,js),To=new v(Bs,js);if(Di){const xs=new v(-Fo,Fo-pv),ws=-Math.PI/2,mo=as/2-Fo,Ao=new v(5-pv-mo,-(Kn.imageName?mo:0)),Of=new v(...Sc);Zs._rotateAround(ws,xs)._add(Ao)._add(Of),rc._rotateAround(ws,xs)._add(Ao)._add(Of),Cc._rotateAround(ws,xs)._add(Ao)._add(Of),To._rotateAround(ws,xs)._add(Ao)._add(Of)}if(yn){const xs=Math.sin(yn),ws=Math.cos(yn),mo=[ws,-xs,xs,ws];Zs._matMult(mo),rc._matMult(mo),Cc._matMult(mo),To._matMult(mo)}const Fs=new v(0,0),Mo=new v(0,0);Vn.push({tl:Zs,tr:rc,bl:Cc,br:To,tex:Sn,writingMode:gt.writingMode,glyphOffset:Ps,sectionIndex:Kn.sectionIndex,isSDF:Fr,pixelOffsetTL:Fs,pixelOffsetBR:Mo,minFontScaleX:0,minFontScaleY:0})}return Vn}(0,_,Y,k,V,G,O,b.allowVerticalPlacement),Xe=b.textSizeData;let at=null;Xe.kind==="source"?(at=[pu*k.layout.get("text-size").evaluate(G,{})],at[0]>Wh&&Ue(`${b.layerIds[0]}: Value for "text-size" is >= ${gv}. Reduce your "text-size".`)):Xe.kind==="composite"&&(at=[pu*Ae.compositeTextSizes[0].evaluate(G,{},$e),pu*Ae.compositeTextSizes[1].evaluate(G,{},$e)],(at[0]>Wh||at[1]>Wh)&&Ue(`${b.layerIds[0]}: Value for "text-size" is >= ${gv}. Reduce your "text-size".`)),b.addSymbols(b.text,De,at,Y,V,G,fe,p,ae.lineStartIndex,ae.lineLength,Oe,$e);for(const Ot of he)me[Ot]=b.text.placedSymbolArray.length-1;return 4*De.length}function ay(b){for(const p in b)return b[p];return null}function Uc(b,p,_,O){const k=b.compareText;if(p in k){const V=k[p];for(let G=V.length-1;G>=0;G--)if(O.dist(V[G])<_)return!0}else k[p]=[];return k[p].push(O),!1}const um=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Uu{static from(p){if(!(p instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[_,O]=new Uint8Array(p,0,2);if(_!==219)throw new Error("Data does not appear to be in a KDBush format.");const k=O>>4;if(k!==1)throw new Error(`Got v${k} data when expected v1.`);const V=um[15&O];if(!V)throw new Error("Unrecognized array type.");const[G]=new Uint16Array(p,2,1),[Y]=new Uint32Array(p,4,1);return new Uu(Y,G,V,p)}constructor(p,_=64,O=Float64Array,k){if(isNaN(p)||p<0)throw new Error(`Unpexpected numItems value: ${p}.`);this.numItems=+p,this.nodeSize=Math.min(Math.max(+_,2),65535),this.ArrayType=O,this.IndexArrayType=p<65536?Uint16Array:Uint32Array;const V=um.indexOf(this.ArrayType),G=2*p*this.ArrayType.BYTES_PER_ELEMENT,Y=p*this.IndexArrayType.BYTES_PER_ELEMENT,ae=(8-Y%8)%8;if(V<0)throw new Error(`Unexpected typed array class: ${O}.`);k&&k instanceof ArrayBuffer?(this.data=k,this.ids=new this.IndexArrayType(this.data,8,p),this.coords=new this.ArrayType(this.data,8+Y+ae,2*p),this._pos=2*p,this._finished=!0):(this.data=new ArrayBuffer(8+G+Y+ae),this.ids=new this.IndexArrayType(this.data,8,p),this.coords=new this.ArrayType(this.data,8+Y+ae,2*p),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+V]),new Uint16Array(this.data,2,1)[0]=_,new Uint32Array(this.data,4,1)[0]=p)}add(p,_){const O=this._pos>>1;return this.ids[O]=O,this.coords[this._pos++]=p,this.coords[this._pos++]=_,O}finish(){const p=this._pos>>1;if(p!==this.numItems)throw new Error(`Added ${p} items when expected ${this.numItems}.`);return oy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(p,_,O,k){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:V,coords:G,nodeSize:Y}=this,ae=[0,V.length-1,0],fe=[];for(;ae.length;){const he=ae.pop()||0,me=ae.pop()||0,Oe=ae.pop()||0;if(me-Oe<=Y){for(let Xe=Oe;Xe<=me;Xe++){const at=G[2*Xe],Ot=G[2*Xe+1];at>=p&&at<=O&&Ot>=_&&Ot<=k&&fe.push(V[Xe])}continue}const Ae=Oe+me>>1,$e=G[2*Ae],De=G[2*Ae+1];$e>=p&&$e<=O&&De>=_&&De<=k&&fe.push(V[Ae]),(he===0?p<=$e:_<=De)&&(ae.push(Oe),ae.push(Ae-1),ae.push(1-he)),(he===0?O>=$e:k>=De)&&(ae.push(Ae+1),ae.push(me),ae.push(1-he))}return fe}within(p,_,O){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:k,coords:V,nodeSize:G}=this,Y=[0,k.length-1,0],ae=[],fe=O*O;for(;Y.length;){const he=Y.pop()||0,me=Y.pop()||0,Oe=Y.pop()||0;if(me-Oe<=G){for(let Xe=Oe;Xe<=me;Xe++)vu(V[2*Xe],V[2*Xe+1],p,_)<=fe&&ae.push(k[Xe]);continue}const Ae=Oe+me>>1,$e=V[2*Ae],De=V[2*Ae+1];vu($e,De,p,_)<=fe&&ae.push(k[Ae]),(he===0?p-O<=$e:_-O<=De)&&(Y.push(Oe),Y.push(Ae-1),Y.push(1-he)),(he===0?p+O>=$e:_+O>=De)&&(Y.push(Ae+1),Y.push(me),Y.push(1-he))}return ae}}function oy(b,p,_,O,k,V){if(k-O<=_)return;const G=O+k>>1;T_(b,p,G,O,k,V),oy(b,p,_,O,G-1,1-V),oy(b,p,_,G+1,k,1-V)}function T_(b,p,_,O,k,V){for(;k>O;){if(k-O>600){const fe=k-O+1,he=_-O+1,me=Math.log(fe),Oe=.5*Math.exp(2*me/3),Ae=.5*Math.sqrt(me*Oe*(fe-Oe)/fe)*(he-fe/2<0?-1:1);T_(b,p,_,Math.max(O,Math.floor(_-he*Oe/fe+Ae)),Math.min(k,Math.floor(_+(fe-he)*Oe/fe+Ae)),V)}const G=p[2*_+V];let Y=O,ae=k;for(yv(b,p,O,_),p[2*k+V]>G&&yv(b,p,O,k);Y<ae;){for(yv(b,p,Y,ae),Y++,ae--;p[2*Y+V]<G;)Y++;for(;p[2*ae+V]>G;)ae--}p[2*O+V]===G?yv(b,p,O,ae):(ae++,yv(b,p,ae,k)),ae<=_&&(O=ae+1),_<=ae&&(k=ae-1)}}function yv(b,p,_,O){fm(b,_,O),fm(p,2*_,2*O),fm(p,2*_+1,2*O+1)}function fm(b,p,_){const O=b[p];b[p]=b[_],b[_]=O}function vu(b,p,_,O){const k=b-_,V=p-O;return k*k+V*V}var Ef;s.ck=void 0,(Ef=s.ck||(s.ck={})).create="create",Ef.load="load",Ef.fullLoad="fullLoad";let ui=null,yu=[];const bu=1e3/60,Bb="loadTime",jp="fullLoadTime",Za={mark(b){performance.mark(b)},frame(b){const p=b;ui!=null&&yu.push(p-ui),ui=p},clearMetrics(){ui=null,yu=[],performance.clearMeasures(Bb),performance.clearMeasures(jp);for(const b in s.ck)performance.clearMarks(s.ck[b])},getPerformanceMetrics(){performance.measure(Bb,s.ck.create,s.ck.load),performance.measure(jp,s.ck.create,s.ck.fullLoad);const b=performance.getEntriesByName(Bb)[0].duration,p=performance.getEntriesByName(jp)[0].duration,_=yu.length,O=1/(yu.reduce((V,G)=>V+G,0)/_/1e3),k=yu.filter(V=>V>bu).reduce((V,G)=>V+(G-bu)/bu,0);return{loadTime:b,fullLoadTime:p,fps:O,percentDroppedFrames:k/(_+k)*100,totalFrames:_}}};s.$=ry,s.A=D,s.B=hc,s.C=ho,s.D=vr,s.E=we,s.F=G1,s.G=function(b){if(We==null){const p=b.navigator?b.navigator.userAgent:null;We=!!b.safari||!(!p||!(/\b(iPad|iPhone|iPod)\b/.test(p)||p.match("Safari")&&!p.match("Chrome")))}return We},s.H=class{constructor(b,p){this.target=b,this.mapId=p,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new J0(()=>this.process()),this.subscription=Jt(this.target,"message",_=>this.receive(_),!1),this.globalScope=qe(self)?b:window}registerMessageHandler(b,p){this.messageHandlers[b]=p}sendAsync(b,p){return new Promise((_,O)=>{const k=Math.round(1e18*Math.random()).toString(36).substring(0,10),V=p?Jt(p.signal,"abort",()=>{V?.unsubscribe(),delete this.resolveRejects[k];const ae={id:k,type:"<cancel>",origin:location.origin,targetMapId:b.targetMapId,sourceMapId:this.mapId};this.target.postMessage(ae)},ey):null;this.resolveRejects[k]={resolve:ae=>{V?.unsubscribe(),_(ae)},reject:ae=>{V?.unsubscribe(),O(ae)}};const G=[],Y=Object.assign(Object.assign({},b),{id:k,sourceMapId:this.mapId,origin:location.origin,data:Nh(b.data,G)});this.target.postMessage(Y,{transfer:G})})}receive(b){const p=b.data,_=p.id;if(!(p.origin!=="file://"&&location.origin!=="file://"&&p.origin!=="resource://android"&&location.origin!=="resource://android"&&p.origin!==location.origin||p.targetMapId&&this.mapId!==p.targetMapId)){if(p.type==="<cancel>"){delete this.tasks[_];const O=this.abortControllers[_];return delete this.abortControllers[_],void(O&&O.abort())}if(qe(self)||p.mustQueue)return this.tasks[_]=p,this.taskQueue.push(_),void this.invoker.trigger();this.processTask(_,p)}}process(){if(this.taskQueue.length===0)return;const b=this.taskQueue.shift(),p=this.tasks[b];delete this.tasks[b],this.taskQueue.length>0&&this.invoker.trigger(),p&&this.processTask(b,p)}processTask(b,p){return o(this,void 0,void 0,function*(){if(p.type==="<response>"){const k=this.resolveRejects[b];return delete this.resolveRejects[b],k?void(p.error?k.reject(ed(p.error)):k.resolve(ed(p.data))):void 0}if(!this.messageHandlers[p.type])return void this.completeTask(b,new Error(`Could not find a registered handler for ${p.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const _=ed(p.data),O=new AbortController;this.abortControllers[b]=O;try{const k=yield this.messageHandlers[p.type](p.sourceMapId,_,O);this.completeTask(b,null,k)}catch(k){this.completeTask(b,k)}})}completeTask(b,p,_){const O=[];delete this.abortControllers[b];const k={id:b,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:p?Nh(p):null,data:Nh(_,O)};this.target.postMessage(k,{transfer:O})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.I=V0,s.J=kn,s.K=function(){var b=new D(16);return D!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},s.L=function(b,p,_){var O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De=_[0],Xe=_[1],at=_[2];return p===b?(b[12]=p[0]*De+p[4]*Xe+p[8]*at+p[12],b[13]=p[1]*De+p[5]*Xe+p[9]*at+p[13],b[14]=p[2]*De+p[6]*Xe+p[10]*at+p[14],b[15]=p[3]*De+p[7]*Xe+p[11]*at+p[15]):(k=p[1],V=p[2],G=p[3],Y=p[4],ae=p[5],fe=p[6],he=p[7],me=p[8],Oe=p[9],Ae=p[10],$e=p[11],b[0]=O=p[0],b[1]=k,b[2]=V,b[3]=G,b[4]=Y,b[5]=ae,b[6]=fe,b[7]=he,b[8]=me,b[9]=Oe,b[10]=Ae,b[11]=$e,b[12]=O*De+Y*Xe+me*at+p[12],b[13]=k*De+ae*Xe+Oe*at+p[13],b[14]=V*De+fe*Xe+Ae*at+p[14],b[15]=G*De+he*Xe+$e*at+p[15]),b},s.M=function(b,p,_){var O=_[0],k=_[1],V=_[2];return b[0]=p[0]*O,b[1]=p[1]*O,b[2]=p[2]*O,b[3]=p[3]*O,b[4]=p[4]*k,b[5]=p[5]*k,b[6]=p[6]*k,b[7]=p[7]*k,b[8]=p[8]*V,b[9]=p[9]*V,b[10]=p[10]*V,b[11]=p[11]*V,b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15],b},s.N=function(b,p,_){var O=p[0],k=p[1],V=p[2],G=p[3],Y=p[4],ae=p[5],fe=p[6],he=p[7],me=p[8],Oe=p[9],Ae=p[10],$e=p[11],De=p[12],Xe=p[13],at=p[14],Ot=p[15],gt=_[0],Me=_[1],Ke=_[2],dt=_[3];return b[0]=gt*O+Me*Y+Ke*me+dt*De,b[1]=gt*k+Me*ae+Ke*Oe+dt*Xe,b[2]=gt*V+Me*fe+Ke*Ae+dt*at,b[3]=gt*G+Me*he+Ke*$e+dt*Ot,b[4]=(gt=_[4])*O+(Me=_[5])*Y+(Ke=_[6])*me+(dt=_[7])*De,b[5]=gt*k+Me*ae+Ke*Oe+dt*Xe,b[6]=gt*V+Me*fe+Ke*Ae+dt*at,b[7]=gt*G+Me*he+Ke*$e+dt*Ot,b[8]=(gt=_[8])*O+(Me=_[9])*Y+(Ke=_[10])*me+(dt=_[11])*De,b[9]=gt*k+Me*ae+Ke*Oe+dt*Xe,b[10]=gt*V+Me*fe+Ke*Ae+dt*at,b[11]=gt*G+Me*he+Ke*$e+dt*Ot,b[12]=(gt=_[12])*O+(Me=_[13])*Y+(Ke=_[14])*me+(dt=_[15])*De,b[13]=gt*k+Me*ae+Ke*Oe+dt*Xe,b[14]=gt*V+Me*fe+Ke*Ae+dt*at,b[15]=gt*G+Me*he+Ke*$e+dt*Ot,b},s.O=function(b,p){const _={};for(let O=0;O<p.length;O++){const k=p[O];k in b&&(_[k]=b[k])}return _},s.P=v,s.Q=Kh,s.R=lu,s.S=y_,s.T=vf,s.U=v_,s.V=M,s.W=R,s.X=ft,s.Y=gu,s.Z=Z,s._=o,s.a=dn,s.a$=function(b,p,_){var O=Math.sin(_),k=Math.cos(_),V=p[4],G=p[5],Y=p[6],ae=p[7],fe=p[8],he=p[9],me=p[10],Oe=p[11];return p!==b&&(b[0]=p[0],b[1]=p[1],b[2]=p[2],b[3]=p[3],b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15]),b[4]=V*k+fe*O,b[5]=G*k+he*O,b[6]=Y*k+me*O,b[7]=ae*k+Oe*O,b[8]=fe*k-V*O,b[9]=he*k-G*O,b[10]=me*k-Y*O,b[11]=Oe*k-ae*O,b},s.a0=25,s.a1=lm,s.a2=b=>{const p=window.document.createElement("video");return p.muted=!0,new Promise(_=>{p.onloadstart=()=>{_(p)};for(const O of b){const k=window.document.createElement("source");Qt(O)||(p.crossOrigin="Anonymous"),k.src=O,p.appendChild(k)}})},s.a3=Tt,s.a4=function(){return je++},s.a5=se,s.a6=sm,s.a7=Bg,s.a8=zu,s.a9=kb,s.aA=vv,s.aB=Sb,s.aC=Uu,s.aD=Xr,s.aE=F0,s.aF=bt,s.aG=vi,s.aH=Nn,s.aI=function(b){return Math.pow(2,b)},s.aJ=85.051129,s.aK=iw,s.aL=Se,s.aM=xt,s.aN=Rb,s.aO=function(b,p,_){return b[0]=p[0]*_,b[1]=p[1]*_,b[2]=p[2]*_,b},s.aP=function(b,p,_){return b[0]=p[0]+_[0],b[1]=p[1]+_[1],b[2]=p[2]+_[2],b},s.aQ=function(b){var p=new D(3);return p[0]=b[0],p[1]=b[1],p[2]=b[2],p},s.aR=function(b,p,_){return b[0]=p[0]*_[0],b[1]=p[1]*_[1],b[2]=p[2]*_[2],b[3]=p[3]*_[3],b},s.aS=function(b,p,_){return b[0]=p[0]-_[0],b[1]=p[1]-_[1],b[2]=p[2]-_[2],b},s.aT=function(b,p){var _=p[0],O=p[1],k=p[2],V=_*_+O*O+k*k;return V>0&&(V=1/Math.sqrt(V)),b[0]=p[0]*V,b[1]=p[1]*V,b[2]=p[2]*V,b},s.aU=function(b,p,_){var O=p[0],k=p[1],V=p[2],G=_[0],Y=_[1],ae=_[2];return b[0]=k*ae-V*Y,b[1]=V*G-O*ae,b[2]=O*Y-k*G,b},s.aV=function(b,p){return b[0]*p[0]+b[1]*p[1]+b[2]*p[2]},s.aW=ow,s.aX=Fi,s.aY=function(b,p,_,O,k){var V,G=1/Math.tan(p/2);return b[0]=G/_,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=G,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,k!=null&&k!==1/0?(b[10]=(k+O)*(V=1/(O-k)),b[14]=2*k*O*V):(b[10]=-1,b[14]=-2*O),b},s.aZ=function(b){var p=new D(16);return p[0]=b[0],p[1]=b[1],p[2]=b[2],p[3]=b[3],p[4]=b[4],p[5]=b[5],p[6]=b[6],p[7]=b[7],p[8]=b[8],p[9]=b[9],p[10]=b[10],p[11]=b[11],p[12]=b[12],p[13]=b[13],p[14]=b[14],p[15]=b[15],p},s.a_=function(b,p,_){var O=Math.sin(_),k=Math.cos(_),V=p[0],G=p[1],Y=p[2],ae=p[3],fe=p[4],he=p[5],me=p[6],Oe=p[7];return p!==b&&(b[8]=p[8],b[9]=p[9],b[10]=p[10],b[11]=p[11],b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15]),b[0]=V*k+fe*O,b[1]=G*k+he*O,b[2]=Y*k+me*O,b[3]=ae*k+Oe*O,b[4]=fe*k-V*O,b[5]=he*k-G*O,b[6]=me*k-Y*O,b[7]=Oe*k-ae*O,b},s.aa=function(b){const p={};if(b.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(_,O,k,V)=>{const G=k||V;return p[O]=!G||G.toLowerCase(),""}),p["max-age"]){const _=parseInt(p["max-age"],10);isNaN(_)?delete p["max-age"]:p["max-age"]=_}return p},s.ab=function(b){return Math.log(b)/Math.LN2},s.ac=function(b){var p=b[0],_=b[1];return p*p+_*_},s.ad=function(b){return b*Math.PI/180},s.ae=_e,s.af=function(b,p){const _=[];for(const O in b)O in p||_.push(O);return _},s.ag=function(b,p){let _=0,O=0;if(b.kind==="constant")O=b.layoutSize;else if(b.kind!=="source"){const{interpolationType:k,minZoom:V,maxZoom:G}=b,Y=k?_e(ol.interpolationFactor(k,p,V,G),0,1):0;b.kind==="camera"?O=hc.number(b.minSize,b.maxSize,Y):_=Y}return{uSizeT:_,uSize:O}},s.ai=function(b,{uSize:p,uSizeT:_},{lowerSize:O,upperSize:k}){return b.kind==="source"?O/pu:b.kind==="composite"?hc.number(O/pu,k/pu,_):p},s.aj=function(b,p){var _=p[0],O=p[1],k=p[2],V=p[3],G=p[4],Y=p[5],ae=p[6],fe=p[7],he=p[8],me=p[9],Oe=p[10],Ae=p[11],$e=p[12],De=p[13],Xe=p[14],at=p[15],Ot=_*Y-O*G,gt=_*ae-k*G,Me=_*fe-V*G,Ke=O*ae-k*Y,dt=O*fe-V*Y,Wt=k*fe-V*ae,jn=he*De-me*$e,cn=he*Xe-Oe*$e,yn=he*at-Ae*$e,Vn=me*Xe-Oe*De,Bn=me*at-Ae*De,Kn=Oe*at-Ae*Xe,Sn=Ot*Kn-gt*Bn+Me*Vn+Ke*yn-dt*cn+Wt*jn;return Sn?(b[0]=(Y*Kn-ae*Bn+fe*Vn)*(Sn=1/Sn),b[1]=(k*Bn-O*Kn-V*Vn)*Sn,b[2]=(De*Wt-Xe*dt+at*Ke)*Sn,b[3]=(Oe*dt-me*Wt-Ae*Ke)*Sn,b[4]=(ae*yn-G*Kn-fe*cn)*Sn,b[5]=(_*Kn-k*yn+V*cn)*Sn,b[6]=(Xe*Me-$e*Wt-at*gt)*Sn,b[7]=(he*Wt-Oe*Me+Ae*gt)*Sn,b[8]=(G*Bn-Y*yn+fe*jn)*Sn,b[9]=(O*yn-_*Bn-V*jn)*Sn,b[10]=($e*dt-De*Me+at*Ot)*Sn,b[11]=(me*Me-he*dt-Ae*Ot)*Sn,b[12]=(Y*cn-G*Vn-ae*jn)*Sn,b[13]=(_*Vn-O*cn+k*jn)*Sn,b[14]=(De*gt-$e*Ke-Xe*Ot)*Sn,b[15]=(he*Ke-me*gt+Oe*Ot)*Sn,b):null},s.ak=te,s.al=function(b){return Math.hypot(b[0],b[1])},s.am=function(b){return b[0]=0,b[1]=0,b},s.an=function(b,p,_){return b[0]=p[0]*_,b[1]=p[1]*_,b},s.ao=Tb,s.ap=Q,s.aq=function(b,p,_,O){const k=p.y-b.y,V=p.x-b.x,G=O.y-_.y,Y=O.x-_.x,ae=G*V-Y*k;if(ae===0)return null;const fe=(Y*(b.y-_.y)-G*(b.x-_.x))/ae;return new v(b.x+fe*V,b.y+fe*k)},s.ar=pl,s.as=Tp,s.at=U,s.au=function(b){let p=1/0,_=1/0,O=-1/0,k=-1/0;for(const V of b)p=Math.min(p,V.x),_=Math.min(_,V.y),O=Math.max(O,V.x),k=Math.max(k,V.y);return[p,_,O,k]},s.av=as,s.aw=re,s.ax=function(b,p,_,O,k=!1){if(!_[0]&&!_[1])return[0,0];const V=k?O==="map"?-b.bearingInRadians:0:O==="viewport"?b.bearingInRadians:0;if(V){const G=Math.sin(V),Y=Math.cos(V);_=[_[0]*Y-_[1]*G,_[0]*G+_[1]*Y]}return[k?_[0]:re(p,_[0],b.zoom),k?_[1]:re(p,_[1],b.zoom)]},s.az=Eb,s.b=rt,s.b$=b=>b.type==="symbol",s.b0=function(){const b=new Float32Array(16);return U(b),b},s.b1=function(){const b=new Float64Array(16);return U(b),b},s.b2=function(){return new Float64Array(16)},s.b3=function(b,p,_){const O=new Float64Array(4);return function(k,V,G,Y){var ae=.5*Math.PI/180;V*=ae,G*=ae,Y*=ae;var fe=Math.sin(V),he=Math.cos(V),me=Math.sin(G),Oe=Math.cos(G),Ae=Math.sin(Y),$e=Math.cos(Y);k[0]=fe*Oe*$e-he*me*Ae,k[1]=he*me*$e+fe*Oe*Ae,k[2]=he*Oe*Ae-fe*me*$e,k[3]=he*Oe*$e+fe*me*Ae}(O,b,p-90,_),O},s.b4=function(b,p,_,O){var k,V,G,Y,ae,fe=p[0],he=p[1],me=p[2],Oe=p[3],Ae=_[0],$e=_[1],De=_[2],Xe=_[3];return(V=fe*Ae+he*$e+me*De+Oe*Xe)<0&&(V=-V,Ae=-Ae,$e=-$e,De=-De,Xe=-Xe),1-V>N?(k=Math.acos(V),G=Math.sin(k),Y=Math.sin((1-O)*k)/G,ae=Math.sin(O*k)/G):(Y=1-O,ae=O),b[0]=Y*fe+ae*Ae,b[1]=Y*he+ae*$e,b[2]=Y*me+ae*De,b[3]=Y*Oe+ae*Xe,b},s.b5=function(b){const p=new Float64Array(9);var _,O,k,V,G,Y,ae,fe,he,me,Oe,Ae,$e,De,Xe,at,Ot,gt;me=(k=(O=b)[0])*(ae=k+k),Oe=(V=O[1])*ae,$e=(G=O[2])*ae,De=G*(fe=V+V),at=(Y=O[3])*ae,Ot=Y*fe,gt=Y*(he=G+G),(_=p)[0]=1-(Ae=V*fe)-(Xe=G*he),_[3]=Oe-gt,_[6]=$e+Ot,_[1]=Oe+gt,_[4]=1-me-Xe,_[7]=De-at,_[2]=$e-Ot,_[5]=De+at,_[8]=1-me-Ae;const Me=xt(-Math.asin(_e(p[2],-1,1)));let Ke,dt;return Math.hypot(p[5],p[8])<.001?(Ke=0,dt=-xt(Math.atan2(p[3],p[4]))):(Ke=xt(p[5]===0&&p[8]===0?0:Math.atan2(p[5],p[8])),dt=xt(p[1]===0&&p[0]===0?0:Math.atan2(p[1],p[0]))),{roll:Ke,pitch:Me+90,bearing:dt}},s.b6=function(b,p){return b.roll==p.roll&&b.pitch==p.pitch&&b.bearing==p.bearing},s.b7=Br,s.b8=Bc,s.b9=$p,s.bA=function(b,p){if(!b)return[{command:"setStyle",args:[p]}];let _=[];try{if(!ct(b.version,p.version))return[{command:"setStyle",args:[p]}];ct(b.center,p.center)||_.push({command:"setCenter",args:[p.center]}),ct(b.centerAltitude,p.centerAltitude)||_.push({command:"setCenterAltitude",args:[p.centerAltitude]}),ct(b.zoom,p.zoom)||_.push({command:"setZoom",args:[p.zoom]}),ct(b.bearing,p.bearing)||_.push({command:"setBearing",args:[p.bearing]}),ct(b.pitch,p.pitch)||_.push({command:"setPitch",args:[p.pitch]}),ct(b.roll,p.roll)||_.push({command:"setRoll",args:[p.roll]}),ct(b.sprite,p.sprite)||_.push({command:"setSprite",args:[p.sprite]}),ct(b.glyphs,p.glyphs)||_.push({command:"setGlyphs",args:[p.glyphs]}),ct(b.transition,p.transition)||_.push({command:"setTransition",args:[p.transition]}),ct(b.light,p.light)||_.push({command:"setLight",args:[p.light]}),ct(b.terrain,p.terrain)||_.push({command:"setTerrain",args:[p.terrain]}),ct(b.sky,p.sky)||_.push({command:"setSky",args:[p.sky]}),ct(b.projection,p.projection)||_.push({command:"setProjection",args:[p.projection]});const O={},k=[];(function(G,Y,ae,fe){let he;for(he in Y=Y||{},G=G||{})Object.prototype.hasOwnProperty.call(G,he)&&(Object.prototype.hasOwnProperty.call(Y,he)||jt(he,ae,fe));for(he in Y)Object.prototype.hasOwnProperty.call(Y,he)&&(Object.prototype.hasOwnProperty.call(G,he)?ct(G[he],Y[he])||(G[he].type==="geojson"&&Y[he].type==="geojson"&&vt(G,Y,he)?_t(ae,{command:"setGeoJSONSourceData",args:[he,Y[he].data]}):$t(he,Y,ae,fe)):yt(he,Y,ae))})(b.sources,p.sources,k,O);const V=[];b.layers&&b.layers.forEach(G=>{"source"in G&&O[G.source]?_.push({command:"removeLayer",args:[G.id]}):V.push(G)}),_=_.concat(k),function(G,Y,ae){Y=Y||[];const fe=(G=G||[]).map(zt),he=Y.map(zt),me=G.reduce(Dt,{}),Oe=Y.reduce(Dt,{}),Ae=fe.slice(),$e=Object.create(null);let De,Xe,at,Ot,gt;for(let Me=0,Ke=0;Me<fe.length;Me++)De=fe[Me],Object.prototype.hasOwnProperty.call(Oe,De)?Ke++:(_t(ae,{command:"removeLayer",args:[De]}),Ae.splice(Ae.indexOf(De,Ke),1));for(let Me=0,Ke=0;Me<he.length;Me++)De=he[he.length-1-Me],Ae[Ae.length-1-Me]!==De&&(Object.prototype.hasOwnProperty.call(me,De)?(_t(ae,{command:"removeLayer",args:[De]}),Ae.splice(Ae.lastIndexOf(De,Ae.length-Ke),1)):Ke++,Ot=Ae[Ae.length-Me],_t(ae,{command:"addLayer",args:[Oe[De],Ot]}),Ae.splice(Ae.length-Me,0,De),$e[De]=!0);for(let Me=0;Me<he.length;Me++)if(De=he[Me],Xe=me[De],at=Oe[De],!$e[De]&&!ct(Xe,at))if(ct(Xe.source,at.source)&&ct(Xe["source-layer"],at["source-layer"])&&ct(Xe.type,at.type)){for(gt in It(Xe.layout,at.layout,ae,De,null,"setLayoutProperty"),It(Xe.paint,at.paint,ae,De,null,"setPaintProperty"),ct(Xe.filter,at.filter)||_t(ae,{command:"setFilter",args:[De,at.filter]}),ct(Xe.minzoom,at.minzoom)&&ct(Xe.maxzoom,at.maxzoom)||_t(ae,{command:"setLayerZoomRange",args:[De,at.minzoom,at.maxzoom]}),Xe)Object.prototype.hasOwnProperty.call(Xe,gt)&&gt!=="layout"&&gt!=="paint"&&gt!=="filter"&&gt!=="metadata"&&gt!=="minzoom"&&gt!=="maxzoom"&&(gt.indexOf("paint.")===0?It(Xe[gt],at[gt],ae,De,gt.slice(6),"setPaintProperty"):ct(Xe[gt],at[gt])||_t(ae,{command:"setLayerProperty",args:[De,gt,at[gt]]}));for(gt in at)Object.prototype.hasOwnProperty.call(at,gt)&&!Object.prototype.hasOwnProperty.call(Xe,gt)&&gt!=="layout"&&gt!=="paint"&&gt!=="filter"&&gt!=="metadata"&&gt!=="minzoom"&&gt!=="maxzoom"&&(gt.indexOf("paint.")===0?It(Xe[gt],at[gt],ae,De,gt.slice(6),"setPaintProperty"):ct(Xe[gt],at[gt])||_t(ae,{command:"setLayerProperty",args:[De,gt,at[gt]]}))}else _t(ae,{command:"removeLayer",args:[De]}),Ot=Ae[Ae.lastIndexOf(De)+1],_t(ae,{command:"addLayer",args:[at,Ot]})}(V,p.layers,_)}catch(O){console.warn("Unable to compute style diff:",O),_=[{command:"setStyle",args:[p]}]}return _},s.bB=function(b){const p=[],_=b.id;return _===void 0&&p.push({message:`layers.${_}: missing required property "id"`}),b.render===void 0&&p.push({message:`layers.${_}: missing required method "render"`}),b.renderingMode&&b.renderingMode!=="2d"&&b.renderingMode!=="3d"&&p.push({message:`layers.${_}: property "renderingMode" must be either "2d" or "3d"`}),p},s.bC=function b(p,_){if(Array.isArray(p)){if(!Array.isArray(_)||p.length!==_.length)return!1;for(let O=0;O<p.length;O++)if(!b(p[O],_[O]))return!1;return!0}if(typeof p=="object"&&p!==null&&_!==null){if(typeof _!="object"||Object.keys(p).length!==Object.keys(_).length)return!1;for(const O in p)if(!b(p[O],_[O]))return!1;return!0}return p===_},s.bD=Fe,s.bE=ze,s.bF=class extends zc{constructor(b,p){super(b,p),this.current=0}set(b){this.current!==b&&(this.current=b,this.gl.uniform1i(this.location,b))}},s.bG=xf,s.bH=class extends zc{constructor(b,p){super(b,p),this.current=_c}set(b){if(b[12]!==this.current[12]||b[0]!==this.current[0])return this.current=b,void this.gl.uniformMatrix4fv(this.location,!1,b);for(let p=1;p<16;p++)if(b[p]!==this.current[p]){this.current=b,this.gl.uniformMatrix4fv(this.location,!1,b);break}}},s.bI=Ms,s.bJ=class extends zc{constructor(b,p){super(b,p),this.current=[0,0,0]}set(b){b[0]===this.current[0]&&b[1]===this.current[1]&&b[2]===this.current[2]||(this.current=b,this.gl.uniform3f(this.location,b[0],b[1],b[2]))}},s.bK=class extends zc{constructor(b,p){super(b,p),this.current=[0,0]}set(b){b[0]===this.current[0]&&b[1]===this.current[1]||(this.current=b,this.gl.uniform2f(this.location,b[0],b[1]))}},s.bL=H,s.bM=function(b,p){var _=Math.sin(p),O=Math.cos(p);return b[0]=O,b[1]=_,b[2]=0,b[3]=-_,b[4]=O,b[5]=0,b[6]=0,b[7]=0,b[8]=1,b},s.bN=function(b,p,_){var O=p[0],k=p[1],V=p[2];return b[0]=O*_[0]+k*_[3]+V*_[6],b[1]=O*_[1]+k*_[4]+V*_[7],b[2]=O*_[2]+k*_[5]+V*_[8],b},s.bO=function(b,p,_,O,k,V,G){var Y=1/(p-_),ae=1/(O-k),fe=1/(V-G);return b[0]=-2*Y,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*ae,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*fe,b[11]=0,b[12]=(p+_)*Y,b[13]=(k+O)*ae,b[14]=(G+V)*fe,b[15]=1,b},s.bP=class extends Wg{},s.bQ=zs,s.bR=class extends Lu{},s.bS=Do,s.bT=function(b){return b<=1?1:Math.pow(2,Math.ceil(Math.log(b)/Math.LN2))},s.bU=Sl,s.bV=function(b,p,_){var O=p[0],k=p[1],V=p[2],G=_[3]*O+_[7]*k+_[11]*V+_[15];return b[0]=(_[0]*O+_[4]*k+_[8]*V+_[12])/(G=G||1),b[1]=(_[1]*O+_[5]*k+_[9]*V+_[13])/G,b[2]=(_[2]*O+_[6]*k+_[10]*V+_[14])/G,b},s.bW=class extends Xs{},s.bX=class extends F{},s.bY=function(b,p){return b[0]===p[0]&&b[1]===p[1]&&b[2]===p[2]&&b[3]===p[3]&&b[4]===p[4]&&b[5]===p[5]&&b[6]===p[6]&&b[7]===p[7]&&b[8]===p[8]&&b[9]===p[9]&&b[10]===p[10]&&b[11]===p[11]&&b[12]===p[12]&&b[13]===p[13]&&b[14]===p[14]&&b[15]===p[15]},s.bZ=function(b,p){var _=b[0],O=b[1],k=b[2],V=b[3],G=b[4],Y=b[5],ae=b[6],fe=b[7],he=b[8],me=b[9],Oe=b[10],Ae=b[11],$e=b[12],De=b[13],Xe=b[14],at=b[15],Ot=p[0],gt=p[1],Me=p[2],Ke=p[3],dt=p[4],Wt=p[5],jn=p[6],cn=p[7],yn=p[8],Vn=p[9],Bn=p[10],Kn=p[11],Sn=p[12],dr=p[13],Fr=p[14],kr=p[15];return Math.abs(_-Ot)<=N*Math.max(1,Math.abs(_),Math.abs(Ot))&&Math.abs(O-gt)<=N*Math.max(1,Math.abs(O),Math.abs(gt))&&Math.abs(k-Me)<=N*Math.max(1,Math.abs(k),Math.abs(Me))&&Math.abs(V-Ke)<=N*Math.max(1,Math.abs(V),Math.abs(Ke))&&Math.abs(G-dt)<=N*Math.max(1,Math.abs(G),Math.abs(dt))&&Math.abs(Y-Wt)<=N*Math.max(1,Math.abs(Y),Math.abs(Wt))&&Math.abs(ae-jn)<=N*Math.max(1,Math.abs(ae),Math.abs(jn))&&Math.abs(fe-cn)<=N*Math.max(1,Math.abs(fe),Math.abs(cn))&&Math.abs(he-yn)<=N*Math.max(1,Math.abs(he),Math.abs(yn))&&Math.abs(me-Vn)<=N*Math.max(1,Math.abs(me),Math.abs(Vn))&&Math.abs(Oe-Bn)<=N*Math.max(1,Math.abs(Oe),Math.abs(Bn))&&Math.abs(Ae-Kn)<=N*Math.max(1,Math.abs(Ae),Math.abs(Kn))&&Math.abs($e-Sn)<=N*Math.max(1,Math.abs($e),Math.abs(Sn))&&Math.abs(De-dr)<=N*Math.max(1,Math.abs(De),Math.abs(dr))&&Math.abs(Xe-Fr)<=N*Math.max(1,Math.abs(Xe),Math.abs(Fr))&&Math.abs(at-kr)<=N*Math.max(1,Math.abs(at),Math.abs(kr))},s.b_=function(b,p){return b[0]=p[0],b[1]=p[1],b[2]=p[2],b[3]=p[3],b[4]=p[4],b[5]=p[5],b[6]=p[6],b[7]=p[7],b[8]=p[8],b[9]=p[9],b[10]=p[10],b[11]=p[11],b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15],b},s.ba=Kd,s.bb=ju,s.bc=ce,s.bd=le,s.be=Ki,s.bf=function(b,p,_,O,k){return ce(O,k,_e((b-p)/(_-p),0,1))},s.bg=oe,s.bh=function(){return new Float64Array(4)},s.bi=function(){return new Float64Array(3)},s.bj=function(b,p,_,O){var k=[],V=[];return k[0]=p[0]-_[0],k[1]=p[1]-_[1],k[2]=p[2]-_[2],V[0]=k[0]*Math.cos(O)-k[1]*Math.sin(O),V[1]=k[0]*Math.sin(O)+k[1]*Math.cos(O),V[2]=k[2],b[0]=V[0]+_[0],b[1]=V[1]+_[1],b[2]=V[2]+_[2],b},s.bk=function(b,p,_,O){var k=[],V=[];return k[0]=p[0]-_[0],k[1]=p[1]-_[1],k[2]=p[2]-_[2],V[0]=k[0],V[1]=k[1]*Math.cos(O)-k[2]*Math.sin(O),V[2]=k[1]*Math.sin(O)+k[2]*Math.cos(O),b[0]=V[0]+_[0],b[1]=V[1]+_[1],b[2]=V[2]+_[2],b},s.bl=function(b,p,_,O){var k=[],V=[];return k[0]=p[0]-_[0],k[1]=p[1]-_[1],k[2]=p[2]-_[2],V[0]=k[2]*Math.sin(O)+k[0]*Math.cos(O),V[1]=k[1],V[2]=k[2]*Math.cos(O)-k[0]*Math.sin(O),b[0]=V[0]+_[0],b[1]=V[1]+_[1],b[2]=V[2]+_[2],b},s.bm=function(b,p,_){var O=Math.sin(_),k=Math.cos(_),V=p[0],G=p[1],Y=p[2],ae=p[3],fe=p[8],he=p[9],me=p[10],Oe=p[11];return p!==b&&(b[4]=p[4],b[5]=p[5],b[6]=p[6],b[7]=p[7],b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15]),b[0]=V*k-fe*O,b[1]=G*k-he*O,b[2]=Y*k-me*O,b[3]=ae*k-Oe*O,b[8]=V*O+fe*k,b[9]=G*O+he*k,b[10]=Y*O+me*k,b[11]=ae*O+Oe*k,b},s.bn=function(b,p){const _=oe(b,360),O=oe(p,360),k=O-_,V=O>_?k-360:k+360;return Math.abs(k)<Math.abs(V)?k:V},s.bo=function(b){return b[0]=0,b[1]=0,b[2]=0,b},s.bp=function(b,p,_,O){const k=Math.sqrt(b*b+p*p),V=Math.sqrt(_*_+O*O);b/=k,p/=k,_/=V,O/=V;const G=Math.acos(b*_+p*O);return-p*_+b*O>0?G:-G},s.bq=function(b,p){return b[0]*p[0]+b[1]*p[1]+b[2]*p[2]+b[3]},s.br=Ib,s.bs=function(b,p){const _=oe(b,2*Math.PI),O=oe(p,2*Math.PI);return Math.min(Math.abs(_-O),Math.abs(_-O+2*Math.PI),Math.abs(_-O-2*Math.PI))},s.bt=function(b){return Math.hypot(b[0],b[1],b[2])},s.bu=function(){const b={},p=xe.$version;for(const _ in xe.$root){const O=xe.$root[_];if(O.required){let k=null;k=_==="version"?p:O.type==="array"?[]:{},k!=null&&(b[_]=k)}}return b},s.bv=A0,s.bw=un,s.bx=function(b){b=b.slice();const p=Object.create(null);for(let _=0;_<b.length;_++)p[b[_].id]=b[_];for(let _=0;_<b.length;_++)"ref"in b[_]&&(b[_]=lt(b[_],p[b[_].ref]));return b},s.by=function(b){if(b.type==="custom")return new tC(b);switch(b.type){case"background":return new Ab(b);case"circle":return new Y1(b);case"fill":return new Fh(b);case"fill-extrusion":return new cv(b);case"heatmap":return new ub(b);case"hillshade":return new D0(b);case"line":return new po(b);case"raster":return new Q0(b);case"symbol":return new hd(b)}},s.bz=Ze,s.c=hn,s.c0=b=>b.type==="circle",s.c1=b=>b.type==="heatmap",s.c2=b=>b.type==="line",s.c3=b=>b.type==="fill",s.c4=b=>b.type==="fill-extrusion",s.c5=b=>b.type==="hillshade",s.c6=b=>b.type==="raster",s.c7=b=>b.type==="background",s.c8=b=>b.type==="custom",s.c9=pe,s.cA=class{constructor(b){this._marks={start:[b.url,"start"].join("#"),end:[b.url,"end"].join("#"),measure:b.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let b=performance.getEntriesByName(this._marks.measure);return b.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),b=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),b}},s.cB=function(b,p,_,O,k){return o(this,void 0,void 0,function*(){if(R())try{return yield ft(b,p,_,O,k)}catch{}return function(V,G,Y,ae,fe){const he=V.width,me=V.height;Rt&&Yt||(Rt=new OffscreenCanvas(he,me),Yt=Rt.getContext("2d",{willReadFrequently:!0})),Rt.width=he,Rt.height=me,Yt.drawImage(V,0,0,he,me);const Oe=Yt.getImageData(G,Y,ae,fe);return Yt.clearRect(0,0,he,me),Oe.data}(b,p,_,O,k)})},s.cC=$b,s.cD=l,s.cE=d,s.cF=Fu,s.cG=xb,s.cH=cf,s.cI=gf,s.ca=function(b,p,_){const O=ee(p.x-_.x,p.y-_.y),k=ee(b.x-_.x,b.y-_.y);var V,G;return xt(Math.atan2(O[0]*k[1]-O[1]*k[0],(V=O)[0]*(G=k)[0]+V[1]*G[1]))},s.cb=ye,s.cc=function(b,p){return Lt[p]&&(b instanceof MouseEvent||b instanceof WheelEvent)},s.cd=function(b,p){return Ft[p]&&"touches"in b},s.ce=function(b){return Ft[b]||Lt[b]},s.cf=function(b,p,_){var O=p[0],k=p[1];return b[0]=_[0]*O+_[4]*k+_[12],b[1]=_[1]*O+_[5]*k+_[13],b},s.cg=function(b,p){const{x:_,y:O}=ry.fromLngLat(p);return!(b<0||b>25||O<0||O>=1||_<0||_>=1)},s.ch=function(b,p){return b[0]=p[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=p[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=p[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},s.ci=class extends Fl{},s.cj=Za,s.cl=function(b){return b.message===Kt},s.cm=sn,s.cn=function(b,p){dn.REGISTERED_PROTOCOLS[b]=p},s.co=function(b){delete dn.REGISTERED_PROTOCOLS[b]},s.cp=function(b,p){const _={};for(let k=0;k<b.length;k++){const V=p&&p[b[k].id]||Ko(b[k]);p&&(p[b[k].id]=V);let G=_[V];G||(G=_[V]=[]),G.push(b[k])}const O=[];for(const k in _)O.push(_[k]);return O},s.cq=lr,s.cr=Vc,s.cs=b_,s.ct=u_,s.cu=function(b){b.bucket.createArrays(),b.bucket.tilePixelRatio=Z/(512*b.bucket.overscaling),b.bucket.compareText={},b.bucket.iconsNeedLinear=!1;const p=b.bucket.layers[0],_=p.layout,O=p._unevaluatedLayout._values,k={layoutIconSize:O["icon-size"].possiblyEvaluate(new ho(b.bucket.zoom+1),b.canonical),layoutTextSize:O["text-size"].possiblyEvaluate(new ho(b.bucket.zoom+1),b.canonical),textMaxSize:O["text-size"].possiblyEvaluate(new ho(18))};if(b.bucket.textSizeData.kind==="composite"){const{minZoom:fe,maxZoom:he}=b.bucket.textSizeData;k.compositeTextSizes=[O["text-size"].possiblyEvaluate(new ho(fe),b.canonical),O["text-size"].possiblyEvaluate(new ho(he),b.canonical)]}if(b.bucket.iconSizeData.kind==="composite"){const{minZoom:fe,maxZoom:he}=b.bucket.iconSizeData;k.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new ho(fe),b.canonical),O["icon-size"].possiblyEvaluate(new ho(he),b.canonical)]}const V=_.get("text-line-height")*as,G=_.get("text-rotation-alignment")!=="viewport"&&_.get("symbol-placement")!=="point",Y=_.get("text-keep-upright"),ae=_.get("text-size");for(const fe of b.bucket.features){const he=_.get("text-font").evaluate(fe,{},b.canonical).join(","),me=ae.evaluate(fe,{},b.canonical),Oe=k.layoutTextSize.evaluate(fe,{},b.canonical),Ae=k.layoutIconSize.evaluate(fe,{},b.canonical),$e={horizontal:{},vertical:void 0},De=fe.text;let Xe,at=[0,0];if(De){const Me=De.toString(),Ke=_.get("text-letter-spacing").evaluate(fe,{},b.canonical)*as,dt=pf(Me)?Ke:0,Wt=_.get("text-anchor").evaluate(fe,{},b.canonical),jn=Vu(p,fe,b.canonical);if(!jn){const Bn=_.get("text-radial-offset").evaluate(fe,{},b.canonical);at=Bn?C_(Wt,[Bn*as,S_]):_.get("text-offset").evaluate(fe,{},b.canonical).map(Kn=>Kn*as)}let cn=G?"center":_.get("text-justify").evaluate(fe,{},b.canonical);const yn=_.get("symbol-placement")==="point"?_.get("text-max-width").evaluate(fe,{},b.canonical)*as:1/0,Vn=()=>{b.bucket.allowVerticalPlacement&&hf(Me)&&($e.vertical=wc(De,b.glyphMap,b.glyphPositions,b.imagePositions,he,yn,V,Wt,"left",dt,at,s.ah.vertical,!0,Oe,me))};if(!G&&jn){const Bn=new Set;if(cn==="auto")for(let Sn=0;Sn<jn.values.length;Sn+=2)Bn.add(vv(jn.values[Sn]));else Bn.add(cn);let Kn=!1;for(const Sn of Bn)if(!$e.horizontal[Sn])if(Kn)$e.horizontal[Sn]=$e.horizontal[0];else{const dr=wc(De,b.glyphMap,b.glyphPositions,b.imagePositions,he,yn,V,"center",Sn,dt,at,s.ah.horizontal,!1,Oe,me);dr&&($e.horizontal[Sn]=dr,Kn=dr.positionedLines.length===1)}Vn()}else{cn==="auto"&&(cn=vv(Wt));const Bn=wc(De,b.glyphMap,b.glyphPositions,b.imagePositions,he,yn,V,Wt,cn,dt,at,s.ah.horizontal,!1,Oe,me);Bn&&($e.horizontal[cn]=Bn),Vn(),hf(Me)&&G&&Y&&($e.vertical=wc(De,b.glyphMap,b.glyphPositions,b.imagePositions,he,yn,V,Wt,cn,dt,at,s.ah.vertical,!1,Oe,me))}}let Ot=!1;if(fe.icon&&fe.icon.name){const Me=b.imageMap[fe.icon.name];Me&&(Xe=tw(b.imagePositions[fe.icon.name],_.get("icon-offset").evaluate(fe,{},b.canonical),_.get("icon-anchor").evaluate(fe,{},b.canonical)),Ot=!!Me.sdf,b.bucket.sdfIcons===void 0?b.bucket.sdfIcons=Ot:b.bucket.sdfIcons!==Ot&&Ue("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Me.pixelRatio!==b.bucket.pixelRatio||_.get("icon-rotate").constantOr(1)!==0)&&(b.bucket.iconsNeedLinear=!0))}const gt=ay($e.horizontal)||$e.vertical;b.bucket.iconsInText=!!gt&&gt.iconsInText,(gt||Xe)&&E_(b.bucket,fe,$e,Xe,b.imageMap,k,Oe,Ae,at,Ot,b.canonical,b.subdivisionGranularity)}b.showCollisionBoxes&&b.bucket.generateCollisionDebugBuffers()},s.cv=s_,s.cw=Jg,s.cx=Hh,s.cy=em,s.cz=Dp,s.d=Qt,s.e=Re,s.f=b=>o(void 0,void 0,void 0,function*(){if(b.byteLength===0)return createImageBitmap(new ImageData(1,1));const p=new Blob([new Uint8Array(b)],{type:"image/png"});try{return createImageBitmap(p)}catch(_){throw new Error(`Could not load image because of ${_.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.g=Cn,s.h=b=>new Promise((p,_)=>{const O=new Image;O.onload=()=>{p(O),URL.revokeObjectURL(O.src),O.onload=null,window.requestAnimationFrame(()=>{O.src=ht})},O.onerror=()=>_(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const k=new Blob([new Uint8Array(b)],{type:"image/png"});O.src=b.byteLength?URL.createObjectURL(k):ht}),s.i=qe,s.j=(b,p)=>gn(Re(b,{type:"json"}),p),s.k=be,s.l=He,s.m=gn,s.n=(b,p)=>gn(Re(b,{type:"arrayBuffer"}),p),s.o=function(b){return new Dp(b).readFields(zp,[])},s.p=rm,s.q=rv,s.r=Ts,s.s=Jt,s.t=Km,s.u=Li,s.v=xe,s.w=Ue,s.x=Ma,s.y=df,s.z=function([b,p,_]){return p+=90,p*=Math.PI/180,_*=Math.PI/180,{x:b*Math.cos(p)*Math.sin(_),y:b*Math.sin(p)*Math.sin(_),z:b*Math.cos(_)}}}),i("worker",["./shared"],function(s){class o{constructor(be){this.keyCache={},be&&this.replace(be)}replace(be){this._layerConfigs={},this._layers={},this.update(be,[])}update(be,we){for(const Ye of be){this._layerConfigs[Ye.id]=Ye;const lt=this._layers[Ye.id]=s.by(Ye);lt._featureFilter=s.a7(lt.filter),this.keyCache[Ye.id]&&delete this.keyCache[Ye.id]}for(const Ye of we)delete this.keyCache[Ye],delete this._layerConfigs[Ye],delete this._layers[Ye];this.familiesBySource={};const xe=s.cp(Object.values(this._layerConfigs),this.keyCache);for(const Ye of xe){const lt=Ye.map(vt=>this._layers[vt.id]),ct=lt[0];if(ct.visibility==="none")continue;const _t=ct.source||"";let yt=this.familiesBySource[_t];yt||(yt=this.familiesBySource[_t]={});const jt=ct.sourceLayer||"_geojsonTileLayer";let $t=yt[jt];$t||($t=yt[jt]=[]),$t.push(lt)}}}class l{constructor(be){const we={},xe=[];for(const _t in be){const yt=be[_t],jt=we[_t]={};for(const $t in yt){const vt=yt[+$t];if(!vt||vt.bitmap.width===0||vt.bitmap.height===0)continue;const It={x:0,y:0,w:vt.bitmap.width+2,h:vt.bitmap.height+2};xe.push(It),jt[$t]={rect:It,metrics:vt.metrics}}}const{w:Ye,h:lt}=s.p(xe),ct=new s.q({width:Ye||1,height:lt||1});for(const _t in be){const yt=be[_t];for(const jt in yt){const $t=yt[+jt];if(!$t||$t.bitmap.width===0||$t.bitmap.height===0)continue;const vt=we[_t][jt].rect;s.q.copy($t.bitmap,ct,{x:0,y:0},{x:vt.x+1,y:vt.y+1},$t.bitmap)}}this.image=ct,this.positions=we}}s.cq("GlyphAtlas",l);class c{constructor(be){this.tileID=new s.Y(be.tileID.overscaledZ,be.tileID.wrap,be.tileID.canonical.z,be.tileID.canonical.x,be.tileID.canonical.y),this.uid=be.uid,this.zoom=be.zoom,this.pixelRatio=be.pixelRatio,this.tileSize=be.tileSize,this.source=be.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=be.showCollisionBoxes,this.collectResourceTiming=!!be.collectResourceTiming,this.returnDependencies=!!be.returnDependencies,this.promoteId=be.promoteId,this.inFlightDependencies=[]}parse(be,we,xe,Ye,lt){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=be,this.collisionBoxArray=new s.a5;const ct=new s.cr(Object.keys(be.layers).sort()),_t=new s.cs(this.tileID,this.promoteId);_t.bucketLayerIDs=[];const yt={},jt={featureIndex:_t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:xe,subdivisionGranularity:lt},$t=we.familiesBySource[this.source];for(const rn in $t){const Tn=be.layers[rn];if(!Tn)continue;Tn.version===1&&s.w(`Vector tile source "${this.source}" layer "${rn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Un=ct.encode(rn),ir=[];for(let Dn=0;Dn<Tn.length;Dn++){const Er=Tn.feature(Dn),Cr=_t.getId(Er,rn);ir.push({feature:Er,id:Cr,index:Dn,sourceLayerIndex:Un})}for(const Dn of $t[rn]){const Er=Dn[0];Er.source!==this.source&&s.w(`layer.source = ${Er.source} does not equal this.source = ${this.source}`),Er.minzoom&&this.zoom<Math.floor(Er.minzoom)||Er.maxzoom&&this.zoom>=Er.maxzoom||Er.visibility!=="none"&&(u(Dn,this.zoom,xe),(yt[Er.id]=Er.createBucket({index:_t.bucketLayerIDs.length,layers:Dn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Un,sourceID:this.source})).populate(ir,jt,this.tileID.canonical),_t.bucketLayerIDs.push(Dn.map(Cr=>Cr.id)))}}const vt=s.bD(jt.glyphDependencies,rn=>Object.keys(rn).map(Number));this.inFlightDependencies.forEach(rn=>rn?.abort()),this.inFlightDependencies=[];let It=Promise.resolve({});if(Object.keys(vt).length){const rn=new AbortController;this.inFlightDependencies.push(rn),It=Ye.sendAsync({type:"GG",data:{stacks:vt,source:this.source,tileID:this.tileID,type:"glyphs"}},rn)}const zt=Object.keys(jt.iconDependencies);let Dt=Promise.resolve({});if(zt.length){const rn=new AbortController;this.inFlightDependencies.push(rn),Dt=Ye.sendAsync({type:"GI",data:{icons:zt,source:this.source,tileID:this.tileID,type:"icons"}},rn)}const Tt=Object.keys(jt.patternDependencies);let xn=Promise.resolve({});if(Tt.length){const rn=new AbortController;this.inFlightDependencies.push(rn),xn=Ye.sendAsync({type:"GI",data:{icons:Tt,source:this.source,tileID:this.tileID,type:"patterns"}},rn)}const[Bt,nn,Fn]=yield Promise.all([It,Dt,xn]),Ht=new l(Bt),ln=new s.ct(nn,Fn);for(const rn in yt){const Tn=yt[rn];Tn instanceof s.a6?(u(Tn.layers,this.zoom,xe),s.cu({bucket:Tn,glyphMap:Bt,glyphPositions:Ht.positions,imageMap:nn,imagePositions:ln.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:jt.subdivisionGranularity})):Tn.hasPattern&&(Tn instanceof s.cv||Tn instanceof s.cw||Tn instanceof s.cx)&&(u(Tn.layers,this.zoom,xe),Tn.addFeatures(jt,this.tileID.canonical,ln.patternPositions))}return this.status="done",{buckets:Object.values(yt).filter(rn=>!rn.isEmpty()),featureIndex:_t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ht.image,imageAtlas:ln,glyphMap:this.returnDependencies?Bt:null,iconMap:this.returnDependencies?nn:null,glyphPositions:this.returnDependencies?Ht.positions:null}})}}function u(He,be,we){const xe=new s.C(be);for(const Ye of He)Ye.recalculate(xe,we)}class d{constructor(be,we,xe){this.actor=be,this.layerIndex=we,this.availableImages=xe,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(be,we){return s._(this,void 0,void 0,function*(){const xe=yield s.n(be.request,we);try{return{vectorTile:new s.cy.VectorTile(new s.cz(xe.data)),rawData:xe.data,cacheControl:xe.cacheControl,expires:xe.expires}}catch(Ye){const lt=new Uint8Array(xe.data);let ct=`Unable to parse the tile at ${be.request.url}, `;throw ct+=lt[0]===31&&lt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ye.message}`,new Error(ct)}})}loadTile(be){return s._(this,void 0,void 0,function*(){const we=be.uid,xe=!!(be&&be.request&&be.request.collectResourceTiming)&&new s.cA(be.request),Ye=new c(be);this.loading[we]=Ye;const lt=new AbortController;Ye.abort=lt;try{const ct=yield this.loadVectorTile(be,lt);if(delete this.loading[we],!ct)return null;const _t=ct.rawData,yt={};ct.expires&&(yt.expires=ct.expires),ct.cacheControl&&(yt.cacheControl=ct.cacheControl);const jt={};if(xe){const vt=xe.finish();vt&&(jt.resourceTiming=JSON.parse(JSON.stringify(vt)))}Ye.vectorTile=ct.vectorTile;const $t=Ye.parse(ct.vectorTile,this.layerIndex,this.availableImages,this.actor,be.subdivisionGranularity);this.loaded[we]=Ye,this.fetching[we]={rawTileData:_t,cacheControl:yt,resourceTiming:jt};try{const vt=yield $t;return s.e({rawTileData:_t.slice(0)},vt,yt,jt)}finally{delete this.fetching[we]}}catch(ct){throw delete this.loading[we],Ye.status="done",this.loaded[we]=Ye,ct}})}reloadTile(be){return s._(this,void 0,void 0,function*(){const we=be.uid;if(!this.loaded||!this.loaded[we])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const xe=this.loaded[we];if(xe.showCollisionBoxes=be.showCollisionBoxes,xe.status==="parsing"){const Ye=yield xe.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor,be.subdivisionGranularity);let lt;if(this.fetching[we]){const{rawTileData:ct,cacheControl:_t,resourceTiming:yt}=this.fetching[we];delete this.fetching[we],lt=s.e({rawTileData:ct.slice(0)},Ye,_t,yt)}else lt=Ye;return lt}if(xe.status==="done"&&xe.vectorTile)return xe.parse(xe.vectorTile,this.layerIndex,this.availableImages,this.actor,be.subdivisionGranularity)})}abortTile(be){return s._(this,void 0,void 0,function*(){const we=this.loading,xe=be.uid;we&&we[xe]&&we[xe].abort&&(we[xe].abort.abort(),delete we[xe])})}removeTile(be){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[be.uid]&&delete this.loaded[be.uid]})}}class h{constructor(){this.loaded={}}loadTile(be){return s._(this,void 0,void 0,function*(){const{uid:we,encoding:xe,rawImageData:Ye,redFactor:lt,greenFactor:ct,blueFactor:_t,baseShift:yt}=be,jt=Ye.width+2,$t=Ye.height+2,vt=s.b(Ye)?new s.R({width:jt,height:$t},yield s.cB(Ye,-1,-1,jt,$t)):Ye,It=new s.cC(we,vt,xe,lt,ct,_t,yt);return this.loaded=this.loaded||{},this.loaded[we]=It,It})}removeTile(be){const we=this.loaded,xe=be.uid;we&&we[xe]&&delete we[xe]}}var g,v,x=function(){if(v)return g;function He(we,xe){if(we.length!==0){be(we[0],xe);for(var Ye=1;Ye<we.length;Ye++)be(we[Ye],!xe)}}function be(we,xe){for(var Ye=0,lt=0,ct=0,_t=we.length,yt=_t-1;ct<_t;yt=ct++){var jt=(we[ct][0]-we[yt][0])*(we[yt][1]+we[ct][1]),$t=Ye+jt;lt+=Math.abs(Ye)>=Math.abs(jt)?Ye-$t+jt:jt-$t+Ye,Ye=$t}Ye+lt>=0!=!!xe&&we.reverse()}return v=1,g=function we(xe,Ye){var lt,ct=xe&&xe.type;if(ct==="FeatureCollection")for(lt=0;lt<xe.features.length;lt++)we(xe.features[lt],Ye);else if(ct==="GeometryCollection")for(lt=0;lt<xe.geometries.length;lt++)we(xe.geometries[lt],Ye);else if(ct==="Feature")we(xe.geometry,Ye);else if(ct==="Polygon")He(xe.coordinates,Ye);else if(ct==="MultiPolygon")for(lt=0;lt<xe.coordinates.length;lt++)He(xe.coordinates[lt],Ye);return xe}}(),w=s.cD(x);const C=s.cy.VectorTileFeature.prototype.toGeoJSON;class E{constructor(be){this._feature=be,this.extent=s.Z,this.type=be.type,this.properties=be.tags,"id"in be&&!isNaN(be.id)&&(this.id=parseInt(be.id,10))}loadGeometry(){if(this._feature.type===1){const be=[];for(const we of this._feature.geometry)be.push([new s.P(we[0],we[1])]);return be}{const be=[];for(const we of this._feature.geometry){const xe=[];for(const Ye of we)xe.push(new s.P(Ye[0],Ye[1]));be.push(xe)}return be}}toGeoJSON(be,we,xe){return C.call(this,be,we,xe)}}class M{constructor(be){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.Z,this.length=be.length,this._features=be}feature(be){return new E(this._features[be])}}var R,L,N,D={exports:{}},H=function(){if(N)return D.exports;N=1;var He=s.cG(),be=function(){if(L)return R;L=1;var $t=s.cE(),vt=s.cF().VectorTileFeature;function It(Dt,Tt){this.options=Tt||{},this.features=Dt,this.length=Dt.length}function zt(Dt,Tt){this.id=typeof Dt.id=="number"?Dt.id:void 0,this.type=Dt.type,this.rawGeometry=Dt.type===1?[Dt.geometry]:Dt.geometry,this.properties=Dt.tags,this.extent=Tt||4096}return R=It,It.prototype.feature=function(Dt){return new zt(this.features[Dt],this.options.extent)},zt.prototype.loadGeometry=function(){var Dt=this.rawGeometry;this.geometry=[];for(var Tt=0;Tt<Dt.length;Tt++){for(var xn=Dt[Tt],Bt=[],nn=0;nn<xn.length;nn++)Bt.push(new $t(xn[nn][0],xn[nn][1]));this.geometry.push(Bt)}return this.geometry},zt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Dt=this.geometry,Tt=1/0,xn=-1/0,Bt=1/0,nn=-1/0,Fn=0;Fn<Dt.length;Fn++)for(var Ht=Dt[Fn],ln=0;ln<Ht.length;ln++){var rn=Ht[ln];Tt=Math.min(Tt,rn.x),xn=Math.max(xn,rn.x),Bt=Math.min(Bt,rn.y),nn=Math.max(nn,rn.y)}return[Tt,Bt,xn,nn]},zt.prototype.toGeoJSON=vt.prototype.toGeoJSON,R}();function we($t){var vt=new He;return function(It,zt){for(var Dt in It.layers)zt.writeMessage(3,xe,It.layers[Dt])}($t,vt),vt.finish()}function xe($t,vt){var It;vt.writeVarintField(15,$t.version||1),vt.writeStringField(1,$t.name||""),vt.writeVarintField(5,$t.extent||4096);var zt={keys:[],values:[],keycache:{},valuecache:{}};for(It=0;It<$t.length;It++)zt.feature=$t.feature(It),vt.writeMessage(2,Ye,zt);var Dt=zt.keys;for(It=0;It<Dt.length;It++)vt.writeStringField(3,Dt[It]);var Tt=zt.values;for(It=0;It<Tt.length;It++)vt.writeMessage(4,jt,Tt[It])}function Ye($t,vt){var It=$t.feature;It.id!==void 0&&vt.writeVarintField(1,It.id),vt.writeMessage(2,lt,$t),vt.writeVarintField(3,It.type),vt.writeMessage(4,yt,It)}function lt($t,vt){var It=$t.feature,zt=$t.keys,Dt=$t.values,Tt=$t.keycache,xn=$t.valuecache;for(var Bt in It.properties){var nn=It.properties[Bt],Fn=Tt[Bt];if(nn!==null){Fn===void 0&&(zt.push(Bt),Tt[Bt]=Fn=zt.length-1),vt.writeVarint(Fn);var Ht=typeof nn;Ht!=="string"&&Ht!=="boolean"&&Ht!=="number"&&(nn=JSON.stringify(nn));var ln=Ht+":"+nn,rn=xn[ln];rn===void 0&&(Dt.push(nn),xn[ln]=rn=Dt.length-1),vt.writeVarint(rn)}}}function ct($t,vt){return(vt<<3)+(7&$t)}function _t($t){return $t<<1^$t>>31}function yt($t,vt){for(var It=$t.loadGeometry(),zt=$t.type,Dt=0,Tt=0,xn=It.length,Bt=0;Bt<xn;Bt++){var nn=It[Bt],Fn=1;zt===1&&(Fn=nn.length),vt.writeVarint(ct(1,Fn));for(var Ht=zt===3?nn.length-1:nn.length,ln=0;ln<Ht;ln++){ln===1&&zt!==1&&vt.writeVarint(ct(2,Ht-1));var rn=nn[ln].x-Dt,Tn=nn[ln].y-Tt;vt.writeVarint(_t(rn)),vt.writeVarint(_t(Tn)),Dt+=rn,Tt+=Tn}zt===3&&vt.writeVarint(ct(7,1))}}function jt($t,vt){var It=typeof $t;It==="string"?vt.writeStringField(1,$t):It==="boolean"?vt.writeBooleanField(7,$t):It==="number"&&($t%1!=0?vt.writeDoubleField(3,$t):$t<0?vt.writeSVarintField(6,$t):vt.writeVarintField(5,$t))}return D.exports=we,D.exports.fromVectorTileJs=we,D.exports.fromGeojsonVt=function($t,vt){vt=vt||{};var It={};for(var zt in $t)It[zt]=new be($t[zt].features,vt),It[zt].name=zt,It[zt].version=vt.version,It[zt].extent=vt.extent;return we({layers:It})},D.exports.GeoJSONWrapper=be,D.exports}(),U=s.cD(H);const q={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:He=>He},K=Math.fround||(Q=new Float32Array(1),He=>(Q[0]=+He,Q[0]));var Q;const X=3,te=5,ee=6;class Z{constructor(be){this.options=Object.assign(Object.create(q),be),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(be){const{log:we,minZoom:xe,maxZoom:Ye}=this.options;we&&console.time("total time");const lt=`prepare ${be.length} points`;we&&console.time(lt),this.points=be;const ct=[];for(let yt=0;yt<be.length;yt++){const jt=be[yt];if(!jt.geometry)continue;const[$t,vt]=jt.geometry.coordinates,It=K(ce($t)),zt=K(le(vt));ct.push(It,zt,1/0,yt,-1,1),this.options.reduce&&ct.push(0)}let _t=this.trees[Ye+1]=this._createTree(ct);we&&console.timeEnd(lt);for(let yt=Ye;yt>=xe;yt--){const jt=+Date.now();_t=this.trees[yt]=this._createTree(this._cluster(_t,yt)),we&&console.log("z%d: %d clusters in %dms",yt,_t.numItems,+Date.now()-jt)}return we&&console.timeEnd("total time"),this}getClusters(be,we){let xe=((be[0]+180)%360+360)%360-180;const Ye=Math.max(-90,Math.min(90,be[1]));let lt=be[2]===180?180:((be[2]+180)%360+360)%360-180;const ct=Math.max(-90,Math.min(90,be[3]));if(be[2]-be[0]>=360)xe=-180,lt=180;else if(xe>lt){const vt=this.getClusters([xe,Ye,180,ct],we),It=this.getClusters([-180,Ye,lt,ct],we);return vt.concat(It)}const _t=this.trees[this._limitZoom(we)],yt=_t.range(ce(xe),le(ct),ce(lt),le(Ye)),jt=_t.data,$t=[];for(const vt of yt){const It=this.stride*vt;$t.push(jt[It+te]>1?re(jt,It,this.clusterProps):this.points[jt[It+X]])}return $t}getChildren(be){const we=this._getOriginId(be),xe=this._getOriginZoom(be),Ye="No cluster with the specified id.",lt=this.trees[xe];if(!lt)throw new Error(Ye);const ct=lt.data;if(we*this.stride>=ct.length)throw new Error(Ye);const _t=this.options.radius/(this.options.extent*Math.pow(2,xe-1)),yt=lt.within(ct[we*this.stride],ct[we*this.stride+1],_t),jt=[];for(const $t of yt){const vt=$t*this.stride;ct[vt+4]===be&&jt.push(ct[vt+te]>1?re(ct,vt,this.clusterProps):this.points[ct[vt+X]])}if(jt.length===0)throw new Error(Ye);return jt}getLeaves(be,we,xe){const Ye=[];return this._appendLeaves(Ye,be,we=we||10,xe=xe||0,0),Ye}getTile(be,we,xe){const Ye=this.trees[this._limitZoom(be)],lt=Math.pow(2,be),{extent:ct,radius:_t}=this.options,yt=_t/ct,jt=(xe-yt)/lt,$t=(xe+1+yt)/lt,vt={features:[]};return this._addTileFeatures(Ye.range((we-yt)/lt,jt,(we+1+yt)/lt,$t),Ye.data,we,xe,lt,vt),we===0&&this._addTileFeatures(Ye.range(1-yt/lt,jt,1,$t),Ye.data,lt,xe,lt,vt),we===lt-1&&this._addTileFeatures(Ye.range(0,jt,yt/lt,$t),Ye.data,-1,xe,lt,vt),vt.features.length?vt:null}getClusterExpansionZoom(be){let we=this._getOriginZoom(be)-1;for(;we<=this.options.maxZoom;){const xe=this.getChildren(be);if(we++,xe.length!==1)break;be=xe[0].properties.cluster_id}return we}_appendLeaves(be,we,xe,Ye,lt){const ct=this.getChildren(we);for(const _t of ct){const yt=_t.properties;if(yt&&yt.cluster?lt+yt.point_count<=Ye?lt+=yt.point_count:lt=this._appendLeaves(be,yt.cluster_id,xe,Ye,lt):lt<Ye?lt++:be.push(_t),be.length===xe)break}return lt}_createTree(be){const we=new s.aC(be.length/this.stride|0,this.options.nodeSize,Float32Array);for(let xe=0;xe<be.length;xe+=this.stride)we.add(be[xe],be[xe+1]);return we.finish(),we.data=be,we}_addTileFeatures(be,we,xe,Ye,lt,ct){for(const _t of be){const yt=_t*this.stride,jt=we[yt+te]>1;let $t,vt,It;if(jt)$t=oe(we,yt,this.clusterProps),vt=we[yt],It=we[yt+1];else{const Tt=this.points[we[yt+X]];$t=Tt.properties;const[xn,Bt]=Tt.geometry.coordinates;vt=ce(xn),It=le(Bt)}const zt={type:1,geometry:[[Math.round(this.options.extent*(vt*lt-xe)),Math.round(this.options.extent*(It*lt-Ye))]],tags:$t};let Dt;Dt=jt||this.options.generateId?we[yt+X]:this.points[we[yt+X]].id,Dt!==void 0&&(zt.id=Dt),ct.features.push(zt)}}_limitZoom(be){return Math.max(this.options.minZoom,Math.min(Math.floor(+be),this.options.maxZoom+1))}_cluster(be,we){const{radius:xe,extent:Ye,reduce:lt,minPoints:ct}=this.options,_t=xe/(Ye*Math.pow(2,we)),yt=be.data,jt=[],$t=this.stride;for(let vt=0;vt<yt.length;vt+=$t){if(yt[vt+2]<=we)continue;yt[vt+2]=we;const It=yt[vt],zt=yt[vt+1],Dt=be.within(yt[vt],yt[vt+1],_t),Tt=yt[vt+te];let xn=Tt;for(const Bt of Dt){const nn=Bt*$t;yt[nn+2]>we&&(xn+=yt[nn+te])}if(xn>Tt&&xn>=ct){let Bt,nn=It*Tt,Fn=zt*Tt,Ht=-1;const ln=((vt/$t|0)<<5)+(we+1)+this.points.length;for(const rn of Dt){const Tn=rn*$t;if(yt[Tn+2]<=we)continue;yt[Tn+2]=we;const Un=yt[Tn+te];nn+=yt[Tn]*Un,Fn+=yt[Tn+1]*Un,yt[Tn+4]=ln,lt&&(Bt||(Bt=this._map(yt,vt,!0),Ht=this.clusterProps.length,this.clusterProps.push(Bt)),lt(Bt,this._map(yt,Tn)))}yt[vt+4]=ln,jt.push(nn/xn,Fn/xn,1/0,ln,-1,xn),lt&&jt.push(Ht)}else{for(let Bt=0;Bt<$t;Bt++)jt.push(yt[vt+Bt]);if(xn>1)for(const Bt of Dt){const nn=Bt*$t;if(!(yt[nn+2]<=we)){yt[nn+2]=we;for(let Fn=0;Fn<$t;Fn++)jt.push(yt[nn+Fn])}}}}return jt}_getOriginId(be){return be-this.points.length>>5}_getOriginZoom(be){return(be-this.points.length)%32}_map(be,we,xe){if(be[we+te]>1){const ct=this.clusterProps[be[we+ee]];return xe?Object.assign({},ct):ct}const Ye=this.points[be[we+X]].properties,lt=this.options.map(Ye);return xe&&lt===Ye?Object.assign({},lt):lt}}function re(He,be,we){return{type:"Feature",id:He[be+X],properties:oe(He,be,we),geometry:{type:"Point",coordinates:[(xe=He[be],360*(xe-.5)),pe(He[be+1])]}};var xe}function oe(He,be,we){const xe=He[be+te],Ye=xe>=1e4?`${Math.round(xe/1e3)}k`:xe>=1e3?Math.round(xe/100)/10+"k":xe,lt=He[be+ee],ct=lt===-1?{}:Object.assign({},we[lt]);return Object.assign(ct,{cluster:!0,cluster_id:He[be+X],point_count:xe,point_count_abbreviated:Ye})}function ce(He){return He/360+.5}function le(He){const be=Math.sin(He*Math.PI/180),we=.5-.25*Math.log((1+be)/(1-be))/Math.PI;return we<0?0:we>1?1:we}function pe(He){const be=(180-360*He)*Math.PI/180;return 360*Math.atan(Math.exp(be))/Math.PI-90}function ye(He,be,we,xe){let Ye=xe;const lt=be+(we-be>>1);let ct,_t=we-be;const yt=He[be],jt=He[be+1],$t=He[we],vt=He[we+1];for(let It=be+3;It<we;It+=3){const zt=_e(He[It],He[It+1],yt,jt,$t,vt);if(zt>Ye)ct=It,Ye=zt;else if(zt===Ye){const Dt=Math.abs(It-lt);Dt<_t&&(ct=It,_t=Dt)}}Ye>xe&&(ct-be>3&&ye(He,be,ct,xe),He[ct+2]=Ye,we-ct>3&&ye(He,ct,we,xe))}function _e(He,be,we,xe,Ye,lt){let ct=Ye-we,_t=lt-xe;if(ct!==0||_t!==0){const yt=((He-we)*ct+(be-xe)*_t)/(ct*ct+_t*_t);yt>1?(we=Ye,xe=lt):yt>0&&(we+=ct*yt,xe+=_t*yt)}return ct=He-we,_t=be-xe,ct*ct+_t*_t}function Se(He,be,we,xe){const Ye={id:He??null,type:be,geometry:we,tags:xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(be==="Point"||be==="MultiPoint"||be==="LineString")Re(Ye,we);else if(be==="Polygon")Re(Ye,we[0]);else if(be==="MultiLineString")for(const lt of we)Re(Ye,lt);else if(be==="MultiPolygon")for(const lt of we)Re(Ye,lt[0]);return Ye}function Re(He,be){for(let we=0;we<be.length;we+=3)He.minX=Math.min(He.minX,be[we]),He.minY=Math.min(He.minY,be[we+1]),He.maxX=Math.max(He.maxX,be[we]),He.maxY=Math.max(He.maxY,be[we+1])}function je(He,be,we,xe){if(!be.geometry)return;const Ye=be.geometry.coordinates;if(Ye&&Ye.length===0)return;const lt=be.geometry.type,ct=Math.pow(we.tolerance/((1<<we.maxZoom)*we.extent),2);let _t=[],yt=be.id;if(we.promoteId?yt=be.properties[we.promoteId]:we.generateId&&(yt=xe||0),lt==="Point")Fe(Ye,_t);else if(lt==="MultiPoint")for(const jt of Ye)Fe(jt,_t);else if(lt==="LineString")ze(Ye,_t,ct,!1);else if(lt==="MultiLineString"){if(we.lineMetrics){for(const jt of Ye)_t=[],ze(jt,_t,ct,!1),He.push(Se(yt,"LineString",_t,be.properties));return}Ze(Ye,_t,ct,!1)}else if(lt==="Polygon")Ze(Ye,_t,ct,!0);else{if(lt!=="MultiPolygon"){if(lt==="GeometryCollection"){for(const jt of be.geometry.geometries)je(He,{id:yt,geometry:jt,properties:be.properties},we,xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const jt of Ye){const $t=[];Ze(jt,$t,ct,!0),_t.push($t)}}He.push(Se(yt,lt,_t,be.properties))}function Fe(He,be){be.push(st(He[0]),Ue(He[1]),0)}function ze(He,be,we,xe){let Ye,lt,ct=0;for(let yt=0;yt<He.length;yt++){const jt=st(He[yt][0]),$t=Ue(He[yt][1]);be.push(jt,$t,0),yt>0&&(ct+=xe?(Ye*$t-jt*lt)/2:Math.sqrt(Math.pow(jt-Ye,2)+Math.pow($t-lt,2))),Ye=jt,lt=$t}const _t=be.length-3;be[2]=1,ye(be,0,_t,we),be[_t+2]=1,be.size=Math.abs(ct),be.start=0,be.end=be.size}function Ze(He,be,we,xe){for(let Ye=0;Ye<He.length;Ye++){const lt=[];ze(He[Ye],lt,we,xe),be.push(lt)}}function st(He){return He/360+.5}function Ue(He){const be=Math.sin(He*Math.PI/180),we=.5-.25*Math.log((1+be)/(1-be))/Math.PI;return we<0?0:we>1?1:we}function Ne(He,be,we,xe,Ye,lt,ct,_t){if(xe/=be,lt>=(we/=be)&&ct<xe)return He;if(ct<we||lt>=xe)return null;const yt=[];for(const jt of He){const $t=jt.geometry;let vt=jt.type;const It=Ye===0?jt.minX:jt.minY,zt=Ye===0?jt.maxX:jt.maxY;if(It>=we&&zt<xe){yt.push(jt);continue}if(zt<we||It>=xe)continue;let Dt=[];if(vt==="Point"||vt==="MultiPoint")qe($t,Dt,we,xe,Ye);else if(vt==="LineString")We($t,Dt,we,xe,Ye,!1,_t.lineMetrics);else if(vt==="MultiLineString")ht($t,Dt,we,xe,Ye,!1);else if(vt==="Polygon")ht($t,Dt,we,xe,Ye,!0);else if(vt==="MultiPolygon")for(const Tt of $t){const xn=[];ht(Tt,xn,we,xe,Ye,!0),xn.length&&Dt.push(xn)}if(Dt.length){if(_t.lineMetrics&&vt==="LineString"){for(const Tt of Dt)yt.push(Se(jt.id,vt,Tt,jt.tags));continue}vt!=="LineString"&&vt!=="MultiLineString"||(Dt.length===1?(vt="LineString",Dt=Dt[0]):vt="MultiLineString"),vt!=="Point"&&vt!=="MultiPoint"||(vt=Dt.length===3?"Point":"MultiPoint"),yt.push(Se(jt.id,vt,Dt,jt.tags))}}return yt.length?yt:null}function qe(He,be,we,xe,Ye){for(let lt=0;lt<He.length;lt+=3){const ct=He[lt+Ye];ct>=we&&ct<=xe&&ft(be,He[lt],He[lt+1],He[lt+2])}}function We(He,be,we,xe,Ye,lt,ct){let _t=rt(He);const yt=Ye===0?Rt:Yt;let jt,$t,vt=He.start;for(let xn=0;xn<He.length-3;xn+=3){const Bt=He[xn],nn=He[xn+1],Fn=He[xn+2],Ht=He[xn+3],ln=He[xn+4],rn=Ye===0?Bt:nn,Tn=Ye===0?Ht:ln;let Un=!1;ct&&(jt=Math.sqrt(Math.pow(Bt-Ht,2)+Math.pow(nn-ln,2))),rn<we?Tn>we&&($t=yt(_t,Bt,nn,Ht,ln,we),ct&&(_t.start=vt+jt*$t)):rn>xe?Tn<xe&&($t=yt(_t,Bt,nn,Ht,ln,xe),ct&&(_t.start=vt+jt*$t)):ft(_t,Bt,nn,Fn),Tn<we&&rn>=we&&($t=yt(_t,Bt,nn,Ht,ln,we),Un=!0),Tn>xe&&rn<=xe&&($t=yt(_t,Bt,nn,Ht,ln,xe),Un=!0),!lt&&Un&&(ct&&(_t.end=vt+jt*$t),be.push(_t),_t=rt(He)),ct&&(vt+=jt)}let It=He.length-3;const zt=He[It],Dt=He[It+1],Tt=Ye===0?zt:Dt;Tt>=we&&Tt<=xe&&ft(_t,zt,Dt,He[It+2]),It=_t.length-3,lt&&It>=3&&(_t[It]!==_t[0]||_t[It+1]!==_t[1])&&ft(_t,_t[0],_t[1],_t[2]),_t.length&&be.push(_t)}function rt(He){const be=[];return be.size=He.size,be.start=He.start,be.end=He.end,be}function ht(He,be,we,xe,Ye,lt){for(const ct of He)We(ct,be,we,xe,Ye,lt,!1)}function ft(He,be,we,xe){He.push(be,we,xe)}function Rt(He,be,we,xe,Ye,lt){const ct=(lt-be)/(xe-be);return ft(He,lt,we+(Ye-we)*ct,1),ct}function Yt(He,be,we,xe,Ye,lt){const ct=(lt-we)/(Ye-we);return ft(He,be+(xe-be)*ct,lt,1),ct}function Jt(He,be){const we=[];for(let xe=0;xe<He.length;xe++){const Ye=He[xe],lt=Ye.type;let ct;if(lt==="Point"||lt==="MultiPoint"||lt==="LineString")ct=xt(Ye.geometry,be);else if(lt==="MultiLineString"||lt==="Polygon"){ct=[];for(const _t of Ye.geometry)ct.push(xt(_t,be))}else if(lt==="MultiPolygon"){ct=[];for(const _t of Ye.geometry){const yt=[];for(const jt of _t)yt.push(xt(jt,be));ct.push(yt)}}we.push(Se(Ye.id,lt,ct,Ye.tags))}return we}function xt(He,be){const we=[];we.size=He.size,He.start!==void 0&&(we.start=He.start,we.end=He.end);for(let xe=0;xe<He.length;xe+=3)we.push(He[xe]+be,He[xe+1],He[xe+2]);return we}function Ft(He,be){if(He.transformed)return He;const we=1<<He.z,xe=He.x,Ye=He.y;for(const lt of He.features){const ct=lt.geometry,_t=lt.type;if(lt.geometry=[],_t===1)for(let yt=0;yt<ct.length;yt+=2)lt.geometry.push(Lt(ct[yt],ct[yt+1],be,we,xe,Ye));else for(let yt=0;yt<ct.length;yt++){const jt=[];for(let $t=0;$t<ct[yt].length;$t+=2)jt.push(Lt(ct[yt][$t],ct[yt][$t+1],be,we,xe,Ye));lt.geometry.push(jt)}}return He.transformed=!0,He}function Lt(He,be,we,xe,Ye,lt){return[Math.round(we*(He*xe-Ye)),Math.round(we*(be*xe-lt))]}function Kt(He,be,we,xe,Ye){const lt=be===Ye.maxZoom?0:Ye.tolerance/((1<<be)*Ye.extent),ct={features:[],numPoints:0,numSimplified:0,numFeatures:He.length,source:null,x:we,y:xe,z:be,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const _t of He)hn(ct,_t,lt,Ye);return ct}function hn(He,be,we,xe){const Ye=be.geometry,lt=be.type,ct=[];if(He.minX=Math.min(He.minX,be.minX),He.minY=Math.min(He.minY,be.minY),He.maxX=Math.max(He.maxX,be.maxX),He.maxY=Math.max(He.maxY,be.maxY),lt==="Point"||lt==="MultiPoint")for(let _t=0;_t<Ye.length;_t+=3)ct.push(Ye[_t],Ye[_t+1]),He.numPoints++,He.numSimplified++;else if(lt==="LineString")dn(ct,Ye,He,we,!1,!1);else if(lt==="MultiLineString"||lt==="Polygon")for(let _t=0;_t<Ye.length;_t++)dn(ct,Ye[_t],He,we,lt==="Polygon",_t===0);else if(lt==="MultiPolygon")for(let _t=0;_t<Ye.length;_t++){const yt=Ye[_t];for(let jt=0;jt<yt.length;jt++)dn(ct,yt[jt],He,we,!0,jt===0)}if(ct.length){let _t=be.tags||null;if(lt==="LineString"&&xe.lineMetrics){_t={};for(const jt in be.tags)_t[jt]=be.tags[jt];_t.mapbox_clip_start=Ye.start/Ye.size,_t.mapbox_clip_end=Ye.end/Ye.size}const yt={geometry:ct,type:lt==="Polygon"||lt==="MultiPolygon"?3:lt==="LineString"||lt==="MultiLineString"?2:1,tags:_t};be.id!==null&&(yt.id=be.id),He.features.push(yt)}}function dn(He,be,we,xe,Ye,lt){const ct=xe*xe;if(xe>0&&be.size<(Ye?ct:xe))return void(we.numPoints+=be.length/3);const _t=[];for(let yt=0;yt<be.length;yt+=3)(xe===0||be[yt+2]>ct)&&(we.numSimplified++,_t.push(be[yt],be[yt+1])),we.numPoints++;Ye&&function(yt,jt){let $t=0;for(let vt=0,It=yt.length,zt=It-2;vt<It;zt=vt,vt+=2)$t+=(yt[vt]-yt[zt])*(yt[vt+1]+yt[zt+1]);if($t>0===jt)for(let vt=0,It=yt.length;vt<It/2;vt+=2){const zt=yt[vt],Dt=yt[vt+1];yt[vt]=yt[It-2-vt],yt[vt+1]=yt[It-1-vt],yt[It-2-vt]=zt,yt[It-1-vt]=Dt}}(_t,lt),He.push(_t)}const Cn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class kn{constructor(be,we){const xe=(we=this.options=function(lt,ct){for(const _t in ct)lt[_t]=ct[_t];return lt}(Object.create(Cn),we)).debug;if(xe&&console.time("preprocess data"),we.maxZoom<0||we.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(we.promoteId&&we.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ye=function(lt,ct){const _t=[];if(lt.type==="FeatureCollection")for(let yt=0;yt<lt.features.length;yt++)je(_t,lt.features[yt],ct,yt);else je(_t,lt.type==="Feature"?lt:{geometry:lt},ct);return _t}(be,we);this.tiles={},this.tileCoords=[],xe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",we.indexMaxZoom,we.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ye=function(lt,ct){const _t=ct.buffer/ct.extent;let yt=lt;const jt=Ne(lt,1,-1-_t,_t,0,-1,2,ct),$t=Ne(lt,1,1-_t,2+_t,0,-1,2,ct);return(jt||$t)&&(yt=Ne(lt,1,-_t,1+_t,0,-1,2,ct)||[],jt&&(yt=Jt(jt,1).concat(yt)),$t&&(yt=yt.concat(Jt($t,-1)))),yt}(Ye,we),Ye.length&&this.splitTile(Ye,0,0,0),xe&&(Ye.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(be,we,xe,Ye,lt,ct,_t){const yt=[be,we,xe,Ye],jt=this.options,$t=jt.debug;for(;yt.length;){Ye=yt.pop(),xe=yt.pop(),we=yt.pop(),be=yt.pop();const vt=1<<we,It=sn(we,xe,Ye);let zt=this.tiles[It];if(!zt&&($t>1&&console.time("creation"),zt=this.tiles[It]=Kt(be,we,xe,Ye,jt),this.tileCoords.push({z:we,x:xe,y:Ye}),$t)){$t>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",we,xe,Ye,zt.numFeatures,zt.numPoints,zt.numSimplified),console.timeEnd("creation"));const Un=`z${we}`;this.stats[Un]=(this.stats[Un]||0)+1,this.total++}if(zt.source=be,lt==null){if(we===jt.indexMaxZoom||zt.numPoints<=jt.indexMaxPoints)continue}else{if(we===jt.maxZoom||we===lt)continue;if(lt!=null){const Un=lt-we;if(xe!==ct>>Un||Ye!==_t>>Un)continue}}if(zt.source=null,be.length===0)continue;$t>1&&console.time("clipping");const Dt=.5*jt.buffer/jt.extent,Tt=.5-Dt,xn=.5+Dt,Bt=1+Dt;let nn=null,Fn=null,Ht=null,ln=null,rn=Ne(be,vt,xe-Dt,xe+xn,0,zt.minX,zt.maxX,jt),Tn=Ne(be,vt,xe+Tt,xe+Bt,0,zt.minX,zt.maxX,jt);be=null,rn&&(nn=Ne(rn,vt,Ye-Dt,Ye+xn,1,zt.minY,zt.maxY,jt),Fn=Ne(rn,vt,Ye+Tt,Ye+Bt,1,zt.minY,zt.maxY,jt),rn=null),Tn&&(Ht=Ne(Tn,vt,Ye-Dt,Ye+xn,1,zt.minY,zt.maxY,jt),ln=Ne(Tn,vt,Ye+Tt,Ye+Bt,1,zt.minY,zt.maxY,jt),Tn=null),$t>1&&console.timeEnd("clipping"),yt.push(nn||[],we+1,2*xe,2*Ye),yt.push(Fn||[],we+1,2*xe,2*Ye+1),yt.push(Ht||[],we+1,2*xe+1,2*Ye),yt.push(ln||[],we+1,2*xe+1,2*Ye+1)}}getTile(be,we,xe){be=+be,we=+we,xe=+xe;const Ye=this.options,{extent:lt,debug:ct}=Ye;if(be<0||be>24)return null;const _t=1<<be,yt=sn(be,we=we+_t&_t-1,xe);if(this.tiles[yt])return Ft(this.tiles[yt],lt);ct>1&&console.log("drilling down to z%d-%d-%d",be,we,xe);let jt,$t=be,vt=we,It=xe;for(;!jt&&$t>0;)$t--,vt>>=1,It>>=1,jt=this.tiles[sn($t,vt,It)];return jt&&jt.source?(ct>1&&(console.log("found parent tile z%d-%d-%d",$t,vt,It),console.time("drilling down")),this.splitTile(jt.source,$t,vt,It,be,we,xe),ct>1&&console.timeEnd("drilling down"),this.tiles[yt]?Ft(this.tiles[yt],lt):null):null}}function sn(He,be,we){return 32*((1<<He)*we+be)+He}function un(He,be){return be?He.properties[be]:He.id}function gn(He,be){if(He==null)return!0;if(He.type==="Feature")return un(He,be)!=null;if(He.type==="FeatureCollection"){const we=new Set;for(const xe of He.features){const Ye=un(xe,be);if(Ye==null||we.has(Ye))return!1;we.add(Ye)}return!0}return!1}function Qt(He,be){const we=new Map;if(He!=null)if(He.type==="Feature")we.set(un(He,be),He);else for(const xe of He.features)we.set(un(xe,be),xe);return we}class Ln extends d{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(be,we){return s._(this,void 0,void 0,function*(){const xe=be.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ye=this._geoJSONIndex.getTile(xe.z,xe.x,xe.y);if(!Ye)return null;const lt=new M(Ye.features);let ct=U(lt);return ct.byteOffset===0&&ct.byteLength===ct.buffer.byteLength||(ct=new Uint8Array(ct)),{vectorTile:lt,rawData:ct.buffer}})}loadData(be){return s._(this,void 0,void 0,function*(){var we;(we=this._pendingRequest)===null||we===void 0||we.abort();const xe=!!(be&&be.request&&be.request.collectResourceTiming)&&new s.cA(be.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(be,this._pendingRequest),this._geoJSONIndex=be.cluster?new Z(function({superclusterOptions:ct,clusterProperties:_t}){if(!_t||!ct)return ct;const yt={},jt={},$t={accumulated:null,zoom:0},vt={properties:null},It=Object.keys(_t);for(const zt of It){const[Dt,Tt]=_t[zt],xn=s.cH(Tt),Bt=s.cH(typeof Dt=="string"?[Dt,["accumulated"],["get",zt]]:Dt);yt[zt]=xn.value,jt[zt]=Bt.value}return ct.map=zt=>{vt.properties=zt;const Dt={};for(const Tt of It)Dt[Tt]=yt[Tt].evaluate($t,vt);return Dt},ct.reduce=(zt,Dt)=>{vt.properties=Dt;for(const Tt of It)$t.accumulated=zt[Tt],zt[Tt]=jt[Tt].evaluate($t,vt)},ct}(be)).load((yield this._pendingData).features):(Ye=yield this._pendingData,new kn(Ye,be.geojsonVtOptions)),this.loaded={};const lt={};if(xe){const ct=xe.finish();ct&&(lt.resourceTiming={},lt.resourceTiming[be.source]=JSON.parse(JSON.stringify(ct)))}return lt}catch(lt){if(delete this._pendingRequest,s.cl(lt))return{abandoned:!0};throw lt}var Ye})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(be){const we=this.loaded;return we&&we[be.uid]?super.reloadTile(be):this.loadTile(be)}loadAndProcessGeoJSON(be,we){return s._(this,void 0,void 0,function*(){let xe=yield this.loadGeoJSON(be,we);if(delete this._pendingRequest,typeof xe!="object")throw new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`);if(w(xe,!0),be.filter){const Ye=s.cH(be.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ye.result==="error")throw new Error(Ye.value.map(ct=>`${ct.key}: ${ct.message}`).join(", "));xe={type:"FeatureCollection",features:xe.features.filter(ct=>Ye.value.evaluate({zoom:0},ct))}}return xe})}loadGeoJSON(be,we){return s._(this,void 0,void 0,function*(){const{promoteId:xe}=be;if(be.request){const Ye=yield s.j(be.request,we);return this._dataUpdateable=gn(Ye.data,xe)?Qt(Ye.data,xe):void 0,Ye.data}if(typeof be.data=="string")try{const Ye=JSON.parse(be.data);return this._dataUpdateable=gn(Ye,xe)?Qt(Ye,xe):void 0,Ye}catch{throw new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`)}if(!be.dataDiff)throw new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${be.source}`);return function(Ye,lt,ct){var _t,yt,jt,$t;if(lt.removeAll&&Ye.clear(),lt.remove)for(const vt of lt.remove)Ye.delete(vt);if(lt.add)for(const vt of lt.add){const It=un(vt,ct);It!=null&&Ye.set(It,vt)}if(lt.update)for(const vt of lt.update){let It=Ye.get(vt.id);if(It==null)continue;const zt=!vt.removeAllProperties&&(((_t=vt.removeProperties)===null||_t===void 0?void 0:_t.length)>0||((yt=vt.addOrUpdateProperties)===null||yt===void 0?void 0:yt.length)>0);if((vt.newGeometry||vt.removeAllProperties||zt)&&(It=Object.assign({},It),Ye.set(vt.id,It),zt&&(It.properties=Object.assign({},It.properties))),vt.newGeometry&&(It.geometry=vt.newGeometry),vt.removeAllProperties)It.properties={};else if(((jt=vt.removeProperties)===null||jt===void 0?void 0:jt.length)>0)for(const Dt of vt.removeProperties)Object.prototype.hasOwnProperty.call(It.properties,Dt)&&delete It.properties[Dt];if((($t=vt.addOrUpdateProperties)===null||$t===void 0?void 0:$t.length)>0)for(const{key:Dt,value:Tt}of vt.addOrUpdateProperties)It.properties[Dt]=Tt}}(this._dataUpdateable,be.dataDiff,xe),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(be){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(be){return this._geoJSONIndex.getClusterExpansionZoom(be.clusterId)}getClusterChildren(be){return this._geoJSONIndex.getChildren(be.clusterId)}getClusterLeaves(be){return this._geoJSONIndex.getLeaves(be.clusterId,be.limit,be.offset)}}class Gt{constructor(be){this.self=be,this.actor=new s.H(be),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(we,xe)=>{if(this.externalWorkerSourceTypes[we])throw new Error(`Worker source with name "${we}" already registered.`);this.externalWorkerSourceTypes[we]=xe},this.self.addProtocol=s.cn,this.self.removeProtocol=s.co,this.self.registerRTLTextPlugin=we=>{s.cI.setMethods(we)},this.actor.registerMessageHandler("LDT",(we,xe)=>this._getDEMWorkerSource(we,xe.source).loadTile(xe)),this.actor.registerMessageHandler("RDT",(we,xe)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(we,xe.source).removeTile(xe)})),this.actor.registerMessageHandler("GCEZ",(we,xe)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(we,xe.type,xe.source).getClusterExpansionZoom(xe)})),this.actor.registerMessageHandler("GCC",(we,xe)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(we,xe.type,xe.source).getClusterChildren(xe)})),this.actor.registerMessageHandler("GCL",(we,xe)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(we,xe.type,xe.source).getClusterLeaves(xe)})),this.actor.registerMessageHandler("LD",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).loadData(xe)),this.actor.registerMessageHandler("GD",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).getData()),this.actor.registerMessageHandler("LT",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).loadTile(xe)),this.actor.registerMessageHandler("RT",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).reloadTile(xe)),this.actor.registerMessageHandler("AT",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).abortTile(xe)),this.actor.registerMessageHandler("RMT",(we,xe)=>this._getWorkerSource(we,xe.type,xe.source).removeTile(xe)),this.actor.registerMessageHandler("RS",(we,xe)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[we]||!this.workerSources[we][xe.type]||!this.workerSources[we][xe.type][xe.source])return;const Ye=this.workerSources[we][xe.type][xe.source];delete this.workerSources[we][xe.type][xe.source],Ye.removeSource!==void 0&&Ye.removeSource(xe)})),this.actor.registerMessageHandler("RM",we=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[we],delete this.availableImages[we],delete this.workerSources[we],delete this.demWorkerSources[we]})),this.actor.registerMessageHandler("SR",(we,xe)=>s._(this,void 0,void 0,function*(){this.referrer=xe})),this.actor.registerMessageHandler("SRPS",(we,xe)=>this._syncRTLPluginState(we,xe)),this.actor.registerMessageHandler("IS",(we,xe)=>s._(this,void 0,void 0,function*(){this.self.importScripts(xe)})),this.actor.registerMessageHandler("SI",(we,xe)=>this._setImages(we,xe)),this.actor.registerMessageHandler("UL",(we,xe)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(we).update(xe.layers,xe.removedIds)})),this.actor.registerMessageHandler("SL",(we,xe)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(we).replace(xe)}))}_setImages(be,we){return s._(this,void 0,void 0,function*(){this.availableImages[be]=we;for(const xe in this.workerSources[be]){const Ye=this.workerSources[be][xe];for(const lt in Ye)Ye[lt].availableImages=we}})}_syncRTLPluginState(be,we){return s._(this,void 0,void 0,function*(){return yield s.cI.syncState(we,this.self.importScripts)})}_getAvailableImages(be){let we=this.availableImages[be];return we||(we=[]),we}_getLayerIndex(be){let we=this.layerIndexes[be];return we||(we=this.layerIndexes[be]=new o),we}_getWorkerSource(be,we,xe){if(this.workerSources[be]||(this.workerSources[be]={}),this.workerSources[be][we]||(this.workerSources[be][we]={}),!this.workerSources[be][we][xe]){const Ye={sendAsync:(lt,ct)=>(lt.targetMapId=be,this.actor.sendAsync(lt,ct))};switch(we){case"vector":this.workerSources[be][we][xe]=new d(Ye,this._getLayerIndex(be),this._getAvailableImages(be));break;case"geojson":this.workerSources[be][we][xe]=new Ln(Ye,this._getLayerIndex(be),this._getAvailableImages(be));break;default:this.workerSources[be][we][xe]=new this.externalWorkerSourceTypes[we](Ye,this._getLayerIndex(be),this._getAvailableImages(be))}}return this.workerSources[be][we][xe]}_getDEMWorkerSource(be,we){return this.demWorkerSources[be]||(this.demWorkerSources[be]={}),this.demWorkerSources[be][we]||(this.demWorkerSources[be][we]=new h),this.demWorkerSources[be][we]}}return s.i(self)&&(self.worker=new Gt(self)),Gt}),i("index",["exports","./shared"],function(s,o){var l="5.3.0";function c(){var z=new o.A(4);return o.A!=Float32Array&&(z[1]=0,z[2]=0),z[0]=1,z[3]=1,z}let u,d;const h={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(z,f,y){const T=requestAnimationFrame(F=>{$(),f(F)}),{unsubscribe:$}=o.s(z.signal,"abort",()=>{$(),cancelAnimationFrame(T),y(o.c())},!1)},frameAsync(z){return new Promise((f,y)=>{this.frame(z,f,y)})},getImageData(z,f=0){return this.getImageCanvasContext(z).getImageData(-f,-f,z.width+2*f,z.height+2*f)},getImageCanvasContext(z){const f=window.document.createElement("canvas"),y=f.getContext("2d",{willReadFrequently:!0});if(!y)throw new Error("failed to create canvas 2d context");return f.width=z.width,f.height=z.height,y.drawImage(z,0,0,z.width,z.height),y},resolveURL:z=>(u||(u=document.createElement("a")),u.href=z,u.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(d==null&&(d=matchMedia("(prefers-reduced-motion: reduce)")),d.matches)}};class g{static testProp(f){if(!g.docStyle)return f[0];for(let y=0;y<f.length;y++)if(f[y]in g.docStyle)return f[y];return f[0]}static create(f,y,T){const $=window.document.createElement(f);return y!==void 0&&($.className=y),T&&T.appendChild($),$}static createNS(f,y){return window.document.createElementNS(f,y)}static disableDrag(){g.docStyle&&g.selectProp&&(g.userSelect=g.docStyle[g.selectProp],g.docStyle[g.selectProp]="none")}static enableDrag(){g.docStyle&&g.selectProp&&(g.docStyle[g.selectProp]=g.userSelect)}static setTransform(f,y){f.style[g.transformProp]=y}static addEventListener(f,y,T,$={}){f.addEventListener(y,T,"passive"in $?$:$.capture)}static removeEventListener(f,y,T,$={}){f.removeEventListener(y,T,"passive"in $?$:$.capture)}static suppressClickInternal(f){f.preventDefault(),f.stopPropagation(),window.removeEventListener("click",g.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",g.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",g.suppressClickInternal,!0)},0)}static getScale(f){const y=f.getBoundingClientRect();return{x:y.width/f.offsetWidth||1,y:y.height/f.offsetHeight||1,boundingClientRect:y}}static getPoint(f,y,T){const $=y.boundingClientRect;return new o.P((T.clientX-$.left)/y.x-f.clientLeft,(T.clientY-$.top)/y.y-f.clientTop)}static mousePos(f,y){const T=g.getScale(f);return g.getPoint(f,T,y)}static touchPos(f,y){const T=[],$=g.getScale(f);for(let F=0;F<y.length;F++)T.push(g.getPoint(f,$,y[F]));return T}static mouseButton(f){return f.button}static remove(f){f.parentNode&&f.parentNode.removeChild(f)}static sanitize(f){const y=new DOMParser().parseFromString(f,"text/html").body||document.createElement("body"),T=y.querySelectorAll("script");for(const $ of T)$.remove();return g.clean(y),y.innerHTML}static isPossiblyDangerous(f,y){const T=y.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(f)||!T.includes("javascript:")&&!T.includes("data:"))||!!f.startsWith("on")||void 0}static clean(f){const y=f.children;for(const T of y)g.removeAttributes(T),g.clean(T)}static removeAttributes(f){for(const{name:y,value:T}of f.attributes)g.isPossiblyDangerous(y,T)&&f.removeAttribute(y)}}g.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,g.selectProp=g.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),g.transformProp=g.testProp(["transform","WebkitTransform"]);const v={supported:!1,testSupport:function(z){!C&&w&&(E?M(z):x=z)}};let x,w,C=!1,E=!1;function M(z){const f=z.createTexture();z.bindTexture(z.TEXTURE_2D,f);try{if(z.texImage2D(z.TEXTURE_2D,0,z.RGBA,z.RGBA,z.UNSIGNED_BYTE,w),z.isContextLost())return;v.supported=!0}catch{}z.deleteTexture(f),C=!0}var R;typeof document<"u"&&(w=document.createElement("img"),w.onload=()=>{x&&M(x),x=null,E=!0},w.onerror=()=>{C=!0,x=null},w.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(z){let f,y,T,$;z.resetRequestQueue=()=>{f=[],y=0,T=0,$={}},z.addThrottleControl=se=>{const de=T++;return $[de]=se,de},z.removeThrottleControl=se=>{delete $[se],W()},z.getImage=(se,de,ve=!0)=>new Promise((Ee,Ce)=>{v.supported&&(se.headers||(se.headers={}),se.headers.accept="image/webp,*/*"),o.e(se,{type:"image"}),f.push({abortController:de,requestParameters:se,supportImageRefresh:ve,state:"queued",onError:ke=>{Ce(ke)},onSuccess:ke=>{Ee(ke)}}),W()});const F=se=>o._(this,void 0,void 0,function*(){se.state="running";const{requestParameters:de,supportImageRefresh:ve,onError:Ee,onSuccess:Ce,abortController:ke}=se,Be=ve===!1&&!o.i(self)&&!o.g(de.url)&&(!de.headers||Object.keys(de.headers).reduce((nt,pt)=>nt&&pt==="accept",!0));y++;const tt=Be?ne(de,ke):o.m(de,ke);try{const nt=yield tt;delete se.abortController,se.state="completed",nt.data instanceof HTMLImageElement||o.b(nt.data)?Ce(nt):nt.data&&Ce({data:yield(Je=nt.data,typeof createImageBitmap=="function"?o.f(Je):o.h(Je)),cacheControl:nt.cacheControl,expires:nt.expires})}catch(nt){delete se.abortController,Ee(nt)}finally{y--,W()}var Je}),W=()=>{const se=(()=>{for(const de of Object.keys($))if($[de]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let de=y;de<se&&f.length>0;de++){const ve=f.shift();ve.abortController.signal.aborted?de--:F(ve)}},ne=(se,de)=>new Promise((ve,Ee)=>{const Ce=new Image,ke=se.url,Be=se.credentials;Be&&Be==="include"?Ce.crossOrigin="use-credentials":(Be&&Be==="same-origin"||!o.d(ke))&&(Ce.crossOrigin="anonymous"),de.signal.addEventListener("abort",()=>{Ce.src="",Ee(o.c())}),Ce.fetchPriority="high",Ce.onload=()=>{Ce.onerror=Ce.onload=null,ve({data:Ce})},Ce.onerror=()=>{Ce.onerror=Ce.onload=null,de.signal.aborted||Ee(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ce.src=ke})}(R||(R={})),R.resetRequestQueue();class L{constructor(f){this._transformRequestFn=f}transformRequest(f,y){return this._transformRequestFn&&this._transformRequestFn(f,y)||{url:f}}setTransformRequest(f){this._transformRequestFn=f}}function N(z){const f=[];if(typeof z=="string")f.push({id:"default",url:z});else if(z&&z.length>0){const y=[];for(const{id:T,url:$}of z){const F=`${T}${$}`;y.indexOf(F)===-1&&(y.push(F),f.push({id:T,url:$}))}}return f}function D(z,f,y){try{const T=new URL(z);return T.pathname+=`${f}${y}`,T.toString()}catch{throw new Error(`Invalid sprite URL "${z}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class H{constructor(f,y,T,$){this.context=f,this.format=T,this.texture=f.gl.createTexture(),this.update(y,$)}update(f,y,T){const{width:$,height:F}=f,W=!(this.size&&this.size[0]===$&&this.size[1]===F||T),{context:ne}=this,{gl:se}=ne;if(this.useMipmap=!!(y&&y.useMipmap),se.bindTexture(se.TEXTURE_2D,this.texture),ne.pixelStoreUnpackFlipY.set(!1),ne.pixelStoreUnpack.set(1),ne.pixelStoreUnpackPremultiplyAlpha.set(this.format===se.RGBA&&(!y||y.premultiply!==!1)),W)this.size=[$,F],f instanceof HTMLImageElement||f instanceof HTMLCanvasElement||f instanceof HTMLVideoElement||f instanceof ImageData||o.b(f)?se.texImage2D(se.TEXTURE_2D,0,this.format,this.format,se.UNSIGNED_BYTE,f):se.texImage2D(se.TEXTURE_2D,0,this.format,$,F,0,this.format,se.UNSIGNED_BYTE,f.data);else{const{x:de,y:ve}=T||{x:0,y:0};f instanceof HTMLImageElement||f instanceof HTMLCanvasElement||f instanceof HTMLVideoElement||f instanceof ImageData||o.b(f)?se.texSubImage2D(se.TEXTURE_2D,0,de,ve,se.RGBA,se.UNSIGNED_BYTE,f):se.texSubImage2D(se.TEXTURE_2D,0,de,ve,$,F,se.RGBA,se.UNSIGNED_BYTE,f.data)}this.useMipmap&&this.isSizePowerOfTwo()&&se.generateMipmap(se.TEXTURE_2D)}bind(f,y,T){const{context:$}=this,{gl:F}=$;F.bindTexture(F.TEXTURE_2D,this.texture),T!==F.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(T=F.LINEAR),f!==this.filter&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,f),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,T||f),this.filter=f),y!==this.wrap&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,y),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,y),this.wrap=y)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:f}=this.context;f.deleteTexture(this.texture),this.texture=null}}function U(z){const{userImage:f}=z;return!!(f&&f.render&&f.render())&&(z.data.replace(new Uint8Array(f.data.buffer)),!0)}class q extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(f){if(this.loaded!==f&&(this.loaded=f,f)){for(const{ids:y,promiseResolve:T}of this.requestors)T(this._getImagesForIds(y));this.requestors=[]}}getImage(f){const y=this.images[f];if(y&&!y.data&&y.spriteData){const T=y.spriteData;y.data=new o.R({width:T.width,height:T.height},T.context.getImageData(T.x,T.y,T.width,T.height).data),y.spriteData=null}return y}addImage(f,y){if(this.images[f])throw new Error(`Image id ${f} already exist, use updateImage instead`);this._validate(f,y)&&(this.images[f]=y)}_validate(f,y){let T=!0;const $=y.data||y.spriteData;return this._validateStretch(y.stretchX,$&&$.width)||(this.fire(new o.k(new Error(`Image "${f}" has invalid "stretchX" value`))),T=!1),this._validateStretch(y.stretchY,$&&$.height)||(this.fire(new o.k(new Error(`Image "${f}" has invalid "stretchY" value`))),T=!1),this._validateContent(y.content,y)||(this.fire(new o.k(new Error(`Image "${f}" has invalid "content" value`))),T=!1),T}_validateStretch(f,y){if(!f)return!0;let T=0;for(const $ of f){if($[0]<T||$[1]<$[0]||y<$[1])return!1;T=$[1]}return!0}_validateContent(f,y){if(!f)return!0;if(f.length!==4)return!1;const T=y.spriteData,$=T&&T.width||y.data.width,F=T&&T.height||y.data.height;return!(f[0]<0||$<f[0]||f[1]<0||F<f[1]||f[2]<0||$<f[2]||f[3]<0||F<f[3]||f[2]<f[0]||f[3]<f[1])}updateImage(f,y,T=!0){const $=this.getImage(f);if(T&&($.data.width!==y.data.width||$.data.height!==y.data.height))throw new Error(`size mismatch between old image (${$.data.width}x${$.data.height}) and new image (${y.data.width}x${y.data.height}).`);y.version=$.version+1,this.images[f]=y,this.updatedImages[f]=!0}removeImage(f){const y=this.images[f];delete this.images[f],delete this.patterns[f],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(f){return new Promise((y,T)=>{let $=!0;if(!this.isLoaded())for(const F of f)this.images[F]||($=!1);this.isLoaded()||$?y(this._getImagesForIds(f)):this.requestors.push({ids:f,promiseResolve:y})})}_getImagesForIds(f){const y={};for(const T of f){let $=this.getImage(T);$||(this.fire(new o.l("styleimagemissing",{id:T})),$=this.getImage(T)),$?y[T]={data:$.data.clone(),pixelRatio:$.pixelRatio,sdf:$.sdf,version:$.version,stretchX:$.stretchX,stretchY:$.stretchY,content:$.content,textFitWidth:$.textFitWidth,textFitHeight:$.textFitHeight,hasRenderCallback:!!($.userImage&&$.userImage.render)}:o.w(`Image "${T}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return y}getPixelSize(){const{width:f,height:y}=this.atlasImage;return{width:f,height:y}}getPattern(f){const y=this.patterns[f],T=this.getImage(f);if(!T)return null;if(y&&y.position.version===T.version)return y.position;if(y)y.position.version=T.version;else{const $={w:T.data.width+2,h:T.data.height+2,x:0,y:0},F=new o.I($,T);this.patterns[f]={bin:$,position:F}}return this._updatePatternAtlas(),this.patterns[f].position}bind(f){const y=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new H(f,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)}_updatePatternAtlas(){const f=[];for(const F in this.patterns)f.push(this.patterns[F].bin);const{w:y,h:T}=o.p(f),$=this.atlasImage;$.resize({width:y||1,height:T||1});for(const F in this.patterns){const{bin:W}=this.patterns[F],ne=W.x+1,se=W.y+1,de=this.getImage(F).data,ve=de.width,Ee=de.height;o.R.copy(de,$,{x:0,y:0},{x:ne,y:se},{width:ve,height:Ee}),o.R.copy(de,$,{x:0,y:Ee-1},{x:ne,y:se-1},{width:ve,height:1}),o.R.copy(de,$,{x:0,y:0},{x:ne,y:se+Ee},{width:ve,height:1}),o.R.copy(de,$,{x:ve-1,y:0},{x:ne-1,y:se},{width:1,height:Ee}),o.R.copy(de,$,{x:0,y:0},{x:ne+ve,y:se},{width:1,height:Ee})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(f){for(const y of f){if(this.callbackDispatchedThisFrame[y])continue;this.callbackDispatchedThisFrame[y]=!0;const T=this.getImage(y);T||o.w(`Image with ID: "${y}" was not found`),U(T)&&this.updateImage(y,T)}}}const K=1e20;function Q(z,f,y,T,$,F,W,ne,se){for(let de=f;de<f+T;de++)X(z,y*F+de,F,$,W,ne,se);for(let de=y;de<y+$;de++)X(z,de*F+f,1,T,W,ne,se)}function X(z,f,y,T,$,F,W){F[0]=0,W[0]=-1e20,W[1]=K,$[0]=z[f];for(let ne=1,se=0,de=0;ne<T;ne++){$[ne]=z[f+ne*y];const ve=ne*ne;do{const Ee=F[se];de=($[ne]-$[Ee]+ve-Ee*Ee)/(ne-Ee)/2}while(de<=W[se]&&--se>-1);se++,F[se]=ne,W[se]=de,W[se+1]=K}for(let ne=0,se=0;ne<T;ne++){for(;W[se+1]<ne;)se++;const de=F[se],ve=ne-de;z[f+ne*y]=$[de]+ve*ve}}class te{constructor(f,y){this.requestManager=f,this.localIdeographFontFamily=y,this.entries={}}setURL(f){this.url=f}getGlyphs(f){return o._(this,void 0,void 0,function*(){const y=[];for(const F in f)for(const W of f[F])y.push(this._getAndCacheGlyphsPromise(F,W));const T=yield Promise.all(y),$={};for(const{stack:F,id:W,glyph:ne}of T)$[F]||($[F]={}),$[F][W]=ne&&{id:ne.id,bitmap:ne.bitmap.clone(),metrics:ne.metrics};return $})}_getAndCacheGlyphsPromise(f,y){return o._(this,void 0,void 0,function*(){let T=this.entries[f];T||(T=this.entries[f]={glyphs:{},requests:{},ranges:{}});let $=T.glyphs[y];if($!==void 0)return{stack:f,id:y,glyph:$};if($=this._tinySDF(T,f,y),$)return T.glyphs[y]=$,{stack:f,id:y,glyph:$};const F=Math.floor(y/256);if(256*F>65535)throw new Error("glyphs > 65535 not supported");if(T.ranges[F])return{stack:f,id:y,glyph:$};if(!this.url)throw new Error("glyphsUrl is not set");if(!T.requests[F]){const ne=te.loadGlyphRange(f,F,this.url,this.requestManager);T.requests[F]=ne}const W=yield T.requests[F];for(const ne in W)this._doesCharSupportLocalGlyph(+ne)||(T.glyphs[+ne]=W[+ne]);return T.ranges[F]=!0,{stack:f,id:y,glyph:W[y]||null}})}_doesCharSupportLocalGlyph(f){return!!this.localIdeographFontFamily&&(/\p{Ideo}|\p{sc=Hang}|\p{sc=Hira}|\p{sc=Kana}/u.test(String.fromCodePoint(f))||o.u["CJK Unified Ideographs"](f)||o.u["Hangul Syllables"](f)||o.u.Hiragana(f)||o.u.Katakana(f)||o.u["CJK Symbols and Punctuation"](f)||o.u["Halfwidth and Fullwidth Forms"](f))}_tinySDF(f,y,T){const $=this.localIdeographFontFamily;if(!$||!this._doesCharSupportLocalGlyph(T))return;let F=f.tinySDF;if(!F){let ne="400";/bold/i.test(y)?ne="900":/medium/i.test(y)?ne="500":/light/i.test(y)&&(ne="200"),F=f.tinySDF=new te.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:$,fontWeight:ne})}const W=F.draw(String.fromCharCode(T));return{id:T,bitmap:new o.q({width:W.width||60,height:W.height||60},W.data),metrics:{width:W.glyphWidth/2||24,height:W.glyphHeight/2||24,left:W.glyphLeft/2+.5||0,top:W.glyphTop/2-27.5||-8,advance:W.glyphAdvance/2||24,isDoubleResolution:!0}}}}te.loadGlyphRange=function(z,f,y,T){return o._(this,void 0,void 0,function*(){const $=256*f,F=$+255,W=T.transformRequest(y.replace("{fontstack}",z).replace("{range}",`${$}-${F}`),"Glyphs"),ne=yield o.n(W,new AbortController);if(!ne||!ne.data)throw new Error(`Could not load glyph range. range: ${f}, ${$}-${F}`);const se={};for(const de of o.o(ne.data))se[de.id]=de;return se})},te.TinySDF=class{constructor({fontSize:z=24,buffer:f=3,radius:y=8,cutoff:T=.25,fontFamily:$="sans-serif",fontWeight:F="normal",fontStyle:W="normal"}={}){this.buffer=f,this.cutoff=T,this.radius=y;const ne=this.size=z+4*f,se=this._createCanvas(ne),de=this.ctx=se.getContext("2d",{willReadFrequently:!0});de.font=`${W} ${F} ${z}px ${$}`,de.textBaseline="alphabetic",de.textAlign="left",de.fillStyle="black",this.gridOuter=new Float64Array(ne*ne),this.gridInner=new Float64Array(ne*ne),this.f=new Float64Array(ne),this.z=new Float64Array(ne+1),this.v=new Uint16Array(ne)}_createCanvas(z){const f=document.createElement("canvas");return f.width=f.height=z,f}draw(z){const{width:f,actualBoundingBoxAscent:y,actualBoundingBoxDescent:T,actualBoundingBoxLeft:$,actualBoundingBoxRight:F}=this.ctx.measureText(z),W=Math.ceil(y),ne=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(F-$))),se=Math.min(this.size-this.buffer,W+Math.ceil(T)),de=ne+2*this.buffer,ve=se+2*this.buffer,Ee=Math.max(de*ve,0),Ce=new Uint8ClampedArray(Ee),ke={data:Ce,width:de,height:ve,glyphWidth:ne,glyphHeight:se,glyphTop:W,glyphLeft:0,glyphAdvance:f};if(ne===0||se===0)return ke;const{ctx:Be,buffer:tt,gridInner:Je,gridOuter:nt}=this;Be.clearRect(tt,tt,ne,se),Be.fillText(z,tt,tt+W);const pt=Be.getImageData(tt,tt,ne,se);nt.fill(K,0,Ee),Je.fill(0,0,Ee);for(let bt=0;bt<se;bt++)for(let wt=0;wt<ne;wt++){const Et=pt.data[4*(bt*ne+wt)+3]/255;if(Et===0)continue;const Pt=(bt+tt)*de+wt+tt;if(Et===1)nt[Pt]=0,Je[Pt]=K;else{const Mt=.5-Et;nt[Pt]=Mt>0?Mt*Mt:0,Je[Pt]=Mt<0?Mt*Mt:0}}Q(nt,0,0,de,ve,de,this.f,this.v,this.z),Q(Je,tt,tt,ne,se,de,this.f,this.v,this.z);for(let bt=0;bt<Ee;bt++){const wt=Math.sqrt(nt[bt])-Math.sqrt(Je[bt]);Ce[bt]=Math.round(255-255*(wt/this.radius+this.cutoff))}return ke}};class ee{constructor(){this.specification=o.v.light.position}possiblyEvaluate(f,y){return o.z(f.expression.evaluate(y))}interpolate(f,y,T){return{x:o.B.number(f.x,y.x,T),y:o.B.number(f.y,y.y,T),z:o.B.number(f.z,y.z,T)}}}let Z;class re extends o.E{constructor(f){super(),Z=Z||new o.r({anchor:new o.D(o.v.light.anchor),position:new ee,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(Z),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(f,y={}){if(!this._validate(o.t,f,y))for(const T in f){const $=f[T];T.endsWith("-transition")?this._transitionable.setTransition(T.slice(0,-11),$):this._transitionable.setValue(T,$)}}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,y,T){return(!T||T.validate!==!1)&&o.x(this,f.call(o.y,{value:y,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}const oe=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class ce extends o.E{constructor(f){super(),this._transitionable=new o.T(oe),this.setSky(f),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0))}setSky(f,y={}){if(!this._validate(o.F,f,y)){f||(f={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const T in f){const $=f[T];T.endsWith("-transition")?this._transitionable.setTransition(T.slice(0,-11),$):this._transitionable.setValue(T,$)}}}getSky(){return this._transitionable.serialize()}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,y,T={}){return T?.validate!==!1&&o.x(this,f.call(o.y,o.e({value:y,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(f){return f<60?0:f<70?(f-60)/10:1}}class le{constructor(f,y){this.width=f,this.height=y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(f,y){const T=f.join(",")+String(y);return this.dashEntry[T]||(this.dashEntry[T]=this.addDash(f,y)),this.dashEntry[T]}getDashRanges(f,y,T){const $=[];let F=f.length%2==1?-f[f.length-1]*T:0,W=f[0]*T,ne=!0;$.push({left:F,right:W,isDash:ne,zeroLength:f[0]===0});let se=f[0];for(let de=1;de<f.length;de++){ne=!ne;const ve=f[de];F=se*T,se+=ve,W=se*T,$.push({left:F,right:W,isDash:ne,zeroLength:ve===0})}return $}addRoundDash(f,y,T){const $=y/2;for(let F=-T;F<=T;F++){const W=this.width*(this.nextRow+T+F);let ne=0,se=f[ne];for(let de=0;de<this.width;de++){de/se.right>1&&(se=f[++ne]);const ve=Math.abs(de-se.left),Ee=Math.abs(de-se.right),Ce=Math.min(ve,Ee);let ke;const Be=F/T*($+1);if(se.isDash){const tt=$-Math.abs(Be);ke=Math.sqrt(Ce*Ce+tt*tt)}else ke=$-Math.sqrt(Ce*Ce+Be*Be);this.data[W+de]=Math.max(0,Math.min(255,ke+128))}}}addRegularDash(f){for(let ne=f.length-1;ne>=0;--ne){const se=f[ne],de=f[ne+1];se.zeroLength?f.splice(ne,1):de&&de.isDash===se.isDash&&(de.left=se.left,f.splice(ne,1))}const y=f[0],T=f[f.length-1];y.isDash===T.isDash&&(y.left=T.left-this.width,T.right=y.right+this.width);const $=this.width*this.nextRow;let F=0,W=f[F];for(let ne=0;ne<this.width;ne++){ne/W.right>1&&(W=f[++F]);const se=Math.abs(ne-W.left),de=Math.abs(ne-W.right),ve=Math.min(se,de);this.data[$+ne]=Math.max(0,Math.min(255,(W.isDash?ve:-ve)+128))}}addDash(f,y){const T=y?7:0,$=2*T+1;if(this.nextRow+$>this.height)return o.w("LineAtlas out of space"),null;let F=0;for(let ne=0;ne<f.length;ne++)F+=f[ne];if(F!==0){const ne=this.width/F,se=this.getDashRanges(f,this.width,ne);y?this.addRoundDash(se,ne,T):this.addRegularDash(se)}const W={y:(this.nextRow+T+.5)/this.height,height:2*T/this.height,width:F};return this.nextRow+=$,this.dirty=!0,W}bind(f){const y=f.gl;this.texture?(y.bindTexture(y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,y.texSubImage2D(y.TEXTURE_2D,0,0,0,this.width,this.height,y.ALPHA,y.UNSIGNED_BYTE,this.data))):(this.texture=y.createTexture(),y.bindTexture(y.TEXTURE_2D,this.texture),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.REPEAT),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.REPEAT),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,this.width,this.height,0,y.ALPHA,y.UNSIGNED_BYTE,this.data))}}const pe="maplibre_preloaded_worker_pool";class ye{constructor(){this.active={}}acquire(f){if(!this.workers)for(this.workers=[];this.workers.length<ye.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[f]=!0,this.workers.slice()}release(f){delete this.active[f],this.numActive()===0&&(this.workers.forEach(y=>{y.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[pe]}numActive(){return Object.keys(this.active).length}}const _e=Math.floor(h.hardwareConcurrency/2);let Se,Re;function je(){return Se||(Se=new ye),Se}ye.workerCount=o.G(globalThis)?Math.max(Math.min(_e,3),1):1;class Fe{constructor(f,y){this.workerPool=f,this.actors=[],this.currentActor=0,this.id=y;const T=this.workerPool.acquire(y);for(let $=0;$<T.length;$++){const F=new o.H(T[$],y);F.name=`Worker ${$}`,this.actors.push(F)}if(!this.actors.length)throw new Error("No actors found")}broadcast(f,y){const T=[];for(const $ of this.actors)T.push($.sendAsync({type:f,data:y}));return Promise.all(T)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(f=!0){this.actors.forEach(y=>{y.remove()}),this.actors=[],f&&this.workerPool.release(this.id)}registerMessageHandler(f,y){for(const T of this.actors)T.registerMessageHandler(f,y)}}function ze(){return Re||(Re=new Fe(je(),o.J),Re.registerMessageHandler("GR",(z,f,y)=>o.m(f,y))),Re}function Ze(z,f){const y=o.K();return o.L(y,y,[1,1,0]),o.M(y,y,[.5*z.width,.5*z.height,1]),z.calculatePosMatrix?o.N(y,y,z.calculatePosMatrix(f.toUnwrapped())):y}function st(z,f,y,T,$,F,W){var ne;const se=function(Ce,ke,Be){if(Ce)for(const tt of Ce){const Je=ke[tt];if(Je&&Je.source===Be&&Je.type==="fill-extrusion")return!0}else for(const tt in ke){const Je=ke[tt];if(Je.source===Be&&Je.type==="fill-extrusion")return!0}return!1}((ne=$?.layers)!==null&&ne!==void 0?ne:null,f,z.id),de=F.maxPitchScaleFactor(),ve=z.tilesIn(T,de,se);ve.sort(Ue);const Ee=[];for(const Ce of ve)Ee.push({wrappedTileID:Ce.tileID.wrapped().key,queryResults:Ce.tile.queryRenderedFeatures(f,y,z._state,Ce.queryGeometry,Ce.cameraQueryGeometry,Ce.scale,$,F,de,Ze(z.transform,Ce.tileID),W?(ke,Be)=>W(Ce.tileID,ke,Be):void 0)});return function(Ce,ke){for(const Be in Ce)for(const tt of Ce[Be])Ne(tt,ke);return Ce}(function(Ce){const ke={},Be={};for(const tt of Ce){const Je=tt.queryResults,nt=tt.wrappedTileID,pt=Be[nt]=Be[nt]||{};for(const bt in Je){const wt=Je[bt],Et=pt[bt]=pt[bt]||{},Pt=ke[bt]=ke[bt]||[];for(const Mt of wt)Et[Mt.featureIndex]||(Et[Mt.featureIndex]=!0,Pt.push(Mt))}}return ke}(Ee),z)}function Ue(z,f){const y=z.tileID,T=f.tileID;return y.overscaledZ-T.overscaledZ||y.canonical.y-T.canonical.y||y.wrap-T.wrap||y.canonical.x-T.canonical.x}function Ne(z,f){const y=z.feature,T=f.getFeatureState(y.layer["source-layer"],y.id);y.source=y.layer.source,y.layer["source-layer"]&&(y.sourceLayer=y.layer["source-layer"]),y.state=T}function qe(z,f,y){return o._(this,void 0,void 0,function*(){let T=z;if(z.url?T=(yield o.j(f.transformRequest(z.url,"Source"),y)).data:yield h.frameAsync(y),!T)return null;const $=o.O(o.e(T,z),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in T&&T.vector_layers&&($.vectorLayerIds=T.vector_layers.map(F=>F.id)),$})}class We{constructor(f,y){f&&(y?this.setSouthWest(f).setNorthEast(y):Array.isArray(f)&&(f.length===4?this.setSouthWest([f[0],f[1]]).setNorthEast([f[2],f[3]]):this.setSouthWest(f[0]).setNorthEast(f[1])))}setNorthEast(f){return this._ne=f instanceof o.Q?new o.Q(f.lng,f.lat):o.Q.convert(f),this}setSouthWest(f){return this._sw=f instanceof o.Q?new o.Q(f.lng,f.lat):o.Q.convert(f),this}extend(f){const y=this._sw,T=this._ne;let $,F;if(f instanceof o.Q)$=f,F=f;else{if(!(f instanceof We))return Array.isArray(f)?f.length===4||f.every(Array.isArray)?this.extend(We.convert(f)):this.extend(o.Q.convert(f)):f&&("lng"in f||"lon"in f)&&"lat"in f?this.extend(o.Q.convert(f)):this;if($=f._sw,F=f._ne,!$||!F)return this}return y||T?(y.lng=Math.min($.lng,y.lng),y.lat=Math.min($.lat,y.lat),T.lng=Math.max(F.lng,T.lng),T.lat=Math.max(F.lat,T.lat)):(this._sw=new o.Q($.lng,$.lat),this._ne=new o.Q(F.lng,F.lat)),this}getCenter(){return new o.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.Q(this.getWest(),this.getNorth())}getSouthEast(){return new o.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(f){const{lng:y,lat:T}=o.Q.convert(f);let $=this._sw.lng<=y&&y<=this._ne.lng;return this._sw.lng>this._ne.lng&&($=this._sw.lng>=y&&y>=this._ne.lng),this._sw.lat<=T&&T<=this._ne.lat&&$}static convert(f){return f instanceof We?f:f&&new We(f)}static fromLngLat(f,y=0){const T=360*y/40075017,$=T/Math.cos(Math.PI/180*f.lat);return new We(new o.Q(f.lng-$,f.lat-T),new o.Q(f.lng+$,f.lat+T))}adjustAntiMeridian(){const f=new o.Q(this._sw.lng,this._sw.lat),y=new o.Q(this._ne.lng,this._ne.lat);return new We(f,f.lng>y.lng?new o.Q(y.lng+360,y.lat):y)}}class rt{constructor(f,y,T){this.bounds=We.convert(this.validateBounds(f)),this.minzoom=y||0,this.maxzoom=T||24}validateBounds(f){return Array.isArray(f)&&f.length===4?[Math.max(-180,f[0]),Math.max(-90,f[1]),Math.min(180,f[2]),Math.min(90,f[3])]:[-180,-90,180,90]}contains(f){const y=Math.pow(2,f.z),T=Math.floor(o.U(this.bounds.getWest())*y),$=Math.floor(o.S(this.bounds.getNorth())*y),F=Math.ceil(o.U(this.bounds.getEast())*y),W=Math.ceil(o.S(this.bounds.getSouth())*y);return f.x>=T&&f.x<F&&f.y>=$&&f.y<W}}class ht extends o.E{constructor(f,y,T,$){if(super(),this.id=f,this.dispatcher=T,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.O(y,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield qe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),f&&(o.e(this,f),f.bounds&&(this.tileBounds=new rt(f.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(f){this._tileJSONRequest=null,this.fire(new o.k(f))}})}loaded(){return this._loaded}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}onAdd(f){this.map=f,this.load()}setSourceProperty(f){this._tileJSONRequest&&this._tileJSONRequest.abort(),f(),this.load()}setTiles(f){return this.setSourceProperty(()=>{this._options.tiles=f}),this}setUrl(f){return this.setSourceProperty(()=>{this.url=f,this._options.url=f}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(f){return o._(this,void 0,void 0,function*(){const y=f.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),T={request:this.map._requestManager.transformRequest(y,"Tile"),uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,tileSize:this.tileSize*f.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};T.request.collectResourceTiming=this._collectResourceTiming;let $="RT";if(f.actor&&f.state!=="expired"){if(f.state==="loading")return new Promise((F,W)=>{f.reloadPromise={resolve:F,reject:W}})}else f.actor=this.dispatcher.getActor(),$="LT";f.abortController=new AbortController;try{const F=yield f.actor.sendAsync({type:$,data:T},f.abortController);if(delete f.abortController,f.aborted)return;this._afterTileLoadWorkerResponse(f,F)}catch(F){if(delete f.abortController,f.aborted)return;if(F&&F.status!==404)throw F;this._afterTileLoadWorkerResponse(f,null)}})}_afterTileLoadWorkerResponse(f,y){if(y&&y.resourceTiming&&(f.resourceTiming=y.resourceTiming),y&&this.map._refreshExpiredTiles&&f.setExpiryData(y),f.loadVectorData(y,this.map.painter),f.reloadPromise){const T=f.reloadPromise;f.reloadPromise=null,this.loadTile(f).then(T.resolve).catch(T.reject)}}abortTile(f){return o._(this,void 0,void 0,function*(){f.abortController&&(f.abortController.abort(),delete f.abortController),f.actor&&(yield f.actor.sendAsync({type:"AT",data:{uid:f.uid,type:this.type,source:this.id}}))})}unloadTile(f){return o._(this,void 0,void 0,function*(){f.unloadVectorData(),f.actor&&(yield f.actor.sendAsync({type:"RMT",data:{uid:f.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ft extends o.E{constructor(f,y,T,$){super(),this.id=f,this.dispatcher=T,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},y),o.e(this,o.O(y,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(f=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const y=yield qe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,y&&(o.e(this,y),y.bounds&&(this.tileBounds=new rt(y.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:f})))}catch(y){this._tileJSONRequest=null,this.fire(new o.k(y))}})}loaded(){return this._loaded}onAdd(f){this.map=f,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(f){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),f(),this.load(!0)}setTiles(f){return this.setSourceProperty(()=>{this._options.tiles=f}),this}setUrl(f){return this.setSourceProperty(()=>{this.url=f,this._options.url=f}),this}serialize(){return o.e({},this._options)}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f){return o._(this,void 0,void 0,function*(){const y=f.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);f.abortController=new AbortController;try{const T=yield R.getImage(this.map._requestManager.transformRequest(y,"Tile"),f.abortController,this.map._refreshExpiredTiles);if(delete f.abortController,f.aborted)return void(f.state="unloaded");if(T&&T.data){this.map._refreshExpiredTiles&&T.cacheControl&&T.expires&&f.setExpiryData({cacheControl:T.cacheControl,expires:T.expires});const $=this.map.painter.context,F=$.gl,W=T.data;f.texture=this.map.painter.getTileTexture(W.width),f.texture?f.texture.update(W,{useMipmap:!0}):(f.texture=new H($,W,F.RGBA,{useMipmap:!0}),f.texture.bind(F.LINEAR,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST)),f.state="loaded"}}catch(T){if(delete f.abortController,f.aborted)f.state="unloaded";else if(T)throw f.state="errored",T}})}abortTile(f){return o._(this,void 0,void 0,function*(){f.abortController&&(f.abortController.abort(),delete f.abortController)})}unloadTile(f){return o._(this,void 0,void 0,function*(){f.texture&&this.map.painter.saveTileTexture(f.texture)})}hasTransition(){return!1}}class Rt extends ft{constructor(f,y,T,$){super(f,y,T,$),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox",this.redFactor=y.redFactor,this.greenFactor=y.greenFactor,this.blueFactor=y.blueFactor,this.baseShift=y.baseShift}loadTile(f){return o._(this,void 0,void 0,function*(){const y=f.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),T=this.map._requestManager.transformRequest(y,"Tile");f.neighboringTiles=this._getNeighboringTiles(f.tileID),f.abortController=new AbortController;try{const $=yield R.getImage(T,f.abortController,this.map._refreshExpiredTiles);if(delete f.abortController,f.aborted)return void(f.state="unloaded");if($&&$.data){const F=$.data;this.map._refreshExpiredTiles&&$.cacheControl&&$.expires&&f.setExpiryData({cacheControl:$.cacheControl,expires:$.expires});const W=o.b(F)&&o.V()?F:yield this.readImageNow(F),ne={type:this.type,uid:f.uid,source:this.id,rawImageData:W,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!f.actor||f.state==="expired"){f.actor=this.dispatcher.getActor();const se=yield f.actor.sendAsync({type:"LDT",data:ne});f.dem=se,f.needsHillshadePrepare=!0,f.needsTerrainPrepare=!0,f.state="loaded"}}}catch($){if(delete f.abortController,f.aborted)f.state="unloaded";else if($)throw f.state="errored",$}})}readImageNow(f){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.W()){const y=f.width+2,T=f.height+2;try{return new o.R({width:y,height:T},yield o.X(f,-1,-1,y,T))}catch{}}return h.getImageData(f,1)})}_getNeighboringTiles(f){const y=f.canonical,T=Math.pow(2,y.z),$=(y.x-1+T)%T,F=y.x===0?f.wrap-1:f.wrap,W=(y.x+1+T)%T,ne=y.x+1===T?f.wrap+1:f.wrap,se={};return se[new o.Y(f.overscaledZ,F,y.z,$,y.y).key]={backfilled:!1},se[new o.Y(f.overscaledZ,ne,y.z,W,y.y).key]={backfilled:!1},y.y>0&&(se[new o.Y(f.overscaledZ,F,y.z,$,y.y-1).key]={backfilled:!1},se[new o.Y(f.overscaledZ,f.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},se[new o.Y(f.overscaledZ,ne,y.z,W,y.y-1).key]={backfilled:!1}),y.y+1<T&&(se[new o.Y(f.overscaledZ,F,y.z,$,y.y+1).key]={backfilled:!1},se[new o.Y(f.overscaledZ,f.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},se[new o.Y(f.overscaledZ,ne,y.z,W,y.y+1).key]={backfilled:!1}),se}unloadTile(f){return o._(this,void 0,void 0,function*(){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded",f.actor&&(yield f.actor.sendAsync({type:"RDT",data:{type:this.type,uid:f.uid,source:this.id}}))})}}class Yt extends o.E{constructor(f,y,T,$){super(),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=T.getActor(),this.setEventedParent($),this._data=y.data,this._options=o.e({},y),this._collectResourceTiming=y.collectResourceTiming,y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId,y.clusterMaxZoom!==void 0&&this.maxzoom<=y.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${y.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(y.buffer!==void 0?y.buffer:128),tolerance:this._pixelsToTileUnits(y.tolerance!==void 0?y.tolerance:.375),extent:o.Z,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?y.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:o.Z,radius:this._pixelsToTileUnits(y.clusterRadius||50),log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(f){return f*(o.Z/this.tileSize)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(f){this.map=f,this.load()}setData(f){return this._data=f,this._updateWorkerData(),this}updateData(f){return this._updateWorkerData(f),this}getData(){return o._(this,void 0,void 0,function*(){const f=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:f})})}getCoordinatesFromGeometry(f){return f.type==="GeometryCollection"?f.geometries.map(y=>y.coordinates).flat(1/0):f.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){const f=new We,y=yield this.getData();let T;switch(y.type){case"FeatureCollection":T=y.features.map($=>this.getCoordinatesFromGeometry($.geometry)).flat(1/0);break;case"Feature":T=this.getCoordinatesFromGeometry(y.geometry);break;default:T=this.getCoordinatesFromGeometry(y)}if(T.length==0)return f;for(let $=0;$<T.length-1;$+=2)f.extend([T[$],T[$+1]]);return f})}setClusterOptions(f){return this.workerOptions.cluster=f.cluster,f&&(f.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(f.clusterRadius)),f.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=f.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(f){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:f,source:this.id}})}getClusterChildren(f){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:f,source:this.id}})}getClusterLeaves(f,y,T){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:f,limit:y,offset:T}})}_updateWorkerData(f){return o._(this,void 0,void 0,function*(){const y=o.e({type:this.type},this.workerOptions);f?y.dataDiff=f:typeof this._data=="string"?(y.request=this.map._requestManager.transformRequest(h.resolveURL(this._data),"Source"),y.request.collectResourceTiming=this._collectResourceTiming):y.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.l("dataloading",{dataType:"source"}));try{const T=yield this.actor.sendAsync({type:"LD",data:y});if(this._pendingLoads--,this._removed||T.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));let $=null;T.resourceTiming&&T.resourceTiming[this.id]&&($=T.resourceTiming[this.id].slice(0));const F={dataType:"source"};this._collectResourceTiming&&$&&$.length>0&&o.e(F,{resourceTiming:$}),this.fire(new o.l("data",Object.assign(Object.assign({},F),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},F),{sourceDataType:"content"})))}catch(T){if(this._pendingLoads--,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(T))}})}loaded(){return this._pendingLoads===0}loadTile(f){return o._(this,void 0,void 0,function*(){const y=f.actor?"RT":"LT";f.actor=this.actor;const T={type:this.type,uid:f.uid,tileID:f.tileID,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};f.abortController=new AbortController;const $=yield this.actor.sendAsync({type:y,data:T},f.abortController);delete f.abortController,f.unloadVectorData(),f.aborted||f.loadVectorData($,this.map.painter,y==="RT")})}abortTile(f){return o._(this,void 0,void 0,function*(){f.abortController&&(f.abortController.abort(),delete f.abortController),f.aborted=!0})}unloadTile(f){return o._(this,void 0,void 0,function*(){f.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:f.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Jt extends o.E{constructor(f,y,T,$){super(),this.flippedWindingOrder=!1,this.id=f,this.dispatcher=T,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=y}load(f){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const y=yield R.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,y&&y.data&&(this.image=y.data,f&&(this.coordinates=f),this._finishLoading())}catch(y){this._request=null,this._loaded=!0,this.fire(new o.k(y))}})}loaded(){return this._loaded}updateImage(f){return f.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=f.url,this.load(f.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(f){this.map=f,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(f){this.coordinates=f;const y=f.map(o.$.fromLngLat);var T;return this.tileID=function($){let F=1/0,W=1/0,ne=-1/0,se=-1/0;for(const Ce of $)F=Math.min(F,Ce.x),W=Math.min(W,Ce.y),ne=Math.max(ne,Ce.x),se=Math.max(se,Ce.y);const de=Math.max(ne-F,se-W),ve=Math.max(0,Math.floor(-Math.log(de)/Math.LN2)),Ee=Math.pow(2,ve);return new o.a1(ve,Math.floor((F+ne)/2*Ee),Math.floor((W+se)/2*Ee))}(y),this.terrainTileRanges=this._getOverlappingTileRanges(y),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=y.map($=>this.tileID.getTilePoint($)._round()),this.flippedWindingOrder=((T=this.tileCoords)[1].x-T[0].x)*(T[2].y-T[0].y)-(T[1].y-T[0].y)*(T[2].x-T[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const f=this.map.painter.context,y=f.gl;this.texture||(this.texture=new H(f,this.image,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE));let T=!1;for(const $ in this.tiles){const F=this.tiles[$];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,T=!0)}T&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(f){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={}):f.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(f){let y=1/0,T=1/0,$=-1/0,F=-1/0;for(const ne of f)y=Math.min(y,ne.x),T=Math.min(T,ne.y),$=Math.max($,ne.x),F=Math.max(F,ne.y);const W={};for(let ne=0;ne<=o.a0;ne++){const se=Math.pow(2,ne),de=Math.floor(y*se),ve=Math.floor(T*se),Ee=Math.floor($*se),Ce=Math.floor(F*se);W[ne]={minTileX:de,minTileY:ve,maxTileX:Ee,maxTileY:Ce}}return W}}class xt extends Jt{constructor(f,y,T,$){super(f,y,T,$),this.roundZoom=!0,this.type="video",this.options=y}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;const f=this.options;this.urls=[];for(const y of f.urls)this.urls.push(this.map._requestManager.transformRequest(y,"Source").url);try{const y=yield o.a2(this.urls);if(this._loaded=!0,!y)return;this.video=y,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(y){this.fire(new o.k(y))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(f){if(this.video){const y=this.video.seekable;f<y.start(0)||f>y.end(0)?this.fire(new o.k(new o.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${y.start(0)} and ${y.end(0)}-second mark.`))):this.video.currentTime=f}}getVideo(){return this.video}onAdd(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const f=this.map.painter.context,y=f.gl;this.texture?this.video.paused||(this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE),y.texSubImage2D(y.TEXTURE_2D,0,0,0,y.RGBA,y.UNSIGNED_BYTE,this.video)):(this.texture=new H(f,this.video,y.RGBA),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE));let T=!1;for(const $ in this.tiles){const F=this.tiles[$];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,T=!0)}T&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Ft extends Jt{constructor(f,y,T,$){super(f,y,T,$),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(F=>!Array.isArray(F)||F.length!==2||F.some(W=>typeof W!="number"))||this.fire(new o.k(new o.a3(`sources.${f}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.k(new o.a3(`sources.${f}`,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new o.k(new o.a3(`sources.${f}`,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a3(`sources.${f}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.k(new o.a3(`sources.${f}`,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const y=this.map.painter.context,T=y.gl;this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new H(y,this.canvas,T.RGBA,{premultiply:!0});let $=!1;for(const F in this.tiles){const W=this.tiles[F];W.state!=="loaded"&&(W.state="loaded",W.texture=this.texture,$=!0)}$&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const f of[this.canvas.width,this.canvas.height])if(isNaN(f)||f<=0)return!0;return!1}}const Lt={},Kt=z=>{switch(z){case"geojson":return Yt;case"image":return Jt;case"raster":return ft;case"raster-dem":return Rt;case"vector":return ht;case"video":return xt;case"canvas":return Ft}return Lt[z]},hn="RTLPluginLoaded";class dn extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ze()}_syncState(f){return this.status=f,this.dispatcher.broadcast("SRPS",{pluginStatus:f,pluginURL:this.url}).catch(y=>{throw this.status="error",y})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(f){return o._(this,arguments,void 0,function*(y,T=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=h.resolveURL(y),!this.url)throw new Error(`requested url ${y} is invalid`);if(this.status==="unavailable"){if(!T)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(hn))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Cn=null;function kn(){return Cn||(Cn=new dn),Cn}class sn{constructor(f,y){this.timeAdded=0,this.fadeEndTime=0,this.tileID=f,this.uid=o.a4(),this.uses=0,this.tileSize=y,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(f){const y=f+this.timeAdded;y<this.fadeEndTime||(this.fadeEndTime=y)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(f){this.demTexture&&f.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(f,y,T){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",f){f.featureIndex&&(this.latestFeatureIndex=f.featureIndex,f.rawTileData?(this.latestRawTileData=f.rawTileData,this.latestFeatureIndex.rawTileData=f.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=f.collisionBoxArray,this.buckets=function($,F){const W={};if(!F)return W;for(const ne of $){const se=ne.layerIds.map(de=>F.getLayer(de)).filter(Boolean);if(se.length!==0){ne.layers=se,ne.stateDependentLayerIds&&(ne.stateDependentLayers=ne.stateDependentLayerIds.map(de=>se.filter(ve=>ve.id===de)[0]));for(const de of se)W[de.id]=ne}}return W}(f.buckets,y?.style),this.hasSymbolBuckets=!1;for(const $ in this.buckets){const F=this.buckets[$];if(F instanceof o.a6){if(this.hasSymbolBuckets=!0,!T)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const $ in this.buckets){const F=this.buckets[$];if(F instanceof o.a6&&F.hasRTLText){this.hasRTLText=!0,kn().lazyLoad();break}}this.queryPadding=0;for(const $ in this.buckets){const F=this.buckets[$];this.queryPadding=Math.max(this.queryPadding,y.style.getLayer($).queryRadius(F))}f.imageAtlas&&(this.imageAtlas=f.imageAtlas),f.glyphAtlasImage&&(this.glyphAtlasImage=f.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(const f in this.buckets)this.buckets[f].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(f){return this.buckets[f.id]}upload(f){for(const T in this.buckets){const $=this.buckets[T];$.uploadPending()&&$.upload(f)}const y=f.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new H(f,this.imageAtlas.image,y.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new H(f,this.glyphAtlasImage,y.ALPHA),this.glyphAtlasImage=null)}prepare(f){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(f,this.imageAtlasTexture)}queryRenderedFeatures(f,y,T,$,F,W,ne,se,de,ve,Ee){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:$,cameraQueryGeometry:F,scale:W,tileSize:this.tileSize,pixelPosMatrix:ve,transform:se,params:ne,queryPadding:this.queryPadding*de,getElevation:Ee},f,y,T):{}}querySourceFeatures(f,y){const T=this.latestFeatureIndex;if(!T||!T.rawTileData)return;const $=T.loadVTLayers(),F=y&&y.sourceLayer?y.sourceLayer:"",W=$._geojsonTileLayer||$[F];if(!W)return;const ne=o.a7(y&&y.filter),{z:se,x:de,y:ve}=this.tileID.canonical,Ee={z:se,x:de,y:ve};for(let Ce=0;Ce<W.length;Ce++){const ke=W.feature(Ce);if(ne.needGeometry){const Je=o.a8(ke,!0);if(!ne.filter(new o.C(this.tileID.overscaledZ),Je,this.tileID.canonical))continue}else if(!ne.filter(new o.C(this.tileID.overscaledZ),ke))continue;const Be=T.getId(ke,F),tt=new o.a9(ke,se,de,ve,Be);tt.tile=Ee,f.push(tt)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(f){const y=this.expirationTime;if(f.cacheControl){const T=o.aa(f.cacheControl);T["max-age"]&&(this.expirationTime=Date.now()+1e3*T["max-age"])}else f.expires&&(this.expirationTime=new Date(f.expires).getTime());if(this.expirationTime){const T=Date.now();let $=!1;if(this.expirationTime>T)$=!1;else if(y)if(this.expirationTime<y)$=!0;else{const F=this.expirationTime-y;F?this.expirationTime=T+Math.max(F,3e4):$=!0}else $=!0;$?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(f,y){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(f).length===0)return;const T=this.latestFeatureIndex.loadVTLayers();for(const $ in this.buckets){if(!y.style.hasLayer($))continue;const F=this.buckets[$],W=F.layers[0].sourceLayer||"_geojsonTileLayer",ne=T[W],se=f[W];if(!ne||!se||Object.keys(se).length===0)continue;F.update(se,ne,this.imageAtlas&&this.imageAtlas.patternPositions||{});const de=y&&y.style&&y.style.getLayer($);de&&(this.queryPadding=Math.max(this.queryPadding,de.queryRadius(F)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(f){this.symbolFadeHoldUntil=h.now()+f}setDependencies(f,y){const T={};for(const $ of y)T[$]=!0;this.dependencies[f]=T}hasDependency(f,y){for(const T of f){const $=this.dependencies[T];if($){for(const F of y)if($[F])return!0}}return!1}}class un{constructor(f,y){this.max=f,this.onRemove=y,this.reset()}reset(){for(const f in this.data)for(const y of this.data[f])y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value);return this.data={},this.order=[],this}add(f,y,T){const $=f.wrapped().key;this.data[$]===void 0&&(this.data[$]=[]);const F={value:y,timeout:void 0};if(T!==void 0&&(F.timeout=setTimeout(()=>{this.remove(f,F)},T)),this.data[$].push(F),this.order.push($),this.order.length>this.max){const W=this._getAndRemoveByKey(this.order[0]);W&&this.onRemove(W)}return this}has(f){return f.wrapped().key in this.data}getAndRemove(f){return this.has(f)?this._getAndRemoveByKey(f.wrapped().key):null}_getAndRemoveByKey(f){const y=this.data[f].shift();return y.timeout&&clearTimeout(y.timeout),this.data[f].length===0&&delete this.data[f],this.order.splice(this.order.indexOf(f),1),y.value}getByKey(f){const y=this.data[f];return y?y[0].value:null}get(f){return this.has(f)?this.data[f.wrapped().key][0].value:null}remove(f,y){if(!this.has(f))return this;const T=f.wrapped().key,$=y===void 0?0:this.data[T].indexOf(y),F=this.data[T][$];return this.data[T].splice($,1),F.timeout&&clearTimeout(F.timeout),this.data[T].length===0&&delete this.data[T],this.onRemove(F.value),this.order.splice(this.order.indexOf(T),1),this}setMaxSize(f){for(this.max=f;this.order.length>this.max;){const y=this._getAndRemoveByKey(this.order[0]);y&&this.onRemove(y)}return this}filter(f){const y=[];for(const T in this.data)for(const $ of this.data[T])f($.value)||y.push($);for(const T of y)this.remove(T.value.tileID,T)}}class gn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(f,y,T){const $=String(y);if(this.stateChanges[f]=this.stateChanges[f]||{},this.stateChanges[f][$]=this.stateChanges[f][$]||{},o.e(this.stateChanges[f][$],T),this.deletedStates[f]===null){this.deletedStates[f]={};for(const F in this.state[f])F!==$&&(this.deletedStates[f][F]=null)}else if(this.deletedStates[f]&&this.deletedStates[f][$]===null){this.deletedStates[f][$]={};for(const F in this.state[f][$])T[F]||(this.deletedStates[f][$][F]=null)}else for(const F in T)this.deletedStates[f]&&this.deletedStates[f][$]&&this.deletedStates[f][$][F]===null&&delete this.deletedStates[f][$][F]}removeFeatureState(f,y,T){if(this.deletedStates[f]===null)return;const $=String(y);if(this.deletedStates[f]=this.deletedStates[f]||{},T&&y!==void 0)this.deletedStates[f][$]!==null&&(this.deletedStates[f][$]=this.deletedStates[f][$]||{},this.deletedStates[f][$][T]=null);else if(y!==void 0)if(this.stateChanges[f]&&this.stateChanges[f][$])for(T in this.deletedStates[f][$]={},this.stateChanges[f][$])this.deletedStates[f][$][T]=null;else this.deletedStates[f][$]=null;else this.deletedStates[f]=null}getState(f,y){const T=String(y),$=o.e({},(this.state[f]||{})[T],(this.stateChanges[f]||{})[T]);if(this.deletedStates[f]===null)return{};if(this.deletedStates[f]){const F=this.deletedStates[f][y];if(F===null)return{};for(const W in F)delete $[W]}return $}initializeTileState(f,y){f.setFeatureState(this.state,y)}coalesceChanges(f,y){const T={};for(const $ in this.stateChanges){this.state[$]=this.state[$]||{};const F={};for(const W in this.stateChanges[$])this.state[$][W]||(this.state[$][W]={}),o.e(this.state[$][W],this.stateChanges[$][W]),F[W]=this.state[$][W];T[$]=F}for(const $ in this.deletedStates){this.state[$]=this.state[$]||{};const F={};if(this.deletedStates[$]===null)for(const W in this.state[$])F[W]={},this.state[$][W]={};else for(const W in this.deletedStates[$]){if(this.deletedStates[$][W]===null)this.state[$][W]={};else for(const ne of Object.keys(this.deletedStates[$][W]))delete this.state[$][W][ne];F[W]=this.state[$][W]}T[$]=T[$]||{},o.e(T[$],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(T).length!==0)for(const $ in f)f[$].setFeatureState(T,y)}}function Qt(z,f,y){const T=f.intersectsFrustum(z);if(!y)return T;const $=f.intersectsPlane(y);return T===0||$===0?0:T===2&&$===2?2:1}function Ln(z,f,y,T,$){let F=z;const W=Math.atan(f/y),ne=Math.hypot(f,y);return F=z+o.ab(T/ne/Math.max(.5,Math.cos(o.ad($/2)))),F+=1*o.ab(Math.cos(W))/2,F+=o.ae(z-F,-0,0),F}function Gt(z,f){const y=(f.roundZoom?Math.round:Math.floor)(z.zoom+o.ab(z.tileSize/f.tileSize));return Math.max(0,y)}function He(z,f){const y=z.getCameraFrustum(),T=z.getClippingPlane(),$=z.screenPointToMercatorCoordinate(z.getCameraPoint()),F=o.$.fromLngLat(z.center,z.elevation);$.z=F.z+Math.cos(z.pitchInRadians)*z.cameraToCenterDistance/z.worldSize;const W=z.getCoveringTilesDetailsProvider(),ne=W.allowVariableZoom(z,f),se=Gt(z,f),de=f.minzoom||0,ve=f.maxzoom!==void 0?f.maxzoom:z.maxZoom,Ee=Math.min(Math.max(0,se),ve),Ce=Math.pow(2,Ee),ke=[Ce*$.x,Ce*$.y,0],Be=[Ce*F.x,Ce*F.y,0],tt=Math.hypot(F.x-$.x,F.y-$.y),Je=Math.abs(F.z-$.z),nt=Math.hypot(tt,Je),pt=Et=>({zoom:0,x:0,y:0,wrap:Et,fullyVisible:!1}),bt=[],wt=[];if(z.renderWorldCopies&&W.allowWorldCopies())for(let Et=1;Et<=3;Et++)bt.push(pt(-Et)),bt.push(pt(Et));for(bt.push(pt(0));bt.length>0;){const Et=bt.pop(),Pt=Et.x,Mt=Et.y;let en=Et.fullyVisible;const Xt={x:Pt,y:Mt,z:Et.zoom},bn=W.getTileAABB(Xt,Et.wrap,z.elevation,f);if(!en){const Zn=Qt(y,bn,T);if(Zn===0)continue;en=Zn===2}const wn=W.distanceToTile2d($.x,$.y,Xt,bn);let vn=se;ne&&(vn=(f.calculateTileZoom||Ln)(z.zoom+o.ab(z.tileSize/f.tileSize),wn,Je,nt,z.fov)),vn=(f.roundZoom?Math.round:Math.floor)(vn),vn=Math.max(0,vn);const Mn=Math.min(vn,ve);if(Et.wrap=W.getWrap(F,Xt,Et.wrap),Et.zoom>=Mn){if(Et.zoom<de)continue;const Zn=Ee-Et.zoom,Nn=ke[0]-.5-(Pt<<Zn),yr=ke[1]-.5-(Mt<<Zn),ti=f.reparseOverscaled?Math.max(Et.zoom,vn):Et.zoom;wt.push({tileID:new o.Y(Et.zoom===ve?ti:Et.zoom,Et.wrap,Et.zoom,Pt,Mt),distanceSq:o.ac([Be[0]-.5-Pt,Be[1]-.5-Mt]),tileDistanceToCamera:Math.sqrt(Nn*Nn+yr*yr)})}else for(let Zn=0;Zn<4;Zn++)bt.push({zoom:Et.zoom+1,x:(Pt<<1)+Zn%2,y:(Mt<<1)+(Zn>>1),wrap:Et.wrap,fullyVisible:en})}return wt.sort((Et,Pt)=>Et.distanceSq-Pt.distanceSq).map(Et=>Et.tileID)}class be extends o.E{constructor(f,y,T){super(),this.id=f,this.dispatcher=T,this.on("data",$=>this._dataHandler($)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=(($,F,W,ne)=>{const se=new(Kt(F.type))($,F,W,ne);if(se.id!==$)throw new Error(`Expected Source id to be ${$} instead of ${se.id}`);return se})(f,y,T,this),this._tiles={},this._cache=new un(0,$=>this._unloadTile($)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new gn,this._didEmitContent=!1,this._updated=!1}onAdd(f){this.map=f,this._maxTileCacheSize=f?f._maxTileCacheSize:null,this._maxTileCacheZoomLevels=f?f._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(f)}onRemove(f){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(f)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const f in this._tiles){const y=this._tiles[f];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const f=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,f&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(f,y,T){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(f),this._tileLoaded(f,y,T)}catch($){f.state="errored",$.status!==404?this._source.fire(new o.k($,{tile:f})):this.update(this.transform,this.terrain)}})}_unloadTile(f){this._source.unloadTile&&this._source.unloadTile(f)}_abortTile(f){this._source.abortTile&&this._source.abortTile(f),this._source.fire(new o.l("dataabort",{tile:f,coord:f.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(f){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const y in this._tiles){const T=this._tiles[y];T.upload(f),T.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(f=>f.tileID).sort(we).map(f=>f.key)}getRenderableIds(f){const y=[];for(const T in this._tiles)this._isIdRenderable(T,f)&&y.push(this._tiles[T]);return f?y.sort((T,$)=>{const F=T.tileID,W=$.tileID,ne=new o.P(F.canonical.x,F.canonical.y)._rotate(-this.transform.bearingInRadians),se=new o.P(W.canonical.x,W.canonical.y)._rotate(-this.transform.bearingInRadians);return F.overscaledZ-W.overscaledZ||se.y-ne.y||se.x-ne.x}).map(T=>T.tileID.key):y.map(T=>T.tileID).sort(we).map(T=>T.key)}hasRenderableParent(f){const y=this.findLoadedParent(f,0);return!!y&&this._isIdRenderable(y.tileID.key)}_isIdRenderable(f,y){return this._tiles[f]&&this._tiles[f].hasData()&&!this._coveredTiles[f]&&(y||!this._tiles[f].holdingForFade())}reload(f){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const y in this._tiles)(f||this._tiles[y].state!=="errored")&&this._reloadTile(y,"reloading")}}_reloadTile(f,y){return o._(this,void 0,void 0,function*(){const T=this._tiles[f];T&&(T.state!=="loading"&&(T.state=y),yield this._loadTile(T,f,y))})}_tileLoaded(f,y,T){f.timeAdded=h.now(),T==="expired"&&(f.refreshedUponExpiration=!0),this._setTileReloadTimer(y,f),this.getSource().type==="raster-dem"&&f.dem&&this._backfillDEM(f),this._state.initializeTileState(f,this.map?this.map.painter:null),f.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:f,coord:f.tileID}))}_backfillDEM(f){const y=this.getRenderableIds();for(let $=0;$<y.length;$++){const F=y[$];if(f.neighboringTiles&&f.neighboringTiles[F]){const W=this.getTileByID(F);T(f,W),T(W,f)}}function T($,F){$.needsHillshadePrepare=!0,$.needsTerrainPrepare=!0;let W=F.tileID.canonical.x-$.tileID.canonical.x;const ne=F.tileID.canonical.y-$.tileID.canonical.y,se=Math.pow(2,$.tileID.canonical.z),de=F.tileID.key;W===0&&ne===0||Math.abs(ne)>1||(Math.abs(W)>1&&(Math.abs(W+se)===1?W+=se:Math.abs(W-se)===1&&(W-=se)),F.dem&&$.dem&&($.dem.backfillBorder(F.dem,W,ne),$.neighboringTiles&&$.neighboringTiles[de]&&($.neighboringTiles[de].backfilled=!0)))}}getTile(f){return this.getTileByID(f.key)}getTileByID(f){return this._tiles[f]}_retainLoadedChildren(f,y,T,$){for(const F in this._tiles){let W=this._tiles[F];if($[F]||!W.hasData()||W.tileID.overscaledZ<=y||W.tileID.overscaledZ>T)continue;let ne=W.tileID;for(;W&&W.tileID.overscaledZ>y+1;){const de=W.tileID.scaledTo(W.tileID.overscaledZ-1);W=this._tiles[de.key],W&&W.hasData()&&(ne=de)}let se=ne;for(;se.overscaledZ>y;)if(se=se.scaledTo(se.overscaledZ-1),f[se.key]||f[se.canonical.key]){$[ne.key]=ne;break}}}findLoadedParent(f,y){if(f.key in this._loadedParentTiles){const T=this._loadedParentTiles[f.key];return T&&T.tileID.overscaledZ>=y?T:null}for(let T=f.overscaledZ-1;T>=y;T--){const $=f.scaledTo(T),F=this._getLoadedTile($);if(F)return F}}findLoadedSibling(f){return this._getLoadedTile(f)}_getLoadedTile(f){const y=this._tiles[f.key];return y&&y.hasData()?y:this._cache.getByKey(f.wrapped().key)}updateCacheSize(f){const y=Math.ceil(f.width/this._source.tileSize)+1,T=Math.ceil(f.height/this._source.tileSize)+1,$=Math.floor(y*T*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),F=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,$):$;this._cache.setMaxSize(F)}handleWrapJump(f){const y=Math.round((f-(this._prevLng===void 0?f:this._prevLng))/360);if(this._prevLng=f,y){const T={};for(const $ in this._tiles){const F=this._tiles[$];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+y),T[F.tileID.key]=F}this._tiles=T;for(const $ in this._timers)clearTimeout(this._timers[$]),delete this._timers[$];for(const $ in this._tiles)this._setTileReloadTimer($,this._tiles[$])}}_updateCoveredAndRetainedTiles(f,y,T,$,F,W){const ne={},se={},de=Object.keys(f),ve=h.now();for(const Ee of de){const Ce=f[Ee],ke=this._tiles[Ee];if(!ke||ke.fadeEndTime!==0&&ke.fadeEndTime<=ve)continue;const Be=this.findLoadedParent(Ce,y),tt=this.findLoadedSibling(Ce),Je=Be||tt||null;Je&&(this._addTile(Je.tileID),ne[Je.tileID.key]=Je.tileID),se[Ee]=Ce}this._retainLoadedChildren(se,$,T,f);for(const Ee in ne)f[Ee]||(this._coveredTiles[Ee]=!0,f[Ee]=ne[Ee]);if(W){const Ee={},Ce={};for(const ke of F)this._tiles[ke.key].hasData()?Ee[ke.key]=ke:Ce[ke.key]=ke;for(const ke in Ce){const Be=Ce[ke].children(this._source.maxzoom);this._tiles[Be[0].key]&&this._tiles[Be[1].key]&&this._tiles[Be[2].key]&&this._tiles[Be[3].key]&&(Ee[Be[0].key]=f[Be[0].key]=Be[0],Ee[Be[1].key]=f[Be[1].key]=Be[1],Ee[Be[2].key]=f[Be[2].key]=Be[2],Ee[Be[3].key]=f[Be[3].key]=Be[3],delete Ce[ke])}for(const ke in Ce){const Be=Ce[ke],tt=this.findLoadedParent(Be,this._source.minzoom),Je=this.findLoadedSibling(Be),nt=tt||Je||null;if(nt){Ee[nt.tileID.key]=f[nt.tileID.key]=nt.tileID;for(const pt in Ee)Ee[pt].isChildOf(nt.tileID)&&delete Ee[pt]}}for(const ke in this._tiles)Ee[ke]||(this._coveredTiles[ke]=!0)}}update(f,y){if(!this._sourceLoaded||this._paused)return;let T;this.transform=f,this.terrain=y,this.updateCacheSize(f),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?T=f.getVisibleUnwrappedCoordinates(this._source.tileID).map(ve=>new o.Y(ve.canonical.z,ve.wrap,ve.canonical.z,ve.canonical.x,ve.canonical.y)):(T=He(f,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:y,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(T=T.filter(ve=>this._source.hasTile(ve)))):T=[];const $=Gt(f,this._source),F=Math.max($-be.maxOverzooming,this._source.minzoom),W=Math.max($+be.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ve={};for(const Ee of T)if(Ee.canonical.z>this._source.minzoom){const Ce=Ee.scaledTo(Ee.canonical.z-1);ve[Ce.key]=Ce;const ke=Ee.scaledTo(Math.max(this._source.minzoom,Math.min(Ee.canonical.z,5)));ve[ke.key]=ke}T=T.concat(Object.values(ve))}const ne=T.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,ne&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const se=this._updateRetainedTiles(T,$);xe(this._source.type)&&this._updateCoveredAndRetainedTiles(se,F,W,$,T,y);for(const ve in se)this._tiles[ve].clearFadeHold();const de=o.af(this._tiles,se);for(const ve of de){const Ee=this._tiles[ve];Ee.hasSymbolBuckets&&!Ee.holdingForFade()?Ee.setHoldDuration(this.map._fadeDuration):Ee.hasSymbolBuckets&&!Ee.symbolFadeFinished()||this._removeTile(ve)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const f in this._tiles)this._tiles[f].holdingForFade()&&this._removeTile(f)}_updateRetainedTiles(f,y){var T;const $={},F={},W=Math.max(y-be.maxOverzooming,this._source.minzoom),ne=Math.max(y+be.maxUnderzooming,this._source.minzoom),se={};for(const de of f){const ve=this._addTile(de);$[de.key]=de,ve.hasData()||y<this._source.maxzoom&&(se[de.key]=de)}this._retainLoadedChildren(se,y,ne,$);for(const de of f){let ve=this._tiles[de.key];if(ve.hasData())continue;if(y+1>this._source.maxzoom){const Ce=de.children(this._source.maxzoom)[0],ke=this.getTile(Ce);if(ke&&ke.hasData()){$[Ce.key]=Ce;continue}}else{const Ce=de.children(this._source.maxzoom);if($[Ce[0].key]&&$[Ce[1].key]&&$[Ce[2].key]&&$[Ce[3].key])continue}let Ee=ve.wasRequested();for(let Ce=de.overscaledZ-1;Ce>=W;--Ce){const ke=de.scaledTo(Ce);if(F[ke.key])break;if(F[ke.key]=!0,ve=this.getTile(ke),!ve&&Ee&&(ve=this._addTile(ke)),ve){const Be=ve.hasData();if((Be||!(!((T=this.map)===null||T===void 0)&&T.cancelPendingTileRequestsWhileZooming)||Ee)&&($[ke.key]=ke),Ee=ve.wasRequested(),Be)break}}}return $}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const f in this._tiles){const y=[];let T,$=this._tiles[f].tileID;for(;$.overscaledZ>0;){if($.key in this._loadedParentTiles){T=this._loadedParentTiles[$.key];break}y.push($.key);const F=$.scaledTo($.overscaledZ-1);if(T=this._getLoadedTile(F),T)break;$=F}for(const F of y)this._loadedParentTiles[F]=T}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const f in this._tiles){const y=this._tiles[f].tileID,T=this._getLoadedTile(y);this._loadedSiblingTiles[y.key]=T}}_addTile(f){let y=this._tiles[f.key];if(y)return y;y=this._cache.getAndRemove(f),y&&(this._setTileReloadTimer(f.key,y),y.tileID=f,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[f.key]&&(clearTimeout(this._cacheTimers[f.key]),delete this._cacheTimers[f.key],this._setTileReloadTimer(f.key,y)));const T=y;return y||(y=new sn(f,this._source.tileSize*f.overscaleFactor()),this._loadTile(y,f.key,y.state)),y.uses++,this._tiles[f.key]=y,T||this._source.fire(new o.l("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y}_setTileReloadTimer(f,y){f in this._timers&&(clearTimeout(this._timers[f]),delete this._timers[f]);const T=y.getExpiryTimeout();T&&(this._timers[f]=setTimeout(()=>{this._reloadTile(f,"expired"),delete this._timers[f]},T))}_removeTile(f){const y=this._tiles[f];y&&(y.uses--,delete this._tiles[f],this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))}_dataHandler(f){const y=f.sourceDataType;f.dataType==="source"&&y==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&y==="content"&&(this.reload(f.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const f in this._tiles)this._removeTile(f);this._cache.reset()}tilesIn(f,y,T){const $=[],F=this.transform;if(!F)return $;const W=T?F.getCameraQueryGeometry(f):f,ne=f.map(Be=>F.screenPointToMercatorCoordinate(Be,this.terrain)),se=W.map(Be=>F.screenPointToMercatorCoordinate(Be,this.terrain)),de=this.getIds();let ve=1/0,Ee=1/0,Ce=-1/0,ke=-1/0;for(const Be of se)ve=Math.min(ve,Be.x),Ee=Math.min(Ee,Be.y),Ce=Math.max(Ce,Be.x),ke=Math.max(ke,Be.y);for(let Be=0;Be<de.length;Be++){const tt=this._tiles[de[Be]];if(tt.holdingForFade())continue;const Je=tt.tileID,nt=Math.pow(2,F.zoom-tt.tileID.overscaledZ),pt=y*tt.queryPadding*o.Z/tt.tileSize/nt,bt=[Je.getTilePoint(new o.$(ve,Ee)),Je.getTilePoint(new o.$(Ce,ke))];if(bt[0].x-pt<o.Z&&bt[0].y-pt<o.Z&&bt[1].x+pt>=0&&bt[1].y+pt>=0){const wt=ne.map(Pt=>Je.getTilePoint(Pt)),Et=se.map(Pt=>Je.getTilePoint(Pt));$.push({tile:tt,tileID:Je,queryGeometry:wt,cameraQueryGeometry:Et,scale:nt})}}return $}getVisibleCoordinates(f){const y=this.getRenderableIds(f).map(T=>this._tiles[T].tileID);return this.transform&&this.transform.populateCache(y),y}hasTransition(){if(this._source.hasTransition())return!0;if(xe(this._source.type)){const f=h.now();for(const y in this._tiles)if(this._tiles[y].fadeEndTime>=f)return!0}return!1}setFeatureState(f,y,T){this._state.updateState(f=f||"_geojsonTileLayer",y,T)}removeFeatureState(f,y,T){this._state.removeFeatureState(f=f||"_geojsonTileLayer",y,T)}getFeatureState(f,y){return this._state.getState(f=f||"_geojsonTileLayer",y)}setDependencies(f,y,T){const $=this._tiles[f];$&&$.setDependencies(y,T)}reloadTilesForDependencies(f,y){for(const T in this._tiles)this._tiles[T].hasDependency(f,y)&&this._reloadTile(T,"reloading");this._cache.filter(T=>!T.hasDependency(f,y))}}function we(z,f){const y=Math.abs(2*z.wrap)-+(z.wrap<0),T=Math.abs(2*f.wrap)-+(f.wrap<0);return z.overscaledZ-f.overscaledZ||T-y||f.canonical.y-z.canonical.y||f.canonical.x-z.canonical.x}function xe(z){return z==="raster"||z==="image"||z==="video"}be.maxOverzooming=10,be.maxUnderzooming=3;class Ye{constructor(f,y){this.reset(f,y)}reset(f,y){this.points=f||[],this._distances=[0];for(let T=1;T<this.points.length;T++)this._distances[T]=this._distances[T-1]+this.points[T].dist(this.points[T-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(y||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(f){if(this.points.length===1)return this.points[0];f=o.ae(f,0,1);let y=1,T=this._distances[y];const $=f*this.paddedLength+this.padding;for(;T<$&&y<this._distances.length;)T=this._distances[++y];const F=y-1,W=this._distances[F],ne=T-W,se=ne>0?($-W)/ne:0;return this.points[F].mult(1-se).add(this.points[y].mult(se))}}function lt(z,f){let y=!0;return z==="always"||z!=="never"&&f!=="never"||(y=!1),y}class ct{constructor(f,y,T){const $=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(f/T),this.yCellCount=Math.ceil(y/T);for(let W=0;W<this.xCellCount*this.yCellCount;W++)$.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=f,this.height=y,this.xScale=this.xCellCount/f,this.yScale=this.yCellCount/y,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(f,y,T,$,F){this._forEachCell(y,T,$,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(f),this.bboxes.push(y),this.bboxes.push(T),this.bboxes.push($),this.bboxes.push(F)}insertCircle(f,y,T,$){this._forEachCell(y-$,T-$,y+$,T+$,this._insertCircleCell,this.circleUid++),this.circleKeys.push(f),this.circles.push(y),this.circles.push(T),this.circles.push($)}_insertBoxCell(f,y,T,$,F,W){this.boxCells[F].push(W)}_insertCircleCell(f,y,T,$,F,W){this.circleCells[F].push(W)}_query(f,y,T,$,F,W,ne){if(T<0||f>this.width||$<0||y>this.height)return[];const se=[];if(f<=0&&y<=0&&this.width<=T&&this.height<=$){if(F)return[{key:null,x1:f,y1:y,x2:T,y2:$}];for(let de=0;de<this.boxKeys.length;de++)se.push({key:this.boxKeys[de],x1:this.bboxes[4*de],y1:this.bboxes[4*de+1],x2:this.bboxes[4*de+2],y2:this.bboxes[4*de+3]});for(let de=0;de<this.circleKeys.length;de++){const ve=this.circles[3*de],Ee=this.circles[3*de+1],Ce=this.circles[3*de+2];se.push({key:this.circleKeys[de],x1:ve-Ce,y1:Ee-Ce,x2:ve+Ce,y2:Ee+Ce})}}else this._forEachCell(f,y,T,$,this._queryCell,se,{hitTest:F,overlapMode:W,seenUids:{box:{},circle:{}}},ne);return se}query(f,y,T,$){return this._query(f,y,T,$,!1,null)}hitTest(f,y,T,$,F,W){return this._query(f,y,T,$,!0,F,W).length>0}hitTestCircle(f,y,T,$,F){const W=f-T,ne=f+T,se=y-T,de=y+T;if(ne<0||W>this.width||de<0||se>this.height)return!1;const ve=[];return this._forEachCell(W,se,ne,de,this._queryCellCircle,ve,{hitTest:!0,overlapMode:$,circle:{x:f,y,radius:T},seenUids:{box:{},circle:{}}},F),ve.length>0}_queryCell(f,y,T,$,F,W,ne,se){const{seenUids:de,hitTest:ve,overlapMode:Ee}=ne,Ce=this.boxCells[F];if(Ce!==null){const Be=this.bboxes;for(const tt of Ce)if(!de.box[tt]){de.box[tt]=!0;const Je=4*tt,nt=this.boxKeys[tt];if(f<=Be[Je+2]&&y<=Be[Je+3]&&T>=Be[Je+0]&&$>=Be[Je+1]&&(!se||se(nt))&&(!ve||!lt(Ee,nt.overlapMode))&&(W.push({key:nt,x1:Be[Je],y1:Be[Je+1],x2:Be[Je+2],y2:Be[Je+3]}),ve))return!0}}const ke=this.circleCells[F];if(ke!==null){const Be=this.circles;for(const tt of ke)if(!de.circle[tt]){de.circle[tt]=!0;const Je=3*tt,nt=this.circleKeys[tt];if(this._circleAndRectCollide(Be[Je],Be[Je+1],Be[Je+2],f,y,T,$)&&(!se||se(nt))&&(!ve||!lt(Ee,nt.overlapMode))){const pt=Be[Je],bt=Be[Je+1],wt=Be[Je+2];if(W.push({key:nt,x1:pt-wt,y1:bt-wt,x2:pt+wt,y2:bt+wt}),ve)return!0}}}return!1}_queryCellCircle(f,y,T,$,F,W,ne,se){const{circle:de,seenUids:ve,overlapMode:Ee}=ne,Ce=this.boxCells[F];if(Ce!==null){const Be=this.bboxes;for(const tt of Ce)if(!ve.box[tt]){ve.box[tt]=!0;const Je=4*tt,nt=this.boxKeys[tt];if(this._circleAndRectCollide(de.x,de.y,de.radius,Be[Je+0],Be[Je+1],Be[Je+2],Be[Je+3])&&(!se||se(nt))&&!lt(Ee,nt.overlapMode))return W.push(!0),!0}}const ke=this.circleCells[F];if(ke!==null){const Be=this.circles;for(const tt of ke)if(!ve.circle[tt]){ve.circle[tt]=!0;const Je=3*tt,nt=this.circleKeys[tt];if(this._circlesCollide(Be[Je],Be[Je+1],Be[Je+2],de.x,de.y,de.radius)&&(!se||se(nt))&&!lt(Ee,nt.overlapMode))return W.push(!0),!0}}}_forEachCell(f,y,T,$,F,W,ne,se){const de=this._convertToXCellCoord(f),ve=this._convertToYCellCoord(y),Ee=this._convertToXCellCoord(T),Ce=this._convertToYCellCoord($);for(let ke=de;ke<=Ee;ke++)for(let Be=ve;Be<=Ce;Be++)if(F.call(this,f,y,T,$,this.xCellCount*Be+ke,W,ne,se))return}_convertToXCellCoord(f){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(f*this.xScale)))}_convertToYCellCoord(f){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(f*this.yScale)))}_circlesCollide(f,y,T,$,F,W){const ne=$-f,se=F-y,de=T+W;return de*de>ne*ne+se*se}_circleAndRectCollide(f,y,T,$,F,W,ne){const se=(W-$)/2,de=Math.abs(f-($+se));if(de>se+T)return!1;const ve=(ne-F)/2,Ee=Math.abs(y-(F+ve));if(Ee>ve+T)return!1;if(de<=se||Ee<=ve)return!0;const Ce=de-se,ke=Ee-ve;return Ce*Ce+ke*ke<=T*T}}function _t(z,f,y){const T=o.K();if(!z){const{vecSouth:Ee,vecEast:Ce}=jt(f),ke=c();ke[0]=Ce[0],ke[1]=Ce[1],ke[2]=Ee[0],ke[3]=Ee[1],$=ke,(ve=(W=(F=ke)[0])*(de=F[3])-(se=F[2])*(ne=F[1]))&&($[0]=de*(ve=1/ve),$[1]=-ne*ve,$[2]=-se*ve,$[3]=W*ve),T[0]=ke[0],T[1]=ke[1],T[4]=ke[2],T[5]=ke[3]}var $,F,W,ne,se,de,ve;return o.M(T,T,[1/y,1/y,1]),T}function yt(z,f,y,T){if(z){const $=o.K();if(!f){const{vecSouth:F,vecEast:W}=jt(y);$[0]=W[0],$[1]=W[1],$[4]=F[0],$[5]=F[1]}return o.M($,$,[T,T,1]),$}return y.pixelsToClipSpaceMatrix}function jt(z){const f=Math.cos(z.rollInRadians),y=Math.sin(z.rollInRadians),T=Math.cos(z.pitchInRadians),$=Math.cos(z.bearingInRadians),F=Math.sin(z.bearingInRadians),W=o.ak();W[0]=-$*T*y-F*f,W[1]=-F*T*y+$*f;const ne=o.al(W);ne<1e-9?o.am(W):o.an(W,W,1/ne);const se=o.ak();se[0]=$*T*f-F*y,se[1]=F*T*f+$*y;const de=o.al(se);return de<1e-9?o.am(se):o.an(se,se,1/de),{vecEast:se,vecSouth:W}}function $t(z,f,y,T){let $;T?($=[z,f,T(z,f),1],o.ap($,$,y)):($=[z,f,0,1],Er($,$,y));const F=$[3];return{point:new o.P($[0]/F,$[1]/F),signedDistanceFromCamera:F,isOccluded:!1}}function vt(z,f){return .5+z/f*.5}function It(z,f){return z.x>=-f[0]&&z.x<=f[0]&&z.y>=-f[1]&&z.y<=f[1]}function zt(z,f,y,T,$,F,W,ne,se,de,ve,Ee,Ce){const ke=y?z.textSizeData:z.iconSizeData,Be=o.ag(ke,f.transform.zoom),tt=[256/f.width*2+1,256/f.height*2+1],Je=y?z.text.dynamicLayoutVertexArray:z.icon.dynamicLayoutVertexArray;Je.clear();const nt=z.lineVertexArray,pt=y?z.text.placedSymbolArray:z.icon.placedSymbolArray,bt=f.transform.width/f.transform.height;let wt=!1;for(let Et=0;Et<pt.length;Et++){const Pt=pt.get(Et);if(Pt.hidden||Pt.writingMode===o.ah.vertical&&!wt){Dn(Pt.numGlyphs,Je);continue}wt=!1;const Mt=new o.P(Pt.anchorX,Pt.anchorY),en={getElevation:Ce,pitchedLabelPlaneMatrix:T,lineVertexArray:nt,pitchWithMap:F,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:f.transform,tileAnchorPoint:Mt,unwrappedTileID:se,width:de,height:ve,translation:Ee},Xt=ln(Pt.anchorX,Pt.anchorY,en);if(!It(Xt.point,tt)){Dn(Pt.numGlyphs,Je);continue}const bn=vt(f.transform.cameraToCenterDistance,Xt.signedDistanceFromCamera),wn=o.ai(ke,Be,Pt),vn=F?wn*f.transform.getPitchedTextCorrection(Pt.anchorX,Pt.anchorY,se)/bn:wn*bn,Mn=xn({projectionContext:en,pitchedLabelPlaneMatrixInverse:$,symbol:Pt,fontSize:vn,flip:!1,keepUpright:W,glyphOffsetArray:z.glyphOffsetArray,dynamicLayoutVertexArray:Je,aspectRatio:bt,rotateToLine:ne});wt=Mn.useVertical,(Mn.notEnoughRoom||wt||Mn.needsFlipping&&xn({projectionContext:en,pitchedLabelPlaneMatrixInverse:$,symbol:Pt,fontSize:vn,flip:!0,keepUpright:W,glyphOffsetArray:z.glyphOffsetArray,dynamicLayoutVertexArray:Je,aspectRatio:bt,rotateToLine:ne}).notEnoughRoom)&&Dn(Pt.numGlyphs,Je)}y?z.text.dynamicLayoutVertexBuffer.updateData(Je):z.icon.dynamicLayoutVertexBuffer.updateData(Je)}function Dt(z,f,y,T,$,F,W,ne){const se=F.glyphStartIndex+F.numGlyphs,de=F.lineStartIndex,ve=F.lineStartIndex+F.lineLength,Ee=f.getoffsetX(F.glyphStartIndex),Ce=f.getoffsetX(se-1),ke=Un(z*Ee,y,T,$,F.segment,de,ve,ne,W);if(!ke)return null;const Be=Un(z*Ce,y,T,$,F.segment,de,ve,ne,W);return Be?ne.projectionCache.anyProjectionOccluded?null:{first:ke,last:Be}:null}function Tt(z,f,y,T){return z===o.ah.horizontal&&Math.abs(y.y-f.y)>Math.abs(y.x-f.x)*T?{useVertical:!0}:(z===o.ah.vertical?f.y<y.y:f.x>y.x)?{needsFlipping:!0}:null}function xn(z){const{projectionContext:f,pitchedLabelPlaneMatrixInverse:y,symbol:T,fontSize:$,flip:F,keepUpright:W,glyphOffsetArray:ne,dynamicLayoutVertexArray:se,aspectRatio:de,rotateToLine:ve}=z,Ee=$/24,Ce=T.lineOffsetX*Ee,ke=T.lineOffsetY*Ee;let Be;if(T.numGlyphs>1){const tt=T.glyphStartIndex+T.numGlyphs,Je=T.lineStartIndex,nt=T.lineStartIndex+T.lineLength,pt=Dt(Ee,ne,Ce,ke,F,T,ve,f);if(!pt)return{notEnoughRoom:!0};const bt=Ht(pt.first.point.x,pt.first.point.y,f,y),wt=Ht(pt.last.point.x,pt.last.point.y,f,y);if(W&&!F){const Et=Tt(T.writingMode,bt,wt,de);if(Et)return Et}Be=[pt.first];for(let Et=T.glyphStartIndex+1;Et<tt-1;Et++)Be.push(Un(Ee*ne.getoffsetX(Et),Ce,ke,F,T.segment,Je,nt,f,ve));Be.push(pt.last)}else{if(W&&!F){const Je=Fn(f.tileAnchorPoint.x,f.tileAnchorPoint.y,f).point,nt=T.lineStartIndex+T.segment+1,pt=new o.P(f.lineVertexArray.getx(nt),f.lineVertexArray.gety(nt)),bt=Fn(pt.x,pt.y,f),wt=bt.signedDistanceFromCamera>0?bt.point:Bt(f.tileAnchorPoint,pt,Je,1,f),Et=Ht(Je.x,Je.y,f,y),Pt=Ht(wt.x,wt.y,f,y),Mt=Tt(T.writingMode,Et,Pt,de);if(Mt)return Mt}const tt=Un(Ee*ne.getoffsetX(T.glyphStartIndex),Ce,ke,F,T.segment,T.lineStartIndex,T.lineStartIndex+T.lineLength,f,ve);if(!tt||f.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Be=[tt]}for(const tt of Be)o.ao(se,tt.point,tt.angle);return{}}function Bt(z,f,y,T,$){const F=z.add(z.sub(f)._unit()),W=Fn(F.x,F.y,$).point,ne=y.sub(W);return y.add(ne._mult(T/ne.mag()))}function nn(z,f,y){const T=f.projectionCache;if(T.projections[z])return T.projections[z];const $=new o.P(f.lineVertexArray.getx(z),f.lineVertexArray.gety(z)),F=Fn($.x,$.y,f);if(F.signedDistanceFromCamera>0)return T.projections[z]=F.point,T.anyProjectionOccluded=T.anyProjectionOccluded||F.isOccluded,F.point;const W=z-y.direction;return Bt(y.distanceFromAnchor===0?f.tileAnchorPoint:new o.P(f.lineVertexArray.getx(W),f.lineVertexArray.gety(W)),$,y.previousVertex,y.absOffsetX-y.distanceFromAnchor+1,f)}function Fn(z,f,y){const T=z+y.translation[0],$=f+y.translation[1];let F;return y.pitchWithMap?(F=$t(T,$,y.pitchedLabelPlaneMatrix,y.getElevation),F.isOccluded=!1):(F=y.transform.projectTileCoordinates(T,$,y.unwrappedTileID,y.getElevation),F.point.x=(.5*F.point.x+.5)*y.width,F.point.y=(.5*-F.point.y+.5)*y.height),F}function Ht(z,f,y,T){if(y.pitchWithMap){const $=[z,f,0,1];return o.ap($,$,T),y.transform.projectTileCoordinates($[0]/$[3],$[1]/$[3],y.unwrappedTileID,y.getElevation).point}return{x:z/y.width*2-1,y:f/y.height*2-1}}function ln(z,f,y){return y.transform.projectTileCoordinates(z,f,y.unwrappedTileID,y.getElevation)}function rn(z,f,y){return z._unit()._perp()._mult(f*y)}function Tn(z,f,y,T,$,F,W,ne,se){if(ne.projectionCache.offsets[z])return ne.projectionCache.offsets[z];const de=y.add(f);if(z+se.direction<T||z+se.direction>=$)return ne.projectionCache.offsets[z]=de,de;const ve=nn(z+se.direction,ne,se),Ee=rn(ve.sub(y),W,se.direction),Ce=y.add(Ee),ke=ve.add(Ee);return ne.projectionCache.offsets[z]=o.aq(F,de,Ce,ke)||de,ne.projectionCache.offsets[z]}function Un(z,f,y,T,$,F,W,ne,se){const de=T?z-f:z+f;let ve=de>0?1:-1,Ee=0;T&&(ve*=-1,Ee=Math.PI),ve<0&&(Ee+=Math.PI);let Ce,ke=ve>0?F+$:F+$+1;ne.projectionCache.cachedAnchorPoint?Ce=ne.projectionCache.cachedAnchorPoint:(Ce=Fn(ne.tileAnchorPoint.x,ne.tileAnchorPoint.y,ne).point,ne.projectionCache.cachedAnchorPoint=Ce);let Be,tt,Je=Ce,nt=Ce,pt=0,bt=0;const wt=Math.abs(de),Et=[];let Pt;for(;pt+bt<=wt;){if(ke+=ve,ke<F||ke>=W)return null;pt+=bt,nt=Je,tt=Be;const Xt={absOffsetX:wt,direction:ve,distanceFromAnchor:pt,previousVertex:nt};if(Je=nn(ke,ne,Xt),y===0)Et.push(nt),Pt=Je.sub(nt);else{let bn;const wn=Je.sub(nt);bn=wn.mag()===0?rn(nn(ke+ve,ne,Xt).sub(Je),y,ve):rn(wn,y,ve),tt||(tt=nt.add(bn)),Be=Tn(ke,bn,Je,F,W,tt,y,ne,Xt),Et.push(tt),Pt=Be.sub(tt)}bt=Pt.mag()}const Mt=Pt._mult((wt-pt)/bt)._add(tt||nt),en=Ee+Math.atan2(Je.y-nt.y,Je.x-nt.x);return Et.push(Mt),{point:Mt,angle:se?en:0,path:Et}}const ir=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Dn(z,f){for(let y=0;y<z;y++){const T=f.length;f.resize(T+4),f.float32.set(ir,3*T)}}function Er(z,f,y){const T=f[0],$=f[1];return z[0]=y[0]*T+y[4]*$+y[12],z[1]=y[1]*T+y[5]*$+y[13],z[3]=y[3]*T+y[7]*$+y[15],z}const Cr=100;class $r{constructor(f,y=new ct(f.width+200,f.height+200,25),T=new ct(f.width+200,f.height+200,25)){this.transform=f,this.grid=y,this.ignoredGrid=T,this.pitchFactor=Math.cos(f.pitch*Math.PI/180)*f.cameraToCenterDistance,this.screenRightBoundary=f.width+Cr,this.screenBottomBoundary=f.height+Cr,this.gridRightBoundary=f.width+200,this.gridBottomBoundary=f.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(f,y,T,$,F,W,ne,se,de,ve,Ee,Ce){const ke=this.projectAndGetPerspectiveRatio(f.anchorPointX+se[0],f.anchorPointY+se[1],F,ve,Ce),Be=T*ke.perspectiveRatio;let tt;if(W||ne)tt=this._projectCollisionBox(f,Be,$,F,W,ne,se,ke,ve,Ee,Ce);else{const Pt=ke.x+(Ee?Ee.x*Be:0),Mt=ke.y+(Ee?Ee.y*Be:0);tt={allPointsOccluded:!1,box:[Pt+f.x1*Be,Mt+f.y1*Be,Pt+f.x2*Be,Mt+f.y2*Be]}}const[Je,nt,pt,bt]=tt.box,wt=W?tt.allPointsOccluded:ke.isOccluded;let Et=wt;return Et||(Et=ke.perspectiveRatio<this.perspectiveRatioCutoff),Et||(Et=!this.isInsideGrid(Je,nt,pt,bt)),Et||y!=="always"&&this.grid.hitTest(Je,nt,pt,bt,y,de)?{box:[Je,nt,pt,bt],placeable:!1,offscreen:!1,occluded:wt}:{box:[Je,nt,pt,bt],placeable:!0,offscreen:this.isOffscreen(Je,nt,pt,bt),occluded:wt}}placeCollisionCircles(f,y,T,$,F,W,ne,se,de,ve,Ee,Ce,ke,Be){const tt=[],Je=new o.P(y.anchorX,y.anchorY),nt=this.getPerspectiveRatio(Je.x,Je.y,W,Be),pt=(de?F*this.transform.getPitchedTextCorrection(y.anchorX,y.anchorY,W)/nt:F*nt)/o.av,bt={getElevation:Be,pitchedLabelPlaneMatrix:ne,lineVertexArray:T,pitchWithMap:de,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Je,unwrappedTileID:W,width:this.transform.width,height:this.transform.height,translation:ke},wt=Dt(pt,$,y.lineOffsetX*pt,y.lineOffsetY*pt,!1,y,!1,bt);let Et=!1,Pt=!1,Mt=!0;if(wt){const en=.5*Ee*nt+Ce,Xt=new o.P(-100,-100),bn=new o.P(this.screenRightBoundary,this.screenBottomBoundary),wn=new Ye,vn=wt.first,Mn=wt.last;let Zn=[];for(let ti=vn.path.length-1;ti>=1;ti--)Zn.push(vn.path[ti]);for(let ti=1;ti<Mn.path.length;ti++)Zn.push(Mn.path[ti]);const Nn=2.5*en;if(de){const ti=this.projectPathToScreenSpace(Zn,bt);Zn=ti.some(Zi=>Zi.signedDistanceFromCamera<=0)?[]:ti.map(Zi=>Zi.point)}let yr=[];if(Zn.length>0){const ti=Zn[0].clone(),Zi=Zn[0].clone();for(let vi=1;vi<Zn.length;vi++)ti.x=Math.min(ti.x,Zn[vi].x),ti.y=Math.min(ti.y,Zn[vi].y),Zi.x=Math.max(Zi.x,Zn[vi].x),Zi.y=Math.max(Zi.y,Zn[vi].y);yr=ti.x>=Xt.x&&Zi.x<=bn.x&&ti.y>=Xt.y&&Zi.y<=bn.y?[Zn]:Zi.x<Xt.x||ti.x>bn.x||Zi.y<Xt.y||ti.y>bn.y?[]:o.ar([Zn],Xt.x,Xt.y,bn.x,bn.y)}for(const ti of yr){wn.reset(ti,.25*en);let Zi=0;Zi=wn.length<=.5*en?1:Math.ceil(wn.paddedLength/Nn)+1;for(let vi=0;vi<Zi;vi++){const Ni=vi/Math.max(Zi-1,1),ao=wn.lerp(Ni),Va=ao.x+Cr,wa=ao.y+Cr;tt.push(Va,wa,en,0);const Da=Va-en,Yo=wa-en,Aa=Va+en,wo=wa+en;if(Mt=Mt&&this.isOffscreen(Da,Yo,Aa,wo),Pt=Pt||this.isInsideGrid(Da,Yo,Aa,wo),f!=="always"&&this.grid.hitTestCircle(Va,wa,en,f,ve)&&(Et=!0,!se))return{circles:[],offscreen:!1,collisionDetected:Et}}}}return{circles:!se&&Et||!Pt||nt<this.perspectiveRatioCutoff?[]:tt,offscreen:Mt,collisionDetected:Et}}projectPathToScreenSpace(f,y){const T=function($,F){const W=o.K();return o.aj(W,F.pitchedLabelPlaneMatrix),$.map(ne=>{const se=$t(ne.x,ne.y,W,F.getElevation),de=F.transform.projectTileCoordinates(se.point.x,se.point.y,F.unwrappedTileID,F.getElevation);return de.point.x=(.5*de.point.x+.5)*F.width,de.point.y=(.5*-de.point.y+.5)*F.height,de})}(f,y);return function($){let F=0,W=0,ne=0,se=0;for(let de=0;de<$.length;de++)$[de].isOccluded?(ne=de+1,se=0):(se++,se>W&&(W=se,F=ne));return $.slice(F,F+W)}(T)}queryRenderedSymbols(f){if(f.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const y=[];let T=1/0,$=1/0,F=-1/0,W=-1/0;for(const ve of f){const Ee=new o.P(ve.x+Cr,ve.y+Cr);T=Math.min(T,Ee.x),$=Math.min($,Ee.y),F=Math.max(F,Ee.x),W=Math.max(W,Ee.y),y.push(Ee)}const ne=this.grid.query(T,$,F,W).concat(this.ignoredGrid.query(T,$,F,W)),se={},de={};for(const ve of ne){const Ee=ve.key;if(se[Ee.bucketInstanceId]===void 0&&(se[Ee.bucketInstanceId]={}),se[Ee.bucketInstanceId][Ee.featureIndex])continue;const Ce=[new o.P(ve.x1,ve.y1),new o.P(ve.x2,ve.y1),new o.P(ve.x2,ve.y2),new o.P(ve.x1,ve.y2)];o.as(y,Ce)&&(se[Ee.bucketInstanceId][Ee.featureIndex]=!0,de[Ee.bucketInstanceId]===void 0&&(de[Ee.bucketInstanceId]=[]),de[Ee.bucketInstanceId].push(Ee.featureIndex))}return de}insertCollisionBox(f,y,T,$,F,W){(T?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:F,collisionGroupID:W,overlapMode:y},f[0],f[1],f[2],f[3])}insertCollisionCircles(f,y,T,$,F,W){const ne=T?this.ignoredGrid:this.grid,se={bucketInstanceId:$,featureIndex:F,collisionGroupID:W,overlapMode:y};for(let de=0;de<f.length;de+=4)ne.insertCircle(se,f[de],f[de+1],f[de+2])}projectAndGetPerspectiveRatio(f,y,T,$,F){if(F){let W;$?(W=[f,y,$(f,y),1],o.ap(W,W,F)):(W=[f,y,0,1],Er(W,W,F));const ne=W[3];return{x:(W[0]/ne+1)/2*this.transform.width+Cr,y:(-W[1]/ne+1)/2*this.transform.height+Cr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/ne*.5,isOccluded:!1,signedDistanceFromCamera:ne}}{const W=this.transform.projectTileCoordinates(f,y,T,$);return{x:(W.point.x+1)/2*this.transform.width+Cr,y:(1-W.point.y)/2*this.transform.height+Cr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/W.signedDistanceFromCamera*.5,isOccluded:W.isOccluded,signedDistanceFromCamera:W.signedDistanceFromCamera}}}getPerspectiveRatio(f,y,T,$){const F=this.transform.projectTileCoordinates(f,y,T,$);return .5+this.transform.cameraToCenterDistance/F.signedDistanceFromCamera*.5}isOffscreen(f,y,T,$){return T<Cr||f>=this.screenRightBoundary||$<Cr||y>this.screenBottomBoundary}isInsideGrid(f,y,T,$){return T>=0&&f<this.gridRightBoundary&&$>=0&&y<this.gridBottomBoundary}getViewportMatrix(){const f=o.at([]);return o.L(f,f,[-100,-100,0]),f}_projectCollisionBox(f,y,T,$,F,W,ne,se,de,ve,Ee){let Ce=1,ke=0,Be=0,tt=1;const Je=f.anchorPointX+ne[0],nt=f.anchorPointY+ne[1];if(W&&!F){const Zn=this.projectAndGetPerspectiveRatio(Je+1,nt,$,de,Ee),Nn=Zn.x-se.x,yr=Math.atan((Zn.y-se.y)/Nn)+(Nn<0?Math.PI:0),ti=Math.sin(yr),Zi=Math.cos(yr);Ce=Zi,ke=ti,Be=-ti,tt=Zi}else if(!W&&F){const Zn=jt(this.transform);Ce=Zn.vecEast[0],ke=Zn.vecEast[1],Be=Zn.vecSouth[0],tt=Zn.vecSouth[1]}let pt=se.x,bt=se.y,wt=y;F&&(pt=Je,bt=nt,wt=Math.pow(2,-(this.transform.zoom-T.overscaledZ)),wt*=this.transform.getPitchedTextCorrection(Je,nt,$),ve||(wt*=o.ae(.5+se.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),ve&&(pt+=Ce*ve.x*wt+Be*ve.y*wt,bt+=ke*ve.x*wt+tt*ve.y*wt);const Et=f.x1*wt,Pt=f.x2*wt,Mt=(Et+Pt)/2,en=f.y1*wt,Xt=f.y2*wt,bn=(en+Xt)/2,wn=[{offsetX:Et,offsetY:en},{offsetX:Mt,offsetY:en},{offsetX:Pt,offsetY:en},{offsetX:Pt,offsetY:bn},{offsetX:Pt,offsetY:Xt},{offsetX:Mt,offsetY:Xt},{offsetX:Et,offsetY:Xt},{offsetX:Et,offsetY:bn}];let vn=[];for(const{offsetX:Zn,offsetY:Nn}of wn)vn.push(new o.P(pt+Ce*Zn+Be*Nn,bt+ke*Zn+tt*Nn));let Mn=!1;if(F){const Zn=vn.map(Nn=>this.projectAndGetPerspectiveRatio(Nn.x,Nn.y,$,de,Ee));Mn=Zn.some(Nn=>!Nn.isOccluded),vn=Zn.map(Nn=>new o.P(Nn.x,Nn.y))}else Mn=!0;return{box:o.au(vn),allPointsOccluded:!Mn}}}class Zr{constructor(f,y,T,$){this.opacity=f?Math.max(0,Math.min(1,f.opacity+(f.placed?y:-y))):$&&T?1:0,this.placed=T}isHidden(){return this.opacity===0&&!this.placed}}class li{constructor(f,y,T,$,F){this.text=new Zr(f?f.text:null,y,T,F),this.icon=new Zr(f?f.icon:null,y,$,F)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Kr{constructor(f,y,T){this.text=f,this.icon=y,this.skipFade=T}}class $n{constructor(f,y,T,$,F){this.bucketInstanceId=f,this.featureIndex=y,this.sourceLayerIndex=T,this.bucketIndex=$,this.tileID=F}}class sr{constructor(f){this.crossSourceCollisions=f,this.maxGroupID=0,this.collisionGroups={}}get(f){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[f]){const y=++this.maxGroupID;this.collisionGroups[f]={ID:y,predicate:T=>T.collisionGroupID===y}}return this.collisionGroups[f]}}function tr(z,f,y,T,$){const{horizontalAlign:F,verticalAlign:W}=o.aB(z);return new o.P(-(F-.5)*f+T[0]*$,-(W-.5)*y+T[1]*$)}class Yn{constructor(f,y,T,$,F){this.transform=f.clone(),this.terrain=y,this.collisionIndex=new $r(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=T,this.retainedQueryData={},this.collisionGroups=new sr($),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=F,F&&(F.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(f){const y=this.terrain;return y?(T,$)=>y.getElevation(f,T,$):null}getBucketParts(f,y,T,$){const F=T.getBucket(y),W=T.latestFeatureIndex;if(!F||!W||y.id!==F.layerIds[0])return;const ne=T.collisionBoxArray,se=F.layers[0].layout,de=F.layers[0].paint,ve=Math.pow(2,this.transform.zoom-T.tileID.overscaledZ),Ee=T.tileSize/o.Z,Ce=T.tileID.toUnwrapped(),ke=se.get("text-rotation-alignment")==="map",Be=o.aw(T,1,this.transform.zoom),tt=o.ax(this.collisionIndex.transform,T,de.get("text-translate"),de.get("text-translate-anchor")),Je=o.ax(this.collisionIndex.transform,T,de.get("icon-translate"),de.get("icon-translate-anchor")),nt=_t(ke,this.transform,Be);this.retainedQueryData[F.bucketInstanceId]=new $n(F.bucketInstanceId,W,F.sourceLayerIndex,F.index,T.tileID);const pt={bucket:F,layout:se,translationText:tt,translationIcon:Je,unwrappedTileID:Ce,pitchedLabelPlaneMatrix:nt,scale:ve,textPixelRatio:Ee,holdingForFade:T.holdingForFade(),collisionBoxArray:ne,partiallyEvaluatedTextSize:o.ag(F.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if($)for(const bt of F.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:Et,symbolInstanceEnd:Pt}=bt;f.push({sortKey:wt,symbolInstanceStart:Et,symbolInstanceEnd:Pt,parameters:pt})}else f.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:pt})}attemptAnchorPlacement(f,y,T,$,F,W,ne,se,de,ve,Ee,Ce,ke,Be,tt,Je,nt,pt,bt,wt){const Et=o.ay[f.textAnchor],Pt=[f.textOffset0,f.textOffset1],Mt=tr(Et,T,$,Pt,F),en=this.collisionIndex.placeCollisionBox(y,Ce,se,de,ve,ne,W,Je,Ee.predicate,bt,Mt,wt);if((!pt||this.collisionIndex.placeCollisionBox(pt,Ce,se,de,ve,ne,W,nt,Ee.predicate,bt,Mt,wt).placeable)&&en.placeable){let Xt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ke.crossTileID]&&this.prevPlacement.placements[ke.crossTileID]&&this.prevPlacement.placements[ke.crossTileID].text&&(Xt=this.prevPlacement.variableOffsets[ke.crossTileID].anchor),ke.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ke.crossTileID]={textOffset:Pt,width:T,height:$,anchor:Et,textBoxScale:F,prevAnchor:Xt},this.markUsedJustification(Be,Et,ke,tt),Be.allowVerticalPlacement&&(this.markUsedOrientation(Be,tt,ke),this.placedOrientations[ke.crossTileID]=tt),{shift:Mt,placedGlyphBoxes:en}}}placeLayerBucketPart(f,y,T){const{bucket:$,layout:F,translationText:W,translationIcon:ne,unwrappedTileID:se,pitchedLabelPlaneMatrix:de,textPixelRatio:ve,holdingForFade:Ee,collisionBoxArray:Ce,partiallyEvaluatedTextSize:ke,collisionGroup:Be}=f.parameters,tt=F.get("text-optional"),Je=F.get("icon-optional"),nt=o.az(F,"text-overlap","text-allow-overlap"),pt=nt==="always",bt=o.az(F,"icon-overlap","icon-allow-overlap"),wt=bt==="always",Et=F.get("text-rotation-alignment")==="map",Pt=F.get("text-pitch-alignment")==="map",Mt=F.get("icon-text-fit")!=="none",en=F.get("symbol-z-order")==="viewport-y",Xt=pt&&(wt||!$.hasIconData()||Je),bn=wt&&(pt||!$.hasTextData()||tt);!$.collisionArrays&&Ce&&$.deserializeCollisionBoxes(Ce);const wn=this.retainedQueryData[$.bucketInstanceId].tileID,vn=this._getTerrainElevationFunc(wn),Mn=this.transform.getFastPathSimpleProjectionMatrix(wn),Zn=(Nn,yr,ti)=>{var Zi,vi;if(y[Nn.crossTileID])return;if(Ee)return void(this.placements[Nn.crossTileID]=new Kr(!1,!1,!1));let Ni=!1,ao=!1,Va=!0,wa=null,Da={box:null,placeable:!1,offscreen:null,occluded:!1},Yo={placeable:!1},Aa=null,wo=null,dl=null,Nu=0,bc=0,id=0;yr.textFeatureIndex?Nu=yr.textFeatureIndex:Nn.useRuntimeCollisionCircles&&(Nu=Nn.featureIndex),yr.verticalTextFeatureIndex&&(bc=yr.verticalTextFeatureIndex);const su=yr.textBox;if(su){const Ms=No=>{let Ya=o.ah.horizontal;if($.allowVerticalPlacement&&!No&&this.prevPlacement){const bs=this.prevPlacement.placedOrientations[Nn.crossTileID];bs&&(this.placedOrientations[Nn.crossTileID]=bs,Ya=bs,this.markUsedOrientation($,Ya,Nn))}return Ya},xf=(No,Ya)=>{if($.allowVerticalPlacement&&Nn.numVerticalGlyphVertices>0&&yr.verticalTextBox){for(const bs of $.writingModes)if(bs===o.ah.vertical?(Da=Ya(),Yo=Da):Da=No(),Da&&Da.placeable)break}else Da=No()},_c=Nn.textAnchorOffsetStartIndex,Vd=Nn.textAnchorOffsetEndIndex;if(Vd===_c){const No=(Ya,bs)=>{const za=this.collisionIndex.placeCollisionBox(Ya,nt,ve,wn,se,Pt,Et,W,Be.predicate,vn,void 0,Mn);return za&&za.placeable&&(this.markUsedOrientation($,bs,Nn),this.placedOrientations[Nn.crossTileID]=bs),za};xf(()=>No(su,o.ah.horizontal),()=>{const Ya=yr.verticalTextBox;return $.allowVerticalPlacement&&Nn.numVerticalGlyphVertices>0&&Ya?No(Ya,o.ah.vertical):{box:null,offscreen:null}}),Ms(Da&&Da.placeable)}else{let No=o.ay[(vi=(Zi=this.prevPlacement)===null||Zi===void 0?void 0:Zi.variableOffsets[Nn.crossTileID])===null||vi===void 0?void 0:vi.anchor];const Ya=(za,od,Qm)=>{const Du=za.x2-za.x1,ob=za.y2-za.y1,Jm=Nn.textBoxScale,ev=Mt&&bt==="never"?od:null;let So=null,As=nt==="never"?1:2,zu="never";No&&As++;for(let Dh=0;Dh<As;Dh++){for(let sd=_c;sd<Vd;sd++){const wf=$.textAnchorOffsets.get(sd);if(No&&wf.textAnchor!==No)continue;const Tp=this.attemptAnchorPlacement(wf,za,Du,ob,Jm,Et,Pt,ve,wn,se,Be,zu,Nn,$,Qm,W,ne,ev,vn);if(Tp&&(So=Tp.placedGlyphBoxes,So&&So.placeable))return Ni=!0,wa=Tp.shift,So}No?No=null:zu=nt}return T&&!So&&(So={box:this.collisionIndex.placeCollisionBox(su,"always",ve,wn,se,Pt,Et,W,Be.predicate,vn,void 0,Mn).box,offscreen:!1,placeable:!1,occluded:!1}),So};xf(()=>Ya(su,yr.iconBox,o.ah.horizontal),()=>{const za=yr.verticalTextBox;return $.allowVerticalPlacement&&(!Da||!Da.placeable)&&Nn.numVerticalGlyphVertices>0&&za?Ya(za,yr.verticalIconBox,o.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Da&&(Ni=Da.placeable,Va=Da.offscreen);const bs=Ms(Da&&Da.placeable);if(!Ni&&this.prevPlacement){const za=this.prevPlacement.variableOffsets[Nn.crossTileID];za&&(this.variableOffsets[Nn.crossTileID]=za,this.markUsedJustification($,za.anchor,Nn,bs))}}}if(Aa=Da,Ni=Aa&&Aa.placeable,Va=Aa&&Aa.offscreen,Nn.useRuntimeCollisionCircles){const Ms=$.text.placedSymbolArray.get(Nn.centerJustifiedTextSymbolIndex),xf=o.ai($.textSizeData,ke,Ms),_c=F.get("text-padding");wo=this.collisionIndex.placeCollisionCircles(nt,Ms,$.lineVertexArray,$.glyphOffsetArray,xf,se,de,T,Pt,Be.predicate,Nn.collisionCircleDiameter,_c,W,vn),wo.circles.length&&wo.collisionDetected&&!T&&o.w("Collisions detected, but collision boxes are not shown"),Ni=pt||wo.circles.length>0&&!wo.collisionDetected,Va=Va&&wo.offscreen}if(yr.iconFeatureIndex&&(id=yr.iconFeatureIndex),yr.iconBox){const Ms=xf=>this.collisionIndex.placeCollisionBox(xf,bt,ve,wn,se,Pt,Et,ne,Be.predicate,vn,Mt&&wa?wa:void 0,Mn);Yo&&Yo.placeable&&yr.verticalIconBox?(dl=Ms(yr.verticalIconBox),ao=dl.placeable):(dl=Ms(yr.iconBox),ao=dl.placeable),Va=Va&&dl.offscreen}const ad=tt||Nn.numHorizontalGlyphVertices===0&&Nn.numVerticalGlyphVertices===0,zc=Je||Nn.numIconVertices===0;ad||zc?zc?ad||(ao=ao&&Ni):Ni=ao&&Ni:ao=Ni=ao&&Ni;const Bc=ao&&dl.placeable;if(Ni&&Aa.placeable&&this.collisionIndex.insertCollisionBox(Aa.box,nt,F.get("text-ignore-placement"),$.bucketInstanceId,Yo&&Yo.placeable&&bc?bc:Nu,Be.ID),Bc&&this.collisionIndex.insertCollisionBox(dl.box,bt,F.get("icon-ignore-placement"),$.bucketInstanceId,id,Be.ID),wo&&Ni&&this.collisionIndex.insertCollisionCircles(wo.circles,nt,F.get("text-ignore-placement"),$.bucketInstanceId,Nu,Be.ID),T&&this.storeCollisionData($.bucketInstanceId,ti,yr,Aa,dl,wo),Nn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if($.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Nn.crossTileID]=new Kr((Ni||Xt)&&!Aa?.occluded,(ao||bn)&&!dl?.occluded,Va||$.justReloaded),y[Nn.crossTileID]=!0};if(en){if(f.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Nn=$.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let yr=Nn.length-1;yr>=0;--yr){const ti=Nn[yr];Zn($.symbolInstances.get(ti),$.collisionArrays[ti],ti)}}else for(let Nn=f.symbolInstanceStart;Nn<f.symbolInstanceEnd;Nn++)Zn($.symbolInstances.get(Nn),$.collisionArrays[Nn],Nn);$.justReloaded=!1}storeCollisionData(f,y,T,$,F,W){if(T.textBox||T.iconBox){let ne,se;this.collisionBoxArrays.has(f)?ne=this.collisionBoxArrays.get(f):(ne=new Map,this.collisionBoxArrays.set(f,ne)),ne.has(y)?se=ne.get(y):(se={text:null,icon:null},ne.set(y,se)),T.textBox&&(se.text=$.box),T.iconBox&&(se.icon=F.box)}if(W){let ne=this.collisionCircleArrays[f];ne===void 0&&(ne=this.collisionCircleArrays[f]=[]);for(let se=0;se<W.circles.length;se+=4)ne.push(W.circles[se+0]-Cr),ne.push(W.circles[se+1]-Cr),ne.push(W.circles[se+2]),ne.push(W.collisionDetected?1:0)}}markUsedJustification(f,y,T,$){let F;F=$===o.ah.vertical?T.verticalPlacedTextSymbolIndex:{left:T.leftJustifiedTextSymbolIndex,center:T.centerJustifiedTextSymbolIndex,right:T.rightJustifiedTextSymbolIndex}[o.aA(y)];const W=[T.leftJustifiedTextSymbolIndex,T.centerJustifiedTextSymbolIndex,T.rightJustifiedTextSymbolIndex,T.verticalPlacedTextSymbolIndex];for(const ne of W)ne>=0&&(f.text.placedSymbolArray.get(ne).crossTileID=F>=0&&ne!==F?0:T.crossTileID)}markUsedOrientation(f,y,T){const $=y===o.ah.horizontal||y===o.ah.horizontalOnly?y:0,F=y===o.ah.vertical?y:0,W=[T.leftJustifiedTextSymbolIndex,T.centerJustifiedTextSymbolIndex,T.rightJustifiedTextSymbolIndex];for(const ne of W)f.text.placedSymbolArray.get(ne).placedOrientation=$;T.verticalPlacedTextSymbolIndex&&(f.text.placedSymbolArray.get(T.verticalPlacedTextSymbolIndex).placedOrientation=F)}commit(f){this.commitTime=f,this.zoomAtLastRecencyCheck=this.transform.zoom;const y=this.prevPlacement;let T=!1;this.prevZoomAdjustment=y?y.zoomAdjustment(this.transform.zoom):0;const $=y?y.symbolFadeChange(f):1,F=y?y.opacities:{},W=y?y.variableOffsets:{},ne=y?y.placedOrientations:{};for(const se in this.placements){const de=this.placements[se],ve=F[se];ve?(this.opacities[se]=new li(ve,$,de.text,de.icon),T=T||de.text!==ve.text.placed||de.icon!==ve.icon.placed):(this.opacities[se]=new li(null,$,de.text,de.icon,de.skipFade),T=T||de.text||de.icon)}for(const se in F){const de=F[se];if(!this.opacities[se]){const ve=new li(de,$,!1,!1);ve.isHidden()||(this.opacities[se]=ve,T=T||de.text.placed||de.icon.placed)}}for(const se in W)this.variableOffsets[se]||!this.opacities[se]||this.opacities[se].isHidden()||(this.variableOffsets[se]=W[se]);for(const se in ne)this.placedOrientations[se]||!this.opacities[se]||this.opacities[se].isHidden()||(this.placedOrientations[se]=ne[se]);if(y&&y.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");T?this.lastPlacementChangeTime=f:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=y?y.lastPlacementChangeTime:f)}updateLayerOpacities(f,y){const T={};for(const $ of y){const F=$.getBucket(f);F&&$.latestFeatureIndex&&f.id===F.layerIds[0]&&this.updateBucketOpacities(F,$.tileID,T,$.collisionBoxArray)}}updateBucketOpacities(f,y,T,$){f.hasTextData()&&(f.text.opacityVertexArray.clear(),f.text.hasVisibleVertices=!1),f.hasIconData()&&(f.icon.opacityVertexArray.clear(),f.icon.hasVisibleVertices=!1),f.hasIconCollisionBoxData()&&f.iconCollisionBox.collisionVertexArray.clear(),f.hasTextCollisionBoxData()&&f.textCollisionBox.collisionVertexArray.clear();const F=f.layers[0],W=F.layout,ne=new li(null,0,!1,!1,!0),se=W.get("text-allow-overlap"),de=W.get("icon-allow-overlap"),ve=F._unevaluatedLayout.hasValue("text-variable-anchor")||F._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ee=W.get("text-rotation-alignment")==="map",Ce=W.get("text-pitch-alignment")==="map",ke=W.get("icon-text-fit")!=="none",Be=new li(null,0,se&&(de||!f.hasIconData()||W.get("icon-optional")),de&&(se||!f.hasTextData()||W.get("text-optional")),!0);!f.collisionArrays&&$&&(f.hasIconCollisionBoxData()||f.hasTextCollisionBoxData())&&f.deserializeCollisionBoxes($);const tt=(nt,pt,bt)=>{for(let wt=0;wt<pt/4;wt++)nt.opacityVertexArray.emplaceBack(bt);nt.hasVisibleVertices=nt.hasVisibleVertices||bt!==Ks},Je=this.collisionBoxArrays.get(f.bucketInstanceId);for(let nt=0;nt<f.symbolInstances.length;nt++){const pt=f.symbolInstances.get(nt),{numHorizontalGlyphVertices:bt,numVerticalGlyphVertices:wt,crossTileID:Et}=pt;let Pt=this.opacities[Et];T[Et]?Pt=ne:Pt||(Pt=Be,this.opacities[Et]=Pt),T[Et]=!0;const Mt=pt.numIconVertices>0,en=this.placedOrientations[pt.crossTileID],Xt=en===o.ah.vertical,bn=en===o.ah.horizontal||en===o.ah.horizontalOnly;if(bt>0||wt>0){const vn=Wo(Pt.text);tt(f.text,bt,Xt?Ks:vn),tt(f.text,wt,bn?Ks:vn);const Mn=Pt.text.isHidden();[pt.rightJustifiedTextSymbolIndex,pt.centerJustifiedTextSymbolIndex,pt.leftJustifiedTextSymbolIndex].forEach(yr=>{yr>=0&&(f.text.placedSymbolArray.get(yr).hidden=Mn||Xt?1:0)}),pt.verticalPlacedTextSymbolIndex>=0&&(f.text.placedSymbolArray.get(pt.verticalPlacedTextSymbolIndex).hidden=Mn||bn?1:0);const Zn=this.variableOffsets[pt.crossTileID];Zn&&this.markUsedJustification(f,Zn.anchor,pt,en);const Nn=this.placedOrientations[pt.crossTileID];Nn&&(this.markUsedJustification(f,"left",pt,Nn),this.markUsedOrientation(f,Nn,pt))}if(Mt){const vn=Wo(Pt.icon),Mn=!(ke&&pt.verticalPlacedIconSymbolIndex&&Xt);pt.placedIconSymbolIndex>=0&&(tt(f.icon,pt.numIconVertices,Mn?vn:Ks),f.icon.placedSymbolArray.get(pt.placedIconSymbolIndex).hidden=Pt.icon.isHidden()),pt.verticalPlacedIconSymbolIndex>=0&&(tt(f.icon,pt.numVerticalIconVertices,Mn?Ks:vn),f.icon.placedSymbolArray.get(pt.verticalPlacedIconSymbolIndex).hidden=Pt.icon.isHidden())}const wn=Je&&Je.has(nt)?Je.get(nt):{text:null,icon:null};if(f.hasIconCollisionBoxData()||f.hasTextCollisionBoxData()){const vn=f.collisionArrays[nt];if(vn){let Mn=new o.P(0,0);if(vn.textBox||vn.verticalTextBox){let Zn=!0;if(ve){const Nn=this.variableOffsets[Et];Nn?(Mn=tr(Nn.anchor,Nn.width,Nn.height,Nn.textOffset,Nn.textBoxScale),Ee&&Mn._rotate(Ce?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Zn=!1}if(vn.textBox||vn.verticalTextBox){let Nn;vn.textBox&&(Nn=Xt),vn.verticalTextBox&&(Nn=bn),br(f.textCollisionBox.collisionVertexArray,Pt.text.placed,!Zn||Nn,wn.text,Mn.x,Mn.y)}}if(vn.iconBox||vn.verticalIconBox){const Zn=!!(!bn&&vn.verticalIconBox);let Nn;vn.iconBox&&(Nn=Zn),vn.verticalIconBox&&(Nn=!Zn),br(f.iconCollisionBox.collisionVertexArray,Pt.icon.placed,Nn,wn.icon,ke?Mn.x:0,ke?Mn.y:0)}}}}if(f.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[f.bucketInstanceId]&&(this.retainedQueryData[f.bucketInstanceId].featureSortOrder=f.featureSortOrder),f.hasTextData()&&f.text.opacityVertexBuffer&&f.text.opacityVertexBuffer.updateData(f.text.opacityVertexArray),f.hasIconData()&&f.icon.opacityVertexBuffer&&f.icon.opacityVertexBuffer.updateData(f.icon.opacityVertexArray),f.hasIconCollisionBoxData()&&f.iconCollisionBox.collisionVertexBuffer&&f.iconCollisionBox.collisionVertexBuffer.updateData(f.iconCollisionBox.collisionVertexArray),f.hasTextCollisionBoxData()&&f.textCollisionBox.collisionVertexBuffer&&f.textCollisionBox.collisionVertexBuffer.updateData(f.textCollisionBox.collisionVertexArray),f.text.opacityVertexArray.length!==f.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${f.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${f.text.layoutVertexArray.length}) / 4`);if(f.icon.opacityVertexArray.length!==f.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${f.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${f.icon.layoutVertexArray.length}) / 4`);f.bucketInstanceId in this.collisionCircleArrays&&(f.collisionCircleArray=this.collisionCircleArrays[f.bucketInstanceId],delete this.collisionCircleArrays[f.bucketInstanceId])}symbolFadeChange(f){return this.fadeDuration===0?1:(f-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(f){return Math.max(0,(this.transform.zoom-f)/1.5)}hasTransitions(f){return this.stale||f-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(f,y){const T=this.zoomAtLastRecencyCheck===y?1-this.zoomAdjustment(y):1;return this.zoomAtLastRecencyCheck=y,this.commitTime+this.fadeDuration*T>f}setStale(){this.stale=!0}}function br(z,f,y,T,$,F){T&&T.length!==0||(T=[0,0,0,0]);const W=T[0]-Cr,ne=T[1]-Cr,se=T[2]-Cr,de=T[3]-Cr;z.emplaceBack(f?1:0,y?1:0,$||0,F||0,W,ne),z.emplaceBack(f?1:0,y?1:0,$||0,F||0,se,ne),z.emplaceBack(f?1:0,y?1:0,$||0,F||0,se,de),z.emplaceBack(f?1:0,y?1:0,$||0,F||0,W,de)}const Hr=Math.pow(2,25),ki=Math.pow(2,24),Vi=Math.pow(2,17),pr=Math.pow(2,16),_r=Math.pow(2,9),Vr=Math.pow(2,8),ta=Math.pow(2,1);function Wo(z){if(z.opacity===0&&!z.placed)return 0;if(z.opacity===1&&z.placed)return 4294967295;const f=z.placed?1:0,y=Math.floor(127*z.opacity);return y*Hr+f*ki+y*Vi+f*pr+y*_r+f*Vr+y*ta+f}const Ks=0;class $o{constructor(f){this._sortAcrossTiles=f.layout.get("symbol-z-order")!=="viewport-y"&&!f.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(f,y,T,$,F){const W=this._bucketParts;for(;this._currentTileIndex<f.length;)if(y.getBucketParts(W,$,f[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,W.sort((ne,se)=>ne.sortKey-se.sortKey));this._currentPartIndex<W.length;)if(y.placeLayerBucketPart(W[this._currentPartIndex],this._seenCrossTileIDs,T),this._currentPartIndex++,F())return!0;return!1}}class ma{constructor(f,y,T,$,F,W,ne,se){this.placement=new Yn(f,y,W,ne,se),this._currentPlacementIndex=T.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=F,this._done=!1}isDone(){return this._done}continuePlacement(f,y,T){const $=h.now(),F=()=>!this._forceFullPlacement&&h.now()-$>2;for(;this._currentPlacementIndex>=0;){const W=y[f[this._currentPlacementIndex]],ne=this.placement.collisionIndex.transform.zoom;if(W.type==="symbol"&&(!W.minzoom||W.minzoom<=ne)&&(!W.maxzoom||W.maxzoom>ne)){if(this._inProgressLayer||(this._inProgressLayer=new $o(W)),this._inProgressLayer.continuePlacement(T[W.source],this.placement,this._showCollisionBoxes,W,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(f){return this.placement.commit(f),this.placement}}const ms=512/o.Z/2;class Ys{constructor(f,y,T){this.tileID=f,this.bucketInstanceId=T,this._symbolsByKey={};const $=new Map;for(let F=0;F<y.length;F++){const W=y.get(F),ne=W.key,se=$.get(ne);se?se.push(W):$.set(ne,[W])}for(const[F,W]of $){const ne={positions:W.map(se=>({x:Math.floor(se.anchorX*ms),y:Math.floor(se.anchorY*ms)})),crossTileIDs:W.map(se=>se.crossTileID)};if(ne.positions.length>128){const se=new o.aC(ne.positions.length,16,Uint16Array);for(const{x:de,y:ve}of ne.positions)se.add(de,ve);se.finish(),delete ne.positions,ne.index=se}this._symbolsByKey[F]=ne}}getScaledCoordinates(f,y){const{x:T,y:$,z:F}=this.tileID.canonical,{x:W,y:ne,z:se}=y.canonical,de=ms/Math.pow(2,se-F),ve=(ne*o.Z+f.anchorY)*de,Ee=$*o.Z*ms;return{x:Math.floor((W*o.Z+f.anchorX)*de-T*o.Z*ms),y:Math.floor(ve-Ee)}}findMatches(f,y,T){const $=this.tileID.canonical.z<y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-y.canonical.z);for(let F=0;F<f.length;F++){const W=f.get(F);if(W.crossTileID)continue;const ne=this._symbolsByKey[W.key];if(!ne)continue;const se=this.getScaledCoordinates(W,y);if(ne.index){const de=ne.index.range(se.x-$,se.y-$,se.x+$,se.y+$).sort();for(const ve of de){const Ee=ne.crossTileIDs[ve];if(!T[Ee]){T[Ee]=!0,W.crossTileID=Ee;break}}}else if(ne.positions)for(let de=0;de<ne.positions.length;de++){const ve=ne.positions[de],Ee=ne.crossTileIDs[de];if(Math.abs(ve.x-se.x)<=$&&Math.abs(ve.y-se.y)<=$&&!T[Ee]){T[Ee]=!0,W.crossTileID=Ee;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:f})=>f)}}class ko{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class il{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(f){const y=Math.round((f-this.lng)/360);if(y!==0)for(const T in this.indexes){const $=this.indexes[T],F={};for(const W in $){const ne=$[W];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+y),F[ne.tileID.key]=ne}this.indexes[T]=F}this.lng=f}addBucket(f,y,T){if(this.indexes[f.overscaledZ]&&this.indexes[f.overscaledZ][f.key]){if(this.indexes[f.overscaledZ][f.key].bucketInstanceId===y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(f.overscaledZ,this.indexes[f.overscaledZ][f.key])}for(let F=0;F<y.symbolInstances.length;F++)y.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[f.overscaledZ]||(this.usedCrossTileIDs[f.overscaledZ]={});const $=this.usedCrossTileIDs[f.overscaledZ];for(const F in this.indexes){const W=this.indexes[F];if(Number(F)>f.overscaledZ)for(const ne in W){const se=W[ne];se.tileID.isChildOf(f)&&se.findMatches(y.symbolInstances,f,$)}else{const ne=W[f.scaledTo(Number(F)).key];ne&&ne.findMatches(y.symbolInstances,f,$)}}for(let F=0;F<y.symbolInstances.length;F++){const W=y.symbolInstances.get(F);W.crossTileID||(W.crossTileID=T.generate(),$[W.crossTileID]=!0)}return this.indexes[f.overscaledZ]===void 0&&(this.indexes[f.overscaledZ]={}),this.indexes[f.overscaledZ][f.key]=new Ys(f,y.symbolInstances,y.bucketInstanceId),!0}removeBucketCrossTileIDs(f,y){for(const T of y.getCrossTileIDsLists())for(const $ of T)delete this.usedCrossTileIDs[f][$]}removeStaleBuckets(f){let y=!1;for(const T in this.indexes){const $=this.indexes[T];for(const F in $)f[$[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(T,$[F]),delete $[F],y=!0)}return y}}class ai{constructor(){this.layerIndexes={},this.crossTileIDs=new ko,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(f,y,T){let $=this.layerIndexes[f.id];$===void 0&&($=this.layerIndexes[f.id]=new il);let F=!1;const W={};$.handleWrapJump(T);for(const ne of y){const se=ne.getBucket(f);se&&f.id===se.layerIds[0]&&(se.bucketInstanceId||(se.bucketInstanceId=++this.maxBucketInstanceId),$.addBucket(ne.tileID,se,this.crossTileIDs)&&(F=!0),W[se.bucketInstanceId]=!0)}return $.removeStaleBuckets(W)&&(F=!0),F}pruneUnusedLayers(f){const y={};f.forEach(T=>{y[T]=!0});for(const T in this.layerIndexes)y[T]||delete this.layerIndexes[T]}}var gr="void main() {fragColor=vec4(1.0);}";const Jn={prelude:ur(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:ur("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:ur("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:ur(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:ur(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ur(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:ur(gr,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:ur(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:ur(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ur("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ur("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ur("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:ur(gr,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:ur(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:ur(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:ur(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:ur(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:ur(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:ur(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:ur(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ur(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:ur(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:ur(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:ur(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:ur(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:ur(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:ur(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:ur(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:ur(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:ur("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:ur("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:ur("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:ur("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:ur(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:ur("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function ur(z,f){const y=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,T=f.match(/in ([\w]+) ([\w]+)/g),$=z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=f.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),W=F?F.concat($):$,ne={};return{fragmentSource:z=z.replace(y,(se,de,ve,Ee,Ce)=>(ne[Ce]=!0,de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
in ${ve} ${Ee} ${Ce};
#else
uniform ${ve} ${Ee} u_${Ce};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ce}
    ${ve} ${Ee} ${Ce} = u_${Ce};
#endif
`)),vertexSource:f=f.replace(y,(se,de,ve,Ee,Ce)=>{const ke=Ee==="float"?"vec2":"vec4",Be=Ce.match(/color/)?"color":ke;return ne[Ce]?de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
uniform lowp float u_${Ce}_t;
in ${ve} ${ke} a_${Ce};
out ${ve} ${Ee} ${Ce};
#else
uniform ${ve} ${Ee} u_${Ce};
#endif
`:Be==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ce}
    ${Ce} = a_${Ce};
#else
    ${ve} ${Ee} ${Ce} = u_${Ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ce}
    ${Ce} = unpack_mix_${Be}(a_${Ce}, u_${Ce}_t);
#else
    ${ve} ${Ee} ${Ce} = u_${Ce};
#endif
`:de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
uniform lowp float u_${Ce}_t;
in ${ve} ${ke} a_${Ce};
#else
uniform ${ve} ${Ee} u_${Ce};
#endif
`:Be==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ce}
    ${ve} ${Ee} ${Ce} = a_${Ce};
#else
    ${ve} ${Ee} ${Ce} = u_${Ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ce}
    ${ve} ${Ee} ${Ce} = unpack_mix_${Be}(a_${Ce}, u_${Ce}_t);
#else
    ${ve} ${Ee} ${Ce} = u_${Ce};
#endif
`}),staticAttributes:T,staticUniforms:W}}class ci{constructor(f,y,T){this.vertexBuffer=f,this.indexBuffer=y,this.segments=T}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Ci=o.aD([{name:"a_pos",type:"Int16",components:2}]);const Ei="#define PROJECTION_MERCATOR",ro="mercator";class Br{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return ro}get shaderDefine(){return Ei}get shaderPreludeCode(){return Jn.projectionMercator}get vertexShaderPreludeCode(){return Jn.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aE.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(f){}getMeshFromTileID(f,y,T,$,F){if(this._cachedMesh)return this._cachedMesh;const W=new o.aF;W.emplaceBack(0,0),W.emplaceBack(o.Z,0),W.emplaceBack(0,o.Z),W.emplaceBack(o.Z,o.Z);const ne=f.createVertexBuffer(W,Ci.members),se=o.aG.simpleSegment(0,0,4,2),de=new o.aH;de.emplaceBack(1,0,2),de.emplaceBack(1,2,3);const ve=f.createIndexBuffer(de);return this._cachedMesh=new ci(ne,ve,se),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(f){}}function Ui(z,f){const y=o.ae(f.lat,-85.051129,o.aJ);return new o.P(o.U(f.lng)*z,o.S(y)*z)}function Fa(z,f){return new o.$(f.x/z,f.y/z).toLngLat()}function bo(z){return z.cameraToCenterDistance*Math.min(.85*Math.tan(o.ad(90-z.pitch)),Math.tan(o.ad(89.25-z.pitch)))}function Tr(z,f){const y=z.canonical,T=f/o.aI(y.z),$=y.x+Math.pow(2,y.z)*z.wrap,F=o.at(new Float64Array(16));return o.L(F,F,[$*T,y.y*T,0]),o.M(F,F,[T/o.Z,T/o.Z,1]),F}function xr(z,f,y,T,$){const F=o.$.fromLngLat(z,f),W=$*o.aK(1,z.lat),ne=W*Math.cos(o.ad(y)),se=Math.sqrt(W*W-ne*ne),de=se*Math.sin(o.ad(-T)),ve=se*Math.cos(o.ad(-T));return new o.$(F.x+de,F.y+ve,F.z+ne)}class ei{constructor(f=0,y=0,T=0,$=0){if(isNaN(f)||f<0||isNaN(y)||y<0||isNaN(T)||T<0||isNaN($)||$<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=f,this.bottom=y,this.left=T,this.right=$}interpolate(f,y,T){return y.top!=null&&f.top!=null&&(this.top=o.B.number(f.top,y.top,T)),y.bottom!=null&&f.bottom!=null&&(this.bottom=o.B.number(f.bottom,y.bottom,T)),y.left!=null&&f.left!=null&&(this.left=o.B.number(f.left,y.left,T)),y.right!=null&&f.right!=null&&(this.right=o.B.number(f.right,y.right,T)),this}getCenter(f,y){const T=o.ae((this.left+f-this.right)/2,0,f),$=o.ae((this.top+y-this.bottom)/2,0,y);return new o.P(T,$)}equals(f){return this.top===f.top&&this.bottom===f.bottom&&this.left===f.left&&this.right===f.right}clone(){return new ei(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ka(z,f){if(!z.renderWorldCopies||z.lngRange)return;const y=f.lng-z.center.lng;f.lng+=y>180?-360:y<-180?360:0}function Ii(z){return Math.max(0,Math.floor(z))}class La{constructor(f,y,T,$,F,W){this._callbacks=f,this._tileSize=512,this._renderWorldCopies=W===void 0||!!W,this._minZoom=y||0,this._maxZoom=T||22,this._minPitch=$??0,this._maxPitch=F??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Ii(this._zoom),this._scale=o.aI(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new ei,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(f,y,T){this._latRange=f.latRange,this._lngRange=f.lngRange,this._width=f.width,this._height=f.height,this._center=f.center,this._elevation=f.elevation,this._minElevationForCurrentTile=f.minElevationForCurrentTile,this._zoom=f.zoom,this._tileZoom=Ii(this._zoom),this._scale=o.aI(this._zoom),this._bearingInRadians=f.bearingInRadians,this._fovInRadians=f.fovInRadians,this._pitchInRadians=f.pitchInRadians,this._rollInRadians=f.rollInRadians,this._unmodified=f.unmodified,this._edgeInsets=new ei(f.padding.top,f.padding.bottom,f.padding.left,f.padding.right),this._minZoom=f.minZoom,this._maxZoom=f.maxZoom,this._minPitch=f.minPitch,this._maxPitch=f.maxPitch,this._renderWorldCopies=f.renderWorldCopies,this._cameraToCenterDistance=f.cameraToCenterDistance,this._nearZ=f.nearZ,this._farZ=f.farZ,this._autoCalculateNearFarZ=!T&&f.autoCalculateNearFarZ,y&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(f){this._minElevationForCurrentTile=f}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(f){this._minZoom!==f&&(this._minZoom=f,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(f){this._maxZoom!==f&&(this._maxZoom=f,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(f){this._minPitch!==f&&(this._minPitch=f,this.setPitch(Math.max(this.pitch,f)))}get maxPitch(){return this._maxPitch}setMaxPitch(f){this._maxPitch!==f&&(this._maxPitch=f,this.setPitch(Math.min(this.pitch,f)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(f){f===void 0?f=!0:f===null&&(f=!1),this._renderWorldCopies=f}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(f){const y=o.aL(f,-180,180)*Math.PI/180;var T,$,F,W,ne,se,de,ve,Ee;this._bearingInRadians!==y&&(this._unmodified=!1,this._bearingInRadians=y,this._calcMatrices(),this._rotationMatrix=c(),T=this._rotationMatrix,F=-this._bearingInRadians,W=($=this._rotationMatrix)[0],ne=$[1],se=$[2],de=$[3],ve=Math.sin(F),Ee=Math.cos(F),T[0]=W*Ee+se*ve,T[1]=ne*Ee+de*ve,T[2]=W*-ve+se*Ee,T[3]=ne*-ve+de*Ee)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(f){const y=o.ae(f,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==y&&(this._unmodified=!1,this._pitchInRadians=y,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(f){const y=f/180*Math.PI;this._rollInRadians!==y&&(this._unmodified=!1,this._rollInRadians=y,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aM(this._fovInRadians)}setFov(f){f=o.ae(f,.1,150),this.fov!==f&&(this._unmodified=!1,this._fovInRadians=o.ad(f),this._calcMatrices())}get zoom(){return this._zoom}setZoom(f){const y=this.getConstrained(this._center,f).zoom;this._zoom!==y&&(this._unmodified=!1,this._zoom=y,this._tileZoom=Math.max(0,Math.floor(y)),this._scale=o.aI(y),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(f){f.lat===this._center.lat&&f.lng===this._center.lng||(this._unmodified=!1,this._center=f,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(f){f!==this._elevation&&(this._elevation=f,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(f){this._edgeInsets.equals(f)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,f,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(f,y){this._autoCalculateNearFarZ=!1,this._nearZ=f,this._farZ=y,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(f){return this._edgeInsets.equals(f)}interpolatePadding(f,y,T){this._unmodified=!1,this._edgeInsets.interpolate(f,y,T),this._constrain(),this._calcMatrices()}resize(f,y,T=!0){this._width=f,this._height=y,T&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new We([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(f){f?(this._lngRange=[f.getWest(),f.getEast()],this._latRange=[f.getSouth(),f.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,o.aJ])}getConstrained(f,y){return this._callbacks.getConstrained(f,y)}getCameraQueryGeometry(f,y){if(y.length===1)return[y[0],f];{let T=f.x,$=f.y,F=f.x,W=f.y;for(const ne of y)T=Math.min(T,ne.x),$=Math.min($,ne.y),F=Math.max(F,ne.x),W=Math.max(W,ne.y);return[new o.P(T,$),new o.P(F,$),new o.P(F,W),new o.P(T,W),new o.P(T,$)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const f=this._unmodified,{center:y,zoom:T}=this.getConstrained(this.center,this.zoom);this.setCenter(y),this.setZoom(T),this._unmodified=f,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let f=o.at(new Float64Array(16));o.M(f,f,[this._width/2,-this._height/2,1]),o.L(f,f,[1,-1,0]),this._clipSpaceToPixelsMatrix=f,f=o.at(new Float64Array(16)),o.M(f,f,[1,-1,1]),o.L(f,f,[-1,-1,0]),o.M(f,f,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=f,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(f,y,T,$){const F=T!==void 0?T:this.bearing,W=$=$!==void 0?$:this.pitch,ne=o.$.fromLngLat(f,y),se=-Math.cos(o.ad(W)),de=Math.sin(o.ad(W)),ve=de*Math.sin(o.ad(F)),Ee=-de*Math.cos(o.ad(F));let Ce=this.elevation;const ke=y-Ce;let Be;se*ke>=0||Math.abs(se)<.1?(Be=1e4,Ce=y+Be*se):Be=-ke/se;let tt,Je,nt=o.aN(1,ne.y),pt=0;do{if(pt+=1,pt>10)break;Je=Be/nt,tt=new o.$(ne.x+ve*Je,ne.y+Ee*Je),nt=1/tt.meterInMercatorCoordinateUnits()}while(Math.abs(Be-Je*nt)>1e-12);return{center:tt.toLngLat(),elevation:Ce,zoom:o.ab(this.height/2/Math.tan(this.fovInRadians/2)/Je/this.tileSize)}}recalculateZoomAndCenter(f){if(this.elevation-f==0)return;const y=o.aK(1,this.center.lat)*this.worldSize,T=this.cameraToCenterDistance/y,$=o.$.fromLngLat(this.center,this.elevation),F=xr(this.center,this.elevation,this.pitch,this.bearing,T);this._elevation=f;const W=this.calculateCenterFromCameraLngLatAlt(F.toLngLat(),o.aN(F.z,$.y),this.bearing,this.pitch);this._elevation=W.elevation,this._center=W.center,this.setZoom(W.zoom)}getCameraPoint(){const f=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(f*Math.sin(this.rollInRadians),f*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const f=o.aK(1,this.center.lat)*this.worldSize;return xr(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/f).toLngLat()}getMercatorTileCoordinates(f){if(!f)return[0,0,1,1];const y=f.canonical.z>=0?1<<f.canonical.z:Math.pow(2,f.canonical.z);return[f.canonical.x/y,f.canonical.y/y,1/y/o.Z,1/y/o.Z]}}class Ki{constructor(f,y){this.min=f,this.max=y,this.center=o.aO([],o.aP([],this.min,this.max),.5)}quadrant(f){const y=[f%2==0,f<2],T=o.aQ(this.min),$=o.aQ(this.max);for(let F=0;F<y.length;F++)T[F]=y[F]?this.min[F]:this.center[F],$[F]=y[F]?this.center[F]:this.max[F];return $[2]=this.max[2],new Ki(T,$)}distanceX(f){return Math.max(Math.min(this.max[0],f[0]),this.min[0])-f[0]}distanceY(f){return Math.max(Math.min(this.max[1],f[1]),this.min[1])-f[1]}intersectsFrustum(f){let y=!0;for(let T=0;T<f.planes.length;T++){const $=this.intersectsPlane(f.planes[T]);if($===0)return 0;$===1&&(y=!1)}return y?2:f.aabb.min[0]>this.max[0]||f.aabb.min[1]>this.max[1]||f.aabb.min[2]>this.max[2]||f.aabb.max[0]<this.min[0]||f.aabb.max[1]<this.min[1]||f.aabb.max[2]<this.min[2]?0:1}intersectsPlane(f){let y=f[3],T=f[3];for(let $=0;$<3;$++)f[$]>0?(y+=f[$]*this.min[$],T+=f[$]*this.max[$]):(T+=f[$]*this.min[$],y+=f[$]*this.max[$]);return y>=0?2:T<0?0:1}}class qo{distanceToTile2d(f,y,T,$){const F=$.distanceX([f,y]),W=$.distanceY([f,y]);return Math.hypot(F,W)}getWrap(f,y,T){return T}getTileAABB(f,y,T,$){var F,W;let ne=T,se=T;if($.terrain){const ve=new o.Y(f.z,y,f.z,f.x,f.y),Ee=$.terrain.getMinMaxElevation(ve);ne=(F=Ee.minElevation)!==null&&F!==void 0?F:T,se=(W=Ee.maxElevation)!==null&&W!==void 0?W:T}const de=1<<f.z;return new Ki([y+f.x/de,f.y/de,ne],[y+(f.x+1)/de,(f.y+1)/de,se])}allowVariableZoom(f,y){const T=f.fov*(Math.abs(Math.cos(f.rollInRadians))*f.height+Math.abs(Math.sin(f.rollInRadians))*f.width)/f.height,$=o.ae(78.5-T/2,0,60);return!!y.terrain||f.pitch>$}allowWorldCopies(){return!0}recalculateCache(){}}class Lo{constructor(f,y,T){this.points=f,this.planes=y,this.aabb=T}static fromInvProjectionMatrix(f,y=1,T=0){const $=Math.pow(2,T),F=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(de=>{const ve=1/(de=o.ap([],de,f))[3]/y*$;return o.aR(de,de,[ve,ve,1/de[3],ve])}),W=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(de=>{const ve=o.aS([],F[de[0]],F[de[1]]),Ee=o.aS([],F[de[2]],F[de[1]]),Ce=o.aT([],o.aU([],ve,Ee)),ke=-o.aV(Ce,F[de[1]]);return Ce.concat(ke)}),ne=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],se=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const de of F)for(let ve=0;ve<3;ve++)ne[ve]=Math.min(ne[ve],de[ve]),se[ve]=Math.max(se[ve],de[ve]);return new Lo(F,W,new Ki(ne,se))}}class na{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(f){this._helper.setMinZoom(f)}setMaxZoom(f){this._helper.setMaxZoom(f)}setMinPitch(f){this._helper.setMinPitch(f)}setMaxPitch(f){this._helper.setMaxPitch(f)}setRenderWorldCopies(f){this._helper.setRenderWorldCopies(f)}setBearing(f){this._helper.setBearing(f)}setPitch(f){this._helper.setPitch(f)}setRoll(f){this._helper.setRoll(f)}setFov(f){this._helper.setFov(f)}setZoom(f){this._helper.setZoom(f)}setCenter(f){this._helper.setCenter(f)}setElevation(f){this._helper.setElevation(f)}setMinElevationForCurrentTile(f){this._helper.setMinElevationForCurrentTile(f)}setPadding(f){this._helper.setPadding(f)}interpolatePadding(f,y,T){return this._helper.interpolatePadding(f,y,T)}isPaddingEqual(f){return this._helper.isPaddingEqual(f)}resize(f,y,T=!0){this._helper.resize(f,y,T)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(f){this._helper.setMaxBounds(f)}overrideNearFarZ(f,y){this._helper.overrideNearFarZ(f,y)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(f){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),f)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(f,y){}constructor(f,y,T,$,F){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new La({calcMatrices:()=>{this._calcMatrices()},getConstrained:(W,ne)=>this.getConstrained(W,ne)},f,y,T,$,F),this._coveringTilesDetailsProvider=new qo}clone(){const f=new na;return f.apply(this),f}apply(f,y,T){this._helper.apply(f,y,T)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(f){const y=[new o.aW(0,f)];if(this._helper._renderWorldCopies){const T=this.screenPointToMercatorCoordinate(new o.P(0,0)),$=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),F=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),W=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),ne=Math.floor(Math.min(T.x,$.x,F.x,W.x)),se=Math.floor(Math.max(T.x,$.x,F.x,W.x)),de=1;for(let ve=ne-de;ve<=se+de;ve++)ve!==0&&y.push(new o.aW(ve,f))}return y}getCameraFrustum(){return Lo.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(f){const y=this.screenPointToLocation(this.centerPoint,f),T=f?f.getElevationForLngLatZoom(y,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(T)}setLocationAtPoint(f,y){const T=o.aK(this.elevation,this.center.lat),$=this.screenPointToMercatorCoordinateAtZ(y,T),F=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,T),W=o.$.fromLngLat(f),ne=new o.$(W.x-($.x-F.x),W.y-($.y-F.y));this.setCenter(ne?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(f,y){return y?this.coordinatePoint(o.$.fromLngLat(f),y.getElevationForLngLatZoom(f,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.$.fromLngLat(f))}screenPointToLocation(f,y){var T;return(T=this.screenPointToMercatorCoordinate(f,y))===null||T===void 0?void 0:T.toLngLat()}screenPointToMercatorCoordinate(f,y){if(y){const T=y.pointCoordinate(f);if(T!=null)return T}return this.screenPointToMercatorCoordinateAtZ(f)}screenPointToMercatorCoordinateAtZ(f,y){const T=y||0,$=[f.x,f.y,0,1],F=[f.x,f.y,1,1];o.ap($,$,this._pixelMatrixInverse),o.ap(F,F,this._pixelMatrixInverse);const W=$[3],ne=F[3],se=$[1]/W,de=F[1]/ne,ve=$[2]/W,Ee=F[2]/ne,Ce=ve===Ee?0:(T-ve)/(Ee-ve);return new o.$(o.B.number($[0]/W,F[0]/ne,Ce)/this.worldSize,o.B.number(se,de,Ce)/this.worldSize,T)}coordinatePoint(f,y=0,T=this._pixelMatrix){const $=[f.x*this.worldSize,f.y*this.worldSize,y,1];return o.ap($,$,T),new o.P($[0]/$[3],$[1]/$[3])}getBounds(){const f=Math.max(0,this._helper._height/2-bo(this));return new We().extend(this.screenPointToLocation(new o.P(0,f))).extend(this.screenPointToLocation(new o.P(this._helper._width,f))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(f,y){return y?y.pointCoordinate(f)!=null:f.y>this.height/2-bo(this)}calculatePosMatrix(f,y=!1,T){var $;const F=($=f.key)!==null&&$!==void 0?$:o.aX(f.wrap,f.canonical.z,f.canonical.z,f.canonical.x,f.canonical.y),W=y?this._alignedPosMatrixCache:this._posMatrixCache;if(W.has(F)){const de=W.get(F);return T?de.f32:de.f64}const ne=Tr(f,this.worldSize);o.N(ne,y?this._alignedProjMatrix:this._viewProjMatrix,ne);const se={f64:ne,f32:new Float32Array(ne)};return W.set(F,se),T?se.f32:se.f64}calculateFogMatrix(f){const y=f.key,T=this._fogMatrixCacheF32;if(T.has(y))return T.get(y);const $=Tr(f,this.worldSize);return o.N($,this._fogMatrix,$),T.set(y,new Float32Array($)),T.get(y)}getConstrained(f,y){y=o.ae(+y,this.minZoom,this.maxZoom);const T={center:new o.Q(f.lng,f.lat),zoom:y};let $=this._helper._lngRange;this._helper._renderWorldCopies||$!==null||($=[-179.9999999999,180-1e-10]);const F=this.tileSize*o.aI(T.zoom);let W=0,ne=F,se=0,de=F,ve=0,Ee=0;const{x:Ce,y:ke}=this.size;if(this._helper._latRange){const bt=this._helper._latRange;W=o.S(bt[1])*F,ne=o.S(bt[0])*F,ne-W<ke&&(ve=ke/(ne-W))}$&&(se=o.aL(o.U($[0])*F,0,F),de=o.aL(o.U($[1])*F,0,F),de<se&&(de+=F),de-se<Ce&&(Ee=Ce/(de-se)));const{x:Be,y:tt}=Ui(F,f);let Je,nt;const pt=Math.max(Ee||0,ve||0);if(pt){const bt=new o.P(Ee?(de+se)/2:Be,ve?(ne+W)/2:tt);return T.center=Fa(F,bt).wrap(),T.zoom+=o.ab(pt),T}if(this._helper._latRange){const bt=ke/2;tt-bt<W&&(nt=W+bt),tt+bt>ne&&(nt=ne-bt)}if($){const bt=(se+de)/2;let wt=Be;this._helper._renderWorldCopies&&(wt=o.aL(Be,bt-F/2,bt+F/2));const Et=Ce/2;wt-Et<se&&(Je=se+Et),wt+Et>de&&(Je=de-Et)}if(Je!==void 0||nt!==void 0){const bt=new o.P(Je??Be,nt??tt);T.center=Fa(F,bt).wrap()}return T}calculateCenterFromCameraLngLatAlt(f,y,T,$){return this._helper.calculateCenterFromCameraLngLatAlt(f,y,T,$)}_calculateNearFarZIfNeeded(f,y,T){if(!this._helper.autoCalculateNearFarZ)return;const $=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),F=f-$*this._helper._pixelPerMeter/Math.cos(y),W=$<0?F:f,ne=Math.PI/2+this.pitchInRadians,se=o.ad(this.fov)*(Math.abs(Math.cos(o.ad(this.roll)))*this.height+Math.abs(Math.sin(o.ad(this.roll)))*this.width)/this.height*(.5+T.y/this.height),de=Math.sin(se)*W/Math.sin(o.ae(Math.PI-ne-se,.01,Math.PI-.01)),ve=bo(this),Ee=Math.atan(ve/this._helper.cameraToCenterDistance),Ce=o.ad(.75),ke=Ee>Ce?2*Ee*(.5+T.y/(2*ve)):Ce,Be=Math.sin(ke)*W/Math.sin(o.ae(Math.PI-ne-ke,.01,Math.PI-.01)),tt=Math.min(de,Be);this._helper._farZ=1.01*(Math.cos(Math.PI/2-y)*tt+W),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const f=this.centerOffset,y=Ui(this.worldSize,this.center),T=y.x,$=y.y;this._helper._pixelPerMeter=o.aK(1,this.center.lat)*this.worldSize;const F=o.ad(Math.min(this.pitch,89.25)),W=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(F));let ne;this._calculateNearFarZIfNeeded(W,F,f),ne=new Float64Array(16),o.aY(ne,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.aj(this._invProjMatrix,ne),ne[8]=2*-f.x/this._helper._width,ne[9]=2*f.y/this._helper._height,this._projectionMatrix=o.aZ(ne),o.M(ne,ne,[1,-1,1]),o.L(ne,ne,[0,0,-this._helper.cameraToCenterDistance]),o.a_(ne,ne,-this.rollInRadians),o.a$(ne,ne,this.pitchInRadians),o.a_(ne,ne,-this.bearingInRadians),o.L(ne,ne,[-T,-$,0]),this._mercatorMatrix=o.M([],ne,[this.worldSize,this.worldSize,this.worldSize]),o.M(ne,ne,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,ne),o.L(ne,ne,[0,0,-this.elevation]),this._viewProjMatrix=ne,this._invViewProjMatrix=o.aj([],ne);const se=[0,0,-1,1];o.ap(se,se,this._invViewProjMatrix),this._cameraPosition=[se[0]/se[3],se[1]/se[3],se[2]/se[3]],this._fogMatrix=new Float64Array(16),o.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,W,this._helper._farZ),this._fogMatrix[8]=2*-f.x/this.width,this._fogMatrix[9]=2*f.y/this.height,o.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.L(this._fogMatrix,this._fogMatrix,[-T,-$,0]),o.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,ne);const de=this._helper._width%2/2,ve=this._helper._height%2/2,Ee=Math.cos(this.bearingInRadians),Ce=Math.sin(-this.bearingInRadians),ke=T-Math.round(T)+Ee*de+Ce*ve,Be=$-Math.round($)+Ee*ve+Ce*de,tt=new Float64Array(ne);if(o.L(tt,tt,[ke>.5?ke-1:ke,Be>.5?Be-1:Be,0]),this._alignedProjMatrix=tt,ne=o.aj(new Float64Array(16),this._pixelMatrix),!ne)throw new Error("failed to invert matrix");this._pixelMatrixInverse=ne,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const f=this.screenPointToMercatorCoordinate(new o.P(0,0)),y=[f.x*this.worldSize,f.y*this.worldSize,0,1];return o.ap(y,y,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const f=o.aK(1,this.center.lat)*this.worldSize;return xr(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/f).toLngLat()}lngLatToCameraDepth(f,y){const T=o.$.fromLngLat(f),$=[T.x*this.worldSize,T.y*this.worldSize,y,1];return o.ap($,$,this._viewProjMatrix),$[2]/$[3]}getProjectionData(f){const{overscaledTileID:y,aligned:T,applyTerrainMatrix:$}=f,F=this._helper.getMercatorTileCoordinates(y),W=y?this.calculatePosMatrix(y,T,!0):null;let ne;return ne=y&&y.terrainRttPosMatrix32f&&$?y.terrainRttPosMatrix32f:W||o.b0(),{mainMatrix:ne,tileMercatorCoords:F,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:ne}}isLocationOccluded(f){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(f,y,T){return 1}transformLightDirection(f){return o.aQ(f)}getRayDirectionFromPixel(f){throw new Error("Not implemented.")}projectTileCoordinates(f,y,T,$){const F=this.calculatePosMatrix(T);let W;$?(W=[f,y,$(f,y),1],o.ap(W,W,F)):(W=[f,y,0,1],Er(W,W,F));const ne=W[3];return{point:new o.P(W[0]/ne,W[1]/ne),signedDistanceFromCamera:ne,isOccluded:!1}}populateCache(f){for(const y of f)this.calculatePosMatrix(y)}getMatrixForModel(f,y){const T=o.$.fromLngLat(f,y),$=T.meterInMercatorCoordinateUnits(),F=o.b1();return o.L(F,F,[T.x,T.y,T.z]),o.a_(F,F,Math.PI),o.a$(F,F,Math.PI/2),o.M(F,F,[-$,$,$]),F}getProjectionDataForCustomLayer(f=!0){const y=new o.Y(0,0,0,0,0),T=this.getProjectionData({overscaledTileID:y,applyGlobeMatrix:f}),$=Tr(y,this.worldSize);o.N($,this._viewProjMatrix,$),T.tileMercatorCoords=[0,0,1,1];const F=[o.Z,o.Z,this.worldSize/this._helper.pixelsPerMeter],W=o.b2();return o.M(W,$,F),T.fallbackMatrix=W,T.mainMatrix=W,T}getFastPathSimpleProjectionMatrix(f){return this.calculatePosMatrix(f)}}function tu(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function $c(z){if(z.useSlerp)if(z.k<1){const f=o.b3(z.startEulerAngles.roll,z.startEulerAngles.pitch,z.startEulerAngles.bearing),y=o.b3(z.endEulerAngles.roll,z.endEulerAngles.pitch,z.endEulerAngles.bearing),T=new Float64Array(4);o.b4(T,f,y,z.k);const $=o.b5(T);z.tr.setRoll($.roll),z.tr.setPitch($.pitch),z.tr.setBearing($.bearing)}else z.tr.setRoll(z.endEulerAngles.roll),z.tr.setPitch(z.endEulerAngles.pitch),z.tr.setBearing(z.endEulerAngles.bearing);else z.tr.setRoll(o.B.number(z.startEulerAngles.roll,z.endEulerAngles.roll,z.k)),z.tr.setPitch(o.B.number(z.startEulerAngles.pitch,z.endEulerAngles.pitch,z.k)),z.tr.setBearing(o.B.number(z.startEulerAngles.bearing,z.endEulerAngles.bearing,z.k))}function kc(z,f,y,T,$){const F=$.padding,W=Ui($.worldSize,y.getNorthWest()),ne=Ui($.worldSize,y.getNorthEast()),se=Ui($.worldSize,y.getSouthEast()),de=Ui($.worldSize,y.getSouthWest()),ve=o.ad(-T),Ee=W.rotate(ve),Ce=ne.rotate(ve),ke=se.rotate(ve),Be=de.rotate(ve),tt=new o.P(Math.max(Ee.x,Ce.x,Be.x,ke.x),Math.max(Ee.y,Ce.y,Be.y,ke.y)),Je=new o.P(Math.min(Ee.x,Ce.x,Be.x,ke.x),Math.min(Ee.y,Ce.y,Be.y,ke.y)),nt=tt.sub(Je),pt=($.width-(F.left+F.right+f.left+f.right))/nt.x,bt=($.height-(F.top+F.bottom+f.top+f.bottom))/nt.y;if(bt<0||pt<0)return void tu();const wt=Math.min(o.ab($.scale*Math.min(pt,bt)),z.maxZoom),Et=o.P.convert(z.offset),Pt=new o.P((f.left-f.right)/2,(f.top-f.bottom)/2).rotate(o.ad(T)),Mt=Et.add(Pt).mult($.scale/o.aI(wt));return{center:Fa($.worldSize,W.add(se).div(2).sub(Mt)),zoom:wt,bearing:T}}class nr{get useGlobeControls(){return!1}handlePanInertia(f,y){return{easingOffset:f,easingCenter:y.center}}handleMapControlsRollPitchBearingZoom(f,y){f.bearingDelta&&y.setBearing(y.bearing+f.bearingDelta),f.pitchDelta&&y.setPitch(y.pitch+f.pitchDelta),f.rollDelta&&y.setRoll(y.roll+f.rollDelta),f.zoomDelta&&y.setZoom(y.zoom+f.zoomDelta)}handleMapControlsPan(f,y,T){f.around.distSqr(y.centerPoint)<.01||y.setLocationAtPoint(T,f.around)}cameraForBoxAndBearing(f,y,T,$,F){return kc(f,y,T,$,F)}handleJumpToCenterZoom(f,y){f.zoom!==(y.zoom!==void 0?+y.zoom:f.zoom)&&f.setZoom(+y.zoom),y.center!==void 0&&f.setCenter(o.Q.convert(y.center))}handleEaseTo(f,y){const T=f.zoom,$=f.padding,F={roll:f.roll,pitch:f.pitch,bearing:f.bearing},W={roll:y.roll===void 0?f.roll:y.roll,pitch:y.pitch===void 0?f.pitch:y.pitch,bearing:y.bearing===void 0?f.bearing:y.bearing},ne=y.zoom!==void 0,se=!f.isPaddingEqual(y.padding);let de=!1;const ve=ne?+y.zoom:f.zoom;let Ee=f.centerPoint.add(y.offsetAsPoint);const Ce=f.screenPointToLocation(Ee),{center:ke,zoom:Be}=f.getConstrained(o.Q.convert(y.center||Ce),ve??T);ka(f,ke);const tt=Ui(f.worldSize,Ce),Je=Ui(f.worldSize,ke).sub(tt),nt=o.aI(Be-T);return de=Be!==T,{easeFunc:pt=>{if(de&&f.setZoom(o.B.number(T,Be,pt)),o.b6(F,W)||$c({startEulerAngles:F,endEulerAngles:W,tr:f,k:pt,useSlerp:F.roll!=W.roll}),se&&(f.interpolatePadding($,y.padding,pt),Ee=f.centerPoint.add(y.offsetAsPoint)),y.around)f.setLocationAtPoint(y.around,y.aroundPoint);else{const bt=o.aI(f.zoom-T),wt=Be>T?Math.min(2,nt):Math.max(.5,nt),Et=Math.pow(wt,1-pt),Pt=Fa(f.worldSize,tt.add(Je.mult(pt*Et)).mult(bt));f.setLocationAtPoint(f.renderWorldCopies?Pt.wrap():Pt,Ee)}},isZooming:de,elevationCenter:ke}}handleFlyTo(f,y){const T=y.zoom!==void 0,$=f.zoom,F=f.getConstrained(o.Q.convert(y.center||y.locationAtOffset),T?+y.zoom:$),W=F.center,ne=F.zoom;ka(f,W);const se=Ui(f.worldSize,y.locationAtOffset),de=Ui(f.worldSize,W).sub(se),ve=de.mag(),Ee=o.aI(ne-$);let Ce;if(y.minZoom!==void 0){const ke=Math.min(+y.minZoom,$,ne),Be=f.getConstrained(W,ke).zoom;Ce=o.aI(Be-$)}return{easeFunc:(ke,Be,tt,Je)=>{f.setZoom(ke===1?ne:$+o.ab(Be));const nt=ke===1?W:Fa(f.worldSize,se.add(de.mult(tt)).mult(Be));f.setLocationAtPoint(f.renderWorldCopies?nt.wrap():nt,Je)},scaleOfZoom:Ee,targetCenter:W,scaleOfMinZoom:Ce,pixelPathLength:ve}}}class fr{constructor(f,y,T){this.blendFunction=f,this.blendColor=y,this.mask=T}}fr.Replace=[1,0],fr.disabled=new fr(fr.Replace,o.b7.transparent,[!1,!1,!1,!1]),fr.unblended=new fr(fr.Replace,o.b7.transparent,[!0,!0,!0,!0]),fr.alphaBlended=new fr([1,771],o.b7.transparent,[!0,!0,!0,!0]);const Gi=2305;class Lr{constructor(f,y,T){this.enable=f,this.mode=y,this.frontFace=T}}Lr.disabled=new Lr(!1,1029,Gi),Lr.backCCW=new Lr(!0,1029,Gi),Lr.frontCCW=new Lr(!0,1028,Gi);class Ir{constructor(f,y,T){this.func=f,this.mask=y,this.range=T}}Ir.ReadOnly=!1,Ir.ReadWrite=!0,Ir.disabled=new Ir(519,Ir.ReadOnly,[0,1]);const dc=7680;class Pi{constructor(f,y,T,$,F,W){this.test=f,this.ref=y,this.mask=T,this.fail=$,this.depthFail=F,this.pass=W}}Pi.disabled=new Pi({func:519,mask:0},0,0,dc,dc,dc);const ra=new WeakMap;function gi(z){var f;if(ra.has(z))return ra.get(z);{const y=(f=z.getParameter(z.VERSION))===null||f===void 0?void 0:f.startsWith("WebGL 2.0");return ra.set(z,y),y}}class vp{get awaitingQuery(){return!!this._readbackQueue}constructor(f){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=f;const y=f.context,T=y.gl;this._texFormat=T.RGBA,this._texType=T.UNSIGNED_BYTE;const $=new o.aF;$.emplaceBack(-1,-1),$.emplaceBack(2,-1),$.emplaceBack(-1,2);const F=new o.aH;F.emplaceBack(0,1,2),this._fullscreenTriangle=new ci(y.createVertexBuffer($,Ci.members),y.createIndexBuffer(F),o.aG.simpleSegment(0,0,$.length,F.length)),this._resultBuffer=new Uint8Array(4),y.activeTexture.set(T.TEXTURE1);const W=T.createTexture();T.bindTexture(T.TEXTURE_2D,W),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,T.NEAREST),T.texImage2D(T.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=y.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(W),gi(T)&&(this._pbo=T.createBuffer(),T.bindBuffer(T.PIXEL_PACK_BUFFER,this._pbo),T.bufferData(T.PIXEL_PACK_BUFFER,4,T.STREAM_READ),T.bindBuffer(T.PIXEL_PACK_BUFFER,null))}destroy(){const f=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),f.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(f,y){const T=this._updateCount;return this._readbackQueue?T>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():T>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(f,y),this._updateCount++,this._measuredError}_bindFramebuffer(){const f=this._cachedRenderContext.context,y=f.gl;f.activeTexture.set(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,this._fbo.colorAttachment.get()),f.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(f,y){const T=this._cachedRenderContext.context,$=T.gl;if(this._bindFramebuffer(),T.viewport.set([0,0,this._texWidth,this._texHeight]),T.clear({color:o.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(T,$.TRIANGLES,Ir.disabled,Pi.disabled,fr.unblended,Lr.disabled,((F,W)=>({u_input:F,u_output_expected:W}))(f,y),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&gi($)){$.bindBuffer($.PIXEL_PACK_BUFFER,this._pbo),$.readBuffer($.COLOR_ATTACHMENT0),$.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),$.bindBuffer($.PIXEL_PACK_BUFFER,null);const F=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);$.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:F}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const f=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&gi(f)){const y=f.clientWaitSync(this._readbackQueue.sync,0,0);if(y===f.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(y===f.TIMEOUT_EXPIRED)return;f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.getBufferSubData(f.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),f.bindBuffer(f.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=vp._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(f){let y=0;return y+=f[0]/256,y+=f[1]/65536,y+=f[2]/16777216,f[3]<127&&(y=-y),y/128}}const al=o.Z/128;function Ju(z,f){const y=z.granularity!==void 0?Math.max(z.granularity,1):1,T=y+(z.generateBorders?2:0),$=y+(z.extendToNorthPole||z.generateBorders?1:0)+(z.extendToSouthPole||z.generateBorders?1:0),F=T+1,W=$+1,ne=z.generateBorders?-1:0,se=z.generateBorders||z.extendToNorthPole?-1:0,de=y+(z.generateBorders?1:0),ve=y+(z.generateBorders||z.extendToSouthPole?1:0),Ee=F*W,Ce=T*$*6,ke=F*W>65536;if(ke&&f==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Be=ke||f==="32bit",tt=new Int16Array(2*Ee);let Je=0;for(let bt=se;bt<=ve;bt++)for(let wt=ne;wt<=de;wt++){let Et=wt/y*o.Z;wt===-1&&(Et=-64),wt===y+1&&(Et=o.Z+al);let Pt=bt/y*o.Z;bt===-1&&(Pt=z.extendToNorthPole?o.b9:-64),bt===y+1&&(Pt=z.extendToSouthPole?o.ba:o.Z+al),tt[Je++]=Et,tt[Je++]=Pt}const nt=Be?new Uint32Array(Ce):new Uint16Array(Ce);let pt=0;for(let bt=0;bt<$;bt++)for(let wt=0;wt<T;wt++){const Et=wt+1+bt*F,Pt=wt+(bt+1)*F,Mt=wt+1+(bt+1)*F;nt[pt++]=wt+bt*F,nt[pt++]=Pt,nt[pt++]=Et,nt[pt++]=Et,nt[pt++]=Pt,nt[pt++]=Mt}return{vertices:tt.buffer.slice(0),indices:nt.buffer.slice(0),uses32bitIndices:Be}}const Pd=new o.aE({fill:new o.bb(128,2),line:new o.bb(512,0),tile:new o.bb(128,32),stencil:new o.bb(128,1),circle:3});class Uf{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Jn.projectionGlobe}get vertexShaderPreludeCode(){return Jn.projectionMercator.vertexSource}get subdivisionGranularity(){return Pd}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(f){this._errorMeasurement||(this._errorMeasurement=new vp(f));const y=o.S(this._errorQueryLatitudeDegrees),T=2*Math.atan(Math.exp(Math.PI-y*Math.PI*2))-.5*Math.PI,$=this._errorMeasurement.updateErrorLoop(y,T),F=h.now();$!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=$,this._errorMeasurementLastChangeTime=F);const W=Math.min(Math.max((F-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bd(W))}_getMeshKey(f){return`${f.granularity.toString(36)}_${f.generateBorders?"b":""}${f.extendToNorthPole?"n":""}${f.extendToSouthPole?"s":""}`}getMeshFromTileID(f,y,T,$,F){const W=(F==="stencil"?Pd.stencil:Pd.tile).getGranularityForZoomLevel(y.z);return this._getMesh(f,{granularity:W,generateBorders:T,extendToNorthPole:y.y===0&&$,extendToSouthPole:y.y===(1<<y.z)-1&&$})}_getMesh(f,y){const T=this._getMeshKey(y);if(T in this._tileMeshCache)return this._tileMeshCache[T];const $=function(F,W){const ne=Ju(W,"16bit"),se=o.aF.deserialize({arrayBuffer:ne.vertices,length:ne.vertices.byteLength/2/2}),de=o.aH.deserialize({arrayBuffer:ne.indices,length:ne.indices.byteLength/2/3});return new ci(F.createVertexBuffer(se,Ci.members),F.createIndexBuffer(de),o.aG.simpleSegment(0,0,se.length,de.length))}(f,y);return this._tileMeshCache[T]=$,$}recalculate(f){}hasTransition(){const f=h.now();let y=!1;return y=y||(f-this._errorMeasurementLastChangeTime)/1e3<.7,y=y||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,y}setErrorQueryLatitudeDegrees(f){this._errorQueryLatitudeDegrees=f}}const Nm=new o.r({type:new o.D(o.v.projection.type)});class Gf extends o.E{constructor(f){super(),this._transitionable=new o.T(Nm),this.setProjection(f),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0)),this._mercatorProjection=new Br,this._verticalPerspectiveProjection=new Uf}get transitionState(){const f=this.properties.get("type");if(typeof f=="string"&&f==="mercator")return 0;if(typeof f=="string"&&f==="vertical-perspective")return 1;if(f instanceof o.be){if(f.from==="vertical-perspective"&&f.to==="mercator")return 1-f.transition;if(f.from==="mercator"&&f.to==="vertical-perspective")return f.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(f){this._mercatorProjection.updateGPUdependent(f),this._verticalPerspectiveProjection.updateGPUdependent(f)}getMeshFromTileID(f,y,T,$,F){return this.currentProjection.getMeshFromTileID(f,y,T,$,F)}setProjection(f){this._transitionable.setValue("type",f?.type||"mercator")}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}setErrorQueryLatitudeDegrees(f){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(f),this._mercatorProjection.setErrorQueryLatitudeDegrees(f)}}function Dm(z){const f=Cu(z.worldSize,z.center.lat);return 2*Math.PI*f}function fo(z,f,y,T,$){const F=1/(1<<$),W=f/o.Z*F+T*F,ne=o.bg((z/o.Z*F+y*F)*Math.PI*2+Math.PI,2*Math.PI),se=2*Math.atan(Math.exp(Math.PI-W*Math.PI*2))-.5*Math.PI,de=Math.cos(se),ve=new Float64Array(3);return ve[0]=Math.sin(ne)*de,ve[1]=Math.sin(se),ve[2]=Math.cos(ne)*de,ve}function vs(z){return function(f,y){const T=Math.cos(y),$=new Float64Array(3);return $[0]=Math.sin(f)*T,$[1]=Math.sin(y),$[2]=Math.cos(f)*T,$}(z.lng*Math.PI/180,z.lat*Math.PI/180)}function Cu(z,f){return z/(2*Math.PI)/Math.cos(f*Math.PI/180)}function _0(z){const f=Math.asin(z[1])/Math.PI*180,y=Math.sqrt(z[0]*z[0]+z[2]*z[2]);if(y>1e-6){const T=z[0]/y,$=Math.acos(z[2]/y),F=(T>0?$:-$)/Math.PI*180;return new o.Q(o.aL(F,-180,180),f)}return new o.Q(0,f)}function ol(z){return Math.cos(z*Math.PI/180)}function Na(z,f){const y=ol(z),T=ol(f);return o.ab(T/y)}function hc(z,f){const y=z.rotate(f.bearingInRadians),T=f.zoom+Na(f.center.lat,0),$=o.bc(1/ol(f.center.lat),1/ol(Math.min(Math.abs(f.center.lat),60)),o.bf(T,7,3,0,1)),F=360/Dm({worldSize:f.worldSize,center:{lat:f.center.lat}});return new o.Q(f.center.lng-y.x*F*$,o.ae(f.center.lat+y.y*F,-85.051129,o.aJ))}function yh(z){const f=.5*z,y=Math.sin(f),T=Math.cos(f);return Math.log(y+T)-Math.log(T-y)}function zm(z,f,y,T){const $=z.lat+y*T;if(Math.abs(y)>1){const F=(Math.sign(z.lat+y)!==Math.sign(z.lat)?-Math.abs(z.lat):Math.abs(z.lat))*Math.PI/180,W=Math.abs(z.lat+y)*Math.PI/180,ne=yh(F+T*(W-F)),se=yh(F),de=yh(W);return new o.Q(z.lng+f*((ne-se)/(de-se)),$)}return new o.Q(z.lng+f*T,$)}class x0{constructor(f){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=f}recalculateCache(){if(!this._hadAnyChanges)return;const f=this._cachePrevious;this._cachePrevious=this._cache,this._cache=f,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(f,y,T,$){const F=`${f.z}_${f.x}_${f.y}`,W=this._cache.get(F);if(W)return W;const ne=this._cachePrevious.get(F);if(ne)return this._cache.set(F,ne),ne;const se=this._aabbFactory(f,y,T,$);return this._cache.set(F,se),this._hadAnyChanges=!0,se}}function ef(z,f,y){const T=z-f;return T<0?-T:Math.max(0,T-y)}function Bm(z,f,y,T,$){const F=z-y;let W;return W=F<0?Math.min(-F,1+F-$):F>1?Math.min(Math.max(F-$,0),1-F):0,Math.max(W,ef(f,T,$))}class pc{constructor(){this._aabbCache=new x0(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(f,y,T,$){const F=1<<T.z,W=1/F,ne=T.x/F,se=T.y/F;let de=2;return de=Math.min(de,Bm(f,y,ne,se,W)),de=Math.min(de,Bm(f,y,ne+.5,-se-W,W)),de=Math.min(de,Bm(f,y,ne+.5,2-se-W,W)),de}getWrap(f,y,T){const $=1<<y.z,F=1/$,W=y.x/$,ne=ef(f.x,W,F),se=ef(f.x,W-1,F),de=ef(f.x,W+1,F),ve=Math.min(ne,se,de);return ve===de?1:ve===se?-1:0}allowVariableZoom(f,y){return Gt(f,y)>4}allowWorldCopies(){return!1}getTileAABB(f,y,T,$){return this._aabbCache.getTileAABB(f,y,T,$)}_computeTileAABB(f,y,T,$){if(f.z<=0)return new Ki([-1,-1,-1],[1,1,1]);if(f.z===1)return new Ki([f.x===0?-1:0,f.y===0?0:-1,-1],[f.x===0?0:1,f.y===0?1:0,1]);{const F=[fo(0,0,f.x,f.y,f.z),fo(o.Z,0,f.x,f.y,f.z),fo(o.Z,o.Z,f.x,f.y,f.z),fo(0,o.Z,f.x,f.y,f.z)],W=[1,1,1],ne=[-1,-1,-1];for(const se of F)for(let de=0;de<3;de++)W[de]=Math.min(W[de],se[de]),ne[de]=Math.max(ne[de],se[de]);if(f.y===0||f.y===(1<<f.z)-1){const se=[0,f.y===0?1:-1,0];for(let de=0;de<3;de++)W[de]=Math.min(W[de],se[de]),ne[de]=Math.max(ne[de],se[de])}return new Ki(W,ne)}}}class jm{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(f){this._helper.setMinZoom(f)}setMaxZoom(f){this._helper.setMaxZoom(f)}setMinPitch(f){this._helper.setMinPitch(f)}setMaxPitch(f){this._helper.setMaxPitch(f)}setRenderWorldCopies(f){this._helper.setRenderWorldCopies(f)}setBearing(f){this._helper.setBearing(f)}setPitch(f){this._helper.setPitch(f)}setRoll(f){this._helper.setRoll(f)}setFov(f){this._helper.setFov(f)}setZoom(f){this._helper.setZoom(f)}setCenter(f){this._helper.setCenter(f)}setElevation(f){this._helper.setElevation(f)}setMinElevationForCurrentTile(f){this._helper.setMinElevationForCurrentTile(f)}setPadding(f){this._helper.setPadding(f)}interpolatePadding(f,y,T){return this._helper.interpolatePadding(f,y,T)}isPaddingEqual(f){return this._helper.isPaddingEqual(f)}resize(f,y){this._helper.resize(f,y)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(f){this._helper.setMaxBounds(f)}overrideNearFarZ(f,y){this._helper.overrideNearFarZ(f,y)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(f){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),f)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(f){}constructor(){this._cachedClippingPlane=o.bh(),this._projectionMatrix=o.b1(),this._globeViewProjMatrix32f=o.b0(),this._globeViewProjMatrixNoCorrection=o.b1(),this._globeViewProjMatrixNoCorrectionInverted=o.b1(),this._globeProjMatrixInverted=o.b1(),this._cameraPosition=o.bi(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new La({calcMatrices:()=>{this._calcMatrices()},getConstrained:(f,y)=>this.getConstrained(f,y)}),this._coveringTilesDetailsProvider=new pc}clone(){const f=new jm;return f.apply(this),f}apply(f,y){this._globeLatitudeErrorCorrectionRadians=y||0,this._helper.apply(f)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const f=o.bi();return f[0]=this._cameraPosition[0],f[1]=this._cameraPosition[1],f[2]=this._cameraPosition[2],f}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(f){const{overscaledTileID:y,applyGlobeMatrix:T}=f,$=this._helper.getMercatorTileCoordinates(y);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:$,clippingPlane:this._cachedClippingPlane,projectionTransition:T?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(f){const y=this.pitchInRadians,T=this.cameraToCenterDistance/f,$=Math.sin(y)*T,F=Math.cos(y)*T+1,W=1/Math.sqrt($*$+F*F)*1;let ne=-$,se=F;const de=Math.sqrt(ne*ne+se*se);ne/=de,se/=de;const ve=[0,ne,se];return o.bj(ve,ve,[0,0,0],-this.bearingInRadians),o.bk(ve,ve,[0,0,0],-1*this.center.lat*Math.PI/180),o.bl(ve,ve,[0,0,0],this.center.lng*Math.PI/180),o.aO(ve,ve,.25),[...ve,.25*-W]}isLocationOccluded(f){return!this.isSurfacePointVisible(vs(f))}transformLightDirection(f){const y=this._helper._center.lng*Math.PI/180,T=this._helper._center.lat*Math.PI/180,$=Math.cos(T),F=[Math.sin(y)*$,Math.sin(T),Math.cos(y)*$],W=[F[2],0,-F[0]],ne=[0,0,0];o.aU(ne,W,F),o.aT(W,W),o.aT(ne,ne);const se=[0,0,0];return o.aT(se,[W[0]*f[0]+ne[0]*f[1]+F[0]*f[2],W[1]*f[0]+ne[1]*f[1]+F[1]*f[2],W[2]*f[0]+ne[2]*f[1]+F[2]*f[2]]),se}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(f,y,T){const $=function(ne,se,de){const ve=1/(1<<de.z);return new o.$(ne/o.Z*ve+de.x*ve,se/o.Z*ve+de.y*ve)}(f,y,T.canonical),F=(W=$.y,[o.bg($.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-W*Math.PI*2))-.5*Math.PI]);var W;return this.getCircleRadiusCorrection()/Math.cos(F[1])}projectTileCoordinates(f,y,T,$){const F=T.canonical,W=fo(f,y,F.x,F.y,F.z),ne=1+($?$(f,y):0)/o.br,se=[W[0]*ne,W[1]*ne,W[2]*ne,1];o.ap(se,se,this._globeViewProjMatrixNoCorrection);const de=this._cachedClippingPlane,ve=de[0]*W[0]+de[1]*W[1]+de[2]*W[2]+de[3]<0;return{point:new o.P(se[0]/se[3],se[1]/se[3]),signedDistanceFromCamera:se[3],isOccluded:ve}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const f=Cu(this.worldSize,this.center.lat),y=o.b2(),T=o.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*f),o.aY(y,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const $=this.centerOffset;y[8]=2*-$.x/this._helper._width,y[9]=2*$.y/this._helper._height,this._projectionMatrix=o.aZ(y),this._globeProjMatrixInverted=o.b2(),o.aj(this._globeProjMatrixInverted,y),o.L(y,y,[0,0,-this.cameraToCenterDistance]),o.a_(y,y,this.rollInRadians),o.a$(y,y,-this.pitchInRadians),o.a_(y,y,this.bearingInRadians),o.L(y,y,[0,0,-f]);const F=o.bi();F[0]=f,F[1]=f,F[2]=f,o.a$(T,y,this.center.lat*Math.PI/180),o.bm(T,T,-this.center.lng*Math.PI/180),o.M(T,T,F),this._globeViewProjMatrixNoCorrection=T,o.a$(y,y,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bm(y,y,-this.center.lng*Math.PI/180),o.M(y,y,F),this._globeViewProjMatrix32f=new Float32Array(y),this._globeViewProjMatrixNoCorrectionInverted=o.b2(),o.aj(this._globeViewProjMatrixNoCorrectionInverted,T);const W=o.bi();this._cameraPosition=o.bi(),this._cameraPosition[2]=this.cameraToCenterDistance/f,o.bj(this._cameraPosition,this._cameraPosition,W,-this.rollInRadians),o.bk(this._cameraPosition,this._cameraPosition,W,this.pitchInRadians),o.bj(this._cameraPosition,this._cameraPosition,W,-this.bearingInRadians),o.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bk(this._cameraPosition,this._cameraPosition,W,-this.center.lat*Math.PI/180),o.bl(this._cameraPosition,this._cameraPosition,W,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(f);const ne=o.aZ(this._globeViewProjMatrixNoCorrectionInverted);o.M(ne,ne,[1,1,-1]),this._cachedFrustum=Lo.fromInvProjectionMatrix(ne)}calculateFogMatrix(f){o.w("calculateFogMatrix is not supported on globe projection.");const y=o.b2();return o.at(y),y}getVisibleUnwrappedCoordinates(f){return[new o.aW(0,f)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(f){f&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(f,y){if(!this._globeViewProjMatrixNoCorrection)return 1;const T=vs(f);o.aO(T,T,1+y/o.br);const $=o.bh();return o.ap($,[T[0],T[1],T[2],1],this._globeViewProjMatrixNoCorrection),$[2]/$[3]}populateCache(f){}getBounds(){const f=.5*this.width,y=.5*this.height,T=[new o.P(0,0),new o.P(f,0),new o.P(this.width,0),new o.P(this.width,y),new o.P(this.width,this.height),new o.P(f,this.height),new o.P(0,this.height),new o.P(0,y)],$=[];for(const Ee of T)$.push(this.unprojectScreenPoint(Ee));let F=0,W=0,ne=0,se=0;const de=this.center;for(const Ee of $){const Ce=o.bn(de.lng,Ee.lng),ke=o.bn(de.lat,Ee.lat);Ce<W&&(W=Ce),Ce>F&&(F=Ce),ke<se&&(se=ke),ke>ne&&(ne=ke)}const ve=[de.lng+W,de.lat+se,de.lng+F,de.lat+ne];return this.isSurfacePointOnScreen([0,1,0])&&(ve[3]=90,ve[0]=-180,ve[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(ve[1]=-90,ve[0]=-180,ve[2]=180),new We(ve)}getConstrained(f,y){const T=o.ae(f.lat,-85.051129,o.aJ),$=o.ae(+y,this.minZoom+Na(0,T),this.maxZoom);return{center:new o.Q(f.lng,T),zoom:$}}calculateCenterFromCameraLngLatAlt(f,y,T,$){return this._helper.calculateCenterFromCameraLngLatAlt(f,y,T,$)}setLocationAtPoint(f,y){const T=vs(this.unprojectScreenPoint(y)),$=vs(f),F=o.bi();o.bo(F);const W=o.bi();o.bl(W,T,F,-this.center.lng*Math.PI/180),o.bk(W,W,F,this.center.lat*Math.PI/180);const ne=$[0]*$[0]+$[2]*$[2],se=W[0]*W[0];if(ne<se)return;const de=Math.sqrt(ne-se),ve=-de,Ee=o.bp($[0],$[2],W[0],de),Ce=o.bp($[0],$[2],W[0],ve),ke=o.bi();o.bl(ke,$,F,-Ee);const Be=o.bp(ke[1],ke[2],W[1],W[2]),tt=o.bi();o.bl(tt,$,F,-Ce);const Je=o.bp(tt[1],tt[2],W[1],W[2]),nt=.5*Math.PI,pt=Be>=-nt&&Be<=nt,bt=Je>=-nt&&Je<=nt;let wt,Et;if(pt&&bt){const Xt=this.center.lng*Math.PI/180,bn=this.center.lat*Math.PI/180;o.bs(Ee,Xt)+o.bs(Be,bn)<o.bs(Ce,Xt)+o.bs(Je,bn)?(wt=Ee,Et=Be):(wt=Ce,Et=Je)}else if(pt)wt=Ee,Et=Be;else{if(!bt)return;wt=Ce,Et=Je}const Pt=wt/Math.PI*180,Mt=Et/Math.PI*180,en=this.center.lat;this.setCenter(new o.Q(Pt,o.ae(Mt,-90,90))),this.setZoom(this.zoom+Na(en,this.center.lat))}locationToScreenPoint(f,y){const T=vs(f);if(y){const $=y.getElevationForLngLatZoom(f,this._helper._tileZoom);o.aO(T,T,1+$/o.br)}return this._projectSurfacePointToScreen(T)}_projectSurfacePointToScreen(f){const y=o.bh();return o.ap(y,[...f,1],this._globeViewProjMatrixNoCorrection),y[0]/=y[3],y[1]/=y[3],new o.P((.5*y[0]+.5)*this.width,(.5*-y[1]+.5)*this.height)}screenPointToMercatorCoordinate(f,y){if(y){const T=y.pointCoordinate(f);if(T)return T}return o.$.fromLngLat(this.unprojectScreenPoint(f))}screenPointToLocation(f,y){var T;return(T=this.screenPointToMercatorCoordinate(f,y))===null||T===void 0?void 0:T.toLngLat()}isPointOnMapSurface(f,y){const T=this._cameraPosition,$=this.getRayDirectionFromPixel(f);return!!this.rayPlanetIntersection(T,$)}getRayDirectionFromPixel(f){const y=o.bh();y[0]=f.x/this.width*2-1,y[1]=-1*(f.y/this.height*2-1),y[2]=1,y[3]=1,o.ap(y,y,this._globeViewProjMatrixNoCorrectionInverted),y[0]/=y[3],y[1]/=y[3],y[2]/=y[3];const T=o.bi();T[0]=y[0]-this._cameraPosition[0],T[1]=y[1]-this._cameraPosition[1],T[2]=y[2]-this._cameraPosition[2];const $=o.bi();return o.aT($,T),$}isSurfacePointVisible(f){const y=this._cachedClippingPlane;return y[0]*f[0]+y[1]*f[1]+y[2]*f[2]+y[3]>=0}isSurfacePointOnScreen(f){if(!this.isSurfacePointVisible(f))return!1;const y=o.bh();return o.ap(y,[...f,1],this._globeViewProjMatrixNoCorrection),y[0]/=y[3],y[1]/=y[3],y[2]/=y[3],y[0]>-1&&y[0]<1&&y[1]>-1&&y[1]<1&&y[2]>-1&&y[2]<1}rayPlanetIntersection(f,y){const T=o.aV(f,y),$=o.bi(),F=o.bi();o.aO(F,y,T),o.aS($,f,F);const W=1-o.aV($,$);if(W<0)return null;const ne=o.aV(f,f)-1,se=-T+(T<0?1:-1)*Math.sqrt(W),de=ne/se,ve=se;return{tMin:Math.min(de,ve),tMax:Math.max(de,ve)}}unprojectScreenPoint(f){const y=this._cameraPosition,T=this.getRayDirectionFromPixel(f),$=this.rayPlanetIntersection(y,T);if($){const de=o.bi();o.aP(de,y,[T[0]*$.tMin,T[1]*$.tMin,T[2]*$.tMin]);const ve=o.bi();return o.aT(ve,de),_0(ve)}const F=this._cachedClippingPlane[0]*T[0]+this._cachedClippingPlane[1]*T[1]+this._cachedClippingPlane[2]*T[2],W=-o.bq(this._cachedClippingPlane,y)/F,ne=o.bi();if(W>0)o.aP(ne,y,[T[0]*W,T[1]*W,T[2]*W]);else{const de=o.bi();o.aP(de,y,[2*T[0],2*T[1],2*T[2]]);const ve=o.bq(this._cachedClippingPlane,de);o.aS(ne,de,[this._cachedClippingPlane[0]*ve,this._cachedClippingPlane[1]*ve,this._cachedClippingPlane[2]*ve])}const se=o.bi();return o.aT(se,ne),_0(se)}getMatrixForModel(f,y){const T=o.Q.convert(f),$=1/o.br,F=o.b1();return o.bm(F,F,T.lng/180*Math.PI),o.a$(F,F,-T.lat/180*Math.PI),o.L(F,F,[0,0,1+y/o.br]),o.a$(F,F,.5*Math.PI),o.M(F,F,[$,$,$]),F}getProjectionDataForCustomLayer(f=!0){const y=this.getProjectionData({overscaledTileID:new o.Y(0,0,0,0,0),applyGlobeMatrix:f});return y.tileMercatorCoords=[0,0,1,1],y}getFastPathSimpleProjectionMatrix(f){}}class Wl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(f){this._helper.setMinZoom(f)}setMaxZoom(f){this._helper.setMaxZoom(f)}setMinPitch(f){this._helper.setMinPitch(f)}setMaxPitch(f){this._helper.setMaxPitch(f)}setRenderWorldCopies(f){this._helper.setRenderWorldCopies(f)}setBearing(f){this._helper.setBearing(f)}setPitch(f){this._helper.setPitch(f)}setRoll(f){this._helper.setRoll(f)}setFov(f){this._helper.setFov(f)}setZoom(f){this._helper.setZoom(f)}setCenter(f){this._helper.setCenter(f)}setElevation(f){this._helper.setElevation(f)}setMinElevationForCurrentTile(f){this._helper.setMinElevationForCurrentTile(f)}setPadding(f){this._helper.setPadding(f)}interpolatePadding(f,y,T){return this._helper.interpolatePadding(f,y,T)}isPaddingEqual(f){return this._helper.isPaddingEqual(f)}resize(f,y,T=!0){this._helper.resize(f,y,T)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(f){this._helper.setMaxBounds(f)}overrideNearFarZ(f,y){this._helper.overrideNearFarZ(f,y)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(f){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),f)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(f,y){this._globeness=f,this._globeLatitudeErrorCorrectionRadians=y,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new La({calcMatrices:()=>{this._calcMatrices()},getConstrained:(f,y)=>this.getConstrained(f,y)}),this._globeness=1,this._mercatorTransform=new na,this._verticalPerspectiveTransform=new jm}clone(){const f=new Wl;return f._globeness=this._globeness,f._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,f.apply(this),f}apply(f){this._helper.apply(f),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(f){const y=this._mercatorTransform.getProjectionData(f),T=this._verticalPerspectiveTransform.getProjectionData(f);return{mainMatrix:this.isGlobeRendering?T.mainMatrix:y.mainMatrix,clippingPlane:T.clippingPlane,tileMercatorCoords:T.tileMercatorCoords,projectionTransition:f.applyGlobeMatrix?this._globeness:0,fallbackMatrix:y.fallbackMatrix}}isLocationOccluded(f){return this.currentTransform.isLocationOccluded(f)}transformLightDirection(f){return this.currentTransform.transformLightDirection(f)}getPixelScale(){return o.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(f,y,T){const $=this._mercatorTransform.getPitchedTextCorrection(f,y,T),F=this._verticalPerspectiveTransform.getPitchedTextCorrection(f,y,T);return o.bc($,F,this._globeness)}projectTileCoordinates(f,y,T,$){return this.currentTransform.projectTileCoordinates(f,y,T,$)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(f){return this.currentTransform.calculateFogMatrix(f)}getVisibleUnwrappedCoordinates(f){return this.currentTransform.getVisibleUnwrappedCoordinates(f)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(f){this._mercatorTransform.recalculateZoomAndCenter(f),this._verticalPerspectiveTransform.recalculateZoomAndCenter(f)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(f,y){return this.currentTransform.lngLatToCameraDepth(f,y)}populateCache(f){this._mercatorTransform.populateCache(f),this._verticalPerspectiveTransform.populateCache(f)}getBounds(){return this.currentTransform.getBounds()}getConstrained(f,y){return this.currentTransform.getConstrained(f,y)}calculateCenterFromCameraLngLatAlt(f,y,T,$){return this._helper.calculateCenterFromCameraLngLatAlt(f,y,T,$)}setLocationAtPoint(f,y){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(f,y),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(f,y),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(f,y){return this.currentTransform.locationToScreenPoint(f,y)}screenPointToMercatorCoordinate(f,y){return this.currentTransform.screenPointToMercatorCoordinate(f,y)}screenPointToLocation(f,y){return this.currentTransform.screenPointToLocation(f,y)}isPointOnMapSurface(f,y){return this.currentTransform.isPointOnMapSurface(f,y)}getRayDirectionFromPixel(f){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(f)}getMatrixForModel(f,y){return this.currentTransform.getMatrixForModel(f,y)}getProjectionDataForCustomLayer(f=!0){const y=this._mercatorTransform.getProjectionDataForCustomLayer(f);if(!this.isGlobeRendering)return y;const T=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(f);return T.fallbackMatrix=y.mainMatrix,T}getFastPathSimpleProjectionMatrix(f){return this.currentTransform.getFastPathSimpleProjectionMatrix(f)}}class Eu{get useGlobeControls(){return!0}handlePanInertia(f,y){const T=hc(f,y);return Math.abs(T.lng-y.center.lng)>180&&(T.lng=y.center.lng+179.5*Math.sign(T.lng-y.center.lng)),{easingCenter:T,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(f,y){const T=f.around,$=y.screenPointToLocation(T);f.bearingDelta&&y.setBearing(y.bearing+f.bearingDelta),f.pitchDelta&&y.setPitch(y.pitch+f.pitchDelta),f.rollDelta&&y.setRoll(y.roll+f.rollDelta);const F=y.zoom;f.zoomDelta&&y.setZoom(y.zoom+f.zoomDelta);const W=y.zoom-F;if(W===0)return;const ne=o.bn(y.center.lng,$.lng),se=ne/(Math.abs(ne/180)+1),de=o.bn(y.center.lat,$.lat),ve=y.getRayDirectionFromPixel(T),Ee=y.cameraPosition,Ce=-1*o.aV(Ee,ve),ke=o.bi();o.aP(ke,Ee,[ve[0]*Ce,ve[1]*Ce,ve[2]*Ce]);const Be=o.bt(ke)-1,tt=Math.exp(.5*-Math.max(Be-.3,0)),Je=Cu(y.worldSize,y.center.lat)/Math.min(y.width,y.height),nt=o.bf(Je,.9,.5,1,.25),pt=(1-o.aI(-W))*Math.min(tt,nt),bt=y.center.lat,wt=y.zoom,Et=new o.Q(y.center.lng+se*pt,o.ae(y.center.lat+de*pt,-85.051129,o.aJ));y.setLocationAtPoint($,T);const Pt=y.center,Mt=o.bf(Math.abs(ne),45,85,0,1),en=o.bf(Je,.75,.35,0,1),Xt=Math.pow(Math.max(Mt,en),.25),bn=o.bn(Pt.lng,Et.lng),wn=o.bn(Pt.lat,Et.lat);y.setCenter(new o.Q(Pt.lng+bn*Xt,Pt.lat+wn*Xt).wrap()),y.setZoom(wt+Na(bt,y.center.lat))}handleMapControlsPan(f,y,T){if(!f.panDelta)return;const $=y.center.lat,F=y.zoom;y.setCenter(hc(f.panDelta,y).wrap()),y.setZoom(F+Na($,y.center.lat))}cameraForBoxAndBearing(f,y,T,$,F){const W=kc(f,y,T,$,F),ne=y.left/F.width*2-1,se=(F.width-y.right)/F.width*2-1,de=y.top/F.height*-2+1,ve=(F.height-y.bottom)/F.height*-2+1,Ee=o.bn(T.getWest(),T.getEast())<0,Ce=Ee?T.getEast():T.getWest(),ke=Ee?T.getWest():T.getEast(),Be=Math.max(T.getNorth(),T.getSouth()),tt=Math.min(T.getNorth(),T.getSouth()),Je=Ce+.5*o.bn(Ce,ke),nt=Be+.5*o.bn(Be,tt),pt=F.clone();pt.setCenter(W.center),pt.setBearing(W.bearing),pt.setPitch(0),pt.setRoll(0),pt.setZoom(W.zoom);const bt=pt.modelViewProjectionMatrix,wt=[vs(T.getNorthWest()),vs(T.getNorthEast()),vs(T.getSouthWest()),vs(T.getSouthEast()),vs(new o.Q(ke,nt)),vs(new o.Q(Ce,nt)),vs(new o.Q(Je,Be)),vs(new o.Q(Je,tt))],Et=vs(W.center);let Pt=Number.POSITIVE_INFINITY;for(const Mt of wt)ne<0&&(Pt=Eu.getLesserNonNegativeNonNull(Pt,Eu.solveVectorScale(Mt,Et,bt,"x",ne))),se>0&&(Pt=Eu.getLesserNonNegativeNonNull(Pt,Eu.solveVectorScale(Mt,Et,bt,"x",se))),de>0&&(Pt=Eu.getLesserNonNegativeNonNull(Pt,Eu.solveVectorScale(Mt,Et,bt,"y",de))),ve<0&&(Pt=Eu.getLesserNonNegativeNonNull(Pt,Eu.solveVectorScale(Mt,Et,bt,"y",ve)));if(Number.isFinite(Pt)&&Pt!==0)return W.zoom=pt.zoom+o.ab(Pt),W;tu()}handleJumpToCenterZoom(f,y){const T=f.center.lat,$=f.getConstrained(y.center?o.Q.convert(y.center):f.center,f.zoom).center;f.setCenter($.wrap());const F=y.zoom!==void 0?+y.zoom:f.zoom+Na(T,$.lat);f.zoom!==F&&f.setZoom(F)}handleEaseTo(f,y){const T=f.zoom,$=f.center,F=f.padding,W={roll:f.roll,pitch:f.pitch,bearing:f.bearing},ne={roll:y.roll===void 0?f.roll:y.roll,pitch:y.pitch===void 0?f.pitch:y.pitch,bearing:y.bearing===void 0?f.bearing:y.bearing},se=y.zoom!==void 0,de=!f.isPaddingEqual(y.padding);let ve=!1;const Ee=y.center?o.Q.convert(y.center):$,Ce=f.getConstrained(Ee,T).center;ka(f,Ce);const ke=f.clone();ke.setCenter(Ce),ke.setZoom(se?+y.zoom:T+Na($.lat,Ee.lat)),ke.setBearing(y.bearing);const Be=new o.P(o.ae(f.centerPoint.x+y.offsetAsPoint.x,0,f.width),o.ae(f.centerPoint.y+y.offsetAsPoint.y,0,f.height));ke.setLocationAtPoint(Ce,Be);const tt=(y.offset&&y.offsetAsPoint.mag())>0?ke.center:Ce,Je=se?+y.zoom:T+Na($.lat,tt.lat),nt=T+Na($.lat,0),pt=Je+Na(tt.lat,0),bt=o.bn($.lng,tt.lng),wt=o.bn($.lat,tt.lat),Et=o.aI(pt-nt);return ve=Je!==T,{easeFunc:Pt=>{if(o.b6(W,ne)||$c({startEulerAngles:W,endEulerAngles:ne,tr:f,k:Pt,useSlerp:W.roll!=ne.roll}),de&&f.interpolatePadding(F,y.padding,Pt),y.around)o.w("Easing around a point is not supported under globe projection."),f.setLocationAtPoint(y.around,y.aroundPoint);else{const Mt=pt>nt?Math.min(2,Et):Math.max(.5,Et),en=Math.pow(Mt,1-Pt),Xt=zm($,bt,wt,Pt*en);f.setCenter(Xt.wrap())}if(ve){const Mt=o.B.number(nt,pt,Pt)+Na(0,f.center.lat);f.setZoom(Mt)}},isZooming:ve,elevationCenter:tt}}handleFlyTo(f,y){const T=y.zoom!==void 0,$=f.center,F=f.zoom,W=f.padding,ne=!f.isPaddingEqual(y.padding),se=f.getConstrained(o.Q.convert(y.center||y.locationAtOffset),F).center,de=T?+y.zoom:f.zoom+Na(f.center.lat,se.lat),ve=f.clone();ve.setCenter(se),ve.setZoom(de),ve.setBearing(y.bearing);const Ee=new o.P(o.ae(f.centerPoint.x+y.offsetAsPoint.x,0,f.width),o.ae(f.centerPoint.y+y.offsetAsPoint.y,0,f.height));ve.setLocationAtPoint(se,Ee);const Ce=ve.center;ka(f,Ce);const ke=function(wt,Et,Pt){const Mt=vs(Et),en=vs(Pt),Xt=o.aV(Mt,en),bn=Math.acos(Xt),wn=Dm(wt);return bn/(2*Math.PI)*wn}(f,$,Ce),Be=F+Na($.lat,0),tt=de+Na(Ce.lat,0),Je=o.aI(tt-Be);let nt;if(typeof y.minZoom=="number"){const wt=+y.minZoom+Na(Ce.lat,0),Et=Math.min(wt,Be,tt)+Na(0,Ce.lat),Pt=f.getConstrained(Ce,Et).zoom+Na(Ce.lat,0);nt=o.aI(Pt-Be)}const pt=o.bn($.lng,Ce.lng),bt=o.bn($.lat,Ce.lat);return{easeFunc:(wt,Et,Pt,Mt)=>{const en=zm($,pt,bt,Pt);ne&&f.interpolatePadding(W,y.padding,wt);const Xt=wt===1?Ce:en;f.setCenter(Xt.wrap());const bn=Be+o.ab(Et);f.setZoom(wt===1?de:bn+Na(0,Xt.lat))},scaleOfZoom:Je,targetCenter:Ce,scaleOfMinZoom:nt,pixelPathLength:ke}}static solveVectorScale(f,y,T,$,F){const W=$==="x"?[T[0],T[4],T[8],T[12]]:[T[1],T[5],T[9],T[13]],ne=[T[3],T[7],T[11],T[15]],se=f[0]*W[0]+f[1]*W[1]+f[2]*W[2],de=f[0]*ne[0]+f[1]*ne[1]+f[2]*ne[2],ve=y[0]*W[0]+y[1]*W[1]+y[2]*W[2],Ee=y[0]*ne[0]+y[1]*ne[1]+y[2]*ne[2];return ve+F*de===se+F*Ee||ne[3]*(se-ve)+W[3]*(Ee-de)+se*Ee==ve*de?null:(ve+W[3]-F*Ee-F*ne[3])/(ve-se-F*Ee+F*de)}static getLesserNonNegativeNonNull(f,y){return y!==null&&y>=0&&y<f?y:f}}class w0{constructor(f){this._globe=f,this._mercatorCameraHelper=new nr,this._verticalPerspectiveCameraHelper=new Eu}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(f,y){return this.currentHelper.handlePanInertia(f,y)}handleMapControlsRollPitchBearingZoom(f,y){return this.currentHelper.handleMapControlsRollPitchBearingZoom(f,y)}handleMapControlsPan(f,y,T){this.currentHelper.handleMapControlsPan(f,y,T)}cameraForBoxAndBearing(f,y,T,$,F){return this.currentHelper.cameraForBoxAndBearing(f,y,T,$,F)}handleJumpToCenterZoom(f,y){this.currentHelper.handleJumpToCenterZoom(f,y)}handleEaseTo(f,y){return this.currentHelper.handleEaseTo(f,y)}handleFlyTo(f,y){return this.currentHelper.handleFlyTo(f,y)}}const Dl=(z,f)=>o.x(z,f&&f.filter(y=>y.identifier!=="source.canvas")),yp=o.bu();class Rd extends o.E{constructor(f,y={}){super(),this._rtlPluginLoaded=()=>{for(const T in this.sourceCaches){const $=this.sourceCaches[T].getSource().type;$!=="vector"&&$!=="geojson"||this.sourceCaches[T].reload()}},this.map=f,this.dispatcher=new Fe(je(),f._getMapId()),this.dispatcher.registerMessageHandler("GG",(T,$)=>this.getGlyphs(T,$)),this.dispatcher.registerMessageHandler("GI",(T,$)=>this.getImages(T,$)),this.imageManager=new q,this.imageManager.setEventedParent(this),this.glyphManager=new te(f._requestManager,y.localIdeographFontFamily),this.lineAtlas=new le(256,512),this.crossTileSymbolIndex=new ai,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bv,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.bw()),kn().on(hn,this._rtlPluginLoaded),this.on("data",T=>{if(T.dataType!=="source"||T.sourceDataType!=="metadata")return;const $=this.sourceCaches[T.sourceId];if(!$)return;const F=$.getSource();if(F&&F.vectorLayerIds)for(const W in this._layers){const ne=this._layers[W];ne.source===F.id&&this._validateLayer(ne)}})}loadURL(f,y={},T){this.fire(new o.l("dataloading",{dataType:"style"})),y.validate=typeof y.validate!="boolean"||y.validate;const $=this.map._requestManager.transformRequest(f,"Style");this._loadStyleRequest=new AbortController;const F=this._loadStyleRequest;o.j($,this._loadStyleRequest).then(W=>{this._loadStyleRequest=null,this._load(W.data,y,T)}).catch(W=>{this._loadStyleRequest=null,W&&!F.signal.aborted&&this.fire(new o.k(W))})}loadJSON(f,y={},T){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,h.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,y.validate=y.validate!==!1,this._load(f,y,T)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(yp,{validate:!1})}_load(f,y,T){var $,F;const W=y.transformStyle?y.transformStyle(T,f):f;if(!y.validate||!Dl(this,o.y(W))){this._loaded=!0,this.stylesheet=W;for(const ne in W.sources)this.addSource(ne,W.sources[ne],{validate:!1});W.sprite?this._loadSprite(W.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(W.glyphs),this._createLayers(),this.light=new re(this.stylesheet.light),this._setProjectionInternal((($=this.stylesheet.projection)===null||$===void 0?void 0:$.type)||"mercator"),this.sky=new ce(this.stylesheet.sky),this.map.setTerrain((F=this.stylesheet.terrain)!==null&&F!==void 0?F:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){const f=o.bx(this.stylesheet.layers);this.dispatcher.broadcast("SL",f),this._order=f.map(y=>y.id),this._layers={},this._serializedLayers=null;for(const y of f){const T=o.by(y);T.setEventedParent(this,{layer:{id:y.id}}),this._layers[y.id]=T}}_loadSprite(f,y=!1,T=void 0){let $;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(F,W,ne,se){return o._(this,void 0,void 0,function*(){const de=N(F),ve=ne>1?"@2x":"",Ee={},Ce={};for(const{id:ke,url:Be}of de){const tt=W.transformRequest(D(Be,ve,".json"),"SpriteJSON");Ee[ke]=o.j(tt,se);const Je=W.transformRequest(D(Be,ve,".png"),"SpriteImage");Ce[ke]=R.getImage(Je,se)}return yield Promise.all([...Object.values(Ee),...Object.values(Ce)]),function(ke,Be){return o._(this,void 0,void 0,function*(){const tt={};for(const Je in ke){tt[Je]={};const nt=h.getImageCanvasContext((yield Be[Je]).data),pt=(yield ke[Je]).data;for(const bt in pt){const{width:wt,height:Et,x:Pt,y:Mt,sdf:en,pixelRatio:Xt,stretchX:bn,stretchY:wn,content:vn,textFitWidth:Mn,textFitHeight:Zn}=pt[bt];tt[Je][bt]={data:null,pixelRatio:Xt,sdf:en,stretchX:bn,stretchY:wn,content:vn,textFitWidth:Mn,textFitHeight:Zn,spriteData:{width:wt,height:Et,x:Pt,y:Mt,context:nt}}}}return tt})}(Ee,Ce)})}(f,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(F=>{if(this._spriteRequest=null,F)for(const W in F){this._spritesImagesIds[W]=[];const ne=this._spritesImagesIds[W]?this._spritesImagesIds[W].filter(se=>!(se in F)):[];for(const se of ne)this.imageManager.removeImage(se),this._changedImages[se]=!0;for(const se in F[W]){const de=W==="default"?se:`${W}:${se}`;this._spritesImagesIds[W].push(de),de in this.imageManager.images?this.imageManager.updateImage(de,F[W][se],!1):this.imageManager.addImage(de,F[W][se]),y&&(this._changedImages[de]=!0)}}}).catch(F=>{this._spriteRequest=null,$=F,this.fire(new o.k($))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),y&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),T&&T($)})}_unloadSprite(){for(const f of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(f),this._changedImages[f]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(f){const y=this.sourceCaches[f.source];if(!y)return;const T=f.sourceLayer;if(!T)return;const $=y.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(T)===-1)&&this.fire(new o.k(new Error(`Source layer "${T}" does not exist on source "${$.id}" as specified by style layer "${f.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const f in this.sourceCaches)if(!this.sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(f,y=!1){const T=this._serializedAllLayers();if(!f||f.length===0)return Object.values(y?o.bz(T):T);const $=[];for(const F of f)if(T[F]){const W=y?o.bz(T[F]):T[F];$.push(W)}return $}_serializedAllLayers(){let f=this._serializedLayers;if(f)return f;f=this._serializedLayers={};const y=Object.keys(this._layers);for(const T of y){const $=this._layers[T];$.type!=="custom"&&(f[T]=$.serialize())}return f}hasTransitions(){var f,y,T;if(!((f=this.light)===null||f===void 0)&&f.hasTransition()||!((y=this.sky)===null||y===void 0)&&y.hasTransition()||!((T=this.projection)===null||T===void 0)&&T.hasTransition())return!0;for(const $ in this.sourceCaches)if(this.sourceCaches[$].hasTransition())return!0;for(const $ in this._layers)if(this._layers[$].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(f){if(!this._loaded)return;const y=this._changed;if(y){const $=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);($.length||F.length)&&this._updateWorkerLayers($,F);for(const W in this._updatedSources){const ne=this._updatedSources[W];if(ne==="reload")this._reloadSource(W);else{if(ne!=="clear")throw new Error(`Invalid action ${ne}`);this._clearSource(W)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const W in this._updatedPaintProps)this._layers[W].updateTransitions(f);this.light.updateTransitions(f),this.sky.updateTransitions(f),this._resetUpdates()}const T={};for(const $ in this.sourceCaches){const F=this.sourceCaches[$];T[$]=F.used,F.used=!1}for(const $ of this._order){const F=this._layers[$];F.recalculate(f,this._availableImages),!F.isHidden(f.zoom)&&F.source&&(this.sourceCaches[F.source].used=!0)}for(const $ in T){const F=this.sourceCaches[$];!!T[$]!=!!F.used&&F.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:$}))}this.light.recalculate(f),this.sky.recalculate(f),this.projection.recalculate(f),this.z=f.zoom,y&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const f=Object.keys(this._changedImages);if(f.length){for(const y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(f,y){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(f,!1),removedIds:y})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(f,y={}){var T;this._checkLoaded();const $=this.serialize();if(f=y.transformStyle?y.transformStyle($,f):f,((T=y.validate)===null||T===void 0||T)&&Dl(this,o.y(f)))return!1;(f=o.bz(f)).layers=o.bx(f.layers);const F=o.bA($,f),W=this._getOperationsToPerform(F);if(W.unimplemented.length>0)throw new Error(`Unimplemented: ${W.unimplemented.join(", ")}.`);if(W.operations.length===0)return!1;for(const ne of W.operations)ne();return this.stylesheet=f,this._serializedLayers=null,!0}_getOperationsToPerform(f){const y=[],T=[];for(const $ of f)switch($.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":y.push(()=>this.addLayer.apply(this,$.args));break;case"removeLayer":y.push(()=>this.removeLayer.apply(this,$.args));break;case"setPaintProperty":y.push(()=>this.setPaintProperty.apply(this,$.args));break;case"setLayoutProperty":y.push(()=>this.setLayoutProperty.apply(this,$.args));break;case"setFilter":y.push(()=>this.setFilter.apply(this,$.args));break;case"addSource":y.push(()=>this.addSource.apply(this,$.args));break;case"removeSource":y.push(()=>this.removeSource.apply(this,$.args));break;case"setLayerZoomRange":y.push(()=>this.setLayerZoomRange.apply(this,$.args));break;case"setLight":y.push(()=>this.setLight.apply(this,$.args));break;case"setGeoJSONSourceData":y.push(()=>this.setGeoJSONSourceData.apply(this,$.args));break;case"setGlyphs":y.push(()=>this.setGlyphs.apply(this,$.args));break;case"setSprite":y.push(()=>this.setSprite.apply(this,$.args));break;case"setTerrain":y.push(()=>this.map.setTerrain.apply(this,$.args));break;case"setSky":y.push(()=>this.setSky.apply(this,$.args));break;case"setProjection":this.setProjection.apply(this,$.args);break;case"setTransition":y.push(()=>{});break;default:T.push($.command)}return{operations:y,unimplemented:T}}addImage(f,y){if(this.getImage(f))return this.fire(new o.k(new Error(`An image named "${f}" already exists.`)));this.imageManager.addImage(f,y),this._afterImageUpdated(f)}updateImage(f,y){this.imageManager.updateImage(f,y)}getImage(f){return this.imageManager.getImage(f)}removeImage(f){if(!this.getImage(f))return this.fire(new o.k(new Error(`An image named "${f}" does not exist.`)));this.imageManager.removeImage(f),this._afterImageUpdated(f)}_afterImageUpdated(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(f,y,T={}){if(this._checkLoaded(),this.sourceCaches[f]!==void 0)throw new Error(`Source "${f}" already exists.`);if(!y.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(y).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(o.y.source,`sources.${f}`,y,null,T))return;this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);const $=this.sourceCaches[f]=new be(f,y,this.dispatcher);$.style=this,$.setEventedParent(this,()=>({isSourceLoaded:$.loaded(),source:$.serialize(),sourceId:f})),$.onAdd(this.map),this._changed=!0}removeSource(f){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error("There is no source with this ID");for(const T in this._layers)if(this._layers[T].source===f)return this.fire(new o.k(new Error(`Source "${f}" cannot be removed while layer "${T}" is using it.`)));const y=this.sourceCaches[f];delete this.sourceCaches[f],delete this._updatedSources[f],y.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:f})),y.setEventedParent(null),y.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(f,y){if(this._checkLoaded(),this.sourceCaches[f]===void 0)throw new Error(`There is no source with this ID=${f}`);const T=this.sourceCaches[f].getSource();if(T.type!=="geojson")throw new Error(`geojsonSource.type is ${T.type}, which is !== 'geojson`);T.setData(y),this._changed=!0}getSource(f){return this.sourceCaches[f]&&this.sourceCaches[f].getSource()}addLayer(f,y,T={}){this._checkLoaded();const $=f.id;if(this.getLayer($))return void this.fire(new o.k(new Error(`Layer "${$}" already exists on this map.`)));let F;if(f.type==="custom"){if(Dl(this,o.bB(f)))return;F=o.by(f)}else{if("source"in f&&typeof f.source=="object"&&(this.addSource($,f.source),f=o.bz(f),f=o.e(f,{source:$})),this._validate(o.y.layer,`layers.${$}`,f,{arrayIndex:-1},T))return;F=o.by(f),this._validateLayer(F),F.setEventedParent(this,{layer:{id:$}})}const W=y?this._order.indexOf(y):this._order.length;if(y&&W===-1)this.fire(new o.k(new Error(`Cannot add layer "${$}" before non-existing layer "${y}".`)));else{if(this._order.splice(W,0,$),this._layerOrderChanged=!0,this._layers[$]=F,this._removedLayers[$]&&F.source&&F.type!=="custom"){const ne=this._removedLayers[$];delete this._removedLayers[$],ne.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",this.sourceCaches[F.source].pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map)}}moveLayer(f,y){if(this._checkLoaded(),this._changed=!0,!this._layers[f])return void this.fire(new o.k(new Error(`The layer '${f}' does not exist in the map's style and cannot be moved.`)));if(f===y)return;const T=this._order.indexOf(f);this._order.splice(T,1);const $=y?this._order.indexOf(y):this._order.length;y&&$===-1?this.fire(new o.k(new Error(`Cannot move layer "${f}" before non-existing layer "${y}".`))):(this._order.splice($,0,f),this._layerOrderChanged=!0)}removeLayer(f){this._checkLoaded();const y=this._layers[f];if(!y)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${f}".`)));y.setEventedParent(null);const T=this._order.indexOf(f);this._order.splice(T,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=y,delete this._layers[f],this._serializedLayers&&delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],y.onRemove&&y.onRemove(this.map)}getLayer(f){return this._layers[f]}getLayersOrder(){return[...this._order]}hasLayer(f){return f in this._layers}setLayerZoomRange(f,y,T){this._checkLoaded();const $=this.getLayer(f);$?$.minzoom===y&&$.maxzoom===T||(y!=null&&($.minzoom=y),T!=null&&($.maxzoom=T),this._updateLayer($)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${f}".`)))}setFilter(f,y,T={}){this._checkLoaded();const $=this.getLayer(f);if($){if(!o.bC($.filter,y))return y==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(o.y.filter,`layers.${$.id}.filter`,y,null,T)||($.filter=o.bz(y),this._updateLayer($)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${f}".`)))}getFilter(f){return o.bz(this.getLayer(f).filter)}setLayoutProperty(f,y,T,$={}){this._checkLoaded();const F=this.getLayer(f);F?o.bC(F.getLayoutProperty(y),T)||(F.setLayoutProperty(y,T,$),this._updateLayer(F)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${f}".`)))}getLayoutProperty(f,y){const T=this.getLayer(f);if(T)return T.getLayoutProperty(y);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${f}".`)))}setPaintProperty(f,y,T,$={}){this._checkLoaded();const F=this.getLayer(f);F?o.bC(F.getPaintProperty(y),T)||(F.setPaintProperty(y,T,$)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[f]=!0,this._serializedLayers=null):this.fire(new o.k(new Error(`Cannot style non-existing layer "${f}".`)))}getPaintProperty(f,y){return this.getLayer(f).getPaintProperty(y)}setFeatureState(f,y){this._checkLoaded();const T=f.source,$=f.sourceLayer,F=this.sourceCaches[T];if(F===void 0)return void this.fire(new o.k(new Error(`The source '${T}' does not exist in the map's style.`)));const W=F.getSource().type;W==="geojson"&&$?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):W!=="vector"||$?(f.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),F.setFeatureState($,f.id,y)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(f,y){this._checkLoaded();const T=f.source,$=this.sourceCaches[T];if($===void 0)return void this.fire(new o.k(new Error(`The source '${T}' does not exist in the map's style.`)));const F=$.getSource().type,W=F==="vector"?f.sourceLayer:void 0;F!=="vector"||W?y&&typeof f.id!="string"&&typeof f.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(W,f.id,y):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(f){this._checkLoaded();const y=f.source,T=f.sourceLayer,$=this.sourceCaches[y];if($!==void 0)return $.getSource().type!=="vector"||T?(f.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),$.getFeatureState(T,f.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${y}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const f=o.bD(this.sourceCaches,F=>F.serialize()),y=this._serializeByIds(this._order,!0),T=this.map.getTerrain()||void 0,$=this.stylesheet;return o.bE({version:$.version,name:$.name,metadata:$.metadata,light:$.light,sky:$.sky,center:$.center,zoom:$.zoom,bearing:$.bearing,pitch:$.pitch,sprite:$.sprite,glyphs:$.glyphs,transition:$.transition,projection:$.projection,sources:f,layers:y,terrain:T},F=>F!==void 0)}_updateLayer(f){this._updatedLayers[f.id]=!0,f.source&&!this._updatedSources[f.source]&&this.sourceCaches[f.source].getSource().type!=="raster"&&(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(f){const y=W=>this._layers[W].type==="fill-extrusion",T={},$=[];for(let W=this._order.length-1;W>=0;W--){const ne=this._order[W];if(y(ne)){T[ne]=W;for(const se of f){const de=se[ne];if(de)for(const ve of de)$.push(ve)}}}$.sort((W,ne)=>ne.intersectionZ-W.intersectionZ);const F=[];for(let W=this._order.length-1;W>=0;W--){const ne=this._order[W];if(y(ne))for(let se=$.length-1;se>=0;se--){const de=$[se].feature;if(T[de.layer.id]<W)break;F.push(de),$.pop()}else for(const se of f){const de=se[ne];if(de)for(const ve of de)F.push(ve.feature)}}return F}queryRenderedFeatures(f,y,T){y&&y.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",y.filter,null,y);const $={};if(y&&y.layers){if(!(Array.isArray(y.layers)||y.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const de of y.layers){const ve=this._layers[de];if(!ve)return this.fire(new o.k(new Error(`The layer '${de}' does not exist in the map's style and cannot be queried for features.`))),[];$[ve.source]=!0}}const F=[];y.availableImages=this._availableImages;const W=this._serializedAllLayers(),ne=y.layers instanceof Set?y.layers:Array.isArray(y.layers)?new Set(y.layers):null,se=Object.assign(Object.assign({},y),{layers:ne});for(const de in this.sourceCaches)y.layers&&!$[de]||F.push(st(this.sourceCaches[de],this._layers,W,f,se,T,this.map.terrain?(ve,Ee,Ce)=>this.map.terrain.getElevation(ve,Ee,Ce):void 0));return this.placement&&F.push(function(de,ve,Ee,Ce,ke,Be,tt){const Je={},nt=Be.queryRenderedSymbols(Ce),pt=[];for(const bt of Object.keys(nt).map(Number))pt.push(tt[bt]);pt.sort(Ue);for(const bt of pt){const wt=bt.featureIndex.lookupSymbolFeatures(nt[bt.bucketInstanceId],ve,bt.bucketIndex,bt.sourceLayerIndex,ke.filter,ke.layers,ke.availableImages,de);for(const Et in wt){const Pt=Je[Et]=Je[Et]||[],Mt=wt[Et];Mt.sort((en,Xt)=>{const bn=bt.featureSortOrder;if(bn){const wn=bn.indexOf(en.featureIndex);return bn.indexOf(Xt.featureIndex)-wn}return Xt.featureIndex-en.featureIndex});for(const en of Mt)Pt.push(en)}}return function(bt,wt,Et){for(const Pt in bt)for(const Mt of bt[Pt])Ne(Mt,Et[wt[Pt].source]);return bt}(Je,de,Ee)}(this._layers,W,this.sourceCaches,f,se,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(f,y){y&&y.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",y.filter,null,y);const T=this.sourceCaches[f];return T?function($,F){const W=$.getRenderableIds().map(de=>$.getTileByID(de)),ne=[],se={};for(let de=0;de<W.length;de++){const ve=W[de],Ee=ve.tileID.canonical.key;se[Ee]||(se[Ee]=!0,ve.querySourceFeatures(ne,F))}return ne}(T,y):[]}getLight(){return this.light.getLight()}setLight(f,y={}){this._checkLoaded();const T=this.light.getLight();let $=!1;for(const W in f)if(!o.bC(f[W],T[W])){$=!0;break}if(!$)return;const F={now:h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,y),this.light.updateTransitions(F)}getProjection(){var f;return(f=this.stylesheet)===null||f===void 0?void 0:f.projection}setProjection(f){if(this._checkLoaded(),this.projection){if(this.projection.name===f.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=f,this._setProjectionInternal(f.type)}getSky(){var f;return(f=this.stylesheet)===null||f===void 0?void 0:f.sky}setSky(f,y={}){this._checkLoaded();const T=this.getSky();let $=!1;if(!f&&!T)return;if(f&&!T)$=!0;else if(!f&&T)$=!0;else for(const W in f)if(!o.bC(f[W],T[W])){$=!0;break}if(!$)return;const F={now:h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=f,this.sky.setSky(f,y),this.sky.updateTransitions(F)}_setProjectionInternal(f){const y=function(T){if(Array.isArray(T)){const $=new Gf({type:T});return{projection:$,transform:new Wl,cameraHelper:new w0($)}}switch(T){case"mercator":return{projection:new Br,transform:new na,cameraHelper:new nr};case"globe":{const $=new Gf({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:$,transform:new Wl,cameraHelper:new w0($)}}case"vertical-perspective":return{projection:new Uf,transform:new jm,cameraHelper:new Eu};default:return o.w(`Unknown projection name: ${T}. Falling back to mercator projection.`),{projection:new Br,transform:new na,cameraHelper:new nr}}}(f);this.projection=y.projection,this.map.migrateProjection(y.transform,y.cameraHelper);for(const T in this.sourceCaches)this.sourceCaches[T].reload()}_validate(f,y,T,$,F={}){return(!F||F.validate!==!1)&&Dl(this,f.call(o.y,o.e({key:y,style:this.serialize(),value:T,styleSpec:o.v},$)))}_remove(f=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),kn().off(hn,this._rtlPluginLoaded);for(const y in this._layers)this._layers[y].setEventedParent(null);for(const y in this.sourceCaches){const T=this.sourceCaches[y];T.setEventedParent(null),T.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),f&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(f)}_clearSource(f){this.sourceCaches[f].clearTiles()}_reloadSource(f){this.sourceCaches[f].resume(),this.sourceCaches[f].reload()}_updateSources(f){for(const y in this.sourceCaches)this.sourceCaches[y].update(f,this.map.terrain)}_generateCollisionBoxes(){for(const f in this.sourceCaches)this._reloadSource(f)}_updatePlacement(f,y,T,$,F=!1){let W=!1,ne=!1;const se={};for(const de of this._order){const ve=this._layers[de];if(ve.type!=="symbol")continue;if(!se[ve.source]){const Ce=this.sourceCaches[ve.source];se[ve.source]=Ce.getRenderableIds(!0).map(ke=>Ce.getTileByID(ke)).sort((ke,Be)=>Be.tileID.overscaledZ-ke.tileID.overscaledZ||(ke.tileID.isLessThan(Be.tileID)?-1:1))}const Ee=this.crossTileSymbolIndex.addLayer(ve,se[ve.source],f.center.lng);W=W||Ee}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((F=F||this._layerOrderChanged||T===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.now(),f.zoom))&&(this.pauseablePlacement=new ma(f,this.map.terrain,this._order,F,y,T,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,se),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(h.now()),ne=!0),W&&this.pauseablePlacement.placement.setStale()),ne||W)for(const de of this._order){const ve=this._layers[de];ve.type==="symbol"&&this.placement.updateLayerOpacities(ve,se[ve.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.now())}_releaseSymbolFadeTiles(){for(const f in this.sourceCaches)this.sourceCaches[f].releaseSymbolFadeTiles()}getImages(f,y){return o._(this,void 0,void 0,function*(){const T=yield this.imageManager.getImages(y.icons);this._updateTilesForChangedImages();const $=this.sourceCaches[y.source];return $&&$.setDependencies(y.tileID.key,y.type,y.icons),T})}getGlyphs(f,y){return o._(this,void 0,void 0,function*(){const T=yield this.glyphManager.getGlyphs(y.stacks),$=this.sourceCaches[y.source];return $&&$.setDependencies(y.tileID.key,y.type,[""]),T})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(f,y={}){this._checkLoaded(),f&&this._validate(o.y.glyphs,"glyphs",f,null,y)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=f,this.glyphManager.entries={},this.glyphManager.setURL(f))}addSprite(f,y,T={},$){this._checkLoaded();const F=[{id:f,url:y}],W=[...N(this.stylesheet.sprite),...F];this._validate(o.y.sprite,"sprite",W,null,T)||(this.stylesheet.sprite=W,this._loadSprite(F,!0,$))}removeSprite(f){this._checkLoaded();const y=N(this.stylesheet.sprite);if(y.find(T=>T.id===f)){if(this._spritesImagesIds[f])for(const T of this._spritesImagesIds[f])this.imageManager.removeImage(T),this._changedImages[T]=!0;y.splice(y.findIndex(T=>T.id===f),1),this.stylesheet.sprite=y.length>0?y:void 0,delete this._spritesImagesIds[f],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${f}" doesn't exists on this map.`)))}getSprite(){return N(this.stylesheet.sprite)}setSprite(f,y={},T){this._checkLoaded(),f&&this._validate(o.y.sprite,"sprite",f,null,y)||(this.stylesheet.sprite=f,f?this._loadSprite(f,!0,T):(this._unloadSprite(),T&&T(null)))}}var _o=o.aD([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ou{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(f,y,T,$,F,W,ne,se,de){this.context=f;let ve=this.boundPaintVertexBuffers.length!==$.length;for(let Ee=0;!ve&&Ee<$.length;Ee++)this.boundPaintVertexBuffers[Ee]!==$[Ee]&&(ve=!0);!this.vao||this.boundProgram!==y||this.boundLayoutVertexBuffer!==T||ve||this.boundIndexBuffer!==F||this.boundVertexOffset!==W||this.boundDynamicVertexBuffer!==ne||this.boundDynamicVertexBuffer2!==se||this.boundDynamicVertexBuffer3!==de?this.freshBind(y,T,$,F,W,ne,se,de):(f.bindVertexArray.set(this.vao),ne&&ne.bind(),F&&F.dynamicDraw&&F.bind(),se&&se.bind(),de&&de.bind())}freshBind(f,y,T,$,F,W,ne,se){const de=f.numAttributes,ve=this.context,Ee=ve.gl;this.vao&&this.destroy(),this.vao=ve.createVertexArray(),ve.bindVertexArray.set(this.vao),this.boundProgram=f,this.boundLayoutVertexBuffer=y,this.boundPaintVertexBuffers=T,this.boundIndexBuffer=$,this.boundVertexOffset=F,this.boundDynamicVertexBuffer=W,this.boundDynamicVertexBuffer2=ne,this.boundDynamicVertexBuffer3=se,y.enableAttributes(Ee,f);for(const Ce of T)Ce.enableAttributes(Ee,f);W&&W.enableAttributes(Ee,f),ne&&ne.enableAttributes(Ee,f),se&&se.enableAttributes(Ee,f),y.bind(),y.setVertexAttribPointers(Ee,f,F);for(const Ce of T)Ce.bind(),Ce.setVertexAttribPointers(Ee,f,F);W&&(W.bind(),W.setVertexAttribPointers(Ee,f,F)),$&&$.bind(),ne&&(ne.bind(),ne.setVertexAttribPointers(Ee,f,F)),se&&(se.bind(),se.setVertexAttribPointers(Ee,f,F)),ve.currentNumAttributes=de}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const nu=(z,f,y,T,$)=>({u_texture:0,u_ele_delta:z,u_fog_matrix:f,u_fog_color:y?y.properties.get("fog-color"):o.b7.white,u_fog_ground_blend:y?y.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:$?0:y?y.calculateFogBlendOpacity(T):0,u_horizon_color:y?y.properties.get("horizon-color"):o.b7.white,u_horizon_fog_blend:y?y.properties.get("horizon-fog-blend"):1,u_is_globe_mode:$?1:0}),V1={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function $d(z){const f=[];for(let y=0;y<z.length;y++){if(z[y]===null)continue;const T=z[y].split(" ");f.push(T.pop())}return f}class Tg{constructor(f,y,T,$,F,W,ne,se){const de=f.gl;this.program=de.createProgram();const ve=$d(y.staticAttributes),Ee=T?T.getBinderAttributes():[],Ce=ve.concat(Ee),ke=Jn.prelude.staticUniforms?$d(Jn.prelude.staticUniforms):[],Be=ne.staticUniforms?$d(ne.staticUniforms):[],tt=y.staticUniforms?$d(y.staticUniforms):[],Je=T?T.getBinderUniforms():[],nt=ke.concat(Be).concat(tt).concat(Je),pt=[];for(const Xt of nt)pt.indexOf(Xt)<0&&pt.push(Xt);const bt=T?T.defines():[];gi(de)&&bt.unshift("#version 300 es"),F&&bt.push("#define OVERDRAW_INSPECTOR;"),W&&bt.push("#define TERRAIN3D;"),se&&bt.push(se);let wt=bt.concat(Jn.prelude.fragmentSource,ne.fragmentSource,y.fragmentSource).join(`
`),Et=bt.concat(Jn.prelude.vertexSource,ne.vertexSource,y.vertexSource).join(`
`);gi(de)||(wt=function(Xt){return Xt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(wt),Et=function(Xt){return Xt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Et));const Pt=de.createShader(de.FRAGMENT_SHADER);if(de.isContextLost())return void(this.failedToCreate=!0);if(de.shaderSource(Pt,wt),de.compileShader(Pt),!de.getShaderParameter(Pt,de.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${de.getShaderInfoLog(Pt)}`);de.attachShader(this.program,Pt);const Mt=de.createShader(de.VERTEX_SHADER);if(de.isContextLost())return void(this.failedToCreate=!0);if(de.shaderSource(Mt,Et),de.compileShader(Mt),!de.getShaderParameter(Mt,de.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${de.getShaderInfoLog(Mt)}`);de.attachShader(this.program,Mt),this.attributes={};const en={};this.numAttributes=Ce.length;for(let Xt=0;Xt<this.numAttributes;Xt++)Ce[Xt]&&(de.bindAttribLocation(this.program,Xt,Ce[Xt]),this.attributes[Ce[Xt]]=Xt);if(de.linkProgram(this.program),!de.getProgramParameter(this.program,de.LINK_STATUS))throw new Error(`Program failed to link: ${de.getProgramInfoLog(this.program)}`);de.deleteShader(Mt),de.deleteShader(Pt);for(let Xt=0;Xt<pt.length;Xt++){const bn=pt[Xt];if(bn&&!en[bn]){const wn=de.getUniformLocation(this.program,bn);wn&&(en[bn]=wn)}}this.fixedUniforms=$(f,en),this.terrainUniforms=((Xt,bn)=>({u_depth:new o.bF(Xt,bn.u_depth),u_terrain:new o.bF(Xt,bn.u_terrain),u_terrain_dim:new o.b8(Xt,bn.u_terrain_dim),u_terrain_matrix:new o.bH(Xt,bn.u_terrain_matrix),u_terrain_unpack:new o.bI(Xt,bn.u_terrain_unpack),u_terrain_exaggeration:new o.b8(Xt,bn.u_terrain_exaggeration)}))(f,en),this.projectionUniforms=((Xt,bn)=>({u_projection_matrix:new o.bH(Xt,bn.u_projection_matrix),u_projection_tile_mercator_coords:new o.bI(Xt,bn.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bI(Xt,bn.u_projection_clipping_plane),u_projection_transition:new o.b8(Xt,bn.u_projection_transition),u_projection_fallback_matrix:new o.bH(Xt,bn.u_projection_fallback_matrix)}))(f,en),this.binderUniforms=T?T.getUniforms(f,en):[]}draw(f,y,T,$,F,W,ne,se,de,ve,Ee,Ce,ke,Be,tt,Je,nt,pt,bt){const wt=f.gl;if(this.failedToCreate)return;if(f.program.set(this.program),f.setDepthMode(T),f.setStencilMode($),f.setColorMode(F),f.setCullFace(W),se){f.activeTexture.set(wt.TEXTURE2),wt.bindTexture(wt.TEXTURE_2D,se.depthTexture),f.activeTexture.set(wt.TEXTURE3),wt.bindTexture(wt.TEXTURE_2D,se.texture);for(const Pt in this.terrainUniforms)this.terrainUniforms[Pt].set(se[Pt])}if(de)for(const Pt in de)this.projectionUniforms[V1[Pt]].set(de[Pt]);if(ne)for(const Pt in this.fixedUniforms)this.fixedUniforms[Pt].set(ne[Pt]);Je&&Je.setUniforms(f,this.binderUniforms,Be,{zoom:tt});let Et=0;switch(y){case wt.LINES:Et=2;break;case wt.TRIANGLES:Et=3;break;case wt.LINE_STRIP:Et=1}for(const Pt of ke.get()){const Mt=Pt.vaos||(Pt.vaos={});(Mt[ve]||(Mt[ve]=new Ou)).bind(f,this,Ee,Je?Je.getPaintVertexBuffers():[],Ce,Pt.vertexOffset,nt,pt,bt),wt.drawElements(y,Pt.primitiveLength*Et,wt.UNSIGNED_SHORT,Pt.primitiveOffset*Et*2)}}}function bp(z,f,y){const T=1/o.aw(y,1,f.transform.tileZoom),$=Math.pow(2,y.tileID.overscaledZ),F=y.tileSize*Math.pow(2,f.transform.tileZoom)/$,W=F*(y.tileID.canonical.x+y.tileID.wrap*$),ne=F*y.tileID.canonical.y;return{u_image:0,u_texsize:y.imageAtlasTexture.size,u_scale:[T,z.fromScale,z.toScale],u_fade:z.t,u_pixel_coord_upper:[W>>16,ne>>16],u_pixel_coord_lower:[65535&W,65535&ne]}}const nb=(z,f,y,T)=>{const $=z.style.light,F=$.properties.get("position"),W=[F.x,F.y,F.z],ne=o.bL();$.properties.get("anchor")==="viewport"&&o.bM(ne,z.transform.bearingInRadians),o.bN(W,W,ne);const se=z.transform.transformLightDirection(W),de=$.properties.get("color");return{u_lightpos:W,u_lightpos_globe:se,u_lightintensity:$.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_vertical_gradient:+f,u_opacity:y,u_fill_translate:T}},Mg=(z,f,y,T,$,F,W)=>o.e(nb(z,f,y,T),bp(F,z,W),{u_height_factor:-Math.pow(2,$.overscaledZ)/W.tileSize/8}),Ag=(z,f,y,T)=>o.e(bp(f,z,y),{u_fill_translate:T}),Tu=(z,f)=>({u_world:z,u_fill_translate:f}),S0=(z,f,y,T,$)=>o.e(Ag(z,f,y,$),{u_world:T}),bh=(z,f,y,T,$)=>{const F=z.transform;let W,ne,se=0;if(y.paint.get("circle-pitch-alignment")==="map"){const de=o.aw(f,1,F.zoom);W=!0,ne=[de,de],se=de/(o.Z*Math.pow(2,f.tileID.overscaledZ))*2*Math.PI*$}else W=!1,ne=F.pixelsToGLUnits;return{u_camera_to_center_distance:F.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+W,u_device_pixel_ratio:z.pixelRatio,u_extrude_scale:ne,u_globe_extrude_scale:se,u_translate:T}},rb=z=>({u_pixel_extrude_scale:[1/z.width,1/z.height]}),Ig=z=>({u_viewport_size:[z.width,z.height]}),_h=(z,f=1)=>({u_color:z,u_overlay:0,u_overlay_scale:f}),Pg=(z,f,y,T)=>{const $=o.aw(z,1,f)/(o.Z*Math.pow(2,z.tileID.overscaledZ))*2*Math.PI*T;return{u_extrude_scale:o.aw(z,1,f),u_intensity:y,u_globe_extrude_scale:$}},Fm=(z,f,y,T)=>{const $=o.K();o.bO($,0,z.width,z.height,0,0,1);const F=z.context.gl;return{u_matrix:$,u_world:[F.drawingBufferWidth,F.drawingBufferHeight],u_image:y,u_color_ramp:T,u_opacity:f.paint.get("heatmap-opacity")}},Rg=(z,f,y)=>{const T=y.paint.get("hillshade-shadow-color"),$=y.paint.get("hillshade-highlight-color"),F=y.paint.get("hillshade-accent-color");let W=y.paint.get("hillshade-illumination-direction")*(Math.PI/180);return y.paint.get("hillshade-illumination-anchor")==="viewport"&&(W+=z.transform.bearingInRadians),{u_image:0,u_latrange:xh(0,f.tileID),u_light:[y.paint.get("hillshade-exaggeration"),W],u_shadow:T,u_highlight:$,u_accent:F}},Wf=(z,f)=>{const y=f.stride,T=o.K();return o.bO(T,0,o.Z,-8192,0,0,1),o.L(T,T,[0,-8192,0]),{u_matrix:T,u_image:1,u_dimension:[y,y],u_zoom:z.overscaledZ,u_unpack:f.getUnpackVector()}};function xh(z,f){const y=Math.pow(2,f.canonical.z),T=f.canonical.y;return[new o.$(0,T/y).toLngLat().lat,new o.$(0,(T+1)/y).toLngLat().lat]}const $g=(z,f,y,T)=>{const $=z.transform;return{u_translation:wh(z,f,y),u_ratio:T/o.aw(f,1,$.zoom),u_device_pixel_ratio:z.pixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},gc=(z,f,y,T,$)=>o.e($g(z,f,y,T),{u_image:0,u_image_height:$}),kd=(z,f,y,T,$)=>{const F=z.transform,W=tf(f,F);return{u_translation:wh(z,f,y),u_texsize:f.imageAtlasTexture.size,u_ratio:T/o.aw(f,1,F.zoom),u_device_pixel_ratio:z.pixelRatio,u_image:0,u_scale:[W,$.fromScale,$.toScale],u_fade:$.t,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]]}},_p=(z,f,y,T,$,F)=>{const W=z.lineAtlas,ne=tf(f,z.transform),se=y.layout.get("line-cap")==="round",de=W.getDash($.from,se),ve=W.getDash($.to,se),Ee=de.width*F.fromScale,Ce=ve.width*F.toScale;return o.e($g(z,f,y,T),{u_patternscale_a:[ne/Ee,-de.height/2],u_patternscale_b:[ne/Ce,-ve.height/2],u_sdfgamma:W.width/(256*Math.min(Ee,Ce)*z.pixelRatio)/2,u_image:0,u_tex_y_a:de.y,u_tex_y_b:ve.y,u_mix:F.t})};function tf(z,f){return 1/o.aw(z,1,f.tileZoom)}function wh(z,f,y){return o.ax(z.transform,f,y.paint.get("line-translate"),y.paint.get("line-translate-anchor"))}const U1=(z,f,y,T,$)=>{return{u_tl_parent:z,u_scale_parent:f,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*T.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:T.paint.get("raster-brightness-min"),u_brightness_high:T.paint.get("raster-brightness-max"),u_saturation_factor:(W=T.paint.get("raster-saturation"),W>0?1-1/(1.001-W):-W),u_contrast_factor:(F=T.paint.get("raster-contrast"),F>0?1/(1-F):1+F),u_spin_weights:kg(T.paint.get("raster-hue-rotate")),u_coords_top:[$[0].x,$[0].y,$[1].x,$[1].y],u_coords_bottom:[$[3].x,$[3].y,$[2].x,$[2].y]};var F,W};function kg(z){z*=Math.PI/180;const f=Math.sin(z),y=Math.cos(z);return[(2*y+1)/3,(-Math.sqrt(3)*f-y+1)/3,(Math.sqrt(3)*f-y+1)/3]}const Hm=(z,f,y,T,$,F,W,ne,se,de,ve,Ee,Ce)=>{const ke=W.transform;return{u_is_size_zoom_constant:+(z==="constant"||z==="source"),u_is_size_feature_constant:+(z==="constant"||z==="camera"),u_size_t:f?f.uSizeT:0,u_size:f?f.uSize:0,u_camera_to_center_distance:ke.cameraToCenterDistance,u_pitch:ke.pitch/360*2*Math.PI,u_rotate_symbol:+y,u_aspect_ratio:ke.width/ke.height,u_fade_change:W.options.fadeDuration?W.symbolFadeChange:1,u_label_plane_matrix:ne,u_coord_matrix:se,u_is_text:+ve,u_pitch_with_map:+T,u_is_along_line:$,u_is_variable_anchor:F,u_texsize:Ee,u_texture:0,u_translation:de,u_pitched_scale:Ce}},Vm=(z,f,y,T,$,F,W,ne,se,de,ve,Ee,Ce,ke)=>{const Be=W.transform;return o.e(Hm(z,f,y,T,$,F,W,ne,se,de,ve,Ee,ke),{u_gamma_scale:T?Math.cos(Be.pitch*Math.PI/180)*Be.cameraToCenterDistance:1,u_device_pixel_ratio:W.pixelRatio,u_is_halo:1})},Lg=(z,f,y,T,$,F,W,ne,se,de,ve,Ee,Ce)=>o.e(Vm(z,f,y,T,$,F,W,ne,se,de,!0,ve,0,Ce),{u_texsize_icon:Ee,u_texture_icon:1}),qf=(z,f)=>({u_opacity:z,u_color:f}),Ng=(z,f,y,T,$)=>o.e(function(F,W,ne,se){const de=ne.imageManager.getPattern(F.from.toString()),ve=ne.imageManager.getPattern(F.to.toString()),{width:Ee,height:Ce}=ne.imageManager.getPixelSize(),ke=Math.pow(2,se.tileID.overscaledZ),Be=se.tileSize*Math.pow(2,ne.transform.tileZoom)/ke,tt=Be*(se.tileID.canonical.x+se.tileID.wrap*ke),Je=Be*se.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:ve.tl,u_pattern_br_b:ve.br,u_texsize:[Ee,Ce],u_mix:W.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:ve.displaySize,u_scale_a:W.fromScale,u_scale_b:W.toScale,u_tile_units_to_pixels:1/o.aw(se,1,ne.transform.tileZoom),u_pixel_coord_upper:[tt>>16,Je>>16],u_pixel_coord_lower:[65535&tt,65535&Je]}}(y,$,f,T),{u_opacity:z}),Mu=(z,f)=>{},xp={fillExtrusion:(z,f)=>({u_lightpos:new o.bJ(z,f.u_lightpos),u_lightpos_globe:new o.bJ(z,f.u_lightpos_globe),u_lightintensity:new o.b8(z,f.u_lightintensity),u_lightcolor:new o.bJ(z,f.u_lightcolor),u_vertical_gradient:new o.b8(z,f.u_vertical_gradient),u_opacity:new o.b8(z,f.u_opacity),u_fill_translate:new o.bK(z,f.u_fill_translate)}),fillExtrusionPattern:(z,f)=>({u_lightpos:new o.bJ(z,f.u_lightpos),u_lightpos_globe:new o.bJ(z,f.u_lightpos_globe),u_lightintensity:new o.b8(z,f.u_lightintensity),u_lightcolor:new o.bJ(z,f.u_lightcolor),u_vertical_gradient:new o.b8(z,f.u_vertical_gradient),u_height_factor:new o.b8(z,f.u_height_factor),u_opacity:new o.b8(z,f.u_opacity),u_fill_translate:new o.bK(z,f.u_fill_translate),u_image:new o.bF(z,f.u_image),u_texsize:new o.bK(z,f.u_texsize),u_pixel_coord_upper:new o.bK(z,f.u_pixel_coord_upper),u_pixel_coord_lower:new o.bK(z,f.u_pixel_coord_lower),u_scale:new o.bJ(z,f.u_scale),u_fade:new o.b8(z,f.u_fade)}),fill:(z,f)=>({u_fill_translate:new o.bK(z,f.u_fill_translate)}),fillPattern:(z,f)=>({u_image:new o.bF(z,f.u_image),u_texsize:new o.bK(z,f.u_texsize),u_pixel_coord_upper:new o.bK(z,f.u_pixel_coord_upper),u_pixel_coord_lower:new o.bK(z,f.u_pixel_coord_lower),u_scale:new o.bJ(z,f.u_scale),u_fade:new o.b8(z,f.u_fade),u_fill_translate:new o.bK(z,f.u_fill_translate)}),fillOutline:(z,f)=>({u_world:new o.bK(z,f.u_world),u_fill_translate:new o.bK(z,f.u_fill_translate)}),fillOutlinePattern:(z,f)=>({u_world:new o.bK(z,f.u_world),u_image:new o.bF(z,f.u_image),u_texsize:new o.bK(z,f.u_texsize),u_pixel_coord_upper:new o.bK(z,f.u_pixel_coord_upper),u_pixel_coord_lower:new o.bK(z,f.u_pixel_coord_lower),u_scale:new o.bJ(z,f.u_scale),u_fade:new o.b8(z,f.u_fade),u_fill_translate:new o.bK(z,f.u_fill_translate)}),circle:(z,f)=>({u_camera_to_center_distance:new o.b8(z,f.u_camera_to_center_distance),u_scale_with_map:new o.bF(z,f.u_scale_with_map),u_pitch_with_map:new o.bF(z,f.u_pitch_with_map),u_extrude_scale:new o.bK(z,f.u_extrude_scale),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_globe_extrude_scale:new o.b8(z,f.u_globe_extrude_scale),u_translate:new o.bK(z,f.u_translate)}),collisionBox:(z,f)=>({u_pixel_extrude_scale:new o.bK(z,f.u_pixel_extrude_scale)}),collisionCircle:(z,f)=>({u_viewport_size:new o.bK(z,f.u_viewport_size)}),debug:(z,f)=>({u_color:new o.bG(z,f.u_color),u_overlay:new o.bF(z,f.u_overlay),u_overlay_scale:new o.b8(z,f.u_overlay_scale)}),depth:Mu,clippingMask:Mu,heatmap:(z,f)=>({u_extrude_scale:new o.b8(z,f.u_extrude_scale),u_intensity:new o.b8(z,f.u_intensity),u_globe_extrude_scale:new o.b8(z,f.u_globe_extrude_scale)}),heatmapTexture:(z,f)=>({u_matrix:new o.bH(z,f.u_matrix),u_world:new o.bK(z,f.u_world),u_image:new o.bF(z,f.u_image),u_color_ramp:new o.bF(z,f.u_color_ramp),u_opacity:new o.b8(z,f.u_opacity)}),hillshade:(z,f)=>({u_image:new o.bF(z,f.u_image),u_latrange:new o.bK(z,f.u_latrange),u_light:new o.bK(z,f.u_light),u_shadow:new o.bG(z,f.u_shadow),u_highlight:new o.bG(z,f.u_highlight),u_accent:new o.bG(z,f.u_accent)}),hillshadePrepare:(z,f)=>({u_matrix:new o.bH(z,f.u_matrix),u_image:new o.bF(z,f.u_image),u_dimension:new o.bK(z,f.u_dimension),u_zoom:new o.b8(z,f.u_zoom),u_unpack:new o.bI(z,f.u_unpack)}),line:(z,f)=>({u_translation:new o.bK(z,f.u_translation),u_ratio:new o.b8(z,f.u_ratio),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_units_to_pixels:new o.bK(z,f.u_units_to_pixels)}),lineGradient:(z,f)=>({u_translation:new o.bK(z,f.u_translation),u_ratio:new o.b8(z,f.u_ratio),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_units_to_pixels:new o.bK(z,f.u_units_to_pixels),u_image:new o.bF(z,f.u_image),u_image_height:new o.b8(z,f.u_image_height)}),linePattern:(z,f)=>({u_translation:new o.bK(z,f.u_translation),u_texsize:new o.bK(z,f.u_texsize),u_ratio:new o.b8(z,f.u_ratio),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_image:new o.bF(z,f.u_image),u_units_to_pixels:new o.bK(z,f.u_units_to_pixels),u_scale:new o.bJ(z,f.u_scale),u_fade:new o.b8(z,f.u_fade)}),lineSDF:(z,f)=>({u_translation:new o.bK(z,f.u_translation),u_ratio:new o.b8(z,f.u_ratio),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_units_to_pixels:new o.bK(z,f.u_units_to_pixels),u_patternscale_a:new o.bK(z,f.u_patternscale_a),u_patternscale_b:new o.bK(z,f.u_patternscale_b),u_sdfgamma:new o.b8(z,f.u_sdfgamma),u_image:new o.bF(z,f.u_image),u_tex_y_a:new o.b8(z,f.u_tex_y_a),u_tex_y_b:new o.b8(z,f.u_tex_y_b),u_mix:new o.b8(z,f.u_mix)}),raster:(z,f)=>({u_tl_parent:new o.bK(z,f.u_tl_parent),u_scale_parent:new o.b8(z,f.u_scale_parent),u_buffer_scale:new o.b8(z,f.u_buffer_scale),u_fade_t:new o.b8(z,f.u_fade_t),u_opacity:new o.b8(z,f.u_opacity),u_image0:new o.bF(z,f.u_image0),u_image1:new o.bF(z,f.u_image1),u_brightness_low:new o.b8(z,f.u_brightness_low),u_brightness_high:new o.b8(z,f.u_brightness_high),u_saturation_factor:new o.b8(z,f.u_saturation_factor),u_contrast_factor:new o.b8(z,f.u_contrast_factor),u_spin_weights:new o.bJ(z,f.u_spin_weights),u_coords_top:new o.bI(z,f.u_coords_top),u_coords_bottom:new o.bI(z,f.u_coords_bottom)}),symbolIcon:(z,f)=>({u_is_size_zoom_constant:new o.bF(z,f.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bF(z,f.u_is_size_feature_constant),u_size_t:new o.b8(z,f.u_size_t),u_size:new o.b8(z,f.u_size),u_camera_to_center_distance:new o.b8(z,f.u_camera_to_center_distance),u_pitch:new o.b8(z,f.u_pitch),u_rotate_symbol:new o.bF(z,f.u_rotate_symbol),u_aspect_ratio:new o.b8(z,f.u_aspect_ratio),u_fade_change:new o.b8(z,f.u_fade_change),u_label_plane_matrix:new o.bH(z,f.u_label_plane_matrix),u_coord_matrix:new o.bH(z,f.u_coord_matrix),u_is_text:new o.bF(z,f.u_is_text),u_pitch_with_map:new o.bF(z,f.u_pitch_with_map),u_is_along_line:new o.bF(z,f.u_is_along_line),u_is_variable_anchor:new o.bF(z,f.u_is_variable_anchor),u_texsize:new o.bK(z,f.u_texsize),u_texture:new o.bF(z,f.u_texture),u_translation:new o.bK(z,f.u_translation),u_pitched_scale:new o.b8(z,f.u_pitched_scale)}),symbolSDF:(z,f)=>({u_is_size_zoom_constant:new o.bF(z,f.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bF(z,f.u_is_size_feature_constant),u_size_t:new o.b8(z,f.u_size_t),u_size:new o.b8(z,f.u_size),u_camera_to_center_distance:new o.b8(z,f.u_camera_to_center_distance),u_pitch:new o.b8(z,f.u_pitch),u_rotate_symbol:new o.bF(z,f.u_rotate_symbol),u_aspect_ratio:new o.b8(z,f.u_aspect_ratio),u_fade_change:new o.b8(z,f.u_fade_change),u_label_plane_matrix:new o.bH(z,f.u_label_plane_matrix),u_coord_matrix:new o.bH(z,f.u_coord_matrix),u_is_text:new o.bF(z,f.u_is_text),u_pitch_with_map:new o.bF(z,f.u_pitch_with_map),u_is_along_line:new o.bF(z,f.u_is_along_line),u_is_variable_anchor:new o.bF(z,f.u_is_variable_anchor),u_texsize:new o.bK(z,f.u_texsize),u_texture:new o.bF(z,f.u_texture),u_gamma_scale:new o.b8(z,f.u_gamma_scale),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_is_halo:new o.bF(z,f.u_is_halo),u_translation:new o.bK(z,f.u_translation),u_pitched_scale:new o.b8(z,f.u_pitched_scale)}),symbolTextAndIcon:(z,f)=>({u_is_size_zoom_constant:new o.bF(z,f.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bF(z,f.u_is_size_feature_constant),u_size_t:new o.b8(z,f.u_size_t),u_size:new o.b8(z,f.u_size),u_camera_to_center_distance:new o.b8(z,f.u_camera_to_center_distance),u_pitch:new o.b8(z,f.u_pitch),u_rotate_symbol:new o.bF(z,f.u_rotate_symbol),u_aspect_ratio:new o.b8(z,f.u_aspect_ratio),u_fade_change:new o.b8(z,f.u_fade_change),u_label_plane_matrix:new o.bH(z,f.u_label_plane_matrix),u_coord_matrix:new o.bH(z,f.u_coord_matrix),u_is_text:new o.bF(z,f.u_is_text),u_pitch_with_map:new o.bF(z,f.u_pitch_with_map),u_is_along_line:new o.bF(z,f.u_is_along_line),u_is_variable_anchor:new o.bF(z,f.u_is_variable_anchor),u_texsize:new o.bK(z,f.u_texsize),u_texsize_icon:new o.bK(z,f.u_texsize_icon),u_texture:new o.bF(z,f.u_texture),u_texture_icon:new o.bF(z,f.u_texture_icon),u_gamma_scale:new o.b8(z,f.u_gamma_scale),u_device_pixel_ratio:new o.b8(z,f.u_device_pixel_ratio),u_is_halo:new o.bF(z,f.u_is_halo),u_translation:new o.bK(z,f.u_translation),u_pitched_scale:new o.b8(z,f.u_pitched_scale)}),background:(z,f)=>({u_opacity:new o.b8(z,f.u_opacity),u_color:new o.bG(z,f.u_color)}),backgroundPattern:(z,f)=>({u_opacity:new o.b8(z,f.u_opacity),u_image:new o.bF(z,f.u_image),u_pattern_tl_a:new o.bK(z,f.u_pattern_tl_a),u_pattern_br_a:new o.bK(z,f.u_pattern_br_a),u_pattern_tl_b:new o.bK(z,f.u_pattern_tl_b),u_pattern_br_b:new o.bK(z,f.u_pattern_br_b),u_texsize:new o.bK(z,f.u_texsize),u_mix:new o.b8(z,f.u_mix),u_pattern_size_a:new o.bK(z,f.u_pattern_size_a),u_pattern_size_b:new o.bK(z,f.u_pattern_size_b),u_scale_a:new o.b8(z,f.u_scale_a),u_scale_b:new o.b8(z,f.u_scale_b),u_pixel_coord_upper:new o.bK(z,f.u_pixel_coord_upper),u_pixel_coord_lower:new o.bK(z,f.u_pixel_coord_lower),u_tile_units_to_pixels:new o.b8(z,f.u_tile_units_to_pixels)}),terrain:(z,f)=>({u_texture:new o.bF(z,f.u_texture),u_ele_delta:new o.b8(z,f.u_ele_delta),u_fog_matrix:new o.bH(z,f.u_fog_matrix),u_fog_color:new o.bG(z,f.u_fog_color),u_fog_ground_blend:new o.b8(z,f.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.b8(z,f.u_fog_ground_blend_opacity),u_horizon_color:new o.bG(z,f.u_horizon_color),u_horizon_fog_blend:new o.b8(z,f.u_horizon_fog_blend),u_is_globe_mode:new o.b8(z,f.u_is_globe_mode)}),terrainDepth:(z,f)=>({u_ele_delta:new o.b8(z,f.u_ele_delta)}),terrainCoords:(z,f)=>({u_texture:new o.bF(z,f.u_texture),u_terrain_coords_id:new o.b8(z,f.u_terrain_coords_id),u_ele_delta:new o.b8(z,f.u_ele_delta)}),projectionErrorMeasurement:(z,f)=>({u_input:new o.b8(z,f.u_input),u_output_expected:new o.b8(z,f.u_output_expected)}),atmosphere:(z,f)=>({u_sun_pos:new o.bJ(z,f.u_sun_pos),u_atmosphere_blend:new o.b8(z,f.u_atmosphere_blend),u_globe_position:new o.bJ(z,f.u_globe_position),u_globe_radius:new o.b8(z,f.u_globe_radius),u_inv_proj_matrix:new o.bH(z,f.u_inv_proj_matrix)}),sky:(z,f)=>({u_sky_color:new o.bG(z,f.u_sky_color),u_horizon_color:new o.bG(z,f.u_horizon_color),u_horizon:new o.bK(z,f.u_horizon),u_horizon_normal:new o.bK(z,f.u_horizon_normal),u_sky_horizon_blend:new o.b8(z,f.u_sky_horizon_blend),u_sky_blend:new o.b8(z,f.u_sky_blend)})};class Um{constructor(f,y,T){this.context=f;const $=f.gl;this.buffer=$.createBuffer(),this.dynamicDraw=!!T,this.context.unbindVAO(),f.bindElementBuffer.set(this.buffer),$.bufferData($.ELEMENT_ARRAY_BUFFER,y.arrayBuffer,this.dynamicDraw?$.DYNAMIC_DRAW:$.STATIC_DRAW),this.dynamicDraw||delete y.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(f){const y=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),y.bufferSubData(y.ELEMENT_ARRAY_BUFFER,0,f.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const nf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Dg{constructor(f,y,T,$){this.length=y.length,this.attributes=T,this.itemSize=y.bytesPerElement,this.dynamicDraw=$,this.context=f;const F=f.gl;this.buffer=F.createBuffer(),f.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,y.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||delete y.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(f){if(f.length!==this.length)throw new Error(`Length of new data is ${f.length}, which doesn't match current length of ${this.length}`);const y=this.context.gl;this.bind(),y.bufferSubData(y.ARRAY_BUFFER,0,f.arrayBuffer)}enableAttributes(f,y){for(let T=0;T<this.attributes.length;T++){const $=y.attributes[this.attributes[T].name];$!==void 0&&f.enableVertexAttribArray($)}}setVertexAttribPointers(f,y,T){for(let $=0;$<this.attributes.length;$++){const F=this.attributes[$],W=y.attributes[F.name];W!==void 0&&f.vertexAttribPointer(W,F.components,f[nf[F.type]],!1,this.itemSize,F.offset+this.itemSize*(T||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class va{constructor(f){this.gl=f.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(f){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Sh extends va{getDefault(){return o.b7.transparent}set(f){const y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)}}class ql extends va{getDefault(){return 1}set(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)}}class rf extends va{getDefault(){return 0}set(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)}}class ru extends va{getDefault(){return[!0,!0,!0,!0]}set(f){const y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)}}class C0 extends va{getDefault(){return!0}set(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)}}class ib extends va{getDefault(){return 255}set(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)}}class E0 extends va{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(f){const y=this.current;(f.func!==y.func||f.ref!==y.ref||f.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)}}class O0 extends va{getDefault(){const f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]}set(f){const y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)}}class ab extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;f?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=f,this.dirty=!1}}class Kf extends va{getDefault(){return[0,1]}set(f){const y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)}}class Au extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;f?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=f,this.dirty=!1}}class Vt extends va{getDefault(){return this.gl.LESS}set(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)}}class Rn extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;f?y.enable(y.BLEND):y.disable(y.BLEND),this.current=f,this.dirty=!1}}class pn extends va{getDefault(){const f=this.gl;return[f.ONE,f.ZERO]}set(f){const y=this.current;(f[0]!==y[0]||f[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)}}class hr extends va{getDefault(){return o.b7.transparent}set(f){const y=this.current;(f.r!==y.r||f.g!==y.g||f.b!==y.b||f.a!==y.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)}}class jr extends va{getDefault(){return this.gl.FUNC_ADD}set(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)}}class ya extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;f?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=f,this.dirty=!1}}class Os extends va{getDefault(){return this.gl.BACK}set(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)}}class la extends va{getDefault(){return this.gl.CCW}set(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)}}class af extends va{getDefault(){return null}set(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)}}class zg extends va{getDefault(){return this.gl.TEXTURE0}set(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)}}class zl extends va{getDefault(){const f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]}set(f){const y=this.current;(f[0]!==y[0]||f[1]!==y[1]||f[2]!==y[2]||f[3]!==y[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)}}class Ld extends va{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,f),this.current=f,this.dirty=!1}}class Gm extends va{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,f),this.current=f,this.dirty=!1}}class Ch extends va{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.bindTexture(y.TEXTURE_2D,f),this.current=f,this.dirty=!1}}class of extends va{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}}class sf extends va{getDefault(){return null}set(f){const y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1}}class Ta extends va{getDefault(){return null}set(f){var y;if(f===this.current&&!this.dirty)return;const T=this.gl;gi(T)?T.bindVertexArray(f):(y=T.getExtension("OES_vertex_array_object"))===null||y===void 0||y.bindVertexArrayOES(f),this.current=f,this.dirty=!1}}class Lc extends va{getDefault(){return 4}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}}class Yi extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}}class sl extends va{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}}class mc extends va{constructor(f,y){super(f),this.context=f,this.parent=y}getDefault(){return null}}class Eh extends mc{setDirty(){this.dirty=!0}set(f){if(f===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}}class Oh extends mc{set(f){if(f===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}}class Th extends mc{set(f){if(f===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,f),this.current=f,this.dirty=!1}}const iu="Framebuffer is not complete";class Mh{constructor(f,y,T,$,F){this.context=f,this.width=y,this.height=T;const W=f.gl,ne=this.framebuffer=W.createFramebuffer();if(this.colorAttachment=new Eh(f,ne),$)this.depthAttachment=F?new Th(f,ne):new Oh(f,ne);else if(F)throw new Error("Stencil cannot be set without depth");if(W.checkFramebufferStatus(W.FRAMEBUFFER)!==W.FRAMEBUFFER_COMPLETE)throw new Error(iu)}destroy(){const f=this.context.gl,y=this.colorAttachment.get();if(y&&f.deleteTexture(y),this.depthAttachment){const T=this.depthAttachment.get();T&&f.deleteRenderbuffer(T)}f.deleteFramebuffer(this.framebuffer)}}class Ah{constructor(f){var y,T;if(this.gl=f,this.clearColor=new Sh(this),this.clearDepth=new ql(this),this.clearStencil=new rf(this),this.colorMask=new ru(this),this.depthMask=new C0(this),this.stencilMask=new ib(this),this.stencilFunc=new E0(this),this.stencilOp=new O0(this),this.stencilTest=new ab(this),this.depthRange=new Kf(this),this.depthTest=new Au(this),this.depthFunc=new Vt(this),this.blend=new Rn(this),this.blendFunc=new pn(this),this.blendColor=new hr(this),this.blendEquation=new jr(this),this.cullFace=new ya(this),this.cullFaceSide=new Os(this),this.frontFace=new la(this),this.program=new af(this),this.activeTexture=new zg(this),this.viewport=new zl(this),this.bindFramebuffer=new Ld(this),this.bindRenderbuffer=new Gm(this),this.bindTexture=new Ch(this),this.bindVertexBuffer=new of(this),this.bindElementBuffer=new sf(this),this.bindVertexArray=new Ta(this),this.pixelStoreUnpack=new Lc(this),this.pixelStoreUnpackPremultiplyAlpha=new Yi(this),this.pixelStoreUnpackFlipY=new sl(this),this.extTextureFilterAnisotropic=f.getExtension("EXT_texture_filter_anisotropic")||f.getExtension("MOZ_EXT_texture_filter_anisotropic")||f.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=f.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),gi(f)){this.HALF_FLOAT=f.HALF_FLOAT;const $=f.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(y=f.RGBA16F)!==null&&y!==void 0?y:$?.RGBA16F_EXT,this.RGB16F=(T=f.RGB16F)!==null&&T!==void 0?T:$?.RGB16F_EXT,f.getExtension("EXT_color_buffer_float")}else{f.getExtension("EXT_color_buffer_half_float"),f.getExtension("OES_texture_half_float_linear");const $=f.getExtension("OES_texture_half_float");this.HALF_FLOAT=$?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(f,y){return new Um(this,f,y)}createVertexBuffer(f,y,T){return new Dg(this,f,y,T)}createRenderbuffer(f,y,T){const $=this.gl,F=$.createRenderbuffer();return this.bindRenderbuffer.set(F),$.renderbufferStorage($.RENDERBUFFER,f,y,T),this.bindRenderbuffer.set(null),F}createFramebuffer(f,y,T,$){return new Mh(this,f,y,T,$)}clear({color:f,depth:y,stencil:T}){const $=this.gl;let F=0;f&&(F|=$.COLOR_BUFFER_BIT,this.clearColor.set(f),this.colorMask.set([!0,!0,!0,!0])),y!==void 0&&(F|=$.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(y),this.depthMask.set(!0)),T!==void 0&&(F|=$.STENCIL_BUFFER_BIT,this.clearStencil.set(T),this.stencilMask.set(255)),$.clear(F)}setCullFace(f){f.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(f.mode),this.frontFace.set(f.frontFace))}setDepthMode(f){f.func!==this.gl.ALWAYS||f.mask?(this.depthTest.set(!0),this.depthFunc.set(f.func),this.depthMask.set(f.mask),this.depthRange.set(f.range)):this.depthTest.set(!1)}setStencilMode(f){f.test.func!==this.gl.ALWAYS||f.mask?(this.stencilTest.set(!0),this.stencilMask.set(f.mask),this.stencilOp.set([f.fail,f.depthFail,f.pass]),this.stencilFunc.set({func:f.test.func,ref:f.ref,mask:f.test.mask})):this.stencilTest.set(!1)}setColorMode(f){o.bC(f.blendFunction,fr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(f.blendFunction),this.blendColor.set(f.blendColor)),this.colorMask.set(f.mask)}createVertexArray(){var f;return gi(this.gl)?this.gl.createVertexArray():(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.createVertexArrayOES()}deleteVertexArray(f){var y;return gi(this.gl)?this.gl.deleteVertexArray(f):(y=this.gl.getExtension("OES_vertex_array_object"))===null||y===void 0?void 0:y.deleteVertexArrayOES(f)}unbindVAO(){this.bindVertexArray.set(null)}}let lf;function Yf(z,f,y,T,$){const F=z.context,W=z.transform,ne=F.gl,se=z.useProgram("collisionBox"),de=[];let ve=0,Ee=0;for(let nt=0;nt<T.length;nt++){const pt=T[nt],bt=f.getTile(pt).getBucket(y);if(!bt)continue;const wt=$?bt.textCollisionBox:bt.iconCollisionBox,Et=bt.collisionCircleArray;Et.length>0&&(de.push({circleArray:Et,circleOffset:Ee,coord:pt}),ve+=Et.length/4,Ee=ve),wt&&se.draw(F,ne.LINES,Ir.disabled,Pi.disabled,z.colorModeForRenderPass(),Lr.disabled,rb(z.transform),z.style.map.terrain&&z.style.map.terrain.getTerrainData(pt),W.getProjectionData({overscaledTileID:pt,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),y.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,null,z.transform.zoom,null,null,wt.collisionVertexBuffer)}if(!$||!de.length)return;const Ce=z.useProgram("collisionCircle"),ke=new o.bP;ke.resize(4*ve),ke._trim();let Be=0;for(const nt of de)for(let pt=0;pt<nt.circleArray.length/4;pt++){const bt=4*pt,wt=nt.circleArray[bt+0],Et=nt.circleArray[bt+1],Pt=nt.circleArray[bt+2],Mt=nt.circleArray[bt+3];ke.emplace(Be++,wt,Et,Pt,Mt,0),ke.emplace(Be++,wt,Et,Pt,Mt,1),ke.emplace(Be++,wt,Et,Pt,Mt,2),ke.emplace(Be++,wt,Et,Pt,Mt,3)}(!lf||lf.length<2*ve)&&(lf=function(nt){const pt=2*nt,bt=new o.bR;bt.resize(pt),bt._trim();for(let wt=0;wt<pt;wt++){const Et=6*wt;bt.uint16[Et+0]=4*wt+0,bt.uint16[Et+1]=4*wt+1,bt.uint16[Et+2]=4*wt+2,bt.uint16[Et+3]=4*wt+2,bt.uint16[Et+4]=4*wt+3,bt.uint16[Et+5]=4*wt+0}return bt}(ve));const tt=F.createIndexBuffer(lf,!0),Je=F.createVertexBuffer(ke,o.bQ.members,!0);for(const nt of de){const pt=Ig(z.transform);Ce.draw(F,ne.TRIANGLES,Ir.disabled,Pi.disabled,z.colorModeForRenderPass(),Lr.disabled,pt,z.style.map.terrain&&z.style.map.terrain.getTerrainData(nt.coord),null,y.id,Je,tt,o.aG.simpleSegment(0,2*nt.circleOffset,nt.circleArray.length,nt.circleArray.length/2),null,z.transform.zoom,null,null,null)}Je.destroy(),tt.destroy()}const cf=o.at(new Float32Array(16));function wp(z,f,y,T,$,F){const{horizontalAlign:W,verticalAlign:ne}=o.aB(z);return new o.P((-(W-.5)*f/$+T[0])*F,(-(ne-.5)*y/$+T[1])*F)}function Bl(z,f,y,T,$,F){const W=f.tileAnchorPoint.add(new o.P(f.translation[0],f.translation[1]));if(f.pitchWithMap){let ne=T.mult(F);y||(ne=ne.rotate(-$));const se=W.add(ne);return $t(se.x,se.y,f.pitchedLabelPlaneMatrix,f.getElevation).point}if(y){const ne=Fn(f.tileAnchorPoint.x+1,f.tileAnchorPoint.y,f).point.sub(z),se=Math.atan(ne.y/ne.x)+(ne.x<0?Math.PI:0);return z.add(T.rotate(se))}return z.add(T)}function Nd(z,f,y,T,$,F,W,ne,se,de,ve,Ee){const Ce=z.text.placedSymbolArray,ke=z.text.dynamicLayoutVertexArray,Be=z.icon.dynamicLayoutVertexArray,tt={};ke.clear();for(let Je=0;Je<Ce.length;Je++){const nt=Ce.get(Je),pt=nt.hidden||!nt.crossTileID||z.allowVerticalPlacement&&!nt.placedOrientation?null:T[nt.crossTileID];if(pt){const bt=new o.P(nt.anchorX,nt.anchorY),wt={getElevation:Ee,width:$.width,height:$.height,pitchedLabelPlaneMatrix:F,pitchWithMap:y,transform:$,tileAnchorPoint:bt,translation:de,unwrappedTileID:ve},Et=y?ln(bt.x,bt.y,wt):Fn(bt.x,bt.y,wt),Pt=vt($.cameraToCenterDistance,Et.signedDistanceFromCamera);let Mt=o.ai(z.textSizeData,ne,nt)*Pt/o.av;y&&(Mt*=z.tilePixelRatio/W);const{width:en,height:Xt,anchor:bn,textOffset:wn,textBoxScale:vn}=pt,Mn=wp(bn,en,Xt,wn,vn,Mt),Zn=$.getPitchedTextCorrection(bt.x+de[0],bt.y+de[1],ve),Nn=Bl(Et.point,wt,f,Mn,-$.bearingInRadians,Zn),yr=z.allowVerticalPlacement&&nt.placedOrientation===o.ah.vertical?Math.PI/2:0;for(let ti=0;ti<nt.numGlyphs;ti++)o.ao(ke,Nn,yr);se&&nt.associatedIconIndex>=0&&(tt[nt.associatedIconIndex]={shiftedAnchor:Nn,angle:yr})}else Dn(nt.numGlyphs,ke)}if(se){Be.clear();const Je=z.icon.placedSymbolArray;for(let nt=0;nt<Je.length;nt++){const pt=Je.get(nt);if(pt.hidden)Dn(pt.numGlyphs,Be);else{const bt=tt[nt];if(bt)for(let wt=0;wt<pt.numGlyphs;wt++)o.ao(Be,bt.shiftedAnchor,bt.angle);else Dn(pt.numGlyphs,Be)}}z.icon.dynamicLayoutVertexBuffer.updateData(Be)}z.text.dynamicLayoutVertexBuffer.updateData(ke)}function ll(z,f,y){return y.iconsInText&&f?"symbolTextAndIcon":z?"symbolSDF":"symbolIcon"}function Xf(z,f,y,T,$,F,W,ne,se,de,ve,Ee,Ce){const ke=z.context,Be=ke.gl,tt=z.transform,Je=ne==="map",nt=se==="map",pt=ne!=="viewport"&&y.layout.get("symbol-placement")!=="point",bt=Je&&!nt&&!pt,wt=!y.layout.get("symbol-sort-key").isConstant();let Et=!1;const Pt=z.getDepthModeForSublayer(0,Ir.ReadOnly),Mt=y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"),en=[],Xt=tt.getCircleRadiusCorrection();for(const bn of T){const wn=f.getTile(bn),vn=wn.getBucket(y);if(!vn)continue;const Mn=$?vn.text:vn.icon;if(!Mn||!Mn.segments.get().length||!Mn.hasVisibleVertices)continue;const Zn=Mn.programConfigurations.get(y.id),Nn=$||vn.sdfIcons,yr=$?vn.textSizeData:vn.iconSizeData,ti=nt||tt.pitch!==0,Zi=z.useProgram(ll(Nn,$,vn),Zn),vi=o.ag(yr,tt.zoom),Ni=z.style.map.terrain&&z.style.map.terrain.getTerrainData(bn);let ao,Va,wa,Da,Yo=[0,0],Aa=null;if($)Va=wn.glyphAtlasTexture,wa=Be.LINEAR,ao=wn.glyphAtlasTexture.size,vn.iconsInText&&(Yo=wn.imageAtlasTexture.size,Aa=wn.imageAtlasTexture,Da=ti||z.options.rotating||z.options.zooming||yr.kind==="composite"||yr.kind==="camera"?Be.LINEAR:Be.NEAREST);else{const No=y.layout.get("icon-size").constantOr(0)!==1||vn.iconsNeedLinear;Va=wn.imageAtlasTexture,wa=Nn||z.options.rotating||z.options.zooming||No||ti?Be.LINEAR:Be.NEAREST,ao=wn.imageAtlasTexture.size}const wo=o.aw(wn,1,z.transform.zoom),dl=_t(Je,z.transform,wo),Nu=o.K();o.aj(Nu,dl);const bc=yt(nt,Je,z.transform,wo),id=o.ax(tt,wn,F,W),su=tt.getProjectionData({overscaledTileID:bn,applyGlobeMatrix:!Ce,applyTerrainMatrix:!0}),ad=Mt&&vn.hasTextData(),zc=y.layout.get("icon-text-fit")!=="none"&&ad&&vn.hasIconData();if(pt){const No=z.style.map.terrain?(bs,za)=>z.style.map.terrain.getElevation(bn,bs,za):null,Ya=y.layout.get("text-rotation-alignment")==="map";zt(vn,z,$,dl,Nu,nt,de,Ya,bn.toUnwrapped(),tt.width,tt.height,id,No)}const Bc=$&&Mt||zc,Ms=pt||Bc?cf:nt?dl:z.transform.clipSpaceToPixelsMatrix,xf=Nn&&y.paint.get($?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let _c;_c=Nn?vn.iconsInText?Lg(yr.kind,vi,bt,nt,pt,Bc,z,Ms,bc,id,ao,Yo,Xt):Vm(yr.kind,vi,bt,nt,pt,Bc,z,Ms,bc,id,$,ao,0,Xt):Hm(yr.kind,vi,bt,nt,pt,Bc,z,Ms,bc,id,$,ao,Xt);const Vd={program:Zi,buffers:Mn,uniformValues:_c,projectionData:su,atlasTexture:Va,atlasTextureIcon:Aa,atlasInterpolation:wa,atlasInterpolationIcon:Da,isSDF:Nn,hasHalo:xf};if(wt&&vn.canOverlap){Et=!0;const No=Mn.segments.get();for(const Ya of No)en.push({segments:new o.aG([Ya]),sortKey:Ya.sortKey,state:Vd,terrainData:Ni})}else en.push({segments:Mn.segments,sortKey:0,state:Vd,terrainData:Ni})}Et&&en.sort((bn,wn)=>bn.sortKey-wn.sortKey);for(const bn of en){const wn=bn.state;if(ke.activeTexture.set(Be.TEXTURE0),wn.atlasTexture.bind(wn.atlasInterpolation,Be.CLAMP_TO_EDGE),wn.atlasTextureIcon&&(ke.activeTexture.set(Be.TEXTURE1),wn.atlasTextureIcon&&wn.atlasTextureIcon.bind(wn.atlasInterpolationIcon,Be.CLAMP_TO_EDGE)),wn.isSDF){const vn=wn.uniformValues;wn.hasHalo&&(vn.u_is_halo=1,Ih(wn.buffers,bn.segments,y,z,wn.program,Pt,ve,Ee,vn,wn.projectionData,bn.terrainData)),vn.u_is_halo=0}Ih(wn.buffers,bn.segments,y,z,wn.program,Pt,ve,Ee,wn.uniformValues,wn.projectionData,bn.terrainData)}}function Ih(z,f,y,T,$,F,W,ne,se,de,ve){const Ee=T.context;$.draw(Ee,Ee.gl.TRIANGLES,F,W,ne,Lr.backCCW,se,ve,de,y.id,z.layoutVertexBuffer,z.indexBuffer,f,y.paint,T.transform.zoom,z.programConfigurations.get(y.id),z.dynamicLayoutVertexBuffer,z.opacityVertexBuffer)}function Ph(z,f,y,T,$){const F=z.context,W=F.gl,ne=Pi.disabled,se=new fr([W.ONE,W.ONE],o.b7.transparent,[!0,!0,!0,!0]),de=f.getBucket(y);if(!de)return;const ve=T.key;let Ee=y.heatmapFbos.get(ve);Ee||(Ee=Rh(F,f.tileSize,f.tileSize),y.heatmapFbos.set(ve,Ee)),F.bindFramebuffer.set(Ee.framebuffer),F.viewport.set([0,0,f.tileSize,f.tileSize]),F.clear({color:o.b7.transparent});const Ce=de.programConfigurations.get(y.id),ke=z.useProgram("heatmap",Ce,!$),Be=z.transform.getProjectionData({overscaledTileID:f.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),tt=z.style.map.terrain.getTerrainData(T);ke.draw(F,W.TRIANGLES,Ir.disabled,ne,se,Lr.disabled,Pg(f,z.transform.zoom,y.paint.get("heatmap-intensity"),1),tt,Be,y.id,de.layoutVertexBuffer,de.indexBuffer,de.segments,y.paint,z.transform.zoom,Ce)}function Bg(z,f,y,T,$){const F=z.context,W=F.gl,ne=z.transform;F.setColorMode(z.colorModeForRenderPass());const se=Iu(F,f),de=y.key,ve=f.heatmapFbos.get(de);if(!ve)return;F.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,ve.colorAttachment.get()),F.activeTexture.set(W.TEXTURE1),se.bind(W.LINEAR,W.CLAMP_TO_EDGE);const Ee=ne.getProjectionData({overscaledTileID:y,applyTerrainMatrix:$,applyGlobeMatrix:!T});z.useProgram("heatmapTexture").draw(F,W.TRIANGLES,Ir.disabled,Pi.disabled,z.colorModeForRenderPass(),Lr.disabled,Fm(z,f,0,1),null,Ee,f.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments,f.paint,ne.zoom),ve.destroy(),f.heatmapFbos.delete(de)}function Rh(z,f,y){var T,$;const F=z.gl,W=F.createTexture();F.bindTexture(F.TEXTURE_2D,W),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.LINEAR);const ne=(T=z.HALF_FLOAT)!==null&&T!==void 0?T:F.UNSIGNED_BYTE,se=($=z.RGBA16F)!==null&&$!==void 0?$:F.RGBA;F.texImage2D(F.TEXTURE_2D,0,se,f,y,0,F.RGBA,ne,null);const de=z.createFramebuffer(f,y,!1,!1);return de.colorAttachment.set(W),de}function Iu(z,f){return f.colorRampTexture||(f.colorRampTexture=new H(z,f.colorRamp,z.gl.RGBA)),f.colorRampTexture}function au(z,f,y,T,$){if(!y||!T||!T.imageAtlas)return;const F=T.imageAtlas.patternPositions;let W=F[y.to.toString()],ne=F[y.from.toString()];if(!W&&ne&&(W=ne),!ne&&W&&(ne=W),!W||!ne){const se=$.getPaintProperty(f);W=F[se],ne=F[se]}W&&ne&&z.setConstantPatternPositions(W,ne)}function $h(z,f,y,T,$,F,W,ne){const se=z.context.gl,de="fill-pattern",ve=y.paint.get(de),Ee=ve&&ve.constantOr(1),Ce=y.getCrossfadeParameters();let ke,Be,tt,Je,nt;const pt=z.transform,bt=y.paint.get("fill-translate"),wt=y.paint.get("fill-translate-anchor");W?(Be=Ee&&!y.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ke=se.LINES):(Be=Ee?"fillPattern":"fill",ke=se.TRIANGLES);const Et=ve.constantOr(null);for(const Pt of T){const Mt=f.getTile(Pt);if(Ee&&!Mt.patternsLoaded())continue;const en=Mt.getBucket(y);if(!en)continue;const Xt=en.programConfigurations.get(y.id),bn=z.useProgram(Be,Xt),wn=z.style.map.terrain&&z.style.map.terrain.getTerrainData(Pt);Ee&&(z.context.activeTexture.set(se.TEXTURE0),Mt.imageAtlasTexture.bind(se.LINEAR,se.CLAMP_TO_EDGE),Xt.updatePaintBuffers(Ce)),au(Xt,de,Et,Mt,y);const vn=pt.getProjectionData({overscaledTileID:Pt,applyGlobeMatrix:!ne,applyTerrainMatrix:!0}),Mn=o.ax(pt,Mt,bt,wt);if(W){Je=en.indexBuffer2,nt=en.segments2;const Nn=[se.drawingBufferWidth,se.drawingBufferHeight];tt=Be==="fillOutlinePattern"&&Ee?S0(z,Ce,Mt,Nn,Mn):Tu(Nn,Mn)}else Je=en.indexBuffer,nt=en.segments,tt=Ee?Ag(z,Ce,Mt,Mn):{u_fill_translate:Mn};let Zn;if(z.renderPass==="translucent"&&ne){const[Nn]=z.getStencilConfigForOverlapAndUpdateStencilID(T);Zn=Nn[Pt.overscaledZ]}else Zn=z.stencilModeForClipping(Pt);bn.draw(z.context,ke,$,Zn,F,Lr.backCCW,tt,wn,vn,y.id,en.layoutVertexBuffer,Je,nt,y.paint,z.transform.zoom,Xt)}}function Dd(z,f,y,T,$,F,W,ne){const se=z.context,de=se.gl,ve="fill-extrusion-pattern",Ee=y.paint.get(ve),Ce=Ee.constantOr(1),ke=y.getCrossfadeParameters(),Be=y.paint.get("fill-extrusion-opacity"),tt=Ee.constantOr(null),Je=z.transform;for(const nt of T){const pt=f.getTile(nt),bt=pt.getBucket(y);if(!bt)continue;const wt=z.style.map.terrain&&z.style.map.terrain.getTerrainData(nt),Et=bt.programConfigurations.get(y.id),Pt=z.useProgram(Ce?"fillExtrusionPattern":"fillExtrusion",Et);Ce&&(z.context.activeTexture.set(de.TEXTURE0),pt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Et.updatePaintBuffers(ke));const Mt=Je.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!ne,applyTerrainMatrix:!0});au(Et,ve,tt,pt,y);const en=o.ax(Je,pt,y.paint.get("fill-extrusion-translate"),y.paint.get("fill-extrusion-translate-anchor")),Xt=y.paint.get("fill-extrusion-vertical-gradient"),bn=Ce?Mg(z,Xt,Be,en,nt,ke,pt):nb(z,Xt,Be,en);Pt.draw(se,se.gl.TRIANGLES,$,F,W,Lr.backCCW,bn,wt,Mt,y.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,y.paint,z.transform.zoom,Et,z.style.map.terrain&&bt.centroidVertexBuffer)}}function Kl(z,f,y,T,$,F,W,ne,se){var de;const ve=z.style.projection,Ee=z.context,Ce=z.transform,ke=Ee.gl,Be=z.useProgram("hillshade"),tt=!z.options.moving;for(const Je of T){const nt=f.getTile(Je),pt=nt.fbo;if(!pt)continue;const bt=ve.getMeshFromTileID(Ee,Je.canonical,ne,!0,"raster"),wt=(de=z.style.map.terrain)===null||de===void 0?void 0:de.getTerrainData(Je);Ee.activeTexture.set(ke.TEXTURE0),ke.bindTexture(ke.TEXTURE_2D,pt.colorAttachment.get());const Et=Ce.getProjectionData({overscaledTileID:Je,aligned:tt,applyGlobeMatrix:!se,applyTerrainMatrix:!0});Be.draw(Ee,ke.TRIANGLES,F,$[Je.overscaledZ],W,Lr.backCCW,Rg(z,nt,y),wt,Et,y.id,bt.vertexBuffer,bt.indexBuffer,bt.segments)}}const bl=[new o.P(0,0),new o.P(o.Z,0),new o.P(o.Z,o.Z),new o.P(0,o.Z)];function Ha(z,f,y,T,$,F,W,ne,se=!1,de=!1){const ve=T[T.length-1].overscaledZ,Ee=z.context,Ce=Ee.gl,ke=z.useProgram("raster"),Be=z.transform,tt=z.style.projection,Je=z.colorModeForRenderPass(),nt=!z.options.moving;for(const pt of T){const bt=z.getDepthModeForSublayer(pt.overscaledZ-ve,y.paint.get("raster-opacity")===1?Ir.ReadWrite:Ir.ReadOnly,Ce.LESS),wt=f.getTile(pt);wt.registerFadeDuration(y.paint.get("raster-fade-duration"));const Et=f.findLoadedParent(pt,0),Pt=f.findLoadedSibling(pt),Mt=Ko(wt,Et||Pt||null,f,y,z.transform,z.style.map.terrain);let en,Xt;const bn=y.paint.get("raster-resampling")==="nearest"?Ce.NEAREST:Ce.LINEAR;Ee.activeTexture.set(Ce.TEXTURE0),wt.texture.bind(bn,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),Ee.activeTexture.set(Ce.TEXTURE1),Et?(Et.texture.bind(bn,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),en=Math.pow(2,Et.tileID.overscaledZ-wt.tileID.overscaledZ),Xt=[wt.tileID.canonical.x*en%1,wt.tileID.canonical.y*en%1]):wt.texture.bind(bn,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),wt.texture.useMipmap&&Ee.extTextureFilterAnisotropic&&z.transform.pitch>20&&Ce.texParameterf(Ce.TEXTURE_2D,Ee.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ee.extTextureFilterAnisotropicMax);const wn=z.style.map.terrain&&z.style.map.terrain.getTerrainData(pt),vn=Be.getProjectionData({overscaledTileID:pt,aligned:nt,applyGlobeMatrix:!de,applyTerrainMatrix:!0}),Mn=U1(Xt||[0,0],en||1,Mt,y,ne),Zn=tt.getMeshFromTileID(Ee,pt.canonical,F,W,"raster");ke.draw(Ee,Ce.TRIANGLES,bt,$?$[pt.overscaledZ]:Pi.disabled,Je,se?Lr.frontCCW:Lr.backCCW,Mn,wn,vn,y.id,Zn.vertexBuffer,Zn.indexBuffer,Zn.segments)}}function Ko(z,f,y,T,$,F){const W=T.paint.get("raster-fade-duration");if(!F&&W>0){const ne=h.now(),se=(ne-z.timeAdded)/W,de=f?(ne-f.timeAdded)/W:-1,ve=y.getSource(),Ee=Gt($,{tileSize:ve.tileSize,roundZoom:ve.roundZoom}),Ce=!f||Math.abs(f.tileID.overscaledZ-Ee)>Math.abs(z.tileID.overscaledZ-Ee),ke=Ce&&z.refreshedUponExpiration?1:o.ae(Ce?se:1-de,0,1);return z.refreshedUponExpiration&&se>=1&&(z.refreshedUponExpiration=!1),f?{opacity:1,mix:1-ke}:{opacity:ke,mix:0}}return{opacity:1,mix:0}}const uf=new o.b7(1,0,0,1),io=new o.b7(0,1,0,1),Zf=new o.b7(0,0,1,1),vc=new o.b7(1,0,1,1),kh=new o.b7(0,1,1,1);function ys(z,f,y,T){mi(z,0,f+y/2,z.transform.width,y,T)}function xo(z,f,y,T){mi(z,f-y/2,0,y,z.transform.height,T)}function mi(z,f,y,T,$,F){const W=z.context,ne=W.gl;ne.enable(ne.SCISSOR_TEST),ne.scissor(f*z.pixelRatio,y*z.pixelRatio,T*z.pixelRatio,$*z.pixelRatio),W.clear({color:F}),ne.disable(ne.SCISSOR_TEST)}function Yl(z,f,y){const T=z.context,$=T.gl,F=z.useProgram("debug"),W=Ir.disabled,ne=Pi.disabled,se=z.colorModeForRenderPass(),de="$debug",ve=z.style.map.terrain&&z.style.map.terrain.getTerrainData(y);T.activeTexture.set($.TEXTURE0);const Ee=f.getTileByID(y.key).latestRawTileData,Ce=Math.floor((Ee&&Ee.byteLength||0)/1024),ke=f.getTile(y).tileSize,Be=512/Math.min(ke,512)*(y.overscaledZ/z.transform.zoom)*.5;let tt=y.canonical.toString();y.overscaledZ!==y.canonical.z&&(tt+=` => ${y.overscaledZ}`),function(nt,pt){nt.initDebugOverlayCanvas();const bt=nt.debugOverlayCanvas,wt=nt.context.gl,Et=nt.debugOverlayCanvas.getContext("2d");Et.clearRect(0,0,bt.width,bt.height),Et.shadowColor="white",Et.shadowBlur=2,Et.lineWidth=1.5,Et.strokeStyle="white",Et.textBaseline="top",Et.font="bold 36px Open Sans, sans-serif",Et.fillText(pt,5,5),Et.strokeText(pt,5,5),nt.debugOverlayTexture.update(bt),nt.debugOverlayTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE)}(z,`${tt} ${Ce}kB`);const Je=z.transform.getProjectionData({overscaledTileID:y,applyGlobeMatrix:!0,applyTerrainMatrix:!0});F.draw(T,$.TRIANGLES,W,ne,fr.alphaBlended,Lr.disabled,_h(o.b7.transparent,Be),null,Je,de,z.debugBuffer,z.quadTriangleIndexBuffer,z.debugSegments),F.draw(T,$.LINE_STRIP,W,ne,se,Lr.disabled,_h(o.b7.red),ve,Je,de,z.debugBuffer,z.tileBorderIndexBuffer,z.debugSegments)}function _l(z,f,y,T){const{isRenderingGlobe:$}=T,F=z.context,W=F.gl,ne=z.transform,se=z.colorModeForRenderPass(),de=z.getDepthModeFor3D(),ve=z.useProgram("terrain");F.bindFramebuffer.set(null),F.viewport.set([0,0,z.width,z.height]);for(const Ee of y){const Ce=f.getTerrainMesh(Ee.tileID),ke=z.renderToTexture.getTexture(Ee),Be=f.getTerrainData(Ee.tileID);F.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,ke.texture);const tt=f.getMeshFrameDelta(ne.zoom),Je=ne.calculateFogMatrix(Ee.tileID.toUnwrapped()),nt=nu(tt,Je,z.style.sky,ne.pitch,$),pt=ne.getProjectionData({overscaledTileID:Ee.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ve.draw(F,W.TRIANGLES,de,Pi.disabled,se,Lr.backCCW,nt,Be,pt,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}}function zd(z,f){if(!f.mesh){const y=new o.aF;y.emplaceBack(-1,-1),y.emplaceBack(1,-1),y.emplaceBack(1,1),y.emplaceBack(-1,1);const T=new o.aH;T.emplaceBack(0,1,2),T.emplaceBack(0,2,3),f.mesh=new ci(z.createVertexBuffer(y,Ci.members),z.createIndexBuffer(T),o.aG.simpleSegment(0,0,y.length,T.length))}return f.mesh}class Nc{constructor(f,y){this.context=new Ah(f),this.transform=y,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.at(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=be.maxUnderzooming+be.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ai}resize(f,y,T){if(this.width=Math.floor(f*T),this.height=Math.floor(y*T),this.pixelRatio=T,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const $ of this.style._order)this.style._layers[$].resize()}setup(){const f=this.context,y=new o.aF;y.emplaceBack(0,0),y.emplaceBack(o.Z,0),y.emplaceBack(0,o.Z),y.emplaceBack(o.Z,o.Z),this.tileExtentBuffer=f.createVertexBuffer(y,Ci.members),this.tileExtentSegments=o.aG.simpleSegment(0,0,4,2);const T=new o.aF;T.emplaceBack(0,0),T.emplaceBack(o.Z,0),T.emplaceBack(0,o.Z),T.emplaceBack(o.Z,o.Z),this.debugBuffer=f.createVertexBuffer(T,Ci.members),this.debugSegments=o.aG.simpleSegment(0,0,4,5);const $=new o.bW;$.emplaceBack(0,0,0,0),$.emplaceBack(o.Z,0,o.Z,0),$.emplaceBack(0,o.Z,0,o.Z),$.emplaceBack(o.Z,o.Z,o.Z,o.Z),this.rasterBoundsBuffer=f.createVertexBuffer($,_o.members),this.rasterBoundsSegments=o.aG.simpleSegment(0,0,4,2);const F=new o.aF;F.emplaceBack(0,0),F.emplaceBack(o.Z,0),F.emplaceBack(0,o.Z),F.emplaceBack(o.Z,o.Z),this.rasterBoundsBufferPosOnly=f.createVertexBuffer(F,Ci.members),this.rasterBoundsSegmentsPosOnly=o.aG.simpleSegment(0,0,4,5);const W=new o.aF;W.emplaceBack(0,0),W.emplaceBack(1,0),W.emplaceBack(0,1),W.emplaceBack(1,1),this.viewportBuffer=f.createVertexBuffer(W,Ci.members),this.viewportSegments=o.aG.simpleSegment(0,0,4,2);const ne=new o.bX;ne.emplaceBack(0),ne.emplaceBack(1),ne.emplaceBack(3),ne.emplaceBack(2),ne.emplaceBack(0),this.tileBorderIndexBuffer=f.createIndexBuffer(ne);const se=new o.aH;se.emplaceBack(1,0,2),se.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=f.createIndexBuffer(se);const de=this.context.gl;this.stencilClearMode=new Pi({func:de.ALWAYS,mask:0},0,255,de.ZERO,de.ZERO,de.ZERO),this.tileExtentMesh=new ci(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const f=this.context,y=f.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const T=o.K();o.bO(T,0,this.width,this.height,0,0,1),o.M(T,T,[y.drawingBufferWidth,y.drawingBufferHeight,0]);const $={mainMatrix:T,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:T};this.useProgram("clippingMask",null,!0).draw(f,y.TRIANGLES,Ir.disabled,this.stencilClearMode,fr.disabled,Lr.disabled,null,null,$,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(f,y,T){if(this.currentStencilSource===f.source||!f.isTileClipped()||!y||!y.length)return;this.currentStencilSource=f.source,this.nextStencilID+y.length>256&&this.clearStencil();const $=this.context;$.setColorMode(fr.disabled),$.setDepthMode(Ir.disabled);const F={};for(const W of y)F[W.key]=this.nextStencilID++;this._renderTileMasks(F,y,T,!0),this._renderTileMasks(F,y,T,!1),this._tileClippingMaskIDs=F}_renderTileMasks(f,y,T,$){const F=this.context,W=F.gl,ne=this.style.projection,se=this.transform,de=this.useProgram("clippingMask");for(const ve of y){const Ee=f[ve.key],Ce=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ve),ke=ne.getMeshFromTileID(this.context,ve.canonical,$,!0,"stencil"),Be=se.getProjectionData({overscaledTileID:ve,applyGlobeMatrix:!0,applyTerrainMatrix:!0});de.draw(F,W.TRIANGLES,Ir.disabled,new Pi({func:W.ALWAYS,mask:0},Ee,255,W.KEEP,W.KEEP,W.REPLACE),fr.disabled,T?Lr.disabled:Lr.backCCW,null,Ce,Be,"$clipping",ke.vertexBuffer,ke.indexBuffer,ke.segments)}}_renderTilesDepthBuffer(){const f=this.context,y=f.gl,T=this.style.projection,$=this.transform,F=this.useProgram("depth"),W=this.getDepthModeFor3D(),ne=He($,{tileSize:$.tileSize});for(const se of ne){const de=this.style.map.terrain&&this.style.map.terrain.getTerrainData(se),ve=T.getMeshFromTileID(this.context,se.canonical,!0,!0,"raster"),Ee=$.getProjectionData({overscaledTileID:se,applyGlobeMatrix:!0,applyTerrainMatrix:!0});F.draw(f,y.TRIANGLES,W,Pi.disabled,fr.disabled,Lr.backCCW,null,de,Ee,"$clipping",ve.vertexBuffer,ve.indexBuffer,ve.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const f=this.nextStencilID++,y=this.context.gl;return new Pi({func:y.NOTEQUAL,mask:255},f,255,y.KEEP,y.KEEP,y.REPLACE)}stencilModeForClipping(f){const y=this.context.gl;return new Pi({func:y.EQUAL,mask:255},this._tileClippingMaskIDs[f.key],0,y.KEEP,y.KEEP,y.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(f){const y=this.context.gl,T=f.sort((W,ne)=>ne.overscaledZ-W.overscaledZ),$=T[T.length-1].overscaledZ,F=T[0].overscaledZ-$+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const W={};for(let ne=0;ne<F;ne++)W[ne+$]=new Pi({func:y.GEQUAL,mask:255},ne+this.nextStencilID,255,y.KEEP,y.KEEP,y.REPLACE);return this.nextStencilID+=F,[W,T]}return[{[$]:Pi.disabled},T]}stencilConfigForOverlapTwoPass(f){const y=this.context.gl,T=f.sort((W,ne)=>ne.overscaledZ-W.overscaledZ),$=T[T.length-1].overscaledZ,F=T[0].overscaledZ-$+1;if(this.clearStencil(),F>1){const W={},ne={};for(let se=0;se<F;se++)W[se+$]=new Pi({func:y.GREATER,mask:255},F+1+se,255,y.KEEP,y.KEEP,y.REPLACE),ne[se+$]=new Pi({func:y.GREATER,mask:255},1+se,255,y.KEEP,y.KEEP,y.REPLACE);return this.nextStencilID=2*F+1,[W,ne,T]}return this.nextStencilID=3,[{[$]:new Pi({func:y.GREATER,mask:255},2,255,y.KEEP,y.KEEP,y.REPLACE)},{[$]:new Pi({func:y.GREATER,mask:255},1,255,y.KEEP,y.KEEP,y.REPLACE)},T]}colorModeForRenderPass(){const f=this.context.gl;return this._showOverdrawInspector?new fr([f.CONSTANT_COLOR,f.ONE],new o.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?fr.unblended:fr.alphaBlended}getDepthModeForSublayer(f,y,T){if(!this.opaquePassEnabledForLayer())return Ir.disabled;const $=1-((1+this.currentLayer)*this.numSublayers+f)*this.depthEpsilon;return new Ir(T||this.context.gl.LEQUAL,y,[$,$])}getDepthModeFor3D(){return new Ir(this.context.gl.LEQUAL,Ir.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(f,y){var T,$;this.style=f,this.options=y,this.lineAtlas=f.lineAtlas,this.imageManager=f.imageManager,this.glyphManager=f.glyphManager,this.symbolFadeChange=f.placement.symbolFadeChange(h.now()),this.imageManager.beginFrame();const F=this.style._order,W=this.style.sourceCaches,ne={},se={},de={},ve={isRenderingToTexture:!1,isRenderingGlobe:((T=f.projection)===null||T===void 0?void 0:T.transitionState)>0};for(const Ce in W){const ke=W[Ce];ke.used&&ke.prepare(this.context),ne[Ce]=ke.getVisibleCoordinates(!1),se[Ce]=ne[Ce].slice().reverse(),de[Ce]=ke.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ce=0;Ce<F.length;Ce++)if(this.style._layers[F[Ce]].is3D()){this.opaquePassCutoff=Ce;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Ce of F){const ke=this.style._layers[Ce];if(!ke.hasOffscreenPass()||ke.isHidden(this.transform.zoom))continue;const Be=se[ke.source];(ke.type==="custom"||Be.length)&&this.renderLayer(this,W[ke.source],ke,Be,ve)}if(($=this.style.projection)===null||$===void 0||$.updateGPUdependent({context:this.context,useProgram:Ce=>this.useProgram(Ce)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:y.showOverdrawInspector?o.b7.black:o.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Ce,ke){const Be=Ce.context,tt=Be.gl,Je=((Pt,Mt,en)=>{const Xt=Math.cos(Mt.rollInRadians),bn=Math.sin(Mt.rollInRadians),wn=bo(Mt),vn=Mt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Pt.properties.get("sky-color"),u_horizon_color:Pt.properties.get("horizon-color"),u_horizon:[(Mt.width/2-wn*bn)*en,(Mt.height/2+wn*Xt)*en],u_horizon_normal:[-bn,Xt],u_sky_horizon_blend:Pt.properties.get("sky-horizon-blend")*Mt.height/2*en,u_sky_blend:vn}})(ke,Ce.style.map.transform,Ce.pixelRatio),nt=new Ir(tt.LEQUAL,Ir.ReadWrite,[0,1]),pt=Pi.disabled,bt=Ce.colorModeForRenderPass(),wt=Ce.useProgram("sky"),Et=zd(Be,ke);wt.draw(Be,tt.TRIANGLES,nt,pt,bt,Lr.disabled,Je,null,void 0,"sky",Et.vertexBuffer,Et.indexBuffer,Et.segments)}(this,this.style.sky),this._showOverdrawInspector=y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(f._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=F.length-1;this.currentLayer>=0;this.currentLayer--){const Ce=this.style._layers[F[this.currentLayer]],ke=W[Ce.source],Be=ne[Ce.source];this._renderTileClippingMasks(Ce,Be,!1),this.renderLayer(this,ke,Ce,Be,ve)}this.renderPass="translucent";let Ee=!1;for(this.currentLayer=0;this.currentLayer<F.length;this.currentLayer++){const Ce=this.style._layers[F[this.currentLayer]],ke=W[Ce.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Ce,ve))continue;this.opaquePassEnabledForLayer()||Ee||(Ee=!0,ve.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Be=(Ce.type==="symbol"?de:se)[Ce.source];this._renderTileClippingMasks(Ce,ne[Ce.source],!1),this.renderLayer(this,ke,Ce,Be,ve)}if(ve.isRenderingGlobe&&function(Ce,ke,Be){const tt=Ce.context,Je=tt.gl,nt=Ce.useProgram("atmosphere"),pt=new Ir(Je.LEQUAL,Ir.ReadOnly,[0,1]),bt=Ce.transform,wt=function(vn,Mn){const Zn=vn.properties.get("position"),Nn=[-Zn.x,-Zn.y,-Zn.z],yr=o.at(new Float64Array(16));return vn.properties.get("anchor")==="map"&&(o.a_(yr,yr,Mn.rollInRadians),o.a$(yr,yr,-Mn.pitchInRadians),o.a_(yr,yr,Mn.bearingInRadians),o.a$(yr,yr,Mn.center.lat*Math.PI/180),o.bm(yr,yr,-Mn.center.lng*Math.PI/180)),o.bV(Nn,Nn,yr),Nn}(Be,Ce.transform),Et=bt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pt=ke.properties.get("atmosphere-blend")*Et.projectionTransition;if(Pt===0)return;const Mt=Cu(bt.worldSize,bt.center.lat),en=bt.inverseProjectionMatrix,Xt=new Float64Array(4);Xt[3]=1,o.ap(Xt,Xt,bt.modelViewProjectionMatrix),Xt[0]/=Xt[3],Xt[1]/=Xt[3],Xt[2]/=Xt[3],Xt[3]=1,o.ap(Xt,Xt,en),Xt[0]/=Xt[3],Xt[1]/=Xt[3],Xt[2]/=Xt[3],Xt[3]=1;const bn=((vn,Mn,Zn,Nn,yr)=>({u_sun_pos:vn,u_atmosphere_blend:Mn,u_globe_position:Zn,u_globe_radius:Nn,u_inv_proj_matrix:yr}))(wt,Pt,[Xt[0],Xt[1],Xt[2]],Mt,en),wn=zd(tt,ke);nt.draw(tt,Je.TRIANGLES,pt,Pi.disabled,fr.alphaBlended,Lr.disabled,bn,null,null,"atmosphere",wn.vertexBuffer,wn.indexBuffer,wn.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Ce=function(ke,Be){let tt=null;const Je=Object.values(ke._layers).flatMap(wt=>wt.source&&!wt.isHidden(Be)?[ke.sourceCaches[wt.source]]:[]),nt=Je.filter(wt=>wt.getSource().type==="vector"),pt=Je.filter(wt=>wt.getSource().type!=="vector"),bt=wt=>{(!tt||tt.getSource().maxzoom<wt.getSource().maxzoom)&&(tt=wt)};return nt.forEach(wt=>bt(wt)),tt||pt.forEach(wt=>bt(wt)),tt}(this.style,this.transform.zoom);Ce&&function(ke,Be,tt){for(let Je=0;Je<tt.length;Je++)Yl(ke,Be,tt[Je])}(this,Ce,Ce.getVisibleCoordinates())}this.options.showPadding&&function(Ce){const ke=Ce.transform.padding;ys(Ce,Ce.transform.height-(ke.top||0),3,uf),ys(Ce,ke.bottom||0,3,io),xo(Ce,ke.left||0,3,Zf),xo(Ce,Ce.transform.width-(ke.right||0),3,vc);const Be=Ce.transform.centerPoint;(function(tt,Je,nt,pt){mi(tt,Je-1,nt-10,2,20,pt),mi(tt,Je-10,nt-1,20,2,pt)})(Ce,Be.x,Ce.transform.height-Be.y,kh)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(f){if(!this.style||!this.style.map||!this.style.map.terrain)return;const y=this.terrainFacilitator.matrix,T=this.transform.modelViewProjectionMatrix;let $=this.terrainFacilitator.dirty;$||($=f?!o.bY(y,T):!o.bZ(y,T)),$||($=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),$&&(o.b_(y,T),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(F,W){const ne=F.context,se=ne.gl,de=F.transform,ve=fr.unblended,Ee=new Ir(se.LEQUAL,Ir.ReadWrite,[0,1]),Ce=W.sourceCache.getRenderableTiles(),ke=F.useProgram("terrainDepth");ne.bindFramebuffer.set(W.getFramebuffer("depth").framebuffer),ne.viewport.set([0,0,F.width/devicePixelRatio,F.height/devicePixelRatio]),ne.clear({color:o.b7.transparent,depth:1});for(const Be of Ce){const tt=W.getTerrainMesh(Be.tileID),Je=W.getTerrainData(Be.tileID),nt=de.getProjectionData({overscaledTileID:Be.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),pt={u_ele_delta:W.getMeshFrameDelta(de.zoom)};ke.draw(ne,se.TRIANGLES,Ee,Pi.disabled,ve,Lr.backCCW,pt,Je,nt,"terrain",tt.vertexBuffer,tt.indexBuffer,tt.segments)}ne.bindFramebuffer.set(null),ne.viewport.set([0,0,F.width,F.height])}(this,this.style.map.terrain),function(F,W){const ne=F.context,se=ne.gl,de=F.transform,ve=fr.unblended,Ee=new Ir(se.LEQUAL,Ir.ReadWrite,[0,1]),Ce=W.getCoordsTexture(),ke=W.sourceCache.getRenderableTiles(),Be=F.useProgram("terrainCoords");ne.bindFramebuffer.set(W.getFramebuffer("coords").framebuffer),ne.viewport.set([0,0,F.width/devicePixelRatio,F.height/devicePixelRatio]),ne.clear({color:o.b7.transparent,depth:1}),W.coordsIndex=[];for(const tt of ke){const Je=W.getTerrainMesh(tt.tileID),nt=W.getTerrainData(tt.tileID);ne.activeTexture.set(se.TEXTURE0),se.bindTexture(se.TEXTURE_2D,Ce.texture);const pt={u_terrain_coords_id:(255-W.coordsIndex.length)/255,u_texture:0,u_ele_delta:W.getMeshFrameDelta(de.zoom)},bt=de.getProjectionData({overscaledTileID:tt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Be.draw(ne,se.TRIANGLES,Ee,Pi.disabled,ve,Lr.backCCW,pt,nt,bt,"terrain",Je.vertexBuffer,Je.indexBuffer,Je.segments),W.coordsIndex.push(tt.tileID.key)}ne.bindFramebuffer.set(null),ne.viewport.set([0,0,F.width,F.height])}(this,this.style.map.terrain))}renderLayer(f,y,T,$,F){T.isHidden(this.transform.zoom)||(T.type==="background"||T.type==="custom"||($||[]).length)&&(this.id=T.id,o.b$(T)?function(W,ne,se,de,ve,Ee){if(W.renderPass!=="translucent")return;const{isRenderingToTexture:Ce}=Ee,ke=Pi.disabled,Be=W.colorModeForRenderPass();(se._unevaluatedLayout.hasValue("text-variable-anchor")||se._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(tt,Je,nt,pt,bt,wt,Et,Pt,Mt){const en=Je.transform,Xt=Je.style.map.terrain,bn=bt==="map",wn=wt==="map";for(const vn of tt){const Mn=pt.getTile(vn),Zn=Mn.getBucket(nt);if(!Zn||!Zn.text||!Zn.text.segments.get().length)continue;const Nn=o.ag(Zn.textSizeData,en.zoom),yr=o.aw(Mn,1,Je.transform.zoom),ti=_t(bn,Je.transform,yr),Zi=nt.layout.get("icon-text-fit")!=="none"&&Zn.hasIconData();if(Nn){const vi=Math.pow(2,en.zoom-Mn.tileID.overscaledZ),Ni=Xt?(ao,Va)=>Xt.getElevation(vn,ao,Va):null;Nd(Zn,bn,wn,Mt,en,ti,vi,Nn,Zi,o.ax(en,Mn,Et,Pt),vn.toUnwrapped(),Ni)}}}(de,W,se,ne,se.layout.get("text-rotation-alignment"),se.layout.get("text-pitch-alignment"),se.paint.get("text-translate"),se.paint.get("text-translate-anchor"),ve),se.paint.get("icon-opacity").constantOr(1)!==0&&Xf(W,ne,se,de,!1,se.paint.get("icon-translate"),se.paint.get("icon-translate-anchor"),se.layout.get("icon-rotation-alignment"),se.layout.get("icon-pitch-alignment"),se.layout.get("icon-keep-upright"),ke,Be,Ce),se.paint.get("text-opacity").constantOr(1)!==0&&Xf(W,ne,se,de,!0,se.paint.get("text-translate"),se.paint.get("text-translate-anchor"),se.layout.get("text-rotation-alignment"),se.layout.get("text-pitch-alignment"),se.layout.get("text-keep-upright"),ke,Be,Ce),ne.map.showCollisionBoxes&&(Yf(W,ne,se,de,!0),Yf(W,ne,se,de,!1))}(f,y,T,$,this.style.placement.variableOffsets,F):o.c0(T)?function(W,ne,se,de,ve){if(W.renderPass!=="translucent")return;const{isRenderingToTexture:Ee}=ve,Ce=se.paint.get("circle-opacity"),ke=se.paint.get("circle-stroke-width"),Be=se.paint.get("circle-stroke-opacity"),tt=!se.layout.get("circle-sort-key").isConstant();if(Ce.constantOr(1)===0&&(ke.constantOr(1)===0||Be.constantOr(1)===0))return;const Je=W.context,nt=Je.gl,pt=W.transform,bt=W.getDepthModeForSublayer(0,Ir.ReadOnly),wt=Pi.disabled,Et=W.colorModeForRenderPass(),Pt=[],Mt=pt.getCircleRadiusCorrection();for(let en=0;en<de.length;en++){const Xt=de[en],bn=ne.getTile(Xt),wn=bn.getBucket(se);if(!wn)continue;const vn=se.paint.get("circle-translate"),Mn=se.paint.get("circle-translate-anchor"),Zn=o.ax(pt,bn,vn,Mn),Nn=wn.programConfigurations.get(se.id),yr=W.useProgram("circle",Nn),ti=wn.layoutVertexBuffer,Zi=wn.indexBuffer,vi=W.style.map.terrain&&W.style.map.terrain.getTerrainData(Xt),Ni={programConfiguration:Nn,program:yr,layoutVertexBuffer:ti,indexBuffer:Zi,uniformValues:bh(W,bn,se,Zn,Mt),terrainData:vi,projectionData:pt.getProjectionData({overscaledTileID:Xt,applyGlobeMatrix:!Ee,applyTerrainMatrix:!0})};if(tt){const ao=wn.segments.get();for(const Va of ao)Pt.push({segments:new o.aG([Va]),sortKey:Va.sortKey,state:Ni})}else Pt.push({segments:wn.segments,sortKey:0,state:Ni})}tt&&Pt.sort((en,Xt)=>en.sortKey-Xt.sortKey);for(const en of Pt){const{programConfiguration:Xt,program:bn,layoutVertexBuffer:wn,indexBuffer:vn,uniformValues:Mn,terrainData:Zn,projectionData:Nn}=en.state;bn.draw(Je,nt.TRIANGLES,bt,wt,Et,Lr.backCCW,Mn,Zn,Nn,se.id,wn,vn,en.segments,se.paint,W.transform.zoom,Xt)}}(f,y,T,$,F):o.c1(T)?function(W,ne,se,de,ve){if(se.paint.get("heatmap-opacity")===0)return;const Ee=W.context,{isRenderingToTexture:Ce,isRenderingGlobe:ke}=ve;if(W.style.map.terrain){for(const Be of de){const tt=ne.getTile(Be);ne.hasRenderableParent(Be)||(W.renderPass==="offscreen"?Ph(W,tt,se,Be,ke):W.renderPass==="translucent"&&Bg(W,se,Be,Ce,ke))}Ee.viewport.set([0,0,W.width,W.height])}else W.renderPass==="offscreen"?function(Be,tt,Je,nt){const pt=Be.context,bt=pt.gl,wt=Be.transform,Et=Pi.disabled,Pt=new fr([bt.ONE,bt.ONE],o.b7.transparent,[!0,!0,!0,!0]);(function(Mt,en,Xt){const bn=Mt.gl;Mt.activeTexture.set(bn.TEXTURE1),Mt.viewport.set([0,0,en.width/4,en.height/4]);let wn=Xt.heatmapFbos.get(o.bS);wn?(bn.bindTexture(bn.TEXTURE_2D,wn.colorAttachment.get()),Mt.bindFramebuffer.set(wn.framebuffer)):(wn=Rh(Mt,en.width/4,en.height/4),Xt.heatmapFbos.set(o.bS,wn))})(pt,Be,Je),pt.clear({color:o.b7.transparent});for(let Mt=0;Mt<nt.length;Mt++){const en=nt[Mt];if(tt.hasRenderableParent(en))continue;const Xt=tt.getTile(en),bn=Xt.getBucket(Je);if(!bn)continue;const wn=bn.programConfigurations.get(Je.id),vn=Be.useProgram("heatmap",wn),Mn=wt.getProjectionData({overscaledTileID:en,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Zn=wt.getCircleRadiusCorrection();vn.draw(pt,bt.TRIANGLES,Ir.disabled,Et,Pt,Lr.backCCW,Pg(Xt,wt.zoom,Je.paint.get("heatmap-intensity"),Zn),null,Mn,Je.id,bn.layoutVertexBuffer,bn.indexBuffer,bn.segments,Je.paint,wt.zoom,wn)}pt.viewport.set([0,0,Be.width,Be.height])}(W,ne,se,de):W.renderPass==="translucent"&&function(Be,tt){const Je=Be.context,nt=Je.gl;Je.setColorMode(Be.colorModeForRenderPass());const pt=tt.heatmapFbos.get(o.bS);pt&&(Je.activeTexture.set(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,pt.colorAttachment.get()),Je.activeTexture.set(nt.TEXTURE1),Iu(Je,tt).bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Be.useProgram("heatmapTexture").draw(Je,nt.TRIANGLES,Ir.disabled,Pi.disabled,Be.colorModeForRenderPass(),Lr.disabled,Fm(Be,tt,0,1),null,null,tt.id,Be.viewportBuffer,Be.quadTriangleIndexBuffer,Be.viewportSegments,tt.paint,Be.transform.zoom))}(W,se)}(f,y,T,$,F):o.c2(T)?function(W,ne,se,de,ve){if(W.renderPass!=="translucent")return;const{isRenderingToTexture:Ee}=ve,Ce=se.paint.get("line-opacity"),ke=se.paint.get("line-width");if(Ce.constantOr(1)===0||ke.constantOr(1)===0)return;const Be=W.getDepthModeForSublayer(0,Ir.ReadOnly),tt=W.colorModeForRenderPass(),Je=se.paint.get("line-dasharray"),nt=se.paint.get("line-pattern"),pt=nt.constantOr(1),bt=se.paint.get("line-gradient"),wt=se.getCrossfadeParameters(),Et=pt?"linePattern":Je?"lineSDF":bt?"lineGradient":"line",Pt=W.context,Mt=Pt.gl,en=W.transform;let Xt=!0;for(const bn of de){const wn=ne.getTile(bn);if(pt&&!wn.patternsLoaded())continue;const vn=wn.getBucket(se);if(!vn)continue;const Mn=vn.programConfigurations.get(se.id),Zn=W.context.program.get(),Nn=W.useProgram(Et,Mn),yr=Xt||Nn.program!==Zn,ti=W.style.map.terrain&&W.style.map.terrain.getTerrainData(bn),Zi=nt.constantOr(null);if(Zi&&wn.imageAtlas){const wa=wn.imageAtlas,Da=wa.patternPositions[Zi.to.toString()],Yo=wa.patternPositions[Zi.from.toString()];Da&&Yo&&Mn.setConstantPatternPositions(Da,Yo)}const vi=en.getProjectionData({overscaledTileID:bn,applyGlobeMatrix:!Ee,applyTerrainMatrix:!0}),Ni=en.getPixelScale(),ao=pt?kd(W,wn,se,Ni,wt):Je?_p(W,wn,se,Ni,Je,wt):bt?gc(W,wn,se,Ni,vn.lineClipsArray.length):$g(W,wn,se,Ni);if(pt)Pt.activeTexture.set(Mt.TEXTURE0),wn.imageAtlasTexture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),Mn.updatePaintBuffers(wt);else if(Je&&(yr||W.lineAtlas.dirty))Pt.activeTexture.set(Mt.TEXTURE0),W.lineAtlas.bind(Pt);else if(bt){const wa=vn.gradients[se.id];let Da=wa.texture;if(se.gradientVersion!==wa.version){let Yo=256;if(se.stepInterpolant){const Aa=ne.getSource().maxzoom,wo=bn.canonical.z===Aa?Math.ceil(1<<W.transform.maxZoom-bn.canonical.z):1;Yo=o.ae(o.bT(vn.maxLineLength/o.Z*1024*wo),256,Pt.maxTextureSize)}wa.gradient=o.bU({expression:se.gradientExpression(),evaluationKey:"lineProgress",resolution:Yo,image:wa.gradient||void 0,clips:vn.lineClipsArray}),wa.texture?wa.texture.update(wa.gradient):wa.texture=new H(Pt,wa.gradient,Mt.RGBA),wa.version=se.gradientVersion,Da=wa.texture}Pt.activeTexture.set(Mt.TEXTURE0),Da.bind(se.stepInterpolant?Mt.NEAREST:Mt.LINEAR,Mt.CLAMP_TO_EDGE)}let Va;if(Ee){const[wa]=W.getStencilConfigForOverlapAndUpdateStencilID(de);Va=wa[bn.overscaledZ]}else Va=W.stencilModeForClipping(bn);Nn.draw(Pt,Mt.TRIANGLES,Be,Va,tt,Lr.disabled,ao,ti,vi,se.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,se.paint,W.transform.zoom,Mn,vn.layoutVertexBuffer2),Xt=!1}}(f,y,T,$,F):o.c3(T)?function(W,ne,se,de,ve){const Ee=se.paint.get("fill-color"),Ce=se.paint.get("fill-opacity");if(Ce.constantOr(1)===0)return;const{isRenderingToTexture:ke}=ve,Be=W.colorModeForRenderPass(),tt=se.paint.get("fill-pattern"),Je=W.opaquePassEnabledForLayer()&&!tt.constantOr(1)&&Ee.constantOr(o.b7.transparent).a===1&&Ce.constantOr(0)===1?"opaque":"translucent";if(W.renderPass===Je){const nt=W.getDepthModeForSublayer(1,W.renderPass==="opaque"?Ir.ReadWrite:Ir.ReadOnly);$h(W,ne,se,de,nt,Be,!1,ke)}if(W.renderPass==="translucent"&&se.paint.get("fill-antialias")){const nt=W.getDepthModeForSublayer(se.getPaintProperty("fill-outline-color")?2:0,Ir.ReadOnly);$h(W,ne,se,de,nt,Be,!0,ke)}}(f,y,T,$,F):o.c4(T)?function(W,ne,se,de,ve){const Ee=se.paint.get("fill-extrusion-opacity");if(Ee===0)return;const{isRenderingToTexture:Ce}=ve;if(W.renderPass==="translucent"){const ke=new Ir(W.context.gl.LEQUAL,Ir.ReadWrite,W.depthRangeFor3D);if(Ee!==1||se.paint.get("fill-extrusion-pattern").constantOr(1))Dd(W,ne,se,de,ke,Pi.disabled,fr.disabled,Ce),Dd(W,ne,se,de,ke,W.stencilModeFor3D(),W.colorModeForRenderPass(),Ce);else{const Be=W.colorModeForRenderPass();Dd(W,ne,se,de,ke,Pi.disabled,Be,Ce)}}}(f,y,T,$,F):o.c5(T)?function(W,ne,se,de,ve){if(W.renderPass!=="offscreen"&&W.renderPass!=="translucent")return;const{isRenderingToTexture:Ee}=ve,Ce=W.context,ke=W.style.projection.useSubdivision,Be=W.getDepthModeForSublayer(0,Ir.ReadOnly),tt=W.colorModeForRenderPass();if(W.renderPass==="offscreen")(function(Je,nt,pt,bt,wt,Et,Pt){const Mt=Je.context,en=Mt.gl;for(const Xt of pt){const bn=nt.getTile(Xt),wn=bn.dem;if(!wn||!wn.data||!bn.needsHillshadePrepare)continue;const vn=wn.dim,Mn=wn.stride,Zn=wn.getPixels();if(Mt.activeTexture.set(en.TEXTURE1),Mt.pixelStoreUnpackPremultiplyAlpha.set(!1),bn.demTexture=bn.demTexture||Je.getTileTexture(Mn),bn.demTexture){const yr=bn.demTexture;yr.update(Zn,{premultiply:!1}),yr.bind(en.NEAREST,en.CLAMP_TO_EDGE)}else bn.demTexture=new H(Mt,Zn,en.RGBA,{premultiply:!1}),bn.demTexture.bind(en.NEAREST,en.CLAMP_TO_EDGE);Mt.activeTexture.set(en.TEXTURE0);let Nn=bn.fbo;if(!Nn){const yr=new H(Mt,{width:vn,height:vn,data:null},en.RGBA);yr.bind(en.LINEAR,en.CLAMP_TO_EDGE),Nn=bn.fbo=Mt.createFramebuffer(vn,vn,!0,!1),Nn.colorAttachment.set(yr.texture)}Mt.bindFramebuffer.set(Nn.framebuffer),Mt.viewport.set([0,0,vn,vn]),Je.useProgram("hillshadePrepare").draw(Mt,en.TRIANGLES,wt,Et,Pt,Lr.disabled,Wf(bn.tileID,wn),null,null,bt.id,Je.rasterBoundsBuffer,Je.quadTriangleIndexBuffer,Je.rasterBoundsSegments),bn.needsHillshadePrepare=!1}})(W,ne,de,se,Be,Pi.disabled,tt),Ce.viewport.set([0,0,W.width,W.height]);else if(W.renderPass==="translucent")if(ke){const[Je,nt,pt]=W.stencilConfigForOverlapTwoPass(de);Kl(W,ne,se,pt,Je,Be,tt,!1,Ee),Kl(W,ne,se,pt,nt,Be,tt,!0,Ee)}else{const[Je,nt]=W.getStencilConfigForOverlapAndUpdateStencilID(de);Kl(W,ne,se,nt,Je,Be,tt,!1,Ee)}}(f,y,T,$,F):o.c6(T)?function(W,ne,se,de,ve){if(W.renderPass!=="translucent"||se.paint.get("raster-opacity")===0||!de.length)return;const{isRenderingToTexture:Ee}=ve,Ce=ne.getSource(),ke=W.style.projection.useSubdivision;if(Ce instanceof Jt)Ha(W,ne,se,de,null,!1,!1,Ce.tileCoords,Ce.flippedWindingOrder,Ee);else if(ke){const[Be,tt,Je]=W.stencilConfigForOverlapTwoPass(de);Ha(W,ne,se,Je,Be,!1,!0,bl,!1,Ee),Ha(W,ne,se,Je,tt,!0,!0,bl,!1,Ee)}else{const[Be,tt]=W.getStencilConfigForOverlapAndUpdateStencilID(de);Ha(W,ne,se,tt,Be,!1,!0,bl,!1,Ee)}}(f,y,T,$,F):o.c7(T)?function(W,ne,se,de,ve){const Ee=se.paint.get("background-color"),Ce=se.paint.get("background-opacity");if(Ce===0)return;const{isRenderingToTexture:ke}=ve,Be=W.context,tt=Be.gl,Je=W.style.projection,nt=W.transform,pt=nt.tileSize,bt=se.paint.get("background-pattern");if(W.isPatternMissing(bt))return;const wt=!bt&&Ee.a===1&&Ce===1&&W.opaquePassEnabledForLayer()?"opaque":"translucent";if(W.renderPass!==wt)return;const Et=Pi.disabled,Pt=W.getDepthModeForSublayer(0,wt==="opaque"?Ir.ReadWrite:Ir.ReadOnly),Mt=W.colorModeForRenderPass(),en=W.useProgram(bt?"backgroundPattern":"background"),Xt=de||He(nt,{tileSize:pt,terrain:W.style.map.terrain});bt&&(Be.activeTexture.set(tt.TEXTURE0),W.imageManager.bind(W.context));const bn=se.getCrossfadeParameters();for(const wn of Xt){const vn=nt.getProjectionData({overscaledTileID:wn,applyGlobeMatrix:!ke,applyTerrainMatrix:!0}),Mn=bt?Ng(Ce,W,bt,{tileID:wn,tileSize:pt},bn):qf(Ce,Ee),Zn=W.style.map.terrain&&W.style.map.terrain.getTerrainData(wn),Nn=Je.getMeshFromTileID(Be,wn.canonical,!1,!0,"raster");en.draw(Be,tt.TRIANGLES,Pt,Et,Mt,Lr.backCCW,Mn,Zn,vn,se.id,Nn.vertexBuffer,Nn.indexBuffer,Nn.segments)}}(f,0,T,$,F):o.c8(T)&&function(W,ne,se,de){const{isRenderingGlobe:ve}=de,Ee=W.context,Ce=se.implementation,ke=W.style.projection,Be=W.transform,tt=Be.getProjectionDataForCustomLayer(ve),Je={farZ:Be.farZ,nearZ:Be.nearZ,fov:Be.fov*Math.PI/180,modelViewProjectionMatrix:Be.modelViewProjectionMatrix,projectionMatrix:Be.projectionMatrix,shaderData:{variantName:ke.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ke.shaderPreludeCode.vertexSource}`,define:ke.shaderDefine},defaultProjectionData:tt},nt=Ce.renderingMode?Ce.renderingMode:"2d";if(W.renderPass==="offscreen"){const pt=Ce.prerender;pt&&(W.setCustomLayerDefaults(),Ee.setColorMode(W.colorModeForRenderPass()),pt.call(Ce,Ee.gl,Je),Ee.setDirty(),W.setBaseState())}else if(W.renderPass==="translucent"){W.setCustomLayerDefaults(),Ee.setColorMode(W.colorModeForRenderPass()),Ee.setStencilMode(Pi.disabled);const pt=nt==="3d"?W.getDepthModeFor3D():W.getDepthModeForSublayer(0,Ir.ReadOnly);Ee.setDepthMode(pt),Ce.render(Ee.gl,Je),Ee.setDirty(),W.setBaseState(),Ee.bindFramebuffer.set(null)}}(f,0,T,F))}saveTileTexture(f){const y=this._tileTextures[f.size[0]];y?y.push(f):this._tileTextures[f.size[0]]=[f]}getTileTexture(f){const y=this._tileTextures[f];return y&&y.length>0?y.pop():null}isPatternMissing(f){if(!f)return!1;if(!f.from||!f.to)return!0;const y=this.imageManager.getPattern(f.from.toString()),T=this.imageManager.getPattern(f.to.toString());return!y||!T}useProgram(f,y,T=!1){this.cache=this.cache||{};const $=!!this.style.map.terrain,F=this.style.projection,W=f+(y?y.cacheKey:"")+`/${T?ro:F.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+($?"/terrain":"");return this.cache[W]||(this.cache[W]=new Tg(this.context,Jn[f],y,xp[f],this._showOverdrawInspector,$,T?Jn.projectionMercator:F.shaderPreludeCode,T?Ei:F.shaderDefine)),this.cache[W]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const f=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(f.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new H(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:f,drawingBufferHeight:y}=this.context.gl;return this.width!==f||this.height!==y}}function Wm(z,f){let y,T=!1,$=null,F=null;const W=()=>{$=null,T&&(z.apply(F,y),$=setTimeout(W,f),T=!1)};return(...ne)=>(T=!0,F=this,y=ne,$||W(),$)}class qm{constructor(f){this._getCurrentHash=()=>{const y=window.location.hash.replace("#","");if(this._hashName){let T;return y.split("&").map($=>$.split("=")).forEach($=>{$[0]===this._hashName&&(T=$)}),(T&&T[1]||"").split("/")}return y.split("/")},this._onHashChange=()=>{const y=this._getCurrentHash();if(!this._isValidHash(y))return!1;const T=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(y[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+y[2],+y[1]],zoom:+y[0],bearing:T,pitch:+(y[4]||0)}),!0},this._updateHashUnthrottled=()=>{const y=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,y)},this._removeHash=()=>{const y=this._getCurrentHash();if(y.length===0)return;const T=y.join("/");let $=T;$.split("&").length>0&&($=$.split("&")[0]),this._hashName&&($=`${this._hashName}=${T}`);let F=window.location.hash.replace($,"");F.startsWith("#&")?F=F.slice(0,1)+F.slice(2):F==="#"&&(F="");let W=window.location.href.replace(/(#.+)?$/,F);W=W.replace("&&","&"),window.history.replaceState(window.history.state,null,W)},this._updateHash=Wm(this._updateHashUnthrottled,300),this._hashName=f&&encodeURIComponent(f)}addTo(f){return this._map=f,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(f){const y=this._map.getCenter(),T=Math.round(100*this._map.getZoom())/100,$=Math.ceil((T*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,$),W=Math.round(y.lng*F)/F,ne=Math.round(y.lat*F)/F,se=this._map.getBearing(),de=this._map.getPitch();let ve="";if(ve+=f?`/${W}/${ne}/${T}`:`${T}/${ne}/${W}`,(se||de)&&(ve+="/"+Math.round(10*se)/10),de&&(ve+=`/${Math.round(de)}`),this._hashName){const Ee=this._hashName;let Ce=!1;const ke=window.location.hash.slice(1).split("&").map(Be=>{const tt=Be.split("=")[0];return tt===Ee?(Ce=!0,`${tt}=${ve}`):Be}).filter(Be=>Be);return Ce||ke.push(`${Ee}=${ve}`),`#${ke.join("&")}`}return`#${ve}`}_isValidHash(f){if(f.length<3||f.some(isNaN))return!1;try{new o.Q(+f[2],+f[1])}catch{return!1}const y=+f[0],T=+(f[3]||0),$=+(f[4]||0);return y>=this._map.getMinZoom()&&y<=this._map.getMaxZoom()&&T>=-180&&T<=180&&$>=this._map.getMinPitch()&&$<=this._map.getMaxPitch()}}const ff={linearity:.3,easing:o.c9(0,0,.3,1)},Pu=o.e({deceleration:2500,maxSpeed:1400},ff),T0=o.e({deceleration:20,maxSpeed:1400},ff),Qf=o.e({deceleration:1e3,maxSpeed:360},ff),Bd=o.e({deceleration:1e3,maxSpeed:90},ff),Jf=o.e({deceleration:1e3,maxSpeed:360},ff);class Ve{constructor(f){this._map=f,this.clear()}clear(){this._inertiaBuffer=[]}record(f){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:h.now(),settings:f})}_drainInertiaBuffer(){const f=this._inertiaBuffer,y=h.now();for(;f.length>0&&y-f[0].time>160;)f.shift()}_onMoveEnd(f){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const y={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)y.zoom+=F.zoomDelta||0,y.bearing+=F.bearingDelta||0,y.pitch+=F.pitchDelta||0,y.roll+=F.rollDelta||0,F.panDelta&&y.pan._add(F.panDelta),F.around&&(y.around=F.around),F.pinchAround&&(y.pinchAround=F.pinchAround);const T=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,$={};if(y.pan.mag()){const F=xl(y.pan.mag(),T,o.e({},Pu,f||{})),W=y.pan.mult(F.amount/y.pan.mag()),ne=this._map.cameraHelper.handlePanInertia(W,this._map.transform);$.center=ne.easingCenter,$.offset=ne.easingOffset,cl($,F)}if(y.zoom){const F=xl(y.zoom,T,T0);$.zoom=this._map.transform.zoom+F.amount,cl($,F)}if(y.bearing){const F=xl(y.bearing,T,Qf);$.bearing=this._map.transform.bearing+o.ae(F.amount,-179,179),cl($,F)}if(y.pitch){const F=xl(y.pitch,T,Bd);$.pitch=this._map.transform.pitch+F.amount,cl($,F)}if(y.roll){const F=xl(y.roll,T,Jf);$.roll=this._map.transform.roll+o.ae(F.amount,-179,179),cl($,F)}if($.zoom||$.bearing){const F=y.pinchAround===void 0?y.around:y.pinchAround;$.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),o.e($,{noMoveStart:!0})}}function cl(z,f){(!z.duration||z.duration<f.duration)&&(z.duration=f.duration,z.easing=f.easing)}function xl(z,f,y){const{maxSpeed:T,linearity:$,deceleration:F}=y,W=o.ae(z*$/(f/1e3),-T,T),ne=Math.abs(W)/(F*$);return{easing:y.easing,duration:1e3*ne,amount:W*(ne/2)}}class Ka extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,y,T,$={}){T=T instanceof MouseEvent?T:new MouseEvent(f,T);const F=g.mousePos(y.getCanvas(),T),W=y.unproject(F);super(f,o.e({point:F,lngLat:W,originalEvent:T},$)),this._defaultPrevented=!1,this.target=y}}class Oi extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,y,T){const $=f==="touchend"?T.changedTouches:T.touches,F=g.touchPos(y.getCanvasContainer(),$),W=F.map(se=>y.unproject(se)),ne=F.reduce((se,de,ve,Ee)=>se.add(de.div(Ee.length)),new o.P(0,0));super(f,{points:F,point:ne,lngLats:W,lngLat:y.unproject(ne),originalEvent:T}),this._defaultPrevented=!1}}class jl extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,y,T){super(f,{originalEvent:T}),this._defaultPrevented=!1}}class Dc{constructor(f,y){this._map=f,this._clickTolerance=y.clickTolerance}reset(){delete this._mousedownPos}wheel(f){return this._firePreventable(new jl(f.type,this._map,f))}mousedown(f,y){return this._mousedownPos=y,this._firePreventable(new Ka(f.type,this._map,f))}mouseup(f){this._map.fire(new Ka(f.type,this._map,f))}click(f,y){this._mousedownPos&&this._mousedownPos.dist(y)>=this._clickTolerance||this._map.fire(new Ka(f.type,this._map,f))}dblclick(f){return this._firePreventable(new Ka(f.type,this._map,f))}mouseover(f){this._map.fire(new Ka(f.type,this._map,f))}mouseout(f){this._map.fire(new Ka(f.type,this._map,f))}touchstart(f){return this._firePreventable(new Oi(f.type,this._map,f))}touchmove(f){this._map.fire(new Oi(f.type,this._map,f))}touchend(f){this._map.fire(new Oi(f.type,this._map,f))}touchcancel(f){this._map.fire(new Oi(f.type,this._map,f))}_firePreventable(f){if(this._map.fire(f),f.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jd{constructor(f){this._map=f}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(f){this._map.fire(new Ka(f.type,this._map,f))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ka("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(f){this._delayContextMenu?this._contextMenuEvent=f:this._ignoreContextMenu||this._map.fire(new Ka(f.type,this._map,f)),this._map.listens("contextmenu")&&f.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ca{constructor(f){this._map=f}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(f){return this.transform.screenPointToLocation(o.P.convert(f),this._map.terrain)}}class df{constructor(f,y){this._map=f,this._tr=new ca(f),this._el=f.getCanvasContainer(),this._container=f.getContainer(),this._clickTolerance=y.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(f,y){this.isEnabled()&&f.shiftKey&&f.button===0&&(g.disableDrag(),this._startPos=this._lastPos=y,this._active=!0)}mousemoveWindow(f,y){if(!this._active)return;const T=y;if(this._lastPos.equals(T)||!this._box&&T.dist(this._startPos)<this._clickTolerance)return;const $=this._startPos;this._lastPos=T,this._box||(this._box=g.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",f));const F=Math.min($.x,T.x),W=Math.max($.x,T.x),ne=Math.min($.y,T.y),se=Math.max($.y,T.y);g.setTransform(this._box,`translate(${F}px,${ne}px)`),this._box.style.width=W-F+"px",this._box.style.height=se-ne+"px"}mouseupWindow(f,y){if(!this._active||f.button!==0)return;const T=this._startPos,$=y;if(this.reset(),g.suppressClick(),T.x!==$.x||T.y!==$.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:f})),{cameraAnimation:F=>F.fitScreenCoordinates(T,$,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",f)}keydown(f){this._active&&f.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",f))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(f,y){return this._map.fire(new o.l(f,{originalEvent:y}))}}function Km(z,f){if(z.length!==f.length)throw new Error(`The number of touches and points are not equal - touches ${z.length}, points ${f.length}`);const y={};for(let T=0;T<z.length;T++)y[z[T].identifier]=f[T];return y}class G1{constructor(f){this.reset(),this.numTouches=f.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(f,y,T){(this.centroid||T.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=f.timeStamp),T.length===this.numTouches&&(this.centroid=function($){const F=new o.P(0,0);for(const W of $)F._add(W);return F.div($.length)}(y),this.touches=Km(T,y)))}touchmove(f,y,T){if(this.aborted||!this.centroid)return;const $=Km(T,y);for(const F in this.touches){const W=$[F];(!W||W.dist(this.touches[F])>30)&&(this.aborted=!0)}}touchend(f,y,T){if((!this.centroid||f.timeStamp-this.startTime>500)&&(this.aborted=!0),T.length===0){const $=!this.aborted&&this.centroid;if(this.reset(),$)return $}}}class M0{constructor(f){this.singleTap=new G1(f),this.numTaps=f.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(f,y,T){this.singleTap.touchstart(f,y,T)}touchmove(f,y,T){this.singleTap.touchmove(f,y,T)}touchend(f,y,T){const $=this.singleTap.touchend(f,y,T);if($){const F=f.timeStamp-this.lastTime<500,W=!this.lastTap||this.lastTap.dist($)<30;if(F&&W||this.reset(),this.count++,this.lastTime=f.timeStamp,this.lastTap=$,this.count===this.numTaps)return this.reset(),$}}}class W1{constructor(f){this._tr=new ca(f),this._zoomIn=new M0({numTouches:1,numTaps:2}),this._zoomOut=new M0({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(f,y,T){this._zoomIn.touchstart(f,y,T),this._zoomOut.touchstart(f,y,T)}touchmove(f,y,T){this._zoomIn.touchmove(f,y,T),this._zoomOut.touchmove(f,y,T)}touchend(f,y,T){const $=this._zoomIn.touchend(f,y,T),F=this._zoomOut.touchend(f,y,T),W=this._tr;return $?(this._active=!0,f.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ne=>ne.easeTo({duration:300,zoom:W.zoom+1,around:W.unproject($)},{originalEvent:f})}):F?(this._active=!0,f.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ne=>ne.easeTo({duration:300,zoom:W.zoom-1,around:W.unproject(F)},{originalEvent:f})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ma{constructor(f){this._enabled=!!f.enable,this._moveStateManager=f.moveStateManager,this._clickTolerance=f.clickTolerance||1,this._moveFunction=f.move,this._activateOnStart=!!f.activateOnStart,f.assignEvents(this),this.reset()}reset(f){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(f)}_move(...f){const y=this._moveFunction(...f);if(y.bearingDelta||y.pitchDelta||y.rollDelta||y.around||y.panDelta)return this._active=!0,y}dragStart(f,y){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(f)&&(this._moveStateManager.startMove(f),this._lastPoint=Array.isArray(y)?y[0]:y,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(f,y){if(!this.isEnabled())return;const T=this._lastPoint;if(!T)return;if(f.preventDefault(),!this._moveStateManager.isValidMoveEvent(f))return void this.reset(f);const $=Array.isArray(y)?y[0]:y;return!this._moved&&$.dist(T)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=$,this._move(T,$))}dragEnd(f){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(f)&&(this._moved&&g.suppressClick(),this.reset(f))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Lh={0:1,2:2};class wl{constructor(f){this._correctEvent=f.checkCorrectEvent}startMove(f){const y=g.mouseButton(f);this._eventButton=y}endMove(f){delete this._eventButton}isValidStartEvent(f){return this._correctEvent(f)}isValidMoveEvent(f){return!function(y,T){const $=Lh[T];return y.buttons===void 0||(y.buttons&$)!==$}(f,this._eventButton)}isValidEndEvent(f){return g.mouseButton(f)===this._eventButton}}class lr{constructor(){this._firstTouch=void 0}_isOneFingerTouch(f){return f.targetTouches.length===1}_isSameTouchEvent(f){return f.targetTouches[0].identifier===this._firstTouch}startMove(f){this._firstTouch=f.targetTouches[0].identifier}endMove(f){delete this._firstTouch}isValidStartEvent(f){return this._isOneFingerTouch(f)}isValidMoveEvent(f){return this._isOneFingerTouch(f)&&this._isSameTouchEvent(f)}isValidEndEvent(f){return this._isOneFingerTouch(f)&&this._isSameTouchEvent(f)}}class Ym{constructor(f=new wl({checkCorrectEvent:()=>!0}),y=new lr){this.mouseMoveStateManager=f,this.oneFingerTouchMoveStateManager=y}_executeRelevantHandler(f,y,T){return f instanceof MouseEvent?y(f):typeof TouchEvent<"u"&&f instanceof TouchEvent?T(f):void 0}startMove(f){this._executeRelevantHandler(f,y=>this.mouseMoveStateManager.startMove(y),y=>this.oneFingerTouchMoveStateManager.startMove(y))}endMove(f){this._executeRelevantHandler(f,y=>this.mouseMoveStateManager.endMove(y),y=>this.oneFingerTouchMoveStateManager.endMove(y))}isValidStartEvent(f){return this._executeRelevantHandler(f,y=>this.mouseMoveStateManager.isValidStartEvent(y),y=>this.oneFingerTouchMoveStateManager.isValidStartEvent(y))}isValidMoveEvent(f){return this._executeRelevantHandler(f,y=>this.mouseMoveStateManager.isValidMoveEvent(y),y=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(y))}isValidEndEvent(f){return this._executeRelevantHandler(f,y=>this.mouseMoveStateManager.isValidEndEvent(y),y=>this.oneFingerTouchMoveStateManager.isValidEndEvent(y))}}const Ru=z=>{z.mousedown=z.dragStart,z.mousemoveWindow=z.dragMove,z.mouseup=z.dragEnd,z.contextmenu=f=>{f.preventDefault()}};class Xl{constructor(f,y){this._clickTolerance=f.clickTolerance||1,this._map=y,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(f){return f<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(f,y,T){return this._calculateTransform(f,y,T)}touchmove(f,y,T){if(this._active){if(!this._shouldBePrevented(T.length))return f.preventDefault(),this._calculateTransform(f,y,T);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",f)}}touchend(f,y,T){this._calculateTransform(f,y,T),this._active&&this._shouldBePrevented(T.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(f,y,T){T.length>0&&(this._active=!0);const $=Km(T,y),F=new o.P(0,0),W=new o.P(0,0);let ne=0;for(const de in $){const ve=$[de],Ee=this._touches[de];Ee&&(F._add(ve),W._add(ve.sub(Ee)),ne++,$[de]=ve)}if(this._touches=$,this._shouldBePrevented(ne)||!W.mag())return;const se=W.div(ne);return this._sum._add(se),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(ne),panDelta:se}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nh{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(f,y,T){this._firstTwoTouches||T.length<2||(this._firstTwoTouches=[T[0].identifier,T[1].identifier],this._start([y[0],y[1]]))}touchmove(f,y,T){if(!this._firstTwoTouches)return;f.preventDefault();const[$,F]=this._firstTwoTouches,W=ed(T,y,$),ne=ed(T,y,F);if(!W||!ne)return;const se=this._aroundCenter?null:W.add(ne).div(2);return this._move([W,ne],se,f)}touchend(f,y,T){if(!this._firstTwoTouches)return;const[$,F]=this._firstTwoTouches,W=ed(T,y,$),ne=ed(T,y,F);W&&ne||(this._active&&g.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(f){this._enabled=!0,this._aroundCenter=!!f&&f.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ed(z,f,y){for(let T=0;T<z.length;T++)if(z[T].identifier===y)return f[T]}function A0(z,f){return Math.log(z/f)/Math.LN2}class Li extends Nh{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(f){this._startDistance=this._distance=f[0].dist(f[1])}_move(f,y){const T=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(A0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:A0(this._distance,T),pinchAround:y}}}function hf(z,f){return 180*z.angleWith(f)/Math.PI}class pf extends Nh{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])}_move(f,y,T){const $=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:hf(this._vector,$),pinchAround:y}}_isBelowThreshold(f){this._minDiameter=Math.min(this._minDiameter,f.mag());const y=25/(Math.PI*this._minDiameter)*360,T=hf(f,this._startVector);return Math.abs(T)<y}}function Fd(z){return Math.abs(z.y)>Math.abs(z.x)}class I0 extends Nh{constructor(f){super(),this._currentTouchCount=0,this._map=f}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(f,y,T){super.touchstart(f,y,T),this._currentTouchCount=T.length}_start(f){this._lastPoints=f,Fd(f[0].sub(f[1]))&&(this._valid=!1)}_move(f,y,T){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const $=f[0].sub(this._lastPoints[0]),F=f[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically($,F,T.timeStamp),this._valid?(this._lastPoints=f,this._active=!0,{pitchDelta:($.y+F.y)/2*-.5}):void 0}gestureBeginsVertically(f,y,T){if(this._valid!==void 0)return this._valid;const $=f.mag()>=2,F=y.mag()>=2;if(!$&&!F)return;if(!$||!F)return this._firstMove===void 0&&(this._firstMove=T),T-this._firstMove<100&&void 0;const W=f.y>0==y.y>0;return Fd(f)&&Fd(y)&&W}}const Zl={panStep:100,bearingStep:15,pitchStep:10};class Xm{constructor(f){this._tr=new ca(f);const y=Zl;this._panStep=y.panStep,this._bearingStep=y.bearingStep,this._pitchStep=y.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(f){if(f.altKey||f.ctrlKey||f.metaKey)return;let y=0,T=0,$=0,F=0,W=0;switch(f.keyCode){case 61:case 107:case 171:case 187:y=1;break;case 189:case 109:case 173:y=-1;break;case 37:f.shiftKey?T=-1:(f.preventDefault(),F=-1);break;case 39:f.shiftKey?T=1:(f.preventDefault(),F=1);break;case 38:f.shiftKey?$=1:(f.preventDefault(),W=-1);break;case 40:f.shiftKey?$=-1:(f.preventDefault(),W=1);break;default:return}return this._rotationDisabled&&(T=0,$=0),{cameraAnimation:ne=>{const se=this._tr;ne.easeTo({duration:300,easeId:"keyboardHandler",easing:Sp,zoom:y?Math.round(se.zoom)+y*(f.shiftKey?2:1):se.zoom,bearing:se.bearing+T*this._bearingStep,pitch:se.pitch+$*this._pitchStep,offset:[-F*this._panStep,-W*this._panStep],center:se.center},{originalEvent:f})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sp(z){return z*(2-z)}const jg=4.000244140625;class P0{constructor(f,y){this._onTimeout=T=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(T)},this._map=f,this._tr=new ca(f),this._triggerRenderFrame=y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(f){this._defaultZoomRate=f}setWheelZoomRate(f){this._wheelZoomRate=f}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(f){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!f&&f.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(f){return!!this._map.cooperativeGestures.isEnabled()&&!(f.ctrlKey||this._map.cooperativeGestures.isBypassed(f))}wheel(f){if(!this.isEnabled())return;if(this._shouldBePrevented(f))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",f);let y=f.deltaMode===WheelEvent.DOM_DELTA_LINE?40*f.deltaY:f.deltaY;const T=h.now(),$=T-(this._lastWheelEventTime||0);this._lastWheelEventTime=T,y!==0&&y%jg==0?this._type="wheel":y!==0&&Math.abs(y)<4?this._type="trackpad":$>400?(this._type=null,this._lastValue=y,this._timeout=setTimeout(this._onTimeout,40,f)):this._type||(this._type=Math.abs($*y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,y+=this._lastValue)),f.shiftKey&&y&&(y/=4),this._type&&(this._lastWheelEvent=f,this._delta-=y,this._active||this._start(f)),f.preventDefault()}_start(f){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const y=g.mousePos(this._map.getCanvas(),f),T=this._tr;this._aroundPoint=this._aroundCenter?T.transform.locationToScreenPoint(o.Q.convert(T.center)):y,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const f=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const ne=f.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=ne),typeof this._targetZoom=="number"&&(this._targetZoom+=ne)}if(this._delta!==0){const ne=this._type==="wheel"&&Math.abs(this._delta)>jg?this._wheelZoomRate:this._defaultZoomRate;let se=2/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&se!==0&&(se=1/se);const de=typeof this._targetZoom!="number"?f.scale:o.aI(this._targetZoom);this._targetZoom=Math.min(f.maxZoom,Math.max(f.minZoom,o.ab(de*se))),this._type==="wheel"&&(this._startZoom=f.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const y=typeof this._targetZoom!="number"?f.zoom:this._targetZoom,T=this._startZoom,$=this._easing;let F,W=!1;if(this._type==="wheel"&&T&&$){const ne=h.now()-this._lastWheelEventTime,se=Math.min((ne+5)/200,1),de=$(se);F=o.B.number(T,y,de),se<1?this._frameId||(this._frameId=!0):W=!0}else F=y,W=!0;return this._active=!0,W&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=F,{noInertia:!0,needsRenderFrame:!W,zoomDelta:F-f.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(f){let y=o.cb;if(this._prevEase){const T=this._prevEase,$=(h.now()-T.start)/T.duration,F=T.easing($+.01)-T.easing($),W=.27/Math.sqrt(F*F+1e-4)*.01,ne=Math.sqrt(.0729-W*W);y=o.c9(W,ne,.25,1)}return this._prevEase={start:h.now(),duration:f,easing:y},y}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Cp{constructor(f,y){this._clickZoom=f,this._tapZoom=y}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class R0{constructor(f){this._tr=new ca(f),this.reset()}reset(){this._active=!1}dblclick(f,y){return f.preventDefault(),{cameraAnimation:T=>{T.easeTo({duration:300,zoom:this._tr.zoom+(f.shiftKey?-1:1),around:this._tr.unproject(y)},{originalEvent:f})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ep{constructor(){this._tap=new M0({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(f,y,T){if(!this._swipePoint)if(this._tapTime){const $=y[0],F=f.timeStamp-this._tapTime<500,W=this._tapPoint.dist($)<30;F&&W?T.length>0&&(this._swipePoint=$,this._swipeTouch=T[0].identifier):this.reset()}else this._tap.touchstart(f,y,T)}touchmove(f,y,T){if(this._tapTime){if(this._swipePoint){if(T[0].identifier!==this._swipeTouch)return;const $=y[0],F=$.y-this._swipePoint.y;return this._swipePoint=$,f.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(f,y,T)}touchend(f,y,T){if(this._tapTime)this._swipePoint&&T.length===0&&this.reset();else{const $=this._tap.touchend(f,y,T);$&&(this._tapTime=f.timeStamp,this._tapPoint=$)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gf{constructor(f,y,T){this._el=f,this._mousePan=y,this._touchPan=T}enable(f){this._inertiaOptions=f||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ho{constructor(f,y,T,$){this._pitchWithRotate=f.pitchWithRotate,this._rollEnabled=f.rollEnabled,this._mouseRotate=y,this._mousePitch=T,this._mouseRoll=$}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class yc{constructor(f,y,T,$){this._el=f,this._touchZoom=y,this._touchRotate=T,this._tapDragZoom=$,this._rotationDisabled=!1,this._enabled=!0}enable(f){this._touchZoom.enable(f),this._rotationDisabled||this._touchRotate.enable(f),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class mf{constructor(f,y){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=f,this._options=y,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const f=this._map.getCanvasContainer();f.classList.add("maplibregl-cooperative-gestures"),this._container=g.create("div","maplibregl-cooperative-gesture-screen",f);let y=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(y=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const T=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),$=document.createElement("div");$.className="maplibregl-desktop-message",$.textContent=y,this._container.appendChild($);const F=document.createElement("div");F.className="maplibregl-mobile-message",F.textContent=T,this._container.appendChild(F),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(g.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(f){return f[this._bypassKey]}notifyGestureBlocked(f,y){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:f,originalEvent:y})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const vf=z=>z.zoom||z.drag||z.roll||z.pitch||z.rotate;class td extends o.l{}function ou(z){return z.panDelta&&z.panDelta.mag()||z.zoomDelta||z.bearingDelta||z.pitchDelta||z.rollDelta}class Fg{constructor(f,y){this.handleWindowEvent=$=>{this.handleEvent($,`${$.type}Window`)},this.handleEvent=($,F)=>{if($.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const W=$.type==="renderFrame"?void 0:$,ne={needsRenderFrame:!1},se={},de={};for(const{handlerName:Ce,handler:ke,allowed:Be}of this._handlers){if(!ke.isEnabled())continue;let tt;if(this._blockedByActive(de,Be,Ce))ke.reset();else if(ke[F||$.type]){if(o.cc($,F||$.type)){const Je=g.mousePos(this._map.getCanvas(),$);tt=ke[F||$.type]($,Je)}else if(o.cd($,F||$.type)){const Je=this._getMapTouches($.touches),nt=g.touchPos(this._map.getCanvas(),Je);tt=ke[F||$.type]($,nt,Je)}else o.ce(F||$.type)||(tt=ke[F||$.type]($));this.mergeHandlerResult(ne,se,tt,Ce,W),tt&&tt.needsRenderFrame&&this._triggerRenderFrame()}(tt||ke.isActive())&&(de[Ce]=ke)}const ve={};for(const Ce in this._previousActiveHandlers)de[Ce]||(ve[Ce]=W);this._previousActiveHandlers=de,(Object.keys(ve).length||ou(ne))&&(this._changes.push([ne,se,ve]),this._triggerRenderFrame()),(Object.keys(de).length||ou(ne))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ee}=ne;Ee&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ee(this._map))},this._map=f,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ve(f),this._bearingSnap=y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(y);const T=this._el;this._listeners=[[T,"touchstart",{passive:!0}],[T,"touchmove",{passive:!1}],[T,"touchend",void 0],[T,"touchcancel",void 0],[T,"mousedown",void 0],[T,"mousemove",void 0],[T,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[T,"mouseover",void 0],[T,"mouseout",void 0],[T,"dblclick",void 0],[T,"click",void 0],[T,"keydown",{capture:!1}],[T,"keyup",void 0],[T,"wheel",{passive:!1}],[T,"contextmenu",void 0],[window,"blur",void 0]];for(const[$,F,W]of this._listeners)g.addEventListener($,F,$===document?this.handleWindowEvent:this.handleEvent,W)}destroy(){for(const[f,y,T]of this._listeners)g.removeEventListener(f,y,f===document?this.handleWindowEvent:this.handleEvent,T)}_addDefaultHandlers(f){const y=this._map,T=y.getCanvasContainer();this._add("mapEvent",new Dc(y,f));const $=y.boxZoom=new df(y,f);this._add("boxZoom",$),f.interactive&&f.boxZoom&&$.enable();const F=y.cooperativeGestures=new mf(y,f.cooperativeGestures);this._add("cooperativeGestures",F),f.cooperativeGestures&&F.enable();const W=new W1(y),ne=new R0(y);y.doubleClickZoom=new Cp(ne,W),this._add("tapZoom",W),this._add("clickZoom",ne),f.interactive&&f.doubleClickZoom&&y.doubleClickZoom.enable();const se=new Ep;this._add("tapDragZoom",se);const de=y.touchPitch=new I0(y);this._add("touchPitch",de),f.interactive&&f.touchPitch&&y.touchPitch.enable(f.touchPitch);const ve=()=>y.project(y.getCenter()),Ee=function({enable:wt,clickTolerance:Et,aroundCenter:Pt=!0,minPixelCenterThreshold:Mt=100,rotateDegreesPerPixelMoved:en=.8},Xt){const bn=new wl({checkCorrectEvent:wn=>g.mouseButton(wn)===0&&wn.ctrlKey||g.mouseButton(wn)===2&&!wn.ctrlKey});return new Ma({clickTolerance:Et,move:(wn,vn)=>{const Mn=Xt();if(Pt&&Math.abs(Mn.y-wn.y)>Mt)return{bearingDelta:o.ca(new o.P(wn.x,vn.y),vn,Mn)};let Zn=(vn.x-wn.x)*en;return Pt&&vn.y<Mn.y&&(Zn=-Zn),{bearingDelta:Zn}},moveStateManager:bn,enable:wt,assignEvents:Ru})}(f,ve),Ce=function({enable:wt,clickTolerance:Et,pitchDegreesPerPixelMoved:Pt=-.5}){const Mt=new wl({checkCorrectEvent:en=>g.mouseButton(en)===0&&en.ctrlKey||g.mouseButton(en)===2});return new Ma({clickTolerance:Et,move:(en,Xt)=>({pitchDelta:(Xt.y-en.y)*Pt}),moveStateManager:Mt,enable:wt,assignEvents:Ru})}(f),ke=function({enable:wt,clickTolerance:Et,rollDegreesPerPixelMoved:Pt=.3},Mt){const en=new wl({checkCorrectEvent:Xt=>g.mouseButton(Xt)===2&&Xt.ctrlKey});return new Ma({clickTolerance:Et,move:(Xt,bn)=>{const wn=Mt();let vn=(bn.x-Xt.x)*Pt;return bn.y<wn.y&&(vn=-vn),{rollDelta:vn}},moveStateManager:en,enable:wt,assignEvents:Ru})}(f,ve);y.dragRotate=new ho(f,Ee,Ce,ke),this._add("mouseRotate",Ee,["mousePitch"]),this._add("mousePitch",Ce,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ke,["mousePitch"]),f.interactive&&f.dragRotate&&y.dragRotate.enable();const Be=function({enable:wt,clickTolerance:Et}){const Pt=new wl({checkCorrectEvent:Mt=>g.mouseButton(Mt)===0&&!Mt.ctrlKey});return new Ma({clickTolerance:Et,move:(Mt,en)=>({around:en,panDelta:en.sub(Mt)}),activateOnStart:!0,moveStateManager:Pt,enable:wt,assignEvents:Ru})}(f),tt=new Xl(f,y);y.dragPan=new gf(T,Be,tt),this._add("mousePan",Be),this._add("touchPan",tt,["touchZoom","touchRotate"]),f.interactive&&f.dragPan&&y.dragPan.enable(f.dragPan);const Je=new pf,nt=new Li;y.touchZoomRotate=new yc(T,nt,Je,se),this._add("touchRotate",Je,["touchPan","touchZoom"]),this._add("touchZoom",nt,["touchPan","touchRotate"]),f.interactive&&f.touchZoomRotate&&y.touchZoomRotate.enable(f.touchZoomRotate);const pt=y.scrollZoom=new P0(y,()=>this._triggerRenderFrame());this._add("scrollZoom",pt,["mousePan"]),f.interactive&&f.scrollZoom&&y.scrollZoom.enable(f.scrollZoom);const bt=y.keyboard=new Xm(y);this._add("keyboard",bt),f.interactive&&f.keyboard&&y.keyboard.enable(),this._add("blockableMapEvent",new jd(y))}_add(f,y,T){this._handlers.push({handlerName:f,handler:y,allowed:T}),this._handlersById[f]=y}stop(f){if(!this._updatingCamera){for(const{handler:y}of this._handlers)y.reset();this._inertia.clear(),this._fireEvents({},{},f),this._changes=[]}}isActive(){for(const{handler:f}of this._handlers)if(f.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vf(this._eventsInProgress)||this.isZooming()}_blockedByActive(f,y,T){for(const $ in f)if($!==T&&(!y||y.indexOf($)<0))return!0;return!1}_getMapTouches(f){const y=[];for(const T of f)this._el.contains(T.target)&&y.push(T);return y}mergeHandlerResult(f,y,T,$,F){if(!T)return;o.e(f,T);const W={handlerName:$,originalEvent:T.originalEvent||F};T.zoomDelta!==void 0&&(y.zoom=W),T.panDelta!==void 0&&(y.drag=W),T.rollDelta!==void 0&&(y.roll=W),T.pitchDelta!==void 0&&(y.pitch=W),T.bearingDelta!==void 0&&(y.rotate=W)}_applyChanges(){const f={},y={},T={};for(const[$,F,W]of this._changes)$.panDelta&&(f.panDelta=(f.panDelta||new o.P(0,0))._add($.panDelta)),$.zoomDelta&&(f.zoomDelta=(f.zoomDelta||0)+$.zoomDelta),$.bearingDelta&&(f.bearingDelta=(f.bearingDelta||0)+$.bearingDelta),$.pitchDelta&&(f.pitchDelta=(f.pitchDelta||0)+$.pitchDelta),$.rollDelta&&(f.rollDelta=(f.rollDelta||0)+$.rollDelta),$.around!==void 0&&(f.around=$.around),$.pinchAround!==void 0&&(f.pinchAround=$.pinchAround),$.noInertia&&(f.noInertia=$.noInertia),o.e(y,F),o.e(T,W);this._updateMapTransform(f,y,T),this._changes=[]}_updateMapTransform(f,y,T){const $=this._map,F=$._getTransformForUpdate(),W=$.terrain;if(!(ou(f)||W&&this._terrainMovement))return this._fireEvents(y,T,!0);$._stop(!0);let{panDelta:ne,zoomDelta:se,bearingDelta:de,pitchDelta:ve,rollDelta:Ee,around:Ce,pinchAround:ke}=f;ke!==void 0&&(Ce=ke),Ce=Ce||$.transform.centerPoint,W&&!F.isPointOnMapSurface(Ce)&&(Ce=F.centerPoint);const Be={panDelta:ne,zoomDelta:se,rollDelta:Ee,pitchDelta:ve,bearingDelta:de,around:Ce};this._map.cameraHelper.useGlobeControls&&!F.isPointOnMapSurface(Ce)&&(Ce=F.centerPoint);const tt=Ce.distSqr(F.centerPoint)<.01?F.center:F.screenPointToLocation(ne?Ce.sub(ne):Ce);W?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Be,F),this._terrainMovement||!y.drag&&!y.zoom?y.drag&&this._terrainMovement?F.setCenter(F.screenPointToLocation(F.centerPoint.sub(ne))):this._map.cameraHelper.handleMapControlsPan(Be,F,tt):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Be,F,tt))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Be,F),this._map.cameraHelper.handleMapControlsPan(Be,F,tt)),$._applyUpdatedTransform(F),this._map._update(),f.noInertia||this._inertia.record(f),this._fireEvents(y,T,!0)}_fireEvents(f,y,T){const $=vf(this._eventsInProgress),F=vf(f),W={};for(const Ee in f){const{originalEvent:Ce}=f[Ee];this._eventsInProgress[Ee]||(W[`${Ee}start`]=Ce),this._eventsInProgress[Ee]=f[Ee]}!$&&F&&this._fireEvent("movestart",F.originalEvent);for(const Ee in W)this._fireEvent(Ee,W[Ee]);F&&this._fireEvent("move",F.originalEvent);for(const Ee in f){const{originalEvent:Ce}=f[Ee];this._fireEvent(Ee,Ce)}const ne={};let se;for(const Ee in this._eventsInProgress){const{handlerName:Ce,originalEvent:ke}=this._eventsInProgress[Ee];this._handlersById[Ce].isActive()||(delete this._eventsInProgress[Ee],se=y[Ce]||ke,ne[`${Ee}end`]=se)}for(const Ee in ne)this._fireEvent(Ee,ne[Ee]);const de=vf(this._eventsInProgress),ve=($||F)&&!de;if(ve&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Ee=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Ee.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Ee)}if(T&&ve){this._updatingCamera=!0;const Ee=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ce=ke=>ke!==0&&-this._bearingSnap<ke&&ke<this._bearingSnap;!Ee||!Ee.essential&&h.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:se})),Ce(this._map.getBearing())&&this._map.resetNorth()):(Ce(Ee.bearing||this._map.getBearing())&&(Ee.bearing=0),Ee.freezeElevation=!0,this._map.easeTo(Ee,{originalEvent:se})),this._updatingCamera=!1}}_fireEvent(f,y){this._map.fire(new o.l(f,y?{originalEvent:y}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(f=>{delete this._frameId,this.handleEvent(new td("renderFrame",{timeStamp:f})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ds extends o.E{constructor(f,y,T){super(),this._renderFrameCallback=()=>{const $=Math.min((h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing($)),$<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=T.bearingSnap,this.cameraHelper=y,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(f,y){f.apply(this.transform),this.transform=f,this.cameraHelper=y}getCenter(){return new o.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(f,y){return this.jumpTo({center:f},y)}getCenterElevation(){return this.transform.elevation}setCenterElevation(f,y){return this.jumpTo({elevation:f},y),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(f){this._centerClampedToGround=f}panBy(f,y,T){return f=o.P.convert(f).mult(-1),this.panTo(this.transform.center,o.e({offset:f},y),T)}panTo(f,y,T){return this.easeTo(o.e({center:f},y),T)}getZoom(){return this.transform.zoom}setZoom(f,y){return this.jumpTo({zoom:f},y),this}zoomTo(f,y,T){return this.easeTo(o.e({zoom:f},y),T)}zoomIn(f,y){return this.zoomTo(this.getZoom()+1,f,y),this}zoomOut(f,y){return this.zoomTo(this.getZoom()-1,f,y),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(f,y){return f!=this.transform.fov&&(this.transform.setFov(f),this.fire(new o.l("movestart",y)).fire(new o.l("move",y)).fire(new o.l("moveend",y))),this}getBearing(){return this.transform.bearing}setBearing(f,y){return this.jumpTo({bearing:f},y),this}getPadding(){return this.transform.padding}setPadding(f,y){return this.jumpTo({padding:f},y),this}rotateTo(f,y,T){return this.easeTo(o.e({bearing:f},y),T)}resetNorth(f,y){return this.rotateTo(0,o.e({duration:1e3},f),y),this}resetNorthPitch(f,y){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},f),y),this}snapToNorth(f,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,y):this}getPitch(){return this.transform.pitch}setPitch(f,y){return this.jumpTo({pitch:f},y),this}getRoll(){return this.transform.roll}setRoll(f,y){return this.jumpTo({roll:f},y),this}cameraForBounds(f,y){f=We.convert(f).adjustAntiMeridian();const T=y&&y.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),T,y)}_cameraForBoxAndBearing(f,y,T,$){const F={top:0,bottom:0,right:0,left:0};if(typeof($=o.e({padding:F,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){const de=$.padding;$.padding={top:de,bottom:de,right:de,left:de}}const W=o.e(F,$.padding);$.padding=W;const ne=this.transform,se=new We(f,y);return this.cameraHelper.cameraForBoxAndBearing($,W,se,T,ne)}fitBounds(f,y,T){return this._fitInternal(this.cameraForBounds(f,y),y,T)}fitScreenCoordinates(f,y,T,$,F){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(f)),this.transform.screenPointToLocation(o.P.convert(y)),T,$),$,F)}_fitInternal(f,y,T){return f?(delete(y=o.e(f,y)).padding,y.linear?this.easeTo(y,T):this.flyTo(y,T)):this}jumpTo(f,y){this.stop();const T=this._getTransformForUpdate();let $=!1,F=!1,W=!1;const ne=T.zoom;this.cameraHelper.handleJumpToCenterZoom(T,f);const se=T.zoom!==ne;return"elevation"in f&&T.elevation!==+f.elevation&&T.setElevation(+f.elevation),"bearing"in f&&T.bearing!==+f.bearing&&($=!0,T.setBearing(+f.bearing)),"pitch"in f&&T.pitch!==+f.pitch&&(F=!0,T.setPitch(+f.pitch)),"roll"in f&&T.roll!==+f.roll&&(W=!0,T.setRoll(+f.roll)),f.padding==null||T.isPaddingEqual(f.padding)||T.setPadding(f.padding),this._applyUpdatedTransform(T),this.fire(new o.l("movestart",y)).fire(new o.l("move",y)),se&&this.fire(new o.l("zoomstart",y)).fire(new o.l("zoom",y)).fire(new o.l("zoomend",y)),$&&this.fire(new o.l("rotatestart",y)).fire(new o.l("rotate",y)).fire(new o.l("rotateend",y)),F&&this.fire(new o.l("pitchstart",y)).fire(new o.l("pitch",y)).fire(new o.l("pitchend",y)),W&&this.fire(new o.l("rollstart",y)).fire(new o.l("roll",y)).fire(new o.l("rollend",y)),this.fire(new o.l("moveend",y))}calculateCameraOptionsFromTo(f,y,T,$=0){const F=o.$.fromLngLat(f,y),W=o.$.fromLngLat(T,$),ne=W.x-F.x,se=W.y-F.y,de=W.z-F.z,ve=Math.hypot(ne,se,de);if(ve===0)throw new Error("Can't calculate camera options with same From and To");const Ee=Math.hypot(ne,se),Ce=o.ab(this.transform.cameraToCenterDistance/ve/this.transform.tileSize),ke=180*Math.atan2(ne,-se)/Math.PI;let Be=180*Math.acos(Ee/ve)/Math.PI;return Be=de<0?90-Be:90+Be,{center:W.toLngLat(),elevation:$,zoom:Ce,pitch:Be,bearing:ke}}calculateCameraOptionsFromCameraLngLatAltRotation(f,y,T,$,F){const W=this.transform.calculateCenterFromCameraLngLatAlt(f,y,T,$);return{center:W.center,elevation:W.elevation,zoom:W.zoom,bearing:T,pitch:$,roll:F}}easeTo(f,y){this._stop(!1,f.easeId),((f=o.e({offset:[0,0],duration:500,easing:o.cb},f)).animate===!1||!f.essential&&h.prefersReducedMotion)&&(f.duration=0);const T=this._getTransformForUpdate(),$=this.getBearing(),F=T.pitch,W=T.roll,ne="bearing"in f?this._normalizeBearing(f.bearing,$):$,se="pitch"in f?+f.pitch:F,de="roll"in f?this._normalizeBearing(f.roll,W):W,ve="padding"in f?f.padding:T.padding,Ee=o.P.convert(f.offset);let Ce,ke;f.around&&(Ce=o.Q.convert(f.around),ke=T.locationToScreenPoint(Ce));const Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},tt=this.cameraHelper.handleEaseTo(T,{bearing:ne,pitch:se,roll:de,padding:ve,around:Ce,aroundPoint:ke,offsetAsPoint:Ee,offset:f.offset,zoom:f.zoom,center:f.center});return this._rotating=this._rotating||$!==ne,this._pitching=this._pitching||se!==F,this._rolling=this._rolling||de!==W,this._padding=!T.isPaddingEqual(ve),this._zooming=this._zooming||tt.isZooming,this._easeId=f.easeId,this._prepareEase(y,f.noMoveStart,Be),this.terrain&&this._prepareElevation(tt.elevationCenter),this._ease(Je=>{tt.easeFunc(Je),this.terrain&&!f.freezeElevation&&this._updateElevation(Je),this._applyUpdatedTransform(T),this._fireMoveEvents(y)},Je=>{this.terrain&&f.freezeElevation&&this._finalizeElevation(),this._afterEase(y,Je)},f),this}_prepareEase(f,y,T={}){this._moving=!0,y||T.moving||this.fire(new o.l("movestart",f)),this._zooming&&!T.zooming&&this.fire(new o.l("zoomstart",f)),this._rotating&&!T.rotating&&this.fire(new o.l("rotatestart",f)),this._pitching&&!T.pitching&&this.fire(new o.l("pitchstart",f)),this._rolling&&!T.rolling&&this.fire(new o.l("rollstart",f))}_prepareElevation(f){this._elevationCenter=f,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(f){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const y=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(f<1&&y!==this._elevationTarget){const T=this._elevationTarget-this._elevationStart;this._elevationStart+=f*(T-(y-(T*f+this._elevationStart))/(1-f)),this._elevationTarget=y}this.transform.setElevation(o.B.number(this._elevationStart,this._elevationTarget,f))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(f){if(!this.terrain&&f.elevation>=0&&f.pitch<=90)return{};const y=f.getCameraLngLat(),T=f.getCameraAltitude(),$=this.terrain?this.terrain.getElevationForLngLatZoom(y,f.zoom):0;if(T<$){const F=this.calculateCameraOptionsFromTo(y,$,f.center,f.elevation);return{pitch:F.pitch,zoom:F.zoom}}return{}}_applyUpdatedTransform(f){const y=[];if(y.push($=>this._elevateCameraIfInsideTerrain($)),this.transformCameraUpdate&&y.push($=>this.transformCameraUpdate($)),!y.length)return;const T=f.clone();for(const $ of y){const F=T.clone(),{center:W,zoom:ne,roll:se,pitch:de,bearing:ve,elevation:Ee}=$(F);W&&F.setCenter(W),Ee!==void 0&&F.setElevation(Ee),ne!==void 0&&F.setZoom(ne),se!==void 0&&F.setRoll(se),de!==void 0&&F.setPitch(de),ve!==void 0&&F.setBearing(ve),T.apply(F)}this.transform.apply(T)}_fireMoveEvents(f){this.fire(new o.l("move",f)),this._zooming&&this.fire(new o.l("zoom",f)),this._rotating&&this.fire(new o.l("rotate",f)),this._pitching&&this.fire(new o.l("pitch",f)),this._rolling&&this.fire(new o.l("roll",f))}_afterEase(f,y){if(this._easeId&&y&&this._easeId===y)return;delete this._easeId;const T=this._zooming,$=this._rotating,F=this._pitching,W=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,T&&this.fire(new o.l("zoomend",f)),$&&this.fire(new o.l("rotateend",f)),F&&this.fire(new o.l("pitchend",f)),W&&this.fire(new o.l("rollend",f)),this.fire(new o.l("moveend",f))}flyTo(f,y){if(!f.essential&&h.prefersReducedMotion){const vn=o.O(f,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(vn,y)}this.stop(),f=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.cb},f);const T=this._getTransformForUpdate(),$=T.bearing,F=T.pitch,W=T.roll,ne=T.padding,se="bearing"in f?this._normalizeBearing(f.bearing,$):$,de="pitch"in f?+f.pitch:F,ve="roll"in f?this._normalizeBearing(f.roll,W):W,Ee="padding"in f?f.padding:T.padding,Ce=o.P.convert(f.offset);let ke=T.centerPoint.add(Ce);const Be=T.screenPointToLocation(ke),tt=this.cameraHelper.handleFlyTo(T,{bearing:se,pitch:de,roll:ve,padding:Ee,locationAtOffset:Be,offsetAsPoint:Ce,center:f.center,minZoom:f.minZoom,zoom:f.zoom});let Je=f.curve;const nt=Math.max(T.width,T.height),pt=nt/tt.scaleOfZoom,bt=tt.pixelPathLength;typeof tt.scaleOfMinZoom=="number"&&(Je=Math.sqrt(nt/tt.scaleOfMinZoom/bt*2));const wt=Je*Je;function Et(vn){const Mn=(pt*pt-nt*nt+(vn?-1:1)*wt*wt*bt*bt)/(2*(vn?pt:nt)*wt*bt);return Math.log(Math.sqrt(Mn*Mn+1)-Mn)}function Pt(vn){return(Math.exp(vn)-Math.exp(-vn))/2}function Mt(vn){return(Math.exp(vn)+Math.exp(-vn))/2}const en=Et(!1);let Xt=function(vn){return Mt(en)/Mt(en+Je*vn)},bn=function(vn){return nt*((Mt(en)*(Pt(Mn=en+Je*vn)/Mt(Mn))-Pt(en))/wt)/bt;var Mn},wn=(Et(!0)-en)/Je;if(Math.abs(bt)<2e-6||!isFinite(wn)){if(Math.abs(nt-pt)<1e-6)return this.easeTo(f,y);const vn=pt<nt?-1:1;wn=Math.abs(Math.log(pt/nt))/Je,bn=()=>0,Xt=Mn=>Math.exp(vn*Je*Mn)}return f.duration="duration"in f?+f.duration:1e3*wn/("screenSpeed"in f?+f.screenSpeed/Je:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=$!==se,this._pitching=de!==F,this._rolling=ve!==W,this._padding=!T.isPaddingEqual(Ee),this._prepareEase(y,!1),this.terrain&&this._prepareElevation(tt.targetCenter),this._ease(vn=>{const Mn=vn*wn,Zn=1/Xt(Mn),Nn=bn(Mn);this._rotating&&T.setBearing(o.B.number($,se,vn)),this._pitching&&T.setPitch(o.B.number(F,de,vn)),this._rolling&&T.setRoll(o.B.number(W,ve,vn)),this._padding&&(T.interpolatePadding(ne,Ee,vn),ke=T.centerPoint.add(Ce)),tt.easeFunc(vn,Zn,Nn,ke),this.terrain&&!f.freezeElevation&&this._updateElevation(vn),this._applyUpdatedTransform(T),this._fireMoveEvents(y)},()=>{this.terrain&&f.freezeElevation&&this._finalizeElevation(),this._afterEase(y)},f),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(f,y){var T;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const $=this._onEaseEnd;delete this._onEaseEnd,$.call(this,y)}return f||(T=this.handlers)===null||T===void 0||T.stop(!1),this}_ease(f,y,T){T.animate===!1||T.duration===0?(f(1),y()):(this._easeStart=h.now(),this._easeOptions=T,this._onEaseFrame=f,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(f,y){f=o.aL(f,-180,180);const T=Math.abs(f-y);return Math.abs(f-360-y)<T&&(f-=360),Math.abs(f+360-y)<T&&(f+=360),f}queryTerrainElevation(f){return this.terrain?this.terrain.getElevationForLngLatZoom(o.Q.convert(f),this.transform.tileZoom):null}}const nd={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class vr{constructor(f=nd){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=y=>{!y||y.sourceDataType!=="metadata"&&y.sourceDataType!=="visibility"&&y.dataType!=="style"&&y.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=f}getDefaultPosition(){return"bottom-right"}onAdd(f){return this._map=f,this._compact=this.options.compact,this._container=g.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=g.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(f,y){const T=this._map._getUIString(`AttributionControl.${y}`);f.title=T,f.setAttribute("aria-label",T)}_updateAttributions(){if(!this._map.style)return;let f=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?f=f.concat(this.options.customAttribution.map($=>typeof $!="string"?"":$)):typeof this.options.customAttribution=="string"&&f.push(this.options.customAttribution)),this._map.style.stylesheet){const $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}const y=this._map.style.sourceCaches;for(const $ in y){const F=y[$];if(F.used||F.usedForTerrain){const W=F.getSource();W.attribution&&f.indexOf(W.attribution)<0&&f.push(W.attribution)}}f=f.filter($=>String($).trim()),f.sort(($,F)=>$.length-F.length),f=f.filter(($,F)=>{for(let W=F+1;W<f.length;W++)if(f[W].indexOf($)>=0)return!1;return!0});const T=f.join(" | ");T!==this._attribHTML&&(this._attribHTML=T,f.length?(this._innerContainer.innerHTML=g.sanitize(T),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class wr{constructor(f={}){this._updateCompact=()=>{const y=this._container.children;if(y.length){const T=y[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&T.classList.add("maplibregl-compact"):T.classList.remove("maplibregl-compact")}},this.options=f}getDefaultPosition(){return"bottom-left"}onAdd(f){this._map=f,this._compact=this.options&&this.options.compact,this._container=g.create("div","maplibregl-ctrl");const y=g.create("a","maplibregl-ctrl-logo");return y.target="_blank",y.rel="noopener nofollow",y.href="https://maplibre.org/",y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),y.setAttribute("rel","noopener nofollow"),this._container.appendChild(y),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){g.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hg{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(f){const y=++this._id;return this._queue.push({callback:f,id:y,cancelled:!1}),y}remove(f){const y=this._currentlyRunning,T=y?this._queue.concat(y):this._queue;for(const $ of T)if($.id===f)return void($.cancelled=!0)}run(f=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const y=this._currentlyRunning=this._queue;this._queue=[];for(const T of y)if(!T.cancelled&&(T.callback(f),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Vg=o.aD([{name:"a_pos3d",type:"Int16",components:3}]);class rd extends o.E{constructor(f){super(),this._lastTilesetChange=h.now(),this.sourceCache=f,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=f._source.tileSize*2**this.deltaZoom,f.usedForTerrain=!0,f.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(f,y){this.sourceCache.update(f,y),this._renderableTilesKeys=[];const T={};for(const $ of He(f,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:y,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))T[$.key]=!0,this._renderableTilesKeys.push($.key),this._tiles[$.key]||($.terrainRttPosMatrix32f=new Float64Array(16),o.bO($.terrainRttPosMatrix32f,0,o.Z,o.Z,0,0,1),this._tiles[$.key]=new sn($,this.tileSize),this._lastTilesetChange=h.now());for(const $ in this._tiles)T[$]||delete this._tiles[$]}freeRtt(f){for(const y in this._tiles){const T=this._tiles[y];(!f||T.tileID.equals(f)||T.tileID.isChildOf(f)||f.isChildOf(T.tileID))&&(T.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(f=>this.getTileByID(f))}getTileByID(f){return this._tiles[f]}getTerrainCoords(f,y){return y?this._getTerrainCoordsForTileRanges(f,y):this._getTerrainCoordsForRegularTile(f)}_getTerrainCoordsForRegularTile(f){const y={};for(const T of this._renderableTilesKeys){const $=this._tiles[T].tileID,F=f.clone(),W=o.b2();if($.canonical.equals(f.canonical))o.bO(W,0,o.Z,o.Z,0,0,1);else if($.canonical.isChildOf(f.canonical)){const ne=$.canonical.z-f.canonical.z,se=$.canonical.x-($.canonical.x>>ne<<ne),de=$.canonical.y-($.canonical.y>>ne<<ne),ve=o.Z>>ne;o.bO(W,0,ve,ve,0,0,1),o.L(W,W,[-se*ve,-de*ve,0])}else{if(!f.canonical.isChildOf($.canonical))continue;{const ne=f.canonical.z-$.canonical.z,se=f.canonical.x-(f.canonical.x>>ne<<ne),de=f.canonical.y-(f.canonical.y>>ne<<ne),ve=o.Z>>ne;o.bO(W,0,o.Z,o.Z,0,0,1),o.L(W,W,[se*ve,de*ve,0]),o.M(W,W,[1/2**ne,1/2**ne,0])}}F.terrainRttPosMatrix32f=new Float32Array(W),y[T]=F}return y}_getTerrainCoordsForTileRanges(f,y){const T={};for(const $ of this._renderableTilesKeys){const F=this._tiles[$].tileID;if(!this._isWithinTileRanges(F,y))continue;const W=f.clone(),ne=o.b2();if(F.canonical.z===f.canonical.z){const se=f.canonical.x-F.canonical.x,de=f.canonical.y-F.canonical.y;o.bO(ne,0,o.Z,o.Z,0,0,1),o.L(ne,ne,[se*o.Z,de*o.Z,0])}else if(F.canonical.z>f.canonical.z){const se=F.canonical.z-f.canonical.z,de=F.canonical.x-(F.canonical.x>>se<<se),ve=F.canonical.y-(F.canonical.y>>se<<se),Ee=f.canonical.x-(F.canonical.x>>se),Ce=f.canonical.y-(F.canonical.y>>se),ke=o.Z>>se;o.bO(ne,0,ke,ke,0,0,1),o.L(ne,ne,[-de*ke+Ee*o.Z,-ve*ke+Ce*o.Z,0])}else{const se=f.canonical.z-F.canonical.z,de=f.canonical.x-(f.canonical.x>>se<<se),ve=f.canonical.y-(f.canonical.y>>se<<se),Ee=(f.canonical.x>>se)-F.canonical.x,Ce=(f.canonical.y>>se)-F.canonical.y,ke=o.Z<<se;o.bO(ne,0,ke,ke,0,0,1),o.L(ne,ne,[de*o.Z+Ee*ke,ve*o.Z+Ce*ke,0])}W.terrainRttPosMatrix32f=new Float32Array(ne),T[$]=W}return T}getSourceTile(f,y){const T=this.sourceCache._source;let $=f.overscaledZ-this.deltaZoom;if($>T.maxzoom&&($=T.maxzoom),$<T.minzoom)return null;this._sourceTileCache[f.key]||(this._sourceTileCache[f.key]=f.scaledTo($).key);let F=this.sourceCache.getTileByID(this._sourceTileCache[f.key]);if((!F||!F.dem)&&y)for(;$>=T.minzoom&&(!F||!F.dem);)F=this.sourceCache.getTileByID(f.scaledTo($--).key);return F}anyTilesAfterTime(f=Date.now()){return this._lastTilesetChange>=f}_isWithinTileRanges(f,y){return y[f.canonical.z]&&f.canonical.x>=y[f.canonical.z].minTileX&&f.canonical.x<=y[f.canonical.z].maxTileX&&f.canonical.y>=y[f.canonical.z].minTileY&&f.canonical.y<=y[f.canonical.z].maxTileY}}class Ts{constructor(f,y,T){this._meshCache={},this.painter=f,this.sourceCache=new rd(y),this.options=T,this.exaggeration=typeof T.exaggeration=="number"?T.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(f,y,T,$=o.Z){var F;if(!(y>=0&&y<$&&T>=0&&T<$))return 0;const W=this.getTerrainData(f),ne=(F=W.tile)===null||F===void 0?void 0:F.dem;if(!ne)return 0;const se=o.cf([],[y/$*o.Z,T/$*o.Z],W.u_terrain_matrix),de=[se[0]*ne.dim,se[1]*ne.dim],ve=Math.floor(de[0]),Ee=Math.floor(de[1]),Ce=de[0]-ve,ke=de[1]-Ee;return ne.get(ve,Ee)*(1-Ce)*(1-ke)+ne.get(ve+1,Ee)*Ce*(1-ke)+ne.get(ve,Ee+1)*(1-Ce)*ke+ne.get(ve+1,Ee+1)*Ce*ke}getElevationForLngLatZoom(f,y){if(!o.cg(y,f.wrap()))return 0;const{tileID:T,mercatorX:$,mercatorY:F}=this._getOverscaledTileIDFromLngLatZoom(f,y);return this.getElevation(T,$%o.Z,F%o.Z,o.Z)}getElevation(f,y,T,$=o.Z){return this.getDEMElevation(f,y,T,$)*this.exaggeration}getTerrainData(f){if(!this._emptyDemTexture){const $=this.painter.context,F=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new H($,F,$.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new H($,new o.R({width:1,height:1}),$.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.at([])}const y=this.sourceCache.getSourceTile(f,!0);if(y&&y.dem&&(!y.demTexture||y.needsTerrainPrepare)){const $=this.painter.context;y.demTexture=this.painter.getTileTexture(y.dem.stride),y.demTexture?y.demTexture.update(y.dem.getPixels(),{premultiply:!1}):y.demTexture=new H($,y.dem.getPixels(),$.gl.RGBA,{premultiply:!1}),y.demTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),y.needsTerrainPrepare=!1}const T=y&&y+y.tileID.key+f.key;if(T&&!this._demMatrixCache[T]){const $=this.sourceCache.sourceCache._source.maxzoom;let F=f.canonical.z-y.tileID.canonical.z;f.overscaledZ>f.canonical.z&&(f.canonical.z>=$?F=f.canonical.z-$:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const W=f.canonical.x-(f.canonical.x>>F<<F),ne=f.canonical.y-(f.canonical.y>>F<<F),se=o.ch(new Float64Array(16),[1/(o.Z<<F),1/(o.Z<<F),0]);o.L(se,se,[W*o.Z,ne*o.Z,0]),this._demMatrixCache[f.key]={matrix:se,coord:f}}return{u_depth:2,u_terrain:3,u_terrain_dim:y&&y.dem&&y.dem.dim||1,u_terrain_matrix:T?this._demMatrixCache[f.key].matrix:this._emptyDemMatrix,u_terrain_unpack:y&&y.dem&&y.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(y&&y.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:y}}getFramebuffer(f){const y=this.painter,T=y.width/devicePixelRatio,$=y.height/devicePixelRatio;return!this._fbo||this._fbo.width===T&&this._fbo.height===$||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new H(y.context,{width:T,height:$,data:null},y.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(y.context.gl.NEAREST,y.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new H(y.context,{width:T,height:$,data:null},y.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(y.context.gl.NEAREST,y.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=y.context.createFramebuffer(T,$,!0,!1),this._fbo.depthAttachment.set(y.context.createRenderbuffer(y.context.gl.DEPTH_COMPONENT16,T,$))),this._fbo.colorAttachment.set(f==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const f=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const y=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let F=0,W=0;F<this._coordsTextureSize;F++)for(let ne=0;ne<this._coordsTextureSize;ne++,W+=4)y[W+0]=255&ne,y[W+1]=255&F,y[W+2]=ne>>8<<4|F>>8,y[W+3]=0;const T=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(y.buffer)),$=new H(f,T,f.gl.RGBA,{premultiply:!1});return $.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._coordsTexture=$,$}pointCoordinate(f){this.painter.maybeDrawDepthAndCoords(!0);const y=new Uint8Array(4),T=this.painter.context,$=T.gl,F=Math.round(f.x*this.painter.pixelRatio/devicePixelRatio),W=Math.round(f.y*this.painter.pixelRatio/devicePixelRatio),ne=Math.round(this.painter.height/devicePixelRatio);T.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),$.readPixels(F,ne-W-1,1,1,$.RGBA,$.UNSIGNED_BYTE,y),T.bindFramebuffer.set(null);const se=y[0]+(y[2]>>4<<8),de=y[1]+((15&y[2])<<8),ve=this.coordsIndex[255-y[3]],Ee=ve&&this.sourceCache.getTileByID(ve);if(!Ee)return null;const Ce=this._coordsTextureSize,ke=(1<<Ee.tileID.canonical.z)*Ce;return new o.$((Ee.tileID.canonical.x*Ce+se)/ke+Ee.tileID.wrap,(Ee.tileID.canonical.y*Ce+de)/ke,this.getElevation(Ee.tileID,se,de,Ce))}depthAtPoint(f){const y=new Uint8Array(4),T=this.painter.context,$=T.gl;return T.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),$.readPixels(f.x,this.painter.height/devicePixelRatio-f.y-1,1,1,$.RGBA,$.UNSIGNED_BYTE,y),T.bindFramebuffer.set(null),(y[0]/16777216+y[1]/65536+y[2]/256+y[3])/256}getTerrainMesh(f){var y;const T=((y=this.painter.style.projection)===null||y===void 0?void 0:y.transitionState)>0,$=T&&f.canonical.y===0,F=T&&f.canonical.y===(1<<f.canonical.z)-1,W=`m_${$?"n":""}_${F?"s":""}`;if(this._meshCache[W])return this._meshCache[W];const ne=this.painter.context,se=new o.ci,de=new o.aH,ve=this.meshSize,Ee=o.Z/ve,Ce=ve*ve;for(let Mt=0;Mt<=ve;Mt++)for(let en=0;en<=ve;en++)se.emplaceBack(en*Ee,Mt*Ee,0);for(let Mt=0;Mt<Ce;Mt+=ve+1)for(let en=0;en<ve;en++)de.emplaceBack(en+Mt,ve+en+Mt+1,ve+en+Mt+2),de.emplaceBack(en+Mt,ve+en+Mt+2,en+Mt+1);const ke=se.length,Be=ke+(ve+1),tt=(ve+1)*ve,Je=$?o.b9:0,nt=$?0:1,pt=F?o.ba:o.Z,bt=F?0:1;for(let Mt=0;Mt<=ve;Mt++)se.emplaceBack(Mt*Ee,Je,nt);for(let Mt=0;Mt<=ve;Mt++)se.emplaceBack(Mt*Ee,pt,bt);for(let Mt=0;Mt<ve;Mt++)de.emplaceBack(tt+Mt,Be+Mt,Be+Mt+1),de.emplaceBack(tt+Mt,Be+Mt+1,tt+Mt+1),de.emplaceBack(0+Mt,ke+Mt+1,ke+Mt),de.emplaceBack(0+Mt,0+Mt+1,ke+Mt+1);const wt=se.length,Et=wt+2*(ve+1);for(const Mt of[0,1])for(let en=0;en<=ve;en++)for(const Xt of[0,1])se.emplaceBack(Mt*o.Z,en*Ee,Xt);for(let Mt=0;Mt<2*ve;Mt+=2)de.emplaceBack(wt+Mt,wt+Mt+1,wt+Mt+3),de.emplaceBack(wt+Mt,wt+Mt+3,wt+Mt+2),de.emplaceBack(Et+Mt,Et+Mt+3,Et+Mt+1),de.emplaceBack(Et+Mt,Et+Mt+2,Et+Mt+3);const Pt=new ci(ne.createVertexBuffer(se,Vg.members),ne.createIndexBuffer(de),o.aG.simpleSegment(0,0,se.length,de.length));return this._meshCache[W]=Pt,Pt}getMeshFrameDelta(f){return 2*Math.PI*o.br/Math.pow(2,Math.max(f,0))/5}getMinTileElevationForLngLatZoom(f,y){var T;const{tileID:$}=this._getOverscaledTileIDFromLngLatZoom(f,y);return(T=this.getMinMaxElevation($).minElevation)!==null&&T!==void 0?T:0}getMinMaxElevation(f){const y=this.getTerrainData(f).tile,T={minElevation:null,maxElevation:null};return y&&y.dem&&(T.minElevation=y.dem.min*this.exaggeration,T.maxElevation=y.dem.max*this.exaggeration),T}_getOverscaledTileIDFromLngLatZoom(f,y){const T=o.$.fromLngLat(f.wrap()),$=(1<<y)*o.Z,F=T.x*$,W=T.y*$,ne=Math.floor(F/o.Z),se=Math.floor(W/o.Z);return{tileID:new o.Y(y,0,y,ne,se),mercatorX:F,mercatorY:W}}}class yf{constructor(f,y,T){this._context=f,this._size=y,this._tileSize=T,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const f of this._objects)f.texture.destroy(),f.fbo.destroy()}_createObject(f){const y=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),T=new H(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return T.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),y.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),y.colorAttachment.set(T.texture),{id:f,fbo:y,texture:T,stamp:-1,inUse:!1}}getObjectForId(f){return this._objects[f]}useObject(f){f.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(y=>f.id!==y),this._recentlyUsed.push(f.id)}stampObject(f){f.stamp=++this._stamp}getOrCreateFreeObject(){for(const y of this._recentlyUsed)if(!this._objects[y].inUse)return this._objects[y];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const f=this._createObject(this._objects.length);return this._objects.push(f),f}freeObject(f){f.inUse=!1}freeAllObjects(){for(const f of this._objects)this.freeObject(f)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(f=>!f.inUse)===!1}}const ul={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class $0{constructor(f,y){this.painter=f,this.terrain=y,this.pool=new yf(f.context,30,y.sourceCache.tileSize*y.qualityFactor)}destruct(){this.pool.destruct()}getTexture(f){return this.pool.getObjectForId(f.rtt[this._stacks.length-1].id).texture}prepareForRender(f,y){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=f._order.filter(T=>!f._layers[T].isHidden(y)),this._coordsAscending={};for(const T in f.sourceCaches){this._coordsAscending[T]={};const $=f.sourceCaches[T].getVisibleCoordinates(),F=f.sourceCaches[T].getSource(),W=F instanceof Jt?F.terrainTileRanges:null;for(const ne of $){const se=this.terrain.sourceCache.getTerrainCoords(ne,W);for(const de in se)this._coordsAscending[T][de]||(this._coordsAscending[T][de]=[]),this._coordsAscending[T][de].push(se[de])}}this._coordsAscendingStr={};for(const T of f._order){const $=f._layers[T],F=$.source;if(ul[$.type]&&!this._coordsAscendingStr[F]){this._coordsAscendingStr[F]={};for(const W in this._coordsAscending[F])this._coordsAscendingStr[F][W]=this._coordsAscending[F][W].map(ne=>ne.key).sort().join()}}for(const T of this._renderableTiles)for(const $ in this._coordsAscendingStr){const F=this._coordsAscendingStr[$][T.tileID.key];F&&F!==T.rttCoords[$]&&(T.rtt=[])}}renderLayer(f,y){if(f.isHidden(this.painter.transform.zoom))return!1;const T=Object.assign(Object.assign({},y),{isRenderingToTexture:!0}),$=f.type,F=this.painter,W=this._renderableLayerIds[this._renderableLayerIds.length-1]===f.id;if(ul[$]&&(this._prevType&&ul[this._prevType]||this._stacks.push([]),this._prevType=$,this._stacks[this._stacks.length-1].push(f.id),!W))return!0;if(ul[this._prevType]||ul[$]&&W){this._prevType=$;const ne=this._stacks.length-1,se=this._stacks[ne]||[];for(const de of this._renderableTiles){if(this.pool.isFull()&&(_l(this.painter,this.terrain,this._rttTiles,T),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(de),de.rtt[ne]){const Ee=this.pool.getObjectForId(de.rtt[ne].id);if(Ee.stamp===de.rtt[ne].stamp){this.pool.useObject(Ee);continue}}const ve=this.pool.getOrCreateFreeObject();this.pool.useObject(ve),this.pool.stampObject(ve),de.rtt[ne]={id:ve.id,stamp:ve.stamp},F.context.bindFramebuffer.set(ve.fbo.framebuffer),F.context.clear({color:o.b7.transparent,stencil:0}),F.currentStencilSource=void 0;for(let Ee=0;Ee<se.length;Ee++){const Ce=F.style._layers[se[Ee]],ke=Ce.source?this._coordsAscending[Ce.source][de.tileID.key]:[de.tileID];F.context.viewport.set([0,0,ve.fbo.width,ve.fbo.height]),F._renderTileClippingMasks(Ce,ke,!0),F.renderLayer(F,F.style.sourceCaches[Ce.source],Ce,ke,T),Ce.source&&(de.rttCoords[Ce.source]=this._coordsAscendingStr[Ce.source][de.tileID.key])}}return _l(this.painter,this.terrain,this._rttTiles,T),this._rttTiles=[],this.pool.freeAllObjects(),ul[$]}return!1}}const Ql={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Nr=l,Xr={hash:!1,interactive:!0,bearingSnap:7,attributionControl:nd,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Xi={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class bf{constructor(f,y,T=!1){this.mousedown=F=>{this.startMove(F,g.mousePos(this.element,F)),g.addEventListener(window,"mousemove",this.mousemove),g.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=F=>{this.move(F,g.mousePos(this.element,F))},this.mouseup=F=>{this._rotatePitchHanlder.dragEnd(F),this.offTemp()},this.touchstart=F=>{F.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,F.targetTouches)[0],this.startMove(F,this._startPos),g.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.addEventListener(window,"touchend",this.touchend))},this.touchmove=F=>{F.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,F.targetTouches)[0],this.move(F,this._lastPos))},this.touchend=F=>{F.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=y;const $=new Ym;this._rotatePitchHanlder=new Ma({clickTolerance:3,move:(F,W)=>{const ne=y.getBoundingClientRect(),se=new o.P((ne.bottom-ne.top)/2,(ne.right-ne.left)/2);return{bearingDelta:o.ca(new o.P(F.x,W.y),W,se),pitchDelta:T?-.5*(W.y-F.y):void 0}},moveStateManager:$,enable:!0,assignEvents:()=>{}}),this.map=f,g.addEventListener(y,"mousedown",this.mousedown),g.addEventListener(y,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(y,"touchcancel",this.reset)}startMove(f,y){this._rotatePitchHanlder.dragStart(f,y),g.disableDrag()}move(f,y){const T=this.map,{bearingDelta:$,pitchDelta:F}=this._rotatePitchHanlder.dragMove(f,y)||{};$&&T.setBearing(T.getBearing()+$),F&&T.setPitch(T.getPitch()+F)}off(){const f=this.element;g.removeEventListener(f,"mousedown",this.mousedown),g.removeEventListener(f,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.removeEventListener(window,"touchend",this.touchend),g.removeEventListener(f,"touchcancel",this.reset),this.offTemp()}offTemp(){g.enableDrag(),g.removeEventListener(window,"mousemove",this.mousemove),g.removeEventListener(window,"mouseup",this.mouseup),g.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),g.removeEventListener(window,"touchend",this.touchend)}}let Fl;function Xs(z,f,y){const T=new o.Q(z.lng,z.lat);if(z=new o.Q(z.lng,z.lat),f){const $=new o.Q(z.lng-360,z.lat),F=new o.Q(z.lng+360,z.lat),W=y.locationToScreenPoint(z).distSqr(f);y.locationToScreenPoint($).distSqr(f)<W?z=$:y.locationToScreenPoint(F).distSqr(f)<W&&(z=F)}for(;Math.abs(z.lng-y.center.lng)>180;){const $=y.locationToScreenPoint(z);if($.x>=0&&$.y>=0&&$.x<=y.width&&$.y<=y.height)break;z.lng>y.center.lng?z.lng-=360:z.lng+=360}return z.lng!==T.lng&&y.isPointOnMapSurface(y.locationToScreenPoint(z))?z:T}const _f={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $u(z,f,y){const T=z.classList;for(const $ in _f)T.remove(`maplibregl-${y}-anchor-${$}`);T.add(`maplibregl-${y}-anchor-${f}`)}class fl extends o.E{constructor(f){if(super(),this._onKeyPress=y=>{const T=y.code,$=y.charCode||y.keyCode;T!=="Space"&&T!=="Enter"&&$!==32&&$!==13||this.togglePopup()},this._onMapClick=y=>{const T=y.originalEvent.target,$=this._element;this._popup&&(T===$||$.contains(T))&&this.togglePopup()},this._update=y=>{var T;if(!this._map)return;const $=this._map.loaded()&&!this._map.isMoving();(y?.type==="terrain"||y?.type==="render"&&!$)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Xs(this._lngLat,this._flatPos,this._map.transform):(T=this._lngLat)===null||T===void 0?void 0:T.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let F="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?F=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(F=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let W="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?W="rotateX(0deg)":this._pitchAlignment==="map"&&(W=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||y&&y.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,`${_f[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${W} ${F}`),h.frameAsync(new AbortController).then(()=>{this._updateOpacity(y&&y.type==="moveend")}).catch(()=>{})},this._onMove=y=>{if(!this._isDragging){const T=this._clickTolerance||this._map._clickTolerance;this._isDragging=y.point.dist(this._pointerdownPos)>=T}this._isDragging&&(this._pos=y.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=y=>{this._element.contains(y.originalEvent.target)&&(y.preventDefault(),this._positionDelta=y.point.sub(this._pos).add(this._offset),this._pointerdownPos=y.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._subpixelPositioning=f&&f.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&f.pitchAlignment!=="auto"?f.pitchAlignment:this._rotationAlignment,this.setOpacity(f?.opacity,f?.opacityWhenCovered),f&&f.element)this._element=f.element,this._offset=o.P.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div");const y=g.createNS("http://www.w3.org/2000/svg","svg"),T=41,$=27;y.setAttributeNS(null,"display","block"),y.setAttributeNS(null,"height",`${T}px`),y.setAttributeNS(null,"width",`${$}px`),y.setAttributeNS(null,"viewBox",`0 0 ${$} ${T}`);const F=g.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"stroke","none"),F.setAttributeNS(null,"stroke-width","1"),F.setAttributeNS(null,"fill","none"),F.setAttributeNS(null,"fill-rule","evenodd");const W=g.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"fill-rule","nonzero");const ne=g.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ne.setAttributeNS(null,"fill","#000000");const se=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const nt of se){const pt=g.createNS("http://www.w3.org/2000/svg","ellipse");pt.setAttributeNS(null,"opacity","0.04"),pt.setAttributeNS(null,"cx","10.5"),pt.setAttributeNS(null,"cy","5.80029008"),pt.setAttributeNS(null,"rx",nt.rx),pt.setAttributeNS(null,"ry",nt.ry),ne.appendChild(pt)}const de=g.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"fill",this._color);const ve=g.createNS("http://www.w3.org/2000/svg","path");ve.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),de.appendChild(ve);const Ee=g.createNS("http://www.w3.org/2000/svg","g");Ee.setAttributeNS(null,"opacity","0.25"),Ee.setAttributeNS(null,"fill","#000000");const Ce=g.createNS("http://www.w3.org/2000/svg","path");Ce.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ee.appendChild(Ce);const ke=g.createNS("http://www.w3.org/2000/svg","g");ke.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ke.setAttributeNS(null,"fill","#FFFFFF");const Be=g.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"transform","translate(8.0, 8.0)");const tt=g.createNS("http://www.w3.org/2000/svg","circle");tt.setAttributeNS(null,"fill","#000000"),tt.setAttributeNS(null,"opacity","0.25"),tt.setAttributeNS(null,"cx","5.5"),tt.setAttributeNS(null,"cy","5.5"),tt.setAttributeNS(null,"r","5.4999962");const Je=g.createNS("http://www.w3.org/2000/svg","circle");Je.setAttributeNS(null,"fill","#FFFFFF"),Je.setAttributeNS(null,"cx","5.5"),Je.setAttributeNS(null,"cy","5.5"),Je.setAttributeNS(null,"r","5.4999962"),Be.appendChild(tt),Be.appendChild(Je),W.appendChild(ne),W.appendChild(de),W.appendChild(Ee),W.appendChild(ke),W.appendChild(Be),y.appendChild(W),y.setAttributeNS(null,"height",T*this._scale+"px"),y.setAttributeNS(null,"width",$*this._scale+"px"),this._element.appendChild(y),this._offset=o.P.convert(f&&f.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",y=>{y.preventDefault()}),this._element.addEventListener("mousedown",y=>{y.preventDefault()}),$u(this._element,this._anchor,"marker"),f&&f.className)for(const y of f.className.split(" "))this._element.classList.add(y);this._popup=null}addTo(f){return this.remove(),this._map=f,this._element.setAttribute("aria-label",f._getUIString("Marker.Title")),f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),f.on("terrain",this._update),f.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(f){return this._lngLat=o.Q.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){const $=Math.abs(13.5)/Math.SQRT2;f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[$,-1*(38.1-13.5+$)],"bottom-right":[-$,-1*(38.1-13.5+$)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=f,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(f){return this._subpixelPositioning=f,this}getPopup(){return this._popup}togglePopup(){const f=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:f?(f.isOpen()?f.remove():(f.setLngLat(this._lngLat),f.addTo(this._map)),this):this}_updateOpacity(f=!1){var y,T;if(!(!((y=this._map)===null||y===void 0)&&y.terrain)){const Ee=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Ee&&(this._element.style.opacity=Ee))}if(f)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const $=this._map,F=$.terrain.depthAtPoint(this._pos),W=$.terrain.getElevationForLngLatZoom(this._lngLat,$.transform.tileZoom);if($.transform.lngLatToCameraDepth(this._lngLat,W)-F<.006)return void(this._element.style.opacity=this._opacity);const ne=-this._offset.y/$.transform.pixelsPerMeter,se=Math.sin($.getPitch()*Math.PI/180)*ne,de=$.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),ve=$.transform.lngLatToCameraDepth(this._lngLat,W+se)-de>.006;!((T=this._popup)===null||T===void 0)&&T.isOpen()&&ve&&this._popup.remove(),this._element.style.opacity=ve?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(f){return this._offset=o.P.convert(f),this._update(),this}addClassName(f){this._element.classList.add(f)}removeClassName(f){this._element.classList.remove(f)}toggleClassName(f){return this._element.classList.toggle(f)}setDraggable(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(f){return this._rotation=f||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(f){return this._rotationAlignment=f||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(f){return this._pitchAlignment=f&&f!=="auto"?f:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(f,y){return(this._opacity===void 0||f===void 0&&y===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),f!==void 0&&(this._opacity=f),y!==void 0&&(this._opacityWhenCovered=y),this._map&&this._updateOpacity(!0),this}}const Zm={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ji=0,ku=!1;const Ug={maxWidth:100,unit:"metric"};function Gg(z,f,y){const T=y&&y.maxWidth||100,$=z._container.clientHeight/2,F=z._container.clientWidth/2,W=z.unproject([F-T/2,$]),ne=z.unproject([F+T/2,$]),se=Math.round(z.project(ne).x-z.project(W).x),de=Math.min(T,se,z._container.clientWidth),ve=W.distanceTo(ne);if(y&&y.unit==="imperial"){const Ee=3.2808*ve;Ee>5280?Hd(f,de,Ee/5280,z._getUIString("ScaleControl.Miles")):Hd(f,de,Ee,z._getUIString("ScaleControl.Feet"))}else y&&y.unit==="nautical"?Hd(f,de,ve/1852,z._getUIString("ScaleControl.NauticalMiles")):ve>=1e3?Hd(f,de,ve/1e3,z._getUIString("ScaleControl.Kilometers")):Hd(f,de,ve,z._getUIString("ScaleControl.Meters"))}function Hd(z,f,y,T){const $=function(F){const W=Math.pow(10,`${Math.floor(F)}`.length-1);let ne=F/W;return ne=ne>=10?10:ne>=5?5:ne>=3?3:ne>=2?2:ne>=1?1:function(se){const de=Math.pow(10,Math.ceil(-Math.log(se)/Math.LN10));return Math.round(se*de)/de}(ne),W*ne}(y);z.style.width=f*($/y)+"px",z.innerHTML=`${$}&nbsp;${T}`}const Wg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},qg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Lu(z){if(z){if(typeof z=="number"){const f=Math.round(Math.abs(z)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,z),"top-left":new o.P(f,f),"top-right":new o.P(-f,f),bottom:new o.P(0,-z),"bottom-left":new o.P(f,-f),"bottom-right":new o.P(-f,-f),left:new o.P(z,0),right:new o.P(-z,0)}}if(z instanceof o.P||Array.isArray(z)){const f=o.P.convert(z);return{center:f,top:f,"top-left":f,"top-right":f,bottom:f,"bottom-left":f,"bottom-right":f,left:f,right:f}}return{center:o.P.convert(z.center||[0,0]),top:o.P.convert(z.top||[0,0]),"top-left":o.P.convert(z["top-left"]||[0,0]),"top-right":o.P.convert(z["top-right"]||[0,0]),bottom:o.P.convert(z.bottom||[0,0]),"bottom-left":o.P.convert(z["bottom-left"]||[0,0]),"bottom-right":o.P.convert(z["bottom-right"]||[0,0]),left:o.P.convert(z.left||[0,0]),right:o.P.convert(z.right||[0,0])}}return Lu(new o.P(0,0))}const Op=l;s.AJAXError=o.cm,s.Event=o.l,s.Evented=o.E,s.LngLat=o.Q,s.MercatorCoordinate=o.$,s.Point=o.P,s.addProtocol=o.cn,s.config=o.a,s.removeProtocol=o.co,s.AttributionControl=vr,s.BoxZoomHandler=df,s.CanvasSource=Ft,s.CooperativeGesturesHandler=mf,s.DoubleClickZoomHandler=Cp,s.DragPanHandler=gf,s.DragRotateHandler=ho,s.EdgeInsets=ei,s.FullscreenControl=class extends o.E{constructor(z={}){super(),this._onFullscreenChange=()=>{var f;let y=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((f=y?.shadowRoot)===null||f===void 0)&&f.fullscreenElement;)y=y.shadowRoot.fullscreenElement;y===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,z&&z.container&&(z.container instanceof HTMLElement?this._container=z.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(z){return this._map=z,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){g.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const z=this._fullscreenButton=g.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);g.create("span","maplibregl-ctrl-icon",z).setAttribute("aria-hidden","true"),z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",z),this._fullscreenButton.title=z}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=Yt,s.GeolocateControl=class extends o.E{constructor(z){super(),this._onSuccess=f=>{if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(f),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",f)),this._finish()}},this._updateCamera=f=>{const y=new o.Q(f.coords.longitude,f.coords.latitude),T=f.coords.accuracy,$=this._map.getBearing(),F=o.e({bearing:$},this.options.fitBoundsOptions),W=We.fromLngLat(y,T);this._map.fitBounds(W,F,{geolocateSource:!0})},this._updateMarker=f=>{if(f){const y=new o.Q(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=f=>{if(this._map){if(this.options.trackUserLocation)if(f.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(f.code===3&&ku)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",f)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",f=>f.preventDefault()),this._geolocateButton=g.create("button","maplibregl-ctrl-geolocate",this._container),g.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=f=>{if(this._map){if(f===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y)}else{const y=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new fl({element:this._dotElement}),this._circleElement=g.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",y=>{y.geolocateSource||this._watchState!=="ACTIVE_LOCK"||y.originalEvent&&y.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},Zm,z)}onAdd(z){return this._map=z,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(f=!1){if(Fl!==void 0&&!f)return Fl;if(window.navigator.permissions===void 0)return Fl=!!window.navigator.geolocation,Fl;try{Fl=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Fl=!!window.navigator.geolocation}return Fl})}().then(f=>this._finishSetupUI(f)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ji=0,ku=!1}_isOutOfMapMaxBounds(z){const f=this._map.getMaxBounds(),y=z.coords;return f&&(y.longitude<f.getWest()||y.longitude>f.getEast()||y.latitude<f.getSouth()||y.latitude>f.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const z=this._map.getBounds(),f=z.getSouthEast(),y=z.getNorthEast(),T=f.distanceTo(y),$=Math.ceil(this._accuracy/(T/this._map._container.clientHeight)*2);this._circleElement.style.width=`${$}px`,this._circleElement.style.height=`${$}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ji--,ku=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let z;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ji++,ji>1?(z={maximumAge:6e5,timeout:0},ku=!0):(z=this.options.positionOptions,ku=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,z)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var z;const f=(z=this._map.getProjection())===null||z===void 0?void 0:z.type;this._map.setProjection(f!=="mercator"&&f?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var z;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((z=this._map.getProjection())===null||z===void 0?void 0:z.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(z){return this._map=z,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=g.create("button","maplibregl-ctrl-globe",this._container),g.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=qm,s.ImageSource=Jt,s.KeyboardHandler=Xm,s.LngLatBounds=We,s.LogoControl=wr,s.Map=class extends Ds{constructor(z){var f,y;o.cj.mark(o.ck.create);const T=Object.assign(Object.assign(Object.assign({},Xr),z),{canvasContextAttributes:Object.assign(Object.assign({},Xr.canvasContextAttributes),z.canvasContextAttributes)});if(T.minZoom!=null&&T.maxZoom!=null&&T.minZoom>T.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(T.minPitch!=null&&T.maxPitch!=null&&T.minPitch>T.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(T.minPitch!=null&&T.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(T.maxPitch!=null&&T.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const $=new na,F=new nr;if(T.minZoom!==void 0&&$.setMinZoom(T.minZoom),T.maxZoom!==void 0&&$.setMaxZoom(T.maxZoom),T.minPitch!==void 0&&$.setMinPitch(T.minPitch),T.maxPitch!==void 0&&$.setMaxPitch(T.maxPitch),T.renderWorldCopies!==void 0&&$.setRenderWorldCopies(T.renderWorldCopies),super($,F,{bearingSnap:T.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Hg,this._controls=[],this._mapId=o.a4(),this._contextLost=ne=>{ne.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:ne}))},this._contextRestored=ne=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:ne}))},this._onMapScroll=ne=>{if(ne.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=T.interactive,this._maxTileCacheSize=T.maxTileCacheSize,this._maxTileCacheZoomLevels=T.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},T.canvasContextAttributes),this._trackResize=T.trackResize===!0,this._bearingSnap=T.bearingSnap,this._centerClampedToGround=T.centerClampedToGround,this._refreshExpiredTiles=T.refreshExpiredTiles===!0,this._fadeDuration=T.fadeDuration,this._crossSourceCollisions=T.crossSourceCollisions===!0,this._collectResourceTiming=T.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Ql),T.locale),this._clickTolerance=T.clickTolerance,this._overridePixelRatio=T.pixelRatio,this._maxCanvasSize=T.maxCanvasSize,this.transformCameraUpdate=T.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=T.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=R.addThrottleControl(()=>this.isMoving()),this._requestManager=new L(T.transformRequest),typeof T.container=="string"){if(this._container=document.getElementById(T.container),!this._container)throw new Error(`Container '${T.container}' not found.`)}else{if(!(T.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=T.container}if(T.maxBounds&&this.setMaxBounds(T.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let ne=!1;const se=Wm(de=>{this._trackResize&&!this._removed&&(this.resize(de),this.redraw())},50);this._resizeObserver=new ResizeObserver(de=>{ne?se(de):ne=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Fg(this,T),this._hash=T.hash&&new qm(typeof T.hash=="string"&&T.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:T.center,elevation:T.elevation,zoom:T.zoom,bearing:T.bearing,pitch:T.pitch,roll:T.roll}),T.bounds&&(this.resize(),this.fitBounds(T.bounds,o.e({},T.fitBoundsOptions,{duration:0}))));const W=typeof T.style=="string"||((y=(f=T.style)===null||f===void 0?void 0:f.projection)===null||y===void 0?void 0:y.type)!=="globe";this.resize(null,W),this._localIdeographFontFamily=T.localIdeographFontFamily,this._validateStyle=T.validateStyle,T.style&&this.setStyle(T.style,{localIdeographFontFamily:T.localIdeographFontFamily}),T.attributionControl&&this.addControl(new vr(typeof T.attributionControl=="boolean"?void 0:T.attributionControl)),T.maplibreLogo&&this.addControl(new wr,T.logoPosition),this.on("style.load",()=>{if(W||this._resizeTransform(),this.transform.unmodified){const ne=o.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(ne)}}),this.on("data",ne=>{this._update(ne.dataType==="style"),this.fire(new o.l(`${ne.dataType}data`,ne))}),this.on("dataloading",ne=>{this.fire(new o.l(`${ne.dataType}dataloading`,ne))}),this.on("dataabort",ne=>{this.fire(new o.l("sourcedataabort",ne))})}_getMapId(){return this._mapId}addControl(z,f){if(f===void 0&&(f=z.getDefaultPosition?z.getDefaultPosition():"top-right"),!z||!z.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const y=z.onAdd(this);this._controls.push(z);const T=this._controlPositions[f];return f.indexOf("bottom")!==-1?T.insertBefore(y,T.firstChild):T.appendChild(y),this}removeControl(z){if(!z||!z.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const f=this._controls.indexOf(z);return f>-1&&this._controls.splice(f,1),z.onRemove(this),this}hasControl(z){return this._controls.indexOf(z)>-1}calculateCameraOptionsFromTo(z,f,y,T){return T==null&&this.terrain&&(T=this.terrain.getElevationForLngLatZoom(y,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(z,f,y,T)}resize(z,f=!0){const[y,T]=this._containerDimensions(),$=this._getClampedPixelRatio(y,T);if(this._resizeCanvas(y,T,$),this.painter.resize(y,T,$),this.painter.overLimit()){const W=this.painter.context.gl;this._maxCanvasSize=[W.drawingBufferWidth,W.drawingBufferHeight];const ne=this._getClampedPixelRatio(y,T);this._resizeCanvas(y,T,ne),this.painter.resize(y,T,ne)}this._resizeTransform(f);const F=!this._moving;return F&&(this.stop(),this.fire(new o.l("movestart",z)).fire(new o.l("move",z))),this.fire(new o.l("resize",z)),F&&this.fire(new o.l("moveend",z)),this}_resizeTransform(z=!0){var f;const[y,T]=this._containerDimensions();this.transform.resize(y,T,z),(f=this._requestedCameraState)===null||f===void 0||f.resize(y,T,z)}_getClampedPixelRatio(z,f){const{0:y,1:T}=this._maxCanvasSize,$=this.getPixelRatio(),F=z*$,W=f*$;return Math.min(F>y?y/F:1,W>T?T/W:1)*$}getPixelRatio(){var z;return(z=this._overridePixelRatio)!==null&&z!==void 0?z:devicePixelRatio}setPixelRatio(z){this._overridePixelRatio=z,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(z){return this.transform.setMaxBounds(We.convert(z)),this._update()}setMinZoom(z){if((z=z??-2)>=-2&&z<=this.transform.maxZoom)return this.transform.setMinZoom(z),this._update(),this.getZoom()<z&&this.setZoom(z),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(z){if((z=z??22)>=this.transform.minZoom)return this.transform.setMaxZoom(z),this._update(),this.getZoom()>z&&this.setZoom(z),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(z){if((z=z??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(z>=0&&z<=this.transform.maxPitch)return this.transform.setMinPitch(z),this._update(),this.getPitch()<z&&this.setPitch(z),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(z){if((z=z??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(z>=this.transform.minPitch)return this.transform.setMaxPitch(z),this._update(),this.getPitch()>z&&this.setPitch(z),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(z){return this.transform.setRenderWorldCopies(z),this._update()}project(z){return this.transform.locationToScreenPoint(o.Q.convert(z),this.style&&this.terrain)}unproject(z){return this.transform.screenPointToLocation(o.P.convert(z),this.terrain)}isMoving(){var z;return this._moving||((z=this.handlers)===null||z===void 0?void 0:z.isMoving())}isZooming(){var z;return this._zooming||((z=this.handlers)===null||z===void 0?void 0:z.isZooming())}isRotating(){var z;return this._rotating||((z=this.handlers)===null||z===void 0?void 0:z.isRotating())}_createDelegatedListener(z,f,y){if(z==="mouseenter"||z==="mouseover"){let T=!1;return{layers:f,listener:y,delegates:{mousemove:F=>{const W=f.filter(se=>this.getLayer(se)),ne=W.length!==0?this.queryRenderedFeatures(F.point,{layers:W}):[];ne.length?T||(T=!0,y.call(this,new Ka(z,this,F.originalEvent,{features:ne}))):T=!1},mouseout:()=>{T=!1}}}}if(z==="mouseleave"||z==="mouseout"){let T=!1;return{layers:f,listener:y,delegates:{mousemove:W=>{const ne=f.filter(se=>this.getLayer(se));(ne.length!==0?this.queryRenderedFeatures(W.point,{layers:ne}):[]).length?T=!0:T&&(T=!1,y.call(this,new Ka(z,this,W.originalEvent)))},mouseout:W=>{T&&(T=!1,y.call(this,new Ka(z,this,W.originalEvent)))}}}}{const T=$=>{const F=f.filter(ne=>this.getLayer(ne)),W=F.length!==0?this.queryRenderedFeatures($.point,{layers:F}):[];W.length&&($.features=W,y.call(this,$),delete $.features)};return{layers:f,listener:y,delegates:{[z]:T}}}}_saveDelegatedListener(z,f){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[z]=this._delegatedListeners[z]||[],this._delegatedListeners[z].push(f)}_removeDelegatedListener(z,f,y){if(!this._delegatedListeners||!this._delegatedListeners[z])return;const T=this._delegatedListeners[z];for(let $=0;$<T.length;$++){const F=T[$];if(F.listener===y&&F.layers.length===f.length&&F.layers.every(W=>f.includes(W))){for(const W in F.delegates)this.off(W,F.delegates[W]);return void T.splice($,1)}}}on(z,f,y){if(y===void 0)return super.on(z,f);const T=typeof f=="string"?[f]:f,$=this._createDelegatedListener(z,T,y);this._saveDelegatedListener(z,$);for(const F in $.delegates)this.on(F,$.delegates[F]);return{unsubscribe:()=>{this._removeDelegatedListener(z,T,y)}}}once(z,f,y){if(y===void 0)return super.once(z,f);const T=typeof f=="string"?[f]:f,$=this._createDelegatedListener(z,T,y);for(const F in $.delegates){const W=$.delegates[F];$.delegates[F]=(...ne)=>{this._removeDelegatedListener(z,T,y),W(...ne)}}this._saveDelegatedListener(z,$);for(const F in $.delegates)this.once(F,$.delegates[F]);return this}off(z,f,y){return y===void 0?super.off(z,f):(this._removeDelegatedListener(z,typeof f=="string"?[f]:f,y),this)}queryRenderedFeatures(z,f){if(!this.style)return[];let y;const T=z instanceof o.P||Array.isArray(z),$=T?z:[[0,0],[this.transform.width,this.transform.height]];if(f=f||(T?{}:z)||{},$ instanceof o.P||typeof $[0]=="number")y=[o.P.convert($)];else{const F=o.P.convert($[0]),W=o.P.convert($[1]);y=[F,new o.P(W.x,F.y),W,new o.P(F.x,W.y),F]}return this.style.queryRenderedFeatures(y,f,this.transform)}querySourceFeatures(z,f){return this.style.querySourceFeatures(z,f)}setStyle(z,f){return(f=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},f)).diff!==!1&&f.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&z?(this._diffStyle(z,f),this):(this._localIdeographFontFamily=f.localIdeographFontFamily,this._updateStyle(z,f))}setTransformRequest(z){return this._requestManager.setTransformRequest(z),this}_getUIString(z){const f=this._locale[z];if(f==null)throw new Error(`Missing UI string '${z}'`);return f}_updateStyle(z,f){var y,T;if(f.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(z,f));const $=this.style&&f.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!z)),z?(this.style=new Rd(this,f||{}),this.style.setEventedParent(this,{style:this.style}),typeof z=="string"?this.style.loadURL(z,f,$):this.style.loadJSON(z,f,$),this):((T=(y=this.style)===null||y===void 0?void 0:y.projection)===null||T===void 0||T.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Rd(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(z,f){if(typeof z=="string"){const y=this._requestManager.transformRequest(z,"Style");o.j(y,new AbortController).then(T=>{this._updateDiff(T.data,f)}).catch(T=>{T&&this.fire(new o.k(T))})}else typeof z=="object"&&this._updateDiff(z,f)}_updateDiff(z,f){try{this.style.setState(z,f)&&this._update(!0)}catch(y){o.w(`Unable to perform style diff: ${y.message||y.error||y}.  Rebuilding the style from scratch.`),this._updateStyle(z,f)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(z,f){return this._lazyInitEmptyStyle(),this.style.addSource(z,f),this._update(!0)}isSourceLoaded(z){const f=this.style&&this.style.sourceCaches[z];if(f!==void 0)return f.loaded();this.fire(new o.k(new Error(`There is no source with ID '${z}'`)))}setTerrain(z){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),z){const f=this.style.sourceCaches[z.source];if(!f)throw new Error(`cannot load terrain, because there exists no source with ID: ${z.source}`);this.terrain===null&&f.reload();for(const y in this.style._layers){const T=this.style._layers[y];T.type==="hillshade"&&T.source===z.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ts(this.painter,f,z),this.painter.renderToTexture=new $0(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=y=>{var T;y.dataType==="style"?this.terrain.sourceCache.freeRtt():y.dataType==="source"&&y.tile&&(y.sourceId!==z.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((T=y.source)===null||T===void 0?void 0:T.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(y.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:z})),this}getTerrain(){var z,f;return(f=(z=this.terrain)===null||z===void 0?void 0:z.options)!==null&&f!==void 0?f:null}areTilesLoaded(){const z=this.style&&this.style.sourceCaches;for(const f in z){const y=z[f]._tiles;for(const T in y){const $=y[T];if($.state!=="loaded"&&$.state!=="errored")return!1}}return!0}removeSource(z){return this.style.removeSource(z),this._update(!0)}getSource(z){return this.style.getSource(z)}addImage(z,f,y={}){const{pixelRatio:T=1,sdf:$=!1,stretchX:F,stretchY:W,content:ne,textFitWidth:se,textFitHeight:de}=y;if(this._lazyInitEmptyStyle(),!(f instanceof HTMLImageElement||o.b(f))){if(f.width===void 0||f.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ve,height:Ee,data:Ce}=f,ke=f;return this.style.addImage(z,{data:new o.R({width:ve,height:Ee},new Uint8Array(Ce)),pixelRatio:T,stretchX:F,stretchY:W,content:ne,textFitWidth:se,textFitHeight:de,sdf:$,version:0,userImage:ke}),ke.onAdd&&ke.onAdd(this,z),this}}{const{width:ve,height:Ee,data:Ce}=h.getImageData(f);this.style.addImage(z,{data:new o.R({width:ve,height:Ee},Ce),pixelRatio:T,stretchX:F,stretchY:W,content:ne,textFitWidth:se,textFitHeight:de,sdf:$,version:0})}}updateImage(z,f){const y=this.style.getImage(z);if(!y)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const T=f instanceof HTMLImageElement||o.b(f)?h.getImageData(f):f,{width:$,height:F,data:W}=T;if($===void 0||F===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if($!==y.data.width||F!==y.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const ne=!(f instanceof HTMLImageElement||o.b(f));return y.data.replace(W,ne),this.style.updateImage(z,y),this}getImage(z){return this.style.getImage(z)}hasImage(z){return z?!!this.style.getImage(z):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(z){this.style.removeImage(z)}loadImage(z){return R.getImage(this._requestManager.transformRequest(z,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(z,f){return this._lazyInitEmptyStyle(),this.style.addLayer(z,f),this._update(!0)}moveLayer(z,f){return this.style.moveLayer(z,f),this._update(!0)}removeLayer(z){return this.style.removeLayer(z),this._update(!0)}getLayer(z){return this.style.getLayer(z)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(z,f,y){return this.style.setLayerZoomRange(z,f,y),this._update(!0)}setFilter(z,f,y={}){return this.style.setFilter(z,f,y),this._update(!0)}getFilter(z){return this.style.getFilter(z)}setPaintProperty(z,f,y,T={}){return this.style.setPaintProperty(z,f,y,T),this._update(!0)}getPaintProperty(z,f){return this.style.getPaintProperty(z,f)}setLayoutProperty(z,f,y,T={}){return this.style.setLayoutProperty(z,f,y,T),this._update(!0)}getLayoutProperty(z,f){return this.style.getLayoutProperty(z,f)}setGlyphs(z,f={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(z,f),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(z,f,y={}){return this._lazyInitEmptyStyle(),this.style.addSprite(z,f,y,T=>{T||this._update(!0)}),this}removeSprite(z){return this._lazyInitEmptyStyle(),this.style.removeSprite(z),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(z,f={}){return this._lazyInitEmptyStyle(),this.style.setSprite(z,f,y=>{y||this._update(!0)}),this}setLight(z,f={}){return this._lazyInitEmptyStyle(),this.style.setLight(z,f),this._update(!0)}getLight(){return this.style.getLight()}setSky(z,f={}){return this._lazyInitEmptyStyle(),this.style.setSky(z,f),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(z,f){return this.style.setFeatureState(z,f),this._update()}removeFeatureState(z,f){return this.style.removeFeatureState(z,f),this._update()}getFeatureState(z){return this.style.getFeatureState(z)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let z=0,f=0;return this._container&&(z=this._container.clientWidth||400,f=this._container.clientHeight||300),[z,f]}_setupContainer(){const z=this._container;z.classList.add("maplibregl-map");const f=this._canvasContainer=g.create("div","maplibregl-canvas-container",z);this._interactive&&f.classList.add("maplibregl-interactive"),this._canvas=g.create("canvas","maplibregl-canvas",f),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const y=this._containerDimensions(),T=this._getClampedPixelRatio(y[0],y[1]);this._resizeCanvas(y[0],y[1],T);const $=this._controlContainer=g.create("div","maplibregl-control-container",z),F=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(W=>{F[W]=g.create("div",`maplibregl-ctrl-${W} `,$)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(z,f,y){this._canvas.width=Math.floor(y*z),this._canvas.height=Math.floor(y*f),this._canvas.style.width=`${z}px`,this._canvas.style.height=`${f}px`}_setupPainter(){const z=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let f=null;this._canvas.addEventListener("webglcontextcreationerror",T=>{f={requestedAttributes:z},T&&(f.statusMessage=T.statusMessage,f.type=T.type)},{once:!0});let y=null;if(y=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,z):this._canvas.getContext("webgl2",z)||this._canvas.getContext("webgl",z),!y){const T="Failed to initialize WebGL";throw f?(f.message=T,new Error(JSON.stringify(f))):new Error(T)}this.painter=new Nc(y,this.transform),v.testSupport(y)}migrateProjection(z,f){super.migrateProjection(z,f),this.painter.transform=z,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(z){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||z,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(z){return this._update(),this._renderTaskQueue.add(z)}_cancelRenderFrame(z){this._renderTaskQueue.remove(z)}_render(z){var f,y,T,$,F;const W=this._idleTriggered?this._fadeDuration:0,ne=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(z),this._removed)return;let se=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Ee=this.transform.zoom,Ce=h.now();this.style.zoomHistory.update(Ee,Ce);const ke=new o.C(Ee,{now:Ce,fadeDuration:W,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Be=ke.crossFadingFactor();Be===1&&Be===this._crossFadingFactor||(se=!0,this._crossFadingFactor=Be),this.style.update(ke)}const de=((y=this.style.projection)===null||y===void 0?void 0:y.transitionState)>0!==ne;(T=this.style.projection)===null||T===void 0||T.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState(($=this.style.projection)===null||$===void 0?void 0:$.transitionState,(F=this.style.projection)===null||F===void 0?void 0:F.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||de)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,W,this._crossSourceCollisions,de),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:W,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cj.mark(o.ck.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||se)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const ve=this._sourcesDirty||this._styleDirty||this._placementDirty;return ve||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||ve||(this._fullyLoaded=!0,o.cj.mark(o.ck.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var z;this._hash&&this._hash.remove();for(const y of this._controls)y.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),R.removeThrottleControl(this._imageQueueHandle),(z=this._resizeObserver)===null||z===void 0||z.disconnect();const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f?.loseContext&&f.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),g.remove(this._canvasContainer),g.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cj.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,h.frame(this._frameRequest,z=>{o.cj.frame(z),this._frameRequest=null;try{this._render(z)}catch(f){if(!o.cl(f)&&!function(y){return y.message===iu}(f))throw f}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(z){this._showTileBoundaries!==z&&(this._showTileBoundaries=z,this._update())}get showPadding(){return!!this._showPadding}set showPadding(z){this._showPadding!==z&&(this._showPadding=z,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(z){this._showCollisionBoxes!==z&&(this._showCollisionBoxes=z,z?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(z){this._showOverdrawInspector!==z&&(this._showOverdrawInspector=z,this._update())}get repaint(){return!!this._repaint}set repaint(z){this._repaint!==z&&(this._repaint=z,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(z){this._vertices=z,this._update()}get version(){return Nr}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(z){return this._lazyInitEmptyStyle(),this.style.setProjection(z),this._update(!0)}},s.MapMouseEvent=Ka,s.MapTouchEvent=Oi,s.MapWheelEvent=jl,s.Marker=fl,s.NavigationControl=class{constructor(z){this._updateZoomButtons=()=>{const f=this._map.getZoom(),y=f===this._map.getMaxZoom(),T=f===this._map.getMinZoom();this._zoomInButton.disabled=y,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",y.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(f,y)=>{const T=this._map._getUIString(`NavigationControl.${y}`);f.title=T,f.setAttribute("aria-label",T)},this.options=o.e({},Xi,z),this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",f=>f.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",f=>this._map.zoomIn({},{originalEvent:f})),g.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",f=>this._map.zoomOut({},{originalEvent:f})),g.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",f=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:f}):this._map.resetNorth({},{originalEvent:f})}),this._compassIcon=g.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(z){return this._map=z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bf(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(z,f){const y=g.create("button",z,this._container);return y.type="button",y.addEventListener("click",f),y}},s.Popup=class extends o.E{constructor(z){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._closeButton&&this._closeButton.removeEventListener("click",this._onClose),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=f=>{this._update(f.point)},this._onMouseMove=f=>{this._update(f.point)},this._onDrag=f=>{this._update(f.point)},this._update=f=>{var y;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=g.create("div","maplibregl-popup",this._map.getContainer()),this._tip=g.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const ne of this.options.className.split(" "))this._container.classList.add(ne);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Xs(this._lngLat,this._flatPos,this._map.transform):(y=this._lngLat)===null||y===void 0?void 0:y.wrap(),this._trackPointer&&!f)return;const T=this._flatPos=this._pos=this._trackPointer&&f?f:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&f?f:this._map.transform.locationToScreenPoint(this._lngLat));let $=this.options.anchor;const F=Lu(this.options.offset);if(!$){const ne=this._container.offsetWidth,se=this._container.offsetHeight;let de;de=T.y+F.bottom.y<se?["top"]:T.y>this._map.transform.height-se?["bottom"]:[],T.x<ne/2?de.push("left"):T.x>this._map.transform.width-ne/2&&de.push("right"),$=de.length===0?"bottom":de.join("-")}let W=T.add(F[$]);this.options.subpixelPositioning||(W=W.round()),g.setTransform(this._container,`${_f[$]} translate(${W.x}px,${W.y}px)`),$u(this._container,$,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(Wg),z)}addTo(z){return this._map&&this.remove(),this._map=z,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(z){return this._lngLat=o.Q.convert(z),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(z){return this.setDOMContent(document.createTextNode(z))}setHTML(z){const f=document.createDocumentFragment(),y=document.createElement("body");let T;for(y.innerHTML=z;T=y.firstChild,T;)f.appendChild(T);return this.setDOMContent(f)}getMaxWidth(){var z;return(z=this._container)===null||z===void 0?void 0:z.style.maxWidth}setMaxWidth(z){return this.options.maxWidth=z,this._update(),this}setDOMContent(z){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(z),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(z){return this._container&&this._container.classList.add(z),this}removeClassName(z){return this._container&&this._container.classList.remove(z),this}setOffset(z){return this.options.offset=z,this._update(),this}toggleClassName(z){if(this._container)return this._container.classList.toggle(z)}setSubpixelPositioning(z){this.options.subpixelPositioning=z}_createCloseButton(){this.options.closeButton&&(this._closeButton=g.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const z=this._container.querySelector(qg);z&&z.focus()}},s.RasterDEMTileSource=Rt,s.RasterTileSource=ft,s.ScaleControl=class{constructor(z){this._onMove=()=>{Gg(this._map,this._container,this.options)},this.setUnit=f=>{this.options.unit=f,Gg(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Ug),z)}getDefaultPosition(){return"bottom-left"}onAdd(z){return this._map=z,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-scale",z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=P0,s.Style=Rd,s.TerrainControl=class{constructor(z){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=z}onAdd(z){return this._map=z,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=g.create("button","maplibregl-ctrl-terrain",this._container),g.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){g.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=I0,s.TwoFingersTouchRotateHandler=pf,s.TwoFingersTouchZoomHandler=Li,s.TwoFingersTouchZoomRotateHandler=yc,s.VectorTileSource=ht,s.VideoSource=xt,s.addSourceType=(z,f)=>o._(void 0,void 0,void 0,function*(){if(Kt(z))throw new Error(`A source type called "${z}" already exists.`);((y,T)=>{Lt[y]=T})(z,f)}),s.clearPrewarmedResources=function(){const z=Se;z&&(z.isPreloaded()&&z.numActive()===1?(z.release(pe),Se=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=Ju,s.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return kn().getRTLTextPluginStatus()},s.getVersion=function(){return Op},s.getWorkerCount=function(){return ye.workerCount},s.getWorkerUrl=function(){return o.a.WORKER_URL},s.importScriptInWorkers=function(z){return ze().broadcast("IS",z)},s.prewarm=function(){je().acquire(pe)},s.setMaxParallelImageRequests=function(z){o.a.MAX_PARALLEL_IMAGE_REQUESTS=z},s.setRTLTextPlugin=function(z,f){return kn().setRTLTextPlugin(z,f)},s.setWorkerCount=function(z){ye.workerCount=z},s.setWorkerUrl=function(z){o.a.WORKER_URL=z}});var a=n;return a})}(qM)),qM.exports}var Lhe=khe();const Nhe=Ky(Lhe);function Dhe(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties={},r.geometry=e,r}function zhe(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Vj(e[0])||!Vj(e[1]))throw new Error("coordinates must contain numbers");return Dhe({type:"Point",coordinates:e},t,n)}function Vj(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Bhe(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function jhe(e){return e.type==="Feature"?e.geometry:e}function $K(e,t,n){if(e!==null)for(var r,i,a,s,o,l,c,u=0,d=0,h,g=e.type,v=g==="FeatureCollection",x=g==="Feature",w=v?e.features.length:1,C=0;C<w;C++){c=v?e.features[C].geometry:x?e.geometry:e,h=c?c.type==="GeometryCollection":!1,o=h?c.geometries.length:1;for(var E=0;E<o;E++){var M=0,R=0;if(s=h?c.geometries[E]:c,s!==null){l=s.coordinates;var L=s.type;switch(u=0,L){case null:break;case"Point":if(t(l,d,C,M,R)===!1)return!1;d++,M++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],d,C,M,R)===!1)return!1;d++,L==="MultiPoint"&&M++}L==="LineString"&&M++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-u;i++){if(t(l[r][i],d,C,M,R)===!1)return!1;d++}L==="MultiLineString"&&M++,L==="Polygon"&&R++}L==="Polygon"&&M++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(R=0,i=0;i<l[r].length;i++){for(a=0;a<l[r][i].length-u;a++){if(t(l[r][i][a],d,C,M,R)===!1)return!1;d++}R++}M++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if($K(s.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Fhe(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return $K(e,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}const ky=11102230246251565e-32,Af=134217729,Hhe=(3+8*ky)*ky;function lk(e,t,n,r,i){let a,s,o,l,c=t[0],u=r[0],d=0,h=0;u>c==u>-c?(a=c,c=t[++d]):(a=u,u=r[++h]);let g=0;if(d<e&&h<n)for(u>c==u>-c?(s=c+a,o=a-(s-c),c=t[++d]):(s=u+a,o=a-(s-u),u=r[++h]),a=s,o!==0&&(i[g++]=o);d<e&&h<n;)u>c==u>-c?(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d]):(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h]),a=s,o!==0&&(i[g++]=o);for(;d<e;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=t[++d],a=s,o!==0&&(i[g++]=o);for(;h<n;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=r[++h],a=s,o!==0&&(i[g++]=o);return(a!==0||g===0)&&(i[g++]=a),g}function Vhe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function MO(e){return new Float64Array(e)}const Uhe=(3+16*ky)*ky,Ghe=(2+12*ky)*ky,Whe=(9+64*ky)*ky*ky,uw=MO(4),Uj=MO(8),Gj=MO(12),Wj=MO(16),md=MO(4);function qhe(e,t,n,r,i,a,s){let o,l,c,u,d,h,g,v,x,w,C,E,M,R,L,N,D,H;const U=e-i,q=n-i,K=t-a,Q=r-a;R=U*Q,h=Af*U,g=h-(h-U),v=U-g,h=Af*Q,x=h-(h-Q),w=Q-x,L=v*w-(R-g*x-v*x-g*w),N=K*q,h=Af*K,g=h-(h-K),v=K-g,h=Af*q,x=h-(h-q),w=q-x,D=v*w-(N-g*x-v*x-g*w),C=L-D,d=L-C,uw[0]=L-(C+d)+(d-D),E=R+C,d=E-R,M=R-(E-d)+(C-d),C=M-N,d=M-C,uw[1]=M-(C+d)+(d-N),H=E+C,d=H-E,uw[2]=E-(H-d)+(C-d),uw[3]=H;let X=Vhe(4,uw),te=Ghe*s;if(X>=te||-X>=te||(d=e-U,o=e-(U+d)+(d-i),d=n-q,c=n-(q+d)+(d-i),d=t-K,l=t-(K+d)+(d-a),d=r-Q,u=r-(Q+d)+(d-a),o===0&&l===0&&c===0&&u===0)||(te=Whe*s+Hhe*Math.abs(X),X+=U*u+Q*o-(K*c+q*l),X>=te||-X>=te))return X;R=o*Q,h=Af*o,g=h-(h-o),v=o-g,h=Af*Q,x=h-(h-Q),w=Q-x,L=v*w-(R-g*x-v*x-g*w),N=l*q,h=Af*l,g=h-(h-l),v=l-g,h=Af*q,x=h-(h-q),w=q-x,D=v*w-(N-g*x-v*x-g*w),C=L-D,d=L-C,md[0]=L-(C+d)+(d-D),E=R+C,d=E-R,M=R-(E-d)+(C-d),C=M-N,d=M-C,md[1]=M-(C+d)+(d-N),H=E+C,d=H-E,md[2]=E-(H-d)+(C-d),md[3]=H;const ee=lk(4,uw,4,md,Uj);R=U*u,h=Af*U,g=h-(h-U),v=U-g,h=Af*u,x=h-(h-u),w=u-x,L=v*w-(R-g*x-v*x-g*w),N=K*c,h=Af*K,g=h-(h-K),v=K-g,h=Af*c,x=h-(h-c),w=c-x,D=v*w-(N-g*x-v*x-g*w),C=L-D,d=L-C,md[0]=L-(C+d)+(d-D),E=R+C,d=E-R,M=R-(E-d)+(C-d),C=M-N,d=M-C,md[1]=M-(C+d)+(d-N),H=E+C,d=H-E,md[2]=E-(H-d)+(C-d),md[3]=H;const Z=lk(ee,Uj,4,md,Gj);R=o*u,h=Af*o,g=h-(h-o),v=o-g,h=Af*u,x=h-(h-u),w=u-x,L=v*w-(R-g*x-v*x-g*w),N=l*c,h=Af*l,g=h-(h-l),v=l-g,h=Af*c,x=h-(h-c),w=c-x,D=v*w-(N-g*x-v*x-g*w),C=L-D,d=L-C,md[0]=L-(C+d)+(d-D),E=R+C,d=E-R,M=R-(E-d)+(C-d),C=M-N,d=M-C,md[1]=M-(C+d)+(d-N),H=E+C,d=H-E,md[2]=E-(H-d)+(C-d),md[3]=H;const re=lk(Z,Gj,4,md,Wj);return Wj[re-1]}function Khe(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=Uhe*c?l:-qhe(e,t,n,r,i,a,c)}function Yhe(e,t){var n,r,i=0,a,s,o,l,c,u,d,h=e[0],g=e[1],v=t.length;for(n=0;n<v;n++){r=0;var x=t[n],w=x.length-1;if(u=x[0],u[0]!==x[w][0]&&u[1]!==x[w][1])throw new Error("First and last coordinates in a ring must be the same");for(s=u[0]-h,o=u[1]-g,r;r<w;r++){if(d=x[r+1],l=d[0]-h,c=d[1]-g,o===0&&c===0){if(l<=0&&s>=0||s<=0&&l>=0)return 0}else if(c>=0&&o<=0||c<=0&&o>=0){if(a=Khe(s,l,o,c,0,0),a===0)return 0;(a>0&&c>0&&o<=0||a<0&&c<=0&&o>0)&&i++}u=d,o=c,s=l}}return i%2!==0}function Xhe(e,t,n={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const r=Bhe(e),i=jhe(t),a=i.type,s=t.bbox;let o=i.coordinates;if(s&&Zhe(r,s)===!1)return!1;a==="Polygon"&&(o=[o]);let l=!1;for(var c=0;c<o.length;++c){const u=Yhe(r,o[c]);if(u===0)return!n.ignoreBoundary;u&&(l=!0)}return l}function Zhe(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}const J4=["Primar","Gimnazial","Liceal"],kK=["Profesional","Postliceal","Precolar","Anteprecolar"],Qhe=[...J4,...kK],LK=["romn","maghiar","german"],NK=["romani (rromani)","slovac","srb","italian","englez","ceh","croat","ucrainean","polon","bulgar"],DK=["romn","maghiar","german","turc","croat","slovac","italian","ucrainean","srb"],zK=["Promovat","Nepromovat","Eliminat","Absent"],Jhe=[...LK,...NK],BK={AB:"Alba",AR:"Arad",AG:"Arge",BC:"Bacu",BH:"Bihor",BN:"Bistria-Nsud",BR:"Brila",BT:"Botoani",BV:"Braov",B:"Bucureti",BZ:"Buzu",CS:"Cara-Severin",CL:"Clrai",CJ:"Cluj",CT:"Constana",CV:"Covasna",DB:"Dmbovia",DJ:"Dolj",GL:"Galai",GR:"Giurgiu",GJ:"Gorj",HR:"Harghita",HD:"Hunedoara",IL:"Ialomia",IS:"Iai",IF:"Ilfov",MM:"Maramure",MH:"Mehedini",MS:"Mure",NT:"Neam",OT:"Olt",PH:"Prahova",SM:"Satu Mare",SJ:"Slaj",SB:"Sibiu",SV:"Suceava",TR:"Teleorman",TM:"Timi",TL:"Tulcea",VS:"Vaslui",VL:"Vlcea",VN:"Vrancea"},m0=I.createContext();function epe({children:e}){const[t,n]=I.useState({county:null,town:null,levels:Object.fromEntries(Qhe.map(l=>[l,J4.includes(l)])),languages:Object.fromEntries(Jhe.map(l=>[l,!0])),bacLanguages:Object.fromEntries(DK.map(l=>[l,!0])),bacResults:Object.fromEntries(zK.map(l=>[l,!0])),strictLevelLanguage:!1,perCapita:!1,schoolAgeOnly:!1,examDataset:!1,inBacData:!1,inEvaluareData:!1});function r(l,c,u){const d=c.split("."),h=d.pop(),g=d.reduce((v,x)=>(v[x]||(v[x]={}),v[x]),l);return g[h]=u,{...l}}const i=(l,c)=>{n(u=>{const d=r({...u},l,c),h=l.split(".")[0];if(h==="schoolAgeOnly"&&c===!0&&(d.perCapita=!0),h==="inBacData"&&c===!0&&(u.levels.Liceal||(d.levels={...u.levels,Liceal:!0})),h==="inEvaluareData"&&c===!0&&(u.levels.Gimnazial||(d.levels={...u.levels,Gimnazial:!0})),h==="levels"){const g=d.levels||{};!g.Liceal&&u.inBacData&&(d.inBacData=!1),!g.Gimnazial&&u.inEvaluareData&&(d.inEvaluareData=!1)}return h==="examDataset"&&c===!0&&(d.inEvaluareData=!0,d.inBacData=!0),console.log("Filters updated",d),d})},[a,s]=I.useState("schools"),o={filters:t,updateFilter:i,typeOfMap:a,setTypeOfMap:s};return qn.jsx(m0.Provider,{value:o,children:e})}const{min:tpe,max:npe}=Math,J_=(e,t=0,n=1)=>tpe(npe(t,e),n),ez=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=J_(e[t],0,255)):t===3&&(e[t]=J_(e[t],0,1));return e},jK={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])jK[`[object ${e}]`]=e.toLowerCase();function Ra(e){return jK[Object.prototype.toString.call(e)]||"object"}const oa=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):Ra(e[0])=="object"&&t?t.split("").filter(n=>e[0][n]!==void 0).map(n=>e[0][n]):e[0].slice(0),S2=e=>{if(e.length<2)return null;const t=e.length-1;return Ra(e[t])=="string"?e[t].toLowerCase():null},{PI:rR,min:FK,max:HK}=Math,cg=e=>Math.round(e*100)/100,pN=e=>Math.round(e*100)/100,wy=rR*2,ck=rR/3,rpe=rR/180,ipe=180/rR;function VK(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const Qi={format:{},autodetect:[]};let rr=class{constructor(...t){const n=this;if(Ra(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let r=S2(t),i=!1;if(!r){i=!0,Qi.sorted||(Qi.autodetect=Qi.autodetect.sort((a,s)=>s.p-a.p),Qi.sorted=!0);for(let a of Qi.autodetect)if(r=a.test(...t),r)break}if(Qi.format[r]){const a=Qi.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=ez(a)}else throw new Error("unknown format: "+t);n._rgb.length===3&&n._rgb.push(1)}toString(){return Ra(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const ape="3.1.2",Ga=(...e)=>new rr(...e);Ga.version=ape;const PS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ope=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,spe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,UK=e=>{if(e.match(ope)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),n=t>>16,r=t>>8&255,i=t&255;return[n,r,i,1]}if(e.match(spe)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),n=t>>24&255,r=t>>16&255,i=t>>8&255,a=Math.round((t&255)/255*100)/100;return[n,r,i,a]}throw new Error(`unknown hex color: ${e}`)},{round:CT}=Math,GK=(...e)=>{let[t,n,r,i]=oa(e,"rgba"),a=S2(e)||"auto";i===void 0&&(i=1),a==="auto"&&(a=i<1?"rgba":"rgb"),t=CT(t),n=CT(n),r=CT(r);let o="000000"+(t<<16|n<<8|r).toString(16);o=o.substr(o.length-6);let l="0"+CT(i*255).toString(16);switch(l=l.substr(l.length-2),a.toLowerCase()){case"rgba":return`#${o}${l}`;case"argb":return`#${l}${o}`;default:return`#${o}`}};rr.prototype.name=function(){const e=GK(this._rgb,"rgb");for(let t of Object.keys(PS))if(PS[t]===e)return t.toLowerCase();return e};Qi.format.named=e=>{if(e=e.toLowerCase(),PS[e])return UK(PS[e]);throw new Error("unknown color name: "+e)};Qi.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Ra(e)==="string"&&PS[e.toLowerCase()])return"named"}});rr.prototype.alpha=function(e,t=!1){return e!==void 0&&Ra(e)==="number"?t?(this._rgb[3]=e,this):new rr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};rr.prototype.clipped=function(){return this._rgb._clipped||!1};const Kv={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},lpe=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Ry(e){const t=lpe.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Kv.labWhitePoint=e,Kv.Xn=t[0],Kv.Zn=t[1]}function SE(){return Kv.labWhitePoint}const tz=(...e)=>{e=oa(e,"lab");const[t,n,r]=e,[i,a,s]=cpe(t,n,r),[o,l,c]=WK(i,a,s);return[o,l,c,e.length>3?e[3]:1]},cpe=(e,t,n)=>{const{kE:r,kK:i,kKE:a,Xn:s,Yn:o,Zn:l}=Kv,c=(e+16)/116,u=.002*t+c,d=c-.005*n,h=u*u*u,g=d*d*d,v=h>r?h:(116*u-16)/i,x=e>a?Math.pow((e+16)/116,3):e/i,w=g>r?g:(116*d-16)/i,C=v*s,E=x*o,M=w*l;return[C,E,M]},uk=e=>{const t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},WK=(e,t,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:a,RefWhiteRGB:s,Xn:o,Yn:l,Zn:c}=Kv,u=o*r.m00+l*r.m10+c*r.m20,d=o*r.m01+l*r.m11+c*r.m21,h=o*r.m02+l*r.m12+c*r.m22,g=s.X*r.m00+s.Y*r.m10+s.Z*r.m20,v=s.X*r.m01+s.Y*r.m11+s.Z*r.m21,x=s.X*r.m02+s.Y*r.m12+s.Z*r.m22,w=(e*r.m00+t*r.m10+n*r.m20)*(g/u),C=(e*r.m01+t*r.m11+n*r.m21)*(v/d),E=(e*r.m02+t*r.m12+n*r.m22)*(x/h),M=w*i.m00+C*i.m10+E*i.m20,R=w*i.m01+C*i.m11+E*i.m21,L=w*i.m02+C*i.m12+E*i.m22,N=uk(M*a.m00+R*a.m10+L*a.m20),D=uk(M*a.m01+R*a.m11+L*a.m21),H=uk(M*a.m02+R*a.m12+L*a.m22);return[N*255,D*255,H*255]},nz=(...e)=>{const[t,n,r,...i]=oa(e,"rgb"),[a,s,o]=qK(t,n,r),[l,c,u]=upe(a,s,o);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};function upe(e,t,n){const{Xn:r,Yn:i,Zn:a,kE:s,kK:o}=Kv,l=e/r,c=t/i,u=n/a,d=l>s?Math.pow(l,1/3):(o*l+16)/116,h=c>s?Math.pow(c,1/3):(o*c+16)/116,g=u>s?Math.pow(u,1/3):(o*u+16)/116;return[116*h-16,500*(d-h),200*(h-g)]}function fk(e){const t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}const qK=(e,t,n)=>{e=fk(e/255),t=fk(t/255),n=fk(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:a,Xn:s,Yn:o,Zn:l,As:c,Bs:u,Cs:d}=Kv;let h=e*r.m00+t*r.m10+n*r.m20,g=e*r.m01+t*r.m11+n*r.m21,v=e*r.m02+t*r.m12+n*r.m22;const x=s*i.m00+o*i.m10+l*i.m20,w=s*i.m01+o*i.m11+l*i.m21,C=s*i.m02+o*i.m12+l*i.m22;let E=h*i.m00+g*i.m10+v*i.m20,M=h*i.m01+g*i.m11+v*i.m21,R=h*i.m02+g*i.m12+v*i.m22;return E*=x/c,M*=w/u,R*=C/d,h=E*a.m00+M*a.m10+R*a.m20,g=E*a.m01+M*a.m11+R*a.m21,v=E*a.m02+M*a.m12+R*a.m22,[h,g,v]};rr.prototype.lab=function(){return nz(this._rgb)};const fpe=(...e)=>new rr(...e,"lab");Object.assign(Ga,{lab:fpe,getLabWhitePoint:SE,setLabWhitePoint:Ry});Qi.format.lab=tz;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"lab"),Ra(e)==="array"&&e.length===3)return"lab"}});rr.prototype.darken=function(e=1){const t=this,n=t.lab();return n[0]-=Kv.Kn*e,new rr(n,"lab").alpha(t.alpha(),!0)};rr.prototype.brighten=function(e=1){return this.darken(-e)};rr.prototype.darker=rr.prototype.darken;rr.prototype.brighter=rr.prototype.brighten;rr.prototype.get=function(e){const[t,n]=e.split("."),r=this[t]();if(n){const i=t.indexOf(n)-(t.substr(0,2)==="ok"?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${n} in mode ${t}`)}else return r};const{pow:dpe}=Math,hpe=1e-7,ppe=20;rr.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&Ra(e)==="number"){if(e===0)return new rr([0,0,0,this._rgb[3]],"rgb");if(e===1)return new rr([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=ppe;const i=(s,o)=>{const l=s.interpolate(o,.5,t),c=l.luminance();return Math.abs(e-c)<hpe||!r--?l:c>e?i(s,l):i(l,o)},a=(n>e?i(new rr([0,0,0]),this):i(this,new rr([255,255,255]))).rgb();return new rr([...a,this._rgb[3]])}return gpe(...this._rgb.slice(0,3))};const gpe=(e,t,n)=>(e=dk(e),t=dk(t),n=dk(n),.2126*e+.7152*t+.0722*n),dk=e=>(e/=255,e<=.03928?e/12.92:dpe((e+.055)/1.055,2.4)),Lf={},RS=(e,t,n=.5,...r)=>{let i=r[0]||"lrgb";if(!Lf[i]&&!r.length&&(i=Object.keys(Lf)[0]),!Lf[i])throw new Error(`interpolation mode ${i} is not defined`);return Ra(e)!=="object"&&(e=new rr(e)),Ra(t)!=="object"&&(t=new rr(t)),Lf[i](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};rr.prototype.mix=rr.prototype.interpolate=function(e,t=.5,...n){return RS(this,e,t,...n)};rr.prototype.premultiply=function(e=!1){const t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new rr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};const{sin:mpe,cos:vpe}=Math,KK=(...e)=>{let[t,n,r]=oa(e,"lch");return isNaN(r)&&(r=0),r=r*rpe,[t,vpe(r)*n,mpe(r)*n]},rz=(...e)=>{e=oa(e,"lch");const[t,n,r]=e,[i,a,s]=KK(t,n,r),[o,l,c]=tz(i,a,s);return[o,l,c,e.length>3?e[3]:1]},ype=(...e)=>{const t=VK(oa(e,"hcl"));return rz(...t)},{sqrt:bpe,atan2:_pe,round:xpe}=Math,YK=(...e)=>{const[t,n,r]=oa(e,"lab"),i=bpe(n*n+r*r);let a=(_pe(r,n)*ipe+360)%360;return xpe(i*1e4)===0&&(a=Number.NaN),[t,i,a]},iz=(...e)=>{const[t,n,r,...i]=oa(e,"rgb"),[a,s,o]=nz(t,n,r),[l,c,u]=YK(a,s,o);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};rr.prototype.lch=function(){return iz(this._rgb)};rr.prototype.hcl=function(){return VK(iz(this._rgb))};const wpe=(...e)=>new rr(...e,"lch"),Spe=(...e)=>new rr(...e,"hcl");Object.assign(Ga,{lch:wpe,hcl:Spe});Qi.format.lch=rz;Qi.format.hcl=ype;["lch","hcl"].forEach(e=>Qi.autodetect.push({p:2,test:(...t)=>{if(t=oa(t,e),Ra(t)==="array"&&t.length===3)return e}}));rr.prototype.saturate=function(e=1){const t=this,n=t.lch();return n[1]+=Kv.Kn*e,n[1]<0&&(n[1]=0),new rr(n,"lch").alpha(t.alpha(),!0)};rr.prototype.desaturate=function(e=1){return this.saturate(-e)};rr.prototype.set=function(e,t,n=!1){const[r,i]=e.split("."),a=this[r]();if(i){const s=r.indexOf(i)-(r.substr(0,2)==="ok"?2:0);if(s>-1){if(Ra(t)=="string")switch(t.charAt(0)){case"+":a[s]+=+t;break;case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else if(Ra(t)==="number")a[s]=t;else throw new Error("unsupported value for Color.set");const o=new rr(a,r);return n?(this._rgb=o._rgb,this):o}throw new Error(`unknown channel ${i} in mode ${r}`)}else return a};rr.prototype.tint=function(e=.5,...t){return RS(this,"white",e,...t)};rr.prototype.shade=function(e=.5,...t){return RS(this,"black",e,...t)};const Cpe=(e,t,n)=>{const r=e._rgb,i=t._rgb;return new rr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};Lf.rgb=Cpe;const{sqrt:hk,pow:fw}=Math,Epe=(e,t,n)=>{const[r,i,a]=e._rgb,[s,o,l]=t._rgb;return new rr(hk(fw(r,2)*(1-n)+fw(s,2)*n),hk(fw(i,2)*(1-n)+fw(o,2)*n),hk(fw(a,2)*(1-n)+fw(l,2)*n),"rgb")};Lf.lrgb=Epe;const Ope=(e,t,n)=>{const r=e.lab(),i=t.lab();return new rr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};Lf.lab=Ope;const C2=(e,t,n,r)=>{let i,a;r==="hsl"?(i=e.hsl(),a=t.hsl()):r==="hsv"?(i=e.hsv(),a=t.hsv()):r==="hcg"?(i=e.hcg(),a=t.hcg()):r==="hsi"?(i=e.hsi(),a=t.hsi()):r==="lch"||r==="hcl"?(r="hcl",i=e.hcl(),a=t.hcl()):r==="oklch"&&(i=e.oklch().reverse(),a=t.oklch().reverse());let s,o,l,c,u,d;(r.substr(0,1)==="h"||r==="oklch")&&([s,l,u]=i,[o,c,d]=a);let h,g,v,x;return!isNaN(s)&&!isNaN(o)?(o>s&&o-s>180?x=o-(s+360):o<s&&s-o>180?x=o+360-s:x=o-s,g=s+n*x):isNaN(s)?isNaN(o)?g=Number.NaN:(g=o,(u==1||u==0)&&r!="hsv"&&(h=c)):(g=s,(d==1||d==0)&&r!="hsv"&&(h=l)),h===void 0&&(h=l+n*(c-l)),v=u+n*(d-u),r==="oklch"?new rr([v,h,g],r):new rr([g,h,v],r)},XK=(e,t,n)=>C2(e,t,n,"lch");Lf.lch=XK;Lf.hcl=XK;const Tpe=e=>{if(Ra(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}throw new Error("unknown num color: "+e)},Mpe=(...e)=>{const[t,n,r]=oa(e,"rgb");return(t<<16)+(n<<8)+r};rr.prototype.num=function(){return Mpe(this._rgb)};const Ape=(...e)=>new rr(...e,"num");Object.assign(Ga,{num:Ape});Qi.format.num=Tpe;Qi.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&Ra(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const Ipe=(e,t,n)=>{const r=e.num(),i=t.num();return new rr(r+n*(i-r),"num")};Lf.num=Ipe;const{floor:Ppe}=Math,Rpe=(...e)=>{e=oa(e,"hcg");let[t,n,r]=e,i,a,s;r=r*255;const o=n*255;if(n===0)i=a=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const l=Ppe(t),c=t-l,u=r*(1-n),d=u+o*(1-c),h=u+o*c,g=u+o;switch(l){case 0:[i,a,s]=[g,h,u];break;case 1:[i,a,s]=[d,g,u];break;case 2:[i,a,s]=[u,g,h];break;case 3:[i,a,s]=[u,d,g];break;case 4:[i,a,s]=[h,u,g];break;case 5:[i,a,s]=[g,u,d];break}}return[i,a,s,e.length>3?e[3]:1]},$pe=(...e)=>{const[t,n,r]=oa(e,"rgb"),i=FK(t,n,r),a=HK(t,n,r),s=a-i,o=s*100/255,l=i/(255-s)*100;let c;return s===0?c=Number.NaN:(t===a&&(c=(n-r)/s),n===a&&(c=2+(r-t)/s),r===a&&(c=4+(t-n)/s),c*=60,c<0&&(c+=360)),[c,o,l]};rr.prototype.hcg=function(){return $pe(this._rgb)};const kpe=(...e)=>new rr(...e,"hcg");Ga.hcg=kpe;Qi.format.hcg=Rpe;Qi.autodetect.push({p:1,test:(...e)=>{if(e=oa(e,"hcg"),Ra(e)==="array"&&e.length===3)return"hcg"}});const Lpe=(e,t,n)=>C2(e,t,n,"hcg");Lf.hcg=Lpe;const{cos:dw}=Math,Npe=(...e)=>{e=oa(e,"hsi");let[t,n,r]=e,i,a,s;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-n)/3,i=(1+n*dw(wy*t)/dw(ck-wy*t))/3,a=1-(s+i)):t<2/3?(t-=1/3,i=(1-n)/3,a=(1+n*dw(wy*t)/dw(ck-wy*t))/3,s=1-(i+a)):(t-=2/3,a=(1-n)/3,s=(1+n*dw(wy*t)/dw(ck-wy*t))/3,i=1-(a+s)),i=J_(r*i*3),a=J_(r*a*3),s=J_(r*s*3),[i*255,a*255,s*255,e.length>3?e[3]:1]},{min:Dpe,sqrt:zpe,acos:Bpe}=Math,jpe=(...e)=>{let[t,n,r]=oa(e,"rgb");t/=255,n/=255,r/=255;let i;const a=Dpe(t,n,r),s=(t+n+r)/3,o=s>0?1-a/s:0;return o===0?i=NaN:(i=(t-n+(t-r))/2,i/=zpe((t-n)*(t-n)+(t-r)*(n-r)),i=Bpe(i),r>n&&(i=wy-i),i/=wy),[i*360,o,s]};rr.prototype.hsi=function(){return jpe(this._rgb)};const Fpe=(...e)=>new rr(...e,"hsi");Ga.hsi=Fpe;Qi.format.hsi=Npe;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"hsi"),Ra(e)==="array"&&e.length===3)return"hsi"}});const Hpe=(e,t,n)=>C2(e,t,n,"hsi");Lf.hsi=Hpe;const gN=(...e)=>{e=oa(e,"hsl");const[t,n,r]=e;let i,a,s;if(n===0)i=a=s=r*255;else{const o=[0,0,0],l=[0,0,0],c=r<.5?r*(1+n):r+n-r*n,u=2*r-c,d=t/360;o[0]=d+1/3,o[1]=d,o[2]=d-1/3;for(let h=0;h<3;h++)o[h]<0&&(o[h]+=1),o[h]>1&&(o[h]-=1),6*o[h]<1?l[h]=u+(c-u)*6*o[h]:2*o[h]<1?l[h]=c:3*o[h]<2?l[h]=u+(c-u)*(2/3-o[h])*6:l[h]=u;[i,a,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[i,a,s,e[3]]:[i,a,s,1]},ZK=(...e)=>{e=oa(e,"rgba");let[t,n,r]=e;t/=255,n/=255,r/=255;const i=FK(t,n,r),a=HK(t,n,r),s=(a+i)/2;let o,l;return a===i?(o=0,l=Number.NaN):o=s<.5?(a-i)/(a+i):(a-i)/(2-a-i),t==a?l=(n-r)/(a-i):n==a?l=2+(r-t)/(a-i):r==a&&(l=4+(t-n)/(a-i)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,o,s,e[3]]:[l,o,s]};rr.prototype.hsl=function(){return ZK(this._rgb)};const Vpe=(...e)=>new rr(...e,"hsl");Ga.hsl=Vpe;Qi.format.hsl=gN;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"hsl"),Ra(e)==="array"&&e.length===3)return"hsl"}});const Upe=(e,t,n)=>C2(e,t,n,"hsl");Lf.hsl=Upe;const{floor:Gpe}=Math,Wpe=(...e)=>{e=oa(e,"hsv");let[t,n,r]=e,i,a,s;if(r*=255,n===0)i=a=s=r;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const o=Gpe(t),l=t-o,c=r*(1-n),u=r*(1-n*l),d=r*(1-n*(1-l));switch(o){case 0:[i,a,s]=[r,d,c];break;case 1:[i,a,s]=[u,r,c];break;case 2:[i,a,s]=[c,r,d];break;case 3:[i,a,s]=[c,u,r];break;case 4:[i,a,s]=[d,c,r];break;case 5:[i,a,s]=[r,c,u];break}}return[i,a,s,e.length>3?e[3]:1]},{min:qpe,max:Kpe}=Math,Ype=(...e)=>{e=oa(e,"rgb");let[t,n,r]=e;const i=qpe(t,n,r),a=Kpe(t,n,r),s=a-i;let o,l,c;return c=a/255,a===0?(o=Number.NaN,l=0):(l=s/a,t===a&&(o=(n-r)/s),n===a&&(o=2+(r-t)/s),r===a&&(o=4+(t-n)/s),o*=60,o<0&&(o+=360)),[o,l,c]};rr.prototype.hsv=function(){return Ype(this._rgb)};const Xpe=(...e)=>new rr(...e,"hsv");Ga.hsv=Xpe;Qi.format.hsv=Wpe;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"hsv"),Ra(e)==="array"&&e.length===3)return"hsv"}});const Zpe=(e,t,n)=>C2(e,t,n,"hsv");Lf.hsv=Zpe;function NA(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let r=t[0].length,i=t[0].map((s,o)=>t.map(l=>l[o])),a=e.map(s=>i.map(o=>Array.isArray(s)?s.reduce((l,c,u)=>l+c*(o[u]||0),0):o.reduce((l,c)=>l+c*s,0)));return n===1&&(a=a[0]),r===1?a.map(s=>s[0]):a}const az=(...e)=>{e=oa(e,"lab");const[t,n,r,...i]=e,[a,s,o]=Qpe([t,n,r]),[l,c,u]=WK(a,s,o);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]};function Qpe(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=NA(n,e);return NA(t,r.map(i=>i**3))}const oz=(...e)=>{const[t,n,r,...i]=oa(e,"rgb"),a=qK(t,n,r);return[...Jpe(a),...i.length>0&&i[0]<1?[i[0]]:[]]};function Jpe(e){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=NA(t,e);return NA(n,r.map(i=>Math.cbrt(i)))}rr.prototype.oklab=function(){return oz(this._rgb)};const ege=(...e)=>new rr(...e,"oklab");Object.assign(Ga,{oklab:ege});Qi.format.oklab=az;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"oklab"),Ra(e)==="array"&&e.length===3)return"oklab"}});const tge=(e,t,n)=>{const r=e.oklab(),i=t.oklab();return new rr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};Lf.oklab=tge;const nge=(e,t,n)=>C2(e,t,n,"oklch");Lf.oklch=nge;const{pow:pk,sqrt:gk,PI:mk,cos:qj,sin:Kj,atan2:rge}=Math,ige=(e,t="lrgb",n=null)=>{const r=e.length;n||(n=Array.from(new Array(r)).map(()=>1));const i=r/n.reduce(function(d,h){return d+h});if(n.forEach((d,h)=>{n[h]*=i}),e=e.map(d=>new rr(d)),t==="lrgb")return age(e,n);const a=e.shift(),s=a.get(t),o=[];let l=0,c=0;for(let d=0;d<s.length;d++)if(s[d]=(s[d]||0)*n[0],o.push(isNaN(s[d])?0:n[0]),t.charAt(d)==="h"&&!isNaN(s[d])){const h=s[d]/180*mk;l+=qj(h)*n[0],c+=Kj(h)*n[0]}let u=a.alpha()*n[0];e.forEach((d,h)=>{const g=d.get(t);u+=d.alpha()*n[h+1];for(let v=0;v<s.length;v++)if(!isNaN(g[v]))if(o[v]+=n[h+1],t.charAt(v)==="h"){const x=g[v]/180*mk;l+=qj(x)*n[h+1],c+=Kj(x)*n[h+1]}else s[v]+=g[v]*n[h+1]});for(let d=0;d<s.length;d++)if(t.charAt(d)==="h"){let h=rge(c/o[d],l/o[d])/mk*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[d]=h}else s[d]=s[d]/o[d];return u/=r,new rr(s,t).alpha(u>.99999?1:u,!0)},age=(e,t)=>{const n=e.length,r=[0,0,0,0];for(let i=0;i<e.length;i++){const a=e[i],s=t[i]/n,o=a._rgb;r[0]+=pk(o[0],2)*s,r[1]+=pk(o[1],2)*s,r[2]+=pk(o[2],2)*s,r[3]+=o[3]*s}return r[0]=gk(r[0]),r[1]=gk(r[1]),r[2]=gk(r[2]),r[3]>.9999999&&(r[3]=1),new rr(ez(r))},{pow:oge}=Math;function DA(e){let t="rgb",n=Ga("#ccc"),r=0,i=[0,1],a=[],s=[0,0],o=!1,l=[],c=!1,u=0,d=1,h=!1,g={},v=!0,x=1;const w=function(D){if(D=D||["#fff","#000"],D&&Ra(D)==="string"&&Ga.brewer&&Ga.brewer[D.toLowerCase()]&&(D=Ga.brewer[D.toLowerCase()]),Ra(D)==="array"){D.length===1&&(D=[D[0],D[0]]),D=D.slice(0);for(let H=0;H<D.length;H++)D[H]=Ga(D[H]);a.length=0;for(let H=0;H<D.length;H++)a.push(H/(D.length-1))}return L(),l=D},C=function(D){if(o!=null){const H=o.length-1;let U=0;for(;U<H&&D>=o[U];)U++;return U-1}return 0};let E=D=>D,M=D=>D;const R=function(D,H){let U,q;if(H==null&&(H=!1),isNaN(D)||D===null)return n;H?q=D:o&&o.length>2?q=C(D)/(o.length-2):d!==u?q=(D-u)/(d-u):q=1,q=M(q),H||(q=E(q)),x!==1&&(q=oge(q,x)),q=s[0]+q*(1-s[0]-s[1]),q=J_(q,0,1);const K=Math.floor(q*1e4);if(v&&g[K])U=g[K];else{if(Ra(l)==="array")for(let Q=0;Q<a.length;Q++){const X=a[Q];if(q<=X){U=l[Q];break}if(q>=X&&Q===a.length-1){U=l[Q];break}if(q>X&&q<a[Q+1]){q=(q-X)/(a[Q+1]-X),U=Ga.interpolate(l[Q],l[Q+1],q,t);break}}else Ra(l)==="function"&&(U=l(q));v&&(g[K]=U)}return U};var L=()=>g={};w(e);const N=function(D){const H=Ga(R(D));return c&&H[c]?H[c]():H};return N.classes=function(D){if(D!=null){if(Ra(D)==="array")o=D,i=[D[0],D[D.length-1]];else{const H=Ga.analyze(i);D===0?o=[H.min,H.max]:o=Ga.limits(H,"e",D)}return N}return o},N.domain=function(D){if(!arguments.length)return i;u=D[0],d=D[D.length-1],a=[];const H=l.length;if(D.length===H&&u!==d)for(let U of Array.from(D))a.push((U-u)/(d-u));else{for(let U=0;U<H;U++)a.push(U/(H-1));if(D.length>2){const U=D.map((K,Q)=>Q/(D.length-1)),q=D.map(K=>(K-u)/(d-u));q.every((K,Q)=>U[Q]===K)||(M=K=>{if(K<=0||K>=1)return K;let Q=0;for(;K>=q[Q+1];)Q++;const X=(K-q[Q])/(q[Q+1]-q[Q]);return U[Q]+X*(U[Q+1]-U[Q])})}}return i=[u,d],N},N.mode=function(D){return arguments.length?(t=D,L(),N):t},N.range=function(D,H){return w(D),N},N.out=function(D){return c=D,N},N.spread=function(D){return arguments.length?(r=D,N):r},N.correctLightness=function(D){return D==null&&(D=!0),h=D,L(),h?E=function(H){const U=R(0,!0).lab()[0],q=R(1,!0).lab()[0],K=U>q;let Q=R(H,!0).lab()[0];const X=U+(q-U)*H;let te=Q-X,ee=0,Z=1,re=20;for(;Math.abs(te)>.01&&re-- >0;)(function(){return K&&(te*=-1),te<0?(ee=H,H+=(Z-H)*.5):(Z=H,H+=(ee-H)*.5),Q=R(H,!0).lab()[0],te=Q-X})();return H}:E=H=>H,N},N.padding=function(D){return D!=null?(Ra(D)==="number"&&(D=[D,D]),s=D,N):s},N.colors=function(D,H){arguments.length<2&&(H="hex");let U=[];if(arguments.length===0)U=l.slice(0);else if(D===1)U=[N(.5)];else if(D>1){const q=i[0],K=i[1]-q;U=sge(0,D).map(Q=>N(q+Q/(D-1)*K))}else{e=[];let q=[];if(o&&o.length>2)for(let K=1,Q=o.length,X=1<=Q;X?K<Q:K>Q;X?K++:K--)q.push((o[K-1]+o[K])*.5);else q=i;U=q.map(K=>N(K))}return Ga[H]&&(U=U.map(q=>q[H]())),U},N.cache=function(D){return D!=null?(v=D,N):v},N.gamma=function(D){return D!=null?(x=D,N):x},N.nodata=function(D){return D!=null?(n=Ga(D),N):n},N}function sge(e,t,n){let r=[],i=e<t,a=t;for(let s=e;i?s<a:s>a;i?s++:s--)r.push(s);return r}const lge=function(e){let t=[1,1];for(let n=1;n<e;n++){let r=[1];for(let i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},cge=function(e){let t,n,r,i;if(e=e.map(a=>new rr(a)),e.length===2)[n,r]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>n[o]+a*(r[o]-n[o]));return new rr(s,"lab")};else if(e.length===3)[n,r,i]=e.map(a=>a.lab()),t=function(a){const s=[0,1,2].map(o=>(1-a)*(1-a)*n[o]+2*(1-a)*a*r[o]+a*a*i[o]);return new rr(s,"lab")};else if(e.length===4){let a;[n,r,i,a]=e.map(s=>s.lab()),t=function(s){const o=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*n[l]+3*(1-s)*(1-s)*s*r[l]+3*(1-s)*s*s*i[l]+s*s*s*a[l]);return new rr(o,"lab")}}else if(e.length>=5){let a,s,o;a=e.map(l=>l.lab()),o=e.length-1,s=lge(o),t=function(l){const c=1-l,u=[0,1,2].map(d=>a.reduce((h,g,v)=>h+s[v]*c**(o-v)*l**v*g[d],0));return new rr(u,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},uge=e=>{const t=cge(e);return t.scale=()=>DA(t),t},{round:QK}=Math;rr.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(QK)};rr.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?e===!1?t:QK(t):t)};const fge=(...e)=>new rr(...e,"rgb");Object.assign(Ga,{rgb:fge});Qi.format.rgb=(...e)=>{const t=oa(e,"rgba");return t[3]===void 0&&(t[3]=1),t};Qi.autodetect.push({p:3,test:(...e)=>{if(e=oa(e,"rgba"),Ra(e)==="array"&&(e.length===3||e.length===4&&Ra(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const Im=(e,t,n)=>{if(!Im[n])throw new Error("unknown blend mode "+n);return Im[n](e,t)},T1=e=>(t,n)=>{const r=Ga(n).rgb(),i=Ga(t).rgb();return Ga.rgb(e(r,i))},M1=e=>(t,n)=>{const r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r},dge=e=>e,hge=(e,t)=>e*t/255,pge=(e,t)=>e>t?t:e,gge=(e,t)=>e>t?e:t,mge=(e,t)=>255*(1-(1-e/255)*(1-t/255)),vge=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),yge=(e,t)=>255*(1-(1-t/255)/(e/255)),bge=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Im.normal=T1(M1(dge));Im.multiply=T1(M1(hge));Im.screen=T1(M1(mge));Im.overlay=T1(M1(vge));Im.darken=T1(M1(pge));Im.lighten=T1(M1(gge));Im.dodge=T1(M1(bge));Im.burn=T1(M1(yge));const{pow:_ge,sin:xge,cos:wge}=Math;function Sge(e=300,t=-1.5,n=1,r=1,i=[0,1]){let a=0,s;Ra(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const o=function(l){const c=wy*((e+120)/360+t*l),u=_ge(i[0]+s*l,r),h=(a!==0?n[0]+l*a:n)*u*(1-u)/2,g=wge(c),v=xge(c),x=u+h*(-.14861*g+1.78277*v),w=u+h*(-.29227*g-.90649*v),C=u+h*(1.97294*g);return Ga(ez([x*255,w*255,C*255,1]))};return o.start=function(l){return l==null?e:(e=l,o)},o.rotations=function(l){return l==null?t:(t=l,o)},o.gamma=function(l){return l==null?r:(r=l,o)},o.hue=function(l){return l==null?n:(n=l,Ra(n)==="array"?(a=n[1]-n[0],a===0&&(n=n[1])):a=0,o)},o.lightness=function(l){return l==null?i:(Ra(l)==="array"?(i=l,s=l[1]-l[0]):(i=[l,l],s=0),o)},o.scale=()=>Ga.scale(o),o.hue(n),o}const Cge="0123456789abcdef",{floor:Ege,random:Oge}=Math,Tge=()=>{let e="#";for(let t=0;t<6;t++)e+=Cge.charAt(Ege(Oge()*16));return new rr(e,"hex")},{log:Yj,pow:Mge,floor:Age,abs:Ige}=Math;function JK(e,t=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Ra(e)==="object"&&(e=Object.values(e)),e.forEach(r=>{t&&Ra(r)==="object"&&(r=r[t]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,i)=>eY(n,r,i),n}function eY(e,t="equal",n=7){Ra(e)=="array"&&(e=JK(e));const{min:r,max:i}=e,a=e.values.sort((o,l)=>o-l);if(n===1)return[r,i];const s=[];if(t.substr(0,1)==="c"&&(s.push(r),s.push(i)),t.substr(0,1)==="e"){s.push(r);for(let o=1;o<n;o++)s.push(r+o/n*(i-r));s.push(i)}else if(t.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const o=Math.LOG10E*Yj(r),l=Math.LOG10E*Yj(i);s.push(r);for(let c=1;c<n;c++)s.push(Mge(10,o+c/n*(l-o)));s.push(i)}else if(t.substr(0,1)==="q"){s.push(r);for(let o=1;o<n;o++){const l=(a.length-1)*o/n,c=Age(l);if(c===l)s.push(a[c]);else{const u=l-c;s.push(a[c]*(1-u)+a[c+1]*u)}}s.push(i)}else if(t.substr(0,1)==="k"){let o;const l=a.length,c=new Array(l),u=new Array(n);let d=!0,h=0,g=null;g=[],g.push(r);for(let w=1;w<n;w++)g.push(r+w/n*(i-r));for(g.push(i);d;){for(let C=0;C<n;C++)u[C]=0;for(let C=0;C<l;C++){const E=a[C];let M=Number.MAX_VALUE,R;for(let L=0;L<n;L++){const N=Ige(g[L]-E);N<M&&(M=N,R=L),u[R]++,c[C]=R}}const w=new Array(n);for(let C=0;C<n;C++)w[C]=null;for(let C=0;C<l;C++)o=c[C],w[o]===null?w[o]=a[C]:w[o]+=a[C];for(let C=0;C<n;C++)w[C]*=1/u[C];d=!1;for(let C=0;C<n;C++)if(w[C]!==g[C]){d=!0;break}g=w,h++,h>200&&(d=!1)}const v={};for(let w=0;w<n;w++)v[w]=[];for(let w=0;w<l;w++)o=c[w],v[o].push(a[w]);let x=[];for(let w=0;w<n;w++)x.push(v[w][0]),x.push(v[w][v[w].length-1]);x=x.sort((w,C)=>w-C),s.push(x[0]);for(let w=1;w<x.length;w+=2){const C=x[w];!isNaN(C)&&s.indexOf(C)===-1&&s.push(C)}}return s}const Pge=(e,t)=>{e=new rr(e),t=new rr(t);const n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const Xj=.027,Rge=5e-4,$ge=.1,Zj=1.14,ET=.022,Qj=1.414,kge=(e,t)=>{e=new rr(e),t=new rr(t),e.alpha()<1&&(e=RS(t,e,e.alpha(),"rgb"));const n=Jj(...e.rgb()),r=Jj(...t.rgb()),i=n>=ET?n:n+Math.pow(ET-n,Qj),a=r>=ET?r:r+Math.pow(ET-r,Qj),s=Math.pow(a,.56)-Math.pow(i,.57),o=Math.pow(a,.65)-Math.pow(i,.62),l=Math.abs(a-i)<Rge?0:i<a?s*Zj:o*Zj;return(Math.abs(l)<$ge?0:l>0?l-Xj:l+Xj)*100};function Jj(e,t,n){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:cy,pow:Oc,min:Lge,max:Nge,atan2:eF,abs:tF,cos:OT,sin:nF,exp:Dge,PI:rF}=Math;function zge(e,t,n=1,r=1,i=1){var a=function(_e){return 360*_e/(2*rF)},s=function(_e){return 2*rF*_e/360};e=new rr(e),t=new rr(t);const[o,l,c]=Array.from(e.lab()),[u,d,h]=Array.from(t.lab()),g=(o+u)/2,v=cy(Oc(l,2)+Oc(c,2)),x=cy(Oc(d,2)+Oc(h,2)),w=(v+x)/2,C=.5*(1-cy(Oc(w,7)/(Oc(w,7)+Oc(25,7)))),E=l*(1+C),M=d*(1+C),R=cy(Oc(E,2)+Oc(c,2)),L=cy(Oc(M,2)+Oc(h,2)),N=(R+L)/2,D=a(eF(c,E)),H=a(eF(h,M)),U=D>=0?D:D+360,q=H>=0?H:H+360,K=tF(U-q)>180?(U+q+360)/2:(U+q)/2,Q=1-.17*OT(s(K-30))+.24*OT(s(2*K))+.32*OT(s(3*K+6))-.2*OT(s(4*K-63));let X=q-U;X=tF(X)<=180?X:q<=U?X+360:X-360,X=2*cy(R*L)*nF(s(X)/2);const te=u-o,ee=L-R,Z=1+.015*Oc(g-50,2)/cy(20+Oc(g-50,2)),re=1+.045*N,oe=1+.015*N*Q,ce=30*Dge(-Oc((K-275)/25,2)),pe=-(2*cy(Oc(N,7)/(Oc(N,7)+Oc(25,7))))*nF(2*s(ce)),ye=cy(Oc(te/(n*Z),2)+Oc(ee/(r*re),2)+Oc(X/(i*oe),2)+pe*(ee/(r*re))*(X/(i*oe)));return Nge(0,Lge(100,ye))}function Bge(e,t,n="lab"){e=new rr(e),t=new rr(t);const r=e.get(n),i=t.get(n);let a=0;for(let s in r){const o=(r[s]||0)-(i[s]||0);a+=o*o}return Math.sqrt(a)}const jge=(...e)=>{try{return new rr(...e),!0}catch{return!1}},Fge={cool(){return DA([Ga.hsl(180,1,.9),Ga.hsl(250,.7,.4)])},hot(){return DA(["#000","#f00","#ff0","#fff"]).mode("rgb")}},mN={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},tY=Object.keys(mN),iF=new Map(tY.map(e=>[e.toLowerCase(),e])),Hge=typeof Proxy=="function"?new Proxy(mN,{get(e,t){const n=t.toLowerCase();if(iF.has(n))return e[iF.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(tY)}}):mN,Vge=(...e)=>{e=oa(e,"cmyk");const[t,n,r,i]=e,a=e.length>4?e[4]:1;return i===1?[0,0,0,a]:[t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),a]},{max:aF}=Math,Uge=(...e)=>{let[t,n,r]=oa(e,"rgb");t=t/255,n=n/255,r=r/255;const i=1-aF(t,aF(n,r)),a=i<1?1/(1-i):0,s=(1-t-i)*a,o=(1-n-i)*a,l=(1-r-i)*a;return[s,o,l,i]};rr.prototype.cmyk=function(){return Uge(this._rgb)};const Gge=(...e)=>new rr(...e,"cmyk");Object.assign(Ga,{cmyk:Gge});Qi.format.cmyk=Vge;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"cmyk"),Ra(e)==="array"&&e.length===4)return"cmyk"}});const Wge=(...e)=>{const t=oa(e,"hsla");let n=S2(e)||"lsa";return t[0]=cg(t[0]||0)+"deg",t[1]=cg(t[1]*100)+"%",t[2]=cg(t[2]*100)+"%",n==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),n="hsla"):t.length=3,`${n.substr(0,3)}(${t.join(" ")})`},qge=(...e)=>{const t=oa(e,"lab");let n=S2(e)||"lab";return t[0]=cg(t[0])+"%",t[1]=cg(t[1]),t[2]=cg(t[2]),n==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},Kge=(...e)=>{const t=oa(e,"lch");let n=S2(e)||"lab";return t[0]=cg(t[0])+"%",t[1]=cg(t[1]),t[2]=isNaN(t[2])?"none":cg(t[2])+"deg",n==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},Yge=(...e)=>{const t=oa(e,"lab");return t[0]=cg(t[0]*100)+"%",t[1]=pN(t[1]),t[2]=pN(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},nY=(...e)=>{const[t,n,r,...i]=oa(e,"rgb"),[a,s,o]=oz(t,n,r),[l,c,u]=YK(a,s,o);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]},Xge=(...e)=>{const t=oa(e,"lch");return t[0]=cg(t[0]*100)+"%",t[1]=pN(t[1]),t[2]=isNaN(t[2])?"none":cg(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:vk}=Math,Zge=(...e)=>{const t=oa(e,"rgba");let n=S2(e)||"rgb";if(n.substr(0,3)==="hsl")return Wge(ZK(t),n);if(n.substr(0,3)==="lab"){const r=SE();Ry("d50");const i=qge(nz(t),n);return Ry(r),i}if(n.substr(0,3)==="lch"){const r=SE();Ry("d50");const i=Kge(iz(t),n);return Ry(r),i}return n.substr(0,5)==="oklab"?Yge(oz(t)):n.substr(0,5)==="oklch"?Xge(nY(t)):(t[0]=vk(t[0]),t[1]=vk(t[1]),t[2]=vk(t[2]),(n==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),n="rgba"),`${n.substr(0,3)}(${t.slice(0,n==="rgb"?3:4).join(" ")})`)},rY=(...e)=>{e=oa(e,"lch");const[t,n,r,...i]=e,[a,s,o]=KK(t,n,r),[l,c,u]=az(a,s,o);return[l,c,u,...i.length>0&&i[0]<1?[i[0]]:[]]},Ly=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Cm=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,zA=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,hg=/\s*/.source,E2=/\s+/.source,sz=/\s*,\s*/.source,iR=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,O2=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,iY=new RegExp("^rgba?\\("+hg+[Ly,Ly,Ly].join(E2)+O2+"\\)$"),aY=new RegExp("^rgb\\("+hg+[Ly,Ly,Ly].join(sz)+hg+"\\)$"),oY=new RegExp("^rgba\\("+hg+[Ly,Ly,Ly,Cm].join(sz)+hg+"\\)$"),sY=new RegExp("^hsla?\\("+hg+[iR,zA,zA].join(E2)+O2+"\\)$"),lY=new RegExp("^hsl?\\("+hg+[iR,zA,zA].join(sz)+hg+"\\)$"),cY=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,uY=new RegExp("^lab\\("+hg+[Cm,Cm,Cm].join(E2)+O2+"\\)$"),fY=new RegExp("^lch\\("+hg+[Cm,Cm,iR].join(E2)+O2+"\\)$"),dY=new RegExp("^oklab\\("+hg+[Cm,Cm,Cm].join(E2)+O2+"\\)$"),hY=new RegExp("^oklch\\("+hg+[Cm,Cm,iR].join(E2)+O2+"\\)$"),{round:pY}=Math,hw=e=>e.map((t,n)=>n<=2?J_(pY(t),0,255):t),Tc=(e,t=0,n=100,r=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,r?e=t+(e+1)*.5*(n-t):e=t+e*(n-t)),+e),vd=(e,t)=>e==="none"?t:e,lz=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(Qi.format.named)try{return Qi.format.named(e)}catch{}if((t=e.match(iY))||(t=e.match(aY))){let n=t.slice(1,4);for(let i=0;i<3;i++)n[i]=+Tc(vd(n[i],0),0,255);n=hw(n);const r=t[4]!==void 0?+Tc(t[4],0,1):1;return n[3]=r,n}if(t=e.match(oY)){const n=t.slice(1,5);for(let r=0;r<4;r++)n[r]=+Tc(n[r],0,255);return n}if((t=e.match(sY))||(t=e.match(lY))){const n=t.slice(1,4);n[0]=+vd(n[0].replace("deg",""),0),n[1]=+Tc(vd(n[1],0),0,100)*.01,n[2]=+Tc(vd(n[2],0),0,100)*.01;const r=hw(gN(n)),i=t[4]!==void 0?+Tc(t[4],0,1):1;return r[3]=i,r}if(t=e.match(cY)){const n=t.slice(1,4);n[1]*=.01,n[2]*=.01;const r=gN(n);for(let i=0;i<3;i++)r[i]=pY(r[i]);return r[3]=+t[4],r}if(t=e.match(uY)){const n=t.slice(1,4);n[0]=Tc(vd(n[0],0),0,100),n[1]=Tc(vd(n[1],0),-125,125,!0),n[2]=Tc(vd(n[2],0),-125,125,!0);const r=SE();Ry("d50");const i=hw(tz(n));Ry(r);const a=t[4]!==void 0?+Tc(t[4],0,1):1;return i[3]=a,i}if(t=e.match(fY)){const n=t.slice(1,4);n[0]=Tc(n[0],0,100),n[1]=Tc(vd(n[1],0),0,150,!1),n[2]=+vd(n[2].replace("deg",""),0);const r=SE();Ry("d50");const i=hw(rz(n));Ry(r);const a=t[4]!==void 0?+Tc(t[4],0,1):1;return i[3]=a,i}if(t=e.match(dY)){const n=t.slice(1,4);n[0]=Tc(vd(n[0],0),0,1),n[1]=Tc(vd(n[1],0),-.4,.4,!0),n[2]=Tc(vd(n[2],0),-.4,.4,!0);const r=hw(az(n)),i=t[4]!==void 0?+Tc(t[4],0,1):1;return r[3]=i,r}if(t=e.match(hY)){const n=t.slice(1,4);n[0]=Tc(vd(n[0],0),0,1),n[1]=Tc(vd(n[1],0),0,.4,!1),n[2]=+vd(n[2].replace("deg",""),0);const r=hw(rY(n)),i=t[4]!==void 0?+Tc(t[4],0,1):1;return r[3]=i,r}};lz.test=e=>iY.test(e)||sY.test(e)||uY.test(e)||fY.test(e)||dY.test(e)||hY.test(e)||aY.test(e)||oY.test(e)||lY.test(e)||cY.test(e)||e==="transparent";rr.prototype.css=function(e){return Zge(this._rgb,e)};const Qge=(...e)=>new rr(...e,"css");Ga.css=Qge;Qi.format.css=lz;Qi.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&Ra(e)==="string"&&lz.test(e))return"css"}});Qi.format.gl=(...e)=>{const t=oa(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const Jge=(...e)=>new rr(...e,"gl");Ga.gl=Jge;rr.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};rr.prototype.hex=function(e){return GK(this._rgb,e)};const eme=(...e)=>new rr(...e,"hex");Ga.hex=eme;Qi.format.hex=UK;Qi.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&Ra(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:TT}=Math,gY=e=>{const t=e/100;let n,r,i;return t<66?(n=255,r=t<6?0:-155.25485562709179-.44596950469579133*(r=t-2)+104.49216199393888*TT(r),i=t<20?0:-254.76935184120902+.8274096064007395*(i=t-10)+115.67994401066147*TT(i)):(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*TT(n),r=325.4494125711974+.07943456536662342*(r=t-50)-28.0852963507957*TT(r),i=255),[n,r,i,1]},{round:tme}=Math,nme=(...e)=>{const t=oa(e,"rgb"),n=t[0],r=t[2];let i=1e3,a=4e4;const s=.4;let o;for(;a-i>s;){o=(a+i)*.5;const l=gY(o);l[2]/l[0]>=r/n?a=o:i=o}return tme(o)};rr.prototype.temp=rr.prototype.kelvin=rr.prototype.temperature=function(){return nme(this._rgb)};const yk=(...e)=>new rr(...e,"temp");Object.assign(Ga,{temp:yk,kelvin:yk,temperature:yk});Qi.format.temp=Qi.format.kelvin=Qi.format.temperature=gY;rr.prototype.oklch=function(){return nY(this._rgb)};const rme=(...e)=>new rr(...e,"oklch");Object.assign(Ga,{oklch:rme});Qi.format.oklch=rY;Qi.autodetect.push({p:2,test:(...e)=>{if(e=oa(e,"oklch"),Ra(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Ga,{analyze:JK,average:ige,bezier:uge,blend:Im,brewer:Hge,Color:rr,colors:PS,contrast:Pge,contrastAPCA:kge,cubehelix:Sge,deltaE:zge,distance:Bge,input:Qi,interpolate:RS,limits:eY,mix:RS,random:Tge,scale:DA,scales:Fge,valid:jge});const vN=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];vN.primary=vN[5];const mY=vN;function oF({counts:e,colorRamp:t=mY,key:n="mnemonic",minOverride:r,maxOverride:i}){const a=Object.keys(e),s=Object.values(e);console.log(a,s);const o=r??Math.min(...s),l=i??Math.max(...s),c=Ga.scale(t).domain([o,l]),u=["match",["get",n]];for(const d of a){const h=e[d];u.push(d,c(h).hex())}return u.push("#f0f0f0"),u}function ime(){const[e,t]=I.useState(null),[n,r]=I.useState(null);return I.useEffect(()=>{async function i(){try{const[a,s]=await Promise.all([fetch("/data/ROU.geojson"),fetch("/data/demographics/total.json")]),[o,l]=await Promise.all([a.json(),s.json()]);t(o),r(l)}catch(a){console.error("Error loading country geo data:",a)}}i()},[]),{countryGeoData:e,demographics:n}}function ame(e){return fetch(`data/adm2/${e}.geojson`).then(t=>{if(!t.ok)throw new Error(`Failed to fetch county GeoJSON: ${t.status}`);return t.json()})}const AO=I.createContext();function ome(e){return e.age["5-9"]+e.age["10-14"]+e.age["15-19"]}function sme(e,t){const{dbConn:n,dbReady:r,demographics:i}=I.useContext(AO),[a,s]=I.useState({});return I.useEffect(()=>{if(!r||!n||!e||!t)return;(async()=>{console.log(t);const u=lme(e,t==="students"||t==="grades",t);console.log(u);const d=await n.query(u),h=e.county?"localitate":"judet",g=Object.fromEntries(d.toArray().map(v=>{const x=v[h],w=v.mean_grade??v.school_count??v.student_count;let C=1;if(e.perCapita){C=h=="judet"?1e4:1e3;const E=h=="judet"?i.cities[x].population:i.cities[v.judet].cities[x].population;C=(e.schoolAgeOnly?ome(E):E.total)/C}return[x,w/C]}));console.log(g),s(g)})()},[e,n,r,t]),a}const _m=e=>e.map(t=>`'${t}'`).join(",");function lme(e,t,n){const{inBacData:r,inEvaluareData:i}=e;return r?ume(e,t,n):i?fme(e,t,n):cme(e,t,n)}function cme({county:e,levels:t,languages:n,strictLevelLanguage:r},i,a){const s=[],o=[];e&&s.push(`si.judet = '${e}'`);const l=Object.keys(t).filter(h=>t[h]),c=Object.keys(n).filter(h=>n[h]),u=l.length?`nivel IN (${_m(l)})`:null,d=c.length?`limba_de_predare IN (${_m(c)})`:null;if(i){const h=[u,d].filter(Boolean).join(" AND ");o.push(`
      JOIN (
        SELECT cod_siiir_unitate, numar_elevi
        FROM student_stats
        ${h?`WHERE ${h}`:""}
      ) fs ON fs.cod_siiir_unitate = si.id
    `)}else r&&l.length&&c.length?l.forEach(h=>s.push(`
        EXISTS (
          SELECT 1 FROM student_stats
          WHERE cod_siiir_unitate = si.id
            AND nivel = '${h}'
            AND limba_de_predare IN (${_m(c)})
        )
      `)):(u&&o.push(`
        JOIN (
          SELECT DISTINCT cod_siiir_unitate
          FROM student_stats WHERE ${u}
        ) lvl ON lvl.cod_siiir_unitate = si.id
      `),d&&o.push(`
        JOIN (
          SELECT DISTINCT cod_siiir_unitate
          FROM student_stats WHERE ${d}
        ) lng ON lng.cod_siiir_unitate = si.id
      `));return cz({county:e,joins:o,conditions:s,forStudents:i,mapType:a})}function ume({county:e,bacLanguages:t,bacResults:n},r,i){const a=[],s=[];e&&a.push(`si.judet = '${e}'`);const o=Object.keys(t||{}).filter(g=>t[g]),l=o.filter(g=>g!=="romn"),c=_m(l);let u=null;o.length&&(u=o.includes("romn")?`(non_romanian_lang IS NULL${l.length?` OR non_romanian_lang IN (${c})`:""})`:`non_romanian_lang IN (${c})`);const d=Object.keys(n||{}).filter(g=>n[g]),h=d.length?`result IN (${_m(d)})`:null;if(r){const g=[u,h&&`result IN (${_m(d)})`].filter(Boolean).join(" AND "),v=g?`WHERE ${g}`:"";s.push(`
          JOIN (
            SELECT *
            FROM bac_2024
            ${v}
          ) b ON b.school_code = si.id
        `)}else{const g=[u,h].filter(Boolean).join(" AND "),v=g?`WHERE ${g}`:"";s.push(`
      JOIN (
        SELECT DISTINCT school_code
        FROM bac_2024
        ${v}
      ) bac ON bac.school_code = si.id
    `)}return cz({county:e,joins:s,conditions:a,forStudents:r,mapType:i,diffStats:!0})}function fme({county:e},t,n){const r=[],i=[];return e&&r.push(`si.judet = '${e}'`),t?i.push(`
            JOIN (
                SELECT *
                FROM en_2024
            ) e ON e.school_code = si.id
        `):i.push(`
            JOIN (
                SELECT DISTINCT school_code
                FROM en_2024
            ) e ON e.school_code = si.id
        `),cz({county:e,joins:i,conditions:r,forStudents:t,mapType:n,diffStats:!0})}function cz({county:e,joins:t,conditions:n,forStudents:r,mapType:i,diffStats:a=!1}){const s=e?"county_and_town":"county",o={county:"si.judet",county_and_town:"si.judet, COALESCE(si.localitate, 'Unknown') AS localitate"},l={county:"GROUP BY si.judet",county_and_town:"GROUP BY si.judet, COALESCE(si.localitate, 'Unknown')"},c=r?a?i==="grades"?"AVG(mean_grade) FILTER (WHERE mean_grade IS NOT NULL)::FLOAT AS mean_grade":"COUNT(*)::INTEGER AS student_count":"SUM(fs.numar_elevi)::INTEGER AS student_count":"COUNT(DISTINCT si.id)::INTEGER AS school_count";return`
    SELECT ${o[s]}, ${c}
    FROM school_info si
    ${t.join(`
`)}
    ${n.length?`WHERE ${n.join(" AND ")}`:""}
    ${l[s]}
  `}function dme(e){const{county:t,town:n,levels:r={},languages:i={},strictLevelLanguage:a,inBacData:s,inEvaluareData:o,bacLanguages:l={},bacResults:c={}}=e;if(!t||!n)return null;const u=Object.keys(r).filter(w=>r[w]),d=Object.keys(i).filter(w=>i[w]),h=Object.keys(l).filter(w=>l[w]),g=Object.keys(c).filter(w=>c[w]),v=[`si.judet = '${t}'`,`si.localitate = '${n}'`],x=[];if(x.push(`
        LEFT JOIN (
            SELECT
                cod_siiir_unitate,
                SUM(numar_elevi) AS total_elevi,
                ARRAY_AGG(DISTINCT nivel) AS nivele,
                ARRAY_AGG(DISTINCT limba_de_predare) AS limbi
            FROM student_stats
            GROUP BY cod_siiir_unitate
        ) stats ON stats.cod_siiir_unitate = si.id
    `),o)x.push(`
            JOIN (
                SELECT DISTINCT school_code
                FROM en_2024
            ) e ON e.school_code = si.id
        `);else if(s){const w=h.filter(L=>L!=="romn"),C=_m(w);let E=null;h.length&&(E=h.includes("romn")?`(non_romanian_lang IS NULL${w.length?` OR non_romanian_lang IN (${C})`:""})`:`non_romanian_lang IN (${C})`);const M=g.length?`result IN (${_m(g)})`:null,R=[E,M].filter(Boolean).join(" AND ");x.push(`
            JOIN (
                SELECT DISTINCT school_code
                FROM bac_2024
                ${R?`WHERE ${R}`:""}
            ) b ON b.school_code = si.id
        `)}else a&&u.length&&d.length?u.forEach(w=>v.push(`
                EXISTS (
                    SELECT 1 FROM student_stats
                    WHERE cod_siiir_unitate = si.id
                    AND nivel = '${w}'
                    AND limba_de_predare IN (${_m(d)})
                )
            `)):(u.length&&x.push(`
                    JOIN (
                        SELECT DISTINCT cod_siiir_unitate
                        FROM student_stats WHERE nivel IN (${_m(u)})
                    ) lvl ON lvl.cod_siiir_unitate = si.id
                `),d.length&&x.push(`
                    JOIN (
                        SELECT DISTINCT cod_siiir_unitate
                        FROM student_stats WHERE limba_de_predare IN (${_m(d)})
                    ) lng ON lng.cod_siiir_unitate = si.id
                `));return`
        SELECT
            si.*,
            stats.total_elevi,
            stats.nivele,
            stats.limbi
        FROM school_info si
        ${x.join(`
`)}
        WHERE ${v.join(" AND ")}
    `}function vY(e){const{dbConn:t,dbReady:n}=I.useContext(AO),[r,i]=I.useState([]);return I.useEffect(()=>{if(!n||!t||!e)return;const a=dme(e);if(!a)return;(async()=>{const l=(await t.query(a)).toArray().map(c=>{const u=c.toJSON();return u.key=u.id,u.limbi=u.limbi?.toArray?.()??[],u.nivele=u.nivele?.toArray?.()??[],u.total_elevi=Number(u.total_elevi),delete u.id,u});i(l)})()},[e,t,n]),r}function hme(e,t,{setTooltipData:n,setTooltipPosition:r,setLegendLimits:i}){const a=I.useRef(!1),[s,o]=I.useState(null),{filters:l,updateFilter:c,typeOfMap:u}=I.useContext(m0),d=sme(l,u);I.useEffect(()=>{if(!e.current||a.current)return;const w=new Nhe.Map({container:e.current,style:{version:8,sources:{},layers:[],name:"blank",glyphs:"https://fonts.undpgeohub.org/fonts/{fontstack}/{range}.pbf"},center:[24.99,45.85],zoom:6});return w.scrollZoom.disable(),w.dragPan.disable(),w.doubleClickZoom.disable(),w.keyboard.disable(),w.on("load",()=>{a.current=!0,o(w)}),()=>{w.remove(),a.current=!1}},[e]),I.useEffect(()=>{!s||!t||s.getSource("counties")||(h(),g(),v())},[s,t]);function h(){s.addSource("counties",{type:"geojson",data:t}),s.addLayer({id:"county-fill",type:"fill",source:"counties",paint:{"fill-color":"#ccc"}}),s.addLayer({id:"county-outline",type:"line",source:"counties",paint:{"line-color":"#FFF","line-width":1}}),s.addLayer({id:"adm1-county-codes",type:"symbol",source:"counties",layout:{"text-field":["get","mnemonic"],"text-font":["Open Sans Bold"],"text-size":12,"text-anchor":"center"},paint:{"text-color":"#FFF"}})}function g(){s.addSource("adm2-towns",{type:"geojson",data:{type:"FeatureCollection",features:[]},generateId:!0}),s.addLayer({id:"adm2-town-points",type:"fill",source:"adm2-towns",paint:{"fill-color":"#ccc"}}),s.addLayer({id:"adm2-town-borders",type:"line",source:"adm2-towns",paint:{"line-color":"#FFF","line-width":.8}}),s.addLayer({id:"adm2-town-labels",type:"symbol",source:"adm2-towns",layout:{"text-field":["get","name"],"text-font":["Open Sans Bold"],"text-size":11,"text-anchor":"center","text-allow-overlap":!0},paint:{"text-color":"#333","text-halo-color":"#fff","text-halo-width":1}})}I.useEffect(()=>{if(!s||!d)return;const w=Object.keys(d).length>0;l.county==null?s.getLayer("county-fill")&&s.setPaintProperty("county-fill","fill-color",w?oF({counts:d}):"#ccc"):s.getLayer("adm2-town-points")&&s.setPaintProperty("adm2-town-points","fill-color",w?oF({counts:d,key:"name"}):"#ccc")},[s,d,l.county]),I.useEffect(()=>{!s||!t||l.county&&ame(l.county).then(w=>{s.getSource("adm2-towns").setData(w),["adm2-town-points","adm2-town-borders","adm2-town-labels"].forEach(C=>{s.getLayer(C)&&s.setLayoutProperty(C,"visibility","visible")})})},[l.county]),I.useEffect(()=>{if(!s)return;const w=E=>{const M=l.county?E.features[0].properties:x(E),R=M.mnemonic??M.name,L=M.name;n({title:L,count:d[R]}),r({x:E.point.x,y:E.point.y})},C=["county-fill","adm2-town-points"];for(const E of C)s.on("mousemove",E,w),s.on("mouseleave",E,()=>n(null));return()=>{for(const E of C)s.off("mousemove",E,w),s.off("mouseleave",E,()=>n(null))}},[s,d]),I.useEffect(()=>{if(!d)return;if(Object.keys(d).length===0){i({min:0,max:0});return}const w=Object.values(d),C=Math.min(...w),E=Math.max(...w);i({min:C,max:E})},[d]);function v(){s.on("click","county-fill",w=>{if(!l.county){const C=x(w);if(!C)return;c("county",C.mnemonic)}}),s.on("click","adm2-town-points",w=>{const C=w.features?.[0]?.properties;C?.name&&c("town",C.name)})}I.useEffect(()=>{if(!s||!t)return;const w=l.county;if(w){const C=t.features.find(M=>M.properties.mnemonic===w);if(!C)return;const E=Fhe(C.geometry);s.fitBounds([[E[0],E[1]],[E[2],E[3]]],{padding:60,duration:1200,essential:!0}),s.setFilter("county-fill",["==",["get","mnemonic"],w]),s.setFilter("county-outline",["==",["get","mnemonic"],w]),s.setFilter("adm1-county-codes",["==",["get","mnemonic"],w])}else s.setFilter("county-fill",null),s.setFilter("county-outline",null),s.setFilter("adm1-county-codes",null),s.flyTo({center:[24.99,45.85],zoom:6,duration:1e3,essential:!0}),["adm2-town-points","adm2-town-borders","adm2-town-labels"].forEach(C=>{s.getLayer(C)&&s.setLayoutProperty(C,"visibility","none")})},[l.county]);function x(w){const C=w.features[0];if(!C||C.properties.mnemonic!="IF")return C.properties;const E=zhe([w.lngLat.lng,w.lngLat.lat]),M=t.features.find(R=>R.properties.mnemonic==="B");return M&&Xhe(E,M.geometry)?M.properties:C.properties}}const pme=(e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);ex(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},sF={},yN=(e,t,n,r)=>{ex(n)&&sF[n]||(ex(n)&&(sF[n]=new Date),pme(e,t,n,r))},yY=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},bN=(e,t,n)=>{e.loadNamespaces(t,yY(e,n))},lF=(e,t,n,r)=>{if(ex(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return bN(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,yY(e,r))},gme=(e,t,n={})=>!t.languages||!t.languages.length?(yN(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),ex=e=>typeof e=="string",mme=e=>typeof e=="object"&&e!==null,vme=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yme={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bme=e=>yme[e],_me=e=>e.replace(vme,bme);let _N={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_me};const xme=(e={})=>{_N={..._N,...e}},wme=()=>_N;let bY;const Sme=e=>{bY=e},Cme=()=>bY,Eme={type:"3rdParty",init(e){xme(e.options.react),Sme(e)}},Ome=I.createContext();class Tme{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Mme=(e,t)=>{const n=I.useRef();return I.useEffect(()=>{n.current=e},[e,t]),n.current},_Y=(e,t,n,r)=>e.getFixedT(t,n,r),Ame=(e,t,n,r)=>I.useCallback(_Y(e,t,n,r),[e,t,n,r]),A1=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:i}=I.useContext(Ome)||{},a=n||r||Cme();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Tme),!a){yN(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(N,D)=>ex(D)?D:mme(D)&&ex(D.defaultValue)?D.defaultValue:Array.isArray(N)?N[N.length-1]:N,L=[R,{},!1];return L.t=R,L.i18n={},L.ready=!1,L}a.options.react?.wait&&yN(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...wme(),...a.options.react,...t},{useSuspense:o,keyPrefix:l}=s;let c=i||a.options?.defaultNS;c=ex(c)?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces?.(c);const u=(a.isInitialized||a.initializedStoreOnce)&&c.every(R=>gme(R,a,s)),d=Ame(a,t.lng||null,s.nsMode==="fallback"?c:c[0],l),h=()=>d,g=()=>_Y(a,t.lng||null,s.nsMode==="fallback"?c:c[0],l),[v,x]=I.useState(h);let w=c.join();t.lng&&(w=`${t.lng}${w}`);const C=Mme(w),E=I.useRef(!0);I.useEffect(()=>{const{bindI18n:R,bindI18nStore:L}=s;E.current=!0,!u&&!o&&(t.lng?lF(a,t.lng,c,()=>{E.current&&x(g)}):bN(a,c,()=>{E.current&&x(g)})),u&&C&&C!==w&&E.current&&x(g);const N=()=>{E.current&&x(g)};return R&&a?.on(R,N),L&&a?.store.on(L,N),()=>{E.current=!1,a&&R?.split(" ").forEach(D=>a.off(D,N)),L&&a&&L.split(" ").forEach(D=>a.store.off(D,N))}},[a,w]),I.useEffect(()=>{E.current&&u&&x(h)},[a,l,u]);const M=[v,a,u];if(M.t=v,M.i18n=a,M.ready=u,u||!u&&!o)return M;throw new Promise(R=>{t.lng?lF(a,t.lng,c,()=>R()):bN(a,c,()=>R())})};function Ime({limits:e}){const{t,i18n:n}=A1(),{filters:r,typeOfMap:i}=I.useContext(m0),a=t(i);let{min:s,max:o}=e;o==s&&(s=0);const l=d=>{const h=Number(d).toFixed(2);return new Intl.NumberFormat(n.language).format(h)},c=r.county?BK[r.county]:"Romnia",u={background:`linear-gradient(to top, ${mY.join(", ")})`,height:"150px",width:"24px",borderRadius:"4px"};return qn.jsxs("div",{className:"legend",children:[qn.jsxs("div",{className:"legend-header",children:[qn.jsx("h3",{children:a}),c&&qn.jsx("div",{className:"legend-subtitle",children:c})]}),qn.jsxs("div",{className:"legend-container",children:[qn.jsx("div",{className:"legend-gradient",style:u}),qn.jsxs("div",{className:"legend-labels",children:[qn.jsx("div",{className:"legend-label legend-max",children:l(o)}),qn.jsx("div",{className:"legend-label legend-min",children:l(s)})]})]})]})}var bk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var cF;function Pme(){return cF||(cF=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,r(o)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(bk)),bk.exports}var Rme=Pme();const ut=Ky(Rme);function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(null,arguments)}function Rr(e){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(e)}var $me=Symbol.for("react.element"),kme=Symbol.for("react.transitional.element"),Lme=Symbol.for("react.fragment");function xY(e){return e&&Rr(e)==="object"&&(e.$$typeof===$me||e.$$typeof===kme)&&e.type===Lme}function Xu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return it.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(Xu(r)):xY(r)&&r.props?n=n.concat(Xu(r.props.children,t)):n.push(r))}),n}var xN={},Nme=function(t){};function Dme(e,t){}function zme(e,t){}function Bme(){xN={}}function wY(e,t,n){!t&&!xN[n]&&(e(!1,n),xN[n]=!0)}function vl(e,t){wY(Dme,e,t)}function jme(e,t){wY(zme,e,t)}vl.preMessage=Nme;vl.resetWarned=Bme;vl.noteOnce=jme;function Fme(e,t){if(Rr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e){var t=Fme(e,"string");return Rr(t)=="symbol"?t:t+""}function Te(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(n),!0).forEach(function(r){Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g1=PK();const CE=Ky(g1),CY=IK({__proto__:null,default:CE},[g1]);function EE(e){return e instanceof HTMLElement||e instanceof SVGElement}function aR(e){return e&&Rr(e)==="object"&&EE(e.nativeElement)?e.nativeElement:EE(e)?e:null}function KM(e){var t=aR(e);if(t)return t;if(e instanceof it.Component){var n;return(n=CE.findDOMNode)===null||n===void 0?void 0:n.call(CE,e)}return null}var _k={exports:{}},Jo={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fF;function Hme(){if(fF)return Jo;fF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case n:case i:case r:case c:case u:return w;default:switch(w=w&&w.$$typeof,w){case o:case s:case l:case h:case d:case a:return w;default:return C}}case t:return C}}}return Jo.ContextConsumer=s,Jo.ContextProvider=a,Jo.Element=e,Jo.ForwardRef=l,Jo.Fragment=n,Jo.Lazy=h,Jo.Memo=d,Jo.Portal=t,Jo.Profiler=i,Jo.StrictMode=r,Jo.Suspense=c,Jo.SuspenseList=u,Jo.isAsyncMode=function(){return!1},Jo.isConcurrentMode=function(){return!1},Jo.isContextConsumer=function(w){return x(w)===s},Jo.isContextProvider=function(w){return x(w)===a},Jo.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Jo.isForwardRef=function(w){return x(w)===l},Jo.isFragment=function(w){return x(w)===n},Jo.isLazy=function(w){return x(w)===h},Jo.isMemo=function(w){return x(w)===d},Jo.isPortal=function(w){return x(w)===t},Jo.isProfiler=function(w){return x(w)===i},Jo.isStrictMode=function(w){return x(w)===r},Jo.isSuspense=function(w){return x(w)===c},Jo.isSuspenseList=function(w){return x(w)===u},Jo.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===u||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===h||w.$$typeof===d||w.$$typeof===a||w.$$typeof===s||w.$$typeof===l||w.$$typeof===v||w.getModuleId!==void 0)},Jo.typeOf=x,Jo}var dF;function Vme(){return dF||(dF=1,_k.exports=Hme()),_k.exports}var xk=Vme();function Ax(e,t,n){var r=I.useRef({});return(!("value"in r.current)||n(r.current.condition,t))&&(r.current.value=e(),r.current.condition=t),r.current.value}var Ume=Number(I.version.split(".")[0]),OE=function(t,n){typeof t=="function"?t(n):Rr(t)==="object"&&t&&"current"in t&&(t.current=n)},Ed=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(a){n.forEach(function(s){OE(s,a)})}},Yy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ax(function(){return Ed.apply(void 0,n)},n,function(i,a){return i.length!==a.length||i.every(function(s,o){return s!==a[o]})})},t0=function(t){var n,r;if(!t)return!1;if(uz(t)&&Ume>=19)return!0;var i=xk.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==xk.ForwardRef||typeof t=="function"&&!((r=t.prototype)!==null&&r!==void 0&&r.render)&&t.$$typeof!==xk.ForwardRef)};function uz(e){return I.isValidElement(e)&&!xY(e)}var Gme=function(t){return uz(t)&&t0(t)},Ix=function(t){if(t&&uz(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},wN=I.createContext(null);function Wme(e){var t=e.children,n=e.onBatchResize,r=I.useRef(0),i=I.useRef([]),a=I.useContext(wN),s=I.useCallback(function(o,l,c){r.current+=1;var u=r.current;i.current.push({size:o,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n?.(i.current),i.current=[])}),a?.(o,l,c)},[n,a]);return I.createElement(wN.Provider,{value:s},t)}var EY=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,a){return i[0]===n?(r=a,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var s=a[i];n.call(r,s[1],s[0])}},t}()}(),SN=typeof window<"u"&&typeof document<"u"&&window.document===document,BA=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),qme=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(BA):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Kme=2;function Yme(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&o()}function s(){qme(a)}function o(){var l=Date.now();if(n){if(l-i<Kme)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=l}return o}var Xme=20,Zme=["top","right","bottom","left","width","height","size","weight"],Qme=typeof MutationObserver<"u",Jme=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Yme(this.refresh.bind(this),Xme)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!SN||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qme?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!SN||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=Zme.some(function(a){return!!~r.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),OY=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},$S=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||BA},TY=oR(0,0,0,0);function jA(e){return parseFloat(e)||0}function hF(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var a=e["border-"+i+"-width"];return r+jA(a)},0)}function eve(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var a=i[r],s=e["padding-"+a];n[a]=jA(s)}return n}function tve(e){var t=e.getBBox();return oR(0,0,t.width,t.height)}function nve(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return TY;var r=$S(e).getComputedStyle(e),i=eve(r),a=i.left+i.right,s=i.top+i.bottom,o=jA(r.width),l=jA(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+a)!==t&&(o-=hF(r,"left","right")+a),Math.round(l+s)!==n&&(l-=hF(r,"top","bottom")+s)),!ive(e)){var c=Math.round(o+a)-t,u=Math.round(l+s)-n;Math.abs(c)!==1&&(o-=c),Math.abs(u)!==1&&(l-=u)}return oR(i.left,i.top,o,l)}var rve=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof $S(e).SVGGraphicsElement}:function(e){return e instanceof $S(e).SVGElement&&typeof e.getBBox=="function"}}();function ive(e){return e===$S(e).document.documentElement}function ave(e){return SN?rve(e)?tve(e):nve(e):TY}function ove(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return OY(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function oR(e,t,n,r){return{x:e,y:t,width:n,height:r}}var sve=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oR(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=ave(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),lve=function(){function e(t,n){var r=ove(n);OY(this,{target:t,contentRect:r})}return e}(),cve=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new EY,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof $S(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new sve(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof $S(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new lve(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),MY=typeof WeakMap<"u"?new WeakMap:new EY,AY=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Jme.getInstance(),r=new cve(t,n,this);MY.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){AY.prototype[e]=function(){var t;return(t=MY.get(this))[e].apply(t,arguments)}});var IY=function(){return typeof BA.ResizeObserver<"u"?BA.ResizeObserver:AY}(),n1=new Map;function uve(e){e.forEach(function(t){var n,r=t.target;(n=n1.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var PY=new IY(uve);function fve(e,t){n1.has(e)||(n1.set(e,new Set),PY.observe(e)),n1.get(e).add(t)}function dve(e,t){n1.has(e)&&(n1.get(e).delete(t),n1.get(e).size||(PY.unobserve(e),n1.delete(e)))}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SY(r.key),r)}}function On(e,t,n){return t&&pF(e.prototype,t),n&&pF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},TE(e,t)}function qr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}function Xc(e){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xc(e)}function Xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xy=function(){return!!e})()}function Or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Px(e,t){if(t&&(Rr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function v0(e){var t=Xy();return function(){var n,r=Xc(e);if(t){var i=Xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Px(this,n)}}var hve=function(e){qr(n,e);var t=v0(n);function n(){return En(this,n),t.apply(this,arguments)}return On(n,[{key:"render",value:function(){return this.props.children}}]),n}(I.Component);function pve(e,t){var n=e.children,r=e.disabled,i=I.useRef(null),a=I.useRef(null),s=I.useContext(wN),o=typeof n=="function",l=o?n(i):n,c=I.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!o&&I.isValidElement(l)&&t0(l),d=u?Ix(l):null,h=Yy(d,i),g=function(){var C;return KM(i.current)||(i.current&&Rr(i.current)==="object"?KM((C=i.current)===null||C===void 0?void 0:C.nativeElement):null)||KM(a.current)};I.useImperativeHandle(t,function(){return g()});var v=I.useRef(e);v.current=e;var x=I.useCallback(function(w){var C=v.current,E=C.onResize,M=C.data,R=w.getBoundingClientRect(),L=R.width,N=R.height,D=w.offsetWidth,H=w.offsetHeight,U=Math.floor(L),q=Math.floor(N);if(c.current.width!==U||c.current.height!==q||c.current.offsetWidth!==D||c.current.offsetHeight!==H){var K={width:U,height:q,offsetWidth:D,offsetHeight:H};c.current=K;var Q=D===Math.round(L)?L:D,X=H===Math.round(N)?N:H,te=Pe(Pe({},K),{},{offsetWidth:Q,offsetHeight:X});s?.(te,w,M),E&&Promise.resolve().then(function(){E(te,w)})}},[]);return I.useEffect(function(){var w=g();return w&&!r&&fve(w,x),function(){return dve(w,x)}},[i.current,r]),I.createElement(hve,{ref:a},u?I.cloneElement(l,{ref:h}):l)}var gve=I.forwardRef(pve),mve="rc-observer-key";function vve(e,t){var n=e.children,r=typeof n=="function"?[n]:Xu(n);return r.map(function(i,a){var s=i?.key||"".concat(mve,"-").concat(a);return I.createElement(gve,In({},e,{key:s,ref:a===0?t:void 0}),i)})}var zf=I.forwardRef(vve);zf.Collection=Wme;function CN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yve(e){if(Array.isArray(e))return CN(e)}function RY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sR(e,t){if(e){if(typeof e=="string")return CN(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CN(e,t):void 0}}function bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(e){return yve(e)||RY(e)||sR(e)||bve()}var $Y=function(t){return+setTimeout(t,16)},kY=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&($Y=function(t){return window.requestAnimationFrame(t)},kY=function(t){return window.cancelAnimationFrame(t)});var gF=0,fz=new Map;function LY(e){fz.delete(e)}var ja=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;gF+=1;var r=gF;function i(a){if(a===0)LY(r),t();else{var s=$Y(function(){i(a-1)});fz.set(r,s)}}return i(n),r};ja.cancel=function(e){var t=fz.get(e);return LY(e),kY(t)};function _ve(e){let t;const n=i=>()=>{t=null,e.apply(void 0,_n(i))},r=function(){if(t==null){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t=ja(n(a))}};return r.cancel=()=>{ja.cancel(t),t=null},r}function NY(e){if(Array.isArray(e))return e}function xve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function DY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){return NY(e)||xve(e,t)||sR(e,t)||DY()}function ME(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function jf(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function wve(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var mF="data-rc-order",vF="data-rc-priority",Sve="rc-util-key",EN=new Map;function zY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Sve}function lR(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Cve(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function dz(e){return Array.from((EN.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function BY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!jf())return null;var n=t.csp,r=t.prepend,i=t.priority,a=i===void 0?0:i,s=Cve(r),o=s==="prependQueue",l=document.createElement("style");l.setAttribute(mF,s),o&&a&&l.setAttribute(vF,"".concat(a)),n!=null&&n.nonce&&(l.nonce=n?.nonce),l.innerHTML=e;var c=lR(t),u=c.firstChild;if(r){if(o){var d=(t.styles||dz(c)).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(mF)))return!1;var g=Number(h.getAttribute(vF)||0);return a>=g});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function jY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=lR(t);return(t.styles||dz(n)).find(function(r){return r.getAttribute(zY(t))===e})}function AE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=jY(e,t);if(n){var r=lR(t);r.removeChild(n)}}function Eve(e,t){var n=EN.get(e);if(!n||!wve(document,n)){var r=BY("",t),i=r.parentNode;EN.set(e,i),e.removeChild(r)}}function Ny(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=lR(n),i=dz(r),a=Pe(Pe({},n),{},{styles:i});Eve(r,a);var s=jY(t,a);if(s){var o,l;if((o=a.csp)!==null&&o!==void 0&&o.nonce&&s.nonce!==((l=a.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=a.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==e&&(s.innerHTML=e),s}var u=BY(e,a);return u.setAttribute(zY(a),t),u}function Ove(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zr(e,t){if(e==null)return{};var n,r,i=Ove(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(a,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(a);if(vl(!l,"Warning: There may be circular references"),l)return!1;if(a===s)return!0;if(n&&o>1)return!1;r.add(a);var c=o+1;if(Array.isArray(a)){if(!Array.isArray(s)||a.length!==s.length)return!1;for(var u=0;u<a.length;u++)if(!i(a[u],s[u],c))return!1;return!0}if(a&&s&&Rr(a)==="object"&&Rr(s)==="object"){var d=Object.keys(a);return d.length!==Object.keys(s).length?!1:d.every(function(h){return i(a[h],s[h],c)})}return!1}return i(e,t)}var Tve="%";function ON(e){return e.join(Tve)}var Mve=function(){function e(t){En(this,e),Te(this,"instanceId",void 0),Te(this,"cache",new Map),this.instanceId=t}return On(e,[{key:"get",value:function(n){return this.opGet(ON(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(ON(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),a=r(i);a===null?this.cache.delete(n):this.cache.set(n,a)}}]),e}(),kS="data-token-hash",Em="data-css-hash",r1="__cssinjs_instance__";function Ave(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Em,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(i){i[r1]=i[r1]||e,i[r1]===e&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Em,"]"))).forEach(function(i){var a=i.getAttribute(Em);if(r[a]){if(i[r1]===e){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[a]=!0})}return new Mve(e)}var IO=I.createContext({hashPriority:"low",cache:Ave(),defaultCache:!0});function Ive(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var hz=function(){function e(){En(this,e),Te(this,"cache",void 0),Te(this,"keys",void 0),Te(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return On(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(o){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(o)}}),(r=s)!==null&&r!==void 0&&r.value&&a&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(c,u){var d=mt(c,2),h=d[1];return i.internalGet(u)[1]<h?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=mt(a,1),o=s[0];this.delete(o)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var a;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(a=i.value)===null||a===void 0?void 0:a[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!Ive(r,n)}),this.deleteByPath(this.cache,n)}}]),e}();Te(hz,"MAX_CACHE_SIZE",20);Te(hz,"MAX_CACHE_OFFSET",5);var yF=0,FY=function(){function e(t){En(this,e),Te(this,"derivatives",void 0),Te(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=yF,t.length===0&&(t.length>0,void 0),yF+=1}return On(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),e}(),wk=new hz;function FA(e){var t=Array.isArray(e)?e:[e];return wk.has(t)||wk.set(t,new FY(t)),wk.get(t)}var Pve=new WeakMap,Sk={};function Rve(e,t){for(var n=Pve,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Sk)||n.set(Sk,e()),n.get(Sk)}var bF=new WeakMap;function tE(e){var t=bF.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof FY?t+=r.id:r&&Rr(r)==="object"?t+=tE(r):t+=r}),t=ME(t),bF.set(e,t)),t}function _F(e,t){return ME("".concat(t,"_").concat(tE(e)))}var TN=jf();function et(e){return typeof e=="number"?"".concat(e,"px"):e}function HA(e,t,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a)return e;var s=Pe(Pe({},i),{},(r={},Te(r,kS,t),Te(r,Em,n),r)),o=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var YM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},$ve=function(t,n,r){return Object.keys(t).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(t).map(function(i){var a=mt(i,2),s=a[0],o=a[1];return"".concat(s,":").concat(o,";")}).join(""),"}"):""},HY=function(t,n,r){var i={},a={};return Object.entries(t).forEach(function(s){var o,l,c=mt(s,2),u=c[0],d=c[1];if(r!=null&&(o=r.preserve)!==null&&o!==void 0&&o[u])a[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var h,g=YM(u,r?.prefix);i[g]=typeof d=="number"&&!(r!=null&&(h=r.unitless)!==null&&h!==void 0&&h[u])?"".concat(d,"px"):String(d),a[u]="var(".concat(g,")")}}),[a,$ve(i,n,{scope:r?.scope})]},xF=jf()?I.useLayoutEffect:I.useEffect,Sa=function(t,n){var r=I.useRef(!0);xF(function(){return t(r.current)},n),xF(function(){return r.current=!1,function(){r.current=!0}},[])},MN=function(t,n){Sa(function(r){if(!r)return t()},n)},kve=Pe({},nR),wF=kve.useInsertionEffect,Lve=function(t,n,r){I.useMemo(t,r),Sa(function(){return n(!0)},r)},Nve=wF?function(e,t,n){return wF(function(){return e(),t()},n)}:Lve,Dve=Pe({},nR),zve=Dve.useInsertionEffect,Bve=function(t){var n=[],r=!1;function i(a){r||n.push(a)}return I.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(a){return a()})}},t),i},jve=function(){return function(t){t()}},Fve=typeof zve<"u"?Bve:jve;function pz(e,t,n,r,i){var a=I.useContext(IO),s=a.cache,o=[e].concat(_n(t)),l=ON(o),c=Fve([l]),u=function(v){s.opUpdate(l,function(x){var w=x||[void 0,void 0],C=mt(w,2),E=C[0],M=E===void 0?0:E,R=C[1],L=R,N=L||n(),D=[M,N];return v?v(D):D})};I.useMemo(function(){u()},[l]);var d=s.opGet(l),h=d[1];return Nve(function(){i?.(h)},function(g){return u(function(v){var x=mt(v,2),w=x[0],C=x[1];return g&&w===0&&i?.(h),[w+1,C]}),function(){s.opUpdate(l,function(v){var x=v||[],w=mt(x,2),C=w[0],E=C===void 0?0:C,M=w[1],R=E-1;return R===0?(c(function(){(g||!s.opGet(l))&&r?.(M,!1)}),null):[E-1,M]})}},[l]),h}var Hve={},Vve="css",V_=new Map;function Uve(e){V_.set(e,(V_.get(e)||0)+1)}function Gve(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(kS,'="').concat(e,'"]'));n.forEach(function(r){if(r[r1]===t){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Wve=0;function qve(e,t){V_.set(e,(V_.get(e)||0)-1);var n=Array.from(V_.keys()),r=n.filter(function(i){var a=V_.get(i)||0;return a<=0});n.length-r.length>Wve&&r.forEach(function(i){Gve(i,t),V_.delete(i)})}var VY=function(t,n,r,i){var a=r.getDerivativeToken(t),s=Pe(Pe({},a),n);return i&&(s=i(s)),s},UY="token";function Kve(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=I.useContext(IO),i=r.cache.instanceId,a=r.container,s=n.salt,o=s===void 0?"":s,l=n.override,c=l===void 0?Hve:l,u=n.formatToken,d=n.getComputedToken,h=n.cssVar,g=Rve(function(){return Object.assign.apply(Object,[{}].concat(_n(t)))},t),v=tE(g),x=tE(c),w=h?tE(h):"",C=pz(UY,[o,e.id,v,x,w],function(){var E,M=d?d(g,c,e):VY(g,c,e,u),R=Pe({},M),L="";if(h){var N=HY(M,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),D=mt(N,2);M=D[0],L=D[1]}var H=_F(M,o);M._tokenKey=H,R._tokenKey=_F(R,o);var U=(E=h?.key)!==null&&E!==void 0?E:H;M._themeKey=U,Uve(U);var q="".concat(Vve,"-").concat(ME(H));return M._hashId=q,[M,q,R,L,h?.key||""]},function(E){qve(E[0]._themeKey,i)},function(E){var M=mt(E,4),R=M[0],L=M[3];if(h&&L){var N=Ny(L,ME("css-variables-".concat(R._themeKey)),{mark:Em,prepend:"queue",attachTo:a,priority:-999});N[r1]=i,N.setAttribute(kS,R._themeKey)}});return C}var Yve=function(t,n,r){var i=mt(t,5),a=i[2],s=i[3],o=i[4],l=r||{},c=l.plain;if(!s)return null;var u=a._tokenKey,d=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},g=HA(s,o,u,h,c);return[d,u,g]},Xve={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GY="comm",WY="rule",qY="decl",Zve="@import",Qve="@namespace",Jve="@keyframes",e0e="@layer",KY=Math.abs,gz=String.fromCharCode;function YY(e){return e.trim()}function XM(e,t,n){return e.replace(t,n)}function t0e(e,t,n){return e.indexOf(t,n)}function cS(e,t){return e.charCodeAt(t)|0}function LS(e,t,n){return e.slice(t,n)}function Rv(e){return e.length}function n0e(e){return e.length}function MT(e,t){return t.push(e),e}var cR=1,NS=1,XY=0,pg=0,Pc=0,T2="";function mz(e,t,n,r,i,a,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:cR,column:NS,length:s,return:"",siblings:o}}function r0e(){return Pc}function i0e(){return Pc=pg>0?cS(T2,--pg):0,NS--,Pc===10&&(NS=1,cR--),Pc}function Om(){return Pc=pg<XY?cS(T2,pg++):0,NS++,Pc===10&&(NS=1,cR++),Pc}function i1(){return cS(T2,pg)}function ZM(){return pg}function uR(e,t){return LS(T2,e,t)}function IE(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function a0e(e){return cR=NS=1,XY=Rv(T2=e),pg=0,[]}function o0e(e){return T2="",e}function Ck(e){return YY(uR(pg-1,AN(e===91?e+2:e===40?e+1:e)))}function s0e(e){for(;(Pc=i1())&&Pc<33;)Om();return IE(e)>2||IE(Pc)>3?"":" "}function l0e(e,t){for(;--t&&Om()&&!(Pc<48||Pc>102||Pc>57&&Pc<65||Pc>70&&Pc<97););return uR(e,ZM()+(t<6&&i1()==32&&Om()==32))}function AN(e){for(;Om();)switch(Pc){case e:return pg;case 34:case 39:e!==34&&e!==39&&AN(Pc);break;case 40:e===41&&AN(e);break;case 92:Om();break}return pg}function c0e(e,t){for(;Om()&&e+Pc!==57;)if(e+Pc===84&&i1()===47)break;return"/*"+uR(t,pg-1)+"*"+gz(e===47?e:Om())}function u0e(e){for(;!IE(i1());)Om();return uR(e,pg)}function f0e(e){return o0e(QM("",null,null,null,[""],e=a0e(e),0,[0],e))}function QM(e,t,n,r,i,a,s,o,l){for(var c=0,u=0,d=s,h=0,g=0,v=0,x=1,w=1,C=1,E=0,M="",R=i,L=a,N=r,D=M;w;)switch(v=E,E=Om()){case 40:if(v!=108&&cS(D,d-1)==58){t0e(D+=XM(Ck(E),"&","&\f"),"&\f",KY(c?o[c-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:D+=Ck(E);break;case 9:case 10:case 13:case 32:D+=s0e(v);break;case 92:D+=l0e(ZM()-1,7);continue;case 47:switch(i1()){case 42:case 47:MT(d0e(c0e(Om(),ZM()),t,n,l),l),(IE(v||1)==5||IE(i1()||1)==5)&&Rv(D)&&LS(D,-1,void 0)!==" "&&(D+=" ");break;default:D+="/"}break;case 123*x:o[c++]=Rv(D)*C;case 125*x:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+u:C==-1&&(D=XM(D,/\f/g,"")),g>0&&(Rv(D)-d||x===0&&v===47)&&MT(g>32?CF(D+";",r,n,d-1,l):CF(XM(D," ","")+";",r,n,d-2,l),l);break;case 59:D+=";";default:if(MT(N=SF(D,t,n,c,u,i,o,M,R=[],L=[],d,a),a),E===123)if(u===0)QM(D,t,N,N,R,a,d,o,L);else{switch(h){case 99:if(cS(D,3)===110)break;case 108:if(cS(D,2)===97)break;default:u=0;case 100:case 109:case 115:}u?QM(e,N,N,r&&MT(SF(e,N,N,0,0,i,o,M,i,R=[],d,L),L),i,L,d,o,r?R:L):QM(D,N,N,N,[""],L,0,o,L)}}c=u=g=0,x=C=1,M=D="",d=s;break;case 58:d=1+Rv(D),g=v;default:if(x<1){if(E==123)--x;else if(E==125&&x++==0&&i0e()==125)continue}switch(D+=gz(E),E*x){case 38:C=u>0?1:(D+="\f",-1);break;case 44:o[c++]=(Rv(D)-1)*C,C=1;break;case 64:i1()===45&&(D+=Ck(Om())),h=i1(),u=d=Rv(M=D+=u0e(ZM())),E++;break;case 45:v===45&&Rv(D)==2&&(x=0)}}return a}function SF(e,t,n,r,i,a,s,o,l,c,u,d){for(var h=i-1,g=i===0?a:[""],v=n0e(g),x=0,w=0,C=0;x<r;++x)for(var E=0,M=LS(e,h+1,h=KY(w=s[x])),R=e;E<v;++E)(R=YY(w>0?g[E]+" "+M:XM(M,/&\f/g,g[E])))&&(l[C++]=R);return mz(e,t,n,i===0?WY:o,l,c,u,d)}function d0e(e,t,n,r){return mz(e,t,n,GY,gz(r0e()),LS(e,2,-2),0,r)}function CF(e,t,n,r,i){return mz(e,t,n,qY,LS(e,0,r),LS(e,r+1,-1),r,i)}function IN(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function h0e(e,t,n,r){switch(e.type){case e0e:if(e.children.length)break;case Zve:case Qve:case qY:return e.return=e.return||e.value;case GY:return"";case Jve:return e.return=e.value+"{"+IN(e.children,r)+"}";case WY:if(!Rv(e.value=e.props.join(",")))return""}return Rv(n=IN(e.children,r))?e.return=e.value+"{"+n+"}":""}var EF="data-ant-cssinjs-cache-path",ZY="_FILE_STYLE__",tx,QY=!0;function p0e(){if(!tx&&(tx={},jf())){var e=document.createElement("div");e.className=EF,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(i){var a=i.split(":"),s=mt(a,2),o=s[0],l=s[1];tx[o]=l});var n=document.querySelector("style[".concat(EF,"]"));if(n){var r;QY=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(e)}}function g0e(e){return p0e(),!!tx[e]}function m0e(e){var t=tx[e],n=null;if(t&&jf())if(QY)n=ZY;else{var r=document.querySelector("style[".concat(Em,'="').concat(tx[e],'"]'));r?n=r.innerHTML:delete tx[e]}return[n,t]}var v0e="_skip_check_",JY="_multi_value_";function JM(e){var t=IN(f0e(e),h0e);return t.replace(/\{%%%\:[^;];}/g,";")}function y0e(e){return Rr(e)==="object"&&e&&(v0e in e||JY in e)}function OF(e,t,n){if(!t)return e;var r=".".concat(t),i=n==="low"?":where(".concat(r,")"):r,a=e.split(",").map(function(s){var o,l=s.trim().split(/\s+/),c=l[0]||"",u=((o=c.match(/^\w+/))===null||o===void 0?void 0:o[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(_n(l.slice(1))).join(" ")});return a.join(",")}var b0e=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,a=r.injectHash,s=r.parentSelectors,o=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var h="",g={};function v(C){var E=C.getName(o);if(!g[E]){var M=e(C.style,n,{root:!1,parentSelectors:s}),R=mt(M,1),L=R[0];g[E]="@keyframes ".concat(C.getName(o)).concat(L)}}function x(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return C.forEach(function(M){Array.isArray(M)?x(M,E):M&&E.push(M)}),E}var w=x(Array.isArray(t)?t:[t]);return w.forEach(function(C){var E=typeof C=="string"&&!i?{}:C;if(typeof E=="string")h+="".concat(E,`
`);else if(E._keyframe)v(E);else{var M=d.reduce(function(R,L){var N;return(L==null||(N=L.visit)===null||N===void 0?void 0:N.call(L,R))||R},E);Object.keys(M).forEach(function(R){var L=M[R];if(Rr(L)==="object"&&L&&(R!=="animationName"||!L._keyframe)&&!y0e(L)){var N=!1,D=R.trim(),H=!1;(i||a)&&o?D.startsWith("@")?N=!0:D==="&"?D=OF("",o,c):D=OF(R,o,c):i&&!o&&(D==="&"||D==="")&&(D="",H=!0);var U=e(L,n,{root:H,injectHash:N,parentSelectors:[].concat(_n(s),[D])}),q=mt(U,2),K=q[0],Q=q[1];g=Pe(Pe({},g),Q),h+="".concat(D).concat(K)}else{let ee=function(Z,re){var oe=Z.replace(/[A-Z]/g,function(le){return"-".concat(le.toLowerCase())}),ce=re;!Xve[Z]&&typeof ce=="number"&&ce!==0&&(ce="".concat(ce,"px")),Z==="animationName"&&re!==null&&re!==void 0&&re._keyframe&&(v(re),ce=re.getName(o)),h+="".concat(oe,":").concat(ce,";")};var X,te=(X=L?.value)!==null&&X!==void 0?X:L;Rr(L)==="object"&&L!==null&&L!==void 0&&L[JY]&&Array.isArray(te)?te.forEach(function(Z){ee(R,Z)}):ee(R,te)}})}}),i?l&&(h&&(h="@layer ".concat(l.name," {").concat(h,"}")),l.dependencies&&(g["@layer ".concat(l.name)]=l.dependencies.map(function(C){return"@layer ".concat(C,", ").concat(l.name,";")}).join(`
`))):h="{".concat(h,"}"),[h,g]};function eX(e,t){return ME("".concat(e.join("%")).concat(t))}function _0e(){return null}var tX="style";function PN(e,t){var n=e.token,r=e.path,i=e.hashId,a=e.layer,s=e.nonce,o=e.clientOnly,l=e.order,c=l===void 0?0:l,u=I.useContext(IO),d=u.autoClear;u.mock;var h=u.defaultCache,g=u.hashPriority,v=u.container,x=u.ssrInline,w=u.transformers,C=u.linters,E=u.cache,M=u.layer,R=n._tokenKey,L=[R];M&&L.push("layer"),L.push.apply(L,_n(r));var N=TN,D=pz(tX,L,function(){var Q=L.join("|");if(g0e(Q)){var X=m0e(Q),te=mt(X,2),ee=te[0],Z=te[1];if(ee)return[ee,R,Z,{},o,c]}var re=t(),oe=b0e(re,{hashId:i,hashPriority:g,layer:M?a:void 0,path:r.join("-"),transformers:w,linters:C}),ce=mt(oe,2),le=ce[0],pe=ce[1],ye=JM(le),_e=eX(L,ye);return[ye,R,_e,pe,o,c]},function(Q,X){var te=mt(Q,3),ee=te[2];(X||d)&&TN&&AE(ee,{mark:Em})},function(Q){var X=mt(Q,4),te=X[0];X[1];var ee=X[2],Z=X[3];if(N&&te!==ZY){var re={mark:Em,prepend:M?!1:"queue",attachTo:v,priority:c},oe=typeof s=="function"?s():s;oe&&(re.csp={nonce:oe});var ce=[],le=[];Object.keys(Z).forEach(function(ye){ye.startsWith("@layer")?ce.push(ye):le.push(ye)}),ce.forEach(function(ye){Ny(JM(Z[ye]),"_layer-".concat(ye),Pe(Pe({},re),{},{prepend:!0}))});var pe=Ny(te,ee,re);pe[r1]=E.instanceId,pe.setAttribute(kS,R),le.forEach(function(ye){Ny(JM(Z[ye]),"_effect-".concat(ye),re)})}}),H=mt(D,3),U=H[0],q=H[1],K=H[2];return function(Q){var X;if(!x||N||!h)X=I.createElement(_0e,null);else{var te;X=I.createElement("style",In({},(te={},Te(te,kS,q),Te(te,Em,K),te),{dangerouslySetInnerHTML:{__html:U}}))}return I.createElement(I.Fragment,null,X,Q)}}var x0e=function(t,n,r){var i=mt(t,6),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=r||{},h=d.plain;if(c)return null;var g=a,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return g=HA(a,s,o,v,h),l&&Object.keys(l).forEach(function(x){if(!n[x]){n[x]=!0;var w=JM(l[x]),C=HA(w,s,"_effect-".concat(x),v,h);x.startsWith("@layer")?g=C+g:g+=C}}),[u,o,g]},nX="cssVar",w0e=function(t,n){var r=t.key,i=t.prefix,a=t.unitless,s=t.ignore,o=t.token,l=t.scope,c=l===void 0?"":l,u=I.useContext(IO),d=u.cache.instanceId,h=u.container,g=o._tokenKey,v=[].concat(_n(t.path),[r,c,g]),x=pz(nX,v,function(){var w=n(),C=HY(w,r,{prefix:i,unitless:a,ignore:s,scope:c}),E=mt(C,2),M=E[0],R=E[1],L=eX(v,R);return[M,R,L,r]},function(w){var C=mt(w,3),E=C[2];TN&&AE(E,{mark:Em})},function(w){var C=mt(w,3),E=C[1],M=C[2];if(E){var R=Ny(E,M,{mark:Em,prepend:"queue",attachTo:h,priority:-999});R[r1]=d,R.setAttribute(kS,r)}});return x},S0e=function(t,n,r){var i=mt(t,4),a=i[1],s=i[2],o=i[3],l=r||{},c=l.plain;if(!a)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},h=HA(a,o,s,d,c);return[u,s,h]},aC;aC={},Te(aC,tX,x0e),Te(aC,UY,Yve),Te(aC,nX,S0e);var $i=function(){function e(t,n){En(this,e),Te(this,"name",void 0),Te(this,"style",void 0),Te(this,"_keyframe",!0),this.name=t,this.style=n}return On(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function pw(e){return e.notSplit=!0,e}pw(["borderTop","borderBottom"]),pw(["borderTop"]),pw(["borderBottom"]),pw(["borderLeft","borderRight"]),pw(["borderLeft"]),pw(["borderRight"]);var fR=I.createContext({});function rX(e){return NY(e)||RY(e)||sR(e)||DY()}function up(e,t){for(var n=e,r=0;r<t.length;r+=1){if(n==null)return;n=n[t[r]]}return n}function iX(e,t,n,r){if(!t.length)return n;var i=rX(t),a=i[0],s=i.slice(1),o;return!e&&typeof a=="number"?o=[]:Array.isArray(e)?o=_n(e):o=Pe({},e),r&&n===void 0&&s.length===1?delete o[a][s[0]]:o[a]=iX(o[a],s,n,r),o}function mm(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&r&&n===void 0&&!up(e,t.slice(0,-1))?e:iX(e,t,n,r)}function C0e(e){return Rr(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function TF(e){return Array.isArray(e)?[]:{}}var E0e=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Jw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=TF(t[0]);return t.forEach(function(i){function a(s,o){var l=new Set(o),c=up(i,s),u=Array.isArray(c);if(u||C0e(c)){if(!l.has(c)){l.add(c);var d=up(r,s);u?r=mm(r,s,[]):(!d||Rr(d)!=="object")&&(r=mm(r,s,TF(c))),E0e(c).forEach(function(h){a([].concat(_n(s),[h]),l)})}}else r=mm(r,s,c)}a([])}),r}function O0e(){}const T0e=I.createContext({}),M2=()=>{const e=()=>{};return e.deprecated=O0e,e},M0e=I.createContext(void 0);var aX={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},A0e={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},I0e=Pe(Pe({},A0e),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const oX={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},MF={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},I0e),timePickerLocale:Object.assign({},oX)},np="${label} is not a valid ${type}",lx={locale:"en",Pagination:aX,DatePicker:MF,TimePicker:oX,Calendar:MF,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:np,method:np,array:np,object:np,number:np,date:np,boolean:np,integer:np,float:np,regexp:np,email:np,url:np,hex:np},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},lx.Modal);let eA=[];const AF=()=>eA.reduce((e,t)=>Object.assign(Object.assign({},e),t),lx.Modal);function P0e(e){if(e){const t=Object.assign({},e);return eA.push(t),AF(),()=>{eA=eA.filter(n=>n!==t),AF()}}Object.assign({},lx.Modal)}const vz=I.createContext(void 0),PO=(e,t)=>{const n=I.useContext(vz),r=I.useMemo(()=>{var a;const s=t||lx[e],o=(a=n?.[e])!==null&&a!==void 0?a:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),o||{})},[e,t,n]),i=I.useMemo(()=>{const a=n?.locale;return n?.exist&&!a?lx.locale:a},[n]);return[r,i]},R0e="internalMark",$0e=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;I.useEffect(()=>P0e(t?.Modal),[t]);const i=I.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return I.createElement(vz.Provider,{value:i},n)},yz={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},DS=Object.assign(Object.assign({},yz),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),_u=Math.round;function Ek(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const IF=(e,t,n)=>n===0?e:e/100;function oC(e,t){const n=t||255;return e>n?n:e<0?0:e}class aa{constructor(t){Te(this,"isValid",!0),Te(this,"r",0),Te(this,"g",0),Te(this,"b",0),Te(this,"a",1),Te(this,"_h",void 0),Te(this,"_s",void 0),Te(this,"_l",void 0),Te(this,"_v",void 0),Te(this,"_max",void 0),Te(this,"_min",void 0),Te(this,"_brightness",void 0);function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t=="string"){let i=function(a){return r.startsWith(a)};const r=t.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(t instanceof aa)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=oC(t.r),this.g=oC(t.g),this.b=oC(t.b),this.a=typeof t.a=="number"?oC(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(a){const s=a/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=_u(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,a=o=>(r[o]-this[o])*i+this[o],s={r:_u(a("r")),g:_u(a("g")),b:_u(a("b")),a:_u(a("a")*100)/100};return this._c(s)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=a=>_u((this[a]*this.a+n[a]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=_u(this.a*255).toString(16);t+=a.length===2?a:"0"+a}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=_u(this.getSaturation()*100),r=_u(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=oC(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,a){return parseInt(n[i]+n[a||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const h=_u(r*255);this.r=h,this.g=h,this.b=h}let a=0,s=0,o=0;const l=t/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(a=c,s=u):l>=1&&l<2?(a=u,s=c):l>=2&&l<3?(s=c,o=u):l>=3&&l<4?(s=u,o=c):l>=4&&l<5?(a=u,o=c):l>=5&&l<6&&(a=c,o=u);const d=r-c/2;this.r=_u((a+d)*255),this.g=_u((s+d)*255),this.b=_u((o+d)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const a=_u(r*255);if(this.r=a,this.g=a,this.b=a,n<=0)return;const s=t/60,o=Math.floor(s),l=s-o,c=_u(r*(1-n)*255),u=_u(r*(1-n*l)*255),d=_u(r*(1-n*(1-l))*255);switch(o){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(t){const n=Ek(t,IF);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=Ek(t,IF);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=Ek(t,(r,i)=>i.includes("%")?_u(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var AT=2,PF=.16,k0e=.05,L0e=.05,N0e=.15,sX=5,lX=4,D0e=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function RF(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-AT*t:Math.round(e.h)+AT*t:r=n?Math.round(e.h)+AT*t:Math.round(e.h)-AT*t,r<0?r+=360:r>=360&&(r-=360),r}function $F(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-PF*t:t===lX?r=e.s+PF:r=e.s+k0e*t,r>1&&(r=1),n&&t===sX&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function kF(e,t,n){var r;return n?r=e.v+L0e*t:r=e.v-N0e*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function zS(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new aa(e),i=r.toHsv(),a=sX;a>0;a-=1){var s=new aa({h:RF(i,a,!0),s:$F(i,a,!0),v:kF(i,a,!0)});n.push(s)}n.push(r);for(var o=1;o<=lX;o+=1){var l=new aa({h:RF(i,o),s:$F(i,o),v:kF(i,o)});n.push(l)}return t.theme==="dark"?D0e.map(function(c){var u=c.index,d=c.amount;return new aa(t.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var Ok={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},RN=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];RN.primary=RN[5];var $N=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];$N.primary=$N[5];var kN=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];kN.primary=kN[5];var VA=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];VA.primary=VA[5];var LN=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];LN.primary=LN[5];var NN=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];NN.primary=NN[5];var DN=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];DN.primary=DN[5];var zN=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];zN.primary=zN[5];var BN=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];BN.primary=BN[5];var jN=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];jN.primary=jN[5];var FN=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];FN.primary=FN[5];var HN=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];HN.primary=HN[5];var VN=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];VN.primary=VN[5];var Tk={red:RN,volcano:$N,orange:kN,gold:VA,yellow:LN,lime:NN,green:DN,cyan:zN,blue:BN,geekblue:jN,purple:FN,magenta:HN,grey:VN};function cX(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:a,colorError:s,colorInfo:o,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),h=n(i),g=n(a),v=n(s),x=n(o),w=r(c,u),C=e.colorLink||e.colorInfo,E=n(C),M=new aa(v[1]).mix(new aa(v[3]),50).toHexString();return Object.assign(Object.assign({},w),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBgFilledHover:M,colorErrorBgActive:v[3],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:x[1],colorInfoBgHover:x[2],colorInfoBorder:x[3],colorInfoBorderHover:x[4],colorInfoHover:x[4],colorInfo:x[6],colorInfoActive:x[7],colorInfoTextHover:x[8],colorInfoText:x[9],colorInfoTextActive:x[10],colorLinkHover:E[4],colorLink:E[6],colorLinkActive:E[7],colorBgMask:new aa("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const z0e=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function B0e(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:i+1},z0e(r))}const uX=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function tA(e){return(e+8)/e}function j0e(e){const t=Array.from({length:10}).map((n,r)=>{const i=r-1,a=e*Math.pow(Math.E,i/5),s=r>1?Math.floor(a):Math.ceil(a);return Math.floor(s/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:tA(n)}))}const fX=e=>{const t=j0e(e),n=t.map(u=>u.size),r=t.map(u=>u.lineHeight),i=n[1],a=n[0],s=n[2],o=r[1],l=r[0],c=r[2];return{fontSizeSM:a,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:o,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(o*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*a),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function F0e(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const Hp=(e,t)=>new aa(e).setA(t).toRgbString(),sC=(e,t)=>new aa(e).darken(t).toHexString(),H0e=e=>{const t=zS(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},V0e=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Hp(r,.88),colorTextSecondary:Hp(r,.65),colorTextTertiary:Hp(r,.45),colorTextQuaternary:Hp(r,.25),colorFill:Hp(r,.15),colorFillSecondary:Hp(r,.06),colorFillTertiary:Hp(r,.04),colorFillQuaternary:Hp(r,.02),colorBgSolid:Hp(r,1),colorBgSolidHover:Hp(r,.75),colorBgSolidActive:Hp(r,.95),colorBgLayout:sC(n,4),colorBgContainer:sC(n,0),colorBgElevated:sC(n,0),colorBgSpotlight:Hp(r,.85),colorBgBlur:"transparent",colorBorder:sC(n,15),colorBorderSecondary:sC(n,6)}};function dR(e){Ok.pink=Ok.magenta,Tk.pink=Tk.magenta;const t=Object.keys(yz).map(n=>{const r=e[n]===Ok[n]?Tk[n]:zS(e[n]);return Array.from({length:10},()=>1).reduce((i,a,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),cX(e,{generateColorPalettes:H0e,generateNeutralColorPalettes:V0e})),fX(e.fontSize)),F0e(e)),uX(e)),B0e(e))}const bz=FA(dR),PE={token:DS,override:{override:DS},hashed:!0},_z=it.createContext(PE),RE="ant",xz="anticon",U0e=["outlined","borderless","filled","underlined"],G0e=(e,t)=>t||(e?`${RE}-${e}`:RE),ii=I.createContext({getPrefixCls:G0e,iconPrefixCls:xz}),{Consumer:Put}=ii,LF={};function eu(e){const t=I.useContext(ii),{getPrefixCls:n,direction:r,getPopupContainer:i}=t,a=t[e];return Object.assign(Object.assign({classNames:LF,styles:LF},a),{getPrefixCls:n,direction:r,getPopupContainer:i})}const W0e=`-ant-${Date.now()}-${Math.random()}`;function q0e(e,t){const n={},r=(s,o)=>{let l=s.clone();return l=o?.(l)||l,l.toRgbString()},i=(s,o)=>{const l=new aa(s),c=zS(l.toRgbString());n[`${o}-color`]=r(l),n[`${o}-color-disabled`]=c[1],n[`${o}-color-hover`]=c[4],n[`${o}-color-active`]=c[6],n[`${o}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${o}-color-deprecated-bg`]=c[0],n[`${o}-color-deprecated-border`]=c[2]};if(t.primaryColor){i(t.primaryColor,"primary");const s=new aa(t.primaryColor),o=zS(s.toRgbString());o.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setA(c.a*.12));const l=new aa(o[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${e}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function K0e(e,t){const n=q0e(e,t);jf()&&Ny(n,`${W0e}-dynamic-theme`)}const r0=I.createContext(!1),Y0e=e=>{let{children:t,disabled:n}=e;const r=I.useContext(r0);return I.createElement(r0.Provider,{value:n??r},t)},BS=I.createContext(void 0),X0e=e=>{let{children:t,size:n}=e;const r=I.useContext(BS);return I.createElement(BS.Provider,{value:n||r},t)};function Z0e(){const e=I.useContext(r0),t=I.useContext(BS);return{componentDisabled:e,componentSize:t}}var dX=On(function e(){En(this,e)}),hX="CALC_UNIT",Q0e=new RegExp(hX,"g");function Mk(e){return typeof e=="number"?"".concat(e).concat(hX):e}var J0e=function(e){qr(n,e);var t=v0(n);function n(r,i){var a;En(this,n),a=t.call(this),Te(Or(a),"result",""),Te(Or(a),"unitlessCssVar",void 0),Te(Or(a),"lowPriority",void 0);var s=Rr(r);return a.unitlessCssVar=i,r instanceof n?a.result="(".concat(r.result,")"):s==="number"?a.result=Mk(r):s==="string"&&(a.result=r),a}return On(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(Mk(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(Mk(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var a=this,s=i||{},o=s.unit,l=!0;return typeof o=="boolean"?l=o:Array.from(this.unitlessCssVar).some(function(c){return a.result.includes(c)})&&(l=!1),this.result=this.result.replace(Q0e,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(dX),eye=function(e){qr(n,e);var t=v0(n);function n(r){var i;return En(this,n),i=t.call(this),Te(Or(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return On(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(dX),tye=function(t,n){var r=t==="css"?J0e:eye;return function(i){return new r(i,n)}},NF=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function to(e){var t=I.useRef();t.current=e;var n=I.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(a))},[]);return n}function $E(e){var t=I.useRef(!1),n=I.useState(e),r=mt(n,2),i=r[0],a=r[1];I.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function s(o,l){l&&t.current||a(o)}return[i,s]}function Ak(e){return e!==void 0}function Us(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,s=n.postState,o=$E(function(){return Ak(i)?i:Ak(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),l=mt(o,2),c=l[0],u=l[1],d=i!==void 0?i:c,h=s?s(d):d,g=to(a),v=$E([d]),x=mt(v,2),w=x[0],C=x[1];MN(function(){var M=w[0];c!==M&&g(c,M)},[w]),MN(function(){Ak(i)||u(i)},[i]);var E=to(function(M,R){u(M,R),C([d],R)});return[h,E]}function DF(e,t,n,r){var i=Pe({},t[e]);if(r!=null&&r.deprecatedTokens){var a=r.deprecatedTokens;a.forEach(function(o){var l=mt(o,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i?.[c])}})}var s=Pe(Pe({},n),i);return Object.keys(s).forEach(function(o){s[o]===t[o]&&delete s[o]}),s}var pX=typeof CSSINJS_STATISTIC<"u",UN=!0;function ga(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!pX)return Object.assign.apply(Object,[{}].concat(t));UN=!1;var r={};return t.forEach(function(i){if(Rr(i)==="object"){var a=Object.keys(i);a.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),UN=!0,r}var zF={};function nye(){}var rye=function(t){var n,r=t,i=nye;return pX&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(t,{get:function(s,o){if(UN){var l;(l=n)===null||l===void 0||l.add(o)}return s[o]}}),i=function(s,o){var l;zF[s]={global:Array.from(n),component:Pe(Pe({},(l=zF[s])===null||l===void 0?void 0:l.component),o)}}),{token:r,keys:n,flush:i}};function BF(e,t,n){if(typeof n=="function"){var r;return n(ga(t,(r=t[e])!==null&&r!==void 0?r:{}))}return n??{}}function iye(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(a){return et(a)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(a){return et(a)}).join(","),")")}}}var aye=1e3*60*10,oye=function(){function e(){En(this,e),Te(this,"map",new Map),Te(this,"objectIDMap",new WeakMap),Te(this,"nextID",0),Te(this,"lastAccessBeat",new Map),Te(this,"accessBeat",0)}return On(e,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(a){return a&&Rr(a)==="object"?"obj_".concat(r.getObjectID(a)):"".concat(Rr(a),"_").concat(a)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,a){r-i>aye&&(n.map.delete(a),n.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),e}(),jF=new oye;function sye(e,t){return it.useMemo(function(){var n=jF.get(t);if(n)return n;var r=e();return jF.set(t,r),r},t)}var lye=function(){return{}};function cye(e){var t=e.useCSP,n=t===void 0?lye:t,r=e.useToken,i=e.usePrefix,a=e.getResetStyles,s=e.getCommonStyle,o=e.getCompUnitless;function l(h,g,v,x){var w=Array.isArray(h)?h[0]:h;function C(H){return"".concat(String(w)).concat(H.slice(0,1).toUpperCase()).concat(H.slice(1))}var E=x?.unitless||{},M=typeof o=="function"?o(h):{},R=Pe(Pe({},M),{},Te({},C("zIndexPopup"),!0));Object.keys(E).forEach(function(H){R[C(H)]=E[H]});var L=Pe(Pe({},x),{},{unitless:R,prefixToken:C}),N=u(h,g,v,L),D=c(w,v,L);return function(H){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,q=N(H,U),K=mt(q,2),Q=K[1],X=D(U),te=mt(X,2),ee=te[0],Z=te[1];return[ee,Q,Z]}}function c(h,g,v){var x=v.unitless,w=v.injectStyle,C=w===void 0?!0:w,E=v.prefixToken,M=v.ignore,R=function(D){var H=D.rootCls,U=D.cssVar,q=U===void 0?{}:U,K=r(),Q=K.realToken;return w0e({path:[h],prefix:q.prefix,key:q.key,unitless:x,ignore:M,token:Q,scope:H},function(){var X=BF(h,Q,g),te=DF(h,Q,X,{deprecatedTokens:v?.deprecatedTokens});return Object.keys(X).forEach(function(ee){te[E(ee)]=te[ee],delete te[ee]}),te}),null},L=function(D){var H=r(),U=H.cssVar;return[function(q){return C&&U?it.createElement(it.Fragment,null,it.createElement(R,{rootCls:D,cssVar:U,component:h}),q):q},U?.key]};return L}function u(h,g,v){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=Array.isArray(h)?h:[h,h],C=mt(w,1),E=C[0],M=w.join("-"),R=e.layer||{name:"antd"};return function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L,D=r(),H=D.theme,U=D.realToken,q=D.hashId,K=D.token,Q=D.cssVar,X=i(),te=X.rootPrefixCls,ee=X.iconPrefixCls,Z=n(),re=Q?"css":"js",oe=sye(function(){var Se=new Set;return Q&&Object.keys(x.unitless||{}).forEach(function(Re){Se.add(YM(Re,Q.prefix)),Se.add(YM(Re,NF(E,Q.prefix)))}),tye(re,Se)},[re,E,Q?.prefix]),ce=iye(re),le=ce.max,pe=ce.min,ye={theme:H,token:K,hashId:q,nonce:function(){return Z.nonce},clientOnly:x.clientOnly,layer:R,order:x.order||-999};typeof a=="function"&&PN(Pe(Pe({},ye),{},{clientOnly:!1,path:["Shared",te]}),function(){return a(K,{prefix:{rootPrefixCls:te,iconPrefixCls:ee},csp:Z})});var _e=PN(Pe(Pe({},ye),{},{path:[M,L,ee]}),function(){if(x.injectStyle===!1)return[];var Se=rye(K),Re=Se.token,je=Se.flush,Fe=BF(E,U,v),ze=".".concat(L),Ze=DF(E,U,Fe,{deprecatedTokens:x.deprecatedTokens});Q&&Fe&&Rr(Fe)==="object"&&Object.keys(Fe).forEach(function(qe){Fe[qe]="var(".concat(YM(qe,NF(E,Q.prefix)),")")});var st=ga(Re,{componentCls:ze,prefixCls:L,iconCls:".".concat(ee),antCls:".".concat(te),calc:oe,max:le,min:pe},Q?Fe:Ze),Ue=g(st,{hashId:q,prefixCls:L,rootPrefixCls:te,iconPrefixCls:ee});je(E,Ze);var Ne=typeof s=="function"?s(st,L,N,x.resetFont):null;return[x.resetStyle===!1?null:Ne,Ue]});return[_e,q]}}function d(h,g,v){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=u(h,g,v,Pe({resetStyle:!1,order:-998},x)),C=function(M){var R=M.prefixCls,L=M.rootCls,N=L===void 0?R:L;return w(R,N),null};return C}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const cx=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],uye="5.24.6";function Ik(e){return e>=0&&e<=255}function TC(e,t){const{r:n,g:r,b:i,a}=new aa(e).toRgb();if(a<1)return e;const{r:s,g:o,b:l}=new aa(t).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),d=Math.round((r-o*(1-c))/c),h=Math.round((i-l*(1-c))/c);if(Ik(u)&&Ik(d)&&Ik(h))return new aa({r:u,g:d,b:h,a:Math.round(c*100)/100}).toRgbString()}return new aa({r:n,g:r,b:i,a:1}).toRgbString()}var fye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function wz(e){const{override:t}=e,n=fye(e,["override"]),r=Object.assign({},t);Object.keys(DS).forEach(h=>{delete r[h]});const i=Object.assign(Object.assign({},n),r),a=480,s=576,o=768,l=992,c=1200,u=1600;if(i.motion===!1){const h="0s";i.motionDurationFast=h,i.motionDurationMid=h,i.motionDurationSlow=h}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:TC(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:TC(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:TC(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:TC(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:o-1,screenMD:o,screenMDMin:o,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new aa("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new aa("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new aa("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var FF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gX={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},dye={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},hye={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},mX=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,a=FF(t,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=wz(s),a&&Object.entries(a).forEach(o=>{let[l,c]=o;const{theme:u}=c,d=FF(c,["theme"]);let h=d;u&&(h=mX(Object.assign(Object.assign({},s),d),{override:d},u)),s[l]=h}),s};function Qu(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=it.useContext(_z),a=`${uye}-${t||""}`,s=n||bz,[o,l,c]=Kve(s,[DS,e],{salt:a,override:r,getComputedToken:mX,formatToken:wz,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:gX,ignore:dye,preserve:hye}});return[s,c,t?l:"",o,i]}const i0={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},uo=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},RO=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),m1=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),pye=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),gye=(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,a=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let o={};return r!==!1&&(o={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},o),s),{[i]:s})}},Pm=(e,t)=>({outline:`${et(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),a0=(e,t)=>({"&:focus-visible":Object.assign({},Pm(e,t))}),vX=e=>({[`.${e}`]:Object.assign(Object.assign({},RO()),{[`.${e} .${e}-icon`]:{display:"block"}})}),Sz=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},a0(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}),{genStyleHooks:no,genComponentStyleHook:mye,genSubStyleComponent:hR}=cye({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=I.useContext(ii);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,i]=Qu();return{theme:e,realToken:t,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:e}=I.useContext(ii);return e??{}},getResetStyles:(e,t)=>{var n;const r=pye(e);return[r,{"&":r},vX((n=t?.prefix.iconPrefixCls)!==null&&n!==void 0?n:xz)]},getCommonStyle:gye,getCompUnitless:()=>gX});function pR(e,t){return cx.reduce((n,r)=>{const i=e[`${r}1`],a=e[`${r}3`],s=e[`${r}6`],o=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:a,darkColor:s,textColor:o}))},{})}const vye=(e,t)=>{const[n,r]=Qu();return PN({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>t?.nonce,layer:{name:"antd"}},()=>[vX(e)])},yye=Object.assign({},nR),{useId:HF}=yye,bye=()=>"",_ye=typeof HF>"u"?bye:HF;function xye(e,t,n){var r;M2();const i=e||{},a=i.inherit===!1||!t?Object.assign(Object.assign({},PE),{hashed:(r=t?.hashed)!==null&&r!==void 0?r:PE.hashed,cssVar:t?.cssVar}):t,s=_ye();return Ax(()=>{var o,l;if(!e)return t;const c=Object.assign({},a.components);Object.keys(e.components||{}).forEach(h=>{c[h]=Object.assign(Object.assign({},c[h]),e.components[h])});const u=`css-var-${s.replace(/:/g,"")}`,d=((o=i.cssVar)!==null&&o!==void 0?o:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n?.prefixCls},typeof a.cssVar=="object"?a.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},a),i),{token:Object.assign(Object.assign({},a.token),i.token),components:c,cssVar:d})},[i,a],(o,l)=>o.some((c,u)=>{const d=l[u];return!n0(c,d,!0)}))}var wye=["children"],yX=I.createContext({});function Sye(e){var t=e.children,n=zr(e,wye);return I.createElement(yX.Provider,{value:n},t)}var Cye=function(e){qr(n,e);var t=v0(n);function n(){return En(this,n),t.apply(this,arguments)}return On(n,[{key:"render",value:function(){return this.props.children}}]),n}(I.Component);function Eye(e){var t=I.useReducer(function(o){return o+1},0),n=mt(t,2),r=n[1],i=I.useRef(e),a=to(function(){return i.current}),s=to(function(o){i.current=typeof o=="function"?o(i.current):o,r()});return[a,s]}var Wb="none",IT="appear",PT="enter",RT="leave",VF="none",vm="prepare",eS="start",tS="active",Cz="end",bX="prepared";function UF(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function Oye(e,t){var n={animationend:UF("Animation","AnimationEnd"),transitionend:UF("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var Tye=Oye(jf(),typeof window<"u"?window:{}),_X={};if(jf()){var Mye=document.createElement("div");_X=Mye.style}var $T={};function xX(e){if($T[e])return $T[e];var t=Tye[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in _X)return $T[e]=t[a],$T[e]}return""}var wX=xX("animationend"),SX=xX("transitionend"),CX=!!(wX&&SX),GF=wX||"animationend",WF=SX||"transitionend";function qF(e,t){if(!e)return null;if(Rr(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const Aye=function(e){var t=I.useRef();function n(i){i&&(i.removeEventListener(WF,e),i.removeEventListener(GF,e))}function r(i){t.current&&t.current!==i&&n(t.current),i&&i!==t.current&&(i.addEventListener(WF,e),i.addEventListener(GF,e),t.current=i)}return I.useEffect(function(){return function(){n(t.current)}},[]),[r,n]};var EX=jf()?I.useLayoutEffect:I.useEffect;const Iye=function(){var e=I.useRef(null);function t(){ja.cancel(e.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var a=ja(function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)});e.current=a}return I.useEffect(function(){return function(){t()}},[]),[n,t]};var Pye=[vm,eS,tS,Cz],Rye=[vm,bX],OX=!1,$ye=!0;function TX(e){return e===tS||e===Cz}const kye=function(e,t,n){var r=$E(VF),i=mt(r,2),a=i[0],s=i[1],o=Iye(),l=mt(o,2),c=l[0],u=l[1];function d(){s(vm,!0)}var h=t?Rye:Pye;return EX(function(){if(a!==VF&&a!==Cz){var g=h.indexOf(a),v=h[g+1],x=n(a);x===OX?s(v,!0):v&&c(function(w){function C(){w.isCanceled()||s(v,!0)}x===!0?C():Promise.resolve(x).then(C)})}},[e,a]),I.useEffect(function(){return function(){u()}},[]),[d,a]};function Lye(e,t,n,r){var i=r.motionEnter,a=i===void 0?!0:i,s=r.motionAppear,o=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,h=r.onAppearPrepare,g=r.onEnterPrepare,v=r.onLeavePrepare,x=r.onAppearStart,w=r.onEnterStart,C=r.onLeaveStart,E=r.onAppearActive,M=r.onEnterActive,R=r.onLeaveActive,L=r.onAppearEnd,N=r.onEnterEnd,D=r.onLeaveEnd,H=r.onVisibleChanged,U=$E(),q=mt(U,2),K=q[0],Q=q[1],X=Eye(Wb),te=mt(X,2),ee=te[0],Z=te[1],re=$E(null),oe=mt(re,2),ce=oe[0],le=oe[1],pe=ee(),ye=I.useRef(!1),_e=I.useRef(null);function Se(){return n()}var Re=I.useRef(!1);function je(){Z(Wb),le(null,!0)}var Fe=to(function(xt){var Ft=ee();if(Ft!==Wb){var Lt=Se();if(!(xt&&!xt.deadline&&xt.target!==Lt)){var Kt=Re.current,hn;Ft===IT&&Kt?hn=L?.(Lt,xt):Ft===PT&&Kt?hn=N?.(Lt,xt):Ft===RT&&Kt&&(hn=D?.(Lt,xt)),Kt&&hn!==!1&&je()}}}),ze=Aye(Fe),Ze=mt(ze,1),st=Ze[0],Ue=function(Ft){switch(Ft){case IT:return Te(Te(Te({},vm,h),eS,x),tS,E);case PT:return Te(Te(Te({},vm,g),eS,w),tS,M);case RT:return Te(Te(Te({},vm,v),eS,C),tS,R);default:return{}}},Ne=I.useMemo(function(){return Ue(pe)},[pe]),qe=kye(pe,!e,function(xt){if(xt===vm){var Ft=Ne[vm];return Ft?Ft(Se()):OX}if(ht in Ne){var Lt;le(((Lt=Ne[ht])===null||Lt===void 0?void 0:Lt.call(Ne,Se(),null))||null)}return ht===tS&&pe!==Wb&&(st(Se()),u>0&&(clearTimeout(_e.current),_e.current=setTimeout(function(){Fe({deadline:!0})},u))),ht===bX&&je(),$ye}),We=mt(qe,2),rt=We[0],ht=We[1],ft=TX(ht);Re.current=ft;var Rt=I.useRef(null);EX(function(){if(!(ye.current&&Rt.current===t)){Q(t);var xt=ye.current;ye.current=!0;var Ft;!xt&&t&&o&&(Ft=IT),xt&&t&&a&&(Ft=PT),(xt&&!t&&c||!xt&&d&&!t&&c)&&(Ft=RT);var Lt=Ue(Ft);Ft&&(e||Lt[vm])?(Z(Ft),rt()):Z(Wb),Rt.current=t}},[t]),I.useEffect(function(){(pe===IT&&!o||pe===PT&&!a||pe===RT&&!c)&&Z(Wb)},[o,a,c]),I.useEffect(function(){return function(){ye.current=!1,clearTimeout(_e.current)}},[]);var Yt=I.useRef(!1);I.useEffect(function(){K&&(Yt.current=!0),K!==void 0&&pe===Wb&&((Yt.current||K)&&H?.(K),Yt.current=!0)},[K,pe]);var Jt=ce;return Ne[vm]&&ht===eS&&(Jt=Pe({transition:"none"},Jt)),[pe,ht,Jt,K??t]}function Nye(e){var t=e;Rr(e)==="object"&&(t=e.transitionSupport);function n(i,a){return!!(i.motionName&&t&&a!==!1)}var r=I.forwardRef(function(i,a){var s=i.visible,o=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,h=i.motionName,g=i.leavedClassName,v=i.eventProps,x=I.useContext(yX),w=x.motion,C=n(i,w),E=I.useRef(),M=I.useRef();function R(){try{return E.current instanceof HTMLElement?E.current:KM(M.current)}catch{return null}}var L=Lye(C,o,R,i),N=mt(L,4),D=N[0],H=N[1],U=N[2],q=N[3],K=I.useRef(q);q&&(K.current=!0);var Q=I.useCallback(function(oe){E.current=oe,OE(a,oe)},[a]),X,te=Pe(Pe({},v),{},{visible:o});if(!d)X=null;else if(D===Wb)q?X=d(Pe({},te),Q):!c&&K.current&&g?X=d(Pe(Pe({},te),{},{className:g}),Q):u||!c&&!g?X=d(Pe(Pe({},te),{},{style:{display:"none"}}),Q):X=null;else{var ee;H===vm?ee="prepare":TX(H)?ee="active":H===eS&&(ee="start");var Z=qF(h,"".concat(D,"-").concat(ee));X=d(Pe(Pe({},te),{},{className:ut(qF(h,D),Te(Te({},Z,Z&&ee),h,typeof h=="string")),style:U}),Q)}if(I.isValidElement(X)&&t0(X)){var re=Ix(X);re||(X=I.cloneElement(X,{ref:Q}))}return I.createElement(Cye,{ref:M},X)});return r.displayName="CSSMotion",r}const wg=Nye(CX);var GN="add",WN="keep",qN="remove",Pk="removed";function Dye(e){var t;return e&&Rr(e)==="object"&&"key"in e?t=e:t={key:e},Pe(Pe({},t),{},{key:String(t.key)})}function KN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Dye)}function zye(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=t.length,a=KN(e),s=KN(t);a.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var h=s[d];if(h.key===c.key){r<d&&(n=n.concat(s.slice(r,d).map(function(g){return Pe(Pe({},g),{},{status:GN})})),r=d),n.push(Pe(Pe({},h),{},{status:WN})),r+=1,u=!0;break}}u||n.push(Pe(Pe({},c),{},{status:qN}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return Pe(Pe({},c),{},{status:GN})})));var o={};n.forEach(function(c){var u=c.key;o[u]=(o[u]||0)+1});var l=Object.keys(o).filter(function(c){return o[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,h=u.status;return d!==c||h!==qN}),n.forEach(function(u){u.key===c&&(u.status=WN)})}),n}var Bye=["component","children","onVisibleChanged","onAllRemoved"],jye=["status"],Fye=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Hye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg,n=function(r){qr(a,r);var i=v0(a);function a(){var s;En(this,a);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),Te(Or(s),"state",{keyEntities:[]}),Te(Or(s),"removeKey",function(u){s.setState(function(d){var h=d.keyEntities.map(function(g){return g.key!==u?g:Pe(Pe({},g),{},{status:Pk})});return{keyEntities:h}},function(){var d=s.state.keyEntities,h=d.filter(function(g){var v=g.status;return v!==Pk}).length;h===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return On(a,[{key:"render",value:function(){var o=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,h=c.onVisibleChanged;c.onAllRemoved;var g=zr(c,Bye),v=u||I.Fragment,x={};return Fye.forEach(function(w){x[w]=g[w],delete g[w]}),delete g.keys,I.createElement(v,g,l.map(function(w,C){var E=w.status,M=zr(w,jye),R=E===GN||E===WN;return I.createElement(t,In({},x,{key:M.key,visible:R,eventProps:M,onVisibleChanged:function(N){h?.(N,{key:M.key}),N||o.removeKey(M.key)}}),function(L,N){return d(Pe(Pe({},L),{},{index:C}),N)})}))}}],[{key:"getDerivedStateFromProps",value:function(o,l){var c=o.keys,u=l.keyEntities,d=KN(c),h=zye(u,d);return{keyEntities:h.filter(function(g){var v=u.find(function(x){var w=x.key;return g.key===w});return!(v&&v.status===Pk&&g.status===qN)})}}}]),a}(I.Component);return Te(n,"defaultProps",{component:"div"}),n}Hye(CX);function Vye(e){const{children:t}=e,[,n]=Qu(),{motion:r}=n,i=I.useRef(!1);return i.current=i.current||r===!1,i.current?I.createElement(Sye,{motion:r},t):t}const Uye=()=>null;var Gye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Wye=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let MX;function qye(){return MX||RE}function Kye(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const Yye=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:i}=e;t!==void 0&&(MX=t),r&&Kye(r)&&K0e(qye(),r)},Xye=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:a,form:s,locale:o,componentSize:l,direction:c,space:u,splitter:d,virtual:h,dropdownMatchSelectWidth:g,popupMatchSelectWidth:v,popupOverflow:x,legacyLocale:w,parentContext:C,iconPrefixCls:E,theme:M,componentDisabled:R,segmented:L,statistic:N,spin:D,calendar:H,carousel:U,cascader:q,collapse:K,typography:Q,checkbox:X,descriptions:te,divider:ee,drawer:Z,skeleton:re,steps:oe,image:ce,layout:le,list:pe,mentions:ye,modal:_e,progress:Se,result:Re,slider:je,breadcrumb:Fe,menu:ze,pagination:Ze,input:st,textArea:Ue,empty:Ne,badge:qe,radio:We,rate:rt,switch:ht,transfer:ft,avatar:Rt,message:Yt,tag:Jt,table:xt,card:Ft,tabs:Lt,timeline:Kt,timePicker:hn,upload:dn,notification:Cn,tree:kn,colorPicker:sn,datePicker:un,rangePicker:gn,flex:Qt,wave:Ln,dropdown:Gt,warning:He,tour:be,tooltip:we,popover:xe,popconfirm:Ye,floatButtonGroup:lt,variant:ct,inputNumber:_t,treeSelect:yt}=e,jt=I.useCallback((ln,rn)=>{const{prefixCls:Tn}=e;if(rn)return rn;const Un=Tn||C.getPrefixCls("");return ln?`${Un}-${ln}`:Un},[C.getPrefixCls,e.prefixCls]),$t=E||C.iconPrefixCls||xz,vt=n||C.csp;vye($t,vt);const It=xye(M,C.theme,{prefixCls:jt("")}),zt={csp:vt,autoInsertSpaceInButton:r,alert:i,anchor:a,locale:o||w,direction:c,space:u,splitter:d,virtual:h,popupMatchSelectWidth:v??g,popupOverflow:x,getPrefixCls:jt,iconPrefixCls:$t,theme:It,segmented:L,statistic:N,spin:D,calendar:H,carousel:U,cascader:q,collapse:K,typography:Q,checkbox:X,descriptions:te,divider:ee,drawer:Z,skeleton:re,steps:oe,image:ce,input:st,textArea:Ue,layout:le,list:pe,mentions:ye,modal:_e,progress:Se,result:Re,slider:je,breadcrumb:Fe,menu:ze,pagination:Ze,empty:Ne,badge:qe,radio:We,rate:rt,switch:ht,transfer:ft,avatar:Rt,message:Yt,tag:Jt,table:xt,card:Ft,tabs:Lt,timeline:Kt,timePicker:hn,upload:dn,notification:Cn,tree:kn,colorPicker:sn,datePicker:un,rangePicker:gn,flex:Qt,wave:Ln,dropdown:Gt,warning:He,tour:be,tooltip:we,popover:xe,popconfirm:Ye,floatButtonGroup:lt,variant:ct,inputNumber:_t,treeSelect:yt},Dt=Object.assign({},C);Object.keys(zt).forEach(ln=>{zt[ln]!==void 0&&(Dt[ln]=zt[ln])}),Wye.forEach(ln=>{const rn=e[ln];rn&&(Dt[ln]=rn)}),typeof r<"u"&&(Dt.button=Object.assign({autoInsertSpace:r},Dt.button));const Tt=Ax(()=>Dt,Dt,(ln,rn)=>{const Tn=Object.keys(ln),Un=Object.keys(rn);return Tn.length!==Un.length||Tn.some(ir=>ln[ir]!==rn[ir])}),{layer:xn}=I.useContext(IO),Bt=I.useMemo(()=>({prefixCls:$t,csp:vt,layer:xn?"antd":void 0}),[$t,vt,xn]);let nn=I.createElement(I.Fragment,null,I.createElement(Uye,{dropdownMatchSelectWidth:g}),t);const Fn=I.useMemo(()=>{var ln,rn,Tn,Un;return Jw(((ln=lx.Form)===null||ln===void 0?void 0:ln.defaultValidateMessages)||{},((Tn=(rn=Tt.locale)===null||rn===void 0?void 0:rn.Form)===null||Tn===void 0?void 0:Tn.defaultValidateMessages)||{},((Un=Tt.form)===null||Un===void 0?void 0:Un.validateMessages)||{},s?.validateMessages||{})},[Tt,s?.validateMessages]);Object.keys(Fn).length>0&&(nn=I.createElement(M0e.Provider,{value:Fn},nn)),o&&(nn=I.createElement($0e,{locale:o,_ANT_MARK__:R0e},nn)),nn=I.createElement(fR.Provider,{value:Bt},nn),l&&(nn=I.createElement(X0e,{size:l},nn)),nn=I.createElement(Vye,null,nn);const Ht=I.useMemo(()=>{const ln=It||{},{algorithm:rn,token:Tn,components:Un,cssVar:ir}=ln,Dn=Gye(ln,["algorithm","token","components","cssVar"]),Er=rn&&(!Array.isArray(rn)||rn.length>0)?FA(rn):bz,Cr={};Object.entries(Un||{}).forEach(Zr=>{let[li,Kr]=Zr;const $n=Object.assign({},Kr);"algorithm"in $n&&($n.algorithm===!0?$n.theme=Er:(Array.isArray($n.algorithm)||typeof $n.algorithm=="function")&&($n.theme=FA($n.algorithm)),delete $n.algorithm),Cr[li]=$n});const $r=Object.assign(Object.assign({},DS),Tn);return Object.assign(Object.assign({},Dn),{theme:Er,token:$r,components:Cr,override:Object.assign({override:$r},Cr),cssVar:ir})},[It]);return M&&(nn=I.createElement(_z.Provider,{value:Ht},nn)),Tt.warning&&(nn=I.createElement(T0e.Provider,{value:Tt.warning},nn)),R!==void 0&&(nn=I.createElement(Y0e,{disabled:R},nn)),I.createElement(ii.Provider,{value:Tt},nn)},Zy=e=>{const t=I.useContext(ii),n=I.useContext(vz);return I.createElement(Xye,Object.assign({parentContext:t,legacyLocale:n},e))};Zy.ConfigContext=ii;Zy.SizeContext=BS;Zy.config=Yye;Zy.useConfig=Z0e;Object.defineProperty(Zy,"SizeContext",{get:()=>BS});var kT=2,KF=.16,Zye=.05,Qye=.05,Jye=.15,AX=5,IX=4,ebe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function YF(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-kT*t:Math.round(e.h)+kT*t:r=n?Math.round(e.h)+kT*t:Math.round(e.h)-kT*t,r<0?r+=360:r>=360&&(r-=360),r}function XF(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-KF*t:t===IX?r=e.s+KF:r=e.s+Zye*t,r>1&&(r=1),n&&t===AX&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function ZF(e,t,n){var r;return n?r=e.v+Qye*t:r=e.v-Jye*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function tbe(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new aa(e),i=r.toHsv(),a=AX;a>0;a-=1){var s=new aa({h:YF(i,a,!0),s:XF(i,a,!0),v:ZF(i,a,!0)});n.push(s)}n.push(r);for(var o=1;o<=IX;o+=1){var l=new aa({h:YF(i,o),s:XF(i,o),v:ZF(i,o)});n.push(l)}return t.theme==="dark"?ebe.map(function(c){var u=c.index,d=c.amount;return new aa(t.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var YN=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];YN.primary=YN[5];function PX(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function nbe(e){return PX(e)instanceof ShadowRoot}function UA(e){return nbe(e)?PX(e):null}function rbe(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function XN(e,t){vl(e,"[@ant-design/icons] ".concat(t))}function QF(e){return Rr(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Rr(e.icon)==="object"||typeof e.icon=="function")}function JF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[rbe(n)]=r}return t},{})}function ZN(e,t,n){return n?it.createElement(e.tag,Pe(Pe({key:t},JF(e.attrs)),n),(e.children||[]).map(function(r,i){return ZN(r,"".concat(t,"-").concat(e.tag,"-").concat(i))})):it.createElement(e.tag,Pe({key:t},JF(e.attrs)),(e.children||[]).map(function(r,i){return ZN(r,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function RX(e){return tbe(e)[0]}function $X(e){return e?Array.isArray(e)?e:[e]:[]}var ibe={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},abe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,kX=function(t){var n=I.useContext(fR),r=n.csp,i=n.prefixCls,a=n.layer,s=abe;i&&(s=s.replace(/anticon/g,i)),a&&(s="@layer ".concat(a,` {
`).concat(s,`
}`)),I.useEffect(function(){var o=t.current,l=UA(o);Ny(s,"@ant-design-icons",{prepend:!a,csp:r,attachTo:l})},[])},obe=["icon","className","onClick","style","primaryColor","secondaryColor"],nE={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function sbe(e){var t=e.primaryColor,n=e.secondaryColor;nE.primaryColor=t,nE.secondaryColor=n||RX(t),nE.calculated=!!n}function lbe(){return Pe({},nE)}var A2=function(t){var n=t.icon,r=t.className,i=t.onClick,a=t.style,s=t.primaryColor,o=t.secondaryColor,l=zr(t,obe),c=I.useRef(),u=nE;if(s&&(u={primaryColor:s,secondaryColor:o||RX(s)}),kX(c),XN(QF(n),"icon should be icon definiton, but got ".concat(n)),!QF(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=Pe(Pe({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),ZN(d.icon,"svg-".concat(d.name),Pe(Pe({className:r,onClick:i,style:a,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};A2.displayName="IconReact";A2.getTwoToneColors=lbe;A2.setTwoToneColors=sbe;function LX(e){var t=$X(e),n=mt(t,2),r=n[0],i=n[1];return A2.setTwoToneColors({primaryColor:r,secondaryColor:i})}function cbe(){var e=A2.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var ube=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];LX(YN.primary);var $a=I.forwardRef(function(e,t){var n=e.className,r=e.icon,i=e.spin,a=e.rotate,s=e.tabIndex,o=e.onClick,l=e.twoToneColor,c=zr(e,ube),u=I.useContext(fR),d=u.prefixCls,h=d===void 0?"anticon":d,g=u.rootClassName,v=ut(g,h,Te(Te({},"".concat(h,"-").concat(r.name),!!r.name),"".concat(h,"-spin"),!!i||r.name==="loading"),n),x=s;x===void 0&&o&&(x=-1);var w=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,C=$X(l),E=mt(C,2),M=E[0],R=E[1];return I.createElement("span",In({role:"img","aria-label":r.name},c,{ref:t,tabIndex:x,onClick:o,className:v}),I.createElement(A2,{icon:r,primaryColor:M,secondaryColor:R,style:w}))});$a.displayName="AntdIcon";$a.getTwoToneColor=cbe;$a.setTwoToneColor=LX;var fbe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},dbe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:fbe}))},NX=I.forwardRef(dbe),hbe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},pbe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:hbe}))},$O=I.forwardRef(pbe),gbe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,mbe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,vbe="".concat(gbe," ").concat(mbe).split(/[\s\n]+/),ybe="aria-",bbe="data-";function e7(e,t){return e.indexOf(t)===0}function gg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=Pe({},t);var r={};return Object.keys(e).forEach(function(i){(n.aria&&(i==="role"||e7(i,ybe))||n.data&&e7(i,bbe)||n.attr&&vbe.includes(i))&&(r[i]=e[i])}),r}function DX(e){return e&&it.isValidElement(e)&&e.type===it.Fragment}const zX=(e,t,n)=>it.isValidElement(e)?it.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function hh(e,t){return zX(e,e,t)}function ea(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}function QN(e){return e!=null&&e===e.window}const BX=e=>{var t,n;if(typeof window>"u")return 0;let r=0;return QN(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!QN(e)&&typeof r!="number"&&(r=(n=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function _be(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function jX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:i=450}=t,a=n(),s=BX(a),o=Date.now(),l=()=>{const u=Date.now()-o,d=_be(u>i?i:u,s,e,i);QN(a)?a.scrollTo(window.pageXOffset,d):a instanceof Document||a.constructor.name==="HTMLDocument"?a.documentElement.scrollTop=d:a.scrollTop=d,u<i?ja(l):typeof r=="function"&&r()};ja(l)}const vh=e=>{const[,,,,t]=Qu();return t?`${e}-css-var`:""};var mr={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},xbe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},wbe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:xbe}))},I2=I.forwardRef(wbe);const Ez=it.createContext(void 0),I_=100,FX={Modal:I_,Drawer:I_,Popover:I_,Popconfirm:I_,Tooltip:I_,Tour:I_,FloatButton:I_},Sbe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Cbe(e){return e in FX}const P2=(e,t)=>{const[,n]=Qu(),r=it.useContext(Ez),i=Cbe(e);let a;if(t!==void 0)a=[t,t];else{let s=r??0;i?s+=(r?0:n.zIndexPopupBase)+FX[e]:s+=Sbe[e],a=[r===void 0?t:s,s]}return a};function Vo(){Vo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(Z,re,oe){Z[re]=oe.value},a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(Z,re,oe){return Object.defineProperty(Z,re,{value:oe,enumerable:!0,configurable:!0,writable:!0}),Z[re]}try{c({},"")}catch{c=function(oe,ce,le){return oe[ce]=le}}function u(Z,re,oe,ce){var le=re&&re.prototype instanceof C?re:C,pe=Object.create(le.prototype),ye=new te(ce||[]);return i(pe,"_invoke",{value:q(Z,oe,ye)}),pe}function d(Z,re,oe){try{return{type:"normal",arg:Z.call(re,oe)}}catch(ce){return{type:"throw",arg:ce}}}t.wrap=u;var h="suspendedStart",g="suspendedYield",v="executing",x="completed",w={};function C(){}function E(){}function M(){}var R={};c(R,s,function(){return this});var L=Object.getPrototypeOf,N=L&&L(L(ee([])));N&&N!==n&&r.call(N,s)&&(R=N);var D=M.prototype=C.prototype=Object.create(R);function H(Z){["next","throw","return"].forEach(function(re){c(Z,re,function(oe){return this._invoke(re,oe)})})}function U(Z,re){function oe(le,pe,ye,_e){var Se=d(Z[le],Z,pe);if(Se.type!=="throw"){var Re=Se.arg,je=Re.value;return je&&Rr(je)=="object"&&r.call(je,"__await")?re.resolve(je.__await).then(function(Fe){oe("next",Fe,ye,_e)},function(Fe){oe("throw",Fe,ye,_e)}):re.resolve(je).then(function(Fe){Re.value=Fe,ye(Re)},function(Fe){return oe("throw",Fe,ye,_e)})}_e(Se.arg)}var ce;i(this,"_invoke",{value:function(pe,ye){function _e(){return new re(function(Se,Re){oe(pe,ye,Se,Re)})}return ce=ce?ce.then(_e,_e):_e()}})}function q(Z,re,oe){var ce=h;return function(le,pe){if(ce===v)throw Error("Generator is already running");if(ce===x){if(le==="throw")throw pe;return{value:e,done:!0}}for(oe.method=le,oe.arg=pe;;){var ye=oe.delegate;if(ye){var _e=K(ye,oe);if(_e){if(_e===w)continue;return _e}}if(oe.method==="next")oe.sent=oe._sent=oe.arg;else if(oe.method==="throw"){if(ce===h)throw ce=x,oe.arg;oe.dispatchException(oe.arg)}else oe.method==="return"&&oe.abrupt("return",oe.arg);ce=v;var Se=d(Z,re,oe);if(Se.type==="normal"){if(ce=oe.done?x:g,Se.arg===w)continue;return{value:Se.arg,done:oe.done}}Se.type==="throw"&&(ce=x,oe.method="throw",oe.arg=Se.arg)}}}function K(Z,re){var oe=re.method,ce=Z.iterator[oe];if(ce===e)return re.delegate=null,oe==="throw"&&Z.iterator.return&&(re.method="return",re.arg=e,K(Z,re),re.method==="throw")||oe!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+oe+"' method")),w;var le=d(ce,Z.iterator,re.arg);if(le.type==="throw")return re.method="throw",re.arg=le.arg,re.delegate=null,w;var pe=le.arg;return pe?pe.done?(re[Z.resultName]=pe.value,re.next=Z.nextLoc,re.method!=="return"&&(re.method="next",re.arg=e),re.delegate=null,w):pe:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,w)}function Q(Z){var re={tryLoc:Z[0]};1 in Z&&(re.catchLoc=Z[1]),2 in Z&&(re.finallyLoc=Z[2],re.afterLoc=Z[3]),this.tryEntries.push(re)}function X(Z){var re=Z.completion||{};re.type="normal",delete re.arg,Z.completion=re}function te(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(Q,this),this.reset(!0)}function ee(Z){if(Z||Z===""){var re=Z[s];if(re)return re.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var oe=-1,ce=function le(){for(;++oe<Z.length;)if(r.call(Z,oe))return le.value=Z[oe],le.done=!1,le;return le.value=e,le.done=!0,le};return ce.next=ce}}throw new TypeError(Rr(Z)+" is not iterable")}return E.prototype=M,i(D,"constructor",{value:M,configurable:!0}),i(M,"constructor",{value:E,configurable:!0}),E.displayName=c(M,l,"GeneratorFunction"),t.isGeneratorFunction=function(Z){var re=typeof Z=="function"&&Z.constructor;return!!re&&(re===E||(re.displayName||re.name)==="GeneratorFunction")},t.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,M):(Z.__proto__=M,c(Z,l,"GeneratorFunction")),Z.prototype=Object.create(D),Z},t.awrap=function(Z){return{__await:Z}},H(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(Z,re,oe,ce,le){le===void 0&&(le=Promise);var pe=new U(u(Z,re,oe,ce),le);return t.isGeneratorFunction(re)?pe:pe.next().then(function(ye){return ye.done?ye.value:pe.next()})},H(D),c(D,l,"Generator"),c(D,s,function(){return this}),c(D,"toString",function(){return"[object Generator]"}),t.keys=function(Z){var re=Object(Z),oe=[];for(var ce in re)oe.push(ce);return oe.reverse(),function le(){for(;oe.length;){var pe=oe.pop();if(pe in re)return le.value=pe,le.done=!1,le}return le.done=!0,le}},t.values=ee,te.prototype={constructor:te,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(X),!re)for(var oe in this)oe.charAt(0)==="t"&&r.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=e)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var oe=this;function ce(Re,je){return ye.type="throw",ye.arg=re,oe.next=Re,je&&(oe.method="next",oe.arg=e),!!je}for(var le=this.tryEntries.length-1;le>=0;--le){var pe=this.tryEntries[le],ye=pe.completion;if(pe.tryLoc==="root")return ce("end");if(pe.tryLoc<=this.prev){var _e=r.call(pe,"catchLoc"),Se=r.call(pe,"finallyLoc");if(_e&&Se){if(this.prev<pe.catchLoc)return ce(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return ce(pe.finallyLoc)}else if(_e){if(this.prev<pe.catchLoc)return ce(pe.catchLoc,!0)}else{if(!Se)throw Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return ce(pe.finallyLoc)}}}},abrupt:function(re,oe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var le=this.tryEntries[ce];if(le.tryLoc<=this.prev&&r.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var pe=le;break}}pe&&(re==="break"||re==="continue")&&pe.tryLoc<=oe&&oe<=pe.finallyLoc&&(pe=null);var ye=pe?pe.completion:{};return ye.type=re,ye.arg=oe,pe?(this.method="next",this.next=pe.finallyLoc,w):this.complete(ye)},complete:function(re,oe){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&oe&&(this.next=oe),w},finish:function(re){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ce=this.tryEntries[oe];if(ce.finallyLoc===re)return this.complete(ce.completion,ce.afterLoc),X(ce),w}},catch:function(re){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ce=this.tryEntries[oe];if(ce.tryLoc===re){var le=ce.completion;if(le.type==="throw"){var pe=le.arg;X(ce)}return pe}}throw Error("illegal catch attempt")},delegateYield:function(re,oe,ce){return this.delegate={iterator:ee(re),resultName:oe,nextLoc:ce},this.method==="next"&&(this.arg=e),w}},t}function t7(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function Cd(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(l){t7(a,r,i,s,o,"next",l)}function o(l){t7(a,r,i,s,o,"throw",l)}s(void 0)})}}var kO=Pe({},CY),Ebe=kO.version,Rk=kO.render,Obe=kO.unmountComponentAtNode,gR;try{var Tbe=Number((Ebe||"").split(".")[0]);Tbe>=18&&(gR=kO.createRoot)}catch{}function n7(e){var t=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Rr(t)==="object"&&(t.usingClientEntryPoint=e)}var GA="__rc_react_root__";function Mbe(e,t){n7(!0);var n=t[GA]||gR(t);n7(!1),n.render(e),t[GA]=n}function Abe(e,t){Rk?.(e,t)}function Ibe(e,t){if(gR){Mbe(e,t);return}Abe(e,t)}function Pbe(e){return JN.apply(this,arguments)}function JN(){return JN=Cd(Vo().mark(function e(t){return Vo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=t[GA])===null||i===void 0||i.unmount(),delete t[GA]}));case 1:case"end":return r.stop()}},e)})),JN.apply(this,arguments)}function Rbe(e){Obe(e)}function $be(e){return eD.apply(this,arguments)}function eD(){return eD=Cd(Vo().mark(function e(t){return Vo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(gR===void 0){r.next=2;break}return r.abrupt("return",Pbe(t));case 2:Rbe(t);case 3:case"end":return r.stop()}},e)})),eD.apply(this,arguments)}const kbe=(e,t)=>(Ibe(e,t),()=>$be(t));let Lbe=kbe;function Nbe(){return Lbe}const $k=()=>({height:0,opacity:0}),r7=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Dbe=e=>({height:e?e.offsetHeight:0}),kk=(e,t)=>t?.deadline===!0||t.propertyName==="height",HX=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:RE}-motion-collapse`,onAppearStart:$k,onEnterStart:$k,onAppearActive:r7,onEnterActive:r7,onLeaveStart:Dbe,onLeaveActive:$k,onAppearEnd:kk,onEnterEnd:kk,onLeaveEnd:kk,motionDeadline:500}},Oz=(e,t,n)=>n!==void 0?n:`${e}-${t}`;function rl(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}const mR=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,s=i.height;if(a||s)return!0}}return!1},zbe=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},Bbe=mye("Wave",e=>[zbe(e)]),vR=`${RE}-wave-target`;function Lk(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function jbe(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return Lk(t)?t:Lk(n)?n:Lk(r)?r:null}function Nk(e){return Number.isNaN(e)?0:e}const Fbe=e=>{const{className:t,target:n,component:r,registerUnmount:i}=e,a=I.useRef(null),s=I.useRef(null);I.useEffect(()=>{s.current=i()},[]);const[o,l]=I.useState(null),[c,u]=I.useState([]),[d,h]=I.useState(0),[g,v]=I.useState(0),[x,w]=I.useState(0),[C,E]=I.useState(0),[M,R]=I.useState(!1),L={left:d,top:g,width:x,height:C,borderRadius:c.map(H=>`${H}px`).join(" ")};o&&(L["--wave-color"]=o);function N(){const H=getComputedStyle(n);l(jbe(n));const U=H.position==="static",{borderLeftWidth:q,borderTopWidth:K}=H;h(U?n.offsetLeft:Nk(-parseFloat(q))),v(U?n.offsetTop:Nk(-parseFloat(K))),w(n.offsetWidth),E(n.offsetHeight);const{borderTopLeftRadius:Q,borderTopRightRadius:X,borderBottomLeftRadius:te,borderBottomRightRadius:ee}=H;u([Q,X,ee,te].map(Z=>Nk(parseFloat(Z))))}if(I.useEffect(()=>{if(n){const H=ja(()=>{N(),R(!0)});let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(N),U.observe(n)),()=>{ja.cancel(H),U?.disconnect()}}},[]),!M)return null;const D=(r==="Checkbox"||r==="Radio")&&n?.classList.contains(vR);return I.createElement(wg,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(H,U)=>{var q,K;if(U.deadline||U.propertyName==="opacity"){const Q=(q=a.current)===null||q===void 0?void 0:q.parentElement;(K=s.current)===null||K===void 0||K.call(s).then(()=>{Q?.remove()})}return!1}},(H,U)=>{let{className:q}=H;return I.createElement("div",{ref:Ed(a,U),className:ut(t,q,{"wave-quick":D}),style:L})})},Hbe=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",e?.insertBefore(i,e?.firstChild);const a=Nbe();let s=null;function o(){return s}s=a(I.createElement(Fbe,Object.assign({},t,{target:e,registerUnmount:o})),i)},Vbe=(e,t,n)=>{const{wave:r}=I.useContext(ii),[,i,a]=Qu(),s=to(c=>{const u=e.current;if(r?.disabled||!u)return;const d=u.querySelector(`.${vR}`)||u,{showEffect:h}=r||{};(h||Hbe)(d,{className:t,token:i,component:n,event:c,hashId:a})}),o=I.useRef(null);return c=>{ja.cancel(o.current),o.current=ja(()=>{s(c)})}},LO=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:i}=I.useContext(ii),a=I.useRef(null),s=i("wave"),[,o]=Bbe(s),l=Vbe(a,ut(s,o),r);if(it.useEffect(()=>{const u=a.current;if(!u||u.nodeType!==1||n)return;const d=h=>{!mR(h.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(h)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!it.isValidElement(t))return t??null;const c=t0(t)?Ed(Ix(t),a):a;return hh(t,{ref:c})},mp=e=>{const t=it.useContext(BS);return it.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},Ube=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Gbe=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Wbe=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},VX=no("Space",e=>{const t=ga(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[Gbe(t),Wbe(t),Ube(t)]},()=>({}),{resetStyle:!1});var UX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yR=I.createContext(null),NO=(e,t)=>{const n=I.useContext(yR),r=I.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:a,isLastItem:s}=n,o=i==="vertical"?"-vertical-":"-";return ut(`${e}-compact${o}item`,{[`${e}-compact${o}first-item`]:a,[`${e}-compact${o}last-item`]:s,[`${e}-compact${o}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n?.compactSize,compactDirection:n?.compactDirection,compactItemClassnames:r}},qbe=e=>{const{children:t}=e;return I.createElement(yR.Provider,{value:null},t)},Kbe=e=>{const{children:t}=e,n=UX(e,["children"]);return I.createElement(yR.Provider,{value:I.useMemo(()=>n,[n])},t)},Ybe=e=>{const{getPrefixCls:t,direction:n}=I.useContext(ii),{size:r,direction:i,block:a,prefixCls:s,className:o,rootClassName:l,children:c}=e,u=UX(e,["size","direction","block","prefixCls","className","rootClassName","children"]),d=mp(M=>r??M),h=t("space-compact",s),[g,v]=VX(h),x=ut(h,v,{[`${h}-rtl`]:n==="rtl",[`${h}-block`]:a,[`${h}-vertical`]:i==="vertical"},o,l),w=I.useContext(yR),C=Xu(c),E=I.useMemo(()=>C.map((M,R)=>{const L=M?.key||`${h}-item-${R}`;return I.createElement(Kbe,{key:L,compactSize:d,compactDirection:i,isFirstItem:R===0&&(!w||w?.isFirstItem),isLastItem:R===C.length-1&&(!w||w?.isLastItem)},M)}),[r,C,w]);return C.length===0?null:g(I.createElement("div",Object.assign({className:x},u),E))};var Xbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const GX=I.createContext(void 0),Zbe=e=>{const{getPrefixCls:t,direction:n}=I.useContext(ii),{prefixCls:r,size:i,className:a}=e,s=Xbe(e,["prefixCls","size","className"]),o=t("btn-group",r),[,,l]=Qu(),c=I.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),u=ut(o,{[`${o}-${c}`]:c,[`${o}-rtl`]:n==="rtl"},a,l);return I.createElement(GX.Provider,{value:i},I.createElement("div",Object.assign({},s,{className:u})))},i7=/^[\u4E00-\u9FA5]{2}$/,tD=i7.test.bind(i7);function a7(e){return typeof e=="string"}function Dk(e){return e==="text"||e==="link"}function Qbe(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&a7(e.type)&&tD(e.props.children)?hh(e,{children:e.props.children.split("").join(n)}):a7(e)?tD(e)?it.createElement("span",null,e.split("").join(n)):it.createElement("span",null,e):DX(e)?it.createElement("span",null,e):e}function Jbe(e,t){let n=!1;const r=[];return it.Children.forEach(e,i=>{const a=typeof i,s=a==="string"||a==="number";if(n&&s){const o=r.length-1,l=r[o];r[o]=`${l}${i}`}else r.push(i);n=s}),it.Children.map(r,i=>Qbe(i,t))}["default","primary","danger"].concat(_n(cx));const nD=I.forwardRef((e,t)=>{const{className:n,style:r,children:i,prefixCls:a}=e,s=ut(`${a}-icon`,n);return it.createElement("span",{ref:t,className:s,style:r},i)}),o7=I.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:i,iconClassName:a}=e,s=ut(`${n}-loading-icon`,r);return it.createElement(nD,{prefixCls:n,className:s,style:i,ref:t},it.createElement(I2,{className:a}))}),zk=()=>({width:0,opacity:0,transform:"scale(0)"}),Bk=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),e1e=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:a,mount:s}=e,o=!!n;return r?it.createElement(o7,{prefixCls:t,className:i,style:a}):it.createElement(wg,{visible:o,motionName:`${t}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:zk,onAppearActive:Bk,onEnterStart:zk,onEnterActive:Bk,onLeaveStart:Bk,onLeaveActive:zk},(l,c)=>{let{className:u,style:d}=l;const h=Object.assign(Object.assign({},a),d);return it.createElement(o7,{prefixCls:t,className:ut(i,u),style:h,ref:c})})},s7=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),t1e=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:a}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},s7(`${t}-primary`,i),s7(`${t}-danger`,a)]}};var n1e=["b"],r1e=["v"],jk=function(t){return Math.round(Number(t||0))},i1e=function(t){if(t instanceof aa)return t;if(t&&Rr(t)==="object"&&"h"in t&&"b"in t){var n=t,r=n.b,i=zr(n,n1e);return Pe(Pe({},i),{},{v:r})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},kE=function(e){qr(n,e);var t=v0(n);function n(r){return En(this,n),t.call(this,i1e(r))}return On(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),a=jk(i.s*100),s=jk(i.b*100),o=jk(i.h),l=i.a,c="hsb(".concat(o,", ").concat(a,"%, ").concat(s,"%)"),u="hsba(".concat(o,", ").concat(a,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),a=i.v,s=zr(i,r1e);return Pe(Pe({},s),{},{b:a,a:this.a})}}]),n}(aa),a1e=function(t){return t instanceof kE?t:new kE(t)};a1e("#1677ff");const o1e=(e,t)=>e?.replace(/[^\w/]/g,"").slice(0,t?8:6)||"",s1e=(e,t)=>e?o1e(e,t):"";let l1e=function(){function e(t){En(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(i=>({color:new e(i.color),percent:i.percent})),this.cleared=t.cleared;return}const r=Array.isArray(t);r&&t.length?(this.colors=t.map(i=>{let{color:a,percent:s}=i;return{color:new e(a),percent:s}}),this.metaColor=new kE(this.colors[0].color.metaColor)):this.metaColor=new kE(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return On(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return s1e(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const a=n.colors[i];return r.percent===a.percent&&r.color.equals(a.color)}):this.toHexString()===n.toHexString()}}])}();var c1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},u1e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:c1e}))},jS=I.forwardRef(u1e);const WX=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),f1e=e=>({animationDuration:e,animationFillMode:"both"}),d1e=e=>({animationDuration:e,animationFillMode:"both"}),a1=function(e,t,n,r){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${e}-enter,
      ${a}${e}-appear
    `]:Object.assign(Object.assign({},f1e(r)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},d1e(r)),{animationPlayState:"paused"}),[`
      ${a}${e}-enter${e}-enter-active,
      ${a}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},h1e=new $i("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),p1e=new $i("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),g1e=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[a1(r,h1e,p1e,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},m1e=new $i("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),v1e=new $i("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),y1e=new $i("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),b1e=new $i("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),_1e=new $i("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),x1e=new $i("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),w1e=new $i("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),S1e=new $i("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),C1e={"move-up":{inKeyframes:w1e,outKeyframes:S1e},"move-down":{inKeyframes:m1e,outKeyframes:v1e},"move-left":{inKeyframes:y1e,outKeyframes:b1e},"move-right":{inKeyframes:_1e,outKeyframes:x1e}},WA=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:a}=C1e[t];return[a1(r,i,a,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Tz=new $i("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Mz=new $i("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Az=new $i("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Iz=new $i("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),E1e=new $i("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),O1e=new $i("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),T1e=new $i("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),M1e=new $i("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),A1e={"slide-up":{inKeyframes:Tz,outKeyframes:Mz},"slide-down":{inKeyframes:Az,outKeyframes:Iz},"slide-left":{inKeyframes:E1e,outKeyframes:O1e},"slide-right":{inKeyframes:T1e,outKeyframes:M1e}},v1=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:a}=A1e[t];return[a1(r,i,a,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},I1e=new $i("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),P1e=new $i("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),l7=new $i("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),c7=new $i("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),R1e=new $i("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),$1e=new $i("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),k1e=new $i("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),L1e=new $i("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),N1e=new $i("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),D1e=new $i("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),z1e=new $i("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),B1e=new $i("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),j1e={zoom:{inKeyframes:I1e,outKeyframes:P1e},"zoom-big":{inKeyframes:l7,outKeyframes:c7},"zoom-big-fast":{inKeyframes:l7,outKeyframes:c7},"zoom-left":{inKeyframes:k1e,outKeyframes:L1e},"zoom-right":{inKeyframes:N1e,outKeyframes:D1e},"zoom-up":{inKeyframes:R1e,outKeyframes:$1e},"zoom-down":{inKeyframes:z1e,outKeyframes:B1e}},Pz=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:a}=j1e[t];return[a1(r,i,a,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},F1e=(e,t)=>{const{r:n,g:r,b:i,a}=e.toRgb(),s=new kE(e.toRgbString()).onBackground(t).toHsv();return a<=.5?s.v>.5:n*.299+r*.587+i*.114>192},qX=e=>{const{paddingInline:t,onlyIconSize:n}=e;return ga(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},KX=e=>{var t,n,r,i,a,s;const o=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,l=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,c=(r=e.contentFontSizeLG)!==null&&r!==void 0?r:e.fontSizeLG,u=(i=e.contentLineHeight)!==null&&i!==void 0?i:tA(o),d=(a=e.contentLineHeightSM)!==null&&a!==void 0?a:tA(l),h=(s=e.contentLineHeightLG)!==null&&s!==void 0?s:tA(c),g=F1e(new l1e(e.colorBgSolid),"#fff")?"#000":"#fff",v=cx.reduce((x,w)=>Object.assign(Object.assign({},x),{[`${w}ShadowColor`]:`0 ${et(e.controlOutlineWidth)} 0 ${TC(e[`${w}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},v),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:g,contentFontSize:o,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-o*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*h)/2-e.lineWidth,0)})},H1e=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:a,motionEaseInOut:s,marginXS:o,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${et(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:RO(),"> a":{color:"currentColor"},"&:not(:disabled)":a0(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:i,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${a} ${s}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(o).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(o).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(o).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(o).mul(-1).equal()}}}}}},YX=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),V1e=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),U1e=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),G1e=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),bR=(e,t,n,r,i,a,s,o)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},YX(e,Object.assign({background:t},s),Object.assign({background:t},o))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:a||void 0}})}),W1e=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},G1e(e))}),q1e=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),_R=(e,t,n,r)=>{const a=r&&["link","text"].includes(r)?q1e:W1e;return Object.assign(Object.assign({},a(e)),YX(e.componentCls,t,n))},xR=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},_R(e,r,i))}),wR=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},_R(e,r,i))}),SR=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),CR=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},_R(e,n,r))}),o0=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},_R(e,r,i,n))}),K1e=e=>{const{componentCls:t}=e;return cx.reduce((n,r)=>{const i=e[`${r}6`],a=e[`${r}1`],s=e[`${r}5`],o=e[`${r}2`],l=e[`${r}3`],c=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:e[`${r}ShadowColor`]},xR(e,e.colorTextLightSolid,i,{background:s},{background:c})),wR(e,i,e.colorBgContainer,{color:s,borderColor:s,background:e.colorBgContainer},{color:c,borderColor:c,background:e.colorBgContainer})),SR(e)),CR(e,a,{background:o},{background:l})),o0(e,i,"link",{color:s},{color:c})),o0(e,i,"text",{color:s,background:a},{color:c,background:l}))})},{})},Y1e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},xR(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),SR(e)),CR(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),bR(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),o0(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),X1e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},wR(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),SR(e)),CR(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),o0(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),o0(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),bR(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Z1e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},xR(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),wR(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),SR(e)),CR(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),o0(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),o0(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),bR(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Q1e=e=>Object.assign(Object.assign({},o0(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),bR(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),J1e=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Y1e(e),[`${t}-color-primary`]:X1e(e),[`${t}-color-dangerous`]:Z1e(e),[`${t}-color-link`]:Q1e(e)},K1e(e))},e_e=e=>Object.assign(Object.assign(Object.assign(Object.assign({},wR(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),o0(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),xR(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),o0(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Rz=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:a,buttonPaddingHorizontal:s,iconCls:o,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=e;return[{[t]:{fontSize:i,height:r,padding:`${et(l)} ${et(s)}`,borderRadius:a,[`&${n}-icon-only`]:{width:r,[o]:{fontSize:c}}}},{[`${n}${n}-circle${t}`]:V1e(e)},{[`${n}${n}-round${t}`]:U1e(e)}]},t_e=e=>{const t=ga(e,{fontSize:e.contentFontSize});return Rz(t,e.componentCls)},n_e=e=>{const t=ga(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Rz(t,`${e.componentCls}-sm`)},r_e=e=>{const t=ga(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Rz(t,`${e.componentCls}-lg`)},i_e=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},a_e=no("Button",e=>{const t=qX(e);return[H1e(t),t_e(t),n_e(t),r_e(t),i_e(t),J1e(t),e_e(t),t1e(t)]},KX,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function o_e(e,t,n){const{focusElCls:r,focus:i,borderElCls:a}=n,s=a?"> *":"",o=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[o]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function s_e(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function $z(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},o_e(e,r,t)),s_e(n,r,t))}}function l_e(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function c_e(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function u_e(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},l_e(e,t)),c_e(e.componentCls,t))}}const f_e=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:i}=e,a=i(r).mul(-1).equal(),s=o=>{const l=`${t}-compact${o?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:o?a:0,insetInlineStart:o?0:a,backgroundColor:n,content:'""',width:o?"100%":r,height:o?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},d_e=hR(["Button","compact"],e=>{const t=qX(e);return[$z(t),u_e(t),f_e(t)]},KX);var h_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function p_e(e){if(typeof e=="object"&&e){let t=e?.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const g_e={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},m_e=it.forwardRef((e,t)=>{var n,r;const{loading:i=!1,prefixCls:a,color:s,variant:o,type:l,danger:c=!1,shape:u="default",size:d,styles:h,disabled:g,className:v,rootClassName:x,children:w,icon:C,iconPosition:E="start",ghost:M=!1,block:R=!1,htmlType:L="button",classNames:N,style:D={},autoInsertSpace:H,autoFocus:U}=e,q=h_e(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),K=l||"default",[Q,X]=I.useMemo(()=>{if(s&&o)return[s,o];const He=g_e[K]||[];return c?["danger",He[1]]:He},[l,s,o,c]),ee=Q==="danger"?"dangerous":Q,{getPrefixCls:Z,direction:re,autoInsertSpace:oe,className:ce,style:le,classNames:pe,styles:ye}=eu("button"),_e=(n=H??oe)!==null&&n!==void 0?n:!0,Se=Z("btn",a),[Re,je,Fe]=a_e(Se),ze=I.useContext(r0),Ze=g??ze,st=I.useContext(GX),Ue=I.useMemo(()=>p_e(i),[i]),[Ne,qe]=I.useState(Ue.loading),[We,rt]=I.useState(!1),ht=I.useRef(null),ft=Yy(t,ht),Rt=I.Children.count(w)===1&&!C&&!Dk(X),Yt=I.useRef(!0);it.useEffect(()=>(Yt.current=!1,()=>{Yt.current=!0}),[]),I.useEffect(()=>{let He=null;Ue.delay>0?He=setTimeout(()=>{He=null,qe(!0)},Ue.delay):qe(Ue.loading);function be(){He&&(clearTimeout(He),He=null)}return be},[Ue]),I.useEffect(()=>{if(!ht.current||!_e)return;const He=ht.current.textContent||"";Rt&&tD(He)?We||rt(!0):We&&rt(!1)}),I.useEffect(()=>{U&&ht.current&&ht.current.focus()},[]);const Jt=it.useCallback(He=>{var be;if(Ne||Ze){He.preventDefault();return}(be=e.onClick)===null||be===void 0||be.call(e,("href"in e,He))},[e.onClick,Ne,Ze]),{compactSize:xt,compactItemClassnames:Ft}=NO(Se,re),Lt={large:"lg",small:"sm",middle:void 0},Kt=mp(He=>{var be,we;return(we=(be=d??xt)!==null&&be!==void 0?be:st)!==null&&we!==void 0?we:He}),hn=Kt&&(r=Lt[Kt])!==null&&r!==void 0?r:"",dn=Ne?"loading":C,Cn=rl(q,["navigate"]),kn=ut(Se,je,Fe,{[`${Se}-${u}`]:u!=="default"&&u,[`${Se}-${K}`]:K,[`${Se}-dangerous`]:c,[`${Se}-color-${ee}`]:ee,[`${Se}-variant-${X}`]:X,[`${Se}-${hn}`]:hn,[`${Se}-icon-only`]:!w&&w!==0&&!!dn,[`${Se}-background-ghost`]:M&&!Dk(X),[`${Se}-loading`]:Ne,[`${Se}-two-chinese-chars`]:We&&_e&&!Ne,[`${Se}-block`]:R,[`${Se}-rtl`]:re==="rtl",[`${Se}-icon-end`]:E==="end"},Ft,v,x,ce),sn=Object.assign(Object.assign({},le),D),un=ut(N?.icon,pe.icon),gn=Object.assign(Object.assign({},h?.icon||{}),ye.icon||{}),Qt=C&&!Ne?it.createElement(nD,{prefixCls:Se,className:un,style:gn},C):i&&typeof i=="object"&&i.icon?it.createElement(nD,{prefixCls:Se,className:un,style:gn},i.icon):it.createElement(e1e,{existIcon:!!C,prefixCls:Se,loading:Ne,mount:Yt.current}),Ln=w||w===0?Jbe(w,Rt&&_e):null;if(Cn.href!==void 0)return Re(it.createElement("a",Object.assign({},Cn,{className:ut(kn,{[`${Se}-disabled`]:Ze}),href:Ze?void 0:Cn.href,style:sn,onClick:Jt,ref:ft,tabIndex:Ze?-1:0}),Qt,Ln));let Gt=it.createElement("button",Object.assign({},q,{type:L,className:kn,style:sn,onClick:Jt,disabled:Ze,ref:ft}),Qt,Ln,Ft&&it.createElement(d_e,{prefixCls:Se}));return Dk(X)||(Gt=it.createElement(LO,{component:"Button",disabled:Ne},Gt)),Re(Gt)}),FS=m_e;FS.Group=Zbe;FS.__ANT_BUTTON=!0;var XX=I.createContext(null),u7=[];function v_e(e,t){var n=I.useState(function(){if(!jf())return null;var v=document.createElement("div");return v}),r=mt(n,1),i=r[0],a=I.useRef(!1),s=I.useContext(XX),o=I.useState(u7),l=mt(o,2),c=l[0],u=l[1],d=s||(a.current?void 0:function(v){u(function(x){var w=[v].concat(_n(x));return w})});function h(){i.parentElement||document.body.appendChild(i),a.current=!0}function g(){var v;(v=i.parentElement)===null||v===void 0||v.removeChild(i),a.current=!1}return Sa(function(){return e?s?s(h):h():g(),g},[e]),Sa(function(){c.length&&(c.forEach(function(v){return v()}),u(u7))},[c]),[i,d]}var Fk;function ZX(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,a;if(e){var s=getComputedStyle(e);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var o=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(o.width,10),c=parseInt(o.height,10);try{var u=l?"width: ".concat(o.width,";"):"",d=c?"height: ".concat(o.height,";"):"";Ny(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),t)}catch(v){console.error(v),i=l,a=c}}document.body.appendChild(n);var h=e&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,g=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),AE(t),{width:h,height:g}}function f7(e){return typeof document>"u"?0:(Fk===void 0&&(Fk=ZX()),Fk.width)}function rD(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:ZX(e)}function y_e(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var b_e="rc-util-locker-".concat(Date.now()),d7=0;function __e(e){var t=!!e,n=I.useState(function(){return d7+=1,"".concat(b_e,"_").concat(d7)}),r=mt(n,1),i=r[0];Sa(function(){if(t){var a=rD(document.body).width,s=y_e();Ny(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(a,"px);"):"",`
}`),i)}else AE(i);return function(){AE(i)}},[t,i])}var x_e=!1;function w_e(e){return x_e}var h7=function(t){return t===!1?!1:!jf()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},QX=I.forwardRef(function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer;e.debug;var a=e.autoDestroy,s=a===void 0?!0:a,o=e.children,l=I.useState(n),c=mt(l,2),u=c[0],d=c[1],h=u||n;I.useEffect(function(){(s||n)&&d(n)},[n,s]);var g=I.useState(function(){return h7(i)}),v=mt(g,2),x=v[0],w=v[1];I.useEffect(function(){var K=h7(i);w(K??null)});var C=v_e(h&&!x),E=mt(C,2),M=E[0],R=E[1],L=x??M;__e(r&&n&&jf()&&(L===M||L===document.body));var N=null;if(o&&t0(o)&&t){var D=o;N=D.ref}var H=Yy(N,t);if(!h||!jf()||x===void 0)return null;var U=L===!1||w_e(),q=o;return t&&(q=I.cloneElement(o,{ref:H})),I.createElement(XX.Provider,{value:R},U?q:g1.createPortal(q,L))});function S_e(){var e=Pe({},nR);return e.useId}var p7=0,g7=S_e();const ER=g7?function(t){var n=g7();return t||n}:function(t){var n=I.useState("ssr-id"),r=mt(n,2),i=r[0],a=r[1];return I.useEffect(function(){var s=p7;p7+=1,a("rc_unique_".concat(s))},[]),t||i};var q_="RC_FORM_INTERNAL_HOOKS",Ss=function(){vl(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},HS=I.createContext({getFieldValue:Ss,getFieldsValue:Ss,getFieldError:Ss,getFieldWarning:Ss,getFieldsError:Ss,isFieldsTouched:Ss,isFieldTouched:Ss,isFieldValidating:Ss,isFieldsValidating:Ss,resetFields:Ss,setFields:Ss,setFieldValue:Ss,setFieldsValue:Ss,validateFields:Ss,submit:Ss,getInternalHooks:function(){return Ss(),{dispatch:Ss,initEntityValue:Ss,registerField:Ss,useSubscribe:Ss,setInitialValues:Ss,destroyForm:Ss,setCallbacks:Ss,registerWatch:Ss,getFields:Ss,setValidateMessages:Ss,setPreserve:Ss,getInitialValue:Ss}}}),qA=I.createContext(null);function iD(e){return e==null?[]:Array.isArray(e)?e:[e]}function C_e(e){return e&&!!e._init}function aD(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var oD=aD();function E_e(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function O_e(e,t,n){if(Xy())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&TE(i,n.prototype),i}function sD(e){var t=typeof Map=="function"?new Map:void 0;return sD=function(r){if(r===null||!E_e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return O_e(r,arguments,Xc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),TE(i,r)},sD(e)}var T_e=/%[sdj%]/g,M_e=function(){};function lD(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function fp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(T_e,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return o}});return s}return e}function A_e(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Zc(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||A_e(t)&&typeof e=="string"&&!e)}function I_e(e,t,n){var r=[],i=0,a=e.length;function s(o){r.push.apply(r,_n(o||[])),i++,i===a&&n(r)}e.forEach(function(o){t(o,s)})}function m7(e,t,n){var r=0,i=e.length;function a(s){if(s&&s.length){n(s);return}var o=r;r=r+1,o<i?t(e[o],a):n([])}a([])}function P_e(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,_n(e[n]||[]))}),t}var v7=function(e){qr(n,e);var t=v0(n);function n(r,i){var a;return En(this,n),a=t.call(this,"Async Validation Error"),Te(Or(a),"errors",void 0),Te(Or(a),"fields",void 0),a.errors=r,a.fields=i,a}return On(n)}(sD(Error));function R_e(e,t,n,r,i){if(t.first){var a=new Promise(function(h,g){var v=function(C){return r(C),C.length?g(new v7(C,lD(C))):h(i)},x=P_e(e);m7(x,n,v)});return a.catch(function(h){return h}),a}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,c=0,u=[],d=new Promise(function(h,g){var v=function(w){if(u.push.apply(u,w),c++,c===l)return r(u),u.length?g(new v7(u,lD(u))):h(i)};o.length||(r(u),h(i)),o.forEach(function(x){var w=e[x];s.indexOf(x)!==-1?m7(w,n,v):I_e(w,n,v)})});return d.catch(function(h){return h}),d}function $_e(e){return!!(e&&e.message!==void 0)}function k_e(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function y7(e,t){return function(n){var r;return e.fullFields?r=k_e(t,e.fullFields):r=t[n.field||e.fullField],$_e(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function b7(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];Rr(r)==="object"&&Rr(e[n])==="object"?e[n]=Pe(Pe({},e[n]),r):e[n]=r}}return e}var gw="enum",L_e=function(t,n,r,i,a){t[gw]=Array.isArray(t[gw])?t[gw]:[],t[gw].indexOf(n)===-1&&i.push(fp(a.messages[gw],t.fullField,t[gw].join(", ")))},N_e=function(t,n,r,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(fp(a.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||i.push(fp(a.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},D_e=function(t,n,r,i,a){var s=typeof t.len=="number",o=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,h=typeof n=="number",g=typeof n=="string",v=Array.isArray(n);if(h?d="number":g?d="string":v&&(d="array"),!d)return!1;v&&(u=n.length),g&&(u=n.replace(c,"_").length),s?u!==t.len&&i.push(fp(a.messages[d].len,t.fullField,t.len)):o&&!l&&u<t.min?i.push(fp(a.messages[d].min,t.fullField,t.min)):l&&!o&&u>t.max?i.push(fp(a.messages[d].max,t.fullField,t.max)):o&&l&&(u<t.min||u>t.max)&&i.push(fp(a.messages[d].range,t.fullField,t.min,t.max))},JX=function(t,n,r,i,a,s){t.required&&(!r.hasOwnProperty(t.field)||Zc(n,s||t.type))&&i.push(fp(a.messages.required,t.fullField))},LT;const z_e=function(){if(LT)return LT;var e="[a-fA-F\\d:]",t=function(N){return N&&N.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],a="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(a),o=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(s,"$")),u=function(N){return N&&N.exact?o:new RegExp("(?:".concat(t(N)).concat(n).concat(t(N),")|(?:").concat(t(N)).concat(s).concat(t(N),")"),"g")};u.v4=function(L){return L&&L.exact?l:new RegExp("".concat(t(L)).concat(n).concat(t(L)),"g")},u.v6=function(L){return L&&L.exact?c:new RegExp("".concat(t(L)).concat(s).concat(t(L)),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",g=u.v4().source,v=u.v6().source,x="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",w="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",C="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",M='(?:[/?#][^\\s"]*)?',R="(?:".concat(d,"|www\\.)").concat(h,"(?:localhost|").concat(g,"|").concat(v,"|").concat(x).concat(w).concat(C,")").concat(E).concat(M);return LT=new RegExp("(?:^".concat(R,"$)"),"i"),LT};var _7={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},MC={integer:function(t){return MC.number(t)&&parseInt(t,10)===t},float:function(t){return MC.number(t)&&!MC.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return Rr(t)==="object"&&!MC.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(_7.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(z_e())},hex:function(t){return typeof t=="string"&&!!t.match(_7.hex)}},B_e=function(t,n,r,i,a){if(t.required&&n===void 0){JX(t,n,r,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=t.type;s.indexOf(o)>-1?MC[o](n)||i.push(fp(a.messages.types[o],t.fullField,t.type)):o&&Rr(n)!==t.type&&i.push(fp(a.messages.types[o],t.fullField,t.type))},j_e=function(t,n,r,i,a){(/^\s+$/.test(n)||n==="")&&i.push(fp(a.messages.whitespace,t.fullField))};const Wa={required:JX,whitespace:j_e,type:B_e,range:D_e,enum:L_e,pattern:N_e};var F_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a)}r(s)},H_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(n==null&&!t.required)return r();Wa.required(t,n,i,s,a,"array"),n!=null&&(Wa.type(t,n,i,s,a),Wa.range(t,n,i,s,a))}r(s)},V_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&Wa.type(t,n,i,s,a)}r(s)},U_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n,"date")&&!t.required)return r();if(Wa.required(t,n,i,s,a),!Zc(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Wa.type(t,l,i,s,a),l&&Wa.range(t,l.getTime(),i,s,a)}}r(s)},G_e="enum",W_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&Wa[G_e](t,n,i,s,a)}r(s)},q_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&(Wa.type(t,n,i,s,a),Wa.range(t,n,i,s,a))}r(s)},K_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&(Wa.type(t,n,i,s,a),Wa.range(t,n,i,s,a))}r(s)},Y_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&Wa.type(t,n,i,s,a)}r(s)},X_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(n===""&&(n=void 0),Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&(Wa.type(t,n,i,s,a),Wa.range(t,n,i,s,a))}r(s)},Z_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),n!==void 0&&Wa.type(t,n,i,s,a)}r(s)},Q_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n,"string")&&!t.required)return r();Wa.required(t,n,i,s,a),Zc(n,"string")||Wa.pattern(t,n,i,s,a)}r(s)},J_e=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n)&&!t.required)return r();Wa.required(t,n,i,s,a),Zc(n)||Wa.type(t,n,i,s,a)}r(s)},exe=function(t,n,r,i,a){var s=[],o=Array.isArray(n)?"array":Rr(n);Wa.required(t,n,i,s,a,o),r(s)},txe=function(t,n,r,i,a){var s=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(Zc(n,"string")&&!t.required)return r();Wa.required(t,n,i,s,a,"string"),Zc(n,"string")||(Wa.type(t,n,i,s,a),Wa.range(t,n,i,s,a),Wa.pattern(t,n,i,s,a),t.whitespace===!0&&Wa.whitespace(t,n,i,s,a))}r(s)},Hk=function(t,n,r,i,a){var s=t.type,o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Zc(n,s)&&!t.required)return r();Wa.required(t,n,i,o,a,s),Zc(n,s)||Wa.type(t,n,i,o,a)}r(o)};const rE={string:txe,method:Y_e,number:X_e,boolean:V_e,regexp:J_e,integer:K_e,float:q_e,array:H_e,object:Z_e,enum:W_e,pattern:Q_e,date:U_e,url:Hk,hex:Hk,email:Hk,required:exe,any:F_e};var DO=function(){function e(t){En(this,e),Te(this,"rules",null),Te(this,"_messages",oD),this.define(t)}return On(e,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(Rr(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var a=n[i];r.rules[i]=Array.isArray(a)?a:[a]})}},{key:"messages",value:function(n){return n&&(this._messages=b7(aD(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,o=i,l=a;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(v){var x=[],w={};function C(M){if(Array.isArray(M)){var R;x=(R=x).concat.apply(R,_n(M))}else x.push(M)}for(var E=0;E<v.length;E++)C(v[E]);x.length?(w=lD(x),l(x,w)):l(null,s)}if(o.messages){var u=this.messages();u===oD&&(u=aD()),b7(u,o.messages),o.messages=u}else o.messages=this.messages();var d={},h=o.keys||Object.keys(this.rules);h.forEach(function(v){var x=r.rules[v],w=s[v];x.forEach(function(C){var E=C;typeof E.transform=="function"&&(s===n&&(s=Pe({},s)),w=s[v]=E.transform(w),w!=null&&(E.type=E.type||(Array.isArray(w)?"array":Rr(w)))),typeof E=="function"?E={validator:E}:E=Pe({},E),E.validator=r.getValidationMethod(E),E.validator&&(E.field=v,E.fullField=E.fullField||v,E.type=r.getType(E),d[v]=d[v]||[],d[v].push({rule:E,value:w,source:s,field:v}))})});var g={};return R_e(d,o,function(v,x){var w=v.rule,C=(w.type==="object"||w.type==="array")&&(Rr(w.fields)==="object"||Rr(w.defaultField)==="object");C=C&&(w.required||!w.required&&v.value),w.field=v.field;function E(D,H){return Pe(Pe({},H),{},{fullField:"".concat(w.fullField,".").concat(D),fullFields:w.fullFields?[].concat(_n(w.fullFields),[D]):[D]})}function M(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=Array.isArray(D)?D:[D];!o.suppressWarning&&H.length&&e.warning("async-validator:",H),H.length&&w.message!==void 0&&(H=[].concat(w.message));var U=H.map(y7(w,s));if(o.first&&U.length)return g[w.field]=1,x(U);if(!C)x(U);else{if(w.required&&!v.value)return w.message!==void 0?U=[].concat(w.message).map(y7(w,s)):o.error&&(U=[o.error(w,fp(o.messages.required,w.field))]),x(U);var q={};w.defaultField&&Object.keys(v.value).map(function(X){q[X]=w.defaultField}),q=Pe(Pe({},q),v.rule.fields);var K={};Object.keys(q).forEach(function(X){var te=q[X],ee=Array.isArray(te)?te:[te];K[X]=ee.map(E.bind(null,X))});var Q=new e(K);Q.messages(o.messages),v.rule.options&&(v.rule.options.messages=o.messages,v.rule.options.error=o.error),Q.validate(v.value,v.rule.options||o,function(X){var te=[];U&&U.length&&te.push.apply(te,_n(U)),X&&X.length&&te.push.apply(te,_n(X)),x(te.length?te:null)})}}var R;if(w.asyncValidator)R=w.asyncValidator(w,v.value,M,v.source,o);else if(w.validator){try{R=w.validator(w,v.value,M,v.source,o)}catch(D){var L,N;(L=(N=console).error)===null||L===void 0||L.call(N,D),o.suppressValidatorError||setTimeout(function(){throw D},0),M(D.message)}R===!0?M():R===!1?M(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||"".concat(w.fullField||w.field," fails")):R instanceof Array?M(R):R instanceof Error&&M(R.message)}R&&R.then&&R.then(function(){return M()},function(D){return M(D)})},function(v){c(v)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!rE.hasOwnProperty(n.type))throw new Error(fp("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?rE.required:rE[this.getType(n)]||void 0}}]),e}();Te(DO,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");rE[t]=n});Te(DO,"warning",M_e);Te(DO,"messages",oD);Te(DO,"validators",rE);var rp="'${name}' is not a valid ${type}",eZ={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:rp,method:rp,array:rp,object:rp,number:rp,date:rp,boolean:rp,integer:rp,float:rp,regexp:rp,email:rp,url:rp,hex:rp},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},x7=DO;function nxe(e,t){return e.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return t[r]})}var w7="CODE_LOGIC_ERROR";function cD(e,t,n,r,i){return uD.apply(this,arguments)}function uD(){return uD=Cd(Vo().mark(function e(t,n,r,i,a){var s,o,l,c,u,d,h,g,v;return Vo().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=Pe({},r),delete s.ruleIndex,x7.warning=function(){},s.validator&&(o=s.validator,s.validator=function(){try{return o.apply(void 0,arguments)}catch(C){return console.error(C),Promise.reject(w7)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new x7(Te({},t,[s])),u=Jw(eZ,i.validateMessages),c.messages(u),d=[],w.prev=10,w.next=13,Promise.resolve(c.validate(Te({},t,n),Pe({},i)));case 13:w.next=18;break;case 15:w.prev=15,w.t0=w.catch(10),w.t0.errors&&(d=w.t0.errors.map(function(C,E){var M=C.message,R=M===w7?u.default:M;return I.isValidElement(R)?I.cloneElement(R,{key:"error_".concat(E)}):R}));case 18:if(!(!d.length&&l)){w.next=23;break}return w.next=21,Promise.all(n.map(function(C,E){return cD("".concat(t,".").concat(E),C,l,i,a)}));case 21:return h=w.sent,w.abrupt("return",h.reduce(function(C,E){return[].concat(_n(C),_n(E))},[]));case 23:return g=Pe(Pe({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),v=d.map(function(C){return typeof C=="string"?nxe(C,g):C}),w.abrupt("return",v);case 26:case"end":return w.stop()}},e,null,[[10,15]])})),uD.apply(this,arguments)}function rxe(e,t,n,r,i,a){var s=e.join("."),o=n.map(function(u,d){var h=u.validator,g=Pe(Pe({},u),{},{ruleIndex:d});return h&&(g.validator=function(v,x,w){var C=!1,E=function(){for(var L=arguments.length,N=new Array(L),D=0;D<L;D++)N[D]=arguments[D];Promise.resolve().then(function(){vl(!C,"Your validator function has already return a promise. `callback` will be ignored."),C||w.apply(void 0,N)})},M=h(v,x,E);C=M&&typeof M.then=="function"&&typeof M.catch=="function",vl(C,"`callback` is deprecated. Please return a promise instead."),C&&M.then(function(){w()}).catch(function(R){w(R||" ")})}),g}).sort(function(u,d){var h=u.warningOnly,g=u.ruleIndex,v=d.warningOnly,x=d.ruleIndex;return!!h==!!v?g-x:h?1:-1}),l;if(i===!0)l=new Promise(function(){var u=Cd(Vo().mark(function d(h,g){var v,x,w;return Vo().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:v=0;case 1:if(!(v<o.length)){E.next=12;break}return x=o[v],E.next=5,cD(s,t,x,r,a);case 5:if(w=E.sent,!w.length){E.next=9;break}return g([{errors:w,rule:x}]),E.abrupt("return");case 9:v+=1,E.next=1;break;case 12:h([]);case 13:case"end":return E.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}}());else{var c=o.map(function(u){return cD(s,t,u,r,a).then(function(d){return{errors:d,rule:u}})});l=(i?axe(c):ixe(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function ixe(e){return fD.apply(this,arguments)}function fD(){return fD=Cd(Vo().mark(function e(t){return Vo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var a,s=(a=[]).concat.apply(a,_n(i));return s}));case 1:case"end":return r.stop()}},e)})),fD.apply(this,arguments)}function axe(e){return dD.apply(this,arguments)}function dD(){return dD=Cd(Vo().mark(function e(t){var n;return Vo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(a){t.forEach(function(s){s.then(function(o){o.errors.length&&a([o]),n+=1,n===t.length&&a([])})})}));case 2:case"end":return i.stop()}},e)})),dD.apply(this,arguments)}function sc(e){return iD(e)}function S7(e,t){var n={};return t.forEach(function(r){var i=up(e,r);n=mm(n,r,i)}),n}function uS(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return tZ(t,r,n)})}function tZ(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function oxe(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Rr(e)!=="object"||Rr(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return _n(i).every(function(a){var s=e[a],o=t[a];return typeof s=="function"&&typeof o=="function"?!0:s===o})}function sxe(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Rr(t.target)==="object"&&e in t.target?t.target[e]:t}function C7(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(_n(e.slice(0,n)),[i],_n(e.slice(n,t)),_n(e.slice(t+1,r))):a<0?[].concat(_n(e.slice(0,t)),_n(e.slice(t+1,n+1)),[i],_n(e.slice(n+1,r))):e}var lxe=["name"],Vp=[];function Vk(e,t,n,r,i,a){return typeof e=="function"?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var kz=function(e){qr(n,e);var t=v0(n);function n(r){var i;if(En(this,n),i=t.call(this,r),Te(Or(i),"state",{resetCount:0}),Te(Or(i),"cancelRegisterFunc",null),Te(Or(i),"mounted",!1),Te(Or(i),"touched",!1),Te(Or(i),"dirty",!1),Te(Or(i),"validatePromise",void 0),Te(Or(i),"prevValidating",void 0),Te(Or(i),"errors",Vp),Te(Or(i),"warnings",Vp),Te(Or(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,sc(d)),i.cancelRegisterFunc=null}),Te(Or(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,h=d===void 0?[]:d;return c!==void 0?[].concat(_n(h),_n(c)):[]}),Te(Or(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(h){return typeof h=="function"?h(d):h})}),Te(Or(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),Te(Or(i),"metaCache",null),Te(Or(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=Pe(Pe({},i.getMeta()),{},{destroy:l});n0(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),Te(Or(i),"onStoreChange",function(l,c,u){var d=i.props,h=d.shouldUpdate,g=d.dependencies,v=g===void 0?[]:g,x=d.onReset,w=u.store,C=i.getNamePath(),E=i.getValue(l),M=i.getValue(w),R=c&&uS(c,C);switch(u.type==="valueUpdate"&&u.source==="external"&&!n0(E,M)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Vp,i.warnings=Vp,i.triggerMetaEvent()),u.type){case"reset":if(!c||R){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Vp,i.warnings=Vp,i.triggerMetaEvent(),x?.(),i.refresh();return}break;case"remove":{if(h&&Vk(h,l,w,E,M,u)){i.reRender();return}break}case"setField":{var L=u.data;if(R){"touched"in L&&(i.touched=L.touched),"validating"in L&&!("originRCField"in L)&&(i.validatePromise=L.validating?Promise.resolve([]):null),"errors"in L&&(i.errors=L.errors||Vp),"warnings"in L&&(i.warnings=L.warnings||Vp),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in L&&uS(c,C,!0)){i.reRender();return}if(h&&!C.length&&Vk(h,l,w,E,M,u)){i.reRender();return}break}case"dependenciesUpdate":{var N=v.map(sc);if(N.some(function(D){return uS(u.relatedFields,D)})){i.reRender();return}break}default:if(R||(!v.length||C.length||h)&&Vk(h,l,w,E,M,u)){i.reRender();return}break}h===!0&&i.reRender()}),Te(Or(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},h=d.triggerName,g=d.validateOnly,v=g===void 0?!1:g,x=Promise.resolve().then(Cd(Vo().mark(function w(){var C,E,M,R,L,N,D;return Vo().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(i.mounted){U.next=2;break}return U.abrupt("return",[]);case 2:if(C=i.props,E=C.validateFirst,M=E===void 0?!1:E,R=C.messageVariables,L=C.validateDebounce,N=i.getRules(),h&&(N=N.filter(function(q){return q}).filter(function(q){var K=q.validateTrigger;if(!K)return!0;var Q=iD(K);return Q.includes(h)})),!(L&&h)){U.next=10;break}return U.next=8,new Promise(function(q){setTimeout(q,L)});case 8:if(i.validatePromise===x){U.next=10;break}return U.abrupt("return",[]);case 10:return D=rxe(c,u,N,l,M,R),D.catch(function(q){return q}).then(function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vp;if(i.validatePromise===x){var K;i.validatePromise=null;var Q=[],X=[];(K=q.forEach)===null||K===void 0||K.call(q,function(te){var ee=te.rule.warningOnly,Z=te.errors,re=Z===void 0?Vp:Z;ee?X.push.apply(X,_n(re)):Q.push.apply(Q,_n(re))}),i.errors=Q,i.warnings=X,i.triggerMetaEvent(),i.reRender()}}),U.abrupt("return",D);case 13:case"end":return U.stop()}},w)})));return v||(i.validatePromise=x,i.dirty=!0,i.errors=Vp,i.warnings=Vp,i.triggerMetaEvent(),i.reRender()),x}),Te(Or(i),"isFieldValidating",function(){return!!i.validatePromise}),Te(Or(i),"isFieldTouched",function(){return i.touched}),Te(Or(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(q_),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),Te(Or(i),"getErrors",function(){return i.errors}),Te(Or(i),"getWarnings",function(){return i.warnings}),Te(Or(i),"isListField",function(){return i.props.isListField}),Te(Or(i),"isList",function(){return i.props.isList}),Te(Or(i),"isPreserve",function(){return i.props.preserve}),Te(Or(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),Te(Or(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return Pe(Pe({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=Xu(l);return u.length!==1||!I.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),Te(Or(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return up(l||c(!0),u)}),Te(Or(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,h=c.validateTrigger,g=c.getValueFromEvent,v=c.normalize,x=c.valuePropName,w=c.getValueProps,C=c.fieldContext,E=h!==void 0?h:C.validateTrigger,M=i.getNamePath(),R=C.getInternalHooks,L=C.getFieldsValue,N=R(q_),D=N.dispatch,H=i.getValue(),U=w||function(te){return Te({},x,te)},q=l[d],K=u!==void 0?U(H):{},Q=Pe(Pe({},l),K);Q[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var te,ee=arguments.length,Z=new Array(ee),re=0;re<ee;re++)Z[re]=arguments[re];g?te=g.apply(void 0,Z):te=sxe.apply(void 0,[x].concat(Z)),v&&(te=v(te,H,L(!0))),te!==H&&D({type:"updateValue",namePath:M,value:te}),q&&q.apply(void 0,Z)};var X=iD(E||[]);return X.forEach(function(te){var ee=Q[te];Q[te]=function(){ee&&ee.apply(void 0,arguments);var Z=i.props.rules;Z&&Z.length&&D({type:"validateField",namePath:M,triggerName:te})}}),Q}),r.fieldContext){var a=r.fieldContext.getInternalHooks,s=a(q_),o=s.initEntityValue;o(Or(i))}return i}return On(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var o=s.getInternalHooks,l=o(q_),c=l.registerField;this.cancelRegisterFunc=c(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,a=this.props.children,s=this.getOnlyChild(a),o=s.child,l=s.isFunction,c;return l?c=o:I.isValidElement(o)?c=I.cloneElement(o,this.getControlled(o.props)):(vl(!o,"`children` of Field is not validate ReactElement."),c=o),I.createElement(I.Fragment,{key:i},c)}}]),n}(I.Component);Te(kz,"contextType",HS);Te(kz,"defaultProps",{trigger:"onChange",valuePropName:"value"});function nZ(e){var t,n=e.name,r=zr(e,lxe),i=I.useContext(HS),a=I.useContext(qA),s=n!==void 0?sc(n):void 0,o=(t=r.isListField)!==null&&t!==void 0?t:!!a,l="keep";return o||(l="_".concat((s||[]).join("_"))),I.createElement(kz,In({key:l,name:s,isListField:o},r,{fieldContext:i}))}function cxe(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,s=e.isListField,o=I.useContext(HS),l=I.useContext(qA),c=I.useRef({keys:[],id:0}),u=c.current,d=I.useMemo(function(){var x=sc(o.prefixName)||[];return[].concat(_n(x),_n(sc(t)))},[o.prefixName,t]),h=I.useMemo(function(){return Pe(Pe({},o),{},{prefixName:d})},[o,d]),g=I.useMemo(function(){return{getKey:function(w){var C=d.length,E=w[C];return[u.keys[E],w.slice(C+1)]}}},[d]);if(typeof r!="function")return vl(!1,"Form.List only accepts function as children."),null;var v=function(w,C,E){var M=E.source;return M==="internal"?!1:w!==C};return I.createElement(qA.Provider,{value:g},I.createElement(HS.Provider,{value:h},I.createElement(nZ,{name:[],shouldUpdate:v,rules:i,validateTrigger:a,initialValue:n,isList:!0,isListField:s??!!l},function(x,w){var C=x.value,E=C===void 0?[]:C,M=x.onChange,R=o.getFieldValue,L=function(){var U=R(d||[]);return U||[]},N={add:function(U,q){var K=L();q>=0&&q<=K.length?(u.keys=[].concat(_n(u.keys.slice(0,q)),[u.id],_n(u.keys.slice(q))),M([].concat(_n(K.slice(0,q)),[U],_n(K.slice(q))))):(u.keys=[].concat(_n(u.keys),[u.id]),M([].concat(_n(K),[U]))),u.id+=1},remove:function(U){var q=L(),K=new Set(Array.isArray(U)?U:[U]);K.size<=0||(u.keys=u.keys.filter(function(Q,X){return!K.has(X)}),M(q.filter(function(Q,X){return!K.has(X)})))},move:function(U,q){if(U!==q){var K=L();U<0||U>=K.length||q<0||q>=K.length||(u.keys=C7(u.keys,U,q),M(C7(K,U,q)))}}},D=E||[];return Array.isArray(D)||(D=[]),r(D.map(function(H,U){var q=u.keys[U];return q===void 0&&(u.keys[U]=u.id,q=u.keys[U],u.id+=1),{name:U,key:q,isListField:!0}}),N,w)})))}function uxe(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,a){e.forEach(function(s,o){s.catch(function(l){return t=!0,l}).then(function(l){n-=1,r[o]=l,!(n>0)&&(t&&a(r),i(r))})})}):Promise.resolve([])}var rZ="__@field_split__";function Uk(e){return e.map(function(t){return"".concat(Rr(t),":").concat(t)}).join(rZ)}var mw=function(){function e(){En(this,e),Te(this,"kvs",new Map)}return On(e,[{key:"set",value:function(n,r){this.kvs.set(Uk(n),r)}},{key:"get",value:function(n){return this.kvs.get(Uk(n))}},{key:"update",value:function(n,r){var i=this.get(n),a=r(i);a?this.set(n,a):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Uk(n))}},{key:"map",value:function(n){return _n(this.kvs.entries()).map(function(r){var i=mt(r,2),a=i[0],s=i[1],o=a.split(rZ);return n({key:o.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=mt(c,3),d=u[1],h=u[2];return d==="number"?Number(h):h}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,a=r.value;return n[i.join(".")]=a,null}),n}}]),e}(),fxe=["name"],dxe=On(function e(t){var n=this;En(this,e),Te(this,"formHooked",!1),Te(this,"forceRootUpdate",void 0),Te(this,"subscribable",!0),Te(this,"store",{}),Te(this,"fieldEntities",[]),Te(this,"initialValues",{}),Te(this,"callbacks",{}),Te(this,"validateMessages",null),Te(this,"preserve",null),Te(this,"lastValidatePromise",null),Te(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Te(this,"getInternalHooks",function(r){return r===q_?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(vl(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Te(this,"useSubscribe",function(r){n.subscribable=r}),Te(this,"prevWithoutPreserves",null),Te(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var a,s=Jw(r,n.store);(a=n.prevWithoutPreserves)===null||a===void 0||a.map(function(o){var l=o.key;s=mm(s,l,up(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),Te(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new mw;n.getFieldEntities(!0).forEach(function(a){n.isMergedPreserve(a.isPreserve())||i.set(a.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),Te(this,"getInitialValue",function(r){var i=up(n.initialValues,r);return r.length?Jw(i):i}),Te(this,"setCallbacks",function(r){n.callbacks=r}),Te(this,"setValidateMessages",function(r){n.validateMessages=r}),Te(this,"setPreserve",function(r){n.preserve=r}),Te(this,"watchList",[]),Te(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),Te(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),a=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,a,r)})}}),Te(this,"timeoutId",null),Te(this,"warningUnhooked",function(){}),Te(this,"updateStore",function(r){n.store=r}),Te(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),Te(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new mw;return n.getFieldEntities(r).forEach(function(a){var s=a.getNamePath();i.set(s,a)}),i}),Te(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(a){var s=sc(a);return i.get(s)||{INVALIDATE_NAME_PATH:sc(a)}})}),Te(this,"getFieldsValue",function(r,i){n.warningUnhooked();var a,s,o;if(r===!0||Array.isArray(r)?(a=r,s=i):r&&Rr(r)==="object"&&(o=r.strict,s=r.filter),a===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),c=[];return l.forEach(function(u){var d,h,g="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(o){var v,x;if((v=(x=u).isList)!==null&&v!==void 0&&v.call(x))return}else if(!a&&(d=(h=u).isListField)!==null&&d!==void 0&&d.call(h))return;if(!s)c.push(g);else{var w="getMeta"in u?u.getMeta():null;s(w)&&c.push(g)}}),S7(n.store,c.map(sc))}),Te(this,"getFieldValue",function(r){n.warningUnhooked();var i=sc(r);return up(n.store,i)}),Te(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(a,s){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:sc(r[s]),errors:[],warnings:[]}})}),Te(this,"getFieldError",function(r){n.warningUnhooked();var i=sc(r),a=n.getFieldsError([i])[0];return a.errors}),Te(this,"getFieldWarning",function(r){n.warningUnhooked();var i=sc(r),a=n.getFieldsError([i])[0];return a.warnings}),Te(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i[0],o=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(sc),c=!1):(l=null,c=s):(l=s.map(sc),c=o);var u=n.getFieldEntities(!0),d=function(w){return w.isFieldTouched()};if(!l)return c?u.every(function(x){return d(x)||x.isList()}):u.some(d);var h=new mw;l.forEach(function(x){h.set(x,[])}),u.forEach(function(x){var w=x.getNamePath();l.forEach(function(C){C.every(function(E,M){return w[M]===E})&&h.update(C,function(E){return[].concat(_n(E),[x])})})});var g=function(w){return w.some(d)},v=h.map(function(x){var w=x.value;return w});return c?v.every(g):v.some(g)}),Te(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),Te(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var a=r.map(sc);return i.some(function(s){var o=s.getNamePath();return uS(a,o)&&s.isFieldValidating()})}),Te(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),Te(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new mw,a=n.getFieldEntities(!0);a.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var s=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var h=u.getNamePath(),g=n.getInitialValue(h);if(g!==void 0)vl(!1,"Form already set 'initialValues' with path '".concat(h.join("."),"'. Field can not overwrite it."));else{var v=i.get(h);if(v&&v.size>1)vl(!1,"Multiple Field with path '".concat(h.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var x=n.getFieldValue(h),w=u.isListField();!w&&(!r.skipExist||x===void 0)&&n.updateStore(mm(n.store,h,_n(v)[0].value))}}}})},o;r.entities?o=r.entities:r.namePathList?(o=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=o).push.apply(u,_n(_n(c).map(function(d){return d.entity})))}})):o=a,s(o)}),Te(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Jw(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var a=r.map(sc);a.forEach(function(s){var o=n.getInitialValue(s);n.updateStore(mm(n.store,s,o))}),n.resetWithFieldInitialValue({namePathList:a}),n.notifyObservers(i,a,{type:"reset"}),n.notifyWatch(a)}),Te(this,"setFields",function(r){n.warningUnhooked();var i=n.store,a=[];r.forEach(function(s){var o=s.name,l=zr(s,fxe),c=sc(o);a.push(c),"value"in l&&n.updateStore(mm(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(a)}),Te(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(a){var s=a.getNamePath(),o=a.getMeta(),l=Pe(Pe({},o),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),Te(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var a=r.getNamePath(),s=up(n.store,a);s===void 0&&n.updateStore(mm(n.store,a,i))}}),Te(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),Te(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var a=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(a,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(o)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!tZ(d.getNamePath(),i)})){var u=n.store;n.updateStore(mm(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),Te(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,a=r.value;n.updateValue(i,a);break}case"validateField":{var s=r.namePath,o=r.triggerName;n.validateFields([s],{triggerName:o});break}}}),Te(this,"notifyObservers",function(r,i,a){if(n.subscribable){var s=Pe(Pe({},a),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(o){var l=o.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),Te(this,"triggerDependenciesUpdate",function(r,i){var a=n.getDependencyChildrenFields(i);return a.length&&n.validateFields(a),n.notifyObservers(r,a,{type:"dependenciesUpdate",relatedFields:[i].concat(_n(a))}),a}),Te(this,"updateValue",function(r,i){var a=sc(r),s=n.store;n.updateStore(mm(n.store,a,i)),n.notifyObservers(s,[a],{type:"valueUpdate",source:"internal"}),n.notifyWatch([a]);var o=n.triggerDependenciesUpdate(s,a),l=n.callbacks.onValuesChange;if(l){var c=S7(n.store,[a]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([a].concat(_n(o)))}),Te(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var a=Jw(n.store,r);n.updateStore(a)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Te(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),Te(this,"getDependencyChildrenFields",function(r){var i=new Set,a=[],s=new mw;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=sc(u);s.update(d,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var o=function l(c){var u=s.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var h=d.getNamePath();d.isFieldDirty()&&h.length&&(a.push(h),l(h))}})};return o(r),a}),Te(this,"triggerOnFieldsChange",function(r,i){var a=n.callbacks.onFieldsChange;if(a){var s=n.getFields();if(i){var o=new mw;i.forEach(function(c){var u=c.name,d=c.errors;o.set(u,d)}),s.forEach(function(c){c.errors=o.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return uS(r,u)});l.length&&a(l,s)}}),Te(this,"validateFields",function(r,i){n.warningUnhooked();var a,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(a=r,s=i):s=r;var o=!!a,l=o?a.map(sc):[],c=[],u=String(Date.now()),d=new Set,h=s||{},g=h.recursive,v=h.dirty;n.getFieldEntities(!0).forEach(function(E){if(o||l.push(E.getNamePath()),!(!E.props.rules||!E.props.rules.length)&&!(v&&!E.isFieldDirty())){var M=E.getNamePath();if(d.add(M.join(u)),!o||uS(l,M,g)){var R=E.validateRules(Pe({validateMessages:Pe(Pe({},eZ),n.validateMessages)},s));c.push(R.then(function(){return{name:M,errors:[],warnings:[]}}).catch(function(L){var N,D=[],H=[];return(N=L.forEach)===null||N===void 0||N.call(L,function(U){var q=U.rule.warningOnly,K=U.errors;q?H.push.apply(H,_n(K)):D.push.apply(D,_n(K))}),D.length?Promise.reject({name:M,errors:D,warnings:H}):{name:M,errors:D,warnings:H}}))}}});var x=uxe(c);n.lastValidatePromise=x,x.catch(function(E){return E}).then(function(E){var M=E.map(function(R){var L=R.name;return L});n.notifyObservers(n.store,M,{type:"validateFinish"}),n.triggerOnFieldsChange(M,E)});var w=x.then(function(){return n.lastValidatePromise===x?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(E){var M=E.filter(function(R){return R&&R.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:M,outOfDate:n.lastValidatePromise!==x})});w.catch(function(E){return E});var C=l.filter(function(E){return d.has(E.join(u))});return n.triggerOnFieldsChange(C),w}),Te(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(a){console.error(a)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function iZ(e){var t=I.useRef(),n=I.useState({}),r=mt(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var a=function(){i({})},s=new dxe(a);t.current=s.getForm()}return[t.current]}var hD=I.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),hxe=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,a=t.children,s=I.useContext(hD),o=I.useRef({});return I.createElement(hD.Provider,{value:Pe(Pe({},s),{},{validateMessages:Pe(Pe({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:o.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:o.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(o.current=Pe(Pe({},o.current),{},Te({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=Pe({},o.current);delete u[c],o.current=u,s.unregisterForm(c)}})},a)},pxe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],gxe=function(t,n){var r=t.name,i=t.initialValues,a=t.fields,s=t.form,o=t.preserve,l=t.children,c=t.component,u=c===void 0?"form":c,d=t.validateMessages,h=t.validateTrigger,g=h===void 0?"onChange":h,v=t.onValuesChange,x=t.onFieldsChange,w=t.onFinish,C=t.onFinishFailed,E=t.clearOnDestroy,M=zr(t,pxe),R=I.useRef(null),L=I.useContext(hD),N=iZ(s),D=mt(N,1),H=D[0],U=H.getInternalHooks(q_),q=U.useSubscribe,K=U.setInitialValues,Q=U.setCallbacks,X=U.setValidateMessages,te=U.setPreserve,ee=U.destroyForm;I.useImperativeHandle(n,function(){return Pe(Pe({},H),{},{nativeElement:R.current})}),I.useEffect(function(){return L.registerForm(r,H),function(){L.unregisterForm(r)}},[L,H,r]),X(Pe(Pe({},L.validateMessages),d)),Q({onValuesChange:v,onFieldsChange:function(Se){if(L.triggerFormChange(r,Se),x){for(var Re=arguments.length,je=new Array(Re>1?Re-1:0),Fe=1;Fe<Re;Fe++)je[Fe-1]=arguments[Fe];x.apply(void 0,[Se].concat(je))}},onFinish:function(Se){L.triggerFormFinish(r,Se),w&&w(Se)},onFinishFailed:C}),te(o);var Z=I.useRef(null);K(i,!Z.current),Z.current||(Z.current=!0),I.useEffect(function(){return function(){return ee(E)}},[]);var re,oe=typeof l=="function";if(oe){var ce=H.getFieldsValue(!0);re=l(ce,H)}else re=l;q(!oe);var le=I.useRef();I.useEffect(function(){oxe(le.current||[],a||[])||H.setFields(a||[]),le.current=a},[a,H]);var pe=I.useMemo(function(){return Pe(Pe({},H),{},{validateTrigger:g})},[H,g]),ye=I.createElement(qA.Provider,{value:null},I.createElement(HS.Provider,{value:pe},re));return u===!1?ye:I.createElement(u,In({},M,{ref:R,onSubmit:function(Se){Se.preventDefault(),Se.stopPropagation(),H.submit()},onReset:function(Se){var Re;Se.preventDefault(),H.resetFields(),(Re=M.onReset)===null||Re===void 0||Re.call(M,Se)}}),ye)};function E7(e){try{return JSON.stringify(e)}catch{return Math.random()}}function mxe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=i===void 0?{}:i,s=C_e(a)?{form:a}:a,o=s.form,l=I.useState(),c=mt(l,2),u=c[0],d=c[1],h=I.useMemo(function(){return E7(u)},[u]),g=I.useRef(h);g.current=h;var v=I.useContext(HS),x=o||v,w=x&&x._init,C=sc(r),E=I.useRef(C);return E.current=C,I.useEffect(function(){if(w){var M=x.getFieldsValue,R=x.getInternalHooks,L=R(q_),N=L.registerWatch,D=function(K,Q){var X=s.preserve?Q:K;return typeof r=="function"?r(X):up(X,E.current)},H=N(function(q,K){var Q=D(q,K),X=E7(Q);g.current!==X&&(g.current=X,d(Q))}),U=D(M(),M(!0));return u!==U&&d(U),H}},[w]),u}var vxe=I.forwardRef(gxe),zO=vxe;zO.FormProvider=hxe;zO.Field=nZ;zO.List=cxe;zO.useForm=iZ;zO.useWatch=mxe;const ux=I.createContext({}),yxe=e=>{let{children:t,status:n,override:r}=e;const i=I.useContext(ux),a=I.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return I.createElement(ux.Provider,{value:a},t)},bxe=I.createContext(void 0),KA=e=>{const{space:t,form:n,children:r}=e;if(r==null)return null;let i=r;return n&&(i=it.createElement(yxe,{override:!0,status:!0},i)),t&&(i=it.createElement(qbe,null,i)),i};function O7(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function T7(e){const{closable:t,closeIcon:n}=e||{};return it.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}function M7(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(i=>{i&&Object.keys(i).forEach(a=>{i[a]!==void 0&&(e[a]=i[a])})}),e}const _xe={};function xxe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_xe;const r=T7(e),i=T7(t),a=typeof r!="boolean"?!!r?.disabled:!1,s=it.useMemo(()=>Object.assign({closeIcon:it.createElement($O,null)},n),[n]),o=it.useMemo(()=>r===!1?!1:r?M7(s,i,r):i===!1?!1:i?M7(s,i):s.closable?s:!1,[r,i,s]);return it.useMemo(()=>{if(o===!1)return[!1,null,a];const{closeIconRender:l}=s,{closeIcon:c}=o;let u=c;if(u!=null){l&&(u=l(c));const d=gg(o,!0);Object.keys(d).length&&(u=it.isValidElement(u)?it.cloneElement(u,d):it.createElement("span",Object.assign({},d),u))}return[!0,u,a]},[o,s])}var aZ=function(t){if(jf()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},wxe=function(t,n){if(!aZ(t))return!1;var r=document.createElement("div"),i=r.style[t];return r.style[t]=n,r.style[t]!==i};function pD(e,t){return!Array.isArray(e)&&t!==void 0?wxe(e,t):aZ(e)}const OR=e=>{const{prefixCls:t,className:n,style:r,size:i,shape:a}=e,s=ut({[`${t}-lg`]:i==="large",[`${t}-sm`]:i==="small"}),o=ut({[`${t}-circle`]:a==="circle",[`${t}-square`]:a==="square",[`${t}-round`]:a==="round"}),l=I.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return I.createElement("span",{className:ut(t,s,o,n),style:Object.assign(Object.assign({},l),r)})},Sxe=new $i("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),TR=e=>({height:e,lineHeight:et(e)}),fS=e=>Object.assign({width:e},TR(e)),Cxe=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Sxe,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Gk=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},TR(e)),Exe=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:a}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},fS(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},fS(i)),[`${t}${t}-sm`]:Object.assign({},fS(a))}},Oxe=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:a,gradientFromColor:s,calc:o}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},Gk(t,o)),[`${r}-lg`]:Object.assign({},Gk(i,o)),[`${r}-sm`]:Object.assign({},Gk(a,o))}},A7=e=>Object.assign({width:e},TR(e)),Txe=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:a}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},A7(a(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},A7(n)),{maxWidth:a(n).mul(4).equal(),maxHeight:a(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Wk=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},qk=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},TR(e)),Mxe=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:a,gradientFromColor:s,calc:o}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:o(r).mul(2).equal(),minWidth:o(r).mul(2).equal()},qk(r,o))},Wk(e,r,n)),{[`${n}-lg`]:Object.assign({},qk(i,o))}),Wk(e,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},qk(a,o))}),Wk(e,a,`${n}-sm`))},Axe=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:a,skeletonInputCls:s,skeletonImageCls:o,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:h,marginSM:g,borderRadius:v,titleHeight:x,blockRadius:w,paragraphLiHeight:C,controlHeightXS:E,paragraphMarginTop:M}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},fS(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},fS(c)),[`${n}-sm`]:Object.assign({},fS(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:x,background:d,borderRadius:w,[`+ ${i}`]:{marginBlockStart:u}},[i]:{padding:0,"> li":{width:"100%",height:C,listStyle:"none",background:d,borderRadius:w,"+ li":{marginBlockStart:E}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${i} > li`]:{borderRadius:v}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:g,[`+ ${i}`]:{marginBlockStart:M}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Mxe(e)),Exe(e)),Oxe(e)),Txe(e)),[`${t}${t}-block`]:{width:"100%",[a]:{width:"100%"},[s]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${a},
        ${s},
        ${o}
      `]:Object.assign({},Cxe(e))}}},Ixe=e=>{const{colorFillContent:t,colorFill:n}=e,r=t,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},R2=no("Skeleton",e=>{const{componentCls:t,calc:n}=e,r=ga(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Axe(r)]},Ixe,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Pxe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,shape:a="circle",size:s="default"}=e,{getPrefixCls:o}=I.useContext(ii),l=o("skeleton",t),[c,u,d]=R2(l),h=rl(e,["prefixCls","className"]),g=ut(l,`${l}-element`,{[`${l}-active`]:i},n,r,u,d);return c(I.createElement("div",{className:g},I.createElement(OR,Object.assign({prefixCls:`${l}-avatar`,shape:a,size:s},h))))},Rxe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:a=!1,size:s="default"}=e,{getPrefixCls:o}=I.useContext(ii),l=o("skeleton",t),[c,u,d]=R2(l),h=rl(e,["prefixCls"]),g=ut(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:a},n,r,u,d);return c(I.createElement("div",{className:g},I.createElement(OR,Object.assign({prefixCls:`${l}-button`,size:s},h))))},$xe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",kxe=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:a}=e,{getPrefixCls:s}=I.useContext(ii),o=s("skeleton",t),[l,c,u]=R2(o),d=ut(o,`${o}-element`,{[`${o}-active`]:a},n,r,c,u);return l(I.createElement("div",{className:d},I.createElement("div",{className:ut(`${o}-image`,n),style:i},I.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${o}-image-svg`},I.createElement("title",null,"Image placeholder"),I.createElement("path",{d:$xe,className:`${o}-image-path`})))))},Lxe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:a,size:s="default"}=e,{getPrefixCls:o}=I.useContext(ii),l=o("skeleton",t),[c,u,d]=R2(l),h=rl(e,["prefixCls"]),g=ut(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:a},n,r,u,d);return c(I.createElement("div",{className:g},I.createElement(OR,Object.assign({prefixCls:`${l}-input`,size:s},h))))},Nxe=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:a,children:s}=e,{getPrefixCls:o}=I.useContext(ii),l=o("skeleton",t),[c,u,d]=R2(l),h=ut(l,`${l}-element`,{[`${l}-active`]:a},u,n,r,d);return c(I.createElement("div",{className:h},I.createElement("div",{className:ut(`${l}-image`,n),style:i},s)))},Dxe=(e,t)=>{const{width:n,rows:r=2}=t;if(Array.isArray(n))return n[e];if(r-1===e)return n},zxe=e=>{const{prefixCls:t,className:n,style:r,rows:i=0}=e,a=Array.from({length:i}).map((s,o)=>I.createElement("li",{key:o,style:{width:Dxe(o,e)}}));return I.createElement("ul",{className:ut(t,n),style:r},a)},Bxe=e=>{let{prefixCls:t,className:n,width:r,style:i}=e;return I.createElement("h3",{className:ut(t,n),style:Object.assign({width:r},i)})};function Kk(e){return e&&typeof e=="object"?e:{}}function jxe(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Fxe(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Hxe(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const Rx=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:i,style:a,children:s,avatar:o=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=e,{getPrefixCls:h,direction:g,className:v,style:x}=eu("skeleton"),w=h("skeleton",t),[C,E,M]=R2(w);if(n||!("loading"in e)){const R=!!o,L=!!l,N=!!c;let D;if(R){const q=Object.assign(Object.assign({prefixCls:`${w}-avatar`},jxe(L,N)),Kk(o));D=I.createElement("div",{className:`${w}-header`},I.createElement(OR,Object.assign({},q)))}let H;if(L||N){let q;if(L){const Q=Object.assign(Object.assign({prefixCls:`${w}-title`},Fxe(R,N)),Kk(l));q=I.createElement(Bxe,Object.assign({},Q))}let K;if(N){const Q=Object.assign(Object.assign({prefixCls:`${w}-paragraph`},Hxe(R,L)),Kk(c));K=I.createElement(zxe,Object.assign({},Q))}H=I.createElement("div",{className:`${w}-content`},q,K)}const U=ut(w,{[`${w}-with-avatar`]:R,[`${w}-active`]:u,[`${w}-rtl`]:g==="rtl",[`${w}-round`]:d},v,r,i,E,M);return C(I.createElement("div",{className:U,style:Object.assign(Object.assign({},x),a)},D,H))}return s??null};Rx.Button=Rxe;Rx.Avatar=Pxe;Rx.Input=Lxe;Rx.Image=kxe;Rx.Node=Nxe;const Vxe=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Uxe=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Gxe=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,a={};for(let s=i;s>=0;s--)s===0?(a[`${r}${t}-${s}`]={display:"none"},a[`${r}-push-${s}`]={insetInlineStart:"auto"},a[`${r}-pull-${s}`]={insetInlineEnd:"auto"},a[`${r}${t}-push-${s}`]={insetInlineStart:"auto"},a[`${r}${t}-pull-${s}`]={insetInlineEnd:"auto"},a[`${r}${t}-offset-${s}`]={marginInlineStart:0},a[`${r}${t}-order-${s}`]={order:0}):(a[`${r}${t}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],a[`${r}${t}-push-${s}`]={insetInlineStart:`${s/i*100}%`},a[`${r}${t}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},a[`${r}${t}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},a[`${r}${t}-order-${s}`]={order:s});return a[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},a},gD=(e,t)=>Gxe(e,t),Wxe=(e,t,n)=>({[`@media (min-width: ${et(t)})`]:Object.assign({},gD(e,n))}),qxe=()=>({}),Kxe=()=>({}),Yxe=no("Grid",Vxe,qxe),Xxe=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),Zxe=no("Grid",e=>{const t=ga(e,{gridColumns:24}),n=Xxe(t);return delete n.xs,[Uxe(t),gD(t,""),gD(t,"-xs"),Object.keys(n).map(r=>Wxe(t,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Kxe);function Qxe(e){return t=>I.createElement(Zy,{theme:{token:{motion:!1,zIndexPopupBase:0}}},I.createElement(e,Object.assign({},t)))}const oZ=(e,t,n,r,i)=>Qxe(s=>{const{prefixCls:o,style:l}=s,c=I.useRef(null),[u,d]=I.useState(0),[h,g]=I.useState(0),[v,x]=Us(!1,{value:s.open}),{getPrefixCls:w}=I.useContext(ii),C=w(r||"select",o);I.useEffect(()=>{if(x(!0),typeof ResizeObserver<"u"){const R=new ResizeObserver(N=>{const D=N[0].target;d(D.offsetHeight+8),g(D.offsetWidth)}),L=setInterval(()=>{var N;const D=i?`.${i(C)}`:`.${C}-dropdown`,H=(N=c.current)===null||N===void 0?void 0:N.querySelector(D);H&&(clearInterval(L),R.observe(H))},10);return()=>{clearInterval(L),R.disconnect()}}},[]);let E=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},l),{margin:0}),open:v,visible:v,getPopupContainer:()=>c.current});t&&Object.assign(E,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const M={paddingBottom:u,position:"relative",minWidth:h};return I.createElement("div",{ref:c,style:M},I.createElement(e,Object.assign({},E)))}),Lz=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e?.substr(0,4))};var MR=function(t){var n=t.className,r=t.customizeIcon,i=t.customizeIconProps,a=t.children,s=t.onMouseDown,o=t.onClick,l=typeof r=="function"?r(i):r;return I.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),s?.(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:o,"aria-hidden":!0},l!==void 0?l:I.createElement("span",{className:ut(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},a))},Jxe=function(t,n,r,i,a){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=it.useMemo(function(){if(Rr(i)==="object")return i.clearIcon;if(a)return a},[i,a]),u=it.useMemo(function(){return!!(!s&&i&&(r.length||o)&&!(l==="combobox"&&o===""))},[i,s,r.length,o,l]);return{allowClear:u,clearIcon:it.createElement(MR,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:c},"")}},sZ=I.createContext(null);function ewe(){return I.useContext(sZ)}function twe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=I.useState(!1),n=mt(t,2),r=n[0],i=n[1],a=I.useRef(null),s=function(){window.clearTimeout(a.current)};I.useEffect(function(){return s},[]);var o=function(c,u){s(),a.current=window.setTimeout(function(){i(c),u&&u()},e)};return[r,o,s]}function lZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=I.useRef(null),n=I.useRef(null);I.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||t.current===null)&&(t.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},r]}function nwe(e,t,n,r){var i=I.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},I.useEffect(function(){function a(s){var o;if(!((o=i.current)!==null&&o!==void 0&&o.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&e().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",a),function(){return window.removeEventListener("mousedown",a)}},[])}function rwe(e){return e&&![mr.ESC,mr.SHIFT,mr.BACKSPACE,mr.TAB,mr.WIN_KEY,mr.ALT,mr.META,mr.WIN_KEY_RIGHT,mr.CTRL,mr.SEMICOLON,mr.EQUALS,mr.CAPS_LOCK,mr.CONTEXT_MENU,mr.F1,mr.F2,mr.F3,mr.F4,mr.F5,mr.F6,mr.F7,mr.F8,mr.F9,mr.F10,mr.F11,mr.F12].includes(e)}var iwe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],vw=void 0;function awe(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,a=e.renderItem,s=e.responsive,o=e.responsiveDisabled,l=e.registerSize,c=e.itemKey,u=e.className,d=e.style,h=e.children,g=e.display,v=e.order,x=e.component,w=x===void 0?"div":x,C=zr(e,iwe),E=s&&!g;function M(H){l(c,H)}I.useEffect(function(){return function(){M(null)}},[]);var R=a&&i!==vw?a(i,{index:v}):h,L;r||(L={opacity:E?0:1,height:E?0:vw,overflowY:E?"hidden":vw,order:s?v:vw,pointerEvents:E?"none":vw,position:E?"absolute":vw});var N={};E&&(N["aria-hidden"]=!0);var D=I.createElement(w,In({className:ut(!r&&n,u),style:Pe(Pe({},L),d)},N,C,{ref:t}),R);return s&&(D=I.createElement(zf,{onResize:function(U){var q=U.offsetWidth;M(q)},disabled:o},D)),D}var iE=I.forwardRef(awe);iE.displayName="Item";function owe(e){if(typeof MessageChannel>"u")ja(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function swe(){var e=I.useRef(null),t=function(r){e.current||(e.current=[],owe(function(){g1.unstable_batchedUpdates(function(){e.current.forEach(function(i){i()}),e.current=null})})),e.current.push(r)};return t}function lC(e,t){var n=I.useState(t),r=mt(n,2),i=r[0],a=r[1],s=to(function(o){e(function(){a(o)})});return[i,s]}var YA=it.createContext(null),lwe=["component"],cwe=["className"],uwe=["className"],fwe=function(t,n){var r=I.useContext(YA);if(!r){var i=t.component,a=i===void 0?"div":i,s=zr(t,lwe);return I.createElement(a,In({},s,{ref:n}))}var o=r.className,l=zr(r,cwe),c=t.className,u=zr(t,uwe);return I.createElement(YA.Provider,{value:null},I.createElement(iE,In({ref:n,className:ut(o,c)},l,u)))},cZ=I.forwardRef(fwe);cZ.displayName="RawItem";var dwe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],uZ="responsive",fZ="invalidate";function hwe(e){return"+ ".concat(e.length," ...")}function pwe(e,t){var n=e.prefixCls,r=n===void 0?"rc-overflow":n,i=e.data,a=i===void 0?[]:i,s=e.renderItem,o=e.renderRawItem,l=e.itemKey,c=e.itemWidth,u=c===void 0?10:c,d=e.ssr,h=e.style,g=e.className,v=e.maxCount,x=e.renderRest,w=e.renderRawRest,C=e.suffix,E=e.component,M=E===void 0?"div":E,R=e.itemComponent,L=e.onVisibleChange,N=zr(e,dwe),D=d==="full",H=swe(),U=lC(H,null),q=mt(U,2),K=q[0],Q=q[1],X=K||0,te=lC(H,new Map),ee=mt(te,2),Z=ee[0],re=ee[1],oe=lC(H,0),ce=mt(oe,2),le=ce[0],pe=ce[1],ye=lC(H,0),_e=mt(ye,2),Se=_e[0],Re=_e[1],je=lC(H,0),Fe=mt(je,2),ze=Fe[0],Ze=Fe[1],st=I.useState(null),Ue=mt(st,2),Ne=Ue[0],qe=Ue[1],We=I.useState(null),rt=mt(We,2),ht=rt[0],ft=rt[1],Rt=I.useMemo(function(){return ht===null&&D?Number.MAX_SAFE_INTEGER:ht||0},[ht,K]),Yt=I.useState(!1),Jt=mt(Yt,2),xt=Jt[0],Ft=Jt[1],Lt="".concat(r,"-item"),Kt=Math.max(le,Se),hn=v===uZ,dn=a.length&&hn,Cn=v===fZ,kn=dn||typeof v=="number"&&a.length>v,sn=I.useMemo(function(){var It=a;return dn?K===null&&D?It=a:It=a.slice(0,Math.min(a.length,X/u)):typeof v=="number"&&(It=a.slice(0,v)),It},[a,u,K,v,dn]),un=I.useMemo(function(){return dn?a.slice(Rt+1):a.slice(sn.length)},[a,sn,dn,Rt]),gn=I.useCallback(function(It,zt){var Dt;return typeof l=="function"?l(It):(Dt=l&&It?.[l])!==null&&Dt!==void 0?Dt:zt},[l]),Qt=I.useCallback(s||function(It){return It},[s]);function Ln(It,zt,Dt){ht===It&&(zt===void 0||zt===Ne)||(ft(It),Dt||(Ft(It<a.length-1),L?.(It)),zt!==void 0&&qe(zt))}function Gt(It,zt){Q(zt.clientWidth)}function He(It,zt){re(function(Dt){var Tt=new Map(Dt);return zt===null?Tt.delete(It):Tt.set(It,zt),Tt})}function be(It,zt){Re(zt),pe(Se)}function we(It,zt){Ze(zt)}function xe(It){return Z.get(gn(sn[It],It))}Sa(function(){if(X&&typeof Kt=="number"&&sn){var It=ze,zt=sn.length,Dt=zt-1;if(!zt){Ln(0,null);return}for(var Tt=0;Tt<zt;Tt+=1){var xn=xe(Tt);if(D&&(xn=xn||0),xn===void 0){Ln(Tt-1,void 0,!0);break}if(It+=xn,Dt===0&&It<=X||Tt===Dt-1&&It+xe(Dt)<=X){Ln(Dt,null);break}else if(It+Kt>X){Ln(Tt-1,It-xn-ze+Se);break}}C&&xe(0)+ze>X&&qe(null)}},[X,Z,Se,ze,gn,sn]);var Ye=xt&&!!un.length,lt={};Ne!==null&&dn&&(lt={position:"absolute",left:Ne,top:0});var ct={prefixCls:Lt,responsive:dn,component:R,invalidate:Cn},_t=o?function(It,zt){var Dt=gn(It,zt);return I.createElement(YA.Provider,{key:Dt,value:Pe(Pe({},ct),{},{order:zt,item:It,itemKey:Dt,registerSize:He,display:zt<=Rt})},o(It,zt))}:function(It,zt){var Dt=gn(It,zt);return I.createElement(iE,In({},ct,{order:zt,key:Dt,item:It,renderItem:Qt,itemKey:Dt,registerSize:He,display:zt<=Rt}))},yt={order:Ye?Rt:Number.MAX_SAFE_INTEGER,className:"".concat(Lt,"-rest"),registerSize:be,display:Ye},jt=x||hwe,$t=w?I.createElement(YA.Provider,{value:Pe(Pe({},ct),yt)},w(un)):I.createElement(iE,In({},ct,yt),typeof jt=="function"?jt(un):jt),vt=I.createElement(M,In({className:ut(!Cn&&r,g),style:h,ref:t},N),sn.map(_t),kn?$t:null,C&&I.createElement(iE,In({},ct,{responsive:hn,responsiveDisabled:!dn,order:Rt,className:"".concat(Lt,"-suffix"),registerSize:we,display:!0,style:lt}),C));return hn?I.createElement(zf,{onResize:Gt,disabled:!dn},vt):vt}var Yv=I.forwardRef(pwe);Yv.displayName="Overflow";Yv.Item=cZ;Yv.RESPONSIVE=uZ;Yv.INVALIDATE=fZ;var gwe=function(t,n){var r,i=t.prefixCls,a=t.id,s=t.inputElement,o=t.disabled,l=t.tabIndex,c=t.autoFocus,u=t.autoComplete,d=t.editable,h=t.activeDescendantId,g=t.value,v=t.maxLength,x=t.onKeyDown,w=t.onMouseDown,C=t.onChange,E=t.onPaste,M=t.onCompositionStart,R=t.onCompositionEnd,L=t.onBlur,N=t.open,D=t.attrs,H=s||I.createElement("input",null),U=H,q=U.ref,K=U.props,Q=K.onKeyDown,X=K.onChange,te=K.onMouseDown,ee=K.onCompositionStart,Z=K.onCompositionEnd,re=K.onBlur,oe=K.style;return"maxLength"in H.props,H=I.cloneElement(H,Pe(Pe(Pe({type:"search"},K),{},{id:a,ref:Ed(n,q),disabled:o,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:ut("".concat(i,"-selection-search-input"),(r=H)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":N||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":N?h:void 0},D),{},{value:d?g:"",maxLength:v,readOnly:!d,unselectable:d?null:"on",style:Pe(Pe({},oe),{},{opacity:d?null:0}),onKeyDown:function(le){x(le),Q&&Q(le)},onMouseDown:function(le){w(le),te&&te(le)},onChange:function(le){C(le),X&&X(le)},onCompositionStart:function(le){M(le),ee&&ee(le)},onCompositionEnd:function(le){R(le),Z&&Z(le)},onPaste:E,onBlur:function(le){L(le),re&&re(le)}})),H},dZ=I.forwardRef(gwe);function hZ(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var mwe=typeof window<"u"&&window.document&&window.document.documentElement,vwe=mwe;function ywe(e){return e!=null}function bwe(e){return!e&&e!==0}function I7(e){return["string","number"].includes(Rr(e))}function pZ(e){var t=void 0;return e&&(I7(e.title)?t=e.title.toString():I7(e.label)&&(t=e.label.toString())),t}function _we(e,t){vwe?I.useLayoutEffect(e,t):I.useEffect(e,t)}function xwe(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var P7=function(t){t.preventDefault(),t.stopPropagation()},wwe=function(t){var n=t.id,r=t.prefixCls,i=t.values,a=t.open,s=t.searchValue,o=t.autoClearSearchValue,l=t.inputRef,c=t.placeholder,u=t.disabled,d=t.mode,h=t.showSearch,g=t.autoFocus,v=t.autoComplete,x=t.activeDescendantId,w=t.tabIndex,C=t.removeIcon,E=t.maxTagCount,M=t.maxTagTextLength,R=t.maxTagPlaceholder,L=R===void 0?function(We){return"+ ".concat(We.length," ...")}:R,N=t.tagRender,D=t.onToggleOpen,H=t.onRemove,U=t.onInputChange,q=t.onInputPaste,K=t.onInputKeyDown,Q=t.onInputMouseDown,X=t.onInputCompositionStart,te=t.onInputCompositionEnd,ee=t.onInputBlur,Z=I.useRef(null),re=I.useState(0),oe=mt(re,2),ce=oe[0],le=oe[1],pe=I.useState(!1),ye=mt(pe,2),_e=ye[0],Se=ye[1],Re="".concat(r,"-selection"),je=a||d==="multiple"&&o===!1||d==="tags"?s:"",Fe=d==="tags"||d==="multiple"&&o===!1||h&&(a||_e);_we(function(){le(Z.current.scrollWidth)},[je]);var ze=function(rt,ht,ft,Rt,Yt){return I.createElement("span",{title:pZ(rt),className:ut("".concat(Re,"-item"),Te({},"".concat(Re,"-item-disabled"),ft))},I.createElement("span",{className:"".concat(Re,"-item-content")},ht),Rt&&I.createElement(MR,{className:"".concat(Re,"-item-remove"),onMouseDown:P7,onClick:Yt,customizeIcon:C},""))},Ze=function(rt,ht,ft,Rt,Yt,Jt){var xt=function(Lt){P7(Lt),D(!a)};return I.createElement("span",{onMouseDown:xt},N({label:ht,value:rt,disabled:ft,closable:Rt,onClose:Yt,isMaxTag:!!Jt}))},st=function(rt){var ht=rt.disabled,ft=rt.label,Rt=rt.value,Yt=!u&&!ht,Jt=ft;if(typeof M=="number"&&(typeof ft=="string"||typeof ft=="number")){var xt=String(Jt);xt.length>M&&(Jt="".concat(xt.slice(0,M),"..."))}var Ft=function(Kt){Kt&&Kt.stopPropagation(),H(rt)};return typeof N=="function"?Ze(Rt,Jt,ht,Yt,Ft):ze(rt,Jt,ht,Yt,Ft)},Ue=function(rt){if(!i.length)return null;var ht=typeof L=="function"?L(rt):L;return typeof N=="function"?Ze(void 0,ht,!1,!1,void 0,!0):ze({title:ht},ht,!1)},Ne=I.createElement("div",{className:"".concat(Re,"-search"),style:{width:ce},onFocus:function(){Se(!0)},onBlur:function(){Se(!1)}},I.createElement(dZ,{ref:l,open:a,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:g,autoComplete:v,editable:Fe,activeDescendantId:x,value:je,onKeyDown:K,onMouseDown:Q,onChange:U,onPaste:q,onCompositionStart:X,onCompositionEnd:te,onBlur:ee,tabIndex:w,attrs:gg(t,!0)}),I.createElement("span",{ref:Z,className:"".concat(Re,"-search-mirror"),"aria-hidden":!0},je,"")),qe=I.createElement(Yv,{prefixCls:"".concat(Re,"-overflow"),data:i,renderItem:st,renderRest:Ue,suffix:Ne,itemKey:xwe,maxCount:E});return I.createElement("span",{className:"".concat(Re,"-wrap")},qe,!i.length&&!je&&I.createElement("span",{className:"".concat(Re,"-placeholder")},c))},Swe=function(t){var n=t.inputElement,r=t.prefixCls,i=t.id,a=t.inputRef,s=t.disabled,o=t.autoFocus,l=t.autoComplete,c=t.activeDescendantId,u=t.mode,d=t.open,h=t.values,g=t.placeholder,v=t.tabIndex,x=t.showSearch,w=t.searchValue,C=t.activeValue,E=t.maxLength,M=t.onInputKeyDown,R=t.onInputMouseDown,L=t.onInputChange,N=t.onInputPaste,D=t.onInputCompositionStart,H=t.onInputCompositionEnd,U=t.onInputBlur,q=t.title,K=I.useState(!1),Q=mt(K,2),X=Q[0],te=Q[1],ee=u==="combobox",Z=ee||x,re=h[0],oe=w||"";ee&&C&&!X&&(oe=C),I.useEffect(function(){ee&&te(!1)},[ee,C]);var ce=u!=="combobox"&&!d&&!x?!1:!!oe,le=q===void 0?pZ(re):q,pe=I.useMemo(function(){return re?null:I.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:ce?{visibility:"hidden"}:void 0},g)},[re,ce,g,r]);return I.createElement("span",{className:"".concat(r,"-selection-wrap")},I.createElement("span",{className:"".concat(r,"-selection-search")},I.createElement(dZ,{ref:a,prefixCls:r,id:i,open:d,inputElement:n,disabled:s,autoFocus:o,autoComplete:l,editable:Z,activeDescendantId:c,value:oe,onKeyDown:M,onMouseDown:R,onChange:function(_e){te(!0),L(_e)},onPaste:N,onCompositionStart:D,onCompositionEnd:H,onBlur:U,tabIndex:v,attrs:gg(t,!0),maxLength:ee?E:void 0})),!ee&&re?I.createElement("span",{className:"".concat(r,"-selection-item"),title:le,style:ce?{visibility:"hidden"}:void 0},re.label):null,pe)},Cwe=function(t,n){var r=I.useRef(null),i=I.useRef(!1),a=t.prefixCls,s=t.open,o=t.mode,l=t.showSearch,c=t.tokenWithEnter,u=t.disabled,d=t.prefix,h=t.autoClearSearchValue,g=t.onSearch,v=t.onSearchSubmit,x=t.onToggleOpen,w=t.onInputKeyDown,C=t.onInputBlur,E=t.domRef;I.useImperativeHandle(n,function(){return{focus:function(le){r.current.focus(le)},blur:function(){r.current.blur()}}});var M=lZ(0),R=mt(M,2),L=R[0],N=R[1],D=function(le){var pe=le.which,ye=r.current instanceof HTMLTextAreaElement;!ye&&s&&(pe===mr.UP||pe===mr.DOWN)&&le.preventDefault(),w&&w(le),pe===mr.ENTER&&o==="tags"&&!i.current&&!s&&v?.(le.target.value),!(ye&&!s&&~[mr.UP,mr.DOWN,mr.LEFT,mr.RIGHT].indexOf(pe))&&rwe(pe)&&x(!0)},H=function(){N(!0)},U=I.useRef(null),q=function(le){g(le,!0,i.current)!==!1&&x(!0)},K=function(){i.current=!0},Q=function(le){i.current=!1,o!=="combobox"&&q(le.target.value)},X=function(le){var pe=le.target.value;if(c&&U.current&&/[\r\n]/.test(U.current)){var ye=U.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");pe=pe.replace(ye,U.current)}U.current=null,q(pe)},te=function(le){var pe=le.clipboardData,ye=pe?.getData("text");U.current=ye||""},ee=function(le){var pe=le.target;if(pe!==r.current){var ye=document.body.style.msTouchAction!==void 0;ye?setTimeout(function(){r.current.focus()}):r.current.focus()}},Z=function(le){var pe=L();le.target!==r.current&&!pe&&!(o==="combobox"&&u)&&le.preventDefault(),(o!=="combobox"&&(!l||!pe)||!s)&&(s&&h!==!1&&g("",!0,!1),x())},re={inputRef:r,onInputKeyDown:D,onInputMouseDown:H,onInputChange:X,onInputPaste:te,onInputCompositionStart:K,onInputCompositionEnd:Q,onInputBlur:C},oe=o==="multiple"||o==="tags"?I.createElement(wwe,In({},t,re)):I.createElement(Swe,In({},t,re));return I.createElement("div",{ref:E,className:"".concat(a,"-selector"),onClick:ee,onMouseDown:Z},d&&I.createElement("div",{className:"".concat(a,"-prefix")},d),oe)},Ewe=I.forwardRef(Cwe);function Owe(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,a=r||{},s=a.className,o=a.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,h=I.useRef();if(!n||!n.points)return null;var g={position:"absolute"};if(n.autoArrow!==!1){var v=n.points[0],x=n.points[1],w=v[0],C=v[1],E=x[0],M=x[1];w===E||!["t","b"].includes(w)?g.top=d:w==="t"?g.top=0:g.bottom=0,C===M||!["l","r"].includes(C)?g.left=c:C==="l"?g.left=0:g.right=0}return I.createElement("div",{ref:h,className:ut("".concat(t,"-arrow"),s),style:g},o)}function Twe(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,a=e.motion;return i?I.createElement(wg,In({},a,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var o=s.className;return I.createElement("div",{style:{zIndex:r},className:ut("".concat(t,"-mask"),o)})}):null}var Mwe=I.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Awe=I.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,a=e.style,s=e.target,o=e.onVisibleChanged,l=e.open,c=e.keepDom,u=e.fresh,d=e.onClick,h=e.mask,g=e.arrow,v=e.arrowPos,x=e.align,w=e.motion,C=e.maskMotion,E=e.forceRender,M=e.getPopupContainer,R=e.autoDestroy,L=e.portal,N=e.zIndex,D=e.onMouseEnter,H=e.onMouseLeave,U=e.onPointerEnter,q=e.onPointerDownCapture,K=e.ready,Q=e.offsetX,X=e.offsetY,te=e.offsetR,ee=e.offsetB,Z=e.onAlign,re=e.onPrepare,oe=e.stretch,ce=e.targetWidth,le=e.targetHeight,pe=typeof n=="function"?n():n,ye=l||c,_e=M?.length>0,Se=I.useState(!M||!_e),Re=mt(Se,2),je=Re[0],Fe=Re[1];if(Sa(function(){!je&&_e&&s&&Fe(!0)},[je,_e,s]),!je)return null;var ze="auto",Ze={left:"-1000vw",top:"-1000vh",right:ze,bottom:ze};if(K||!l){var st,Ue=x.points,Ne=x.dynamicInset||((st=x._experimental)===null||st===void 0?void 0:st.dynamicInset),qe=Ne&&Ue[0][1]==="r",We=Ne&&Ue[0][0]==="b";qe?(Ze.right=te,Ze.left=ze):(Ze.left=Q,Ze.right=ze),We?(Ze.bottom=ee,Ze.top=ze):(Ze.top=X,Ze.bottom=ze)}var rt={};return oe&&(oe.includes("height")&&le?rt.height=le:oe.includes("minHeight")&&le&&(rt.minHeight=le),oe.includes("width")&&ce?rt.width=ce:oe.includes("minWidth")&&ce&&(rt.minWidth=ce)),l||(rt.pointerEvents="none"),I.createElement(L,{open:E||ye,getContainer:M&&function(){return M(s)},autoDestroy:R},I.createElement(Twe,{prefixCls:i,open:l,zIndex:N,mask:h,motion:C}),I.createElement(zf,{onResize:Z,disabled:!l},function(ht){return I.createElement(wg,In({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(i,"-hidden")},w,{onAppearPrepare:re,onEnterPrepare:re,visible:l,onVisibleChanged:function(Rt){var Yt;w==null||(Yt=w.onVisibleChanged)===null||Yt===void 0||Yt.call(w,Rt),o(Rt)}}),function(ft,Rt){var Yt=ft.className,Jt=ft.style,xt=ut(i,Yt,r);return I.createElement("div",{ref:Ed(ht,t,Rt),className:xt,style:Pe(Pe(Pe(Pe({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},Ze),rt),Jt),{},{boxSizing:"border-box",zIndex:N},a),onMouseEnter:D,onMouseLeave:H,onPointerEnter:U,onClick:d,onPointerDownCapture:q},g&&I.createElement(Owe,{prefixCls:i,arrow:g,arrowPos:v,align:x}),I.createElement(Mwe,{cache:!l&&!u},pe))})}))}),Iwe=I.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=t0(n),a=I.useCallback(function(o){OE(t,r?r(o):o)},[r]),s=Yy(a,Ix(n));return i?I.cloneElement(n,{ref:s}):n}),R7=I.createContext(null);function $7(e){return e?Array.isArray(e)?e:[e]:[]}function Pwe(e,t,n,r){return I.useMemo(function(){var i=$7(n??t),a=$7(r??t),s=new Set(i),o=new Set(a);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),o.has("hover")&&(o.delete("hover"),o.add("click"))),[s,o]},[e,t,n,r])}function Rwe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function $we(e,t,n,r){for(var i=n.points,a=Object.keys(e),s=0;s<a.length;s+=1){var o,l=a[s];if(Rwe((o=e[l])===null||o===void 0?void 0:o.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}function k7(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function BO(e){return e.ownerDocument.defaultView}function mD(e){for(var t=[],n=e?.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=BO(n).getComputedStyle(n),a=i.overflowX,s=i.overflowY,o=i.overflow;[a,s,o].some(function(l){return r.includes(l)})&&t.push(n),n=n.parentElement}return t}function LE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function cC(e){return LE(parseFloat(e),0)}function L7(e,t){var n=Pe({},e);return(t||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=BO(r).getComputedStyle(r),a=i.overflow,s=i.overflowClipMargin,o=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),h=r.offsetHeight,g=r.clientHeight,v=r.offsetWidth,x=r.clientWidth,w=cC(o),C=cC(l),E=cC(c),M=cC(u),R=LE(Math.round(d.width/v*1e3)/1e3),L=LE(Math.round(d.height/h*1e3)/1e3),N=(v-x-E-M)*R,D=(h-g-w-C)*L,H=w*L,U=C*L,q=E*R,K=M*R,Q=0,X=0;if(a==="clip"){var te=cC(s);Q=te*R,X=te*L}var ee=d.x+q-Q,Z=d.y+H-X,re=ee+d.width+2*Q-q-K-N,oe=Z+d.height+2*X-H-U-D;n.left=Math.max(n.left,ee),n.top=Math.max(n.top,Z),n.right=Math.min(n.right,re),n.bottom=Math.min(n.bottom,oe)}}),n}function N7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function D7(e,t){var n=t||[],r=mt(n,2),i=r[0],a=r[1];return[N7(e.width,i),N7(e.height,a)]}function z7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function yw(e,t){var n=t[0],r=t[1],i,a;return n==="t"?a=e.y:n==="b"?a=e.y+e.height:a=e.y+e.height/2,r==="l"?i=e.x:r==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:a}}function Hb(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(r,i){return i===t?n[r]||"c":r}).join("")}function kwe(e,t,n,r,i,a,s){var o=I.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=mt(o,2),c=l[0],u=l[1],d=I.useRef(0),h=I.useMemo(function(){return t?mD(t):[]},[t]),g=I.useRef({}),v=function(){g.current={}};e||v();var x=to(function(){if(t&&n&&e){let ka=function(La,Ki){var qo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kt,Lo=Se.x+La,na=Se.y+Ki,tu=Lo+qe,$c=na+Ne,kc=Math.max(Lo,qo.left),nr=Math.max(na,qo.top),fr=Math.min(tu,qo.right),Gi=Math.min($c,qo.bottom);return Math.max(0,(fr-kc)*(Gi-nr))},Ii=function(){Er=Se.y+Dt,Cr=Er+Ne,$r=Se.x+zt,Zr=$r+qe};var E,M,R,L,N=t,D=N.ownerDocument,H=BO(N),U=H.getComputedStyle(N),q=U.width,K=U.height,Q=U.position,X=N.style.left,te=N.style.top,ee=N.style.right,Z=N.style.bottom,re=N.style.overflow,oe=Pe(Pe({},i[r]),a),ce=D.createElement("div");(E=N.parentElement)===null||E===void 0||E.appendChild(ce),ce.style.left="".concat(N.offsetLeft,"px"),ce.style.top="".concat(N.offsetTop,"px"),ce.style.position=Q,ce.style.height="".concat(N.offsetHeight,"px"),ce.style.width="".concat(N.offsetWidth,"px"),N.style.left="0",N.style.top="0",N.style.right="auto",N.style.bottom="auto",N.style.overflow="hidden";var le;if(Array.isArray(n))le={x:n[0],y:n[1],width:0,height:0};else{var pe,ye,_e=n.getBoundingClientRect();_e.x=(pe=_e.x)!==null&&pe!==void 0?pe:_e.left,_e.y=(ye=_e.y)!==null&&ye!==void 0?ye:_e.top,le={x:_e.x,y:_e.y,width:_e.width,height:_e.height}}var Se=N.getBoundingClientRect();Se.x=(M=Se.x)!==null&&M!==void 0?M:Se.left,Se.y=(R=Se.y)!==null&&R!==void 0?R:Se.top;var Re=D.documentElement,je=Re.clientWidth,Fe=Re.clientHeight,ze=Re.scrollWidth,Ze=Re.scrollHeight,st=Re.scrollTop,Ue=Re.scrollLeft,Ne=Se.height,qe=Se.width,We=le.height,rt=le.width,ht={left:0,top:0,right:je,bottom:Fe},ft={left:-Ue,top:-st,right:ze-Ue,bottom:Ze-st},Rt=oe.htmlRegion,Yt="visible",Jt="visibleFirst";Rt!=="scroll"&&Rt!==Jt&&(Rt=Yt);var xt=Rt===Jt,Ft=L7(ft,h),Lt=L7(ht,h),Kt=Rt===Yt?Lt:Ft,hn=xt?Lt:Kt;N.style.left="auto",N.style.top="auto",N.style.right="0",N.style.bottom="0";var dn=N.getBoundingClientRect();N.style.left=X,N.style.top=te,N.style.right=ee,N.style.bottom=Z,N.style.overflow=re,(L=N.parentElement)===null||L===void 0||L.removeChild(ce);var Cn=LE(Math.round(qe/parseFloat(q)*1e3)/1e3),kn=LE(Math.round(Ne/parseFloat(K)*1e3)/1e3);if(Cn===0||kn===0||EE(n)&&!mR(n))return;var sn=oe.offset,un=oe.targetOffset,gn=D7(Se,sn),Qt=mt(gn,2),Ln=Qt[0],Gt=Qt[1],He=D7(le,un),be=mt(He,2),we=be[0],xe=be[1];le.x-=we,le.y-=xe;var Ye=oe.points||[],lt=mt(Ye,2),ct=lt[0],_t=lt[1],yt=z7(_t),jt=z7(ct),$t=yw(le,yt),vt=yw(Se,jt),It=Pe({},oe),zt=$t.x-vt.x+Ln,Dt=$t.y-vt.y+Gt,Tt=ka(zt,Dt),xn=ka(zt,Dt,Lt),Bt=yw(le,["t","l"]),nn=yw(Se,["t","l"]),Fn=yw(le,["b","r"]),Ht=yw(Se,["b","r"]),ln=oe.overflow||{},rn=ln.adjustX,Tn=ln.adjustY,Un=ln.shiftX,ir=ln.shiftY,Dn=function(Ki){return typeof Ki=="boolean"?Ki:Ki>=0},Er,Cr,$r,Zr;Ii();var li=Dn(Tn),Kr=jt[0]===yt[0];if(li&&jt[0]==="t"&&(Cr>hn.bottom||g.current.bt)){var $n=Dt;Kr?$n-=Ne-We:$n=Bt.y-Ht.y-Gt;var sr=ka(zt,$n),tr=ka(zt,$n,Lt);sr>Tt||sr===Tt&&(!xt||tr>=xn)?(g.current.bt=!0,Dt=$n,Gt=-Gt,It.points=[Hb(jt,0),Hb(yt,0)]):g.current.bt=!1}if(li&&jt[0]==="b"&&(Er<hn.top||g.current.tb)){var Yn=Dt;Kr?Yn+=Ne-We:Yn=Fn.y-nn.y-Gt;var br=ka(zt,Yn),Hr=ka(zt,Yn,Lt);br>Tt||br===Tt&&(!xt||Hr>=xn)?(g.current.tb=!0,Dt=Yn,Gt=-Gt,It.points=[Hb(jt,0),Hb(yt,0)]):g.current.tb=!1}var ki=Dn(rn),Vi=jt[1]===yt[1];if(ki&&jt[1]==="l"&&(Zr>hn.right||g.current.rl)){var pr=zt;Vi?pr-=qe-rt:pr=Bt.x-Ht.x-Ln;var _r=ka(pr,Dt),Vr=ka(pr,Dt,Lt);_r>Tt||_r===Tt&&(!xt||Vr>=xn)?(g.current.rl=!0,zt=pr,Ln=-Ln,It.points=[Hb(jt,1),Hb(yt,1)]):g.current.rl=!1}if(ki&&jt[1]==="r"&&($r<hn.left||g.current.lr)){var ta=zt;Vi?ta+=qe-rt:ta=Fn.x-nn.x-Ln;var Wo=ka(ta,Dt),Ks=ka(ta,Dt,Lt);Wo>Tt||Wo===Tt&&(!xt||Ks>=xn)?(g.current.lr=!0,zt=ta,Ln=-Ln,It.points=[Hb(jt,1),Hb(yt,1)]):g.current.lr=!1}Ii();var $o=Un===!0?0:Un;typeof $o=="number"&&($r<Lt.left&&(zt-=$r-Lt.left-Ln,le.x+rt<Lt.left+$o&&(zt+=le.x-Lt.left+rt-$o)),Zr>Lt.right&&(zt-=Zr-Lt.right-Ln,le.x>Lt.right-$o&&(zt+=le.x-Lt.right+$o)));var ma=ir===!0?0:ir;typeof ma=="number"&&(Er<Lt.top&&(Dt-=Er-Lt.top-Gt,le.y+We<Lt.top+ma&&(Dt+=le.y-Lt.top+We-ma)),Cr>Lt.bottom&&(Dt-=Cr-Lt.bottom-Gt,le.y>Lt.bottom-ma&&(Dt+=le.y-Lt.bottom+ma)));var ms=Se.x+zt,Ys=ms+qe,ko=Se.y+Dt,il=ko+Ne,ai=le.x,gr=ai+rt,Jn=le.y,ur=Jn+We,ci=Math.max(ms,ai),Ci=Math.min(Ys,gr),Ei=(ci+Ci)/2,ro=Ei-ms,Br=Math.max(ko,Jn),Ui=Math.min(il,ur),Fa=(Br+Ui)/2,bo=Fa-ko;s?.(t,It);var Tr=dn.right-Se.x-(zt+Se.width),xr=dn.bottom-Se.y-(Dt+Se.height);Cn===1&&(zt=Math.round(zt),Tr=Math.round(Tr)),kn===1&&(Dt=Math.round(Dt),xr=Math.round(xr));var ei={ready:!0,offsetX:zt/Cn,offsetY:Dt/kn,offsetR:Tr/Cn,offsetB:xr/kn,arrowX:ro/Cn,arrowY:bo/kn,scaleX:Cn,scaleY:kn,align:It};u(ei)}}),w=function(){d.current+=1;var M=d.current;Promise.resolve().then(function(){d.current===M&&x()})},C=function(){u(function(M){return Pe(Pe({},M),{},{ready:!1})})};return Sa(C,[r]),Sa(function(){e||C()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,w]}function Lwe(e,t,n,r,i){Sa(function(){if(e&&t&&n){let d=function(){r(),i()};var a=t,s=n,o=mD(a),l=mD(s),c=BO(s),u=new Set([c].concat(_n(o),_n(l)));return u.forEach(function(h){h.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(h){h.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[e,t,n])}function Nwe(e,t,n,r,i,a,s,o){var l=I.useRef(e);l.current=e;var c=I.useRef(!1);I.useEffect(function(){if(t&&r&&(!i||a)){var d=function(){c.current=!1},h=function(w){var C;l.current&&!s(((C=w.composedPath)===null||C===void 0||(C=C.call(w))===null||C===void 0?void 0:C[0])||w.target)&&!c.current&&o(!1)},g=BO(r);g.addEventListener("pointerdown",d,!0),g.addEventListener("mousedown",h,!0),g.addEventListener("contextmenu",h,!0);var v=UA(n);return v&&(v.addEventListener("mousedown",h,!0),v.addEventListener("contextmenu",h,!0)),function(){g.removeEventListener("pointerdown",d,!0),g.removeEventListener("mousedown",h,!0),g.removeEventListener("contextmenu",h,!0),v&&(v.removeEventListener("mousedown",h,!0),v.removeEventListener("contextmenu",h,!0))}}},[t,n,r,i,a]);function u(){c.current=!0}return u}var Dwe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function zwe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QX,t=I.forwardRef(function(n,r){var i=n.prefixCls,a=i===void 0?"rc-trigger-popup":i,s=n.children,o=n.action,l=o===void 0?"hover":o,c=n.showAction,u=n.hideAction,d=n.popupVisible,h=n.defaultPopupVisible,g=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,x=n.mouseEnterDelay,w=n.mouseLeaveDelay,C=w===void 0?.1:w,E=n.focusDelay,M=n.blurDelay,R=n.mask,L=n.maskClosable,N=L===void 0?!0:L,D=n.getPopupContainer,H=n.forceRender,U=n.autoDestroy,q=n.destroyPopupOnHide,K=n.popup,Q=n.popupClassName,X=n.popupStyle,te=n.popupPlacement,ee=n.builtinPlacements,Z=ee===void 0?{}:ee,re=n.popupAlign,oe=n.zIndex,ce=n.stretch,le=n.getPopupClassNameFromAlign,pe=n.fresh,ye=n.alignPoint,_e=n.onPopupClick,Se=n.onPopupAlign,Re=n.arrow,je=n.popupMotion,Fe=n.maskMotion,ze=n.popupTransitionName,Ze=n.popupAnimation,st=n.maskTransitionName,Ue=n.maskAnimation,Ne=n.className,qe=n.getTriggerDOMNode,We=zr(n,Dwe),rt=U||q||!1,ht=I.useState(!1),ft=mt(ht,2),Rt=ft[0],Yt=ft[1];Sa(function(){Yt(Lz())},[]);var Jt=I.useRef({}),xt=I.useContext(R7),Ft=I.useMemo(function(){return{registerSubPopup:function(fr,Gi){Jt.current[fr]=Gi,xt?.registerSubPopup(fr,Gi)}}},[xt]),Lt=ER(),Kt=I.useState(null),hn=mt(Kt,2),dn=hn[0],Cn=hn[1],kn=I.useRef(null),sn=to(function(nr){kn.current=nr,EE(nr)&&dn!==nr&&Cn(nr),xt?.registerSubPopup(Lt,nr)}),un=I.useState(null),gn=mt(un,2),Qt=gn[0],Ln=gn[1],Gt=I.useRef(null),He=to(function(nr){EE(nr)&&Qt!==nr&&(Ln(nr),Gt.current=nr)}),be=I.Children.only(s),we=be?.props||{},xe={},Ye=to(function(nr){var fr,Gi,Lr=Qt;return Lr?.contains(nr)||((fr=UA(Lr))===null||fr===void 0?void 0:fr.host)===nr||nr===Lr||dn?.contains(nr)||((Gi=UA(dn))===null||Gi===void 0?void 0:Gi.host)===nr||nr===dn||Object.values(Jt.current).some(function(Ir){return Ir?.contains(nr)||nr===Ir})}),lt=k7(a,je,Ze,ze),ct=k7(a,Fe,Ue,st),_t=I.useState(h||!1),yt=mt(_t,2),jt=yt[0],$t=yt[1],vt=d??jt,It=to(function(nr){d===void 0&&$t(nr)});Sa(function(){$t(d||!1)},[d]);var zt=I.useRef(vt);zt.current=vt;var Dt=I.useRef([]);Dt.current=[];var Tt=to(function(nr){var fr;It(nr),((fr=Dt.current[Dt.current.length-1])!==null&&fr!==void 0?fr:vt)!==nr&&(Dt.current.push(nr),g?.(nr))}),xn=I.useRef(),Bt=function(){clearTimeout(xn.current)},nn=function(fr){var Gi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Bt(),Gi===0?Tt(fr):xn.current=setTimeout(function(){Tt(fr)},Gi*1e3)};I.useEffect(function(){return Bt},[]);var Fn=I.useState(!1),Ht=mt(Fn,2),ln=Ht[0],rn=Ht[1];Sa(function(nr){(!nr||vt)&&rn(!0)},[vt]);var Tn=I.useState(null),Un=mt(Tn,2),ir=Un[0],Dn=Un[1],Er=I.useState(null),Cr=mt(Er,2),$r=Cr[0],Zr=Cr[1],li=function(fr){Zr([fr.clientX,fr.clientY])},Kr=kwe(vt,dn,ye&&$r!==null?$r:Qt,te,Z,re,Se),$n=mt(Kr,11),sr=$n[0],tr=$n[1],Yn=$n[2],br=$n[3],Hr=$n[4],ki=$n[5],Vi=$n[6],pr=$n[7],_r=$n[8],Vr=$n[9],ta=$n[10],Wo=Pwe(Rt,l,c,u),Ks=mt(Wo,2),$o=Ks[0],ma=Ks[1],ms=$o.has("click"),Ys=ma.has("click")||ma.has("contextMenu"),ko=to(function(){ln||ta()}),il=function(){zt.current&&ye&&Ys&&nn(!1)};Lwe(vt,Qt,dn,ko,il),Sa(function(){ko()},[$r,te]),Sa(function(){vt&&!(Z!=null&&Z[te])&&ko()},[JSON.stringify(re)]);var ai=I.useMemo(function(){var nr=$we(Z,a,Vr,ye);return ut(nr,le?.(Vr))},[Vr,le,Z,a,ye]);I.useImperativeHandle(r,function(){return{nativeElement:Gt.current,popupElement:kn.current,forceAlign:ko}});var gr=I.useState(0),Jn=mt(gr,2),ur=Jn[0],ci=Jn[1],Ci=I.useState(0),Ei=mt(Ci,2),ro=Ei[0],Br=Ei[1],Ui=function(){if(ce&&Qt){var fr=Qt.getBoundingClientRect();ci(fr.width),Br(fr.height)}},Fa=function(){Ui(),ko()},bo=function(fr){rn(!1),ta(),v?.(fr)},Tr=function(){return new Promise(function(fr){Ui(),Dn(function(){return fr})})};Sa(function(){ir&&(ta(),ir(),Dn(null))},[ir]);function xr(nr,fr,Gi,Lr){xe[nr]=function(Ir){var dc;Lr?.(Ir),nn(fr,Gi);for(var Pi=arguments.length,ra=new Array(Pi>1?Pi-1:0),gi=1;gi<Pi;gi++)ra[gi-1]=arguments[gi];(dc=we[nr])===null||dc===void 0||dc.call.apply(dc,[we,Ir].concat(ra))}}(ms||Ys)&&(xe.onClick=function(nr){var fr;zt.current&&Ys?nn(!1):!zt.current&&ms&&(li(nr),nn(!0));for(var Gi=arguments.length,Lr=new Array(Gi>1?Gi-1:0),Ir=1;Ir<Gi;Ir++)Lr[Ir-1]=arguments[Ir];(fr=we.onClick)===null||fr===void 0||fr.call.apply(fr,[we,nr].concat(Lr))});var ei=Nwe(vt,Ys,Qt,dn,R,N,Ye,nn),ka=$o.has("hover"),Ii=ma.has("hover"),La,Ki;ka&&(xr("onMouseEnter",!0,x,function(nr){li(nr)}),xr("onPointerEnter",!0,x,function(nr){li(nr)}),La=function(fr){(vt||ln)&&dn!==null&&dn!==void 0&&dn.contains(fr.target)&&nn(!0,x)},ye&&(xe.onMouseMove=function(nr){var fr;(fr=we.onMouseMove)===null||fr===void 0||fr.call(we,nr)})),Ii&&(xr("onMouseLeave",!1,C),xr("onPointerLeave",!1,C),Ki=function(){nn(!1,C)}),$o.has("focus")&&xr("onFocus",!0,E),ma.has("focus")&&xr("onBlur",!1,M),$o.has("contextMenu")&&(xe.onContextMenu=function(nr){var fr;zt.current&&ma.has("contextMenu")?nn(!1):(li(nr),nn(!0)),nr.preventDefault();for(var Gi=arguments.length,Lr=new Array(Gi>1?Gi-1:0),Ir=1;Ir<Gi;Ir++)Lr[Ir-1]=arguments[Ir];(fr=we.onContextMenu)===null||fr===void 0||fr.call.apply(fr,[we,nr].concat(Lr))}),Ne&&(xe.className=ut(we.className,Ne));var qo=Pe(Pe({},we),xe),Lo={},na=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];na.forEach(function(nr){We[nr]&&(Lo[nr]=function(){for(var fr,Gi=arguments.length,Lr=new Array(Gi),Ir=0;Ir<Gi;Ir++)Lr[Ir]=arguments[Ir];(fr=qo[nr])===null||fr===void 0||fr.call.apply(fr,[qo].concat(Lr)),We[nr].apply(We,Lr)})});var tu=I.cloneElement(be,Pe(Pe({},qo),Lo)),$c={x:ki,y:Vi},kc=Re?Pe({},Re!==!0?Re:{}):null;return I.createElement(I.Fragment,null,I.createElement(zf,{disabled:!vt,ref:He,onResize:Fa},I.createElement(Iwe,{getTriggerDOMNode:qe},tu)),I.createElement(R7.Provider,{value:Ft},I.createElement(Awe,{portal:e,ref:sn,prefixCls:a,popup:K,className:ut(Q,ai),style:X,target:Qt,onMouseEnter:La,onMouseLeave:Ki,onPointerEnter:La,zIndex:oe,open:vt,keepDom:ln,fresh:pe,onClick:_e,onPointerDownCapture:ei,mask:R,motion:lt,maskMotion:ct,onVisibleChanged:bo,onPrepare:Tr,forceRender:H,autoDestroy:rt,getPopupContainer:D,align:Vr,arrow:kc,arrowPos:$c,ready:sr,offsetX:tr,offsetY:Yn,offsetR:br,offsetB:Hr,onAlign:ko,stretch:ce,targetWidth:ur/pr,targetHeight:ro/_r})))});return t}const AR=zwe(QX);var Bwe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],jwe=function(t){var n=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},Fwe=function(t,n){var r=t.prefixCls;t.disabled;var i=t.visible,a=t.children,s=t.popupElement,o=t.animation,l=t.transitionName,c=t.dropdownStyle,u=t.dropdownClassName,d=t.direction,h=d===void 0?"ltr":d,g=t.placement,v=t.builtinPlacements,x=t.dropdownMatchSelectWidth,w=t.dropdownRender,C=t.dropdownAlign,E=t.getPopupContainer,M=t.empty,R=t.getTriggerDOMNode,L=t.onPopupVisibleChange,N=t.onPopupMouseEnter,D=zr(t,Bwe),H="".concat(r,"-dropdown"),U=s;w&&(U=w(s));var q=I.useMemo(function(){return v||jwe(x)},[v,x]),K=o?"".concat(H,"-").concat(o):l,Q=typeof x=="number",X=I.useMemo(function(){return Q?null:x===!1?"minWidth":"width"},[x,Q]),te=c;Q&&(te=Pe(Pe({},te),{},{width:x}));var ee=I.useRef(null);return I.useImperativeHandle(n,function(){return{getPopupElement:function(){var re;return(re=ee.current)===null||re===void 0?void 0:re.popupElement}}}),I.createElement(AR,In({},D,{showAction:L?["click"]:[],hideAction:L?["click"]:[],popupPlacement:g||(h==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:q,prefixCls:H,popupTransitionName:K,popup:I.createElement("div",{onMouseEnter:N},U),ref:ee,stretch:X,popupAlign:C,popupVisible:i,getPopupContainer:E,popupClassName:ut(u,Te({},"".concat(H,"-empty"),M)),popupStyle:te,getTriggerDOMNode:R,onPopupVisibleChange:L}),a)},Hwe=I.forwardRef(Fwe);function B7(e,t){var n=e.key,r;return"value"in e&&(r=e.value),n??(r!==void 0?r:"rc-index-key-".concat(t))}function vD(e){return typeof e<"u"&&!Number.isNaN(e)}function gZ(e,t){var n=e||{},r=n.label,i=n.value,a=n.options,s=n.groupLabel,o=r||(t?"children":"label");return{label:o,value:i||"value",options:a||"options",groupLabel:s||o}}function Vwe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],a=gZ(n,!1),s=a.label,o=a.value,l=a.options,c=a.groupLabel;function u(d,h){Array.isArray(d)&&d.forEach(function(g){if(h||!(l in g)){var v=g[o];i.push({key:B7(g,i.length),groupOption:h,data:g,label:g[s],value:v})}else{var x=g[c];x===void 0&&r&&(x=g.label),i.push({key:B7(g,i.length),group:!0,data:g,label:x}),u(g[l],!0)}})}return u(e,!1),i}function yD(e){var t=Pe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return vl(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Uwe=function(t,n,r){if(!n||!n.length)return null;var i=!1,a=function o(l,c){var u=rX(c),d=u[0],h=u.slice(1);if(!d)return[l];var g=l.split(d);return i=i||g.length>1,g.reduce(function(v,x){return[].concat(_n(v),_n(o(x,h)))},[]).filter(Boolean)},s=a(t,n);return i?typeof r<"u"?s.slice(0,r):s:null},Nz=I.createContext(null);function Gwe(e){var t=e.visible,n=e.values;if(!t)return null;var r=50;return I.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var a=i.label,s=i.value;return["number","string"].includes(Rr(a))?a:s}).join(", ")),n.length>r?", ...":null)}var Wwe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],qwe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],bD=function(t){return t==="tags"||t==="multiple"},Kwe=I.forwardRef(function(e,t){var n,r=e.id,i=e.prefixCls,a=e.className,s=e.showSearch,o=e.tagRender,l=e.direction,c=e.omitDomProps,u=e.displayValues,d=e.onDisplayValuesChange,h=e.emptyOptions,g=e.notFoundContent,v=g===void 0?"Not Found":g,x=e.onClear,w=e.mode,C=e.disabled,E=e.loading,M=e.getInputElement,R=e.getRawInputElement,L=e.open,N=e.defaultOpen,D=e.onDropdownVisibleChange,H=e.activeValue,U=e.onActiveValueChange,q=e.activeDescendantId,K=e.searchValue,Q=e.autoClearSearchValue,X=e.onSearch,te=e.onSearchSplit,ee=e.tokenSeparators,Z=e.allowClear,re=e.prefix,oe=e.suffixIcon,ce=e.clearIcon,le=e.OptionList,pe=e.animation,ye=e.transitionName,_e=e.dropdownStyle,Se=e.dropdownClassName,Re=e.dropdownMatchSelectWidth,je=e.dropdownRender,Fe=e.dropdownAlign,ze=e.placement,Ze=e.builtinPlacements,st=e.getPopupContainer,Ue=e.showAction,Ne=Ue===void 0?[]:Ue,qe=e.onFocus,We=e.onBlur,rt=e.onKeyUp,ht=e.onKeyDown,ft=e.onMouseDown,Rt=zr(e,Wwe),Yt=bD(w),Jt=(s!==void 0?s:Yt)||w==="combobox",xt=Pe({},Rt);qwe.forEach(function(gr){delete xt[gr]}),c?.forEach(function(gr){delete xt[gr]});var Ft=I.useState(!1),Lt=mt(Ft,2),Kt=Lt[0],hn=Lt[1];I.useEffect(function(){hn(Lz())},[]);var dn=I.useRef(null),Cn=I.useRef(null),kn=I.useRef(null),sn=I.useRef(null),un=I.useRef(null),gn=I.useRef(!1),Qt=twe(),Ln=mt(Qt,3),Gt=Ln[0],He=Ln[1],be=Ln[2];I.useImperativeHandle(t,function(){var gr,Jn;return{focus:(gr=sn.current)===null||gr===void 0?void 0:gr.focus,blur:(Jn=sn.current)===null||Jn===void 0?void 0:Jn.blur,scrollTo:function(ci){var Ci;return(Ci=un.current)===null||Ci===void 0?void 0:Ci.scrollTo(ci)},nativeElement:dn.current||Cn.current}});var we=I.useMemo(function(){var gr;if(w!=="combobox")return K;var Jn=(gr=u[0])===null||gr===void 0?void 0:gr.value;return typeof Jn=="string"||typeof Jn=="number"?String(Jn):""},[K,w,u]),xe=w==="combobox"&&typeof M=="function"&&M()||null,Ye=typeof R=="function"&&R(),lt=Yy(Cn,Ye==null||(n=Ye.props)===null||n===void 0?void 0:n.ref),ct=I.useState(!1),_t=mt(ct,2),yt=_t[0],jt=_t[1];Sa(function(){jt(!0)},[]);var $t=Us(!1,{defaultValue:N,value:L}),vt=mt($t,2),It=vt[0],zt=vt[1],Dt=yt?It:!1,Tt=!v&&h;(C||Tt&&Dt&&w==="combobox")&&(Dt=!1);var xn=Tt?!1:Dt,Bt=I.useCallback(function(gr){var Jn=gr!==void 0?gr:!Dt;C||(zt(Jn),Dt!==Jn&&D?.(Jn))},[C,Dt,zt,D]),nn=I.useMemo(function(){return(ee||[]).some(function(gr){return[`
`,`\r
`].includes(gr)})},[ee]),Fn=I.useContext(Nz)||{},Ht=Fn.maxCount,ln=Fn.rawValues,rn=function(Jn,ur,ci){if(!(Yt&&vD(Ht)&&ln?.size>=Ht)){var Ci=!0,Ei=Jn;U?.(null);var ro=Uwe(Jn,ee,vD(Ht)?Ht-ln.size:void 0),Br=ci?null:ro;return w!=="combobox"&&Br&&(Ei="",te?.(Br),Bt(!1),Ci=!1),X&&we!==Ei&&X(Ei,{source:ur?"typing":"effect"}),Ci}},Tn=function(Jn){!Jn||!Jn.trim()||X(Jn,{source:"submit"})};I.useEffect(function(){!Dt&&!Yt&&w!=="combobox"&&rn("",!1,!1)},[Dt]),I.useEffect(function(){It&&C&&zt(!1),C&&!gn.current&&He(!1)},[C]);var Un=lZ(),ir=mt(Un,2),Dn=ir[0],Er=ir[1],Cr=I.useRef(!1),$r=function(Jn){var ur=Dn(),ci=Jn.key,Ci=ci==="Enter";if(Ci&&(w!=="combobox"&&Jn.preventDefault(),Dt||Bt(!0)),Er(!!we),ci==="Backspace"&&!ur&&Yt&&!we&&u.length){for(var Ei=_n(u),ro=null,Br=Ei.length-1;Br>=0;Br-=1){var Ui=Ei[Br];if(!Ui.disabled){Ei.splice(Br,1),ro=Ui;break}}ro&&d(Ei,{type:"remove",values:[ro]})}for(var Fa=arguments.length,bo=new Array(Fa>1?Fa-1:0),Tr=1;Tr<Fa;Tr++)bo[Tr-1]=arguments[Tr];if(Dt&&(!Ci||!Cr.current)){var xr;Ci&&(Cr.current=!0),(xr=un.current)===null||xr===void 0||xr.onKeyDown.apply(xr,[Jn].concat(bo))}ht?.apply(void 0,[Jn].concat(bo))},Zr=function(Jn){for(var ur=arguments.length,ci=new Array(ur>1?ur-1:0),Ci=1;Ci<ur;Ci++)ci[Ci-1]=arguments[Ci];if(Dt){var Ei;(Ei=un.current)===null||Ei===void 0||Ei.onKeyUp.apply(Ei,[Jn].concat(ci))}Jn.key==="Enter"&&(Cr.current=!1),rt?.apply(void 0,[Jn].concat(ci))},li=function(Jn){var ur=u.filter(function(ci){return ci!==Jn});d(ur,{type:"remove",values:[Jn]})},Kr=function(){Cr.current=!1},$n=I.useRef(!1),sr=function(){He(!0),C||(qe&&!$n.current&&qe.apply(void 0,arguments),Ne.includes("focus")&&Bt(!0)),$n.current=!0},tr=function(){gn.current=!0,He(!1,function(){$n.current=!1,gn.current=!1,Bt(!1)}),!C&&(we&&(w==="tags"?X(we,{source:"submit"}):w==="multiple"&&X("",{source:"blur"})),We&&We.apply(void 0,arguments))},Yn=[];I.useEffect(function(){return function(){Yn.forEach(function(gr){return clearTimeout(gr)}),Yn.splice(0,Yn.length)}},[]);var br=function(Jn){var ur,ci=Jn.target,Ci=(ur=kn.current)===null||ur===void 0?void 0:ur.getPopupElement();if(Ci&&Ci.contains(ci)){var Ei=setTimeout(function(){var Fa=Yn.indexOf(Ei);if(Fa!==-1&&Yn.splice(Fa,1),be(),!Kt&&!Ci.contains(document.activeElement)){var bo;(bo=sn.current)===null||bo===void 0||bo.focus()}});Yn.push(Ei)}for(var ro=arguments.length,Br=new Array(ro>1?ro-1:0),Ui=1;Ui<ro;Ui++)Br[Ui-1]=arguments[Ui];ft?.apply(void 0,[Jn].concat(Br))},Hr=I.useState({}),ki=mt(Hr,2),Vi=ki[1];function pr(){Vi({})}var _r;Ye&&(_r=function(Jn){Bt(Jn)}),nwe(function(){var gr;return[dn.current,(gr=kn.current)===null||gr===void 0?void 0:gr.getPopupElement()]},xn,Bt,!!Ye);var Vr=I.useMemo(function(){return Pe(Pe({},e),{},{notFoundContent:v,open:Dt,triggerOpen:xn,id:r,showSearch:Jt,multiple:Yt,toggleOpen:Bt})},[e,v,xn,Dt,r,Jt,Yt,Bt]),ta=!!oe||E,Wo;ta&&(Wo=I.createElement(MR,{className:ut("".concat(i,"-arrow"),Te({},"".concat(i,"-arrow-loading"),E)),customizeIcon:oe,customizeIconProps:{loading:E,searchValue:we,open:Dt,focused:Gt,showSearch:Jt}}));var Ks=function(){var Jn;x?.(),(Jn=sn.current)===null||Jn===void 0||Jn.focus(),d([],{type:"clear",values:u}),rn("",!1,!1)},$o=Jxe(i,Ks,u,Z,ce,C,we,w),ma=$o.allowClear,ms=$o.clearIcon,Ys=I.createElement(le,{ref:un}),ko=ut(i,a,Te(Te(Te(Te(Te(Te(Te(Te(Te(Te({},"".concat(i,"-focused"),Gt),"".concat(i,"-multiple"),Yt),"".concat(i,"-single"),!Yt),"".concat(i,"-allow-clear"),Z),"".concat(i,"-show-arrow"),ta),"".concat(i,"-disabled"),C),"".concat(i,"-loading"),E),"".concat(i,"-open"),Dt),"".concat(i,"-customize-input"),xe),"".concat(i,"-show-search"),Jt)),il=I.createElement(Hwe,{ref:kn,disabled:C,prefixCls:i,visible:xn,popupElement:Ys,animation:pe,transitionName:ye,dropdownStyle:_e,dropdownClassName:Se,direction:l,dropdownMatchSelectWidth:Re,dropdownRender:je,dropdownAlign:Fe,placement:ze,builtinPlacements:Ze,getPopupContainer:st,empty:h,getTriggerDOMNode:function(Jn){return Cn.current||Jn},onPopupVisibleChange:_r,onPopupMouseEnter:pr},Ye?I.cloneElement(Ye,{ref:lt}):I.createElement(Ewe,In({},e,{domRef:Cn,prefixCls:i,inputElement:xe,ref:sn,id:r,prefix:re,showSearch:Jt,autoClearSearchValue:Q,mode:w,activeDescendantId:q,tagRender:o,values:u,open:Dt,onToggleOpen:Bt,activeValue:H,searchValue:we,onSearch:rn,onSearchSubmit:Tn,onRemove:li,tokenWithEnter:nn,onInputBlur:Kr}))),ai;return Ye?ai=il:ai=I.createElement("div",In({className:ko},xt,{ref:dn,onMouseDown:br,onKeyDown:$r,onKeyUp:Zr,onFocus:sr,onBlur:tr}),I.createElement(Gwe,{visible:Gt&&!Dt,values:u}),il,Wo,ma&&ms),I.createElement(sZ.Provider,{value:Vr},ai)}),Dz=function(){return null};Dz.isSelectOptGroup=!0;var zz=function(){return null};zz.isSelectOption=!0;var mZ=I.forwardRef(function(e,t){var n=e.height,r=e.offsetY,i=e.offsetX,a=e.children,s=e.prefixCls,o=e.onInnerResize,l=e.innerProps,c=e.rtl,u=e.extra,d={},h={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},h=Pe(Pe({},h),{},Te(Te(Te(Te(Te({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),I.createElement("div",{style:d},I.createElement(zf,{onResize:function(v){var x=v.offsetHeight;x&&o&&o()}},I.createElement("div",In({style:h,className:ut(Te({},"".concat(s,"-holder-inner"),s)),ref:t},l),a,u)))});mZ.displayName="Filler";function Ywe(e){var t=e.children,n=e.setRef,r=I.useCallback(function(i){n(i)},[]);return I.cloneElement(t,{ref:r})}function Xwe(e,t,n,r,i,a,s,o){var l=o.getKey;return e.slice(t,n+1).map(function(c,u){var d=t+u,h=s(c,d,{style:{width:r},offsetX:i}),g=l(c);return I.createElement(Ywe,{key:g,setRef:function(x){return a(c,x)}},h)})}function Zwe(e,t,n){var r=e.length,i=t.length,a,s;if(r===0&&i===0)return null;r<i?(a=e,s=t):(a=t,s=e);var o={__EMPTY_ITEM__:!0};function l(v){return v!==void 0?n(v):o}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<s.length;d+=1){var h=l(a[d]),g=l(s[d]);if(h!==g){c=d,u=u||h!==l(s[d+1]);break}}return c===null?null:{index:c,multiple:u}}function Qwe(e,t,n){var r=I.useState(e),i=mt(r,2),a=i[0],s=i[1],o=I.useState(null),l=mt(o,2),c=l[0],u=l[1];return I.useEffect(function(){var d=Zwe(a||[],e||[],t);d?.index!==void 0&&u(e[d.index]),s(e)},[e]),[c]}var j7=(typeof navigator>"u"?"undefined":Rr(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const vZ=function(e,t,n,r){var i=I.useRef(!1),a=I.useRef(null);function s(){clearTimeout(a.current),i.current=!0,a.current=setTimeout(function(){i.current=!1},50)}var o=I.useRef({top:e,bottom:t,left:n,right:r});return o.current.top=e,o.current.bottom=t,o.current.left=n,o.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&o.current.left||c>0&&o.current.right:c<0&&o.current.top||c>0&&o.current.bottom;return u&&d?(clearTimeout(a.current),i.current=!1):(!d||i.current)&&s(),!i.current&&d}};function Jwe(e,t,n,r,i,a,s){var o=I.useRef(0),l=I.useRef(null),c=I.useRef(null),u=I.useRef(!1),d=vZ(t,n,r,i);function h(E,M){if(ja.cancel(l.current),!d(!1,M)){var R=E;if(!R._virtualHandled)R._virtualHandled=!0;else return;o.current+=M,c.current=M,j7||R.preventDefault(),l.current=ja(function(){var L=u.current?10:1;s(o.current*L,!1),o.current=0})}}function g(E,M){s(M,!0),j7||E.preventDefault()}var v=I.useRef(null),x=I.useRef(null);function w(E){if(e){ja.cancel(x.current),x.current=ja(function(){v.current=null},2);var M=E.deltaX,R=E.deltaY,L=E.shiftKey,N=M,D=R;(v.current==="sx"||!v.current&&L&&R&&!M)&&(N=R,D=0,v.current="sx");var H=Math.abs(N),U=Math.abs(D);v.current===null&&(v.current=a&&H>U?"x":"y"),v.current==="y"?h(E,D):g(E,N)}}function C(E){e&&(u.current=E.detail===c.current)}return[w,C]}function eSe(e,t,n,r){var i=I.useMemo(function(){return[new Map,[]]},[e,n.id,r]),a=mt(i,2),s=a[0],o=a[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,h=s.get(u),g=s.get(d);if(h===void 0||g===void 0)for(var v=e.length,x=o.length;x<v;x+=1){var w,C=e[x],E=t(C);s.set(E,x);var M=(w=n.get(E))!==null&&w!==void 0?w:r;if(o[x]=(o[x-1]||0)+M,E===u&&(h=x),E===d&&(g=x),h!==void 0&&g!==void 0)break}return{top:o[h-1]||0,bottom:o[g]}};return l}var tSe=function(){function e(){En(this,e),Te(this,"maps",void 0),Te(this,"id",0),Te(this,"diffKeys",new Set),this.maps=Object.create(null)}return On(e,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1,this.diffKeys.add(n)}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function F7(e){var t=parseFloat(e);return isNaN(t)?0:t}function nSe(e,t,n){var r=I.useState(0),i=mt(r,2),a=i[0],s=i[1],o=I.useRef(new Map),l=I.useRef(new tSe),c=I.useRef(0);function u(){c.current+=1}function d(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var v=function(){var C=!1;o.current.forEach(function(E,M){if(E&&E.offsetParent){var R=E.offsetHeight,L=getComputedStyle(E),N=L.marginTop,D=L.marginBottom,H=F7(N),U=F7(D),q=R+H+U;l.current.get(M)!==q&&(l.current.set(M,q),C=!0)}}),C&&s(function(E){return E+1})};if(g)v();else{c.current+=1;var x=c.current;Promise.resolve().then(function(){x===c.current&&v()})}}function h(g,v){var x=e(g);o.current.get(x),v?(o.current.set(x,v),d()):o.current.delete(x)}return I.useEffect(function(){return u},[]),[h,d,l.current,a]}var H7=14/15;function rSe(e,t,n){var r=I.useRef(!1),i=I.useRef(0),a=I.useRef(0),s=I.useRef(null),o=I.useRef(null),l,c=function(g){if(r.current){var v=Math.ceil(g.touches[0].pageX),x=Math.ceil(g.touches[0].pageY),w=i.current-v,C=a.current-x,E=Math.abs(w)>Math.abs(C);E?i.current=v:a.current=x;var M=n(E,E?w:C,!1,g);M&&g.preventDefault(),clearInterval(o.current),M&&(o.current=setInterval(function(){E?w*=H7:C*=H7;var R=Math.floor(E?w:C);(!n(E,R,!0)||Math.abs(R)<=.1)&&clearInterval(o.current)},16))}},u=function(){r.current=!1,l()},d=function(g){l(),g.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(g.touches[0].pageX),a.current=Math.ceil(g.touches[0].pageY),s.current=g.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};l=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},Sa(function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var h;(h=t.current)===null||h===void 0||h.removeEventListener("touchstart",d),l(),clearInterval(o.current)}},[e])}function V7(e){return Math.floor(Math.pow(e,.5))}function _D(e,t){var n="touches"in e?e.touches[0]:e;return n[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function iSe(e,t,n){I.useEffect(function(){var r=t.current;if(e&&r){var i=!1,a,s,o=function(){ja.cancel(a)},l=function h(){o(),a=ja(function(){n(s),h()})},c=function(g){if(!(g.target.draggable||g.button!==0)){var v=g;v._virtualHandled||(v._virtualHandled=!0,i=!0)}},u=function(){i=!1,o()},d=function(g){if(i){var v=_D(g,!1),x=r.getBoundingClientRect(),w=x.top,C=x.bottom;if(v<=w){var E=w-v;s=-V7(E),l()}else if(v>=C){var M=v-C;s=V7(M),l()}else o()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",u),r.ownerDocument.addEventListener("mousemove",d),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",u),r.ownerDocument.removeEventListener("mousemove",d),o()}}},[e])}var aSe=10;function oSe(e,t,n,r,i,a,s,o){var l=I.useRef(),c=I.useState(null),u=mt(c,2),d=u[0],h=u[1];return Sa(function(){if(d&&d.times<aSe){if(!e.current){h(function(ce){return Pe({},ce)});return}a();var g=d.targetAlign,v=d.originAlign,x=d.index,w=d.offset,C=e.current.clientHeight,E=!1,M=g,R=null;if(C){for(var L=g||v,N=0,D=0,H=0,U=Math.min(t.length-1,x),q=0;q<=U;q+=1){var K=i(t[q]);D=N;var Q=n.get(K);H=D+(Q===void 0?r:Q),N=H}for(var X=L==="top"?w:C-w,te=U;te>=0;te-=1){var ee=i(t[te]),Z=n.get(ee);if(Z===void 0){E=!0;break}if(X-=Z,X<=0)break}switch(L){case"top":R=D-w;break;case"bottom":R=H-C+w;break;default:{var re=e.current.scrollTop,oe=re+C;D<re?M="top":H>oe&&(M="bottom")}}R!==null&&s(R),R!==d.lastTop&&(E=!0)}E&&h(Pe(Pe({},d),{},{times:d.times+1,targetAlign:M,lastTop:R}))}},[d,e.current]),function(g){if(g==null){o();return}if(ja.cancel(l.current),typeof g=="number")s(g);else if(g&&Rr(g)==="object"){var v,x=g.align;"index"in g?v=g.index:v=t.findIndex(function(E){return i(E)===g.key});var w=g.offset,C=w===void 0?0:w;h({times:0,index:v,offset:C,originAlign:x})}}}var U7=I.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,a=e.scrollRange,s=e.onStartMove,o=e.onStopMove,l=e.onScroll,c=e.horizontal,u=e.spinSize,d=e.containerSize,h=e.style,g=e.thumbStyle,v=e.showScrollBar,x=I.useState(!1),w=mt(x,2),C=w[0],E=w[1],M=I.useState(null),R=mt(M,2),L=R[0],N=R[1],D=I.useState(null),H=mt(D,2),U=H[0],q=H[1],K=!r,Q=I.useRef(),X=I.useRef(),te=I.useState(v),ee=mt(te,2),Z=ee[0],re=ee[1],oe=I.useRef(),ce=function(){v===!0||v===!1||(clearTimeout(oe.current),re(!0),oe.current=setTimeout(function(){re(!1)},3e3))},le=a-d||0,pe=d-u||0,ye=I.useMemo(function(){if(i===0||le===0)return 0;var Ue=i/le;return Ue*pe},[i,le,pe]),_e=function(Ne){Ne.stopPropagation(),Ne.preventDefault()},Se=I.useRef({top:ye,dragging:C,pageY:L,startTop:U});Se.current={top:ye,dragging:C,pageY:L,startTop:U};var Re=function(Ne){E(!0),N(_D(Ne,c)),q(Se.current.top),s(),Ne.stopPropagation(),Ne.preventDefault()};I.useEffect(function(){var Ue=function(rt){rt.preventDefault()},Ne=Q.current,qe=X.current;return Ne.addEventListener("touchstart",Ue,{passive:!1}),qe.addEventListener("touchstart",Re,{passive:!1}),function(){Ne.removeEventListener("touchstart",Ue),qe.removeEventListener("touchstart",Re)}},[]);var je=I.useRef();je.current=le;var Fe=I.useRef();Fe.current=pe,I.useEffect(function(){if(C){var Ue,Ne=function(rt){var ht=Se.current,ft=ht.dragging,Rt=ht.pageY,Yt=ht.startTop;ja.cancel(Ue);var Jt=Q.current.getBoundingClientRect(),xt=d/(c?Jt.width:Jt.height);if(ft){var Ft=(_D(rt,c)-Rt)*xt,Lt=Yt;!K&&c?Lt-=Ft:Lt+=Ft;var Kt=je.current,hn=Fe.current,dn=hn?Lt/hn:0,Cn=Math.ceil(dn*Kt);Cn=Math.max(Cn,0),Cn=Math.min(Cn,Kt),Ue=ja(function(){l(Cn,c)})}},qe=function(){E(!1),o()};return window.addEventListener("mousemove",Ne,{passive:!0}),window.addEventListener("touchmove",Ne,{passive:!0}),window.addEventListener("mouseup",qe,{passive:!0}),window.addEventListener("touchend",qe,{passive:!0}),function(){window.removeEventListener("mousemove",Ne),window.removeEventListener("touchmove",Ne),window.removeEventListener("mouseup",qe),window.removeEventListener("touchend",qe),ja.cancel(Ue)}}},[C]),I.useEffect(function(){return ce(),function(){clearTimeout(oe.current)}},[i]),I.useImperativeHandle(t,function(){return{delayHidden:ce}});var ze="".concat(n,"-scrollbar"),Ze={position:"absolute",visibility:Z?null:"hidden"},st={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(Ze.height=8,Ze.left=0,Ze.right=0,Ze.bottom=0,st.height="100%",st.width=u,K?st.left=ye:st.right=ye):(Ze.width=8,Ze.top=0,Ze.bottom=0,K?Ze.right=0:Ze.left=0,st.width="100%",st.height=u,st.top=ye),I.createElement("div",{ref:Q,className:ut(ze,Te(Te(Te({},"".concat(ze,"-horizontal"),c),"".concat(ze,"-vertical"),!c),"".concat(ze,"-visible"),Z)),style:Pe(Pe({},Ze),h),onMouseDown:_e,onMouseMove:ce},I.createElement("div",{ref:X,className:ut("".concat(ze,"-thumb"),Te({},"".concat(ze,"-thumb-moving"),C)),style:Pe(Pe({},st),g),onMouseDown:Re}))}),sSe=20;function G7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,sSe),Math.floor(n)}var lSe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],cSe=[],uSe={overflowY:"auto",overflowAnchor:"none"};function fSe(e,t){var n=e.prefixCls,r=n===void 0?"rc-virtual-list":n,i=e.className,a=e.height,s=e.itemHeight,o=e.fullHeight,l=o===void 0?!0:o,c=e.style,u=e.data,d=e.children,h=e.itemKey,g=e.virtual,v=e.direction,x=e.scrollWidth,w=e.component,C=w===void 0?"div":w,E=e.onScroll,M=e.onVirtualScroll,R=e.onVisibleChange,L=e.innerProps,N=e.extraRender,D=e.styles,H=e.showScrollBar,U=H===void 0?"optional":H,q=zr(e,lSe),K=I.useCallback(function($n){return typeof h=="function"?h($n):$n?.[h]},[h]),Q=nSe(K),X=mt(Q,4),te=X[0],ee=X[1],Z=X[2],re=X[3],oe=!!(g!==!1&&a&&s),ce=I.useMemo(function(){return Object.values(Z.maps).reduce(function($n,sr){return $n+sr},0)},[Z.id,Z.maps]),le=oe&&u&&(Math.max(s*u.length,ce)>a||!!x),pe=v==="rtl",ye=ut(r,Te({},"".concat(r,"-rtl"),pe),i),_e=u||cSe,Se=I.useRef(),Re=I.useRef(),je=I.useRef(),Fe=I.useState(0),ze=mt(Fe,2),Ze=ze[0],st=ze[1],Ue=I.useState(0),Ne=mt(Ue,2),qe=Ne[0],We=Ne[1],rt=I.useState(!1),ht=mt(rt,2),ft=ht[0],Rt=ht[1],Yt=function(){Rt(!0)},Jt=function(){Rt(!1)},xt={getKey:K};function Ft($n){st(function(sr){var tr;typeof $n=="function"?tr=$n(sr):tr=$n;var Yn=jt(tr);return Se.current.scrollTop=Yn,Yn})}var Lt=I.useRef({start:0,end:_e.length}),Kt=I.useRef(),hn=Qwe(_e,K),dn=mt(hn,1),Cn=dn[0];Kt.current=Cn;var kn=I.useMemo(function(){if(!oe)return{scrollHeight:void 0,start:0,end:_e.length-1,offset:void 0};if(!le){var $n;return{scrollHeight:(($n=Re.current)===null||$n===void 0?void 0:$n.offsetHeight)||0,start:0,end:_e.length-1,offset:void 0}}for(var sr=0,tr,Yn,br,Hr=_e.length,ki=0;ki<Hr;ki+=1){var Vi=_e[ki],pr=K(Vi),_r=Z.get(pr),Vr=sr+(_r===void 0?s:_r);Vr>=Ze&&tr===void 0&&(tr=ki,Yn=sr),Vr>Ze+a&&br===void 0&&(br=ki),sr=Vr}return tr===void 0&&(tr=0,Yn=0,br=Math.ceil(a/s)),br===void 0&&(br=_e.length-1),br=Math.min(br+1,_e.length-1),{scrollHeight:sr,start:tr,end:br,offset:Yn}},[le,oe,Ze,_e,re,a]),sn=kn.scrollHeight,un=kn.start,gn=kn.end,Qt=kn.offset;Lt.current.start=un,Lt.current.end=gn,I.useLayoutEffect(function(){var $n=Z.getRecord();if($n.size===1){var sr=Array.from($n)[0],tr=_e[un];if(tr){var Yn=K(tr);if(Yn===sr){var br=Z.get(sr),Hr=br-s;Ft(function(ki){return ki+Hr})}}}Z.resetRecord()},[sn]);var Ln=I.useState({width:0,height:a}),Gt=mt(Ln,2),He=Gt[0],be=Gt[1],we=function(sr){be({width:sr.offsetWidth,height:sr.offsetHeight})},xe=I.useRef(),Ye=I.useRef(),lt=I.useMemo(function(){return G7(He.width,x)},[He.width,x]),ct=I.useMemo(function(){return G7(He.height,sn)},[He.height,sn]),_t=sn-a,yt=I.useRef(_t);yt.current=_t;function jt($n){var sr=$n;return Number.isNaN(yt.current)||(sr=Math.min(sr,yt.current)),sr=Math.max(sr,0),sr}var $t=Ze<=0,vt=Ze>=_t,It=qe<=0,zt=qe>=x,Dt=vZ($t,vt,It,zt),Tt=function(){return{x:pe?-qe:qe,y:Ze}},xn=I.useRef(Tt()),Bt=to(function($n){if(M){var sr=Pe(Pe({},Tt()),$n);(xn.current.x!==sr.x||xn.current.y!==sr.y)&&(M(sr),xn.current=sr)}});function nn($n,sr){var tr=$n;sr?(g1.flushSync(function(){We(tr)}),Bt()):Ft(tr)}function Fn($n){var sr=$n.currentTarget.scrollTop;sr!==Ze&&Ft(sr),E?.($n),Bt()}var Ht=function(sr){var tr=sr,Yn=x?x-He.width:0;return tr=Math.max(tr,0),tr=Math.min(tr,Yn),tr},ln=to(function($n,sr){sr?(g1.flushSync(function(){We(function(tr){var Yn=tr+(pe?-$n:$n);return Ht(Yn)})}),Bt()):Ft(function(tr){var Yn=tr+$n;return Yn})}),rn=Jwe(oe,$t,vt,It,zt,!!x,ln),Tn=mt(rn,2),Un=Tn[0],ir=Tn[1];rSe(oe,Se,function($n,sr,tr,Yn){var br=Yn;return Dt($n,sr,tr)?!1:!br||!br._virtualHandled?(br&&(br._virtualHandled=!0),Un({preventDefault:function(){},deltaX:$n?sr:0,deltaY:$n?0:sr}),!0):!1}),iSe(le,Se,function($n){Ft(function(sr){return sr+$n})}),Sa(function(){function $n(tr){var Yn=$t&&tr.detail<0,br=vt&&tr.detail>0;oe&&!Yn&&!br&&tr.preventDefault()}var sr=Se.current;return sr.addEventListener("wheel",Un,{passive:!1}),sr.addEventListener("DOMMouseScroll",ir,{passive:!0}),sr.addEventListener("MozMousePixelScroll",$n,{passive:!1}),function(){sr.removeEventListener("wheel",Un),sr.removeEventListener("DOMMouseScroll",ir),sr.removeEventListener("MozMousePixelScroll",$n)}},[oe,$t,vt]),Sa(function(){if(x){var $n=Ht(qe);We($n),Bt({x:$n})}},[He.width,x]);var Dn=function(){var sr,tr;(sr=xe.current)===null||sr===void 0||sr.delayHidden(),(tr=Ye.current)===null||tr===void 0||tr.delayHidden()},Er=oSe(Se,_e,Z,s,K,function(){return ee(!0)},Ft,Dn);I.useImperativeHandle(t,function(){return{nativeElement:je.current,getScrollInfo:Tt,scrollTo:function(sr){function tr(Yn){return Yn&&Rr(Yn)==="object"&&("left"in Yn||"top"in Yn)}tr(sr)?(sr.left!==void 0&&We(Ht(sr.left)),Er(sr.top)):Er(sr)}}}),Sa(function(){if(R){var $n=_e.slice(un,gn+1);R($n,_e)}},[un,gn,_e]);var Cr=eSe(_e,K,Z,s),$r=N?.({start:un,end:gn,virtual:le,offsetX:qe,offsetY:Qt,rtl:pe,getSize:Cr}),Zr=Xwe(_e,un,gn,x,qe,te,d,xt),li=null;a&&(li=Pe(Te({},l?"height":"maxHeight",a),uSe),oe&&(li.overflowY="hidden",x&&(li.overflowX="hidden"),ft&&(li.pointerEvents="none")));var Kr={};return pe&&(Kr.dir="rtl"),I.createElement("div",In({ref:je,style:Pe(Pe({},c),{},{position:"relative"}),className:ye},Kr,q),I.createElement(zf,{onResize:we},I.createElement(C,{className:"".concat(r,"-holder"),style:li,ref:Se,onScroll:Fn,onMouseEnter:Dn},I.createElement(mZ,{prefixCls:r,height:sn,offsetX:qe,offsetY:Qt,scrollWidth:x,onInnerResize:ee,ref:Re,innerProps:L,rtl:pe,extra:$r},Zr))),le&&sn>a&&I.createElement(U7,{ref:xe,prefixCls:r,scrollOffset:Ze,scrollRange:sn,rtl:pe,onScroll:nn,onStartMove:Yt,onStopMove:Jt,spinSize:ct,containerSize:He.height,style:D?.verticalScrollBar,thumbStyle:D?.verticalScrollBarThumb,showScrollBar:U}),le&&x>He.width&&I.createElement(U7,{ref:Ye,prefixCls:r,scrollOffset:qe,scrollRange:x,rtl:pe,onScroll:nn,onStartMove:Yt,onStopMove:Jt,spinSize:lt,containerSize:He.width,horizontal:!0,style:D?.horizontalScrollBar,thumbStyle:D?.horizontalScrollBarThumb,showScrollBar:U}))}var IR=I.forwardRef(fSe);IR.displayName="List";function dSe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var hSe=["disabled","title","children","style","className"];function W7(e){return typeof e=="string"||typeof e=="number"}var pSe=function(t,n){var r=ewe(),i=r.prefixCls,a=r.id,s=r.open,o=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,h=r.onPopupScroll,g=I.useContext(Nz),v=g.maxCount,x=g.flattenOptions,w=g.onActiveValue,C=g.defaultActiveFirstOption,E=g.onSelect,M=g.menuItemSelectedIcon,R=g.rawValues,L=g.fieldNames,N=g.virtual,D=g.direction,H=g.listHeight,U=g.listItemHeight,q=g.optionRender,K="".concat(i,"-item"),Q=Ax(function(){return x},[s,x],function(Ue,Ne){return Ne[0]&&Ue[1]!==Ne[1]}),X=I.useRef(null),te=I.useMemo(function(){return o&&vD(v)&&R?.size>=v},[o,v,R?.size]),ee=function(Ne){Ne.preventDefault()},Z=function(Ne){var qe;(qe=X.current)===null||qe===void 0||qe.scrollTo(typeof Ne=="number"?{index:Ne}:Ne)},re=I.useCallback(function(Ue){return l==="combobox"?!1:R.has(Ue)},[l,_n(R).toString(),R.size]),oe=function(Ne){for(var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,We=Q.length,rt=0;rt<We;rt+=1){var ht=(Ne+rt*qe+We)%We,ft=Q[ht]||{},Rt=ft.group,Yt=ft.data;if(!Rt&&!(Yt!=null&&Yt.disabled)&&(re(Yt.value)||!te))return ht}return-1},ce=I.useState(function(){return oe(0)}),le=mt(ce,2),pe=le[0],ye=le[1],_e=function(Ne){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ye(Ne);var We={source:qe?"keyboard":"mouse"},rt=Q[Ne];if(!rt){w(null,-1,We);return}w(rt.value,Ne,We)};I.useEffect(function(){_e(C!==!1?oe(0):-1)},[Q.length,c]);var Se=I.useCallback(function(Ue){return l==="combobox"?String(Ue).toLowerCase()===c.toLowerCase():R.has(Ue)},[l,c,_n(R).toString(),R.size]);I.useEffect(function(){var Ue=setTimeout(function(){if(!o&&s&&R.size===1){var qe=Array.from(R)[0],We=Q.findIndex(function(rt){var ht=rt.data;return ht.value===qe});We!==-1&&(_e(We),Z(We))}});if(s){var Ne;(Ne=X.current)===null||Ne===void 0||Ne.scrollTo(void 0)}return function(){return clearTimeout(Ue)}},[s,c]);var Re=function(Ne){Ne!==void 0&&E(Ne,{selected:!R.has(Ne)}),o||u(!1)};if(I.useImperativeHandle(n,function(){return{onKeyDown:function(Ne){var qe=Ne.which,We=Ne.ctrlKey;switch(qe){case mr.N:case mr.P:case mr.UP:case mr.DOWN:{var rt=0;if(qe===mr.UP?rt=-1:qe===mr.DOWN?rt=1:dSe()&&We&&(qe===mr.N?rt=1:qe===mr.P&&(rt=-1)),rt!==0){var ht=oe(pe+rt,rt);Z(ht),_e(ht,!0)}break}case mr.TAB:case mr.ENTER:{var ft,Rt=Q[pe];Rt&&!(Rt!=null&&(ft=Rt.data)!==null&&ft!==void 0&&ft.disabled)&&!te?Re(Rt.value):Re(void 0),s&&Ne.preventDefault();break}case mr.ESC:u(!1),s&&Ne.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ne){Z(Ne)}}}),Q.length===0)return I.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(K,"-empty"),onMouseDown:ee},d);var je=Object.keys(L).map(function(Ue){return L[Ue]}),Fe=function(Ne){return Ne.label};function ze(Ue,Ne){var qe=Ue.group;return{role:qe?"presentation":"option",id:"".concat(a,"_list_").concat(Ne)}}var Ze=function(Ne){var qe=Q[Ne];if(!qe)return null;var We=qe.data||{},rt=We.value,ht=qe.group,ft=gg(We,!0),Rt=Fe(qe);return qe?I.createElement("div",In({"aria-label":typeof Rt=="string"&&!ht?Rt:null},ft,{key:Ne},ze(qe,Ne),{"aria-selected":Se(rt)}),rt):null},st={role:"listbox",id:"".concat(a,"_list")};return I.createElement(I.Fragment,null,N&&I.createElement("div",In({},st,{style:{height:0,width:0,overflow:"hidden"}}),Ze(pe-1),Ze(pe),Ze(pe+1)),I.createElement(IR,{itemKey:"key",ref:X,data:Q,height:H,itemHeight:U,fullHeight:!1,onMouseDown:ee,onScroll:h,virtual:N,direction:D,innerProps:N?null:st},function(Ue,Ne){var qe=Ue.group,We=Ue.groupOption,rt=Ue.data,ht=Ue.label,ft=Ue.value,Rt=rt.key;if(qe){var Yt,Jt=(Yt=rt.title)!==null&&Yt!==void 0?Yt:W7(ht)?ht.toString():void 0;return I.createElement("div",{className:ut(K,"".concat(K,"-group"),rt.className),title:Jt},ht!==void 0?ht:Rt)}var xt=rt.disabled,Ft=rt.title;rt.children;var Lt=rt.style,Kt=rt.className,hn=zr(rt,hSe),dn=rl(hn,je),Cn=re(ft),kn=xt||!Cn&&te,sn="".concat(K,"-option"),un=ut(K,sn,Kt,Te(Te(Te(Te({},"".concat(sn,"-grouped"),We),"".concat(sn,"-active"),pe===Ne&&!kn),"".concat(sn,"-disabled"),kn),"".concat(sn,"-selected"),Cn)),gn=Fe(Ue),Qt=!M||typeof M=="function"||Cn,Ln=typeof gn=="number"?gn:gn||ft,Gt=W7(Ln)?Ln.toString():void 0;return Ft!==void 0&&(Gt=Ft),I.createElement("div",In({},gg(dn),N?{}:ze(Ue,Ne),{"aria-selected":Se(ft),className:un,title:Gt,onMouseMove:function(){pe===Ne||kn||_e(Ne)},onClick:function(){kn||Re(ft)},style:Lt}),I.createElement("div",{className:"".concat(sn,"-content")},typeof q=="function"?q(Ue,{index:Ne}):Ln),I.isValidElement(M)||Cn,Qt&&I.createElement(MR,{className:"".concat(K,"-option-state"),customizeIcon:M,customizeIconProps:{value:ft,disabled:kn,isSelected:Cn}},Cn?"":null))}))},gSe=I.forwardRef(pSe);const mSe=function(e,t){var n=I.useRef({values:new Map,options:new Map}),r=I.useMemo(function(){var a=n.current,s=a.values,o=a.options,l=e.map(function(d){if(d.label===void 0){var h;return Pe(Pe({},d),{},{label:(h=s.get(d.value))===null||h===void 0?void 0:h.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,t.get(d.value)||o.get(d.value))}),n.current.values=c,n.current.options=u,l},[e,t]),i=I.useCallback(function(a){return t.get(a)||n.current.options.get(a)},[t]);return[r,i]};function Yk(e,t){return hZ(e).join("").toUpperCase().includes(t)}const vSe=function(e,t,n,r,i){return I.useMemo(function(){if(!n||r===!1)return e;var a=t.options,s=t.label,o=t.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(g,v){return i?Yk(v[i],u):v[a]?Yk(v[s!=="children"?s:"label"],u):Yk(v[o],u)},h=c?function(g){return yD(g)}:function(g){return g};return e.forEach(function(g){if(g[a]){var v=d(n,h(g));if(v)l.push(g);else{var x=g[a].filter(function(w){return d(n,h(w))});x.length&&l.push(Pe(Pe({},g),{},Te({},a,x)))}return}d(n,h(g))&&l.push(g)}),l},[e,r,i,n,t])};var q7=0,ySe=jf();function bSe(){var e;return ySe?(e=q7,q7+=1):e="TEST_OR_SSR",e}function _Se(e){var t=I.useState(),n=mt(t,2),r=n[0],i=n[1];return I.useEffect(function(){i("rc_select_".concat(bSe()))},[]),e||r}var xSe=["children","value"],wSe=["children"];function SSe(e){var t=e,n=t.key,r=t.props,i=r.children,a=r.value,s=zr(r,xSe);return Pe({key:n,value:a!==void 0?a:n,children:i},s)}function yZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Xu(e).map(function(n,r){if(!I.isValidElement(n)||!n.type)return null;var i=n,a=i.type.isSelectOptGroup,s=i.key,o=i.props,l=o.children,c=zr(o,wSe);return t||!a?SSe(n):Pe(Pe({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:yZ(l)})}).filter(function(n){return n})}var CSe=function(t,n,r,i,a){return I.useMemo(function(){var s=t,o=!t;o&&(s=yZ(n));var l=new Map,c=new Map,u=function(g,v,x){x&&typeof x=="string"&&g.set(v[x],v)},d=function h(g){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=0;x<g.length;x+=1){var w=g[x];!w[r.options]||v?(l.set(w[r.value],w),u(c,w,r.label),u(c,w,i),u(c,w,a)):h(w[r.options],!0)}};return d(s),{options:s,valueOptions:l,labelOptions:c}},[t,n,r,i,a])};function K7(e){var t=I.useRef();t.current=e;var n=I.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var ESe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],OSe=["inputValue"];function TSe(e){return!e||Rr(e)!=="object"}var MSe=I.forwardRef(function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,a=i===void 0?"rc-select":i,s=e.backfill,o=e.fieldNames,l=e.inputValue,c=e.searchValue,u=e.onSearch,d=e.autoClearSearchValue,h=d===void 0?!0:d,g=e.onSelect,v=e.onDeselect,x=e.dropdownMatchSelectWidth,w=x===void 0?!0:x,C=e.filterOption,E=e.filterSort,M=e.optionFilterProp,R=e.optionLabelProp,L=e.options,N=e.optionRender,D=e.children,H=e.defaultActiveFirstOption,U=e.menuItemSelectedIcon,q=e.virtual,K=e.direction,Q=e.listHeight,X=Q===void 0?200:Q,te=e.listItemHeight,ee=te===void 0?20:te,Z=e.labelRender,re=e.value,oe=e.defaultValue,ce=e.labelInValue,le=e.onChange,pe=e.maxCount,ye=zr(e,ESe),_e=_Se(n),Se=bD(r),Re=!!(!L&&D),je=I.useMemo(function(){return C===void 0&&r==="combobox"?!1:C},[C,r]),Fe=I.useMemo(function(){return gZ(o,Re)},[JSON.stringify(o),Re]),ze=Us("",{value:c!==void 0?c:l,postState:function(nn){return nn||""}}),Ze=mt(ze,2),st=Ze[0],Ue=Ze[1],Ne=CSe(L,D,Fe,M,R),qe=Ne.valueOptions,We=Ne.labelOptions,rt=Ne.options,ht=I.useCallback(function(Bt){var nn=hZ(Bt);return nn.map(function(Fn){var Ht,ln,rn,Tn,Un;if(TSe(Fn))Ht=Fn;else{var ir;rn=Fn.key,ln=Fn.label,Ht=(ir=Fn.value)!==null&&ir!==void 0?ir:rn}var Dn=qe.get(Ht);if(Dn){var Er;ln===void 0&&(ln=Dn?.[R||Fe.label]),rn===void 0&&(rn=(Er=Dn?.key)!==null&&Er!==void 0?Er:Ht),Tn=Dn?.disabled,Un=Dn?.title}return{label:ln,value:Ht,key:rn,disabled:Tn,title:Un}})},[Fe,R,qe]),ft=Us(oe,{value:re}),Rt=mt(ft,2),Yt=Rt[0],Jt=Rt[1],xt=I.useMemo(function(){var Bt,nn=Se&&Yt===null?[]:Yt,Fn=ht(nn);return r==="combobox"&&bwe((Bt=Fn[0])===null||Bt===void 0?void 0:Bt.value)?[]:Fn},[Yt,ht,r,Se]),Ft=mSe(xt,qe),Lt=mt(Ft,2),Kt=Lt[0],hn=Lt[1],dn=I.useMemo(function(){if(!r&&Kt.length===1){var Bt=Kt[0];if(Bt.value===null&&(Bt.label===null||Bt.label===void 0))return[]}return Kt.map(function(nn){var Fn;return Pe(Pe({},nn),{},{label:(Fn=typeof Z=="function"?Z(nn):nn.label)!==null&&Fn!==void 0?Fn:nn.value})})},[r,Kt,Z]),Cn=I.useMemo(function(){return new Set(Kt.map(function(Bt){return Bt.value}))},[Kt]);I.useEffect(function(){if(r==="combobox"){var Bt,nn=(Bt=Kt[0])===null||Bt===void 0?void 0:Bt.value;Ue(ywe(nn)?String(nn):"")}},[Kt]);var kn=K7(function(Bt,nn){var Fn=nn??Bt;return Te(Te({},Fe.value,Bt),Fe.label,Fn)}),sn=I.useMemo(function(){if(r!=="tags")return rt;var Bt=_n(rt),nn=function(Ht){return qe.has(Ht)};return _n(Kt).sort(function(Fn,Ht){return Fn.value<Ht.value?-1:1}).forEach(function(Fn){var Ht=Fn.value;nn(Ht)||Bt.push(kn(Ht,Fn.label))}),Bt},[kn,rt,qe,Kt,r]),un=vSe(sn,Fe,st,je,M),gn=I.useMemo(function(){return r!=="tags"||!st||un.some(function(Bt){return Bt[M||"value"]===st})||un.some(function(Bt){return Bt[Fe.value]===st})?un:[kn(st)].concat(_n(un))},[kn,M,r,un,st,Fe]),Qt=function Bt(nn){var Fn=_n(nn).sort(function(Ht,ln){return E(Ht,ln,{searchValue:st})});return Fn.map(function(Ht){return Array.isArray(Ht.options)?Pe(Pe({},Ht),{},{options:Ht.options.length>0?Bt(Ht.options):Ht.options}):Ht})},Ln=I.useMemo(function(){return E?Qt(gn):gn},[gn,E,st]),Gt=I.useMemo(function(){return Vwe(Ln,{fieldNames:Fe,childrenAsData:Re})},[Ln,Fe,Re]),He=function(nn){var Fn=ht(nn);if(Jt(Fn),le&&(Fn.length!==Kt.length||Fn.some(function(rn,Tn){var Un;return((Un=Kt[Tn])===null||Un===void 0?void 0:Un.value)!==rn?.value}))){var Ht=ce?Fn:Fn.map(function(rn){return rn.value}),ln=Fn.map(function(rn){return yD(hn(rn.value))});le(Se?Ht:Ht[0],Se?ln:ln[0])}},be=I.useState(null),we=mt(be,2),xe=we[0],Ye=we[1],lt=I.useState(0),ct=mt(lt,2),_t=ct[0],yt=ct[1],jt=H!==void 0?H:r!=="combobox",$t=I.useCallback(function(Bt,nn){var Fn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ht=Fn.source,ln=Ht===void 0?"keyboard":Ht;yt(nn),s&&r==="combobox"&&Bt!==null&&ln==="keyboard"&&Ye(String(Bt))},[s,r]),vt=function(nn,Fn,Ht){var ln=function(){var li,Kr=hn(nn);return[ce?{label:Kr?.[Fe.label],value:nn,key:(li=Kr?.key)!==null&&li!==void 0?li:nn}:nn,yD(Kr)]};if(Fn&&g){var rn=ln(),Tn=mt(rn,2),Un=Tn[0],ir=Tn[1];g(Un,ir)}else if(!Fn&&v&&Ht!=="clear"){var Dn=ln(),Er=mt(Dn,2),Cr=Er[0],$r=Er[1];v(Cr,$r)}},It=K7(function(Bt,nn){var Fn,Ht=Se?nn.selected:!0;Ht?Fn=Se?[].concat(_n(Kt),[Bt]):[Bt]:Fn=Kt.filter(function(ln){return ln.value!==Bt}),He(Fn),vt(Bt,Ht),r==="combobox"?Ye(""):(!bD||h)&&(Ue(""),Ye(""))}),zt=function(nn,Fn){He(nn);var Ht=Fn.type,ln=Fn.values;(Ht==="remove"||Ht==="clear")&&ln.forEach(function(rn){vt(rn.value,!1,Ht)})},Dt=function(nn,Fn){if(Ue(nn),Ye(null),Fn.source==="submit"){var Ht=(nn||"").trim();if(Ht){var ln=Array.from(new Set([].concat(_n(Cn),[Ht])));He(ln),vt(Ht,!0),Ue("")}return}Fn.source!=="blur"&&(r==="combobox"&&He(nn),u?.(nn))},Tt=function(nn){var Fn=nn;r!=="tags"&&(Fn=nn.map(function(ln){var rn=We.get(ln);return rn?.value}).filter(function(ln){return ln!==void 0}));var Ht=Array.from(new Set([].concat(_n(Cn),_n(Fn))));He(Ht),Ht.forEach(function(ln){vt(ln,!0)})},xn=I.useMemo(function(){var Bt=q!==!1&&w!==!1;return Pe(Pe({},Ne),{},{flattenOptions:Gt,onActiveValue:$t,defaultActiveFirstOption:jt,onSelect:It,menuItemSelectedIcon:U,rawValues:Cn,fieldNames:Fe,virtual:Bt,direction:K,listHeight:X,listItemHeight:ee,childrenAsData:Re,maxCount:pe,optionRender:N})},[pe,Ne,Gt,$t,jt,It,U,Cn,Fe,q,w,K,X,ee,Re,N]);return I.createElement(Nz.Provider,{value:xn},I.createElement(Kwe,In({},ye,{id:_e,prefixCls:a,ref:t,omitDomProps:OSe,mode:r,displayValues:dn,onDisplayValuesChange:zt,direction:K,searchValue:st,onSearch:Dt,autoClearSearchValue:h,onSearchSplit:Tt,dropdownMatchSelectWidth:w,OptionList:gSe,emptyOptions:!Gt.length,activeValue:xe,activeDescendantId:"".concat(_e,"_list_").concat(_t)})))}),Bz=MSe;Bz.Option=zz;Bz.OptGroup=Dz;function XA(e,t,n){return ut({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const jz=(e,t)=>t||e,ASe=()=>{const[,e]=Qu(),[t]=PO("Empty"),r=new aa(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return I.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},I.createElement("title",null,t?.description||"Empty"),I.createElement("g",{fill:"none",fillRule:"evenodd"},I.createElement("g",{transform:"translate(24 31.67)"},I.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),I.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),I.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),I.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),I.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),I.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),I.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},I.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),I.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ISe=()=>{const[,e]=Qu(),[t]=PO("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:a}=e,{borderColor:s,shadowColor:o,contentColor:l}=I.useMemo(()=>({borderColor:new aa(n).onBackground(a).toHexString(),shadowColor:new aa(r).onBackground(a).toHexString(),contentColor:new aa(i).onBackground(a).toHexString()}),[n,r,i,a]);return I.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},I.createElement("title",null,t?.description||"Empty"),I.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},I.createElement("ellipse",{fill:o,cx:"32",cy:"33",rx:"32",ry:"7"}),I.createElement("g",{fillRule:"nonzero",stroke:s},I.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),I.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},PSe=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:a,lineHeight:s}=e;return{[t]:{marginInline:r,fontSize:a,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},RSe=no("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,i=ga(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[PSe(i)]});var $Se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const bZ=I.createElement(ASe,null),_Z=I.createElement(ISe,null),Cy=e=>{const{className:t,rootClassName:n,prefixCls:r,image:i=bZ,description:a,children:s,imageStyle:o,style:l,classNames:c,styles:u}=e,d=$Se(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:h,direction:g,className:v,style:x,classNames:w,styles:C}=eu("empty"),E=h("empty",r),[M,R,L]=RSe(E),[N]=PO("Empty"),D=typeof a<"u"?a:N?.description,H=typeof D=="string"?D:"empty";let U=null;return typeof i=="string"?U=I.createElement("img",{alt:H,src:i}):U=i,M(I.createElement("div",Object.assign({className:ut(R,L,E,v,{[`${E}-normal`]:i===_Z,[`${E}-rtl`]:g==="rtl"},t,n,w.root,c?.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},C.root),x),u?.root),l)},d),I.createElement("div",{className:ut(`${E}-image`,w.image,c?.image),style:Object.assign(Object.assign(Object.assign({},o),C.image),u?.image)},U),D&&I.createElement("div",{className:ut(`${E}-description`,w.description,c?.description),style:Object.assign(Object.assign({},C.description),u?.description)},D),s&&I.createElement("div",{className:ut(`${E}-footer`,w.footer,c?.footer),style:Object.assign(Object.assign({},C.footer),u?.footer)},s)))};Cy.PRESENTED_IMAGE_DEFAULT=bZ;Cy.PRESENTED_IMAGE_SIMPLE=_Z;const xZ=e=>{const{componentName:t}=e,{getPrefixCls:n}=I.useContext(ii),r=n("empty");switch(t){case"Table":case"List":return it.createElement(Cy,{image:Cy.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return it.createElement(Cy,{image:Cy.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return it.createElement(Cy,null)}},PR=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:a,[e]:s}=I.useContext(ii),o=I.useContext(bxe),l=s?.variant;let c;typeof t<"u"?c=t:n===!1?c="borderless":c=(i=(r=o??l)!==null&&r!==void 0?r:a)!==null&&i!==void 0?i:"outlined";const u=U0e.includes(c);return[c,u]},kSe=e=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function LSe(e,t){return e||kSe(t)}const Y7=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:i}=e;return{position:"relative",display:"block",minHeight:t,padding:i,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},NSe=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,i=`&${t}-slide-up-enter${t}-slide-up-enter-active`,a=`&${t}-slide-up-appear${t}-slide-up-appear-active`,s=`&${t}-slide-up-leave${t}-slide-up-leave-active`,o=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},uo(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${i}${o}bottomLeft,
          ${a}${o}bottomLeft
        `]:{animationName:Tz},[`
          ${i}${o}topLeft,
          ${a}${o}topLeft,
          ${i}${o}topRight,
          ${a}${o}topRight
        `]:{animationName:Az},[`${s}${o}bottomLeft`]:{animationName:Mz},[`
          ${s}${o}topLeft,
          ${s}${o}topRight
        `]:{animationName:Iz},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},Y7(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},i0),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Y7(e)),{color:e.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},v1(e,"slide-up"),v1(e,"slide-down"),WA(e,"move-up"),WA(e,"move-down")]},DSe=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=e,a=e.max(e.calc(n).sub(r).equal(),0),s=e.max(e.calc(a).sub(i).equal(),0);return{basePadding:a,containerPadding:s,itemHeight:et(t),itemLineHeight:et(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},zSe=e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()},BSe=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:a,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:o,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:e.calc(u).mul(2).equal(),paddingInlineStart:a,paddingInlineEnd:e.calc(a).div(2).equal(),[`${t}-disabled&`]:{color:s,borderColor:o,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(a).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},RO()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},jSe=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,i=`${n}-selection-overflow`,a=e.multipleSelectItemHeight,s=zSe(e),o=t?`${n}-${t}`:"",l=DSe(e);return{[`${n}-multiple${o}`]:Object.assign(Object.assign({},BSe(e)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${et(r)} 0`,lineHeight:et(a),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:et(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:et(a),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:a,fontFamily:e.fontFamily,lineHeight:et(a),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Xk(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",i={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[jSe(e,t),i]}const FSe=e=>{const{componentCls:t}=e,n=ga(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=ga(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Xk(e),Xk(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Xk(r,"lg")]};function Zk(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=e,a=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),s=t?`${n}-${t}`:"";return{[`${n}-single${s}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},uo(e,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:et(a)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:et(a),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${et(r)}`,[`${n}-selection-search-input`]:{height:a,fontSize:e.fontSize},"&:after":{lineHeight:et(a)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${et(r)}`,"&:after":{display:"none"}}}}}}}function HSe(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Zk(e),Zk(ga(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${et(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Zk(ga(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const VSe=e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:a,controlHeightLG:s,paddingXXS:o,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:h,controlItemBgHover:g,colorBgContainer:v,colorFillSecondary:x,colorBgContainerDisabled:w,colorTextDisabled:C,colorPrimaryHover:E,colorPrimary:M,controlOutline:R}=e,L=o*2,N=r*2,D=Math.min(i-L,i-N),H=Math.min(a-L,a-N),U=Math.min(s-L,s-N);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(o/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:h,optionActiveBg:g,optionPadding:`${(i-t*n)/2}px ${l}px`,optionFontSize:t,optionLineHeight:n,optionHeight:i,selectorBg:v,clearBg:v,singleItemHeightLG:s,multipleItemBg:x,multipleItemBorderColor:"transparent",multipleItemHeight:D,multipleItemHeightSM:H,multipleItemHeightLG:U,multipleSelectorBgDisabled:w,multipleItemColorDisabled:C,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25),hoverBorderColor:E,activeBorderColor:M,activeOutlineColor:R,selectAffixPadding:o}},wZ=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${et(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${et(i)} ${t.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:t.color}}}},X7=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},wZ(e,t))}),USe=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},wZ(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),X7(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),X7(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),SZ=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${et(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Z7=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},SZ(e,t))}),GSe=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},SZ(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),Z7(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Z7(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),WSe=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${et(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),CZ=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${et(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${n}-prefix`]:{color:t.color}}}},Q7=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},CZ(e,t))}),qSe=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},CZ(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),Q7(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),Q7(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),KSe=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},USe(e)),GSe(e)),WSe(e)),qSe(e))}),YSe=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},XSe=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},ZSe=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=e;return{[n]:Object.assign(Object.assign({},uo(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},YSe(e)),XSe(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},i0),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},i0),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},RO()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}}}},QSe=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},ZSe(e),HSe(e),FSe(e),NSe(e),{[`${t}-rtl`]:{direction:"rtl"}},$z(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},JSe=no("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=ga(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[QSe(r),KSe(r)]},VSe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var e2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},t2e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:e2e}))},EZ=I.forwardRef(t2e),n2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},r2e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:n2e}))},Fz=I.forwardRef(r2e),i2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},a2e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:i2e}))},OZ=I.forwardRef(a2e);function o2e(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:a,multiple:s,hasFeedback:o,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:h}=e;const g=n??I.createElement(NX,null),v=E=>t===null&&!o&&!d?null:I.createElement(I.Fragment,null,c!==!1&&E,o&&u);let x=null;if(t!==void 0)x=v(t);else if(a)x=v(I.createElement(I2,{spin:!0}));else{const E=`${l}-suffix`;x=M=>{let{open:R,showSearch:L}=M;return v(R&&L?I.createElement(OZ,{className:E}):I.createElement(Fz,{className:E}))}}let w=null;r!==void 0?w=r:s?w=I.createElement(EZ,null):w=null;let C=null;return i!==void 0?C=i:C=I.createElement($O,null),{clearIcon:g,suffixIcon:x,itemIcon:w,removeIcon:C}}function s2e(e,t){return t!==void 0?t:e!==null}var l2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const TZ="SECRET_COMBOBOX_MODE_DO_NOT_USE",c2e=(e,t)=>{var n;const{prefixCls:r,bordered:i,className:a,rootClassName:s,getPopupContainer:o,popupClassName:l,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:h,size:g,disabled:v,notFoundContent:x,status:w,builtinPlacements:C,dropdownMatchSelectWidth:E,popupMatchSelectWidth:M,direction:R,style:L,allowClear:N,variant:D,dropdownStyle:H,transitionName:U,tagRender:q,maxCount:K,prefix:Q}=e,X=l2e(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:te,getPrefixCls:ee,renderEmpty:Z,direction:re,virtual:oe,popupMatchSelectWidth:ce,popupOverflow:le}=I.useContext(ii),pe=eu("select"),[,ye]=Qu(),_e=h??ye?.controlHeight,Se=ee("select",r),Re=ee(),je=R??re,{compactSize:Fe,compactItemClassnames:ze}=NO(Se,je),[Ze,st]=PR("select",D,i),Ue=vh(Se),[Ne,qe,We]=JSe(Se,Ue),rt=I.useMemo(()=>{const{mode:xe}=e;if(xe!=="combobox")return xe===TZ?"combobox":xe},[e.mode]),ht=rt==="multiple"||rt==="tags",ft=s2e(e.suffixIcon,e.showArrow),Rt=(n=M??E)!==null&&n!==void 0?n:ce,{status:Yt,hasFeedback:Jt,isFormItemInput:xt,feedbackIcon:Ft}=I.useContext(ux),Lt=jz(Yt,w);let Kt;x!==void 0?Kt=x:rt==="combobox"?Kt=null:Kt=Z?.("Select")||I.createElement(xZ,{componentName:"Select"});const{suffixIcon:hn,itemIcon:dn,removeIcon:Cn,clearIcon:kn}=o2e(Object.assign(Object.assign({},X),{multiple:ht,hasFeedback:Jt,feedbackIcon:Ft,showSuffixIcon:ft,prefixCls:Se,componentName:"Select"})),sn=N===!0?{clearIcon:kn}:N,un=rl(X,["suffixIcon","itemIcon"]),gn=ut(l||c,{[`${Se}-dropdown-${je}`]:je==="rtl"},s,We,Ue,qe),Qt=mp(xe=>{var Ye;return(Ye=g??Fe)!==null&&Ye!==void 0?Ye:xe}),Ln=I.useContext(r0),Gt=v??Ln,He=ut({[`${Se}-lg`]:Qt==="large",[`${Se}-sm`]:Qt==="small",[`${Se}-rtl`]:je==="rtl",[`${Se}-${Ze}`]:st,[`${Se}-in-form-item`]:xt},XA(Se,Lt,Jt),ze,pe.className,a,s,We,Ue,qe),be=I.useMemo(()=>d!==void 0?d:je==="rtl"?"bottomRight":"bottomLeft",[d,je]),[we]=P2("SelectLike",H?.zIndex);return Ne(I.createElement(Bz,Object.assign({ref:t,virtual:oe,showSearch:pe.showSearch},un,{style:Object.assign(Object.assign({},pe.style),L),dropdownMatchSelectWidth:Rt,transitionName:Oz(Re,"slide-up",U),builtinPlacements:LSe(C,le),listHeight:u,listItemHeight:_e,mode:rt,prefixCls:Se,placement:be,direction:je,prefix:Q,suffixIcon:hn,menuItemSelectedIcon:dn,removeIcon:Cn,allowClear:sn,notFoundContent:Kt,className:He,getPopupContainer:o||te,dropdownClassName:gn,disabled:Gt,dropdownStyle:Object.assign(Object.assign({},H),{zIndex:we}),maxCount:ht?K:void 0,tagRender:ht?q:void 0})))},$2=I.forwardRef(c2e),u2e=oZ($2,"dropdownAlign");$2.SECRET_COMBOBOX_MODE_DO_NOT_USE=TZ;$2.Option=zz;$2.OptGroup=Dz;$2._InternalPanelDoNotUseOrYouWillBeFired=u2e;const VS=["xxl","xl","lg","md","sm","xs"],f2e=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),d2e=e=>{const t=e,n=[].concat(VS).reverse();return n.forEach((r,i)=>{const a=r.toUpperCase(),s=`screen${a}Min`,o=`screen${a}`;if(!(t[s]<=t[o]))throw new Error(`${s}<=${o} fails : !(${t[s]}<=${t[o]})`);if(i<n.length-1){const l=`screen${a}Max`;if(!(t[o]<=t[l]))throw new Error(`${o}<=${l} fails : !(${t[o]}<=${t[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(t[l]<=t[u]))throw new Error(`${l}<=${u} fails : !(${t[l]}<=${t[u]})`)}}),e},MZ=(e,t)=>{if(t){for(const n of VS)if(e[n]&&t?.[n]!==void 0)return t[n]}},h2e=()=>{const[,e]=Qu(),t=f2e(d2e(e));return it.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:t,matchHandlers:{},dispatch(a){return i=a,n.forEach(s=>s(i)),n.size>=1},subscribe(a){return n.size||this.register(),r+=1,n.set(r,a),a(i),r},unsubscribe(a){n.delete(a),n.size||this.unregister()},register(){Object.keys(t).forEach(a=>{const s=t[a],o=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[a]:u}))},l=window.matchMedia(s);l.addListener(o),this.matchHandlers[s]={mql:l,listener:o},o(l)})},unregister(){Object.keys(t).forEach(a=>{const s=t[a],o=this.matchHandlers[s];o?.mql.removeListener(o?.listener)}),n.clear()}}},[e])};function Hz(){const[,e]=I.useReducer(t=>t+1,0);return e}function RR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=I.useRef(t),r=Hz(),i=h2e();return Sa(()=>{const a=i.subscribe(s=>{n.current=s,e&&r()});return()=>i.unsubscribe(a)},[]),n.current}function AZ(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,a=e.bodyClassName,s=e.className,o=e.style;return I.createElement("div",{className:ut("".concat(n,"-content"),s),style:o},I.createElement("div",{className:ut("".concat(n,"-inner"),a),id:r,role:"tooltip",style:i},typeof t=="function"?t():t))}var bw={shiftX:64,adjustY:1},_w={adjustX:1,shiftY:!0},Up=[0,0],p2e={left:{points:["cr","cl"],overflow:_w,offset:[-4,0],targetOffset:Up},right:{points:["cl","cr"],overflow:_w,offset:[4,0],targetOffset:Up},top:{points:["bc","tc"],overflow:bw,offset:[0,-4],targetOffset:Up},bottom:{points:["tc","bc"],overflow:bw,offset:[0,4],targetOffset:Up},topLeft:{points:["bl","tl"],overflow:bw,offset:[0,-4],targetOffset:Up},leftTop:{points:["tr","tl"],overflow:_w,offset:[-4,0],targetOffset:Up},topRight:{points:["br","tr"],overflow:bw,offset:[0,-4],targetOffset:Up},rightTop:{points:["tl","tr"],overflow:_w,offset:[4,0],targetOffset:Up},bottomRight:{points:["tr","br"],overflow:bw,offset:[0,4],targetOffset:Up},rightBottom:{points:["bl","br"],overflow:_w,offset:[4,0],targetOffset:Up},bottomLeft:{points:["tl","bl"],overflow:bw,offset:[0,4],targetOffset:Up},leftBottom:{points:["br","bl"],overflow:_w,offset:[-4,0],targetOffset:Up}},g2e=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],m2e=function(t,n){var r=t.overlayClassName,i=t.trigger,a=i===void 0?["hover"]:i,s=t.mouseEnterDelay,o=s===void 0?0:s,l=t.mouseLeaveDelay,c=l===void 0?.1:l,u=t.overlayStyle,d=t.prefixCls,h=d===void 0?"rc-tooltip":d,g=t.children,v=t.onVisibleChange,x=t.afterVisibleChange,w=t.transitionName,C=t.animation,E=t.motion,M=t.placement,R=M===void 0?"right":M,L=t.align,N=L===void 0?{}:L,D=t.destroyTooltipOnHide,H=D===void 0?!1:D,U=t.defaultVisible,q=t.getTooltipContainer,K=t.overlayInnerStyle;t.arrowContent;var Q=t.overlay,X=t.id,te=t.showArrow,ee=te===void 0?!0:te,Z=t.classNames,re=t.styles,oe=zr(t,g2e),ce=ER(X),le=I.useRef(null);I.useImperativeHandle(n,function(){return le.current});var pe=Pe({},oe);"visible"in t&&(pe.popupVisible=t.visible);var ye=function(){return I.createElement(AZ,{key:"content",prefixCls:h,id:ce,bodyClassName:Z?.body,overlayInnerStyle:Pe(Pe({},K),re?.body)},Q)},_e=function(){var Re=I.Children.only(g),je=Re?.props||{},Fe=Pe(Pe({},je),{},{"aria-describedby":Q?ce:null});return I.cloneElement(g,Fe)};return I.createElement(AR,In({popupClassName:ut(r,Z?.root),prefixCls:h,popup:ye,action:a,builtinPlacements:p2e,popupPlacement:R,ref:le,popupAlign:N,getPopupContainer:q,onPopupVisibleChange:v,afterPopupVisibleChange:x,popupTransitionName:w,popupAnimation:C,popupMotion:E,defaultPopupVisible:U,autoDestroy:H,mouseLeaveDelay:c,popupStyle:Pe(Pe({},u),re?.root),mouseEnterDelay:o,arrow:ee},pe),_e())};const v2e=I.forwardRef(m2e);function IZ(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,a=0,s=i,o=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*i-c,h=u,g=2*i-o,v=l,x=2*i-a,w=s,C=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),E=r*(Math.sqrt(2)-1),M=`polygon(${E}px 100%, 50% ${E}px, ${2*i-E}px 100%, ${E}px 100%)`,R=`path('M ${a} ${s} A ${r} ${r} 0 0 0 ${o} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${h} L ${g} ${v} A ${r} ${r} 0 0 0 ${x} ${w} Z')`;return{arrowShadowWidth:C,arrowPath:R,arrowPolygon:M}}const y2e=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:a,arrowShadowWidth:s,borderRadiusXS:o,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${et(o)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},PZ=8;function Vz(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?PZ:r}}function NT(e,t){return e?t:{}}function RZ(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:a,arrowOffsetHorizontal:s}=e,{arrowDistance:o=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},y2e(e,t,i)),{"&:before":{background:t}})]},NT(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${et(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),NT(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${et(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),NT(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:o},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:a},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:a}})),NT(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:o},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:a},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:a}}))}}function b2e(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},a={};switch(e){case"top":case"bottom":a.shiftX=t.arrowOffsetHorizontal*2+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=t.arrowOffsetVertical*2+n,a.shiftX=!0,a.adjustX=!0;break}const s=Object.assign(Object.assign({},a),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const J7={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},_2e={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},x2e=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function $Z(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:a,visibleFirst:s}=e,o=t/2,l={};return Object.keys(J7).forEach(c=>{const u=r&&_2e[c]||J7[c],d=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[c]=d,x2e.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-o-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=o+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-o-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=o+i;break}const h=Vz({contentRadius:a,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-h.arrowOffsetHorizontal-o;break;case"topRight":case"bottomRight":d.offset[0]=h.arrowOffsetHorizontal+o;break;case"leftTop":case"rightTop":d.offset[1]=-h.arrowOffsetHorizontal*2+o;break;case"leftBottom":case"rightBottom":d.offset[1]=h.arrowOffsetHorizontal*2-o;break}d.overflow=b2e(c,h,t,n),s&&(d.htmlRegion="visibleFirst")}),l}const w2e=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:a,tooltipBorderRadius:s,zIndexPopup:o,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:h,sizePopupArrow:g}=e,v=t(s).add(g).add(h).equal(),x=t(s).mul(2).add(g).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":a,[`${n}-inner`]:{minWidth:x,minHeight:l,padding:`${et(e.calc(u).div(2).equal())} ${et(d)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:v},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(s,PZ)}},[`${n}-content`]:{position:"relative"}}),pR(e,(w,C)=>{let{darkColor:E}=C;return{[`&${n}-${w}`]:{[`${n}-inner`]:{backgroundColor:E},[`${n}-arrow`]:{"--antd-arrow-background-color":E}}}})),{"&-rtl":{direction:"rtl"}})},RZ(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},S2e=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Vz({contentRadius:e.borderRadius,limitVerticalRadius:!0})),IZ(ga(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),kZ=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return no("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:a,colorBgSpotlight:s}=r,o=ga(r,{tooltipMaxWidth:250,tooltipColor:a,tooltipBorderRadius:i,tooltipBg:s});return[w2e(o),Pz(r,"zoom-big-fast")]},S2e,{resetStyle:!1,injectStyle:t})(e)},C2e=cx.map(e=>`${e}-inverse`),E2e=["success","processing","error","default","warning"];function $R(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(_n(C2e),_n(cx)).includes(e):cx.includes(e)}function O2e(e){return E2e.includes(e)}function LZ(e,t){const n=$R(t),r=ut({[`${e}-${t}`]:t&&n}),i={},a={};return t&&!n&&(i.background=t,a["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:a}}const T2e=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:a,overlayInnerStyle:s}=e,{getPrefixCls:o}=I.useContext(ii),l=o("tooltip",t),[c,u,d]=kZ(l),h=LZ(l,a),g=h.arrowStyle,v=Object.assign(Object.assign({},s),h.overlayStyle),x=ut(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,h.className);return c(I.createElement("div",{className:x,style:g},I.createElement("div",{className:`${l}-arrow`}),I.createElement(AZ,Object.assign({},e,{className:u,prefixCls:l,overlayInnerStyle:v}),i)))};var M2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const A2e=I.forwardRef((e,t)=>{var n,r;const{prefixCls:i,openClassName:a,getTooltipContainer:s,color:o,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:h,arrow:g=!0,title:v,overlay:x,builtinPlacements:w,arrowPointAtCenter:C=!1,autoAdjustOverflow:E=!0,motion:M,getPopupContainer:R,placement:L="top",mouseEnterDelay:N=.1,mouseLeaveDelay:D=.1,overlayStyle:H,rootClassName:U,overlayClassName:q,styles:K,classNames:Q}=e,X=M2e(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),te=!!g,[,ee]=Qu(),{getPopupContainer:Z,getPrefixCls:re,direction:oe,className:ce,style:le,classNames:pe,styles:ye}=eu("tooltip"),_e=M2(),Se=I.useRef(null),Re=()=>{var un;(un=Se.current)===null||un===void 0||un.forceAlign()};I.useImperativeHandle(t,()=>{var un,gn;return{forceAlign:Re,forcePopupAlign:()=>{_e.deprecated(!1,"forcePopupAlign","forceAlign"),Re()},nativeElement:(un=Se.current)===null||un===void 0?void 0:un.nativeElement,popupElement:(gn=Se.current)===null||gn===void 0?void 0:gn.popupElement}});const[je,Fe]=Us(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),ze=!v&&!x&&v!==0,Ze=un=>{var gn,Qt;Fe(ze?!1:un),ze||((gn=e.onOpenChange)===null||gn===void 0||gn.call(e,un),(Qt=e.onVisibleChange)===null||Qt===void 0||Qt.call(e,un))},st=I.useMemo(()=>{var un,gn;let Qt=C;return typeof g=="object"&&(Qt=(gn=(un=g.pointAtCenter)!==null&&un!==void 0?un:g.arrowPointAtCenter)!==null&&gn!==void 0?gn:C),w||$Z({arrowPointAtCenter:Qt,autoAdjustOverflow:E,arrowWidth:te?ee.sizePopupArrow:0,borderRadius:ee.borderRadius,offset:ee.marginXXS,visibleFirst:!0})},[C,g,w,ee]),Ue=I.useMemo(()=>v===0?v:x||v||"",[x,v]),Ne=I.createElement(KA,{space:!0},typeof Ue=="function"?Ue():Ue),qe=re("tooltip",i),We=re(),rt=e["data-popover-inject"];let ht=je;!("open"in e)&&!("visible"in e)&&ze&&(ht=!1);const ft=I.isValidElement(c)&&!DX(c)?c:I.createElement("span",null,c),Rt=ft.props,Yt=!Rt.className||typeof Rt.className=="string"?ut(Rt.className,a||`${qe}-open`):Rt.className,[Jt,xt,Ft]=kZ(qe,!rt),Lt=LZ(qe,o),Kt=Lt.arrowStyle,hn=ut(q,{[`${qe}-rtl`]:oe==="rtl"},Lt.className,U,xt,Ft,ce,pe.root,Q?.root),dn=ut(pe.body,Q?.body),[Cn,kn]=P2("Tooltip",X.zIndex),sn=I.createElement(v2e,Object.assign({},X,{zIndex:Cn,showArrow:te,placement:L,mouseEnterDelay:N,mouseLeaveDelay:D,prefixCls:qe,classNames:{root:hn,body:dn},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kt),ye.root),le),H),K?.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},ye.body),l),K?.body),Lt.overlayStyle)},getTooltipContainer:R||s||Z,ref:Se,builtinPlacements:st,overlay:Ne,visible:ht,onVisibleChange:Ze,afterVisibleChange:u??d,arrowContent:I.createElement("span",{className:`${qe}-arrow-content`}),motion:{motionName:Oz(We,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!h}),ht?hh(ft,{className:Yt}):ft);return Jt(I.createElement(Ez.Provider,{value:kn},sn))}),s0=A2e;s0._InternalPanelDoNotUseOrYouWillBeFired=T2e;var I2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},P2e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:I2e}))},R2e=I.forwardRef(P2e);const $2e=new $i("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),k2e=new $i("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),L2e=new $i("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),N2e=new $i("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),D2e=new $i("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),z2e=new $i("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),B2e=e=>{const{componentCls:t,iconCls:n,antCls:r,badgeShadowSize:i,textFontSize:a,textFontSizeSM:s,statusSize:o,dotSize:l,textFontWeight:c,indicatorHeight:u,indicatorHeightSM:d,marginXS:h,calc:g}=e,v=`${r}-scroll-number`,x=pR(e,(w,C)=>{let{darkColor:E}=C;return{[`&${t} ${t}-color-${w}`]:{background:E,[`&:not(${t}-count)`]:{color:E},"a:hover &":{background:E}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:u,height:u,color:e.badgeTextColor,fontWeight:c,fontSize:a,lineHeight:et(u),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:g(u).div(2).equal(),boxShadow:`0 0 0 ${et(i)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:d,height:d,fontSize:s,lineHeight:et(d),borderRadius:g(d).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${et(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:l,minWidth:l,height:l,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${et(i)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${v}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:z2e,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:o,height:o,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:$2e,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:h,color:e.colorText,fontSize:e.fontSize}}}),x),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:k2e,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:L2e,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:N2e,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:D2e,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${v}-custom-component, ${t}-count`]:{transform:"none"},[`${v}-custom-component, ${v}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[v]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${v}-only`]:{position:"relative",display:"inline-block",height:u,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${v}-only-unit`]:{height:u,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${v}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${v}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},NZ=e=>{const{fontHeight:t,lineWidth:n,marginXS:r,colorBorderBg:i}=e,a=t,s=n,o=e.colorTextLightSolid,l=e.colorError,c=e.colorErrorHover;return ga(e,{badgeFontHeight:a,badgeShadowSize:s,badgeTextColor:o,badgeColor:l,badgeColorHover:c,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},DZ=e=>{const{fontSize:t,lineHeight:n,fontSizeSM:r,lineWidth:i}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*i,indicatorHeightSM:t,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},j2e=no("Badge",e=>{const t=NZ(e);return B2e(t)},DZ),F2e=e=>{const{antCls:t,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:i,calc:a}=e,s=`${t}-ribbon`,o=`${t}-ribbon-wrapper`,l=pR(e,(c,u)=>{let{darkColor:d}=u;return{[`&${s}-color-${c}`]:{background:d,color:d}}});return{[o]:{position:"relative"},[s]:Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{position:"absolute",top:r,padding:`0 ${et(e.paddingXS)}`,color:e.colorPrimary,lineHeight:et(n),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${s}-text`]:{color:e.badgeTextColor},[`${s}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${et(a(i).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),l),{[`&${s}-placement-end`]:{insetInlineEnd:a(i).mul(-1).equal(),borderEndEndRadius:0,[`${s}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${s}-placement-start`]:{insetInlineStart:a(i).mul(-1).equal(),borderEndStartRadius:0,[`${s}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},H2e=no(["Badge","Ribbon"],e=>{const t=NZ(e);return F2e(t)},DZ),V2e=e=>{const{className:t,prefixCls:n,style:r,color:i,children:a,text:s,placement:o="end",rootClassName:l}=e,{getPrefixCls:c,direction:u}=I.useContext(ii),d=c("ribbon",n),h=`${d}-wrapper`,[g,v,x]=H2e(d,h),w=$R(i,!1),C=ut(d,`${d}-placement-${o}`,{[`${d}-rtl`]:u==="rtl",[`${d}-color-${i}`]:w},t),E={},M={};return i&&!w&&(E.background=i,M.color=i),g(I.createElement("div",{className:ut(h,l,v,x)},a,I.createElement("div",{className:ut(C,v),style:Object.assign(Object.assign({},E),r)},I.createElement("span",{className:`${d}-text`},s),I.createElement("div",{className:`${d}-corner`,style:M}))))},e9=e=>{const{prefixCls:t,value:n,current:r,offset:i=0}=e;let a;return i&&(a={position:"absolute",top:`${i}00%`,left:0}),I.createElement("span",{style:a,className:ut(`${t}-only-unit`,{current:r})},n)};function U2e(e,t,n){let r=e,i=0;for(;(r+10)%10!==t;)r+=n,i+=n;return i}const G2e=e=>{const{prefixCls:t,count:n,value:r}=e,i=Number(r),a=Math.abs(n),[s,o]=I.useState(i),[l,c]=I.useState(a),u=()=>{o(i),c(a)};I.useEffect(()=>{const g=setTimeout(u,1e3);return()=>clearTimeout(g)},[i]);let d,h;if(s===i||Number.isNaN(i)||Number.isNaN(s))d=[I.createElement(e9,Object.assign({},e,{key:i,current:!0}))],h={transition:"none"};else{d=[];const g=i+10,v=[];for(let E=i;E<=g;E+=1)v.push(E);const x=l<a?1:-1,w=v.findIndex(E=>E%10===s);d=(x<0?v.slice(0,w+1):v.slice(w)).map((E,M)=>{const R=E%10;return I.createElement(e9,Object.assign({},e,{key:E,value:R,offset:x<0?M-w:M,current:M===w}))}),h={transform:`translateY(${-U2e(s,i,x)}00%)`}}return I.createElement("span",{className:`${t}-only`,style:h,onTransitionEnd:u},d)};var W2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const q2e=I.forwardRef((e,t)=>{const{prefixCls:n,count:r,className:i,motionClassName:a,style:s,title:o,show:l,component:c="sup",children:u}=e,d=W2e(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:h}=I.useContext(ii),g=h("scroll-number",n),v=Object.assign(Object.assign({},d),{"data-show":l,style:s,className:ut(g,i,a),title:o});let x=r;if(r&&Number(r)%1===0){const w=String(r).split("");x=I.createElement("bdi",null,w.map((C,E)=>I.createElement(G2e,{prefixCls:g,count:Number(r),value:C,key:w.length-E})))}return s?.borderColor&&(v.style=Object.assign(Object.assign({},s),{boxShadow:`0 0 0 1px ${s.borderColor} inset`})),u?hh(u,w=>({className:ut(`${g}-custom-component`,w?.className,a)})):I.createElement(c,Object.assign({},v,{ref:t}),x)});var K2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Y2e=I.forwardRef((e,t)=>{var n,r,i,a,s;const{prefixCls:o,scrollNumberPrefixCls:l,children:c,status:u,text:d,color:h,count:g=null,overflowCount:v=99,dot:x=!1,size:w="default",title:C,offset:E,style:M,className:R,rootClassName:L,classNames:N,styles:D,showZero:H=!1}=e,U=K2e(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:q,direction:K,badge:Q}=I.useContext(ii),X=q("badge",o),[te,ee,Z]=j2e(X),re=g>v?`${v}+`:g,oe=re==="0"||re===0,ce=g===null||oe&&!H,le=(u!=null||h!=null)&&ce,pe=x&&!oe,ye=pe?"":re,_e=I.useMemo(()=>(ye==null||ye===""||oe&&!H)&&!pe,[ye,oe,H,pe]),Se=I.useRef(g);_e||(Se.current=g);const Re=Se.current,je=I.useRef(ye);_e||(je.current=ye);const Fe=je.current,ze=I.useRef(pe);_e||(ze.current=pe);const Ze=I.useMemo(()=>{if(!E)return Object.assign(Object.assign({},Q?.style),M);const ft={marginTop:E[1]};return K==="rtl"?ft.left=parseInt(E[0],10):ft.right=-parseInt(E[0],10),Object.assign(Object.assign(Object.assign({},ft),Q?.style),M)},[K,E,M,Q?.style]),st=C??(typeof Re=="string"||typeof Re=="number"?Re:void 0),Ue=_e||!d?null:I.createElement("span",{className:`${X}-status-text`},d),Ne=!Re||typeof Re!="object"?void 0:hh(Re,ft=>({style:Object.assign(Object.assign({},Ze),ft.style)})),qe=$R(h,!1),We=ut(N?.indicator,(n=Q?.classNames)===null||n===void 0?void 0:n.indicator,{[`${X}-status-dot`]:le,[`${X}-status-${u}`]:!!u,[`${X}-color-${h}`]:qe}),rt={};h&&!qe&&(rt.color=h,rt.background=h);const ht=ut(X,{[`${X}-status`]:le,[`${X}-not-a-wrapper`]:!c,[`${X}-rtl`]:K==="rtl"},R,L,Q?.className,(r=Q?.classNames)===null||r===void 0?void 0:r.root,N?.root,ee,Z);if(!c&&le){const ft=Ze.color;return te(I.createElement("span",Object.assign({},U,{className:ht,style:Object.assign(Object.assign(Object.assign({},D?.root),(i=Q?.styles)===null||i===void 0?void 0:i.root),Ze)}),I.createElement("span",{className:We,style:Object.assign(Object.assign(Object.assign({},D?.indicator),(a=Q?.styles)===null||a===void 0?void 0:a.indicator),rt)}),d&&I.createElement("span",{style:{color:ft},className:`${X}-status-text`},d)))}return te(I.createElement("span",Object.assign({ref:t},U,{className:ht,style:Object.assign(Object.assign({},(s=Q?.styles)===null||s===void 0?void 0:s.root),D?.root)}),c,I.createElement(wg,{visible:!_e,motionName:`${X}-zoom`,motionAppear:!1,motionDeadline:1e3},ft=>{let{className:Rt}=ft;var Yt,Jt;const xt=q("scroll-number",l),Ft=ze.current,Lt=ut(N?.indicator,(Yt=Q?.classNames)===null||Yt===void 0?void 0:Yt.indicator,{[`${X}-dot`]:Ft,[`${X}-count`]:!Ft,[`${X}-count-sm`]:w==="small",[`${X}-multiple-words`]:!Ft&&Fe&&Fe.toString().length>1,[`${X}-status-${u}`]:!!u,[`${X}-color-${h}`]:qe});let Kt=Object.assign(Object.assign(Object.assign({},D?.indicator),(Jt=Q?.styles)===null||Jt===void 0?void 0:Jt.indicator),Ze);return h&&!qe&&(Kt=Kt||{},Kt.background=h),I.createElement(q2e,{prefixCls:xt,show:!_e,motionClassName:Rt,className:Lt,count:Fe,title:st,style:Kt,key:"scrollNumber"},Ne)}),Ue))}),zZ=Y2e;zZ.Ribbon=V2e;var X2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Z2e=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:X2e}))},US=I.forwardRef(Z2e),Q2e=mr.ESC,J2e=mr.TAB;function eCe(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,a=e.overlayRef,s=I.useRef(!1),o=function(){if(t){var d,h;(d=n.current)===null||d===void 0||(h=d.focus)===null||h===void 0||h.call(d),r?.(!1)}},l=function(){var d;return(d=a.current)!==null&&d!==void 0&&d.focus?(a.current.focus(),s.current=!0,!0):!1},c=function(d){switch(d.keyCode){case Q2e:o();break;case J2e:{var h=!1;s.current||(h=l()),h?d.preventDefault():o();break}}};I.useEffect(function(){return t?(window.addEventListener("keydown",c),i&&ja(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[t])}var tCe=I.forwardRef(function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,a=I.useMemo(function(){var o;return typeof n=="function"?o=n():o=n,o},[n]),s=Ed(t,Ix(a));return it.createElement(it.Fragment,null,r&&it.createElement("div",{className:"".concat(i,"-arrow")}),it.cloneElement(a,{ref:t0(a)?s:void 0}))}),xw={adjustX:1,adjustY:1},ww=[0,0],nCe={topLeft:{points:["bl","tl"],overflow:xw,offset:[0,-4],targetOffset:ww},top:{points:["bc","tc"],overflow:xw,offset:[0,-4],targetOffset:ww},topRight:{points:["br","tr"],overflow:xw,offset:[0,-4],targetOffset:ww},bottomLeft:{points:["tl","bl"],overflow:xw,offset:[0,4],targetOffset:ww},bottom:{points:["tc","bc"],overflow:xw,offset:[0,4],targetOffset:ww},bottomRight:{points:["tr","br"],overflow:xw,offset:[0,4],targetOffset:ww}},rCe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function iCe(e,t){var n,r=e.arrow,i=r===void 0?!1:r,a=e.prefixCls,s=a===void 0?"rc-dropdown":a,o=e.transitionName,l=e.animation,c=e.align,u=e.placement,d=u===void 0?"bottomLeft":u,h=e.placements,g=h===void 0?nCe:h,v=e.getPopupContainer,x=e.showAction,w=e.hideAction,C=e.overlayClassName,E=e.overlayStyle,M=e.visible,R=e.trigger,L=R===void 0?["hover"]:R,N=e.autoFocus,D=e.overlay,H=e.children,U=e.onVisibleChange,q=zr(e,rCe),K=it.useState(),Q=mt(K,2),X=Q[0],te=Q[1],ee="visible"in e?M:X,Z=it.useRef(null),re=it.useRef(null),oe=it.useRef(null);it.useImperativeHandle(t,function(){return Z.current});var ce=function(ze){te(ze),U?.(ze)};eCe({visible:ee,triggerRef:oe,onVisibleChange:ce,autoFocus:N,overlayRef:re});var le=function(ze){var Ze=e.onOverlayClick;te(!1),Ze&&Ze(ze)},pe=function(){return it.createElement(tCe,{ref:re,overlay:D,prefixCls:s,arrow:i})},ye=function(){return typeof D=="function"?pe:pe()},_e=function(){var ze=e.minOverlayWidthMatchTrigger,Ze=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?ze:!Ze},Se=function(){var ze=e.openClassName;return ze!==void 0?ze:"".concat(s,"-open")},Re=it.cloneElement(H,{className:ut((n=H.props)===null||n===void 0?void 0:n.className,ee&&Se()),ref:t0(H)?Ed(oe,Ix(H)):void 0}),je=w;return!je&&L.indexOf("contextMenu")!==-1&&(je=["click"]),it.createElement(AR,In({builtinPlacements:g},q,{prefixCls:s,ref:Z,popupClassName:ut(C,Te({},"".concat(s,"-show-arrow"),i)),popupStyle:E,action:L,showAction:x,hideAction:je,popupPlacement:d,popupAlign:c,popupTransitionName:o,popupAnimation:l,popupVisible:ee,stretch:_e()?"minWidth":"",popup:ye(),onPopupVisibleChange:ce,onPopupClick:le,getPopupContainer:v}),Re)}const BZ=it.forwardRef(iCe),aCe=e=>typeof e!="object"&&typeof e!="function"||e===null;var jZ=I.createContext(null);function FZ(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function HZ(e){var t=I.useContext(jZ);return FZ(t,e)}var oCe=["children","locked"],Rm=I.createContext(null);function sCe(e,t){var n=Pe({},e);return Object.keys(t).forEach(function(r){var i=t[r];i!==void 0&&(n[r]=i)}),n}function NE(e){var t=e.children,n=e.locked,r=zr(e,oCe),i=I.useContext(Rm),a=Ax(function(){return sCe(i,r)},[i,r],function(s,o){return!n&&(s[0]!==o[0]||!n0(s[1],o[1],!0))});return I.createElement(Rm.Provider,{value:a},t)}var lCe=[],VZ=I.createContext(null);function kR(){return I.useContext(VZ)}var UZ=I.createContext(lCe);function k2(e){var t=I.useContext(UZ);return I.useMemo(function(){return e!==void 0?[].concat(_n(t),[e]):t},[t,e])}var GZ=I.createContext(null),Uz=I.createContext({});function t9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(mR(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||n==="a"&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),s=null;return i&&!Number.isNaN(a)?s=a:r&&s===null&&(s=0),r&&e.disabled&&(s=null),s!==null&&(s>=0||t&&s<0)}return!1}function cCe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=_n(e.querySelectorAll("*")).filter(function(r){return t9(r,t)});return t9(e,t)&&n.unshift(e),n}var xD=mr.LEFT,wD=mr.RIGHT,SD=mr.UP,nA=mr.DOWN,rA=mr.ENTER,WZ=mr.ESC,uC=mr.HOME,fC=mr.END,n9=[SD,nA,xD,wD];function uCe(e,t,n,r){var i,a="prev",s="next",o="children",l="parent";if(e==="inline"&&r===rA)return{inlineTrigger:!0};var c=Te(Te({},SD,a),nA,s),u=Te(Te(Te(Te({},xD,n?s:a),wD,n?a:s),nA,o),rA,o),d=Te(Te(Te(Te(Te(Te({},SD,a),nA,s),rA,o),WZ,l),xD,n?o:l),wD,n?l:o),h={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d},g=(i=h["".concat(e).concat(t?"":"Sub")])===null||i===void 0?void 0:i[r];switch(g){case a:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case o:return{offset:1,sibling:!1};default:return null}}function fCe(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function dCe(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}function Gz(e,t){var n=cCe(e,!0);return n.filter(function(r){return t.has(r)})}function r9(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var i=Gz(e,t),a=i.length,s=i.findIndex(function(o){return n===o});return r<0?s===-1?s=a-1:s-=1:r>0&&(s+=1),s=(s+a)%a,i[s]}var CD=function(t,n){var r=new Set,i=new Map,a=new Map;return t.forEach(function(s){var o=document.querySelector("[data-menu-id='".concat(FZ(n,s),"']"));o&&(r.add(o),a.set(o,s),i.set(s,o))}),{elements:r,key2element:i,element2key:a}};function hCe(e,t,n,r,i,a,s,o,l,c){var u=I.useRef(),d=I.useRef();d.current=t;var h=function(){ja.cancel(u.current)};return I.useEffect(function(){return function(){h()}},[]),function(g){var v=g.which;if([].concat(n9,[rA,WZ,uC,fC]).includes(v)){var x=a(),w=CD(x,r),C=w,E=C.elements,M=C.key2element,R=C.element2key,L=M.get(t),N=dCe(L,E),D=R.get(N),H=uCe(e,s(D,!0).length===1,n,v);if(!H&&v!==uC&&v!==fC)return;(n9.includes(v)||[uC,fC].includes(v))&&g.preventDefault();var U=function(re){if(re){var oe=re,ce=re.querySelector("a");ce!=null&&ce.getAttribute("href")&&(oe=ce);var le=R.get(re);o(le),h(),u.current=ja(function(){d.current===le&&oe.focus()})}};if([uC,fC].includes(v)||H.sibling||!N){var q;!N||e==="inline"?q=i.current:q=fCe(N);var K,Q=Gz(q,E);v===uC?K=Q[0]:v===fC?K=Q[Q.length-1]:K=r9(q,E,N,H.offset),U(K)}else if(H.inlineTrigger)l(D);else if(H.offset>0)l(D,!0),h(),u.current=ja(function(){w=CD(x,r);var Z=N.getAttribute("aria-controls"),re=document.getElementById(Z),oe=r9(re,w.elements);U(oe)},5);else if(H.offset<0){var X=s(D,!0),te=X[X.length-2],ee=M.get(te);l(te,!1),U(ee)}}c?.(g)}}function pCe(e){Promise.resolve().then(e)}var Wz="__RC_UTIL_PATH_SPLIT__",i9=function(t){return t.join(Wz)},gCe=function(t){return t.split(Wz)},ED="rc-menu-more";function mCe(){var e=I.useState({}),t=mt(e,2),n=t[1],r=I.useRef(new Map),i=I.useRef(new Map),a=I.useState([]),s=mt(a,2),o=s[0],l=s[1],c=I.useRef(0),u=I.useRef(!1),d=function(){u.current||n({})},h=I.useCallback(function(M,R){var L=i9(R);i.current.set(L,M),r.current.set(M,L),c.current+=1;var N=c.current;pCe(function(){N===c.current&&d()})},[]),g=I.useCallback(function(M,R){var L=i9(R);i.current.delete(L),r.current.delete(M)},[]),v=I.useCallback(function(M){l(M)},[]),x=I.useCallback(function(M,R){var L=r.current.get(M)||"",N=gCe(L);return R&&o.includes(N[0])&&N.unshift(ED),N},[o]),w=I.useCallback(function(M,R){return M.filter(function(L){return L!==void 0}).some(function(L){var N=x(L,!0);return N.includes(R)})},[x]),C=function(){var R=_n(r.current.keys());return o.length&&R.push(ED),R},E=I.useCallback(function(M){var R="".concat(r.current.get(M)).concat(Wz),L=new Set;return _n(i.current.keys()).forEach(function(N){N.startsWith(R)&&L.add(i.current.get(N))}),L},[]);return I.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:h,unregisterPath:g,refreshOverflowKeys:v,isSubPathKey:w,getKeyPath:x,getKeys:C,getSubPathKeys:E}}function AC(e){var t=I.useRef(e);t.current=e;var n=I.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(a))},[]);return e?n:void 0}var vCe=Math.random().toFixed(5).toString().slice(2),a9=0;function yCe(e){var t=Us(e,{value:e}),n=mt(t,2),r=n[0],i=n[1];return I.useEffect(function(){a9+=1;var a="".concat(vCe,"-").concat(a9);i("rc-menu-uuid-".concat(a))},[]),r}function qZ(e,t,n,r){var i=I.useContext(Rm),a=i.activeKey,s=i.onActive,o=i.onInactive,l={active:a===e};return t||(l.onMouseEnter=function(c){n?.({key:e,domEvent:c}),s(e)},l.onMouseLeave=function(c){r?.({key:e,domEvent:c}),o(e)}),l}function KZ(e){var t=I.useContext(Rm),n=t.mode,r=t.rtl,i=t.inlineIndent;if(n!=="inline")return null;var a=e;return r?{paddingRight:a*i}:{paddingLeft:a*i}}function YZ(e){var t=e.icon,n=e.props,r=e.children,i;return t===null||t===!1?null:(typeof t=="function"?i=I.createElement(t,Pe({},n)):typeof t!="boolean"&&(i=t),i||r||null)}var bCe=["item"];function ZA(e){var t=e.item,n=zr(e,bCe);return Object.defineProperty(n,"item",{get:function(){return vl(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var _Ce=["title","attribute","elementRef"],xCe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],wCe=["active"],SCe=function(e){qr(n,e);var t=v0(n);function n(){return En(this,n),t.apply(this,arguments)}return On(n,[{key:"render",value:function(){var i=this.props,a=i.title,s=i.attribute,o=i.elementRef,l=zr(i,_Ce),c=rl(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return vl(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),I.createElement(Yv.Item,In({},s,{title:typeof a=="string"?a:void 0},c,{ref:o}))}}]),n}(I.Component),CCe=I.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.eventKey;e.warnKey;var a=e.disabled,s=e.itemIcon,o=e.children,l=e.role,c=e.onMouseEnter,u=e.onMouseLeave,d=e.onClick,h=e.onKeyDown,g=e.onFocus,v=zr(e,xCe),x=HZ(i),w=I.useContext(Rm),C=w.prefixCls,E=w.onItemClick,M=w.disabled,R=w.overflowDisabled,L=w.itemIcon,N=w.selectedKeys,D=w.onActive,H=I.useContext(Uz),U=H._internalRenderMenuItem,q="".concat(C,"-item"),K=I.useRef(),Q=I.useRef(),X=M||a,te=Yy(t,Q),ee=k2(i),Z=function(Ze){return{key:i,keyPath:_n(ee).reverse(),item:K.current,domEvent:Ze}},re=s||L,oe=qZ(i,X,c,u),ce=oe.active,le=zr(oe,wCe),pe=N.includes(i),ye=KZ(ee.length),_e=function(Ze){if(!X){var st=Z(Ze);d?.(ZA(st)),E(st)}},Se=function(Ze){if(h?.(Ze),Ze.which===mr.ENTER){var st=Z(Ze);d?.(ZA(st)),E(st)}},Re=function(Ze){D(i),g?.(Ze)},je={};e.role==="option"&&(je["aria-selected"]=pe);var Fe=I.createElement(SCe,In({ref:K,elementRef:te,role:l===null?"none":l||"menuitem",tabIndex:a?null:-1,"data-menu-id":R&&x?null:x},rl(v,["extra"]),le,je,{component:"li","aria-disabled":a,style:Pe(Pe({},ye),n),className:ut(q,Te(Te(Te({},"".concat(q,"-active"),ce),"".concat(q,"-selected"),pe),"".concat(q,"-disabled"),X),r),onClick:_e,onKeyDown:Se,onFocus:Re}),o,I.createElement(YZ,{props:Pe(Pe({},e),{},{isSelected:pe}),icon:re}));return U&&(Fe=U(Fe,e,{selected:pe})),Fe});function ECe(e,t){var n=e.eventKey,r=kR(),i=k2(n);return I.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:I.createElement(CCe,In({},e,{ref:t}))}const jO=I.forwardRef(ECe);var OCe=["className","children"],TCe=function(t,n){var r=t.className,i=t.children,a=zr(t,OCe),s=I.useContext(Rm),o=s.prefixCls,l=s.mode,c=s.rtl;return I.createElement("ul",In({className:ut(o,c&&"".concat(o,"-rtl"),"".concat(o,"-sub"),"".concat(o,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},a,{"data-menu-list":!0,ref:n}),i)},qz=I.forwardRef(TCe);qz.displayName="SubMenuList";function Kz(e,t){return Xu(e).map(function(n,r){if(I.isValidElement(n)){var i,a,s=n.key,o=(i=(a=n.props)===null||a===void 0?void 0:a.eventKey)!==null&&i!==void 0?i:s,l=o==null;l&&(o="tmp_key-".concat([].concat(_n(t),[r]).join("-")));var c={key:o,eventKey:o};return I.cloneElement(n,c)}return n})}var $f={adjustX:1,adjustY:1},MCe={topLeft:{points:["bl","tl"],overflow:$f},topRight:{points:["br","tr"],overflow:$f},bottomLeft:{points:["tl","bl"],overflow:$f},bottomRight:{points:["tr","br"],overflow:$f},leftTop:{points:["tr","tl"],overflow:$f},leftBottom:{points:["br","bl"],overflow:$f},rightTop:{points:["tl","tr"],overflow:$f},rightBottom:{points:["bl","br"],overflow:$f}},ACe={topLeft:{points:["bl","tl"],overflow:$f},topRight:{points:["br","tr"],overflow:$f},bottomLeft:{points:["tl","bl"],overflow:$f},bottomRight:{points:["tr","br"],overflow:$f},rightTop:{points:["tr","tl"],overflow:$f},rightBottom:{points:["br","bl"],overflow:$f},leftTop:{points:["tl","tr"],overflow:$f},leftBottom:{points:["bl","br"],overflow:$f}};function XZ(e,t,n){if(t)return t;if(n)return n[e]||n.other}var ICe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function PCe(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,a=e.popupStyle,s=e.popupClassName,o=e.popupOffset,l=e.disabled,c=e.mode,u=e.onVisibleChange,d=I.useContext(Rm),h=d.getPopupContainer,g=d.rtl,v=d.subMenuOpenDelay,x=d.subMenuCloseDelay,w=d.builtinPlacements,C=d.triggerSubMenuAction,E=d.forceSubMenuRender,M=d.rootClassName,R=d.motion,L=d.defaultMotions,N=I.useState(!1),D=mt(N,2),H=D[0],U=D[1],q=Pe(g?Pe({},ACe):Pe({},MCe),w),K=ICe[c],Q=XZ(c,R,L),X=I.useRef(Q);c!=="inline"&&(X.current=Q);var te=Pe(Pe({},X.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),ee=I.useRef();return I.useEffect(function(){return ee.current=ja(function(){U(n)}),function(){ja.cancel(ee.current)}},[n]),I.createElement(AR,{prefixCls:t,popupClassName:ut("".concat(t,"-popup"),Te({},"".concat(t,"-rtl"),g),s,M),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:h,builtinPlacements:q,popupPlacement:K,popupVisible:H,popup:i,popupStyle:a,popupAlign:o&&{offset:o},action:l?[]:[C],mouseEnterDelay:v,mouseLeaveDelay:x,onPopupVisibleChange:u,forceRender:E,popupMotion:te,fresh:!0},r)}function RCe(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,a="inline",s=I.useContext(Rm),o=s.prefixCls,l=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,d=s.mode,h=I.useRef(!1);h.current=d===a;var g=I.useState(!h.current),v=mt(g,2),x=v[0],w=v[1],C=h.current?n:!1;I.useEffect(function(){h.current&&w(!1)},[d]);var E=Pe({},XZ(a,c,u));r.length>1&&(E.motionAppear=!1);var M=E.onVisibleChanged;return E.onVisibleChanged=function(R){return!h.current&&!R&&w(!0),M?.(R)},x?null:I.createElement(NE,{mode:a,locked:!h.current},I.createElement(wg,In({visible:C},E,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(o,"-hidden")}),function(R){var L=R.className,N=R.style;return I.createElement(qz,{id:t,className:L,style:N},i)}))}var $Ce=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],kCe=["active"],LCe=I.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.title,a=e.eventKey;e.warnKey;var s=e.disabled,o=e.internalPopupClose,l=e.children,c=e.itemIcon,u=e.expandIcon,d=e.popupClassName,h=e.popupOffset,g=e.popupStyle,v=e.onClick,x=e.onMouseEnter,w=e.onMouseLeave,C=e.onTitleClick,E=e.onTitleMouseEnter,M=e.onTitleMouseLeave,R=zr(e,$Ce),L=HZ(a),N=I.useContext(Rm),D=N.prefixCls,H=N.mode,U=N.openKeys,q=N.disabled,K=N.overflowDisabled,Q=N.activeKey,X=N.selectedKeys,te=N.itemIcon,ee=N.expandIcon,Z=N.onItemClick,re=N.onOpenChange,oe=N.onActive,ce=I.useContext(Uz),le=ce._internalRenderSubMenuItem,pe=I.useContext(GZ),ye=pe.isSubPathKey,_e=k2(),Se="".concat(D,"-submenu"),Re=q||s,je=I.useRef(),Fe=I.useRef(),ze=c??te,Ze=u??ee,st=U.includes(a),Ue=!K&&st,Ne=ye(X,a),qe=qZ(a,Re,E,M),We=qe.active,rt=zr(qe,kCe),ht=I.useState(!1),ft=mt(ht,2),Rt=ft[0],Yt=ft[1],Jt=function(be){Re||Yt(be)},xt=function(be){Jt(!0),x?.({key:a,domEvent:be})},Ft=function(be){Jt(!1),w?.({key:a,domEvent:be})},Lt=I.useMemo(function(){return We||(H!=="inline"?Rt||ye([Q],a):!1)},[H,We,Q,Rt,a,ye]),Kt=KZ(_e.length),hn=function(be){Re||(C?.({key:a,domEvent:be}),H==="inline"&&re(a,!st))},dn=AC(function(He){v?.(ZA(He)),Z(He)}),Cn=function(be){H!=="inline"&&re(a,be)},kn=function(){oe(a)},sn=L&&"".concat(L,"-popup"),un=I.useMemo(function(){return I.createElement(YZ,{icon:H!=="horizontal"?Ze:void 0,props:Pe(Pe({},e),{},{isOpen:Ue,isSubMenu:!0})},I.createElement("i",{className:"".concat(Se,"-arrow")}))},[H,Ze,e,Ue,Se]),gn=I.createElement("div",In({role:"menuitem",style:Kt,className:"".concat(Se,"-title"),tabIndex:Re?null:-1,ref:je,title:typeof i=="string"?i:null,"data-menu-id":K&&L?null:L,"aria-expanded":Ue,"aria-haspopup":!0,"aria-controls":sn,"aria-disabled":Re,onClick:hn,onFocus:kn},rt),i,un),Qt=I.useRef(H);if(H!=="inline"&&_e.length>1?Qt.current="vertical":Qt.current=H,!K){var Ln=Qt.current;gn=I.createElement(PCe,{mode:Ln,prefixCls:Se,visible:!o&&Ue&&H!=="inline",popupClassName:d,popupOffset:h,popupStyle:g,popup:I.createElement(NE,{mode:Ln==="horizontal"?"vertical":Ln},I.createElement(qz,{id:sn,ref:Fe},l)),disabled:Re,onVisibleChange:Cn},gn)}var Gt=I.createElement(Yv.Item,In({ref:t,role:"none"},R,{component:"li",style:n,className:ut(Se,"".concat(Se,"-").concat(H),r,Te(Te(Te(Te({},"".concat(Se,"-open"),Ue),"".concat(Se,"-active"),Lt),"".concat(Se,"-selected"),Ne),"".concat(Se,"-disabled"),Re)),onMouseEnter:xt,onMouseLeave:Ft}),gn,!K&&I.createElement(RCe,{id:sn,open:Ue,keyPath:_e},l));return le&&(Gt=le(Gt,e,{selected:Ne,active:Lt,open:Ue,disabled:Re})),I.createElement(NE,{onItemClick:dn,mode:H==="horizontal"?"vertical":H,itemIcon:ze,expandIcon:Ze},Gt)}),LR=I.forwardRef(function(e,t){var n=e.eventKey,r=e.children,i=k2(n),a=Kz(r,i),s=kR();I.useEffect(function(){if(s)return s.registerPath(n,i),function(){s.unregisterPath(n,i)}},[i]);var o;return s?o=a:o=I.createElement(LCe,In({ref:t},e),a),I.createElement(UZ.Provider,{value:i},o)});function Yz(e){var t=e.className,n=e.style,r=I.useContext(Rm),i=r.prefixCls,a=kR();return a?null:I.createElement("li",{role:"separator",className:ut("".concat(i,"-item-divider"),t),style:n})}var NCe=["className","title","eventKey","children"],DCe=I.forwardRef(function(e,t){var n=e.className,r=e.title;e.eventKey;var i=e.children,a=zr(e,NCe),s=I.useContext(Rm),o=s.prefixCls,l="".concat(o,"-item-group");return I.createElement("li",In({ref:t,role:"presentation"},a,{onClick:function(u){return u.stopPropagation()},className:ut(l,n)}),I.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),I.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))}),Xz=I.forwardRef(function(e,t){var n=e.eventKey,r=e.children,i=k2(n),a=Kz(r,i),s=kR();return s?a:I.createElement(DCe,In({ref:t},rl(e,["warnKey"])),a)}),zCe=["label","children","key","type","extra"];function OD(e,t,n){var r=t.item,i=t.group,a=t.submenu,s=t.divider;return(e||[]).map(function(o,l){if(o&&Rr(o)==="object"){var c=o,u=c.label,d=c.children,h=c.key,g=c.type,v=c.extra,x=zr(c,zCe),w=h??"tmp-".concat(l);return d||g==="group"?g==="group"?I.createElement(i,In({key:w},x,{title:u}),OD(d,t,n)):I.createElement(a,In({key:w},x,{title:u}),OD(d,t,n)):g==="divider"?I.createElement(s,In({key:w},x)):I.createElement(r,In({key:w},x,{extra:v}),u,(!!v||v===0)&&I.createElement("span",{className:"".concat(n,"-item-extra")},v))}return null}).filter(function(o){return o})}function o9(e,t,n,r,i){var a=e,s=Pe({divider:Yz,item:jO,group:Xz,submenu:LR},r);return t&&(a=OD(t,s,i)),Kz(a,n)}var BCe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],P_=[],jCe=I.forwardRef(function(e,t){var n,r=e,i=r.prefixCls,a=i===void 0?"rc-menu":i,s=r.rootClassName,o=r.style,l=r.className,c=r.tabIndex,u=c===void 0?0:c,d=r.items,h=r.children,g=r.direction,v=r.id,x=r.mode,w=x===void 0?"vertical":x,C=r.inlineCollapsed,E=r.disabled,M=r.disabledOverflow,R=r.subMenuOpenDelay,L=R===void 0?.1:R,N=r.subMenuCloseDelay,D=N===void 0?.1:N,H=r.forceSubMenuRender,U=r.defaultOpenKeys,q=r.openKeys,K=r.activeKey,Q=r.defaultActiveFirst,X=r.selectable,te=X===void 0?!0:X,ee=r.multiple,Z=ee===void 0?!1:ee,re=r.defaultSelectedKeys,oe=r.selectedKeys,ce=r.onSelect,le=r.onDeselect,pe=r.inlineIndent,ye=pe===void 0?24:pe,_e=r.motion,Se=r.defaultMotions,Re=r.triggerSubMenuAction,je=Re===void 0?"hover":Re,Fe=r.builtinPlacements,ze=r.itemIcon,Ze=r.expandIcon,st=r.overflowedIndicator,Ue=st===void 0?"...":st,Ne=r.overflowedIndicatorPopupClassName,qe=r.getPopupContainer,We=r.onClick,rt=r.onOpenChange,ht=r.onKeyDown;r.openAnimation,r.openTransitionName;var ft=r._internalRenderMenuItem,Rt=r._internalRenderSubMenuItem,Yt=r._internalComponents,Jt=zr(r,BCe),xt=I.useMemo(function(){return[o9(h,d,P_,Yt,a),o9(h,d,P_,{},a)]},[h,d,Yt]),Ft=mt(xt,2),Lt=Ft[0],Kt=Ft[1],hn=I.useState(!1),dn=mt(hn,2),Cn=dn[0],kn=dn[1],sn=I.useRef(),un=yCe(v),gn=g==="rtl",Qt=Us(U,{value:q,postState:function(gr){return gr||P_}}),Ln=mt(Qt,2),Gt=Ln[0],He=Ln[1],be=function(gr){var Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function ur(){He(gr),rt?.(gr)}Jn?g1.flushSync(ur):ur()},we=I.useState(Gt),xe=mt(we,2),Ye=xe[0],lt=xe[1],ct=I.useRef(!1),_t=I.useMemo(function(){return(w==="inline"||w==="vertical")&&C?["vertical",C]:[w,!1]},[w,C]),yt=mt(_t,2),jt=yt[0],$t=yt[1],vt=jt==="inline",It=I.useState(jt),zt=mt(It,2),Dt=zt[0],Tt=zt[1],xn=I.useState($t),Bt=mt(xn,2),nn=Bt[0],Fn=Bt[1];I.useEffect(function(){Tt(jt),Fn($t),ct.current&&(vt?He(Ye):be(P_))},[jt,$t]);var Ht=I.useState(0),ln=mt(Ht,2),rn=ln[0],Tn=ln[1],Un=rn>=Lt.length-1||Dt!=="horizontal"||M;I.useEffect(function(){vt&&lt(Gt)},[Gt]),I.useEffect(function(){return ct.current=!0,function(){ct.current=!1}},[]);var ir=mCe(),Dn=ir.registerPath,Er=ir.unregisterPath,Cr=ir.refreshOverflowKeys,$r=ir.isSubPathKey,Zr=ir.getKeyPath,li=ir.getKeys,Kr=ir.getSubPathKeys,$n=I.useMemo(function(){return{registerPath:Dn,unregisterPath:Er}},[Dn,Er]),sr=I.useMemo(function(){return{isSubPathKey:$r}},[$r]);I.useEffect(function(){Cr(Un?P_:Lt.slice(rn+1).map(function(ai){return ai.key}))},[rn,Un]);var tr=Us(K||Q&&((n=Lt[0])===null||n===void 0?void 0:n.key),{value:K}),Yn=mt(tr,2),br=Yn[0],Hr=Yn[1],ki=AC(function(ai){Hr(ai)}),Vi=AC(function(){Hr(void 0)});I.useImperativeHandle(t,function(){return{list:sn.current,focus:function(gr){var Jn,ur=li(),ci=CD(ur,un),Ci=ci.elements,Ei=ci.key2element,ro=ci.element2key,Br=Gz(sn.current,Ci),Ui=br??(Br[0]?ro.get(Br[0]):(Jn=Lt.find(function(Tr){return!Tr.props.disabled}))===null||Jn===void 0?void 0:Jn.key),Fa=Ei.get(Ui);if(Ui&&Fa){var bo;Fa==null||(bo=Fa.focus)===null||bo===void 0||bo.call(Fa,gr)}}}});var pr=Us(re||[],{value:oe,postState:function(gr){return Array.isArray(gr)?gr:gr==null?P_:[gr]}}),_r=mt(pr,2),Vr=_r[0],ta=_r[1],Wo=function(gr){if(te){var Jn=gr.key,ur=Vr.includes(Jn),ci;Z?ur?ci=Vr.filter(function(Ei){return Ei!==Jn}):ci=[].concat(_n(Vr),[Jn]):ci=[Jn],ta(ci);var Ci=Pe(Pe({},gr),{},{selectedKeys:ci});ur?le?.(Ci):ce?.(Ci)}!Z&&Gt.length&&Dt!=="inline"&&be(P_)},Ks=AC(function(ai){We?.(ZA(ai)),Wo(ai)}),$o=AC(function(ai,gr){var Jn=Gt.filter(function(ci){return ci!==ai});if(gr)Jn.push(ai);else if(Dt!=="inline"){var ur=Kr(ai);Jn=Jn.filter(function(ci){return!ur.has(ci)})}n0(Gt,Jn,!0)||be(Jn,!0)}),ma=function(gr,Jn){var ur=Jn??!Gt.includes(gr);$o(gr,ur)},ms=hCe(Dt,br,gn,un,sn,li,Zr,Hr,ma,ht);I.useEffect(function(){kn(!0)},[]);var Ys=I.useMemo(function(){return{_internalRenderMenuItem:ft,_internalRenderSubMenuItem:Rt}},[ft,Rt]),ko=Dt!=="horizontal"||M?Lt:Lt.map(function(ai,gr){return I.createElement(NE,{key:ai.key,overflowDisabled:gr>rn},ai)}),il=I.createElement(Yv,In({id:v,ref:sn,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:jO,className:ut(a,"".concat(a,"-root"),"".concat(a,"-").concat(Dt),l,Te(Te({},"".concat(a,"-inline-collapsed"),nn),"".concat(a,"-rtl"),gn),s),dir:g,style:o,role:"menu",tabIndex:u,data:ko,renderRawItem:function(gr){return gr},renderRawRest:function(gr){var Jn=gr.length,ur=Jn?Lt.slice(-Jn):null;return I.createElement(LR,{eventKey:ED,title:Ue,disabled:Un,internalPopupClose:Jn===0,popupClassName:Ne},ur)},maxCount:Dt!=="horizontal"||M?Yv.INVALIDATE:Yv.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(gr){Tn(gr)},onKeyDown:ms},Jt));return I.createElement(Uz.Provider,{value:Ys},I.createElement(jZ.Provider,{value:un},I.createElement(NE,{prefixCls:a,rootClassName:s,mode:Dt,openKeys:Gt,rtl:gn,disabled:E,motion:Cn?_e:null,defaultMotions:Cn?Se:null,activeKey:br,onActive:ki,onInactive:Vi,selectedKeys:Vr,inlineIndent:ye,subMenuOpenDelay:L,subMenuCloseDelay:D,forceSubMenuRender:H,builtinPlacements:Fe,triggerSubMenuAction:je,getPopupContainer:qe,itemIcon:ze,expandIcon:Ze,onItemClick:Ks,onOpenChange:$o},I.createElement(GZ.Provider,{value:sr},il),I.createElement("div",{style:{display:"none"},"aria-hidden":!0},I.createElement(VZ.Provider,{value:$n},Kt)))))}),L2=jCe;L2.Item=jO;L2.SubMenu=LR;L2.ItemGroup=Xz;L2.Divider=Yz;var FCe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},HCe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:FCe}))},VCe=I.forwardRef(HCe);const ZZ=I.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),UCe=e=>{const{antCls:t,componentCls:n,colorText:r,footerBg:i,headerHeight:a,headerPadding:s,headerColor:o,footerPadding:l,fontSize:c,bodyBg:u,headerBg:d}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:a,padding:s,color:o,lineHeight:et(a),background:d,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:l,color:r,fontSize:c,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},QZ=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:a,marginXXS:s,colorTextLightSolid:o,colorBgContainer:l}=e,c=r*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${c}px`,headerColor:i,footerPadding:`${a}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+s*2,triggerBg:"#002140",triggerColor:o,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:i}},JZ=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],eQ=no("Layout",e=>[UCe(e)],QZ,{deprecatedTokens:JZ}),GCe=e=>{const{componentCls:t,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:a,triggerHeight:s,triggerColor:o,triggerBg:l,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadiusLG:h,lightSiderBg:g,lightTriggerColor:v,lightTriggerBg:x,bodyBg:w}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:s},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${a}-menu${a}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:s,color:o,lineHeight:et(s),textAlign:"center",background:l,cursor:"pointer",transition:`all ${r}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:c,insetInlineEnd:e.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:o,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${et(h)} ${et(h)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(u).mul(-1).equal(),borderRadius:`${et(h)} 0 0 ${et(h)}`}},"&-light":{background:g,[`${t}-trigger`]:{color:v,background:x},[`${t}-zero-width-trigger`]:{color:v,background:x,border:`1px solid ${w}`,borderInlineStart:0}}}}},WCe=no(["Layout","Sider"],e=>[GCe(e)],QZ,{deprecatedTokens:JZ});var qCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const s9={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},KCe=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),NR=I.createContext({}),YCe=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})(),tQ=I.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:i,children:a,defaultCollapsed:s=!1,theme:o="dark",style:l={},collapsible:c=!1,reverseArrow:u=!1,width:d=200,collapsedWidth:h=80,zeroWidthTriggerStyle:g,breakpoint:v,onCollapse:x,onBreakpoint:w}=e,C=qCe(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:E}=I.useContext(ZZ),[M,R]=I.useState("collapsed"in e?e.collapsed:s),[L,N]=I.useState(!1);I.useEffect(()=>{"collapsed"in e&&R(e.collapsed)},[e.collapsed]);const D=(ze,Ze)=>{"collapsed"in e||R(ze),x?.(ze,Ze)},{getPrefixCls:H,direction:U}=I.useContext(ii),q=H("layout-sider",n),[K,Q,X]=WCe(q),te=I.useRef(null);te.current=ze=>{N(ze.matches),w?.(ze.matches),M!==ze.matches&&D(ze.matches,"responsive")},I.useEffect(()=>{function ze(st){return te.current(st)}let Ze;if(typeof window<"u"){const{matchMedia:st}=window;if(st&&v&&v in s9){Ze=st(`screen and (max-width: ${s9[v]})`);try{Ze.addEventListener("change",ze)}catch{Ze.addListener(ze)}ze(Ze)}}return()=>{try{Ze?.removeEventListener("change",ze)}catch{Ze?.removeListener(ze)}}},[v]),I.useEffect(()=>{const ze=YCe("ant-sider-");return E.addSider(ze),()=>E.removeSider(ze)},[]);const ee=()=>{D(!M,"clickTrigger")},Z=rl(C,["collapsed"]),re=M?h:d,oe=KCe(re)?`${re}px`:String(re),ce=parseFloat(String(h||0))===0?I.createElement("span",{onClick:ee,className:ut(`${q}-zero-width-trigger`,`${q}-zero-width-trigger-${u?"right":"left"}`),style:g},i||I.createElement(VCe,null)):null,le=U==="rtl"==!u,_e={expanded:le?I.createElement(jS,null):I.createElement(US,null),collapsed:le?I.createElement(US,null):I.createElement(jS,null)}[M?"collapsed":"expanded"],Se=i!==null?ce||I.createElement("div",{className:`${q}-trigger`,onClick:ee,style:{width:oe}},i||_e):null,Re=Object.assign(Object.assign({},l),{flex:`0 0 ${oe}`,maxWidth:oe,minWidth:oe,width:oe}),je=ut(q,`${q}-${o}`,{[`${q}-collapsed`]:!!M,[`${q}-has-trigger`]:c&&i!==null&&!ce,[`${q}-below`]:!!L,[`${q}-zero-width`]:parseFloat(oe)===0},r,Q,X),Fe=I.useMemo(()=>({siderCollapsed:M}),[M]);return K(I.createElement(NR.Provider,{value:Fe},I.createElement("aside",Object.assign({className:je},Z,{style:Re,ref:t}),I.createElement("div",{className:`${q}-children`},a),c||L&&ce?Se:null)))});var XCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},ZCe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:XCe}))},Zz=I.forwardRef(ZCe);const QA=I.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var QCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const nQ=e=>{const{prefixCls:t,className:n,dashed:r}=e,i=QCe(e,["prefixCls","className","dashed"]),{getPrefixCls:a}=I.useContext(ii),s=a("menu",t),o=ut({[`${s}-item-divider-dashed`]:!!r},n);return I.createElement(Yz,Object.assign({className:o},i))},rQ=e=>{var t;const{className:n,children:r,icon:i,title:a,danger:s,extra:o}=e,{prefixCls:l,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:h}=I.useContext(QA),g=M=>{const R=r?.[0],L=I.createElement("span",{className:ut(`${l}-title-content`,{[`${l}-title-content-with-extra`]:!!o||o===0})},r);return(!i||I.isValidElement(r)&&r.type==="span")&&r&&M&&c&&typeof R=="string"?I.createElement("div",{className:`${l}-inline-collapsed-noicon`},R.charAt(0)):L},{siderCollapsed:v}=I.useContext(NR);let x=a;typeof a>"u"?x=c?r:"":a===!1&&(x="");const w={title:x};!v&&!h&&(w.title=null,w.open=!1);const C=Xu(r).length;let E=I.createElement(jO,Object.assign({},rl(e,["title","icon","danger"]),{className:ut({[`${l}-item-danger`]:s,[`${l}-item-only-child`]:(i?C+1:C)===1},n),title:typeof a=="string"?a:void 0}),hh(i,{className:ut(I.isValidElement(i)?(t=i.props)===null||t===void 0?void 0:t.className:"",`${l}-item-icon`)}),g(h));return d||(E=I.createElement(s0,Object.assign({},w,{placement:u==="rtl"?"left":"right",classNames:{root:`${l}-inline-collapsed-tooltip`}}),E)),E};var JCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JA=I.createContext(null),iQ=I.forwardRef((e,t)=>{const{children:n}=e,r=JCe(e,["children"]),i=I.useContext(JA),a=I.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=Gme(n),o=Yy(t,s?Ix(n):null);return I.createElement(JA.Provider,{value:a},I.createElement(KA,{space:!0},s?I.cloneElement(n,{ref:o}):n))}),eEe=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:a,lineType:s,itemPaddingInline:o}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${et(a)} ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:o},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},tEe=e=>{let{componentCls:t,menuArrowOffset:n,calc:r}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${et(r(n).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${et(n)})`}}}}},l9=e=>Object.assign({},Pm(e)),c9=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,subMenuItemSelectedColor:a,groupTitleColor:s,itemBg:o,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:h,motionDurationSlow:g,motionEaseInOut:v,motionEaseOut:x,itemPaddingInline:w,motionDurationMid:C,itemHoverColor:E,lineType:M,colorSplit:R,itemDisabledColor:L,dangerItemColor:N,dangerItemHoverColor:D,dangerItemSelectedColor:H,dangerItemActiveBg:U,dangerItemSelectedBg:q,popupBg:K,itemHoverBg:Q,itemActiveBg:X,menuSubMenuBg:te,horizontalItemSelectedColor:ee,horizontalItemSelectedBg:Z,horizontalItemBorderRadius:re,horizontalItemHoverBg:oe}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:o,[`&${n}-root:focus-visible`]:Object.assign({},l9(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:s}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:a},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},l9(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${L} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:E}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:X}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:X}}},[`${n}-item-danger`]:{color:N,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:D}},[`&${n}-item:active`]:{background:U}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:H},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:q}},[`&${n}-submenu > ${n}`]:{backgroundColor:te},[`&${n}-popup > ${n}`]:{backgroundColor:K},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:K},[`&${n}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:h,marginTop:e.calc(h).mul(-1).equal(),marginBottom:0,borderRadius:re,"&::after":{position:"absolute",insetInline:w,bottom:0,borderBottom:`${et(u)} solid transparent`,transition:`border-color ${g} ${v}`,content:'""'},"&:hover, &-active, &-open":{background:oe,"&::after":{borderBottomWidth:u,borderBottomColor:ee}},"&-selected":{color:ee,backgroundColor:Z,"&:hover":{backgroundColor:Z},"&::after":{borderBottomWidth:u,borderBottomColor:ee}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${et(h)} ${M} ${R}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:l},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${et(d)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${C} ${x}`,`opacity ${C} ${x}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:H}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${C} ${v}`,`opacity ${C} ${v}`].join(",")}}}}}},u9=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:a,marginXS:s,itemMarginBlock:o,itemWidth:l,itemPaddingInline:c}=e,u=e.calc(a).add(i).add(s).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:et(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:o,width:l},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:et(n)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:u}}},nEe=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:a,controlHeightLG:s,motionEaseOut:o,paddingXL:l,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:h,paddingXS:g,boxShadowSecondary:v,collapsedWidth:x,collapsedIconSize:w}=e,C={height:r,lineHeight:et(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},u9(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},u9(e)),{boxShadow:v})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:a,maxHeight:`calc(100vh - ${et(e.calc(s).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${d} ${o}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:C,[`& ${t}-item-group-title`]:{paddingInlineStart:l}},[`${t}-item`]:C}},{[`${t}-inline-collapsed`]:{width:x,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${et(e.calc(w).div(2).equal())} - ${et(c)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:w,lineHeight:et(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:Object.assign(Object.assign({},i0),{paddingInline:g})}}]},f9=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:a,iconCls:s,iconSize:o,iconMarginInlineEnd:l}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${i}`].join(","),[`${t}-item-icon, ${s}`]:{minWidth:o,fontSize:o,transition:[`font-size ${r} ${a}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},RO()),[`&${t}-item-only-child`]:{[`> ${s}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},d9=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:a,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:a,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(a).mul(.6).equal(),height:e.calc(a).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${et(e.calc(s).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${et(s)})`}}}}},rEe=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:a,motionEaseInOut:s,paddingXS:o,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:h,subMenuItemBorderRadius:g,menuArrowSize:v,menuArrowOffset:x,lineType:w,groupTitleLineHeight:C,groupTitleFontSize:E}=e;return[{"":{[n]:Object.assign(Object.assign({},m1()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),m1()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${et(o)} ${et(l)}`,fontSize:E,lineHeight:C,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${a} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:w,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),f9(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${et(e.calc(r).mul(2).equal())} ${et(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:h,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:h},f9(e)),d9(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:g},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),d9(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${et(x)})`},"&::after":{transform:`rotate(45deg) translateX(${et(e.calc(x).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${et(e.calc(v).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${et(e.calc(x).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${et(x)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},iEe=e=>{var t,n,r;const{colorPrimary:i,colorError:a,colorTextDisabled:s,colorErrorBg:o,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:h,lineWidth:g,lineWidthBold:v,controlItemBgActive:x,colorBgTextHover:w,controlHeightLG:C,lineHeight:E,colorBgElevated:M,marginXXS:R,padding:L,fontSize:N,controlHeightSM:D,fontSizeLG:H,colorTextLightSolid:U,colorErrorHover:q}=e,K=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,Q=(n=e.activeBarBorderWidth)!==null&&n!==void 0?n:g,X=(r=e.itemMarginInline)!==null&&r!==void 0?r:e.marginXXS,te=new aa(U).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:i,itemSelectedColor:i,subMenuItemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:u,itemBg:u,colorItemBgHover:w,itemHoverBg:w,colorItemBgActive:h,itemActiveBg:x,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:x,itemSelectedBg:x,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:K,colorActiveBarHeight:v,activeBarHeight:v,colorActiveBarBorderSize:g,activeBarBorderWidth:Q,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:a,dangerItemColor:a,colorDangerItemTextHover:a,dangerItemHoverColor:a,colorDangerItemTextSelected:a,dangerItemSelectedColor:a,colorDangerItemBgActive:o,dangerItemActiveBg:o,colorDangerItemBgSelected:o,dangerItemSelectedBg:o,itemMarginInline:X,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:C,groupTitleLineHeight:E,collapsedWidth:C*2,popupBg:M,itemMarginBlock:R,itemPaddingInline:L,horizontalLineHeight:`${C*1.15}px`,iconSize:N,iconMarginInlineEnd:D-N,collapsedIconSize:H,groupTitleFontSize:N,darkItemDisabledColor:new aa(U).setA(.25).toRgbString(),darkItemColor:te,darkDangerItemColor:a,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:U,darkItemSelectedBg:i,darkDangerItemSelectedBg:a,darkItemHoverBg:"transparent",darkGroupTitleColor:te,darkItemHoverColor:U,darkDangerItemHoverColor:q,darkDangerItemSelectedColor:U,darkDangerItemActiveBg:a,itemWidth:K?`calc(100% + ${Q}px)`:`calc(100% - ${X*2}px)`}},aEe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return no("Menu",i=>{const{colorBgElevated:a,controlHeightLG:s,fontSize:o,darkItemColor:l,darkDangerItemColor:c,darkItemBg:u,darkSubMenuItemBg:d,darkItemSelectedColor:h,darkItemSelectedBg:g,darkDangerItemSelectedBg:v,darkItemHoverBg:x,darkGroupTitleColor:w,darkItemHoverColor:C,darkItemDisabledColor:E,darkDangerItemHoverColor:M,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:L,popupBg:N,darkPopupBg:D}=i,H=i.calc(o).div(7).mul(5).equal(),U=ga(i,{menuArrowSize:H,menuHorizontalHeight:i.calc(s).mul(1.15).equal(),menuArrowOffset:i.calc(H).mul(.25).equal(),menuSubMenuBg:a,calc:i.calc,popupBg:N}),q=ga(U,{itemColor:l,itemHoverColor:C,groupTitleColor:w,itemSelectedColor:h,subMenuItemSelectedColor:h,itemBg:u,popupBg:D,subMenuItemBg:d,itemActiveBg:"transparent",itemSelectedBg:g,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:x,itemDisabledColor:E,dangerItemColor:c,dangerItemHoverColor:M,dangerItemSelectedColor:R,dangerItemActiveBg:L,dangerItemSelectedBg:v,menuSubMenuBg:d,horizontalItemSelectedColor:h,horizontalItemSelectedBg:g});return[rEe(U),eEe(U),nEe(U),c9(U,"light"),c9(q,"dark"),tEe(U),WX(U),v1(U,"slide-up"),v1(U,"slide-down"),Pz(U,"zoom-big")]},iEe,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(e,t)},aQ=e=>{var t;const{popupClassName:n,icon:r,title:i,theme:a}=e,s=I.useContext(QA),{prefixCls:o,inlineCollapsed:l,theme:c}=s,u=k2();let d;if(!r)d=l&&!u.length&&i&&typeof i=="string"?I.createElement("div",{className:`${o}-inline-collapsed-noicon`},i.charAt(0)):I.createElement("span",{className:`${o}-title-content`},i);else{const v=I.isValidElement(i)&&i.type==="span";d=I.createElement(I.Fragment,null,hh(r,{className:ut(I.isValidElement(r)?(t=r.props)===null||t===void 0?void 0:t.className:"",`${o}-item-icon`)}),v?i:I.createElement("span",{className:`${o}-title-content`},i))}const h=I.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[g]=P2("Menu");return I.createElement(QA.Provider,{value:h},I.createElement(LR,Object.assign({},rl(e,["icon"]),{title:d,popupClassName:ut(o,n,`${o}-${a||c}`),popupStyle:Object.assign({zIndex:g},e.popupStyle)})))};var oEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Qk(e){return e===null||e===!1}const sEe={item:rQ,submenu:aQ,divider:nQ},lEe=I.forwardRef((e,t)=>{var n;const r=I.useContext(JA),i=r||{},{getPrefixCls:a,getPopupContainer:s,direction:o,menu:l}=I.useContext(ii),c=a(),{prefixCls:u,className:d,style:h,theme:g="light",expandIcon:v,_internalDisableMenuItemTitleTooltip:x,inlineCollapsed:w,siderCollapsed:C,rootClassName:E,mode:M,selectable:R,onClick:L,overflowedIndicatorPopupClassName:N}=e,D=oEe(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),H=rl(D,["collapsedWidth"]);(n=i.validator)===null||n===void 0||n.call(i,{mode:M});const U=to(function(){var ye;L?.apply(void 0,arguments),(ye=i.onClick)===null||ye===void 0||ye.call(i)}),q=i.mode||M,K=R??i.selectable,Q=w??C,X={horizontal:{motionName:`${c}-slide-up`},inline:HX(c),other:{motionName:`${c}-zoom-big`}},te=a("menu",u||i.prefixCls),ee=vh(te),[Z,re,oe]=aEe(te,ee,!r),ce=ut(`${te}-${g}`,l?.className,d),le=I.useMemo(()=>{var ye,_e;if(typeof v=="function"||Qk(v))return v||null;if(typeof i.expandIcon=="function"||Qk(i.expandIcon))return i.expandIcon||null;if(typeof l?.expandIcon=="function"||Qk(l?.expandIcon))return l?.expandIcon||null;const Se=(ye=v??i?.expandIcon)!==null&&ye!==void 0?ye:l?.expandIcon;return hh(Se,{className:ut(`${te}-submenu-expand-icon`,I.isValidElement(Se)?(_e=Se.props)===null||_e===void 0?void 0:_e.className:void 0)})},[v,i?.expandIcon,l?.expandIcon,te]),pe=I.useMemo(()=>({prefixCls:te,inlineCollapsed:Q||!1,direction:o,firstLevel:!0,theme:g,mode:q,disableMenuItemTitleTooltip:x}),[te,Q,o,x,g]);return Z(I.createElement(JA.Provider,{value:null},I.createElement(QA.Provider,{value:pe},I.createElement(L2,Object.assign({getPopupContainer:s,overflowedIndicator:I.createElement(Zz,null),overflowedIndicatorPopupClassName:ut(te,`${te}-${g}`,N),mode:q,selectable:K,onClick:U},H,{inlineCollapsed:Q,style:Object.assign(Object.assign({},l?.style),h),className:ce,prefixCls:te,direction:o,defaultMotions:X,expandIcon:le,ref:t,rootClassName:ut(E,re,i.rootClassName,oe,ee),_internalComponents:sEe})))))}),$x=I.forwardRef((e,t)=>{const n=I.useRef(null),r=I.useContext(NR);return I.useImperativeHandle(t,()=>({menu:n.current,focus:i=>{var a;(a=n.current)===null||a===void 0||a.focus(i)}})),I.createElement(lEe,Object.assign({ref:n},e,r))});$x.Item=rQ;$x.SubMenu=aQ;$x.Divider=nQ;$x.ItemGroup=Xz;const cEe=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:i}=e,a=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${a}`]:{[`&${a}-danger:not(${a}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},uEe=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:a,antCls:s,iconCls:o,motionDurationMid:l,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:h,fontSizeIcon:g,controlPaddingHorizontal:v,colorBgElevated:x}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(i).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${s}-btn`]:{[`& > ${o}-down, & > ${s}-btn-icon > ${o}-down`]:{fontSize:g}},[`${t}-wrap`]:{position:"relative",[`${s}-btn > ${o}-down`]:{fontSize:g},[`${o}-down::before`]:{transition:`transform ${l}`}},[`${t}-wrap-open`]:{[`${o}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Tz},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Az},[`&${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Mz},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Iz}}},RZ(e,x,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},uo(e)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:x,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},a0(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${et(c)} ${et(v)}`,color:e.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${et(c)} ${et(v)}`,color:e.colorText,fontWeight:"normal",fontSize:u,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},a0(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:h,cursor:"not-allowed","&:hover":{color:h,backgroundColor:x,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${et(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:g,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${et(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(v).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:h,backgroundColor:x,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[v1(e,"slide-up"),v1(e,"slide-down"),WA(e,"move-up"),WA(e,"move-down"),Pz(e,"zoom-big")]]},fEe=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},Vz({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),IZ(e)),dEe=no("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:i}=e,a=ga(e,{menuCls:`${i}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[uEe(a),cEe(a)]},fEe,{resetStyle:!1}),DR=e=>{var t;const{menu:n,arrow:r,prefixCls:i,children:a,trigger:s,disabled:o,dropdownRender:l,getPopupContainer:c,overlayClassName:u,rootClassName:d,overlayStyle:h,open:g,onOpenChange:v,visible:x,onVisibleChange:w,mouseEnterDelay:C=.15,mouseLeaveDelay:E=.1,autoAdjustOverflow:M=!0,placement:R="",overlay:L,transitionName:N}=e,{getPopupContainer:D,getPrefixCls:H,direction:U,dropdown:q}=I.useContext(ii);M2();const K=I.useMemo(()=>{const qe=H();return N!==void 0?N:R.includes("top")?`${qe}-slide-down`:`${qe}-slide-up`},[H,R,N]),Q=I.useMemo(()=>R?R.includes("Center")?R.slice(0,R.indexOf("Center")):R:U==="rtl"?"bottomRight":"bottomLeft",[R,U]),X=H("dropdown",i),te=vh(X),[ee,Z,re]=dEe(X,te),[,oe]=Qu(),ce=I.Children.only(aCe(a)?I.createElement("span",null,a):a),le=hh(ce,{className:ut(`${X}-trigger`,{[`${X}-rtl`]:U==="rtl"},ce.props.className),disabled:(t=ce.props.disabled)!==null&&t!==void 0?t:o}),pe=o?[]:s,ye=!!pe?.includes("contextMenu"),[_e,Se]=Us(!1,{value:g??x}),Re=to(qe=>{v?.(qe,{source:"trigger"}),w?.(qe),Se(qe)}),je=ut(u,d,Z,re,te,q?.className,{[`${X}-rtl`]:U==="rtl"}),Fe=$Z({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:M,offset:oe.marginXXS,arrowWidth:r?oe.sizePopupArrow:0,borderRadius:oe.borderRadius}),ze=I.useCallback(()=>{n?.selectable&&n?.multiple||(v?.(!1,{source:"menu"}),Se(!1))},[n?.selectable,n?.multiple]),Ze=()=>{let qe;return n?.items?qe=I.createElement($x,Object.assign({},n)):typeof L=="function"?qe=L():qe=L,l&&(qe=l(qe)),qe=I.Children.only(typeof qe=="string"?I.createElement("span",null,qe):qe),I.createElement(iQ,{prefixCls:`${X}-menu`,rootClassName:ut(re,te),expandIcon:I.createElement("span",{className:`${X}-menu-submenu-arrow`},U==="rtl"?I.createElement(US,{className:`${X}-menu-submenu-arrow-icon`}):I.createElement(jS,{className:`${X}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:ze,validator:We=>{let{mode:rt}=We}},qe)},[st,Ue]=P2("Dropdown",h?.zIndex);let Ne=I.createElement(BZ,Object.assign({alignPoint:ye},rl(e,["rootClassName"]),{mouseEnterDelay:C,mouseLeaveDelay:E,visible:_e,builtinPlacements:Fe,arrow:!!r,overlayClassName:je,prefixCls:X,getPopupContainer:c||D,transitionName:K,trigger:pe,overlay:Ze,placement:Q,onVisibleChange:Re,overlayStyle:Object.assign(Object.assign(Object.assign({},q?.style),h),{zIndex:st})}),le);return st&&(Ne=I.createElement(Ez.Provider,{value:Ue},Ne)),ee(Ne)},hEe=oZ(DR,"align",void 0,"dropdown",e=>e),pEe=e=>I.createElement(hEe,Object.assign({},e),I.createElement("span",null));DR._InternalPanelDoNotUseOrYouWillBeFired=pEe;const oQ=I.createContext(null),gEe=oQ.Provider,sQ=I.createContext(null),mEe=sQ.Provider;var vEe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],lQ=I.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,i=e.className,a=e.style,s=e.checked,o=e.disabled,l=e.defaultChecked,c=l===void 0?!1:l,u=e.type,d=u===void 0?"checkbox":u,h=e.title,g=e.onChange,v=zr(e,vEe),x=I.useRef(null),w=I.useRef(null),C=Us(c,{value:s}),E=mt(C,2),M=E[0],R=E[1];I.useImperativeHandle(t,function(){return{focus:function(H){var U;(U=x.current)===null||U===void 0||U.focus(H)},blur:function(){var H;(H=x.current)===null||H===void 0||H.blur()},input:x.current,nativeElement:w.current}});var L=ut(r,i,Te(Te({},"".concat(r,"-checked"),M),"".concat(r,"-disabled"),o)),N=function(H){o||("checked"in e||R(H.target.checked),g?.({target:Pe(Pe({},e),{},{type:d,checked:H.target.checked}),stopPropagation:function(){H.stopPropagation()},preventDefault:function(){H.preventDefault()},nativeEvent:H.nativeEvent}))};return I.createElement("span",{className:L,title:h,style:a,ref:w},I.createElement("input",In({},v,{className:"".concat(r,"-input"),ref:x,onChange:N,disabled:o,checked:!!M,type:d})),I.createElement("span",{className:"".concat(r,"-inner")}))});function cQ(e){const t=it.useRef(null),n=()=>{ja.cancel(t.current),t.current=null};return[()=>{n(),t.current=ja(()=>{t.current=null})},a=>{t.current&&(a.stopPropagation(),n()),e?.(a)}]}const yEe=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},uo(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},bEe=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:i,motionDurationSlow:a,motionDurationMid:s,motionEaseInOutCirc:o,colorBgContainer:l,colorBorder:c,lineWidth:u,colorBgContainerDisabled:d,colorTextDisabled:h,paddingXS:g,dotColorDisabled:v,lineType:x,radioColor:w,radioBgColor:C,calc:E}=e,M=`${t}-inner`,L=E(i).sub(E(4).mul(2)),N=E(1).mul(i).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},uo(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${et(u)} ${x} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},uo(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${M}`]:{borderColor:r},[`${t}-input:focus-visible + ${M}`]:Object.assign({},Pm(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:N,height:N,marginBlockStart:E(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:E(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:w,borderBlockStart:0,borderInlineStart:0,borderRadius:N,transform:"scale(0)",opacity:0,transition:`all ${a} ${o}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:N,height:N,backgroundColor:l,borderColor:c,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${s}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[M]:{borderColor:r,backgroundColor:C,"&::after":{transform:`scale(${e.calc(e.dotSize).div(i).equal()})`,opacity:1,transition:`all ${a} ${o}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[M]:{backgroundColor:d,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:v}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:h,cursor:"not-allowed"},[`&${t}-checked`]:{[M]:{"&::after":{transform:`scale(${E(L).div(i).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:g,paddingInlineEnd:g}})}},_Ee=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:i,lineType:a,colorBorder:s,motionDurationSlow:o,motionDurationMid:l,buttonPaddingInline:c,fontSize:u,buttonBg:d,fontSizeLG:h,controlHeightLG:g,controlHeightSM:v,paddingXS:x,borderRadius:w,borderRadiusSM:C,borderRadiusLG:E,buttonCheckedBg:M,buttonSolidCheckedColor:R,colorTextDisabled:L,colorBgContainerDisabled:N,buttonCheckedBgDisabled:D,buttonCheckedColorDisabled:H,colorPrimary:U,colorPrimaryHover:q,colorPrimaryActive:K,buttonSolidCheckedBg:Q,buttonSolidCheckedHoverBg:X,buttonSolidCheckedActiveBg:te,calc:ee}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:c,paddingBlock:0,color:t,fontSize:u,lineHeight:et(ee(n).sub(ee(i).mul(2)).equal()),background:d,border:`${et(i)} ${a} ${s}`,borderBlockStartWidth:ee(i).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:ee(i).mul(-1).equal(),insetInlineStart:ee(i).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:i,paddingInline:0,backgroundColor:s,transition:`background-color ${o}`,content:'""'}},"&:first-child":{borderInlineStart:`${et(i)} ${a} ${s}`,borderStartStartRadius:w,borderEndStartRadius:w},"&:last-child":{borderStartEndRadius:w,borderEndEndRadius:w},"&:first-child:last-child":{borderRadius:w},[`${r}-group-large &`]:{height:g,fontSize:h,lineHeight:et(ee(g).sub(ee(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:E,borderEndStartRadius:E},"&:last-child":{borderStartEndRadius:E,borderEndEndRadius:E}},[`${r}-group-small &`]:{height:v,paddingInline:ee(x).sub(i).equal(),paddingBlock:0,lineHeight:et(ee(v).sub(ee(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:C,borderEndStartRadius:C},"&:last-child":{borderStartEndRadius:C,borderEndEndRadius:C}},"&:hover":{position:"relative",color:U},"&:has(:focus-visible)":Object.assign({},Pm(e)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:U,background:M,borderColor:U,"&::before":{backgroundColor:U},"&:first-child":{borderColor:U},"&:hover":{color:q,borderColor:q,"&::before":{backgroundColor:q}},"&:active":{color:K,borderColor:K,"&::before":{backgroundColor:K}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:R,background:Q,borderColor:Q,"&:hover":{color:R,background:X,borderColor:X},"&:active":{color:R,background:te,borderColor:te}},"&-disabled":{color:L,backgroundColor:N,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:L,backgroundColor:N,borderColor:s}},[`&-disabled${r}-button-wrapper-checked`]:{color:H,backgroundColor:D,borderColor:s,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},xEe=e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:i,fontSizeLG:a,colorText:s,colorBgContainer:o,colorTextDisabled:l,controlItemBgActiveDisabled:c,colorTextLightSolid:u,colorPrimary:d,colorPrimaryHover:h,colorPrimaryActive:g,colorWhite:v}=e,x=4,w=a,C=t?w-x*2:w-(x+i)*2;return{radioSize:w,dotSize:C,dotColorDisabled:l,buttonSolidCheckedColor:u,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:h,buttonSolidCheckedActiveBg:g,buttonBg:o,buttonCheckedBg:o,buttonColor:s,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:l,buttonPaddingInline:n-i,wrapperMarginInlineEnd:r,radioColor:t?d:v,radioBgColor:t?o:d}},uQ=no("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${et(n)} ${t}`,a=ga(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[yEe(a),bEe(a),_Ee(a)]},xEe,{unitless:{radioSize:!0,dotSize:!0}});var wEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const SEe=(e,t)=>{var n,r;const i=I.useContext(oQ),a=I.useContext(sQ),{getPrefixCls:s,direction:o,radio:l}=I.useContext(ii),c=I.useRef(null),u=Ed(t,c),{isFormItemInput:d}=I.useContext(ux),h=Z=>{var re,oe;(re=e.onChange)===null||re===void 0||re.call(e,Z),(oe=i?.onChange)===null||oe===void 0||oe.call(i,Z)},{prefixCls:g,className:v,rootClassName:x,children:w,style:C,title:E}=e,M=wEe(e,["prefixCls","className","rootClassName","children","style","title"]),R=s("radio",g),L=(i?.optionType||a)==="button",N=L?`${R}-button`:R,D=vh(R),[H,U,q]=uQ(R,D),K=Object.assign({},M),Q=I.useContext(r0);i&&(K.name=i.name,K.onChange=h,K.checked=e.value===i.value,K.disabled=(n=K.disabled)!==null&&n!==void 0?n:i.disabled),K.disabled=(r=K.disabled)!==null&&r!==void 0?r:Q;const X=ut(`${N}-wrapper`,{[`${N}-wrapper-checked`]:K.checked,[`${N}-wrapper-disabled`]:K.disabled,[`${N}-wrapper-rtl`]:o==="rtl",[`${N}-wrapper-in-form-item`]:d,[`${N}-wrapper-block`]:!!i?.block},l?.className,v,x,U,q,D),[te,ee]=cQ(K.onClick);return H(I.createElement(LO,{component:"Radio",disabled:K.disabled},I.createElement("label",{className:X,style:Object.assign(Object.assign({},l?.style),C),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:E,onClick:te},I.createElement(lQ,Object.assign({},K,{className:ut(K.className,{[vR]:!L}),type:"radio",prefixCls:N,ref:u,onClick:ee})),w!==void 0?I.createElement("span",{className:`${N}-label`},w):null)))},eI=I.forwardRef(SEe),CEe=I.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=I.useContext(ii),i=ER(),{prefixCls:a,className:s,rootClassName:o,options:l,buttonStyle:c="outline",disabled:u,children:d,size:h,style:g,id:v,optionType:x,name:w=i,defaultValue:C,value:E,block:M=!1,onChange:R,onMouseEnter:L,onMouseLeave:N,onFocus:D,onBlur:H}=e,[U,q]=Us(C,{value:E}),K=I.useCallback(ye=>{const _e=U,Se=ye.target.value;"value"in e||q(Se),Se!==_e&&R?.(ye)},[U,q,R]),Q=n("radio",a),X=`${Q}-group`,te=vh(Q),[ee,Z,re]=uQ(Q,te);let oe=d;l&&l.length>0&&(oe=l.map(ye=>typeof ye=="string"||typeof ye=="number"?I.createElement(eI,{key:ye.toString(),prefixCls:Q,disabled:u,value:ye,checked:U===ye},ye):I.createElement(eI,{key:`radio-group-value-options-${ye.value}`,prefixCls:Q,disabled:ye.disabled||u,value:ye.value,checked:U===ye.value,title:ye.title,style:ye.style,id:ye.id,required:ye.required},ye.label)));const ce=mp(h),le=ut(X,`${X}-${c}`,{[`${X}-${ce}`]:ce,[`${X}-rtl`]:r==="rtl",[`${X}-block`]:M},s,o,Z,re,te),pe=I.useMemo(()=>({onChange:K,value:U,disabled:u,name:w,optionType:x,block:M}),[K,U,u,w,x,M]);return ee(I.createElement("div",Object.assign({},gg(e,{aria:!0,data:!0}),{className:le,style:g,onMouseEnter:L,onMouseLeave:N,onFocus:D,onBlur:H,id:v,ref:t}),I.createElement(gEe,{value:pe},oe)))}),EEe=I.memo(CEe);var OEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const TEe=(e,t)=>{const{getPrefixCls:n}=I.useContext(ii),{prefixCls:r}=e,i=OEe(e,["prefixCls"]),a=n("radio",r);return I.createElement(mEe,{value:"button"},I.createElement(eI,Object.assign({prefixCls:a},i,{type:"radio",ref:t})))},MEe=I.forwardRef(TEe),FO=eI;FO.Button=MEe;FO.Group=EEe;FO.__ANT_RADIO=!0;function zR(e){return ga(e,{inputAffixPadding:e.paddingXXS})}const BR=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:a,controlHeightLG:s,fontSizeLG:o,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:g,colorPrimary:v,controlOutlineWidth:x,controlOutline:w,colorErrorOutline:C,colorWarningOutline:E,colorBgContainer:M,inputFontSize:R,inputFontSizeLG:L,inputFontSizeSM:N}=e,D=R||n,H=N||D,U=L||o,q=Math.round((t-D*r)/2*10)/10-i,K=Math.round((a-H*r)/2*10)/10-i,Q=Math.ceil((s-U*l)/2*10)/10-i;return{paddingBlock:Math.max(q,0),paddingBlockSM:Math.max(K,0),paddingBlockLG:Math.max(Q,0),paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:h,activeBorderColor:v,hoverBorderColor:g,activeShadow:`0 0 0 ${x}px ${w}`,errorActiveShadow:`0 0 0 ${x}px ${C}`,warningActiveShadow:`0 0 0 ${x}px ${E}`,hoverBg:M,activeBg:M,inputFontSize:D,inputFontSizeLG:U,inputFontSizeSM:H}},AEe=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),jR=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},AEe(ga(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Qz=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),h9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Qz(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),IEe=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qz(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},jR(e))}),h9(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),h9(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),p9=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),PEe=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},p9(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),p9(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},jR(e))}})}),REe=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},fQ=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=t?.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},g9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},fQ(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),$Ee=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fQ(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},jR(e))}),g9(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),g9(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),m9=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),kEe=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},m9(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),m9(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),dQ=(e,t)=>({background:e.colorBgContainer,borderWidth:`${et(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.borderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),v9=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},dQ(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),LEe=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dQ(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),v9(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),v9(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),NEe=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),hQ=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=e;return{padding:`${et(t)} ${et(i)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},Jz=e=>({padding:`${et(e.paddingBlockSM)} ${et(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),eB=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${et(e.paddingBlock)} ${et(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},NEe(e.colorTextPlaceholder)),{"&-lg":Object.assign({},hQ(e)),"&-sm":Object.assign({},Jz(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),DEe=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},hQ(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},Jz(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${et(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${et(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${et(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${et(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${et(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},m1()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},zEe=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:i}=e,s=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),eB(e)),IEe(e)),$Ee(e)),REe(e)),LEe(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},BEe=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${et(e.inputAffixPadding)}`}}}},jEe=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:a,colorIconHover:s,iconCls:o}=e,l=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},eB(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),BEe(e)),{[`${o}${t}-password-icon`]:{color:a,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[`${t}-underlined`]:{borderRadius:0},[c]:{[`${o}${t}-password-icon`]:{color:a,cursor:"not-allowed","&:hover":{color:a}}}}},FEe=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},uo(e)),DEe(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},PEe(e)),kEe(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},HEe=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},VEe=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},pQ=no(["Input","Shared"],e=>{const t=ga(e,zR(e));return[zEe(t),jEe(t)]},BR,{resetFont:!1}),UEe=no(["Input","Component"],e=>{const t=ga(e,zR(e));return[FEe(t),HEe(t),VEe(t),$z(t)]},BR,{resetFont:!1});var GEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},WEe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:GEe}))},qEe=I.forwardRef(WEe);const FR=I.createContext(null);var KEe=function(t){var n=t.activeTabOffset,r=t.horizontal,i=t.rtl,a=t.indicator,s=a===void 0?{}:a,o=s.size,l=s.align,c=l===void 0?"center":l,u=I.useState(),d=mt(u,2),h=d[0],g=d[1],v=I.useRef(),x=it.useCallback(function(C){return typeof o=="function"?o(C):typeof o=="number"?o:C},[o]);function w(){ja.cancel(v.current)}return I.useEffect(function(){var C={};if(n)if(r){C.width=x(n.width);var E=i?"right":"left";c==="start"&&(C[E]=n[E]),c==="center"&&(C[E]=n[E]+n.width/2,C.transform=i?"translateX(50%)":"translateX(-50%)"),c==="end"&&(C[E]=n[E]+n.width,C.transform="translateX(-100%)")}else C.height=x(n.height),c==="start"&&(C.top=n.top),c==="center"&&(C.top=n.top+n.height/2,C.transform="translateY(-50%)"),c==="end"&&(C.top=n.top+n.height,C.transform="translateY(-100%)");return w(),v.current=ja(function(){g(C)}),w},[n,r,i,c,x]),{style:h}},y9={width:0,height:0,left:0,top:0};function YEe(e,t,n){return I.useMemo(function(){for(var r,i=new Map,a=t.get((r=e[0])===null||r===void 0?void 0:r.key)||y9,s=a.left+a.width,o=0;o<e.length;o+=1){var l=e[o].key,c=t.get(l);if(!c){var u;c=t.get((u=e[o-1])===null||u===void 0?void 0:u.key)||y9}var d=i.get(l)||Pe({},c);d.right=s-d.left-d.width,i.set(l,d)}return i},[e.map(function(r){return r.key}).join("_"),t,n])}function b9(e,t){var n=I.useRef(e),r=I.useState({}),i=mt(r,2),a=i[1];function s(o){var l=typeof o=="function"?o(n.current):o;l!==n.current&&t(l,n.current),n.current=l,a({})}return[n.current,s]}var XEe=.1,_9=.01,iA=20,x9=Math.pow(.995,iA);function ZEe(e,t){var n=I.useState(),r=mt(n,2),i=r[0],a=r[1],s=I.useState(0),o=mt(s,2),l=o[0],c=o[1],u=I.useState(0),d=mt(u,2),h=d[0],g=d[1],v=I.useState(),x=mt(v,2),w=x[0],C=x[1],E=I.useRef();function M(U){var q=U.touches[0],K=q.screenX,Q=q.screenY;a({x:K,y:Q}),window.clearInterval(E.current)}function R(U){if(i){var q=U.touches[0],K=q.screenX,Q=q.screenY;a({x:K,y:Q});var X=K-i.x,te=Q-i.y;t(X,te);var ee=Date.now();c(ee),g(ee-l),C({x:X,y:te})}}function L(){if(i&&(a(null),C(null),w)){var U=w.x/h,q=w.y/h,K=Math.abs(U),Q=Math.abs(q);if(Math.max(K,Q)<XEe)return;var X=U,te=q;E.current=window.setInterval(function(){if(Math.abs(X)<_9&&Math.abs(te)<_9){window.clearInterval(E.current);return}X*=x9,te*=x9,t(X*iA,te*iA)},iA)}}var N=I.useRef();function D(U){var q=U.deltaX,K=U.deltaY,Q=0,X=Math.abs(q),te=Math.abs(K);X===te?Q=N.current==="x"?q:K:X>te?(Q=q,N.current="x"):(Q=K,N.current="y"),t(-Q,-Q)&&U.preventDefault()}var H=I.useRef(null);H.current={onTouchStart:M,onTouchMove:R,onTouchEnd:L,onWheel:D},I.useEffect(function(){function U(X){H.current.onTouchStart(X)}function q(X){H.current.onTouchMove(X)}function K(X){H.current.onTouchEnd(X)}function Q(X){H.current.onWheel(X)}return document.addEventListener("touchmove",q,{passive:!1}),document.addEventListener("touchend",K,{passive:!0}),e.current.addEventListener("touchstart",U,{passive:!0}),e.current.addEventListener("wheel",Q,{passive:!1}),function(){document.removeEventListener("touchmove",q),document.removeEventListener("touchend",K)}},[])}function gQ(e){var t=I.useState(0),n=mt(t,2),r=n[0],i=n[1],a=I.useRef(0),s=I.useRef();return s.current=e,MN(function(){var o;(o=s.current)===null||o===void 0||o.call(s)},[r]),function(){a.current===r&&(a.current+=1,i(a.current))}}function QEe(e){var t=I.useRef([]),n=I.useState({}),r=mt(n,2),i=r[1],a=I.useRef(typeof e=="function"?e():e),s=gQ(function(){var l=a.current;t.current.forEach(function(c){l=c(l)}),t.current=[],a.current=l,i({})});function o(l){t.current.push(l),s()}return[a.current,o]}var w9={width:0,height:0,left:0,top:0,right:0};function JEe(e,t,n,r,i,a,s){var o=s.tabs,l=s.tabPosition,c=s.rtl,u,d,h;return["top","bottom"].includes(l)?(u="width",d=c?"right":"left",h=Math.abs(n)):(u="height",d="top",h=-n),I.useMemo(function(){if(!o.length)return[0,0];for(var g=o.length,v=g,x=0;x<g;x+=1){var w=e.get(o[x].key)||w9;if(Math.floor(w[d]+w[u])>Math.floor(h+t)){v=x-1;break}}for(var C=0,E=g-1;E>=0;E-=1){var M=e.get(o[E].key)||w9;if(M[d]<h){C=E+1;break}}return C>=v?[0,0]:[C,v]},[e,t,r,i,a,h,l,o.map(function(g){return g.key}).join("_"),c])}function S9(e){var t;return e instanceof Map?(t={},e.forEach(function(n,r){t[r]=n})):t=e,JSON.stringify(t)}var eOe="TABS_DQ";function mQ(e){return String(e).replace(/"/g,eOe)}function tB(e,t,n,r){return!(!n||r||e===!1||e===void 0&&(t===!1||t===null))}var vQ=I.forwardRef(function(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,a=e.style;return!r||r.showAdd===!1?null:I.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":i?.addAriaLabel||"Add tab",onClick:function(o){r.onEdit("add",{event:o})}},r.addIcon||"+")}),C9=I.forwardRef(function(e,t){var n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var a,s={};return Rr(i)==="object"&&!I.isValidElement(i)?s=i:s.right=i,n==="right"&&(a=s.right),n==="left"&&(a=s.left),a?I.createElement("div",{className:"".concat(r,"-extra-content"),ref:t},a):null}),tOe=I.forwardRef(function(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,a=e.locale,s=e.mobile,o=e.more,l=o===void 0?{}:o,c=e.style,u=e.className,d=e.editable,h=e.tabBarGutter,g=e.rtl,v=e.removeAriaLabel,x=e.onTabClick,w=e.getPopupContainer,C=e.popupClassName,E=I.useState(!1),M=mt(E,2),R=M[0],L=M[1],N=I.useState(null),D=mt(N,2),H=D[0],U=D[1],q=l.icon,K=q===void 0?"More":q,Q="".concat(r,"-more-popup"),X="".concat(n,"-dropdown"),te=H!==null?"".concat(Q,"-").concat(H):null,ee=a?.dropdownAriaLabel;function Z(_e,Se){_e.preventDefault(),_e.stopPropagation(),d.onEdit("remove",{key:Se,event:_e})}var re=I.createElement(L2,{onClick:function(Se){var Re=Se.key,je=Se.domEvent;x(Re,je),L(!1)},prefixCls:"".concat(X,"-menu"),id:Q,tabIndex:-1,role:"listbox","aria-activedescendant":te,selectedKeys:[H],"aria-label":ee!==void 0?ee:"expanded dropdown"},i.map(function(_e){var Se=_e.closable,Re=_e.disabled,je=_e.closeIcon,Fe=_e.key,ze=_e.label,Ze=tB(Se,je,d,Re);return I.createElement(jO,{key:Fe,id:"".concat(Q,"-").concat(Fe),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(Fe),disabled:Re},I.createElement("span",null,ze),Ze&&I.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(X,"-menu-item-remove"),onClick:function(Ue){Ue.stopPropagation(),Z(Ue,Fe)}},je||d.removeIcon||""))}));function oe(_e){for(var Se=i.filter(function(Ze){return!Ze.disabled}),Re=Se.findIndex(function(Ze){return Ze.key===H})||0,je=Se.length,Fe=0;Fe<je;Fe+=1){Re=(Re+_e+je)%je;var ze=Se[Re];if(!ze.disabled){U(ze.key);return}}}function ce(_e){var Se=_e.which;if(!R){[mr.DOWN,mr.SPACE,mr.ENTER].includes(Se)&&(L(!0),_e.preventDefault());return}switch(Se){case mr.UP:oe(-1),_e.preventDefault();break;case mr.DOWN:oe(1),_e.preventDefault();break;case mr.ESC:L(!1);break;case mr.SPACE:case mr.ENTER:H!==null&&x(H,_e);break}}I.useEffect(function(){var _e=document.getElementById(te);_e&&_e.scrollIntoView&&_e.scrollIntoView(!1)},[H]),I.useEffect(function(){R||U(null)},[R]);var le=Te({},g?"marginRight":"marginLeft",h);i.length||(le.visibility="hidden",le.order=1);var pe=ut(Te({},"".concat(X,"-rtl"),g)),ye=s?null:I.createElement(BZ,In({prefixCls:X,overlay:re,visible:i.length?R:!1,onVisibleChange:L,overlayClassName:ut(pe,C),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:w},l),I.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:le,"aria-haspopup":"listbox","aria-controls":Q,id:"".concat(r,"-more"),"aria-expanded":R,onKeyDown:ce},K));return I.createElement("div",{className:ut("".concat(n,"-nav-operations"),u),style:c,ref:t},ye,I.createElement(vQ,{prefixCls:n,locale:a,editable:d}))});const nOe=I.memo(tOe,function(e,t){return t.tabMoving});var rOe=function(t){var n=t.prefixCls,r=t.id,i=t.active,a=t.focus,s=t.tab,o=s.key,l=s.label,c=s.disabled,u=s.closeIcon,d=s.icon,h=t.closable,g=t.renderWrapper,v=t.removeAriaLabel,x=t.editable,w=t.onClick,C=t.onFocus,E=t.onBlur,M=t.onKeyDown,R=t.onMouseDown,L=t.onMouseUp,N=t.style,D=t.tabCount,H=t.currentPosition,U="".concat(n,"-tab"),q=tB(h,u,x,c);function K(Z){c||w(Z)}function Q(Z){Z.preventDefault(),Z.stopPropagation(),x.onEdit("remove",{key:o,event:Z})}var X=I.useMemo(function(){return d&&typeof l=="string"?I.createElement("span",null,l):l},[l,d]),te=I.useRef(null);I.useEffect(function(){a&&te.current&&te.current.focus()},[a]);var ee=I.createElement("div",{key:o,"data-node-key":mQ(o),className:ut(U,Te(Te(Te(Te({},"".concat(U,"-with-remove"),q),"".concat(U,"-active"),i),"".concat(U,"-disabled"),c),"".concat(U,"-focus"),a)),style:N,onClick:K},I.createElement("div",{ref:te,role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(o),className:"".concat(U,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(o),"aria-disabled":c,tabIndex:c?null:i?0:-1,onClick:function(re){re.stopPropagation(),K(re)},onKeyDown:M,onMouseDown:R,onMouseUp:L,onFocus:C,onBlur:E},a&&I.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(H," of ").concat(D)),d&&I.createElement("span",{className:"".concat(U,"-icon")},d),l&&X),q&&I.createElement("button",{type:"button",role:"tab","aria-label":v||"remove",tabIndex:i?0:-1,className:"".concat(U,"-remove"),onClick:function(re){re.stopPropagation(),Q(re)}},u||x.removeIcon||""));return g?g(ee):ee},iOe=function(t,n){var r=t.offsetWidth,i=t.offsetHeight,a=t.offsetTop,s=t.offsetLeft,o=t.getBoundingClientRect(),l=o.width,c=o.height,u=o.left,d=o.top;return Math.abs(l-r)<1?[l,c,u-n.left,d-n.top]:[r,i,s,a]},Sw=function(t){var n=t.current||{},r=n.offsetWidth,i=r===void 0?0:r,a=n.offsetHeight,s=a===void 0?0:a;if(t.current){var o=t.current.getBoundingClientRect(),l=o.width,c=o.height;if(Math.abs(l-i)<1)return[l,c]}return[i,s]},DT=function(t,n){return t[n?0:1]},E9=I.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.id,a=e.animated,s=e.activeKey,o=e.rtl,l=e.extra,c=e.editable,u=e.locale,d=e.tabPosition,h=e.tabBarGutter,g=e.children,v=e.onTabClick,x=e.onTabScroll,w=e.indicator,C=I.useContext(FR),E=C.prefixCls,M=C.tabs,R=I.useRef(null),L=I.useRef(null),N=I.useRef(null),D=I.useRef(null),H=I.useRef(null),U=I.useRef(null),q=I.useRef(null),K=d==="top"||d==="bottom",Q=b9(0,function(tr,Yn){K&&x&&x({direction:tr>Yn?"left":"right"})}),X=mt(Q,2),te=X[0],ee=X[1],Z=b9(0,function(tr,Yn){!K&&x&&x({direction:tr>Yn?"top":"bottom"})}),re=mt(Z,2),oe=re[0],ce=re[1],le=I.useState([0,0]),pe=mt(le,2),ye=pe[0],_e=pe[1],Se=I.useState([0,0]),Re=mt(Se,2),je=Re[0],Fe=Re[1],ze=I.useState([0,0]),Ze=mt(ze,2),st=Ze[0],Ue=Ze[1],Ne=I.useState([0,0]),qe=mt(Ne,2),We=qe[0],rt=qe[1],ht=QEe(new Map),ft=mt(ht,2),Rt=ft[0],Yt=ft[1],Jt=YEe(M,Rt,je[0]),xt=DT(ye,K),Ft=DT(je,K),Lt=DT(st,K),Kt=DT(We,K),hn=Math.floor(xt)<Math.floor(Ft+Lt),dn=hn?xt-Kt:xt-Lt,Cn="".concat(E,"-nav-operations-hidden"),kn=0,sn=0;K&&o?(kn=0,sn=Math.max(0,Ft-dn)):(kn=Math.min(0,dn-Ft),sn=0);function un(tr){return tr<kn?kn:tr>sn?sn:tr}var gn=I.useRef(null),Qt=I.useState(),Ln=mt(Qt,2),Gt=Ln[0],He=Ln[1];function be(){He(Date.now())}function we(){gn.current&&clearTimeout(gn.current)}ZEe(D,function(tr,Yn){function br(Hr,ki){Hr(function(Vi){var pr=un(Vi+ki);return pr})}return hn?(K?br(ee,tr):br(ce,Yn),we(),be(),!0):!1}),I.useEffect(function(){return we(),Gt&&(gn.current=setTimeout(function(){He(0)},100)),we},[Gt]);var xe=JEe(Jt,dn,K?te:oe,Ft,Lt,Kt,Pe(Pe({},e),{},{tabs:M})),Ye=mt(xe,2),lt=Ye[0],ct=Ye[1],_t=to(function(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,Yn=Jt.get(tr)||{width:0,height:0,left:0,right:0,top:0};if(K){var br=te;o?Yn.right<te?br=Yn.right:Yn.right+Yn.width>te+dn&&(br=Yn.right+Yn.width-dn):Yn.left<-te?br=-Yn.left:Yn.left+Yn.width>-te+dn&&(br=-(Yn.left+Yn.width-dn)),ce(0),ee(un(br))}else{var Hr=oe;Yn.top<-oe?Hr=-Yn.top:Yn.top+Yn.height>-oe+dn&&(Hr=-(Yn.top+Yn.height-dn)),ee(0),ce(un(Hr))}}),yt=I.useState(),jt=mt(yt,2),$t=jt[0],vt=jt[1],It=I.useState(!1),zt=mt(It,2),Dt=zt[0],Tt=zt[1],xn=M.filter(function(tr){return!tr.disabled}).map(function(tr){return tr.key}),Bt=function(Yn){var br=xn.indexOf($t||s),Hr=xn.length,ki=(br+Yn+Hr)%Hr,Vi=xn[ki];vt(Vi)},nn=function(Yn){var br=Yn.code,Hr=o&&K,ki=xn[0],Vi=xn[xn.length-1];switch(br){case"ArrowLeft":{K&&Bt(Hr?1:-1);break}case"ArrowRight":{K&&Bt(Hr?-1:1);break}case"ArrowUp":{Yn.preventDefault(),K||Bt(-1);break}case"ArrowDown":{Yn.preventDefault(),K||Bt(1);break}case"Home":{Yn.preventDefault(),vt(ki);break}case"End":{Yn.preventDefault(),vt(Vi);break}case"Enter":case"Space":{Yn.preventDefault(),v(s,Yn);break}case"Backspace":case"Delete":{var pr=xn.indexOf($t),_r=M.find(function(ta){return ta.key===$t}),Vr=tB(_r?.closable,_r?.closeIcon,c,_r?.disabled);Vr&&(Yn.preventDefault(),Yn.stopPropagation(),c.onEdit("remove",{key:$t,event:Yn}),pr===xn.length-1?Bt(-1):Bt(1));break}}},Fn={};K?Fn[o?"marginRight":"marginLeft"]=h:Fn.marginTop=h;var Ht=M.map(function(tr,Yn){var br=tr.key;return I.createElement(rOe,{id:i,prefixCls:E,key:br,tab:tr,style:Yn===0?void 0:Fn,closable:tr.closable,editable:c,active:br===s,focus:br===$t,renderWrapper:g,removeAriaLabel:u?.removeAriaLabel,tabCount:xn.length,currentPosition:Yn+1,onClick:function(ki){v(br,ki)},onKeyDown:nn,onFocus:function(){Dt||vt(br),_t(br),be(),D.current&&(o||(D.current.scrollLeft=0),D.current.scrollTop=0)},onBlur:function(){vt(void 0)},onMouseDown:function(){Tt(!0)},onMouseUp:function(){Tt(!1)}})}),ln=function(){return Yt(function(){var Yn,br=new Map,Hr=(Yn=H.current)===null||Yn===void 0?void 0:Yn.getBoundingClientRect();return M.forEach(function(ki){var Vi,pr=ki.key,_r=(Vi=H.current)===null||Vi===void 0?void 0:Vi.querySelector('[data-node-key="'.concat(mQ(pr),'"]'));if(_r){var Vr=iOe(_r,Hr),ta=mt(Vr,4),Wo=ta[0],Ks=ta[1],$o=ta[2],ma=ta[3];br.set(pr,{width:Wo,height:Ks,left:$o,top:ma})}}),br})};I.useEffect(function(){ln()},[M.map(function(tr){return tr.key}).join("_")]);var rn=gQ(function(){var tr=Sw(R),Yn=Sw(L),br=Sw(N);_e([tr[0]-Yn[0]-br[0],tr[1]-Yn[1]-br[1]]);var Hr=Sw(q);Ue(Hr);var ki=Sw(U);rt(ki);var Vi=Sw(H);Fe([Vi[0]-Hr[0],Vi[1]-Hr[1]]),ln()}),Tn=M.slice(0,lt),Un=M.slice(ct+1),ir=[].concat(_n(Tn),_n(Un)),Dn=Jt.get(s),Er=KEe({activeTabOffset:Dn,horizontal:K,indicator:w,rtl:o}),Cr=Er.style;I.useEffect(function(){_t()},[s,kn,sn,S9(Dn),S9(Jt),K]),I.useEffect(function(){rn()},[o]);var $r=!!ir.length,Zr="".concat(E,"-nav-wrap"),li,Kr,$n,sr;return K?o?(Kr=te>0,li=te!==sn):(li=te<0,Kr=te!==kn):($n=oe<0,sr=oe!==kn),I.createElement(zf,{onResize:rn},I.createElement("div",{ref:Yy(t,R),role:"tablist","aria-orientation":K?"horizontal":"vertical",className:ut("".concat(E,"-nav"),n),style:r,onKeyDown:function(){be()}},I.createElement(C9,{ref:L,position:"left",extra:l,prefixCls:E}),I.createElement(zf,{onResize:rn},I.createElement("div",{className:ut(Zr,Te(Te(Te(Te({},"".concat(Zr,"-ping-left"),li),"".concat(Zr,"-ping-right"),Kr),"".concat(Zr,"-ping-top"),$n),"".concat(Zr,"-ping-bottom"),sr)),ref:D},I.createElement(zf,{onResize:rn},I.createElement("div",{ref:H,className:"".concat(E,"-nav-list"),style:{transform:"translate(".concat(te,"px, ").concat(oe,"px)"),transition:Gt?"none":void 0}},Ht,I.createElement(vQ,{ref:q,prefixCls:E,locale:u,editable:c,style:Pe(Pe({},Ht.length===0?void 0:Fn),{},{visibility:$r?"hidden":null})}),I.createElement("div",{className:ut("".concat(E,"-ink-bar"),Te({},"".concat(E,"-ink-bar-animated"),a.inkBar)),style:Cr}))))),I.createElement(nOe,In({},e,{removeAriaLabel:u?.removeAriaLabel,ref:U,prefixCls:E,tabs:ir,className:!$r&&Cn,tabMoving:!!Gt})),I.createElement(C9,{ref:N,position:"right",extra:l,prefixCls:E})))}),yQ=I.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.id,s=e.active,o=e.tabKey,l=e.children;return I.createElement("div",{id:a&&"".concat(a,"-panel-").concat(o),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(o),"aria-hidden":!s,style:i,className:ut(n,s&&"".concat(n,"-active"),r),ref:t},l)}),aOe=["renderTabBar"],oOe=["label","key"],sOe=function(t){var n=t.renderTabBar,r=zr(t,aOe),i=I.useContext(FR),a=i.tabs;if(n){var s=Pe(Pe({},r),{},{panes:a.map(function(o){var l=o.label,c=o.key,u=zr(o,oOe);return I.createElement(yQ,In({tab:l,key:c,tabKey:c},u))})});return n(s,E9)}return I.createElement(E9,r)},lOe=["key","forceRender","style","className","destroyInactiveTabPane"],cOe=function(t){var n=t.id,r=t.activeKey,i=t.animated,a=t.tabPosition,s=t.destroyInactiveTabPane,o=I.useContext(FR),l=o.prefixCls,c=o.tabs,u=i.tabPane,d="".concat(l,"-tabpane");return I.createElement("div",{className:ut("".concat(l,"-content-holder"))},I.createElement("div",{className:ut("".concat(l,"-content"),"".concat(l,"-content-").concat(a),Te({},"".concat(l,"-content-animated"),u))},c.map(function(h){var g=h.key,v=h.forceRender,x=h.style,w=h.className,C=h.destroyInactiveTabPane,E=zr(h,lOe),M=g===r;return I.createElement(wg,In({key:g,visible:M,forceRender:v,removeOnLeave:!!(s||C),leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),function(R,L){var N=R.style,D=R.className;return I.createElement(yQ,In({},E,{prefixCls:d,id:n,tabKey:g,animated:u,active:M,style:Pe(Pe({},x),N),className:ut(w,D),ref:L}))})})))};function uOe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=Pe({inkBar:!0},Rr(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var fOe=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],O9=0,dOe=I.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,i=r===void 0?"rc-tabs":r,a=e.className,s=e.items,o=e.direction,l=e.activeKey,c=e.defaultActiveKey,u=e.editable,d=e.animated,h=e.tabPosition,g=h===void 0?"top":h,v=e.tabBarGutter,x=e.tabBarStyle,w=e.tabBarExtraContent,C=e.locale,E=e.more,M=e.destroyInactiveTabPane,R=e.renderTabBar,L=e.onChange,N=e.onTabClick,D=e.onTabScroll,H=e.getPopupContainer,U=e.popupClassName,q=e.indicator,K=zr(e,fOe),Q=I.useMemo(function(){return(s||[]).filter(function(We){return We&&Rr(We)==="object"&&"key"in We})},[s]),X=o==="rtl",te=uOe(d),ee=I.useState(!1),Z=mt(ee,2),re=Z[0],oe=Z[1];I.useEffect(function(){oe(Lz())},[]);var ce=Us(function(){var We;return(We=Q[0])===null||We===void 0?void 0:We.key},{value:l,defaultValue:c}),le=mt(ce,2),pe=le[0],ye=le[1],_e=I.useState(function(){return Q.findIndex(function(We){return We.key===pe})}),Se=mt(_e,2),Re=Se[0],je=Se[1];I.useEffect(function(){var We=Q.findIndex(function(ht){return ht.key===pe});if(We===-1){var rt;We=Math.max(0,Math.min(Re,Q.length-1)),ye((rt=Q[We])===null||rt===void 0?void 0:rt.key)}je(We)},[Q.map(function(We){return We.key}).join("_"),pe,Re]);var Fe=Us(null,{value:n}),ze=mt(Fe,2),Ze=ze[0],st=ze[1];I.useEffect(function(){n||(st("rc-tabs-".concat(O9)),O9+=1)},[]);function Ue(We,rt){N?.(We,rt);var ht=We!==pe;ye(We),ht&&L?.(We)}var Ne={id:Ze,activeKey:pe,animated:te,tabPosition:g,rtl:X,mobile:re},qe=Pe(Pe({},Ne),{},{editable:u,locale:C,more:E,tabBarGutter:v,onTabClick:Ue,onTabScroll:D,extra:w,style:x,panes:null,getPopupContainer:H,popupClassName:U,indicator:q});return I.createElement(FR.Provider,{value:{tabs:Q,prefixCls:i}},I.createElement("div",In({ref:t,id:n,className:ut(i,"".concat(i,"-").concat(g),Te(Te(Te({},"".concat(i,"-mobile"),re),"".concat(i,"-editable"),u),"".concat(i,"-rtl"),X),a)},K),I.createElement(sOe,In({},qe,{renderTabBar:R})),I.createElement(cOe,In({destroyInactiveTabPane:M},Ne,{animated:te}))))});const hOe={motionAppear:!1,motionEnter:!0,motionLeave:!0};function pOe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return t===!1?n={inkBar:!1,tabPane:!1}:t===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof t=="object"?t:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},hOe),{motionName:Oz(e,"switch")})),n}var gOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mOe(e){return e.filter(t=>t)}function vOe(e,t){if(e)return e;const n=Xu(t).map(r=>{if(I.isValidElement(r)){const{key:i,props:a}=r,s=a||{},{tab:o}=s,l=gOe(s,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:o})}return null});return mOe(n)}const yOe=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[v1(e,"slide-up"),v1(e,"slide-down")]]},bOe=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:a,itemSelectedColor:s}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${et(e.lineWidth)} ${e.lineType} ${a}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:s,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},Pm(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:et(i)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:et(i)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${et(e.borderRadiusLG)} 0 0 ${et(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},_Oe=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},uo(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${et(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},i0),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${et(e.paddingXXS)} ${et(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},xOe=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:a,verticalItemMargin:s,calc:o}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${et(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:o(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:a,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:s},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:et(o(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:o(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},wOe=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:a}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${et(e.borderRadius)} ${et(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${et(e.borderRadius)} ${et(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${et(e.borderRadius)} ${et(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${et(e.borderRadius)} 0 0 ${et(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}}}}}},SOe=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:a,horizontalItemPadding:s,itemSelectedColor:o,itemColor:l}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},a0(e)),"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:o,textShadow:e.tabsActiveTextShadow},[`&${c}-focus ${c}-btn`]:Object.assign({},Pm(e)),[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:a}}}},COe=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:a}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:et(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:et(e.marginXS)},marginLeft:{_skip_check_:!0,value:et(a(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},EOe=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:a,itemActiveColor:s,colorBorderSecondary:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,marginLeft:{_skip_check_:!0,value:i},padding:et(e.paddingXS),background:"transparent",border:`${et(e.lineWidth)} ${e.lineType} ${o}`,borderRadius:`${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:a},"&:active, &:focus:not(:focus-visible)":{color:s}},a0(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),SOe(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},a0(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},OOe=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},TOe=no("Tabs",e=>{const t=ga(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${et(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${et(e.horizontalItemGutter)}`});return[wOe(t),COe(t),xOe(t),_Oe(t),bOe(t),EOe(t),yOe(t)]},OOe),MOe=()=>null;var AOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const bQ=e=>{var t,n,r,i,a,s,o,l,c,u,d;const{type:h,className:g,rootClassName:v,size:x,onEdit:w,hideAdd:C,centered:E,addIcon:M,removeIcon:R,moreIcon:L,more:N,popupClassName:D,children:H,items:U,animated:q,style:K,indicatorSize:Q,indicator:X}=e,te=AOe(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:ee}=te,{direction:Z,tabs:re,getPrefixCls:oe,getPopupContainer:ce}=I.useContext(ii),le=oe("tabs",ee),pe=vh(le),[ye,_e,Se]=TOe(le,pe);let Re;h==="editable-card"&&(Re={onEdit:(Ne,qe)=>{let{key:We,event:rt}=qe;w?.(Ne==="add"?rt:We,Ne)},removeIcon:(t=R??re?.removeIcon)!==null&&t!==void 0?t:I.createElement($O,null),addIcon:(M??re?.addIcon)||I.createElement(qEe,null),showAdd:C!==!0});const je=oe(),Fe=mp(x),ze=vOe(U,H),Ze=pOe(le,q),st=Object.assign(Object.assign({},re?.style),K),Ue={align:(n=X?.align)!==null&&n!==void 0?n:(r=re?.indicator)===null||r===void 0?void 0:r.align,size:(o=(a=(i=X?.size)!==null&&i!==void 0?i:Q)!==null&&a!==void 0?a:(s=re?.indicator)===null||s===void 0?void 0:s.size)!==null&&o!==void 0?o:re?.indicatorSize};return ye(I.createElement(dOe,Object.assign({direction:Z,getPopupContainer:ce},te,{items:ze,className:ut({[`${le}-${Fe}`]:Fe,[`${le}-card`]:["card","editable-card"].includes(h),[`${le}-editable-card`]:h==="editable-card",[`${le}-centered`]:E},re?.className,g,v,_e,Se,pe),popupClassName:ut(D,_e,Se,pe),style:st,editable:Re,more:Object.assign({icon:(d=(u=(c=(l=re?.more)===null||l===void 0?void 0:l.icon)!==null&&c!==void 0?c:re?.moreIcon)!==null&&u!==void 0?u:L)!==null&&d!==void 0?d:I.createElement(Zz,null),transitionName:`${je}-slide-up`},N),prefixCls:le,animated:Ze,indicator:Ue})))};bQ.TabPane=MOe;var IOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _Q=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,i=IOe(e,["prefixCls","className","hoverable"]);const{getPrefixCls:a}=I.useContext(ii),s=a("card",t),o=ut(`${s}-grid`,n,{[`${s}-grid-hoverable`]:r});return I.createElement("div",Object.assign({},i,{className:o}))},POe=e=>{const{antCls:t,componentCls:n,headerHeight:r,headerPadding:i,tabsMarginBottom:a}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${et(i)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0 0`},m1()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},i0),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:a,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},ROe=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${et(i)} 0 0 0 ${n},
      0 ${et(i)} 0 0 ${n},
      ${et(i)} ${et(i)} 0 0 ${n},
      ${et(i)} 0 0 0 ${n} inset,
      0 ${et(i)} 0 0 ${n} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},$Oe=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:a,actionsBg:s}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:s,borderTop:`${et(e.lineWidth)} ${e.lineType} ${a}`,display:"flex",borderRadius:`0 0 ${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)}`},m1()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:et(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:et(e.calc(i).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${et(e.lineWidth)} ${e.lineType} ${a}`}}})},kOe=e=>Object.assign(Object.assign({margin:`${et(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},m1()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},i0),"&-description":{color:e.colorTextDescription}}),LOe=e=>{const{componentCls:t,colorFillAlter:n,headerPadding:r,bodyPadding:i}=e;return{[`${t}-head`]:{padding:`0 ${et(r)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${et(e.padding)} ${et(i)}`}}},NOe=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},DOe=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadowTertiary:a,bodyPadding:s,extraColor:o}=e;return{[t]:Object.assign(Object.assign({},uo(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:a},[`${t}-head`]:POe(e),[`${t}-extra`]:{marginInlineStart:"auto",color:o,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:s,borderRadius:`0 0 ${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)}`},m1()),[`${t}-grid`]:ROe(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:$Oe(e),[`${t}-meta`]:kOe(e)}),[`${t}-bordered`]:{border:`${et(e.lineWidth)} ${e.lineType} ${i}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{borderRadius:`${et(e.borderRadiusLG)} ${et(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:LOe(e),[`${t}-loading`]:NOe(e),[`${t}-rtl`]:{direction:"rtl"}}},zOe=e=>{const{componentCls:t,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:i,headerFontSizeSM:a}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:i,padding:`0 ${et(r)}`,fontSize:a,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},BOe=e=>{var t,n;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(n=e.headerPadding)!==null&&n!==void 0?n:e.paddingLG}},jOe=no("Card",e=>{const t=ga(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[DOe(t),zOe(t)]},BOe);var T9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const FOe=e=>{const{actionClasses:t,actions:n=[],actionStyle:r}=e;return I.createElement("ul",{className:t,style:r},n.map((i,a)=>{const s=`action-${a}`;return I.createElement("li",{style:{width:`${100/n.length}%`},key:s},I.createElement("span",null,i))}))},HOe=I.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:a,extra:s,headStyle:o={},bodyStyle:l={},title:c,loading:u,bordered:d,variant:h,size:g,type:v,cover:x,actions:w,tabList:C,children:E,activeTabKey:M,defaultActiveTabKey:R,tabBarExtraContent:L,hoverable:N,tabProps:D={},classNames:H,styles:U}=e,q=T9(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:K,direction:Q,card:X}=I.useContext(ii),[te]=PR("card",h,d),ee=Jt=>{var xt;(xt=e.onTabChange)===null||xt===void 0||xt.call(e,Jt)},Z=Jt=>{var xt;return ut((xt=X?.classNames)===null||xt===void 0?void 0:xt[Jt],H?.[Jt])},re=Jt=>{var xt;return Object.assign(Object.assign({},(xt=X?.styles)===null||xt===void 0?void 0:xt[Jt]),U?.[Jt])},oe=I.useMemo(()=>{let Jt=!1;return I.Children.forEach(E,xt=>{xt?.type===_Q&&(Jt=!0)}),Jt},[E]),ce=K("card",n),[le,pe,ye]=jOe(ce),_e=I.createElement(Rx,{loading:!0,active:!0,paragraph:{rows:4},title:!1},E),Se=M!==void 0,Re=Object.assign(Object.assign({},D),{[Se?"activeKey":"defaultActiveKey"]:Se?M:R,tabBarExtraContent:L});let je;const Fe=mp(g),ze=!Fe||Fe==="default"?"large":Fe,Ze=C?I.createElement(bQ,Object.assign({size:ze},Re,{className:`${ce}-head-tabs`,onChange:ee,items:C.map(Jt=>{var{tab:xt}=Jt,Ft=T9(Jt,["tab"]);return Object.assign({label:xt},Ft)})})):null;if(c||s||Ze){const Jt=ut(`${ce}-head`,Z("header")),xt=ut(`${ce}-head-title`,Z("title")),Ft=ut(`${ce}-extra`,Z("extra")),Lt=Object.assign(Object.assign({},o),re("header"));je=I.createElement("div",{className:Jt,style:Lt},I.createElement("div",{className:`${ce}-head-wrapper`},c&&I.createElement("div",{className:xt,style:re("title")},c),s&&I.createElement("div",{className:Ft,style:re("extra")},s)),Ze)}const st=ut(`${ce}-cover`,Z("cover")),Ue=x?I.createElement("div",{className:st,style:re("cover")},x):null,Ne=ut(`${ce}-body`,Z("body")),qe=Object.assign(Object.assign({},l),re("body")),We=I.createElement("div",{className:Ne,style:qe},u?_e:E),rt=ut(`${ce}-actions`,Z("actions")),ht=w?.length?I.createElement(FOe,{actionClasses:rt,actionStyle:re("actions"),actions:w}):null,ft=rl(q,["onTabChange"]),Rt=ut(ce,X?.className,{[`${ce}-loading`]:u,[`${ce}-bordered`]:te!=="borderless",[`${ce}-hoverable`]:N,[`${ce}-contain-grid`]:oe,[`${ce}-contain-tabs`]:C?.length,[`${ce}-${Fe}`]:Fe,[`${ce}-type-${v}`]:!!v,[`${ce}-rtl`]:Q==="rtl"},r,i,pe,ye),Yt=Object.assign(Object.assign({},X?.style),a);return le(I.createElement("div",Object.assign({ref:t},ft,{className:Rt,style:Yt}),je,Ue,We,ht))});var VOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UOe=e=>{const{prefixCls:t,className:n,avatar:r,title:i,description:a}=e,s=VOe(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:o}=I.useContext(ii),l=o("card",t),c=ut(`${l}-meta`,n),u=r?I.createElement("div",{className:`${l}-meta-avatar`},r):null,d=i?I.createElement("div",{className:`${l}-meta-title`},i):null,h=a?I.createElement("div",{className:`${l}-meta-description`},a):null,g=d||h?I.createElement("div",{className:`${l}-meta-detail`},d,h):null;return I.createElement("div",Object.assign({},s,{className:c}),u,g)},nB=HOe;nB.Grid=_Q;nB.Meta=UOe;var GOe={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function WOe(e,t,n){var r=n||{},i=r.noTrailing,a=i===void 0?!1:i,s=r.noLeading,o=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,h=0;function g(){u&&clearTimeout(u)}function v(w){var C=w||{},E=C.upcomingOnly,M=E===void 0?!1:E;g(),d=!M}function x(){for(var w=arguments.length,C=new Array(w),E=0;E<w;E++)C[E]=arguments[E];var M=this,R=Date.now()-h;if(d)return;function L(){h=Date.now(),t.apply(M,C)}function N(){u=void 0}!o&&c&&!u&&L(),g(),c===void 0&&R>e?o?(h=Date.now(),a||(u=setTimeout(c?N:L,e))):L():a!==!0&&(u=setTimeout(c?N:L,c===void 0?e-R:e))}return x.cancel=v,x}function xQ(e,t,n){var r={},i=r.atBegin,a=i===void 0?!1:i;return WOe(e,t,{debounceMode:a!==!1})}var TD={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return it.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return it.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};function MD(e,t,n){return Math.max(t,Math.min(e,n))}var dS=function(t){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(t._reactName)||t.preventDefault()},tI=function(t){for(var n=[],r=wQ(t),i=SQ(t),a=r;a<i;a++)t.lazyLoadedList.indexOf(a)<0&&n.push(a);return n},wQ=function(t){return t.currentSlide-qOe(t)},SQ=function(t){return t.currentSlide+KOe(t)},qOe=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},KOe=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},AD=function(t){return t&&t.offsetWidth||0},rB=function(t){return t&&t.offsetHeight||0},CQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,a,s;return r=t.startX-t.curX,i=t.startY-t.curY,a=Math.atan2(i,r),s=Math.round(a*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},HR=function(t){var n=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(n=!1),n},Jk=function(t,n){var r={};return n.forEach(function(i){return r[i]=t[i]}),r},YOe=function(t){var n=it.Children.count(t.children),r=t.listRef,i=Math.ceil(AD(r)),a=t.trackRef&&t.trackRef.node,s=Math.ceil(AD(a)),o;if(t.vertical)o=i;else{var l=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(l*=i/100),o=Math.ceil((i-l)/t.slidesToShow)}var c=r&&rB(r.querySelector('[data-index="0"]')),u=c*t.slidesToShow,d=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(d=n-1-t.initialSlide);var h=t.lazyLoadedList||[],g=tI(Pe(Pe({},t),{},{currentSlide:d,lazyLoadedList:h}));h=h.concat(g);var v={slideCount:n,slideWidth:o,listWidth:i,trackWidth:s,currentSlide:d,slideHeight:c,listHeight:u,lazyLoadedList:h};return t.autoplaying===null&&t.autoplay&&(v.autoplaying="playing"),v},XOe=function(t){var n=t.waitForAnimate,r=t.animating,i=t.fade,a=t.infinite,s=t.index,o=t.slideCount,l=t.lazyLoad,c=t.currentSlide,u=t.centerMode,d=t.slidesToScroll,h=t.slidesToShow,g=t.useCSS,v=t.lazyLoadedList;if(n&&r)return{};var x=s,w,C,E,M={},R={},L=a?s:MD(s,0,o-1);if(i){if(!a&&(s<0||s>=o))return{};s<0?x=s+o:s>=o&&(x=s-o),l&&v.indexOf(x)<0&&(v=v.concat(x)),M={animating:!0,currentSlide:x,lazyLoadedList:v,targetSlide:x},R={animating:!1,targetSlide:x}}else w=x,x<0?(w=x+o,a?o%d!==0&&(w=o-o%d):w=0):!HR(t)&&x>c?x=w=c:u&&x>=o?(x=a?o:o-1,w=a?0:o-1):x>=o&&(w=x-o,a?o%d!==0&&(w=0):w=o-h),!a&&x+h>=o&&(w=o-h),C=zE(Pe(Pe({},t),{},{slideIndex:x})),E=zE(Pe(Pe({},t),{},{slideIndex:w})),a||(C===E&&(x=w),C=E),l&&(v=v.concat(tI(Pe(Pe({},t),{},{currentSlide:x})))),g?(M={animating:!0,currentSlide:w,trackStyle:EQ(Pe(Pe({},t),{},{left:C})),lazyLoadedList:v,targetSlide:L},R={animating:!1,currentSlide:w,trackStyle:DE(Pe(Pe({},t),{},{left:E})),swipeLeft:null,targetSlide:L}):M={currentSlide:w,trackStyle:DE(Pe(Pe({},t),{},{left:E})),lazyLoadedList:v,targetSlide:L};return{state:M,nextState:R}},ZOe=function(t,n){var r,i,a,s,o,l=t.slidesToScroll,c=t.slidesToShow,u=t.slideCount,d=t.currentSlide,h=t.targetSlide,g=t.lazyLoad,v=t.infinite;if(s=u%l!==0,r=s?0:(u-d)%l,n.message==="previous")a=r===0?l:c-r,o=d-a,g&&!v&&(i=d-a,o=i===-1?u-1:i),v||(o=h-l);else if(n.message==="next")a=r===0?l:r,o=d+a,g&&!v&&(o=(d+l)%u+r),v||(o=h+l);else if(n.message==="dots")o=n.index*n.slidesToScroll;else if(n.message==="children"){if(o=n.index,v){var x=iTe(Pe(Pe({},t),{},{targetSlide:o}));o>n.currentSlide&&x==="left"?o=o-u:o<n.currentSlide&&x==="right"&&(o=o+u)}}else n.message==="index"&&(o=Number(n.index));return o},QOe=function(t,n,r){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":t.keyCode===37?r?"next":"previous":t.keyCode===39?r?"previous":"next":""},JOe=function(t,n,r){return t.target.tagName==="IMG"&&dS(t),!n||!r&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},eTe=function(t,n){var r=n.scrolling,i=n.animating,a=n.vertical,s=n.swipeToSlide,o=n.verticalSwiping,l=n.rtl,c=n.currentSlide,u=n.edgeFriction,d=n.edgeDragged,h=n.onEdge,g=n.swiped,v=n.swiping,x=n.slideCount,w=n.slidesToScroll,C=n.infinite,E=n.touchObject,M=n.swipeEvent,R=n.listHeight,L=n.listWidth;if(!r){if(i)return dS(t);a&&s&&o&&dS(t);var N,D={},H=zE(n);E.curX=t.touches?t.touches[0].pageX:t.clientX,E.curY=t.touches?t.touches[0].pageY:t.clientY,E.swipeLength=Math.round(Math.sqrt(Math.pow(E.curX-E.startX,2)));var U=Math.round(Math.sqrt(Math.pow(E.curY-E.startY,2)));if(!o&&!v&&U>10)return{scrolling:!0};o&&(E.swipeLength=U);var q=(l?-1:1)*(E.curX>E.startX?1:-1);o&&(q=E.curY>E.startY?1:-1);var K=Math.ceil(x/w),Q=CQ(n.touchObject,o),X=E.swipeLength;return C||(c===0&&(Q==="right"||Q==="down")||c+1>=K&&(Q==="left"||Q==="up")||!HR(n)&&(Q==="left"||Q==="up"))&&(X=E.swipeLength*u,d===!1&&h&&(h(Q),D.edgeDragged=!0)),!g&&M&&(M(Q),D.swiped=!0),a?N=H+X*(R/L)*q:l?N=H-X*q:N=H+X*q,o&&(N=H+X*q),D=Pe(Pe({},D),{},{touchObject:E,swipeLeft:N,trackStyle:DE(Pe(Pe({},n),{},{left:N}))}),Math.abs(E.curX-E.startX)<Math.abs(E.curY-E.startY)*.8||E.swipeLength>10&&(D.swiping=!0,dS(t)),D}},tTe=function(t,n){var r=n.dragging,i=n.swipe,a=n.touchObject,s=n.listWidth,o=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,u=n.swipeToSlide,d=n.scrolling,h=n.onSwipe,g=n.targetSlide,v=n.currentSlide,x=n.infinite;if(!r)return i&&dS(t),{};var w=l?c/o:s/o,C=CQ(a,l),E={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!a.swipeLength)return E;if(a.swipeLength>w){dS(t),h&&h(C);var M,R,L=x?v:g;switch(C){case"left":case"up":R=L+A9(n),M=u?M9(n,R):R,E.currentDirection=0;break;case"right":case"down":R=L-A9(n),M=u?M9(n,R):R,E.currentDirection=1;break;default:M=L}E.triggerSlideHandler=M}else{var N=zE(n);E.trackStyle=EQ(Pe(Pe({},n),{},{left:N}))}return E},nTe=function(t){for(var n=t.infinite?t.slideCount*2:t.slideCount,r=t.infinite?t.slidesToShow*-1:0,i=t.infinite?t.slidesToShow*-1:0,a=[];r<n;)a.push(r),r=i+t.slidesToScroll,i+=Math.min(t.slidesToScroll,t.slidesToShow);return a},M9=function(t,n){var r=nTe(t),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var a in r){if(n<r[a]){n=i;break}i=r[a]}return n},A9=function(t){var n=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var r,i=t.listRef,a=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(a).every(function(l){if(t.vertical){if(l.offsetTop+rB(l)/2>t.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+AD(l)/2>t.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var s=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,o=Math.abs(r.dataset.index-s)||1;return o}else return t.slidesToScroll},iB=function(t,n){return n.reduce(function(r,i){return r&&t.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",t)},DE=function(t){iB(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!t.vertical)n=rTe(t)*t.slideWidth;else{var i=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;r=i*t.slideHeight}var a={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",o=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",l=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";a=Pe(Pe({},a),{},{WebkitTransform:s,transform:o,msTransform:l})}else t.vertical?a.top=t.left:a.left=t.left;return t.fade&&(a={opacity:1}),n&&(a.width=n),r&&(a.height=r),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?a.marginTop=t.left+"px":a.marginLeft=t.left+"px"),a},EQ=function(t){iB(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=DE(t);return t.useTransform?(n.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,n.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?n.transition="top "+t.speed+"ms "+t.cssEase:n.transition="left "+t.speed+"ms "+t.cssEase,n},zE=function(t){if(t.unslick)return 0;iB(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=t.slideIndex,r=t.trackRef,i=t.infinite,a=t.centerMode,s=t.slideCount,o=t.slidesToShow,l=t.slidesToScroll,c=t.slideWidth,u=t.listWidth,d=t.variableWidth,h=t.slideHeight,g=t.fade,v=t.vertical,x=0,w,C,E=0;if(g||t.slideCount===1)return 0;var M=0;if(i?(M=-$y(t),s%l!==0&&n+l>s&&(M=-(n>s?o-(n-s):s%l)),a&&(M+=parseInt(o/2))):(s%l!==0&&n+l>s&&(M=o-s%l),a&&(M=parseInt(o/2))),x=M*c,E=M*h,v?w=n*h*-1+E:w=n*c*-1+x,d===!0){var R,L=r&&r.node;if(R=n+$y(t),C=L&&L.childNodes[R],w=C?C.offsetLeft*-1:0,a===!0){R=i?n+$y(t):n,C=L&&L.children[R],w=0;for(var N=0;N<R;N++)w-=L&&L.children[N]&&L.children[N].offsetWidth;w-=parseInt(t.centerPadding),w+=C&&(u-C.offsetWidth)/2}}return w},$y=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},aA=function(t){return t.unslick||!t.infinite?0:t.slideCount},rTe=function(t){return t.slideCount===1?1:$y(t)+t.slideCount+aA(t)},iTe=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+aTe(t)?"left":"right":t.targetSlide<t.currentSlide-oTe(t)?"right":"left"},aTe=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,a=t.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(a)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},oTe=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,a=t.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(a)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0},I9=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},sTe=Object.keys(TD);function lTe(e){return sTe.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}function cTe(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}var e3=function(t){var n,r,i,a,s;t.rtl?s=t.slideCount-1-t.index:s=t.index,i=s<0||s>=t.slideCount,t.centerMode?(a=Math.floor(t.slidesToShow/2),r=(s-t.currentSlide)%t.slideCount===0,s>t.currentSlide-a-1&&s<=t.currentSlide+a&&(n=!0)):n=t.currentSlide<=s&&s<t.currentSlide+t.slidesToShow;var o;t.targetSlide<0?o=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?o=t.targetSlide-t.slideCount:o=t.targetSlide;var l=s===o;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},uTe=function(t){var n={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(n.width=t.slideWidth),t.fade&&(n.position="relative",t.vertical&&t.slideHeight?n.top=-t.index*parseInt(t.slideHeight):n.left=-t.index*parseInt(t.slideWidth),n.opacity=t.currentSlide===t.index?1:0,n.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(n.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),n},t3=function(t,n){return t.key+"-"+n},fTe=function(t){var n,r=[],i=[],a=[],s=it.Children.count(t.children),o=wQ(t),l=SQ(t);return it.Children.forEach(t.children,function(c,u){var d,h={message:"children",index:u,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(u)>=0?d=c:d=it.createElement("div",null);var g=uTe(Pe(Pe({},t),{},{index:u})),v=d.props.className||"",x=e3(Pe(Pe({},t),{},{index:u}));if(r.push(it.cloneElement(d,{key:"original"+t3(d,u),"data-index":u,className:ut(x,v),tabIndex:"-1","aria-hidden":!x["slick-active"],style:Pe(Pe({outline:"none"},d.props.style||{}),g),onClick:function(E){d.props&&d.props.onClick&&d.props.onClick(E),t.focusOnSelect&&t.focusOnSelect(h)}})),t.infinite&&s>1&&t.fade===!1&&!t.unslick){var w=s-u;w<=$y(t)&&(n=-w,n>=o&&(d=c),x=e3(Pe(Pe({},t),{},{index:n})),i.push(it.cloneElement(d,{key:"precloned"+t3(d,n),"data-index":n,tabIndex:"-1",className:ut(x,v),"aria-hidden":!x["slick-active"],style:Pe(Pe({},d.props.style||{}),g),onClick:function(E){d.props&&d.props.onClick&&d.props.onClick(E),t.focusOnSelect&&t.focusOnSelect(h)}}))),n=s+u,n<l&&(d=c),x=e3(Pe(Pe({},t),{},{index:n})),a.push(it.cloneElement(d,{key:"postcloned"+t3(d,n),"data-index":n,tabIndex:"-1",className:ut(x,v),"aria-hidden":!x["slick-active"],style:Pe(Pe({},d.props.style||{}),g),onClick:function(E){d.props&&d.props.onClick&&d.props.onClick(E),t.focusOnSelect&&t.focusOnSelect(h)}}))}}),t.rtl?i.concat(r,a).reverse():i.concat(r,a)},dTe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cTe(this,t,[].concat(i)),Te(n,"node",null),Te(n,"handleRef",function(s){n.node=s}),n}return qr(t,e),On(t,[{key:"render",value:function(){var r=fTe(this.props),i=this.props,a=i.onMouseEnter,s=i.onMouseOver,o=i.onMouseLeave,l={onMouseEnter:a,onMouseOver:s,onMouseLeave:o};return it.createElement("div",In({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},l),r)}}])}(it.PureComponent);function hTe(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}var pTe=function(t){var n;return t.infinite?n=Math.ceil(t.slideCount/t.slidesToScroll):n=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,n},gTe=function(e){function t(){return En(this,t),hTe(this,t,arguments)}return qr(t,e),On(t,[{key:"clickHandler",value:function(r,i){i.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,i=r.onMouseEnter,a=r.onMouseOver,s=r.onMouseLeave,o=r.infinite,l=r.slidesToScroll,c=r.slidesToShow,u=r.slideCount,d=r.currentSlide,h=pTe({slideCount:u,slidesToScroll:l,slidesToShow:c,infinite:o}),g={onMouseEnter:i,onMouseOver:a,onMouseLeave:s},v=[],x=0;x<h;x++){var w=(x+1)*l-1,C=o?w:MD(w,0,u-1),E=C-(l-1),M=o?E:MD(E,0,u-1),R=ut({"slick-active":o?d>=M&&d<=C:d===M}),L={message:"dots",index:x,slidesToScroll:l,currentSlide:d},N=this.clickHandler.bind(this,L);v=v.concat(it.createElement("li",{key:x,className:R},it.cloneElement(this.props.customPaging(x),{onClick:N})))}return it.cloneElement(this.props.appendDots(v),Pe({className:this.props.dotsClass},g))}}])}(it.PureComponent);function OQ(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}var mTe=function(e){function t(){return En(this,t),OQ(this,t,arguments)}return qr(t,e),On(t,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,i=null);var a={key:"0","data-role":"none",className:ut(r),style:{display:"block"},onClick:i},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},o;return this.props.prevArrow?o=it.cloneElement(this.props.prevArrow,Pe(Pe({},a),s)):o=it.createElement("button",In({key:"0",type:"button"},a)," ","Previous"),o}}])}(it.PureComponent),vTe=function(e){function t(){return En(this,t),OQ(this,t,arguments)}return qr(t,e),On(t,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});HR(this.props)||(r["slick-disabled"]=!0,i=null);var a={key:"1","data-role":"none",className:ut(r),style:{display:"block"},onClick:i},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},o;return this.props.nextArrow?o=it.cloneElement(this.props.nextArrow,Pe(Pe({},a),s)):o=it.createElement("button",In({key:"1",type:"button"},a)," ","Next"),o}}])}(it.PureComponent),yTe=["animating"];function bTe(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}var _Te=function(e){function t(n){var r;En(this,t),r=bTe(this,t,[n]),Te(r,"listRefHandler",function(a){return r.list=a}),Te(r,"trackRefHandler",function(a){return r.track=a}),Te(r,"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var a=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=rB(a)+"px"}}),Te(r,"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var a=tI(Pe(Pe({},r.props),r.state));a.length>0&&(r.setState(function(o){return{lazyLoadedList:o.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a))}var s=Pe({listRef:r.list,trackRef:r.track},r.props);r.updateState(s,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("playing")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new IY(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(o){o.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,o.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),Te(r,"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(a){return clearTimeout(a)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),Te(r,"componentDidUpdate",function(a){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var s=tI(Pe(Pe({},r.props),r.state));s.length>0&&(r.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(s)}}),r.props.onLazyLoad&&r.props.onLazyLoad(s))}r.adaptHeight();var o=Pe(Pe({listRef:r.list,trackRef:r.track},r.props),r.state),l=r.didPropsChange(a);l&&r.updateState(o,l,function(){r.state.currentSlide>=it.Children.count(r.props.children)&&r.changeSlide({message:"index",index:it.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),(a.autoplay!==r.props.autoplay||a.autoplaySpeed!==r.props.autoplaySpeed)&&(!a.autoplay&&r.props.autoplay?r.autoPlay("playing"):r.props.autoplay?r.autoPlay("update"):r.pause("paused"))})}),Te(r,"onWindowResized",function(a){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=xQ(50,function(){return r.resizeWindow(a)}),r.debouncedResize()}),Te(r,"resizeWindow",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(r.track&&r.track.node);if(s){var o=Pe(Pe({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(o,a,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),Te(r,"updateState",function(a,s,o){var l=YOe(a);a=Pe(Pe(Pe({},a),l),{},{slideIndex:l.currentSlide});var c=zE(a);a=Pe(Pe({},a),{},{left:c});var u=DE(a);(s||it.Children.count(r.props.children)!==it.Children.count(a.children))&&(l.trackStyle=u),r.setState(l,o)}),Te(r,"ssrInit",function(){if(r.props.variableWidth){var a=0,s=0,o=[],l=$y(Pe(Pe(Pe({},r.props),r.state),{},{slideCount:r.props.children.length})),c=aA(Pe(Pe(Pe({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(N){o.push(N.props.style.width),a+=N.props.style.width});for(var u=0;u<l;u++)s+=o[o.length-1-u],a+=o[o.length-1-u];for(var d=0;d<c;d++)a+=o[d];for(var h=0;h<r.state.currentSlide;h++)s+=o[h];var g={width:a+"px",left:-s+"px"};if(r.props.centerMode){var v="".concat(o[r.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:g}}var x=it.Children.count(r.props.children),w=Pe(Pe(Pe({},r.props),r.state),{},{slideCount:x}),C=$y(w)+aA(w)+x,E=100/r.props.slidesToShow*C,M=100/C,R=-M*($y(w)+r.state.currentSlide)*E/100;r.props.centerMode&&(R+=(100-M*E/100)/2);var L={width:E+"%",left:R+"%"};return{slideWidth:M+"%",trackStyle:L}}),Te(r,"checkImagesLoad",function(){var a=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],s=a.length,o=0;Array.prototype.forEach.call(a,function(l){var c=function(){return++o&&o>=s&&r.onWindowResized()};if(!l.onclick)l.onclick=function(){return l.parentNode.focus()};else{var u=l.onclick;l.onclick=function(d){u(d),l.parentNode.focus()}}l.onload||(r.props.lazyLoad?l.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(l.onload=c,l.onerror=function(){c(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),Te(r,"progressiveLazyLoad",function(){for(var a=[],s=Pe(Pe({},r.props),r.state),o=r.state.currentSlide;o<r.state.slideCount+aA(s);o++)if(r.state.lazyLoadedList.indexOf(o)<0){a.push(o);break}for(var l=r.state.currentSlide-1;l>=-$y(s);l--)if(r.state.lazyLoadedList.indexOf(l)<0){a.push(l);break}a.length>0?(r.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),Te(r,"slideHandler",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=r.props,l=o.asNavFor,c=o.beforeChange,u=o.onLazyLoad,d=o.speed,h=o.afterChange,g=r.state.currentSlide,v=XOe(Pe(Pe(Pe({index:a},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!s})),x=v.state,w=v.nextState;if(x){c&&c(g,x.currentSlide);var C=x.lazyLoadedList.filter(function(E){return r.state.lazyLoadedList.indexOf(E)<0});u&&C.length>0&&u(C),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),h&&h(g),delete r.animationEndCallback),r.setState(x,function(){l&&r.asNavForIndex!==a&&(r.asNavForIndex=a,l.innerSlider.slideHandler(a)),w&&(r.animationEndCallback=setTimeout(function(){var E=w.animating,M=zr(w,yTe);r.setState(M,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:E})},10)),h&&h(x.currentSlide),delete r.animationEndCallback})},d))})}}),Te(r,"changeSlide",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=Pe(Pe({},r.props),r.state),l=ZOe(o,a);if(!(l!==0&&!l)&&(s===!0?r.slideHandler(l,s):r.slideHandler(l),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var c=r.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),Te(r,"clickHandler",function(a){r.clickable===!1&&(a.stopPropagation(),a.preventDefault()),r.clickable=!0}),Te(r,"keyHandler",function(a){var s=QOe(a,r.props.accessibility,r.props.rtl);s!==""&&r.changeSlide({message:s})}),Te(r,"selectHandler",function(a){r.changeSlide(a)}),Te(r,"disableBodyScroll",function(){var a=function(o){o=o||window.event,o.preventDefault&&o.preventDefault(),o.returnValue=!1};window.ontouchmove=a}),Te(r,"enableBodyScroll",function(){window.ontouchmove=null}),Te(r,"swipeStart",function(a){r.props.verticalSwiping&&r.disableBodyScroll();var s=JOe(a,r.props.swipe,r.props.draggable);s!==""&&r.setState(s)}),Te(r,"swipeMove",function(a){var s=eTe(a,Pe(Pe(Pe({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));s&&(s.swiping&&(r.clickable=!1),r.setState(s))}),Te(r,"swipeEnd",function(a){var s=tTe(a,Pe(Pe(Pe({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(s){var o=s.triggerSlideHandler;delete s.triggerSlideHandler,r.setState(s),o!==void 0&&(r.slideHandler(o),r.props.verticalSwiping&&r.enableBodyScroll())}}),Te(r,"touchEnd",function(a){r.swipeEnd(a),r.clickable=!0}),Te(r,"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),Te(r,"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),Te(r,"slickGoTo",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a=Number(a),isNaN(a))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:a,currentSlide:r.state.currentSlide},s)},0))}),Te(r,"play",function(){var a;if(r.props.rtl)a=r.state.currentSlide-r.props.slidesToScroll;else if(HR(Pe(Pe({},r.props),r.state)))a=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(a)}),Te(r,"autoPlay",function(a){r.autoplayTimer&&clearInterval(r.autoplayTimer);var s=r.state.autoplaying;if(a==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(a==="leave"){if(s==="paused"||s==="focused")return}else if(a==="blur"&&(s==="paused"||s==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),Te(r,"pause",function(a){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var s=r.state.autoplaying;a==="paused"?r.setState({autoplaying:"paused"}):a==="focused"?(s==="hovered"||s==="playing")&&r.setState({autoplaying:"focused"}):s==="playing"&&r.setState({autoplaying:"hovered"})}),Te(r,"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),Te(r,"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Te(r,"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),Te(r,"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Te(r,"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),Te(r,"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),Te(r,"render",function(){var a=ut("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),s=Pe(Pe({},r.props),r.state),o=Jk(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),l=r.props.pauseOnHover;o=Pe(Pe({},o),{},{onMouseEnter:l?r.onTrackOver:null,onMouseLeave:l?r.onTrackLeave:null,onMouseOver:l?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var c;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var u=Jk(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=r.props.pauseOnDotsHover;u=Pe(Pe({},u),{},{clickHandler:r.changeSlide,onMouseEnter:d?r.onDotsLeave:null,onMouseOver:d?r.onDotsOver:null,onMouseLeave:d?r.onDotsLeave:null}),c=it.createElement(gTe,u)}var h,g,v=Jk(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=r.changeSlide,r.props.arrows&&(h=it.createElement(mTe,v),g=it.createElement(vTe,v));var x=null;r.props.vertical&&(x={height:r.state.listHeight});var w=null;r.props.vertical===!1?r.props.centerMode===!0&&(w={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(w={padding:r.props.centerPadding+" 0px"});var C=Pe(Pe({},x),w),E=r.props.touchMove,M={className:"slick-list",style:C,onClick:r.clickHandler,onMouseDown:E?r.swipeStart:null,onMouseMove:r.state.dragging&&E?r.swipeMove:null,onMouseUp:E?r.swipeEnd:null,onMouseLeave:r.state.dragging&&E?r.swipeEnd:null,onTouchStart:E?r.swipeStart:null,onTouchMove:r.state.dragging&&E?r.swipeMove:null,onTouchEnd:E?r.touchEnd:null,onTouchCancel:r.state.dragging&&E?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},R={className:a,dir:"ltr",style:r.props.style};return r.props.unslick&&(M={className:"slick-list"},R={className:a,style:r.props.style}),it.createElement("div",R,r.props.unslick?"":h,it.createElement("div",In({ref:r.listRefHandler},M),it.createElement(dTe,In({ref:r.trackRefHandler},o),r.props.children)),r.props.unslick?"":g,r.props.unslick?"":c)}),r.list=null,r.track=null,r.state=Pe(Pe({},GOe),{},{currentSlide:r.props.initialSlide,targetSlide:r.props.initialSlide?r.props.initialSlide:0,slideCount:it.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var i=r.ssrInit();return r.state=Pe(Pe({},r.state),i),r}return qr(t,e),On(t,[{key:"didPropsChange",value:function(r){for(var i=!1,a=0,s=Object.keys(this.props);a<s.length;a++){var o=s[a];if(!r.hasOwnProperty(o)){i=!0;break}if(!(Rr(r[o])==="object"||typeof r[o]=="function"||isNaN(r[o]))&&r[o]!==this.props[o]){i=!0;break}}return i||it.Children.count(this.props.children)!==it.Children.count(r.children)}}])}(it.Component),n3,P9;function xTe(){if(P9)return n3;P9=1;var e=function(t){return t.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return n3=e,n3}var r3,R9;function wTe(){if(R9)return r3;R9=1;var e=xTe(),t=function(i){var a=/[height|width]$/;return a.test(i)},n=function(i){var a="",s=Object.keys(i);return s.forEach(function(o,l){var c=i[o];o=e(o),t(o)&&typeof c=="number"&&(c=c+"px"),c===!0?a+=o:c===!1?a+="not "+o:a+="("+o+": "+c+")",l<s.length-1&&(a+=" and ")}),a},r=function(i){var a="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(s,o){a+=n(s),o<i.length-1&&(a+=", ")}),a):n(i)};return r3=r,r3}var STe=wTe();const i3=Ky(STe);function CTe(e,t,n){return t=Xc(t),Px(e,Xy()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}var ETe=function(e){function t(n){var r;return En(this,t),r=CTe(this,t,[n]),Te(r,"innerSliderRefHandler",function(i){return r.innerSlider=i}),Te(r,"slickPrev",function(){return r.innerSlider.slickPrev()}),Te(r,"slickNext",function(){return r.innerSlider.slickNext()}),Te(r,"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r.innerSlider.slickGoTo(i,a)}),Te(r,"slickPause",function(){return r.innerSlider.pause("paused")}),Te(r,"slickPlay",function(){return r.innerSlider.autoPlay("play")}),r.state={breakpoint:null},r._responsiveMediaHandlers=[],r}return qr(t,e),On(t,[{key:"media",value:function(r,i){var a=window.matchMedia(r),s=function(l){var c=l.matches;c&&i()};a.addListener(s),s(a),this._responsiveMediaHandlers.push({mql:a,query:r,listener:s})}},{key:"componentDidMount",value:function(){var r=this;if(this.props.responsive){var i=this.props.responsive.map(function(s){return s.breakpoint});i.sort(function(s,o){return s-o}),i.forEach(function(s,o){var l;o===0?l=i3({minWidth:0,maxWidth:s}):l=i3({minWidth:i[o-1]+1,maxWidth:s}),I9()&&r.media(l,function(){r.setState({breakpoint:s})})});var a=i3({minWidth:i.slice(-1)[0]});I9()&&this.media(a,function(){r.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(r){r.mql.removeListener(r.listener)})}},{key:"render",value:function(){var r=this,i,a;this.state.breakpoint?(a=this.props.responsive.filter(function(x){return x.breakpoint===r.state.breakpoint}),i=a[0].settings==="unslick"?"unslick":Pe(Pe(Pe({},TD),this.props),a[0].settings)):i=Pe(Pe({},TD),this.props),i.centerMode&&(i.slidesToScroll>1,i.slidesToScroll=1),i.fade&&(i.slidesToShow>1,i.slidesToScroll>1,i.slidesToShow=1,i.slidesToScroll=1);var s=it.Children.toArray(this.props.children);s=s.filter(function(x){return typeof x=="string"?!!x.trim():!!x}),i.variableWidth&&(i.rows>1||i.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),i.variableWidth=!1);for(var o=[],l=null,c=0;c<s.length;c+=i.rows*i.slidesPerRow){for(var u=[],d=c;d<c+i.rows*i.slidesPerRow;d+=i.slidesPerRow){for(var h=[],g=d;g<d+i.slidesPerRow&&(i.variableWidth&&s[g].props.style&&(l=s[g].props.style.width),!(g>=s.length));g+=1)h.push(it.cloneElement(s[g],{key:100*c+10*d+g,tabIndex:-1,style:{width:"".concat(100/i.slidesPerRow,"%"),display:"inline-block"}}));u.push(it.createElement("div",{key:10*c+d},h))}i.variableWidth?o.push(it.createElement("div",{key:c,style:{width:l}},u)):o.push(it.createElement("div",{key:c},u))}if(i==="unslick"){var v="regular slider "+(this.props.className||"");return it.createElement("div",{className:v},s)}else o.length<=i.slidesToShow&&!i.infinite&&(i.unslick=!0);return it.createElement(_Te,In({style:this.props.style,ref:this.innerSliderRefHandler},lTe(i)),o)}}])}(it.Component);const aB="--dot-duration",OTe=e=>{const{componentCls:t,antCls:n}=e;return{[t]:Object.assign(Object.assign({},uo(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},TTe=e=>{const{componentCls:t,motionDurationSlow:n,arrowSize:r,arrowOffset:i}=e,a=e.calc(r).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:r,height:r,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${n}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(r).sub(a).div(2).equal(),insetInlineStart:e.calc(r).sub(a).div(2).equal(),display:"inline-block",width:a,height:a,border:"0 solid currentcolor",borderInlineStartWidth:2,borderBlockStartWidth:2,borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:i,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:i,"&::after":{transform:"rotate(135deg)"}}}}},MTe=e=>{const{componentCls:t,dotOffset:n,dotWidth:r,dotHeight:i,dotGap:a,colorBgContainer:s,motionDurationSlow:o}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:n},"&-top":{top:n,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:r,height:i,marginInline:a,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${o}`,borderRadius:i,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:i,content:'""',background:s,borderRadius:i,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:i,padding:0,color:"transparent",fontSize:0,background:s,border:0,borderRadius:i,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${o}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(a).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${aB}) ease-out`}}}}}}},ATe=e=>{const{componentCls:t,dotOffset:n,arrowOffset:r,marginXXS:i}=e,a={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:r,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:r,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:n},"&-right":{insetInlineEnd:n,insetInlineStart:"auto"},li:Object.assign(Object.assign({},a),{margin:`${et(i)} 0`,verticalAlign:"baseline",button:a,"&::after":Object.assign(Object.assign({},a),{height:0}),"&.slick-active":Object.assign(Object.assign({},a),{button:a,"&::after":Object.assign(Object.assign({},a),{transition:`height var(${aB}) ease-out`})})})}}}},ITe=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},PTe=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24}),RTe=no("Carousel",e=>[OTe(e),TTe(e),MTe(e),ATe(e),ITe(e)],PTe,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]});var TQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $9="slick-dots",k9=e=>{var{currentSlide:t,slideCount:n}=e,r=TQ(e,["currentSlide","slideCount"]);return I.createElement("button",Object.assign({type:"button"},r))},$Te=I.forwardRef((e,t)=>{const{dots:n=!0,arrows:r=!1,prevArrow:i=I.createElement(k9,{"aria-label":"prev"}),nextArrow:a=I.createElement(k9,{"aria-label":"next"}),draggable:s=!1,waitForAnimate:o=!1,dotPosition:l="bottom",vertical:c=l==="left"||l==="right",rootClassName:u,className:d,style:h,id:g,autoplay:v=!1,autoplaySpeed:x=3e3}=e,w=TQ(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:C,direction:E,className:M,style:R}=eu("carousel"),L=I.useRef(null),N=function(oe){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;L.current.slickGoTo(oe,ce)};I.useImperativeHandle(t,()=>({goTo:N,autoPlay:L.current.innerSlider.autoPlay,innerSlider:L.current.innerSlider,prev:L.current.slickPrev,next:L.current.slickNext}),[L.current]);const D=I.useRef(I.Children.count(e.children));I.useEffect(()=>{D.current!==I.Children.count(e.children)&&(N(e.initialSlide||0,!1),D.current=I.Children.count(e.children))},[e.children]);const H=Object.assign({vertical:c,className:ut(d,M),style:Object.assign(Object.assign({},R),h),autoplay:!!v},w);H.effect==="fade"&&(H.fade=!0);const U=C("carousel",H.prefixCls),q=!!n,K=ut($9,`${$9}-${l}`,typeof n=="boolean"?!1:n?.className),[Q,X,te]=RTe(U),ee=ut(U,{[`${U}-rtl`]:E==="rtl",[`${U}-vertical`]:H.vertical},X,te,u),re=v&&(typeof v=="object"?v.dotDuration:!1)?{[aB]:`${x}ms`}:{};return Q(I.createElement("div",{className:ee,id:g,style:re},I.createElement(ETe,Object.assign({ref:L},H,{dots:q,dotsClass:K,arrows:r,prevArrow:i,nextArrow:a,draggable:s,verticalSwiping:c,autoplaySpeed:x,waitForAnimate:o}))))});function lh(e,t){return e[t]}var kTe=["children"];function MQ(e,t){return"".concat(e,"-").concat(t)}function LTe(e){return e&&e.type&&e.type.isTreeNode}function HO(e,t){return e??t}function GS(e){var t=e||{},n=t.title,r=t._title,i=t.key,a=t.children,s=n||"title";return{title:s,_title:r||[s],key:i||"key",children:a||"children"}}function AQ(e){function t(n){var r=Xu(n);return r.map(function(i){if(!LTe(i))return vl(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var a=i.key,s=i.props,o=s.children,l=zr(s,kTe),c=Pe({key:a},l),u=t(o);return u.length&&(c.children=u),c}).filter(function(i){return i})}return t(e)}function a3(e,t,n){var r=GS(n),i=r._title,a=r.key,s=r.children,o=new Set(t===!0?[]:t),l=[];function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map(function(h,g){for(var v=MQ(d?d.pos:"0",g),x=HO(h[a],v),w,C=0;C<i.length;C+=1){var E=i[C];if(h[E]!==void 0){w=h[E];break}}var M=Object.assign(rl(h,[].concat(_n(i),[a,s])),{title:w,key:x,parent:d,pos:v,children:null,data:h,isStart:[].concat(_n(d?d.isStart:[]),[g===0]),isEnd:[].concat(_n(d?d.isEnd:[]),[g===u.length-1])});return l.push(M),t===!0||o.has(x)?M.children=c(h[s]||[],M):M.children=[],M})}return c(e),l}function NTe(e,t,n){var r={};Rr(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,a=i.childrenPropName,s=i.externalGetKey,o=i.fieldNames,l=GS(o),c=l.key,u=l.children,d=a||u,h;s?typeof s=="string"?h=function(x){return x[s]}:typeof s=="function"&&(h=function(x){return s(x)}):h=function(x,w){return HO(x[c],w)};function g(v,x,w,C){var E=v?v[d]:e,M=v?MQ(w.pos,x):"0",R=v?[].concat(_n(C),[v]):[];if(v){var L=h(v,M),N={node:v,index:x,pos:M,key:L,parentPos:w.node?w.pos:null,level:w.level+1,nodes:R};t(N)}E&&E.forEach(function(D,H){g(D,H,{node:v,pos:M,level:w?w.level+1:-1},R)})}g(null)}function oB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,a=t.externalGetKey,s=t.childrenPropName,o=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=a||l,u={},d={},h={posEntities:u,keyEntities:d};return n&&(h=n(h)||h),NTe(e,function(g){var v=g.node,x=g.index,w=g.pos,C=g.key,E=g.parentPos,M=g.level,R=g.nodes,L={node:v,nodes:R,index:x,key:C,pos:w,level:M},N=HO(C,w);u[w]=L,d[N]=L,L.parent=u[E],L.parent&&(L.parent.children=L.parent.children||[],L.parent.children.push(L)),r&&r(L,h)},{externalGetKey:c,childrenPropName:s,fieldNames:o}),i&&i(h),h}function aE(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,a=t.loadingKeys,s=t.checkedKeys,o=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,u=t.keyEntities,d=lh(u,e),h={eventKey:e,expanded:n.indexOf(e)!==-1,selected:r.indexOf(e)!==-1,loaded:i.indexOf(e)!==-1,loading:a.indexOf(e)!==-1,checked:s.indexOf(e)!==-1,halfChecked:o.indexOf(e)!==-1,pos:String(d?d.pos:""),dragOver:l===e&&c===0,dragOverGapTop:l===e&&c===-1,dragOverGapBottom:l===e&&c===1};return h}function Ac(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,a=e.loaded,s=e.loading,o=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,h=e.active,g=e.eventKey,v=Pe(Pe({},t),{},{expanded:n,selected:r,checked:i,loaded:a,loading:s,halfChecked:o,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:h,key:g});return"props"in v||Object.defineProperty(v,"props",{get:function(){return vl(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),v}function IQ(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function DTe(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!!(n||r)||i===!1}function zTe(e,t,n,r){for(var i=new Set(e),a=new Set,s=0;s<=n;s+=1){var o=t.get(s)||new Set;o.forEach(function(d){var h=d.key,g=d.node,v=d.children,x=v===void 0?[]:v;i.has(h)&&!r(g)&&x.filter(function(w){return!r(w.node)}).forEach(function(w){i.add(w.key)})})}for(var l=new Set,c=n;c>=0;c-=1){var u=t.get(c)||new Set;u.forEach(function(d){var h=d.parent,g=d.node;if(!(r(g)||!d.parent||l.has(d.parent.key))){if(r(d.parent.node)){l.add(h.key);return}var v=!0,x=!1;(h.children||[]).filter(function(w){return!r(w.node)}).forEach(function(w){var C=w.key,E=i.has(C);v&&!E&&(v=!1),!x&&(E||a.has(C))&&(x=!0)}),v&&i.add(h.key),x&&a.add(h.key),l.add(h.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(IQ(a,i))}}function BTe(e,t,n,r,i){for(var a=new Set(e),s=new Set(t),o=0;o<=r;o+=1){var l=n.get(o)||new Set;l.forEach(function(h){var g=h.key,v=h.node,x=h.children,w=x===void 0?[]:x;!a.has(g)&&!s.has(g)&&!i(v)&&w.filter(function(C){return!i(C.node)}).forEach(function(C){a.delete(C.key)})})}s=new Set;for(var c=new Set,u=r;u>=0;u-=1){var d=n.get(u)||new Set;d.forEach(function(h){var g=h.parent,v=h.node;if(!(i(v)||!h.parent||c.has(h.parent.key))){if(i(h.parent.node)){c.add(g.key);return}var x=!0,w=!1;(g.children||[]).filter(function(C){return!i(C.node)}).forEach(function(C){var E=C.key,M=a.has(E);x&&!M&&(x=!1),!w&&(M||s.has(E))&&(w=!0)}),x||a.delete(g.key),w&&s.add(g.key),c.add(g.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(IQ(s,a))}}function hS(e,t,n,r){var i=[],a;r?a=r:a=DTe;var s=new Set(e.filter(function(u){var d=!!lh(n,u);return d||i.push(u),d})),o=new Map,l=0;Object.keys(n).forEach(function(u){var d=n[u],h=d.level,g=o.get(h);g||(g=new Set,o.set(h,g)),g.add(d),l=Math.max(l,h)}),vl(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(u){return"'".concat(u,"'")}).join(", ")));var c;return t===!0?c=zTe(s,o,l,a):c=BTe(s,t.halfCheckedKeys,o,l,a),c}const jTe=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},uo(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},uo(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},uo(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},Pm(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${et(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function PQ(e,t){const n=ga(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[jTe(n)]}const RQ=no("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[PQ(n,e)]}),$Q=it.createContext(null);var FTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const HTe=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:a,children:s,indeterminate:o=!1,style:l,onMouseEnter:c,onMouseLeave:u,skipGroup:d=!1,disabled:h}=e,g=FTe(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:v,direction:x,checkbox:w}=I.useContext(ii),C=I.useContext($Q),{isFormItemInput:E}=I.useContext(ux),M=I.useContext(r0),R=(n=C?.disabled||h)!==null&&n!==void 0?n:M,L=I.useRef(g.value),N=I.useRef(null),D=Ed(t,N);I.useEffect(()=>{C?.registerValue(g.value)},[]),I.useEffect(()=>{if(!d)return g.value!==L.current&&(C?.cancelValue(L.current),C?.registerValue(g.value),L.current=g.value),()=>C?.cancelValue(g.value)},[g.value]),I.useEffect(()=>{var oe;!((oe=N.current)===null||oe===void 0)&&oe.input&&(N.current.input.indeterminate=o)},[o]);const H=v("checkbox",r),U=vh(H),[q,K,Q]=RQ(H,U),X=Object.assign({},g);C&&!d&&(X.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),C.toggleOption&&C.toggleOption({label:s,value:g.value})},X.name=C.name,X.checked=C.value.includes(g.value));const te=ut(`${H}-wrapper`,{[`${H}-rtl`]:x==="rtl",[`${H}-wrapper-checked`]:X.checked,[`${H}-wrapper-disabled`]:R,[`${H}-wrapper-in-form-item`]:E},w?.className,i,a,Q,U,K),ee=ut({[`${H}-indeterminate`]:o},vR,K),[Z,re]=cQ(X.onClick);return q(I.createElement(LO,{component:"Checkbox",disabled:R},I.createElement("label",{className:te,style:Object.assign(Object.assign({},w?.style),l),onMouseEnter:c,onMouseLeave:u,onClick:Z},I.createElement(lQ,Object.assign({},X,{onClick:re,prefixCls:H,className:ee,disabled:R,ref:D})),s!==void 0&&I.createElement("span",{className:`${H}-label`},s))))},kQ=I.forwardRef(HTe);var VTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UTe=I.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:a,className:s,rootClassName:o,style:l,onChange:c}=e,u=VTe(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:h}=I.useContext(ii),[g,v]=I.useState(u.value||n||[]),[x,w]=I.useState([]);I.useEffect(()=>{"value"in u&&v(u.value||[])},[u.value]);const C=I.useMemo(()=>i.map(ee=>typeof ee=="string"||typeof ee=="number"?{label:ee,value:ee}:ee),[i]),E=ee=>{w(Z=>Z.filter(re=>re!==ee))},M=ee=>{w(Z=>[].concat(_n(Z),[ee]))},R=ee=>{const Z=g.indexOf(ee.value),re=_n(g);Z===-1?re.push(ee.value):re.splice(Z,1),"value"in u||v(re),c?.(re.filter(oe=>x.includes(oe)).sort((oe,ce)=>{const le=C.findIndex(ye=>ye.value===oe),pe=C.findIndex(ye=>ye.value===ce);return le-pe}))},L=d("checkbox",a),N=`${L}-group`,D=vh(L),[H,U,q]=RQ(L,D),K=rl(u,["value","disabled"]),Q=i.length?C.map(ee=>I.createElement(kQ,{prefixCls:L,key:ee.value.toString(),disabled:"disabled"in ee?ee.disabled:u.disabled,value:ee.value,checked:g.includes(ee.value),onChange:ee.onChange,className:`${N}-item`,style:ee.style,title:ee.title,id:ee.id,required:ee.required},ee.label)):r,X={toggleOption:R,value:g,disabled:u.disabled,name:u.name,registerValue:M,cancelValue:E},te=ut(N,{[`${N}-rtl`]:h==="rtl"},s,o,q,D,U);return H(I.createElement("div",Object.assign({className:te,style:l},K,{ref:t}),I.createElement($Q.Provider,{value:X},Q)))}),ng=kQ;ng.Group=UTe;ng.__ANT_CHECKBOX=!0;const LQ=I.createContext({});var GTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function L9(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const WTe=["xs","sm","md","lg","xl","xxl"],qTe=I.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=I.useContext(ii),{gutter:i,wrap:a}=I.useContext(LQ),{prefixCls:s,span:o,order:l,offset:c,push:u,pull:d,className:h,children:g,flex:v,style:x}=e,w=GTe(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=n("col",s),[E,M,R]=Zxe(C),L={};let N={};WTe.forEach(U=>{let q={};const K=e[U];typeof K=="number"?q.span=K:typeof K=="object"&&(q=K||{}),delete w[U],N=Object.assign(Object.assign({},N),{[`${C}-${U}-${q.span}`]:q.span!==void 0,[`${C}-${U}-order-${q.order}`]:q.order||q.order===0,[`${C}-${U}-offset-${q.offset}`]:q.offset||q.offset===0,[`${C}-${U}-push-${q.push}`]:q.push||q.push===0,[`${C}-${U}-pull-${q.pull}`]:q.pull||q.pull===0,[`${C}-rtl`]:r==="rtl"}),q.flex&&(N[`${C}-${U}-flex`]=!0,L[`--${C}-${U}-flex`]=L9(q.flex))});const D=ut(C,{[`${C}-${o}`]:o!==void 0,[`${C}-order-${l}`]:l,[`${C}-offset-${c}`]:c,[`${C}-push-${u}`]:u,[`${C}-pull-${d}`]:d},h,N,M,R),H={};if(i&&i[0]>0){const U=i[0]/2;H.paddingLeft=U,H.paddingRight=U}return v&&(H.flex=L9(v),a===!1&&!H.minWidth&&(H.minWidth=0)),E(I.createElement("div",Object.assign({},w,{style:Object.assign(Object.assign(Object.assign({},H),x),L),className:D,ref:t}),g))});function KTe(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],i=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((a,s)=>{if(typeof a=="object"&&a!==null)for(let o=0;o<VS.length;o++){const l=VS[o];if(i[l]&&a[l]!==void 0){n[s]=a[l];break}}else n[s]=a}),n}var YTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function N9(e,t){const[n,r]=I.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let a=0;a<VS.length;a++){const s=VS[a];if(!t||!t[s])continue;const o=e[s];if(o!==void 0){r(o);return}}};return I.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const ID=I.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:a,style:s,children:o,gutter:l=0,wrap:c}=e,u=YTe(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:h}=I.useContext(ii),g=RR(!0,null),v=N9(i,g),x=N9(r,g),w=d("row",n),[C,E,M]=Yxe(w),R=KTe(l,g),L=ut(w,{[`${w}-no-wrap`]:c===!1,[`${w}-${x}`]:x,[`${w}-${v}`]:v,[`${w}-rtl`]:h==="rtl"},a,E,M),N={},D=R[0]!=null&&R[0]>0?R[0]/-2:void 0;D&&(N.marginLeft=D,N.marginRight=D);const[H,U]=R;N.rowGap=U;const q=I.useMemo(()=>({gutter:[H,U],wrap:c}),[H,U,c]);return C(I.createElement(LQ.Provider,{value:q},I.createElement("div",Object.assign({},u,{className:L,style:Object.assign(Object.assign({},N),s),ref:t}),o)))}),XTe=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:a,orientationMargin:s,verticalMarginInline:o}=e;return{[t]:Object.assign(Object.assign({},uo(e)),{borderBlockStart:`${et(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:o,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${et(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${et(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${et(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${et(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${et(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${et(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},ZTe=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),QTe=no("Divider",e=>{const t=ga(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[XTe(t)]},ZTe,{unitless:{orientationMargin:!0}});var JTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const o3=e=>{const{getPrefixCls:t,direction:n,className:r,style:i}=eu("divider"),{prefixCls:a,type:s="horizontal",orientation:o="center",orientationMargin:l,className:c,rootClassName:u,children:d,dashed:h,variant:g="solid",plain:v,style:x}=e,w=JTe(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),C=t("divider",a),[E,M,R]=QTe(C),L=!!d,N=I.useMemo(()=>o==="left"?n==="rtl"?"end":"start":o==="right"?n==="rtl"?"start":"end":o,[n,o]),D=N==="start"&&l!=null,H=N==="end"&&l!=null,U=ut(C,r,M,R,`${C}-${s}`,{[`${C}-with-text`]:L,[`${C}-with-text-${N}`]:L,[`${C}-dashed`]:!!h,[`${C}-${g}`]:g!=="solid",[`${C}-plain`]:!!v,[`${C}-rtl`]:n==="rtl",[`${C}-no-default-orientation-margin-start`]:D,[`${C}-no-default-orientation-margin-end`]:H},c,u),q=I.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),K={marginInlineStart:D?q:void 0,marginInlineEnd:H?q:void 0};return E(I.createElement("div",Object.assign({className:U,style:Object.assign(Object.assign({},i),x)},w,{role:"separator"}),d&&s!=="vertical"&&I.createElement("span",{className:`${C}-inner-text`,style:K},d)))};var D9=function(t,n){if(!t)return null;var r={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return n?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},wv=function(t){return t!==void 0?"".concat(t,"px"):void 0};function eMe(e){var t=e.prefixCls,n=e.containerRef,r=e.value,i=e.getValueIndex,a=e.motionName,s=e.onMotionStart,o=e.onMotionEnd,l=e.direction,c=e.vertical,u=c===void 0?!1:c,d=I.useRef(null),h=I.useState(r),g=mt(h,2),v=g[0],x=g[1],w=function(ee){var Z,re=i(ee),oe=(Z=n.current)===null||Z===void 0?void 0:Z.querySelectorAll(".".concat(t,"-item"))[re];return oe?.offsetParent&&oe},C=I.useState(null),E=mt(C,2),M=E[0],R=E[1],L=I.useState(null),N=mt(L,2),D=N[0],H=N[1];Sa(function(){if(v!==r){var te=w(v),ee=w(r),Z=D9(te,u),re=D9(ee,u);x(r),R(Z),H(re),te&&ee?s():o()}},[r]);var U=I.useMemo(function(){if(u){var te;return wv((te=M?.top)!==null&&te!==void 0?te:0)}return wv(l==="rtl"?-M?.right:M?.left)},[u,l,M]),q=I.useMemo(function(){if(u){var te;return wv((te=D?.top)!==null&&te!==void 0?te:0)}return wv(l==="rtl"?-D?.right:D?.left)},[u,l,D]),K=function(){return u?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Q=function(){return u?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},X=function(){R(null),H(null),o()};return!M||!D?null:I.createElement(wg,{visible:!0,motionName:a,motionAppear:!0,onAppearStart:K,onAppearActive:Q,onVisibleChanged:X},function(te,ee){var Z=te.className,re=te.style,oe=Pe(Pe({},re),{},{"--thumb-start-left":U,"--thumb-start-width":wv(M?.width),"--thumb-active-left":q,"--thumb-active-width":wv(D?.width),"--thumb-start-top":U,"--thumb-start-height":wv(M?.height),"--thumb-active-top":q,"--thumb-active-height":wv(D?.height)}),ce={ref:Ed(d,ee),style:oe,className:ut("".concat(t,"-thumb"),Z)};return I.createElement("div",ce)})}var tMe=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function nMe(e){if(typeof e.title<"u")return e.title;if(Rr(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function rMe(e){return e.map(function(t){if(Rr(t)==="object"&&t!==null){var n=nMe(t);return Pe(Pe({},t),{},{title:n})}return{label:t?.toString(),title:t?.toString(),value:t}})}var iMe=function(t){var n=t.prefixCls,r=t.className,i=t.disabled,a=t.checked,s=t.label,o=t.title,l=t.value,c=t.name,u=t.onChange,d=t.onFocus,h=t.onBlur,g=t.onKeyDown,v=t.onKeyUp,x=t.onMouseDown,w=function(E){i||u(E,l)};return I.createElement("label",{className:ut(r,Te({},"".concat(n,"-item-disabled"),i)),onMouseDown:x},I.createElement("input",{name:c,className:"".concat(n,"-item-input"),type:"radio",disabled:i,checked:a,onChange:w,onFocus:d,onBlur:h,onKeyDown:g,onKeyUp:v}),I.createElement("div",{className:"".concat(n,"-item-label"),title:o,"aria-selected":a},s))},aMe=I.forwardRef(function(e,t){var n,r,i=e.prefixCls,a=i===void 0?"rc-segmented":i,s=e.direction,o=e.vertical,l=e.options,c=l===void 0?[]:l,u=e.disabled,d=e.defaultValue,h=e.value,g=e.name,v=e.onChange,x=e.className,w=x===void 0?"":x,C=e.motionName,E=C===void 0?"thumb-motion":C,M=zr(e,tMe),R=I.useRef(null),L=I.useMemo(function(){return Ed(R,t)},[R,t]),N=I.useMemo(function(){return rMe(c)},[c]),D=Us((n=N[0])===null||n===void 0?void 0:n.value,{value:h,defaultValue:d}),H=mt(D,2),U=H[0],q=H[1],K=I.useState(!1),Q=mt(K,2),X=Q[0],te=Q[1],ee=function(Ne,qe){q(qe),v?.(qe)},Z=rl(M,["children"]),re=I.useState(!1),oe=mt(re,2),ce=oe[0],le=oe[1],pe=I.useState(!1),ye=mt(pe,2),_e=ye[0],Se=ye[1],Re=function(){Se(!0)},je=function(){Se(!1)},Fe=function(){le(!1)},ze=function(Ne){Ne.key==="Tab"&&le(!0)},Ze=function(Ne){var qe=N.findIndex(function(ft){return ft.value===U}),We=N.length,rt=(qe+Ne+We)%We,ht=N[rt];ht&&(q(ht.value),v?.(ht.value))},st=function(Ne){switch(Ne.key){case"ArrowLeft":case"ArrowUp":Ze(-1);break;case"ArrowRight":case"ArrowDown":Ze(1);break}};return I.createElement("div",In({role:"radiogroup","aria-label":"segmented control",tabIndex:u?void 0:0},Z,{className:ut(a,(r={},Te(r,"".concat(a,"-rtl"),s==="rtl"),Te(r,"".concat(a,"-disabled"),u),Te(r,"".concat(a,"-vertical"),o),r),w),ref:L}),I.createElement("div",{className:"".concat(a,"-group")},I.createElement(eMe,{vertical:o,prefixCls:a,value:U,containerRef:R,motionName:"".concat(a,"-").concat(E),direction:s,getValueIndex:function(Ne){return N.findIndex(function(qe){return qe.value===Ne})},onMotionStart:function(){te(!0)},onMotionEnd:function(){te(!1)}}),N.map(function(Ue){var Ne;return I.createElement(iMe,In({},Ue,{name:g,key:Ue.value,prefixCls:a,className:ut(Ue.className,"".concat(a,"-item"),(Ne={},Te(Ne,"".concat(a,"-item-selected"),Ue.value===U&&!X),Te(Ne,"".concat(a,"-item-focused"),_e&&ce&&Ue.value===U),Ne)),checked:Ue.value===U,onChange:ee,onFocus:Re,onBlur:je,onKeyDown:st,onKeyUp:ze,onMouseDown:Fe,disabled:!!u||!!Ue.disabled}))})))}),oMe=aMe;function z9(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function B9(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const sMe=Object.assign({overflow:"hidden"},i0),lMe=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),i=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),a0(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${et(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},B9(e)),{color:e.itemSelectedColor}),"&-focused":Object.assign({},Pm(e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:et(n),padding:`0 ${et(e.segmentedPaddingHorizontal)}`},sMe),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},B9(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${et(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:r,lineHeight:et(r),padding:`0 ${et(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:i,lineHeight:et(i),padding:`0 ${et(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),z9(`&-disabled ${t}-item`,e)),z9(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},cMe=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:r,colorBgElevated:i,colorFill:a,lineWidthBold:s,colorBgLayout:o}=e;return{trackPadding:s,trackBg:o,itemColor:t,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:i,itemActiveBg:a,itemSelectedColor:n}},uMe=no("Segmented",e=>{const{lineWidth:t,calc:n}=e,r=ga(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[lMe(r)]},cMe);var j9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function fMe(e){return typeof e=="object"&&!!e?.icon}const dMe=I.forwardRef((e,t)=>{const n=ER(),{prefixCls:r,className:i,rootClassName:a,block:s,options:o=[],size:l="middle",style:c,vertical:u,shape:d="default",name:h=n}=e,g=j9(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:v,direction:x,className:w,style:C}=eu("segmented"),E=v("segmented",r),[M,R,L]=uMe(E),N=mp(l),D=I.useMemo(()=>o.map(q=>{if(fMe(q)){const{icon:K,label:Q}=q,X=j9(q,["icon","label"]);return Object.assign(Object.assign({},X),{label:I.createElement(I.Fragment,null,I.createElement("span",{className:`${E}-item-icon`},K),Q&&I.createElement("span",null,Q))})}return q}),[o,E]),H=ut(i,a,w,{[`${E}-block`]:s,[`${E}-sm`]:N==="small",[`${E}-lg`]:N==="large",[`${E}-vertical`]:u,[`${E}-shape-${d}`]:d==="round"},R,L),U=Object.assign(Object.assign({},C),c);return M(I.createElement(oMe,Object.assign({},g,{name:h,className:H,style:U,options:D,ref:t,prefixCls:E,direction:x,vertical:u})))}),NQ=dMe;var hMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},pMe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:hMe}))},gMe=I.forwardRef(pMe);function mMe(e){return!!(e.addonBefore||e.addonAfter)}function vMe(e){return!!(e.prefix||e.suffix||e.allowClear)}function F9(e,t,n){var r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},i}function nI(e,t,n,r){if(n){var i=t;if(t.type==="click"){i=F9(t,e,""),n(i);return}if(e.type!=="file"&&r!==void 0){i=F9(t,e,r),n(i);return}n(i)}}function DQ(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var i=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}var zQ=it.forwardRef(function(e,t){var n,r,i,a=e.inputElement,s=e.children,o=e.prefixCls,l=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,h=e.className,g=e.style,v=e.disabled,x=e.readOnly,w=e.focused,C=e.triggerFocus,E=e.allowClear,M=e.value,R=e.handleReset,L=e.hidden,N=e.classes,D=e.classNames,H=e.dataAttrs,U=e.styles,q=e.components,K=e.onClear,Q=s??a,X=q?.affixWrapper||"span",te=q?.groupWrapper||"span",ee=q?.wrapper||"span",Z=q?.groupAddon||"span",re=I.useRef(null),oe=function(rt){var ht;(ht=re.current)!==null&&ht!==void 0&&ht.contains(rt.target)&&C?.()},ce=vMe(e),le=I.cloneElement(Q,{value:M,className:ut((n=Q.props)===null||n===void 0?void 0:n.className,!ce&&D?.variant)||null}),pe=I.useRef(null);if(it.useImperativeHandle(t,function(){return{nativeElement:pe.current||re.current}}),ce){var ye=null;if(E){var _e=!v&&!x&&M,Se="".concat(o,"-clear-icon"),Re=Rr(E)==="object"&&E!==null&&E!==void 0&&E.clearIcon?E.clearIcon:"";ye=it.createElement("button",{type:"button",tabIndex:-1,onClick:function(rt){R?.(rt),K?.()},onMouseDown:function(rt){return rt.preventDefault()},className:ut(Se,Te(Te({},"".concat(Se,"-hidden"),!_e),"".concat(Se,"-has-suffix"),!!c))},Re)}var je="".concat(o,"-affix-wrapper"),Fe=ut(je,Te(Te(Te(Te(Te({},"".concat(o,"-disabled"),v),"".concat(je,"-disabled"),v),"".concat(je,"-focused"),w),"".concat(je,"-readonly"),x),"".concat(je,"-input-with-clear-btn"),c&&E&&M),N?.affixWrapper,D?.affixWrapper,D?.variant),ze=(c||E)&&it.createElement("span",{className:ut("".concat(o,"-suffix"),D?.suffix),style:U?.suffix},ye,c);le=it.createElement(X,In({className:Fe,style:U?.affixWrapper,onClick:oe},H?.affixWrapper,{ref:re}),l&&it.createElement("span",{className:ut("".concat(o,"-prefix"),D?.prefix),style:U?.prefix},l),le,ze)}if(mMe(e)){var Ze="".concat(o,"-group"),st="".concat(Ze,"-addon"),Ue="".concat(Ze,"-wrapper"),Ne=ut("".concat(o,"-wrapper"),Ze,N?.wrapper,D?.wrapper),qe=ut(Ue,Te({},"".concat(Ue,"-disabled"),v),N?.group,D?.groupWrapper);le=it.createElement(te,{className:qe,ref:pe},it.createElement(ee,{className:Ne},u&&it.createElement(Z,{className:st},u),le,d&&it.createElement(Z,{className:st},d)))}return it.cloneElement(le,{className:ut((r=le.props)===null||r===void 0?void 0:r.className,h)||null,style:Pe(Pe({},(i=le.props)===null||i===void 0?void 0:i.style),g),hidden:L})}),yMe=["show"];function BQ(e,t){return I.useMemo(function(){var n={};t&&(n.show=Rr(t)==="object"&&t.formatter?t.formatter:!!t),n=Pe(Pe({},n),e);var r=n,i=r.show,a=zr(r,yMe);return Pe(Pe({},a),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:a.strategy||function(s){return s.length}})},[e,t])}var bMe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],_Me=I.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,a=e.onBlur,s=e.onPressEnter,o=e.onKeyDown,l=e.onKeyUp,c=e.prefixCls,u=c===void 0?"rc-input":c,d=e.disabled,h=e.htmlSize,g=e.className,v=e.maxLength,x=e.suffix,w=e.showCount,C=e.count,E=e.type,M=E===void 0?"text":E,R=e.classes,L=e.classNames,N=e.styles,D=e.onCompositionStart,H=e.onCompositionEnd,U=zr(e,bMe),q=I.useState(!1),K=mt(q,2),Q=K[0],X=K[1],te=I.useRef(!1),ee=I.useRef(!1),Z=I.useRef(null),re=I.useRef(null),oe=function(Kt){Z.current&&DQ(Z.current,Kt)},ce=Us(e.defaultValue,{value:e.value}),le=mt(ce,2),pe=le[0],ye=le[1],_e=pe==null?"":String(pe),Se=I.useState(null),Re=mt(Se,2),je=Re[0],Fe=Re[1],ze=BQ(C,w),Ze=ze.max||v,st=ze.strategy(_e),Ue=!!Ze&&st>Ze;I.useImperativeHandle(t,function(){var Lt;return{focus:oe,blur:function(){var hn;(hn=Z.current)===null||hn===void 0||hn.blur()},setSelectionRange:function(hn,dn,Cn){var kn;(kn=Z.current)===null||kn===void 0||kn.setSelectionRange(hn,dn,Cn)},select:function(){var hn;(hn=Z.current)===null||hn===void 0||hn.select()},input:Z.current,nativeElement:((Lt=re.current)===null||Lt===void 0?void 0:Lt.nativeElement)||Z.current}}),I.useEffect(function(){ee.current&&(ee.current=!1),X(function(Lt){return Lt&&d?!1:Lt})},[d]);var Ne=function(Kt,hn,dn){var Cn=hn;if(!te.current&&ze.exceedFormatter&&ze.max&&ze.strategy(hn)>ze.max){if(Cn=ze.exceedFormatter(hn,{max:ze.max}),hn!==Cn){var kn,sn;Fe([((kn=Z.current)===null||kn===void 0?void 0:kn.selectionStart)||0,((sn=Z.current)===null||sn===void 0?void 0:sn.selectionEnd)||0])}}else if(dn.source==="compositionEnd")return;ye(Cn),Z.current&&nI(Z.current,Kt,r,Cn)};I.useEffect(function(){if(je){var Lt;(Lt=Z.current)===null||Lt===void 0||Lt.setSelectionRange.apply(Lt,_n(je))}},[je]);var qe=function(Kt){Ne(Kt,Kt.target.value,{source:"change"})},We=function(Kt){te.current=!1,Ne(Kt,Kt.currentTarget.value,{source:"compositionEnd"}),H?.(Kt)},rt=function(Kt){s&&Kt.key==="Enter"&&!ee.current&&(ee.current=!0,s(Kt)),o?.(Kt)},ht=function(Kt){Kt.key==="Enter"&&(ee.current=!1),l?.(Kt)},ft=function(Kt){X(!0),i?.(Kt)},Rt=function(Kt){ee.current&&(ee.current=!1),X(!1),a?.(Kt)},Yt=function(Kt){ye(""),oe(),Z.current&&nI(Z.current,Kt,r)},Jt=Ue&&"".concat(u,"-out-of-range"),xt=function(){var Kt=rl(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return it.createElement("input",In({autoComplete:n},Kt,{onChange:qe,onFocus:ft,onBlur:Rt,onKeyDown:rt,onKeyUp:ht,className:ut(u,Te({},"".concat(u,"-disabled"),d),L?.input),style:N?.input,ref:Z,size:h,type:M,onCompositionStart:function(dn){te.current=!0,D?.(dn)},onCompositionEnd:We}))},Ft=function(){var Kt=Number(Ze)>0;if(x||ze.show){var hn=ze.showFormatter?ze.showFormatter({value:_e,count:st,maxLength:Ze}):"".concat(st).concat(Kt?" / ".concat(Ze):"");return it.createElement(it.Fragment,null,ze.show&&it.createElement("span",{className:ut("".concat(u,"-show-count-suffix"),Te({},"".concat(u,"-show-count-has-suffix"),!!x),L?.count),style:Pe({},N?.count)},hn),x)}return null};return it.createElement(zQ,In({},U,{prefixCls:u,className:ut(g,Jt),handleReset:Yt,value:_e,focused:Q,triggerFocus:oe,suffix:Ft(),disabled:d,classes:R,classNames:L,styles:N}),xt())});const jQ=e=>{let t;return typeof e=="object"&&e?.clearIcon?t=e:e&&(t={clearIcon:it.createElement(NX,null)}),t};function xMe(e,t){const n=I.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,a,s,o;!((i=e.current)===null||i===void 0)&&i.input&&((a=e.current)===null||a===void 0?void 0:a.input.getAttribute("type"))==="password"&&(!((s=e.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((o=e.current)===null||o===void 0||o.input.removeAttribute("value"))}))};return I.useEffect(()=>(r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function wMe(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var SMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CMe=I.forwardRef((e,t)=>{const{prefixCls:n,bordered:r=!0,status:i,size:a,disabled:s,onBlur:o,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:h,className:g,style:v,styles:x,rootClassName:w,onChange:C,classNames:E,variant:M}=e,R=SMe(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:L,direction:N,allowClear:D,autoComplete:H,className:U,style:q,classNames:K,styles:Q}=eu("input"),X=L("input",n),te=I.useRef(null),ee=vh(X),[Z,re,oe]=pQ(X,w),[ce]=UEe(X,ee),{compactSize:le,compactItemClassnames:pe}=NO(X,N),ye=mp(Rt=>{var Yt;return(Yt=a??le)!==null&&Yt!==void 0?Yt:Rt}),_e=it.useContext(r0),Se=s??_e,{status:Re,hasFeedback:je,feedbackIcon:Fe}=I.useContext(ux),ze=jz(Re,i),Ze=wMe(e)||!!je;I.useRef(Ze);const st=xMe(te),Ue=Rt=>{st(),o?.(Rt)},Ne=Rt=>{st(),l?.(Rt)},qe=Rt=>{st(),C?.(Rt)},We=(je||c)&&it.createElement(it.Fragment,null,c,je&&Fe),rt=jQ(u??D),[ht,ft]=PR("input",M,r);return Z(ce(it.createElement(_Me,Object.assign({ref:Ed(t,te),prefixCls:X,autoComplete:H},R,{disabled:Se,onBlur:Ue,onFocus:Ne,style:Object.assign(Object.assign({},q),v),styles:Object.assign(Object.assign({},Q),x),suffix:We,allowClear:rt,className:ut(g,w,oe,ee,pe,U),onChange:qe,addonBefore:h&&it.createElement(KA,{form:!0,space:!0},h),addonAfter:d&&it.createElement(KA,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},E),K),{input:ut({[`${X}-sm`]:ye==="small",[`${X}-lg`]:ye==="large",[`${X}-rtl`]:N==="rtl"},E?.input,K.input,re),variant:ut({[`${X}-${ht}`]:ft},XA(X,ze)),affixWrapper:ut({[`${X}-affix-wrapper-sm`]:ye==="small",[`${X}-affix-wrapper-lg`]:ye==="large",[`${X}-affix-wrapper-rtl`]:N==="rtl"},re),wrapper:ut({[`${X}-group-rtl`]:N==="rtl"},re),groupWrapper:ut({[`${X}-group-wrapper-sm`]:ye==="small",[`${X}-group-wrapper-lg`]:ye==="large",[`${X}-group-wrapper-rtl`]:N==="rtl",[`${X}-group-wrapper-${ht}`]:ft},XA(`${X}-group-wrapper`,ze,je),re)})}))))}),EMe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},sB=it.createContext({});var OMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const TMe=e=>Xu(e).map(t=>Object.assign(Object.assign({},t?.props),{key:t.key}));function MMe(e,t,n){const r=I.useMemo(()=>t||TMe(n),[t,n]);return I.useMemo(()=>r.map(a=>{var{span:s}=a,o=OMe(a,["span"]);return s==="filled"?Object.assign(Object.assign({},o),{filled:!0}):Object.assign(Object.assign({},o),{span:typeof s=="number"?s:MZ(e,s)})}),[r,e])}var AMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function IMe(e,t){let n=[],r=[],i=!1,a=0;return e.filter(s=>s).forEach(s=>{const{filled:o}=s,l=AMe(s,["filled"]);if(o){r.push(l),n.push(r),r=[],a=0;return}const c=t-a;a+=s.span||1,a>=t?(a>t?(i=!0,r.push(Object.assign(Object.assign({},l),{span:c}))):r.push(l),n.push(r),r=[],a=0):r.push(l)}),r.length>0&&n.push(r),n=n.map(s=>{const o=s.reduce((l,c)=>l+(c.span||1),0);if(o<t){const l=s[s.length-1];return l.span=t-(o-(l.span||1)),s}return s}),[n,i]}const PMe=(e,t)=>{const[n,r]=I.useMemo(()=>IMe(t,e),[t,e]);return n},RMe=e=>{let{children:t}=e;return t};function H9(e){return e!=null}const s3=e=>{const{itemPrefixCls:t,component:n,span:r,className:i,style:a,labelStyle:s,contentStyle:o,bordered:l,label:c,content:u,colon:d,type:h,styles:g}=e,v=n,x=I.useContext(sB),{classNames:w}=x;return l?I.createElement(v,{className:ut({[`${t}-item-label`]:h==="label",[`${t}-item-content`]:h==="content",[`${w?.label}`]:h==="label",[`${w?.content}`]:h==="content"},i),style:a,colSpan:r},H9(c)&&I.createElement("span",{style:Object.assign(Object.assign({},s),g?.label)},c),H9(u)&&I.createElement("span",{style:Object.assign(Object.assign({},s),g?.content)},u)):I.createElement(v,{className:ut(`${t}-item`,i),style:a,colSpan:r},I.createElement("div",{className:`${t}-item-container`},(c||c===0)&&I.createElement("span",{className:ut(`${t}-item-label`,w?.label,{[`${t}-item-no-colon`]:!d}),style:Object.assign(Object.assign({},s),g?.label)},c),(u||u===0)&&I.createElement("span",{className:ut(`${t}-item-content`,w?.content),style:Object.assign(Object.assign({},o),g?.content)},u)))};function l3(e,t,n){let{colon:r,prefixCls:i,bordered:a}=t,{component:s,type:o,showLabel:l,showContent:c,labelStyle:u,contentStyle:d,styles:h}=n;return e.map((g,v)=>{let{label:x,children:w,prefixCls:C=i,className:E,style:M,labelStyle:R,contentStyle:L,span:N=1,key:D,styles:H}=g;return typeof s=="string"?I.createElement(s3,{key:`${o}-${D||v}`,className:E,style:M,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},u),h?.label),R),H?.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},d),h?.content),L),H?.content)},span:N,colon:r,component:s,itemPrefixCls:C,bordered:a,label:l?x:null,content:c?w:null,type:o}):[I.createElement(s3,{key:`label-${D||v}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u),h?.label),M),R),H?.label),span:1,colon:r,component:s[0],itemPrefixCls:C,bordered:a,label:x,type:"label"}),I.createElement(s3,{key:`content-${D||v}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),h?.content),M),L),H?.content),span:N*2-1,component:s[1],itemPrefixCls:C,bordered:a,content:w,type:"content"})]})}const $Me=e=>{const t=I.useContext(sB),{prefixCls:n,vertical:r,row:i,index:a,bordered:s}=e;return r?I.createElement(I.Fragment,null,I.createElement("tr",{key:`label-${a}`,className:`${n}-row`},l3(i,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),I.createElement("tr",{key:`content-${a}`,className:`${n}-row`},l3(i,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):I.createElement("tr",{key:a,className:`${n}-row`},l3(i,e,Object.assign({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},kMe=e=>{const{componentCls:t,labelBg:n}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${et(e.padding)} ${et(e.paddingLG)}`,borderInlineEnd:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${et(e.paddingSM)} ${et(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${et(e.paddingXS)} ${et(e.padding)}`}}}}}},LMe=e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:r,itemPaddingEnd:i,colonMarginRight:a,colonMarginLeft:s,titleMarginBottom:o}=e;return{[t]:Object.assign(Object.assign(Object.assign({},uo(e)),kMe(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:o},[`${t}-title`]:Object.assign(Object.assign({},i0),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:r,paddingInlineEnd:i},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${et(s)} ${et(a)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},NMe=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),DMe=no("Descriptions",e=>{const t=ga(e,{});return LMe(t)},NMe);var zMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jw=e=>{const{prefixCls:t,title:n,extra:r,column:i,colon:a=!0,bordered:s,layout:o,children:l,className:c,rootClassName:u,style:d,size:h,labelStyle:g,contentStyle:v,styles:x,items:w,classNames:C}=e,E=zMe(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:M,direction:R,className:L,style:N,classNames:D,styles:H}=eu("descriptions"),U=M("descriptions",t),q=RR(),K=I.useMemo(()=>{var ce;return typeof i=="number"?i:(ce=MZ(q,Object.assign(Object.assign({},EMe),i)))!==null&&ce!==void 0?ce:3},[q,i]),Q=MMe(q,w,l),X=mp(h),te=PMe(K,Q),[ee,Z,re]=DMe(U),oe=I.useMemo(()=>({labelStyle:g,contentStyle:v,styles:{content:Object.assign(Object.assign({},H.content),x?.content),label:Object.assign(Object.assign({},H.label),x?.label)},classNames:{label:ut(D.label,C?.label),content:ut(D.content,C?.content)}}),[g,v,x,C,D,H]);return ee(I.createElement(sB.Provider,{value:oe},I.createElement("div",Object.assign({className:ut(U,L,D.root,C?.root,{[`${U}-${X}`]:X&&X!=="default",[`${U}-bordered`]:!!s,[`${U}-rtl`]:R==="rtl"},c,u,Z,re),style:Object.assign(Object.assign(Object.assign(Object.assign({},N),H.root),x?.root),d)},E),(n||r)&&I.createElement("div",{className:ut(`${U}-header`,D.header,C?.header),style:Object.assign(Object.assign({},H.header),x?.header)},n&&I.createElement("div",{className:ut(`${U}-title`,D.title,C?.title),style:Object.assign(Object.assign({},H.title),x?.title)},n),r&&I.createElement("div",{className:ut(`${U}-extra`,D.extra,C?.extra),style:Object.assign(Object.assign({},H.extra),x?.extra)},r)),I.createElement("div",{className:`${U}-view`},I.createElement("table",null,I.createElement("tbody",null,te.map((ce,le)=>I.createElement($Me,{key:le,index:le,colon:a,prefixCls:U,vertical:o==="vertical",bordered:s,row:ce}))))))))};jw.Item=RMe;function V9(e){return["small","middle","large"].includes(e)}function U9(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const FQ=it.createContext({latestIndex:0}),BMe=FQ.Provider,jMe=e=>{let{className:t,index:n,children:r,split:i,style:a}=e;const{latestIndex:s}=I.useContext(FQ);return r==null?null:I.createElement(I.Fragment,null,I.createElement("div",{className:t,style:a},r),n<s&&i&&I.createElement("span",{className:`${t}-split`},i))};var FMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const HMe=I.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,size:a,className:s,style:o,classNames:l,styles:c}=eu("space"),{size:u=a??"small",align:d,className:h,rootClassName:g,children:v,direction:x="horizontal",prefixCls:w,split:C,style:E,wrap:M=!1,classNames:R,styles:L}=e,N=FMe(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[D,H]=Array.isArray(u)?u:[u,u],U=V9(H),q=V9(D),K=U9(H),Q=U9(D),X=Xu(v,{keepEmpty:!0}),te=d===void 0&&x==="horizontal"?"center":d,ee=r("space",w),[Z,re,oe]=VX(ee),ce=ut(ee,s,re,`${ee}-${x}`,{[`${ee}-rtl`]:i==="rtl",[`${ee}-align-${te}`]:te,[`${ee}-gap-row-${H}`]:U,[`${ee}-gap-col-${D}`]:q},h,g,oe),le=ut(`${ee}-item`,(n=R?.item)!==null&&n!==void 0?n:l.item);let pe=0;const ye=X.map((Re,je)=>{var Fe;Re!=null&&(pe=je);const ze=Re?.key||`${le}-${je}`;return I.createElement(jMe,{className:le,key:ze,index:je,split:C,style:(Fe=L?.item)!==null&&Fe!==void 0?Fe:c.item},Re)}),_e=I.useMemo(()=>({latestIndex:pe}),[pe]);if(X.length===0)return null;const Se={};return M&&(Se.flexWrap="wrap"),!q&&Q&&(Se.columnGap=D),!U&&K&&(Se.rowGap=H),Z(I.createElement("div",Object.assign({ref:t,className:ce,style:Object.assign(Object.assign(Object.assign({},Se),o),E)},N),I.createElement(BMe,{value:_e},ye)))}),VR=HMe;VR.Compact=Ybe;var VMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const HQ=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=I.useContext(ii),{prefixCls:i,type:a="default",danger:s,disabled:o,loading:l,onClick:c,htmlType:u,children:d,className:h,menu:g,arrow:v,autoFocus:x,overlay:w,trigger:C,align:E,open:M,onOpenChange:R,placement:L,getPopupContainer:N,href:D,icon:H=I.createElement(Zz,null),title:U,buttonsRender:q=ze=>ze,mouseEnterDelay:K,mouseLeaveDelay:Q,overlayClassName:X,overlayStyle:te,destroyPopupOnHide:ee,dropdownRender:Z}=e,re=VMe(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),oe=n("dropdown",i),ce=`${oe}-button`,le={menu:g,arrow:v,autoFocus:x,align:E,disabled:o,trigger:o?[]:C,onOpenChange:R,getPopupContainer:N||t,mouseEnterDelay:K,mouseLeaveDelay:Q,overlayClassName:X,overlayStyle:te,destroyPopupOnHide:ee,dropdownRender:Z},{compactSize:pe,compactItemClassnames:ye}=NO(oe,r),_e=ut(ce,ye,h);"overlay"in e&&(le.overlay=w),"open"in e&&(le.open=M),"placement"in e?le.placement=L:le.placement=r==="rtl"?"bottomLeft":"bottomRight";const Se=I.createElement(FS,{type:a,danger:s,disabled:o,loading:l,onClick:c,htmlType:u,href:D,title:U},d),Re=I.createElement(FS,{type:a,danger:s,icon:H}),[je,Fe]=q([Se,Re]);return I.createElement(VR.Compact,Object.assign({className:_e,size:pe,block:!0},re),je,I.createElement(DR,Object.assign({},le),Fe))};HQ.__ANT_BUTTON=!0;const lB=DR;lB.Button=HQ;const cB=it.createContext(void 0),{Provider:UMe}=cB;var GMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},WMe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:GMe}))},VQ=I.forwardRef(WMe),qMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const KMe=e=>{const{icon:t,description:n,prefixCls:r,className:i}=e,a=qMe(e,["icon","description","prefixCls","className"]),s=it.createElement("div",{className:`${r}-icon`},it.createElement(VQ,null));return it.createElement("div",Object.assign({},a,{className:ut(i,`${r}-content`)}),t||n?it.createElement(it.Fragment,null,t&&it.createElement("div",{className:`${r}-icon`},t),n&&it.createElement("div",{className:`${r}-description`},n)):s)},YMe=I.memo(KMe),G9=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),XMe=e=>{const{componentCls:t,floatButtonSize:n,motionDurationSlow:r,motionEaseInOutCirc:i,calc:a}=e,s=new $i("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${et(n)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),o=new $i("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${et(n)}, 0)`,transformOrigin:"0 0",opacity:0}}),l=new $i("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${et(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new $i("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${et(a(n).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),u=new $i("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${et(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),d=new $i("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${et(a(n).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),h=new $i("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${et(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),g=new $i("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${et(n)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),v=`${t}-group`;return[{[v]:{[`&${v}-top ${v}-wrap`]:a1(`${v}-wrap`,s,o,r,!0),[`&${v}-bottom ${v}-wrap`]:a1(`${v}-wrap`,u,d,r,!0),[`&${v}-left ${v}-wrap`]:a1(`${v}-wrap`,h,g,r,!0),[`&${v}-right ${v}-wrap`]:a1(`${v}-wrap`,l,c,r,!0)}},{[`${v}-wrap`]:{[`&${v}-wrap-enter, &${v}-wrap-appear`]:{opacity:0,animationTimingFunction:i},[`&${v}-wrap-leave`]:{opacity:1,animationTimingFunction:i}}}]},ZMe=e=>{const{antCls:t,componentCls:n,floatButtonSize:r,margin:i,borderRadiusLG:a,borderRadiusSM:s,badgeOffset:o,floatButtonBodyPadding:l,zIndexPopupBase:c,calc:u}=e,d=`${n}-group`;return{[d]:Object.assign(Object.assign({},uo(e)),{zIndex:c,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:r,minHeight:r,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:a,[`${d}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${d}-rtl`]:{direction:"rtl"},[n]:{position:"static"}}),[`${d}-top > ${d}-wrap`]:{flexDirection:"column",top:"auto",bottom:u(r).add(i).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:i,bottom:u(i).mul(-1).equal()}},[`${d}-bottom > ${d}-wrap`]:{flexDirection:"column",top:u(r).add(i).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:i,top:u(i).mul(-1).equal()}},[`${d}-right > ${d}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:u(r).add(i).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:i,height:"100%",left:{_skip_check_:!0,value:u(i).mul(-1).equal()}}},[`${d}-left > ${d}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:u(r).add(i).equal()},"&::after":{content:'""',position:"absolute",width:i,height:"100%",right:{_skip_check_:!0,value:u(i).mul(-1).equal()}}},[`${d}-circle`]:{gap:i,[`${d}-wrap`]:{gap:i}},[`${d}-square`]:{[`${n}-square`]:{padding:0,borderRadius:0,[`&${d}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:u(u(l).add(o)).mul(-1).equal(),insetInlineEnd:u(u(l).add(o)).mul(-1).equal()}}},[`${d}-wrap`]:{borderRadius:a,boxShadow:e.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",borderRadius:0,padding:l,[`${n}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:s}}}},[`${d}-top > ${d}-wrap, ${d}-bottom > ${d}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${d}-left > ${d}-wrap, ${d}-right > ${d}-wrap`]:{[`> ${n}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${et(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${d}-circle-shadow`]:{boxShadow:"none"},[`${d}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${n}-square`]:{boxShadow:"none",padding:l,[`${n}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:s}}}}},QMe=e=>{const{antCls:t,componentCls:n,floatButtonBodyPadding:r,floatButtonIconSize:i,floatButtonSize:a,borderRadiusLG:s,badgeOffset:o,dotOffsetInSquare:l,dotOffsetInCircle:c,zIndexPopupBase:u,calc:d}=e;return{[n]:Object.assign(Object.assign({},uo(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:u,display:"block",width:a,height:a,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:d(o).mul(-1).equal(),insetInlineEnd:d(o).mul(-1).equal()}},[`${n}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${n}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${et(d(r).div(2).equal())} ${et(r)}`,[`${n}-icon`]:{textAlign:"center",margin:"auto",width:i,fontSize:i,lineHeight:1}}}}),[`${n}-rtl`]:{direction:"rtl"},[`${n}-circle`]:{height:a,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:c,insetInlineEnd:c}},[`${n}-body`]:{borderRadius:"50%"}},[`${n}-square`]:{height:"auto",minHeight:a,borderRadius:s,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:l,insetInlineEnd:l}},[`${n}-body`]:{height:"auto",borderRadius:s}},[`${n}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${n}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${n}-content`]:{[`${n}-icon`]:{color:e.colorText},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:et(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${n}-primary`]:{backgroundColor:e.colorPrimary,[`${n}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${n}-content`]:{[`${n}-icon`]:{color:e.colorTextLightSolid},[`${n}-description`]:{display:"flex",alignItems:"center",lineHeight:et(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},JMe=e=>({dotOffsetInCircle:G9(e.controlHeightLG/2),dotOffsetInSquare:G9(e.borderRadiusLG)}),UQ=no("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:n,controlHeightLG:r,marginXXL:i,marginLG:a,fontSize:s,fontSizeIcon:o,controlItemBgHover:l,paddingXXS:c,calc:u}=e,d=ga(e,{floatButtonBackgroundColor:n,floatButtonColor:t,floatButtonHoverBackgroundColor:l,floatButtonFontSize:s,floatButtonIconSize:u(o).mul(1.5).equal(),floatButtonSize:r,floatButtonInsetBlockEnd:i,floatButtonInsetInlineEnd:a,floatButtonBodySize:u(r).sub(u(c).mul(2)).equal(),floatButtonBodyPadding:c,badgeOffset:u(c).mul(1.5).equal()});return[ZMe(d),QMe(d),g1e(e),XMe(d)]},JMe);var eAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UR="float-btn",tAe=it.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:a,type:s="default",shape:o="circle",icon:l,description:c,tooltip:u,htmlType:d="button",badge:h={}}=e,g=eAe(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:v,direction:x}=I.useContext(ii),w=I.useContext(cB),C=v(UR,n),E=vh(C),[M,R,L]=UQ(C,E),N=w||o,D=ut(R,L,E,C,r,i,`${C}-${s}`,`${C}-${N}`,{[`${C}-rtl`]:x==="rtl"}),[H]=P2("FloatButton",a?.zIndex),U=Object.assign(Object.assign({},a),{zIndex:H}),q=rl(h,["title","children","status","text"]);let K=it.createElement("div",{className:`${C}-body`},it.createElement(YMe,{prefixCls:C,description:c,icon:l}));return"badge"in e&&(K=it.createElement(zZ,Object.assign({},q),K)),"tooltip"in e&&(K=it.createElement(s0,{title:u,placement:x==="rtl"?"right":"left"},K)),M(e.href?it.createElement("a",Object.assign({ref:t},g,{className:D,style:U}),K):it.createElement("button",Object.assign({ref:t},g,{className:D,style:U,type:d}),K))}),kx=tAe;var nAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const GQ=it.forwardRef((e,t)=>{const{prefixCls:n,className:r,type:i="default",shape:a="circle",visibilityHeight:s=400,icon:o=it.createElement(R2e,null),target:l,onClick:c,duration:u=450}=e,d=nAe(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[h,g]=I.useState(s===0),v=it.useRef(null);it.useImperativeHandle(t,()=>({nativeElement:v.current}));const x=()=>{var H;return((H=v.current)===null||H===void 0?void 0:H.ownerDocument)||window},w=_ve(H=>{const U=BX(H.target);g(U>=s)});I.useEffect(()=>{const U=(l||x)();return w({target:U}),U?.addEventListener("scroll",w),()=>{w.cancel(),U?.removeEventListener("scroll",w)}},[l]);const C=H=>{jX(0,{getContainer:l||x,duration:u}),c?.(H)},{getPrefixCls:E}=I.useContext(ii),M=E(UR,n),R=E(),N=I.useContext(cB)||a,D=Object.assign({prefixCls:M,icon:o,type:i,shape:N},d);return it.createElement(wg,{visible:h,motionName:`${R}-fade`},(H,U)=>{let{className:q}=H;return it.createElement(kx,Object.assign({ref:Ed(v,U)},D,{onClick:C,className:ut(r,q)}))})});var rAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const WQ=e=>{var t;const{prefixCls:n,className:r,style:i,shape:a="circle",type:s="default",placement:o="top",icon:l=it.createElement(VQ,null),closeIcon:c,description:u,trigger:d,children:h,onOpenChange:g,open:v,onClick:x}=e,w=rAe(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:C,getPrefixCls:E,closeIcon:M}=eu("floatButtonGroup"),R=(t=c??M)!==null&&t!==void 0?t:it.createElement($O,null),L=E(UR,n),N=vh(L),[D,H,U]=UQ(L,N),q=`${L}-group`,K=d&&["click","hover"].includes(d),Q=o&&["top","left","right","bottom"].includes(o),X=ut(q,H,U,N,r,{[`${q}-rtl`]:C==="rtl",[`${q}-${a}`]:a,[`${q}-${a}-shadow`]:!K,[`${q}-${o}`]:K&&Q}),[te]=P2("FloatButton",i?.zIndex),ee=Object.assign(Object.assign({},i),{zIndex:te}),Z=ut(H,`${q}-wrap`),[re,oe]=Us(!1,{value:v}),ce=it.useRef(null),le=d==="hover",pe=d==="click",ye=to(je=>{re!==je&&(oe(je),g?.(je))}),_e=()=>{le&&ye(!0)},Se=()=>{le&&ye(!1)},Re=je=>{pe&&ye(!re),x?.(je)};return it.useEffect(()=>{if(pe){const je=Fe=>{var ze;!((ze=ce.current)===null||ze===void 0)&&ze.contains(Fe.target)||ye(!1)};return document.addEventListener("click",je,{capture:!0}),()=>document.removeEventListener("click",je,{capture:!0})}},[pe]),D(it.createElement(UMe,{value:a},it.createElement("div",{ref:ce,className:X,style:ee,onMouseEnter:_e,onMouseLeave:Se},K?it.createElement(it.Fragment,null,it.createElement(wg,{visible:re,motionName:`${q}-wrap`},je=>{let{className:Fe}=je;return it.createElement("div",{className:ut(Fe,Z)},h)}),it.createElement(kx,Object.assign({type:s,icon:re?R:l,description:u,"aria-label":e["aria-label"],className:`${q}-trigger`,onClick:Re},w))):h)))};var qQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const W9=e=>{var{backTop:t}=e,n=qQ(e,["backTop"]);return t?I.createElement(GQ,Object.assign({},n,{visibilityHeight:0})):I.createElement(kx,Object.assign({},n))},iAe=e=>{var{className:t,items:n}=e,r=qQ(e,["className","items"]);const{prefixCls:i}=r,{getPrefixCls:a}=I.useContext(ii),o=`${a(UR,i)}-pure`;return n?I.createElement(WQ,Object.assign({className:ut(t,o)},r),n.map((l,c)=>I.createElement(W9,Object.assign({key:c},l)))):I.createElement(W9,Object.assign({className:ut(t,o)},r))};kx.BackTop=GQ;kx.Group=WQ;kx._InternalPanelDoNotUseOrYouWillBeFired=iAe;function q9(e,t,n,r){var i=CE.unstable_batchedUpdates?function(s){CE.unstable_batchedUpdates(n,s)}:n;return e!=null&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}var aAe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,oAe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],c3={},ip;function sAe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&c3[n])return c3[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),o=oAe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:o,paddingSize:a,borderSize:s,boxSizing:i};return t&&n&&(c3[n]=l),l}function lAe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ip||(ip=document.createElement("textarea"),ip.setAttribute("tab-index","-1"),ip.setAttribute("aria-hidden","true"),ip.setAttribute("name","hiddenTextarea"),document.body.appendChild(ip)),e.getAttribute("wrap")?ip.setAttribute("wrap",e.getAttribute("wrap")):ip.removeAttribute("wrap");var i=sAe(e,t),a=i.paddingSize,s=i.borderSize,o=i.boxSizing,l=i.sizingStyle;ip.setAttribute("style","".concat(l,";").concat(aAe)),ip.value=e.value||e.placeholder||"";var c=void 0,u=void 0,d,h=ip.scrollHeight;if(o==="border-box"?h+=s:o==="content-box"&&(h-=a),n!==null||r!==null){ip.value=" ";var g=ip.scrollHeight-a;n!==null&&(c=g*n,o==="border-box"&&(c=c+a+s),h=Math.max(c,h)),r!==null&&(u=g*r,o==="border-box"&&(u=u+a+s),d=h>u?"":"hidden",h=Math.min(u,h))}var v={height:h,overflowY:d,resize:"none"};return c&&(v.minHeight=c),u&&(v.maxHeight=u),v}var cAe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],u3=0,f3=1,d3=2,uAe=I.forwardRef(function(e,t){var n=e,r=n.prefixCls,i=n.defaultValue,a=n.value,s=n.autoSize,o=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var h=zr(n,cAe),g=Us(i,{value:a,postState:function(Se){return Se??""}}),v=mt(g,2),x=v[0],w=v[1],C=function(Se){w(Se.target.value),d?.(Se)},E=I.useRef();I.useImperativeHandle(t,function(){return{textArea:E.current}});var M=I.useMemo(function(){return s&&Rr(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),R=mt(M,2),L=R[0],N=R[1],D=!!s,H=function(){try{if(document.activeElement===E.current){var Se=E.current,Re=Se.selectionStart,je=Se.selectionEnd,Fe=Se.scrollTop;E.current.setSelectionRange(Re,je),E.current.scrollTop=Fe}}catch{}},U=I.useState(d3),q=mt(U,2),K=q[0],Q=q[1],X=I.useState(),te=mt(X,2),ee=te[0],Z=te[1],re=function(){Q(u3)};Sa(function(){D&&re()},[a,L,N,D]),Sa(function(){if(K===u3)Q(f3);else if(K===f3){var _e=lAe(E.current,!1,L,N);Q(d3),Z(_e)}else H()},[K]);var oe=I.useRef(),ce=function(){ja.cancel(oe.current)},le=function(Se){K===d3&&(o?.(Se),s&&(ce(),oe.current=ja(function(){re()})))};I.useEffect(function(){return ce},[]);var pe=D?ee:null,ye=Pe(Pe({},c),pe);return(K===u3||K===f3)&&(ye.overflowY="hidden",ye.overflowX="hidden"),I.createElement(zf,{onResize:le,disabled:!(s||o)},I.createElement("textarea",In({},h,{ref:E,style:ye,className:ut(r,l,Te({},"".concat(r,"-disabled"),u)),disabled:u,value:x,onChange:C})))}),fAe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],dAe=it.forwardRef(function(e,t){var n,r=e.defaultValue,i=e.value,a=e.onFocus,s=e.onBlur,o=e.onChange,l=e.allowClear,c=e.maxLength,u=e.onCompositionStart,d=e.onCompositionEnd,h=e.suffix,g=e.prefixCls,v=g===void 0?"rc-textarea":g,x=e.showCount,w=e.count,C=e.className,E=e.style,M=e.disabled,R=e.hidden,L=e.classNames,N=e.styles,D=e.onResize,H=e.onClear,U=e.onPressEnter,q=e.readOnly,K=e.autoSize,Q=e.onKeyDown,X=zr(e,fAe),te=Us(r,{value:i,defaultValue:r}),ee=mt(te,2),Z=ee[0],re=ee[1],oe=Z==null?"":String(Z),ce=it.useState(!1),le=mt(ce,2),pe=le[0],ye=le[1],_e=it.useRef(!1),Se=it.useState(null),Re=mt(Se,2),je=Re[0],Fe=Re[1],ze=I.useRef(null),Ze=I.useRef(null),st=function(){var Gt;return(Gt=Ze.current)===null||Gt===void 0?void 0:Gt.textArea},Ue=function(){st().focus()};I.useImperativeHandle(t,function(){var Ln;return{resizableTextArea:Ze.current,focus:Ue,blur:function(){st().blur()},nativeElement:((Ln=ze.current)===null||Ln===void 0?void 0:Ln.nativeElement)||st()}}),I.useEffect(function(){ye(function(Ln){return!M&&Ln})},[M]);var Ne=it.useState(null),qe=mt(Ne,2),We=qe[0],rt=qe[1];it.useEffect(function(){if(We){var Ln;(Ln=st()).setSelectionRange.apply(Ln,_n(We))}},[We]);var ht=BQ(w,x),ft=(n=ht.max)!==null&&n!==void 0?n:c,Rt=Number(ft)>0,Yt=ht.strategy(oe),Jt=!!ft&&Yt>ft,xt=function(Gt,He){var be=He;!_e.current&&ht.exceedFormatter&&ht.max&&ht.strategy(He)>ht.max&&(be=ht.exceedFormatter(He,{max:ht.max}),He!==be&&rt([st().selectionStart||0,st().selectionEnd||0])),re(be),nI(Gt.currentTarget,Gt,o,be)},Ft=function(Gt){_e.current=!0,u?.(Gt)},Lt=function(Gt){_e.current=!1,xt(Gt,Gt.currentTarget.value),d?.(Gt)},Kt=function(Gt){xt(Gt,Gt.target.value)},hn=function(Gt){Gt.key==="Enter"&&U&&U(Gt),Q?.(Gt)},dn=function(Gt){ye(!0),a?.(Gt)},Cn=function(Gt){ye(!1),s?.(Gt)},kn=function(Gt){re(""),Ue(),nI(st(),Gt,o)},sn=h,un;ht.show&&(ht.showFormatter?un=ht.showFormatter({value:oe,count:Yt,maxLength:ft}):un="".concat(Yt).concat(Rt?" / ".concat(ft):""),sn=it.createElement(it.Fragment,null,sn,it.createElement("span",{className:ut("".concat(v,"-data-count"),L?.count),style:N?.count},un)));var gn=function(Gt){var He;D?.(Gt),(He=st())!==null&&He!==void 0&&He.style.height&&Fe(!0)},Qt=!K&&!x&&!l;return it.createElement(zQ,{ref:ze,value:oe,allowClear:l,handleReset:kn,suffix:sn,prefixCls:v,classNames:Pe(Pe({},L),{},{affixWrapper:ut(L?.affixWrapper,Te(Te({},"".concat(v,"-show-count"),x),"".concat(v,"-textarea-allow-clear"),l))}),disabled:M,focused:pe,className:ut(C,Jt&&"".concat(v,"-out-of-range")),style:Pe(Pe({},E),je&&!Qt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof un=="string"?un:void 0}},hidden:R,readOnly:q,onClear:H},it.createElement(uAe,In({},X,{autoSize:K,maxLength:c,onKeyDown:hn,onChange:Kt,onFocus:dn,onBlur:Cn,onCompositionStart:Ft,onCompositionEnd:Lt,className:ut(L?.textarea),style:Pe(Pe({},N?.textarea),{},{resize:E?.resize}),disabled:M,prefixCls:v,onResize:gn,ref:Ze,readOnly:q})))});const hAe=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${r}-has-feedback ${t}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},pAe=no(["Input","TextArea"],e=>{const t=ga(e,zR(e));return[hAe(t)]},BR,{resetFont:!1});var gAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mAe=I.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,size:a,disabled:s,status:o,allowClear:l,classNames:c,rootClassName:u,className:d,style:h,styles:g,variant:v,showCount:x,onMouseDown:w,onResize:C}=e,E=gAe(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:M,direction:R,allowClear:L,autoComplete:N,className:D,style:H,classNames:U,styles:q}=eu("textArea"),K=I.useContext(r0),Q=s??K,{status:X,hasFeedback:te,feedbackIcon:ee}=I.useContext(ux),Z=jz(X,o),re=I.useRef(null);I.useImperativeHandle(t,()=>{var ht;return{resizableTextArea:(ht=re.current)===null||ht===void 0?void 0:ht.resizableTextArea,focus:ft=>{var Rt,Yt;DQ((Yt=(Rt=re.current)===null||Rt===void 0?void 0:Rt.resizableTextArea)===null||Yt===void 0?void 0:Yt.textArea,ft)},blur:()=>{var ft;return(ft=re.current)===null||ft===void 0?void 0:ft.blur()}}});const oe=M("input",r),ce=vh(oe),[le,pe,ye]=pQ(oe,u),[_e]=pAe(oe,ce),{compactSize:Se,compactItemClassnames:Re}=NO(oe,R),je=mp(ht=>{var ft;return(ft=a??Se)!==null&&ft!==void 0?ft:ht}),[Fe,ze]=PR("textArea",v,i),Ze=jQ(l??L),[st,Ue]=I.useState(!1),[Ne,qe]=I.useState(!1),We=ht=>{Ue(!0),w?.(ht);const ft=()=>{Ue(!1),document.removeEventListener("mouseup",ft)};document.addEventListener("mouseup",ft)},rt=ht=>{var ft,Rt;if(C?.(ht),st&&typeof getComputedStyle=="function"){const Yt=(Rt=(ft=re.current)===null||ft===void 0?void 0:ft.nativeElement)===null||Rt===void 0?void 0:Rt.querySelector("textarea");Yt&&getComputedStyle(Yt).resize==="both"&&qe(!0)}};return le(_e(I.createElement(dAe,Object.assign({autoComplete:N},E,{style:Object.assign(Object.assign({},H),h),styles:Object.assign(Object.assign({},q),g),disabled:Q,allowClear:Ze,className:ut(ye,ce,d,u,Re,D,Ne&&`${oe}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},c),U),{textarea:ut({[`${oe}-sm`]:je==="small",[`${oe}-lg`]:je==="large"},pe,c?.textarea,U.textarea,st&&`${oe}-mouse-active`),variant:ut({[`${oe}-${Fe}`]:ze},XA(oe,Z)),affixWrapper:ut(`${oe}-textarea-affix-wrapper`,{[`${oe}-affix-wrapper-rtl`]:R==="rtl",[`${oe}-affix-wrapper-sm`]:je==="small",[`${oe}-affix-wrapper-lg`]:je==="large",[`${oe}-textarea-show-count`]:x||((n=e.count)===null||n===void 0?void 0:n.show)},pe)}),prefixCls:oe,suffix:te&&I.createElement("span",{className:`${oe}-textarea-suffix`},ee),showCount:x,ref:re,onResize:rt,onMouseDown:We}))))});function vAe(e,t,n){return typeof n=="boolean"?n:e.length?!0:Xu(t).some(i=>i.type===tQ)}var KQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function GR(e){let{suffixCls:t,tagName:n,displayName:r}=e;return i=>I.forwardRef((s,o)=>I.createElement(i,Object.assign({ref:o,suffixCls:t,tagName:n},s)))}const uB=I.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:a}=e,s=KQ(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:o}=I.useContext(ii),l=o("layout",n),[c,u,d]=eQ(l),h=r?`${l}-${r}`:l;return c(I.createElement(a,Object.assign({className:ut(n||h,i,u,d),ref:t},s)))}),yAe=I.forwardRef((e,t)=>{const{direction:n}=I.useContext(ii),[r,i]=I.useState([]),{prefixCls:a,className:s,rootClassName:o,children:l,hasSider:c,tagName:u,style:d}=e,h=KQ(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),g=rl(h,["suffixCls"]),{getPrefixCls:v,className:x,style:w}=eu("layout"),C=v("layout",a),E=vAe(r,l,c),[M,R,L]=eQ(C),N=ut(C,{[`${C}-has-sider`]:E,[`${C}-rtl`]:n==="rtl"},x,s,o,R,L),D=I.useMemo(()=>({siderHook:{addSider:H=>{i(U=>[].concat(_n(U),[H]))},removeSider:H=>{i(U=>U.filter(q=>q!==H))}}}),[]);return M(I.createElement(ZZ.Provider,{value:D},I.createElement(u,Object.assign({ref:t,className:N,style:Object.assign(Object.assign({},w),d)},g),l)))}),bAe=GR({tagName:"div",displayName:"Layout"})(yAe),_Ae=GR({suffixCls:"header",tagName:"header",displayName:"Header"})(uB),xAe=GR({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(uB),wAe=GR({suffixCls:"content",tagName:"main",displayName:"Content"})(uB),y1=bAe;y1.Header=_Ae;y1.Footer=xAe;y1.Content=wAe;y1.Sider=tQ;y1._InternalSiderContext=NR;const YQ=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(e[r]=i)})}return e};var SAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},CAe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:SAe}))},K9=I.forwardRef(CAe),EAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},OAe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:EAe}))},Y9=I.forwardRef(OAe),TAe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},MAe=[10,20,50,100],AAe=function(t){var n=t.pageSizeOptions,r=n===void 0?MAe:n,i=t.locale,a=t.changeSize,s=t.pageSize,o=t.goButton,l=t.quickGo,c=t.rootPrefixCls,u=t.disabled,d=t.buildOptionText,h=t.showSizeChanger,g=t.sizeChangerRender,v=it.useState(""),x=mt(v,2),w=x[0],C=x[1],E=function(){return!w||Number.isNaN(w)?void 0:Number(w)},M=typeof d=="function"?d:function(Q){return"".concat(Q," ").concat(i.items_per_page)},R=function(X){C(X.target.value)},L=function(X){o||w===""||(C(""),!(X.relatedTarget&&(X.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||X.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&l?.(E()))},N=function(X){w!==""&&(X.keyCode===mr.ENTER||X.type==="click")&&(C(""),l?.(E()))},D=function(){return r.some(function(X){return X.toString()===s.toString()})?r:r.concat([s]).sort(function(X,te){var ee=Number.isNaN(Number(X))?0:Number(X),Z=Number.isNaN(Number(te))?0:Number(te);return ee-Z})},H="".concat(c,"-options");if(!h&&!l)return null;var U=null,q=null,K=null;return h&&g&&(U=g({disabled:u,size:s,onSizeChange:function(X){a?.(Number(X))},"aria-label":i.page_size,className:"".concat(H,"-size-changer"),options:D().map(function(Q){return{label:M(Q),value:Q}})})),l&&(o&&(K=typeof o=="boolean"?it.createElement("button",{type:"button",onClick:N,onKeyUp:N,disabled:u,className:"".concat(H,"-quick-jumper-button")},i.jump_to_confirm):it.createElement("span",{onClick:N,onKeyUp:N},o)),q=it.createElement("div",{className:"".concat(H,"-quick-jumper")},i.jump_to,it.createElement("input",{disabled:u,type:"text",value:w,onChange:R,onKeyUp:N,onBlur:L,"aria-label":i.page}),i.page,K)),it.createElement("li",{className:H},U,q)},dC=function(t){var n=t.rootPrefixCls,r=t.page,i=t.active,a=t.className,s=t.showTitle,o=t.onClick,l=t.onKeyPress,c=t.itemRender,u="".concat(n,"-item"),d=ut(u,"".concat(u,"-").concat(r),Te(Te({},"".concat(u,"-active"),i),"".concat(u,"-disabled"),!r),a),h=function(){o(r)},g=function(w){l(w,o,r)},v=c(r,"page",it.createElement("a",{rel:"nofollow"},r));return v?it.createElement("li",{title:s?String(r):null,className:d,onClick:h,onKeyDown:g,tabIndex:0},v):null},IAe=function(t,n,r){return r};function X9(){}function Z9(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function R_(e,t,n){var r=typeof e>"u"?t:e;return Math.floor((n-1)/r)+1}var PAe=function(t){var n=t.prefixCls,r=n===void 0?"rc-pagination":n,i=t.selectPrefixCls,a=i===void 0?"rc-select":i,s=t.className,o=t.current,l=t.defaultCurrent,c=l===void 0?1:l,u=t.total,d=u===void 0?0:u,h=t.pageSize,g=t.defaultPageSize,v=g===void 0?10:g,x=t.onChange,w=x===void 0?X9:x,C=t.hideOnSinglePage,E=t.align,M=t.showPrevNextJumpers,R=M===void 0?!0:M,L=t.showQuickJumper,N=t.showLessItems,D=t.showTitle,H=D===void 0?!0:D,U=t.onShowSizeChange,q=U===void 0?X9:U,K=t.locale,Q=K===void 0?TAe:K,X=t.style,te=t.totalBoundaryShowSizeChanger,ee=te===void 0?50:te,Z=t.disabled,re=t.simple,oe=t.showTotal,ce=t.showSizeChanger,le=ce===void 0?d>ee:ce,pe=t.sizeChangerRender,ye=t.pageSizeOptions,_e=t.itemRender,Se=_e===void 0?IAe:_e,Re=t.jumpPrevIcon,je=t.jumpNextIcon,Fe=t.prevIcon,ze=t.nextIcon,Ze=it.useRef(null),st=Us(10,{value:h,defaultValue:v}),Ue=mt(st,2),Ne=Ue[0],qe=Ue[1],We=Us(1,{value:o,defaultValue:c,postState:function(_r){return Math.max(1,Math.min(_r,R_(void 0,Ne,d)))}}),rt=mt(We,2),ht=rt[0],ft=rt[1],Rt=it.useState(ht),Yt=mt(Rt,2),Jt=Yt[0],xt=Yt[1];I.useEffect(function(){xt(ht)},[ht]);var Ft=Math.max(1,ht-(N?3:5)),Lt=Math.min(R_(void 0,Ne,d),ht+(N?3:5));function Kt(pr,_r){var Vr=pr||it.createElement("button",{type:"button","aria-label":_r,className:"".concat(r,"-item-link")});return typeof pr=="function"&&(Vr=it.createElement(pr,Pe({},t))),Vr}function hn(pr){var _r=pr.target.value,Vr=R_(void 0,Ne,d),ta;return _r===""?ta=_r:Number.isNaN(Number(_r))?ta=Jt:_r>=Vr?ta=Vr:ta=Number(_r),ta}function dn(pr){return Z9(pr)&&pr!==ht&&Z9(d)&&d>0}var Cn=d>Ne?L:!1;function kn(pr){(pr.keyCode===mr.UP||pr.keyCode===mr.DOWN)&&pr.preventDefault()}function sn(pr){var _r=hn(pr);switch(_r!==Jt&&xt(_r),pr.keyCode){case mr.ENTER:Qt(_r);break;case mr.UP:Qt(_r-1);break;case mr.DOWN:Qt(_r+1);break}}function un(pr){Qt(hn(pr))}function gn(pr){var _r=R_(pr,Ne,d),Vr=ht>_r&&_r!==0?_r:ht;qe(pr),xt(Vr),q?.(ht,pr),ft(Vr),w?.(Vr,pr)}function Qt(pr){if(dn(pr)&&!Z){var _r=R_(void 0,Ne,d),Vr=pr;return pr>_r?Vr=_r:pr<1&&(Vr=1),Vr!==Jt&&xt(Vr),ft(Vr),w?.(Vr,Ne),Vr}return ht}var Ln=ht>1,Gt=ht<R_(void 0,Ne,d);function He(){Ln&&Qt(ht-1)}function be(){Gt&&Qt(ht+1)}function we(){Qt(Ft)}function xe(){Qt(Lt)}function Ye(pr,_r){if(pr.key==="Enter"||pr.charCode===mr.ENTER||pr.keyCode===mr.ENTER){for(var Vr=arguments.length,ta=new Array(Vr>2?Vr-2:0),Wo=2;Wo<Vr;Wo++)ta[Wo-2]=arguments[Wo];_r.apply(void 0,ta)}}function lt(pr){Ye(pr,He)}function ct(pr){Ye(pr,be)}function _t(pr){Ye(pr,we)}function yt(pr){Ye(pr,xe)}function jt(pr){var _r=Se(pr,"prev",Kt(Fe,"prev page"));return it.isValidElement(_r)?it.cloneElement(_r,{disabled:!Ln}):_r}function $t(pr){var _r=Se(pr,"next",Kt(ze,"next page"));return it.isValidElement(_r)?it.cloneElement(_r,{disabled:!Gt}):_r}function vt(pr){(pr.type==="click"||pr.keyCode===mr.ENTER)&&Qt(Jt)}var It=null,zt=gg(t,{aria:!0,data:!0}),Dt=oe&&it.createElement("li",{className:"".concat(r,"-total-text")},oe(d,[d===0?0:(ht-1)*Ne+1,ht*Ne>d?d:ht*Ne])),Tt=null,xn=R_(void 0,Ne,d);if(C&&d<=Ne)return null;var Bt=[],nn={rootPrefixCls:r,onClick:Qt,onKeyPress:Ye,showTitle:H,itemRender:Se,page:-1},Fn=ht-1>0?ht-1:0,Ht=ht+1<xn?ht+1:xn,ln=L&&L.goButton,rn=Rr(re)==="object"?re.readOnly:!re,Tn=ln,Un=null;re&&(ln&&(typeof ln=="boolean"?Tn=it.createElement("button",{type:"button",onClick:vt,onKeyUp:vt},Q.jump_to_confirm):Tn=it.createElement("span",{onClick:vt,onKeyUp:vt},ln),Tn=it.createElement("li",{title:H?"".concat(Q.jump_to).concat(ht,"/").concat(xn):null,className:"".concat(r,"-simple-pager")},Tn)),Un=it.createElement("li",{title:H?"".concat(ht,"/").concat(xn):null,className:"".concat(r,"-simple-pager")},rn?Jt:it.createElement("input",{type:"text","aria-label":Q.jump_to,value:Jt,disabled:Z,onKeyDown:kn,onKeyUp:sn,onChange:sn,onBlur:un,size:3}),it.createElement("span",{className:"".concat(r,"-slash")},"/"),xn));var ir=N?1:2;if(xn<=3+ir*2){xn||Bt.push(it.createElement(dC,In({},nn,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var Dn=1;Dn<=xn;Dn+=1)Bt.push(it.createElement(dC,In({},nn,{key:Dn,page:Dn,active:ht===Dn})))}else{var Er=N?Q.prev_3:Q.prev_5,Cr=N?Q.next_3:Q.next_5,$r=Se(Ft,"jump-prev",Kt(Re,"prev page")),Zr=Se(Lt,"jump-next",Kt(je,"next page"));R&&(It=$r?it.createElement("li",{title:H?Er:null,key:"prev",onClick:we,tabIndex:0,onKeyDown:_t,className:ut("".concat(r,"-jump-prev"),Te({},"".concat(r,"-jump-prev-custom-icon"),!!Re))},$r):null,Tt=Zr?it.createElement("li",{title:H?Cr:null,key:"next",onClick:xe,tabIndex:0,onKeyDown:yt,className:ut("".concat(r,"-jump-next"),Te({},"".concat(r,"-jump-next-custom-icon"),!!je))},Zr):null);var li=Math.max(1,ht-ir),Kr=Math.min(ht+ir,xn);ht-1<=ir&&(Kr=1+ir*2),xn-ht<=ir&&(li=xn-ir*2);for(var $n=li;$n<=Kr;$n+=1)Bt.push(it.createElement(dC,In({},nn,{key:$n,page:$n,active:ht===$n})));if(ht-1>=ir*2&&ht!==3&&(Bt[0]=it.cloneElement(Bt[0],{className:ut("".concat(r,"-item-after-jump-prev"),Bt[0].props.className)}),Bt.unshift(It)),xn-ht>=ir*2&&ht!==xn-2){var sr=Bt[Bt.length-1];Bt[Bt.length-1]=it.cloneElement(sr,{className:ut("".concat(r,"-item-before-jump-next"),sr.props.className)}),Bt.push(Tt)}li!==1&&Bt.unshift(it.createElement(dC,In({},nn,{key:1,page:1}))),Kr!==xn&&Bt.push(it.createElement(dC,In({},nn,{key:xn,page:xn})))}var tr=jt(Fn);if(tr){var Yn=!Ln||!xn;tr=it.createElement("li",{title:H?Q.prev_page:null,onClick:He,tabIndex:Yn?null:0,onKeyDown:lt,className:ut("".concat(r,"-prev"),Te({},"".concat(r,"-disabled"),Yn)),"aria-disabled":Yn},tr)}var br=$t(Ht);if(br){var Hr,ki;re?(Hr=!Gt,ki=Ln?0:null):(Hr=!Gt||!xn,ki=Hr?null:0),br=it.createElement("li",{title:H?Q.next_page:null,onClick:be,tabIndex:ki,onKeyDown:ct,className:ut("".concat(r,"-next"),Te({},"".concat(r,"-disabled"),Hr)),"aria-disabled":Hr},br)}var Vi=ut(r,s,Te(Te(Te(Te(Te({},"".concat(r,"-start"),E==="start"),"".concat(r,"-center"),E==="center"),"".concat(r,"-end"),E==="end"),"".concat(r,"-simple"),re),"".concat(r,"-disabled"),Z));return it.createElement("ul",In({className:Vi,style:X,ref:Ze},zt),Dt,tr,re?Un:Bt,br,it.createElement(AAe,{locale:Q,rootPrefixCls:r,disabled:Z,selectPrefixCls:a,changeSize:gn,pageSize:Ne,pageSizeOptions:ye,quickGo:Cn?Qt:null,goButton:Tn,showSizeChanger:le,sizeChangerRender:pe}))};const RAe=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},$Ae=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:et(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:et(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:et(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:et(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:et(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:et(e.itemSizeSM),input:Object.assign(Object.assign({},Jz(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},kAe=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:et(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:et(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${et(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${et(e.inputOutlineOffset)} 0 ${et(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},LAe=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:et(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${et(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:et(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},eB(e)),Qz(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},jR(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},NAe=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:et(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${et(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${et(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},DAe=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:et(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),NAe(e)),LAe(e)),kAe(e)),$Ae(e)),RAe(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},zAe=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},a0(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},Pm(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},Pm(e))}}}},XQ=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},BR(e)),ZQ=e=>ga(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},zR(e)),BAe=no("Pagination",e=>{const t=ZQ(e);return[DAe(t),zAe(t)]},XQ),jAe=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},FAe=hR(["Pagination","bordered"],e=>{const t=ZQ(e);return[jAe(t)]},XQ);function Q9(e){return I.useMemo(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var HAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const VAe=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:a,style:s,size:o,locale:l,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:h}=e,g=HAe(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:v}=RR(c),[,x]=Qu(),{getPrefixCls:w,direction:C,showSizeChanger:E,className:M,style:R}=eu("pagination"),L=w("pagination",n),[N,D,H]=BAe(L),U=mp(o),q=U==="small"||!!(v&&!U&&c),[K]=PO("Pagination",aX),Q=Object.assign(Object.assign({},K),l),[X,te]=Q9(u),[ee,Z]=Q9(E),re=X??ee,oe=te??Z,ce=d||$2,le=I.useMemo(()=>h?h.map(je=>Number(je)):void 0,[h]),pe=je=>{var Fe;const{disabled:ze,size:Ze,onSizeChange:st,"aria-label":Ue,className:Ne,options:qe}=je,{className:We,onChange:rt}=oe||{},ht=(Fe=qe.find(ft=>String(ft.value)===String(Ze)))===null||Fe===void 0?void 0:Fe.value;return I.createElement(ce,Object.assign({disabled:ze,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:ft=>ft.parentNode,"aria-label":Ue,options:qe},oe,{value:ht,onChange:(ft,Rt)=>{st?.(ft),rt?.(ft,Rt)},size:q?"small":"middle",className:ut(Ne,We)}))},ye=I.useMemo(()=>{const je=I.createElement("span",{className:`${L}-item-ellipsis`},""),Fe=I.createElement("button",{className:`${L}-item-link`,type:"button",tabIndex:-1},C==="rtl"?I.createElement(jS,null):I.createElement(US,null)),ze=I.createElement("button",{className:`${L}-item-link`,type:"button",tabIndex:-1},C==="rtl"?I.createElement(US,null):I.createElement(jS,null)),Ze=I.createElement("a",{className:`${L}-item-link`},I.createElement("div",{className:`${L}-item-container`},C==="rtl"?I.createElement(Y9,{className:`${L}-item-link-icon`}):I.createElement(K9,{className:`${L}-item-link-icon`}),je)),st=I.createElement("a",{className:`${L}-item-link`},I.createElement("div",{className:`${L}-item-container`},C==="rtl"?I.createElement(K9,{className:`${L}-item-link-icon`}):I.createElement(Y9,{className:`${L}-item-link-icon`}),je));return{prevIcon:Fe,nextIcon:ze,jumpPrevIcon:Ze,jumpNextIcon:st}},[C,L]),_e=w("select",r),Se=ut({[`${L}-${t}`]:!!t,[`${L}-mini`]:q,[`${L}-rtl`]:C==="rtl",[`${L}-bordered`]:x.wireframe},M,i,a,D,H),Re=Object.assign(Object.assign({},R),s);return N(I.createElement(I.Fragment,null,x.wireframe&&I.createElement(FAe,{prefixCls:L}),I.createElement(PAe,Object.assign({},ye,g,{style:Re,prefixCls:L,selectPrefixCls:_e,className:Se,locale:Q,pageSizeOptions:le,showSizeChanger:re,sizeChangerRender:pe}))))},rI=100,QQ=rI/5,JQ=rI/2-QQ/2,h3=JQ*2*Math.PI,J9=50,eH=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return I.createElement("circle",{className:ut(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:JQ,cx:J9,cy:J9,strokeWidth:QQ,style:n})},UAe=e=>{let{percent:t,prefixCls:n}=e;const r=`${n}-dot`,i=`${r}-holder`,a=`${i}-hidden`,[s,o]=I.useState(!1);Sa(()=>{t!==0&&o(!0)},[t!==0]);const l=Math.max(Math.min(t,100),0);if(!s)return null;const c={strokeDashoffset:`${h3/4}`,strokeDasharray:`${h3*l/100} ${h3*(100-l)/100}`};return I.createElement("span",{className:ut(i,`${r}-progress`,l<=0&&a)},I.createElement("svg",{viewBox:`0 0 ${rI} ${rI}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},I.createElement(eH,{dotClassName:r,hasCircleCls:!0}),I.createElement(eH,{dotClassName:r,style:c})))};function GAe(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,i=`${r}-holder`,a=`${i}-hidden`;return I.createElement(I.Fragment,null,I.createElement("span",{className:ut(i,n>0&&a)},I.createElement("span",{className:ut(r,`${t}-dot-spin`)},[1,2,3,4].map(s=>I.createElement("i",{className:`${t}-dot-item`,key:s})))),I.createElement(UAe,{prefixCls:t,percent:n}))}function WAe(e){const{prefixCls:t,indicator:n,percent:r}=e,i=`${t}-dot`;return n&&I.isValidElement(n)?hh(n,{className:ut(n.props.className,i),percent:r}):I.createElement(GAe,{prefixCls:t,percent:r})}const qAe=new $i("antSpinMove",{to:{opacity:1}}),KAe=new $i("antRotate",{to:{transform:"rotate(405deg)"}}),YAe=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},uo(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:qAe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:KAe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},XAe=e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:n}},ZAe=no("Spin",e=>{const t=ga(e,{spinDotDefault:e.colorTextDescription});return[YAe(t)]},XAe),QAe=200,tH=[[30,.05],[70,.03],[96,.01]];function JAe(e,t){const[n,r]=I.useState(0),i=I.useRef(null),a=t==="auto";return I.useEffect(()=>(a&&e&&(r(0),i.current=setInterval(()=>{r(s=>{const o=100-s;for(let l=0;l<tH.length;l+=1){const[c,u]=tH[l];if(s<=c)return s+o*u}return s})},QAe)),()=>{clearInterval(i.current)}),[a,e]),a?n:t}var eIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let eJ;function tIe(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const fB=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:i=0,className:a,rootClassName:s,size:o="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:h=!1,indicator:g,percent:v}=e,x=eIe(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:w,direction:C,className:E,style:M,indicator:R}=eu("spin"),L=w("spin",n),[N,D,H]=ZAe(L),[U,q]=I.useState(()=>r&&!tIe(r,i)),K=JAe(U,v);I.useEffect(()=>{if(r){const oe=xQ(i,()=>{q(!0)});return oe(),()=>{var ce;(ce=oe?.cancel)===null||ce===void 0||ce.call(oe)}}q(!1)},[i,r]);const Q=I.useMemo(()=>typeof d<"u"&&!h,[d,h]),X=ut(L,E,{[`${L}-sm`]:o==="small",[`${L}-lg`]:o==="large",[`${L}-spinning`]:U,[`${L}-show-text`]:!!l,[`${L}-rtl`]:C==="rtl"},a,!h&&s,D,H),te=ut(`${L}-container`,{[`${L}-blur`]:U}),ee=(t=g??R)!==null&&t!==void 0?t:eJ,Z=Object.assign(Object.assign({},M),u),re=I.createElement("div",Object.assign({},x,{style:Z,className:X,"aria-live":"polite","aria-busy":U}),I.createElement(WAe,{prefixCls:L,indicator:ee,percent:K}),l&&(Q||h)?I.createElement("div",{className:`${L}-text`},l):null);return N(Q?I.createElement("div",Object.assign({},x,{className:ut(`${L}-nested-loading`,c,D,H)}),U&&I.createElement("div",{key:"loading"},re),I.createElement("div",{className:te,key:"container"},d)):h?I.createElement("div",{className:ut(`${L}-fullscreen`,{[`${L}-fullscreen-show`]:U},s,D,H)},re):re)};fB.setDefaultIndicator=e=>{eJ=e};const nIe=function(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]};function U_(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=sR(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{s||n.return==null||n.return()}finally{if(o)throw a}}}}var rIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},iIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:rIe}))},aIe=I.forwardRef(iIe),oIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},sIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:oIe}))},lIe=I.forwardRef(sIe),cIe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},uIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:cIe}))},fIe=I.forwardRef(uIe),dIe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},hIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:dIe}))},pIe=I.forwardRef(hIe),gIe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},mIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:gIe}))},vIe=I.forwardRef(mIe),yIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"}}]},name:"control",theme:"outlined"},bIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:yIe}))},nH=I.forwardRef(bIe),_Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},xIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:_Ie}))},wIe=I.forwardRef(xIe),SIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},CIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:SIe}))},EIe=I.forwardRef(CIe),OIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},TIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:OIe}))},MIe=I.forwardRef(TIe),AIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},IIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:AIe}))},tJ=I.forwardRef(IIe),PIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},RIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:PIe}))},$Ie=I.forwardRef(RIe),kIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},LIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:kIe}))},NIe=I.forwardRef(LIe),DIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},zIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:DIe}))},BIe=I.forwardRef(zIe),jIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},FIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:jIe}))},p3=I.forwardRef(FIe),HIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},VIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:HIe}))},UIe=I.forwardRef(VIe),GIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},WIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:GIe}))},qIe=I.forwardRef(WIe),KIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},YIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:KIe}))},XIe=I.forwardRef(YIe),ZIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},QIe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:ZIe}))},JIe=I.forwardRef(QIe),ePe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},tPe=function(t,n){return I.createElement($a,In({},t,{ref:n,icon:ePe}))},nJ=I.forwardRef(tPe),nPe=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],iI=I.forwardRef(function(e,t){var n=e.className,r=e.component,i=e.viewBox,a=e.spin,s=e.rotate,o=e.tabIndex,l=e.onClick,c=e.children,u=zr(e,nPe),d=I.useRef(),h=Yy(d,t);XN(!!(r||c),"Should have `component` prop or `children`."),kX(d);var g=I.useContext(fR),v=g.prefixCls,x=v===void 0?"anticon":v,w=g.rootClassName,C=ut(w,x,Te({},"".concat(x,"-spin"),!!a&&!!r),n),E=ut(Te({},"".concat(x,"-spin"),!!a)),M=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,R=Pe(Pe({},ibe),{},{className:E,style:M,viewBox:i});i||delete R.viewBox;var L=function(){return r?I.createElement(r,R,c):c?(XN(!!i||I.Children.count(c)===1&&I.isValidElement(c)&&I.Children.only(c).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),I.createElement("svg",In({},R,{viewBox:i}),c)):null},N=o;return N===void 0&&l&&(N=-1),I.createElement("span",In({role:"img"},u,{ref:h,tabIndex:N,onClick:l,className:C}),L())});iI.displayName="AntdIcon";const rPe=e=>{const{value:t,formatter:n,precision:r,decimalSeparator:i,groupSeparator:a="",prefixCls:s}=e;let o;if(typeof n=="function")o=n(t);else{const l=String(t),c=l.match(/^(-?)(\d*)(\.(\d+))?$/);if(!c||l==="-")o=l;else{const u=c[1];let d=c[2]||"0",h=c[4]||"";d=d.replace(/\B(?=(\d{3})+(?!\d))/g,a),typeof r=="number"&&(h=h.padEnd(r,"0").slice(0,r>0?r:0)),h&&(h=`${i}${h}`),o=[I.createElement("span",{key:"int",className:`${s}-content-value-int`},u,d),h&&I.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},h)]}}return I.createElement("span",{className:`${s}-content-value`},o)},iPe=e=>{const{componentCls:t,marginXXS:n,padding:r,colorTextDescription:i,titleFontSize:a,colorTextHeading:s,contentFontSize:o,fontFamily:l}=e;return{[t]:Object.assign(Object.assign({},uo(e)),{[`${t}-title`]:{marginBottom:n,color:i,fontSize:a},[`${t}-skeleton`]:{paddingTop:r},[`${t}-content`]:{color:s,fontSize:o,fontFamily:l,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}},aPe=e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}},oPe=no("Statistic",e=>{const t=ga(e,{});return[iPe(t)]},aPe);var sPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const pS=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,valueStyle:a,value:s=0,title:o,valueRender:l,prefix:c,suffix:u,loading:d=!1,formatter:h,precision:g,decimalSeparator:v=".",groupSeparator:x=",",onMouseEnter:w,onMouseLeave:C}=e,E=sPe(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:M,direction:R,className:L,style:N}=eu("statistic"),D=M("statistic",t),[H,U,q]=oPe(D),K=I.createElement(rPe,{decimalSeparator:v,groupSeparator:x,prefixCls:D,formatter:h,precision:g,value:s}),Q=ut(D,{[`${D}-rtl`]:R==="rtl"},L,n,r,U,q),X=gg(E,{aria:!0,data:!0});return H(I.createElement("div",Object.assign({},X,{className:Q,style:Object.assign(Object.assign({},N),i),onMouseEnter:w,onMouseLeave:C}),o&&I.createElement("div",{className:`${D}-title`},o),I.createElement(Rx,{paragraph:!1,loading:d,className:`${D}-skeleton`},I.createElement("div",{style:a,className:`${D}-content`},c&&I.createElement("span",{className:`${D}-content-prefix`},c),l?l(K):K,u&&I.createElement("span",{className:`${D}-content-suffix`},u)))))},lPe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function cPe(e,t){let n=e;const r=/\[[^\]]*]/g,i=(t.match(r)||[]).map(l=>l.slice(1,-1)),a=t.replace(r,"[]"),s=lPe.reduce((l,c)=>{let[u,d]=c;if(l.includes(u)){const h=Math.floor(n/d);return n-=h*d,l.replace(new RegExp(`${u}+`,"g"),g=>{const v=g.length;return h.toString().padStart(v,"0")})}return l},a);let o=0;return s.replace(r,()=>{const l=i[o];return o+=1,l})}function uPe(e,t){const{format:n=""}=t,r=new Date(e).getTime(),i=Date.now(),a=Math.max(r-i,0);return cPe(a,n)}var fPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const dPe=1e3/30;function hPe(e){return new Date(e).getTime()}const pPe=e=>{const{value:t,format:n="HH:mm:ss",onChange:r,onFinish:i}=e,a=fPe(e,["value","format","onChange","onFinish"]),s=Hz(),o=I.useRef(null),l=()=>{i?.(),o.current&&(clearInterval(o.current),o.current=null)},c=()=>{const h=hPe(t);h>=Date.now()&&(o.current=setInterval(()=>{s(),r?.(h-Date.now()),h<Date.now()&&l()},dPe))};I.useEffect(()=>(c(),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[t]);const u=(h,g)=>uPe(h,Object.assign(Object.assign({},g),{format:n})),d=h=>hh(h,{title:void 0});return I.createElement(pS,Object.assign({},a,{value:t,valueRender:d,formatter:u}))},gPe=I.memo(pPe);pS.Countdown=gPe;var mPe=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],rJ=I.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-switch":r,a=e.className,s=e.checked,o=e.defaultChecked,l=e.disabled,c=e.loadingIcon,u=e.checkedChildren,d=e.unCheckedChildren,h=e.onClick,g=e.onChange,v=e.onKeyDown,x=zr(e,mPe),w=Us(!1,{value:s,defaultValue:o}),C=mt(w,2),E=C[0],M=C[1];function R(H,U){var q=E;return l||(q=H,M(q),g?.(q,U)),q}function L(H){H.which===mr.LEFT?R(!1,H):H.which===mr.RIGHT&&R(!0,H),v?.(H)}function N(H){var U=R(!E,H);h?.(U,H)}var D=ut(i,a,(n={},Te(n,"".concat(i,"-checked"),E),Te(n,"".concat(i,"-disabled"),l),n));return I.createElement("button",In({},x,{type:"button",role:"switch","aria-checked":E,disabled:l,className:D,ref:t,onKeyDown:L,onClick:N}),c,I.createElement("span",{className:"".concat(i,"-inner")},I.createElement("span",{className:"".concat(i,"-inner-checked")},u),I.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))});rJ.displayName="Switch";const vPe=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:a,innerMaxMarginSM:s,handleSizeSM:o,calc:l}=e,c=`${t}-inner`,u=et(l(o).add(l(r).mul(2)).equal()),d=et(l(s).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:et(n),[`${t}-inner`]:{paddingInlineStart:s,paddingInlineEnd:a,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${c}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:o,height:o},[`${t}-loading-icon`]:{top:l(l(o).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:a,paddingInlineEnd:s,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${et(l(o).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},yPe=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},bPe=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:a,calc:s}=e,o=`${t}-handle`;return{[t]:{[o]:{position:"absolute",top:n,insetInlineStart:n,width:a,height:a,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(a).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${o}`]:{insetInlineStart:`calc(100% - ${et(s(a).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${o}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${o}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},_Pe=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:a,handleSize:s,calc:o}=e,l=`${t}-inner`,c=et(o(s).add(o(r).mul(2)).equal()),u=et(o(a).mul(2).equal());return{[t]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:a,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${l}-unchecked`]:{marginTop:o(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${l}`]:{paddingInlineStart:i,paddingInlineEnd:a,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:o(r).mul(2).equal(),marginInlineEnd:o(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:o(r).mul(-1).mul(2).equal(),marginInlineEnd:o(r).mul(2).equal()}}}}}},xPe=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},uo(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:et(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),a0(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},wPe=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,a=t*n,s=r/2,o=2,l=a-o*2,c=s-o*2;return{trackHeight:a,trackHeightSM:s,trackMinWidth:l*2+o*4,trackMinWidthSM:c*2+o*2,trackPadding:o,handleBg:i,handleSize:l,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new aa("#00230b").setA(.2).toRgbString()}`,innerMinMargin:l/2,innerMaxMargin:l+o+o*2,innerMinMarginSM:c/2,innerMaxMarginSM:c+o+o*2}},SPe=no("Switch",e=>{const t=ga(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[xPe(t),_Pe(t),bPe(t),yPe(t),vPe(t)]},wPe);var CPe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const EPe=I.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:a,className:s,rootClassName:o,style:l,checked:c,value:u,defaultChecked:d,defaultValue:h,onChange:g}=e,v=CPe(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[x,w]=Us(!1,{value:c??u,defaultValue:d??h}),{getPrefixCls:C,direction:E,switch:M}=I.useContext(ii),R=I.useContext(r0),L=(i??R)||a,N=C("switch",n),D=I.createElement("div",{className:`${N}-handle`},a&&I.createElement(I2,{className:`${N}-loading-icon`})),[H,U,q]=SPe(N),K=mp(r),Q=ut(M?.className,{[`${N}-small`]:K==="small",[`${N}-loading`]:a,[`${N}-rtl`]:E==="rtl"},s,o,U,q),X=Object.assign(Object.assign({},M?.style),l),te=function(){w(arguments.length<=0?void 0:arguments[0]),g?.apply(void 0,arguments)};return H(I.createElement(LO,{component:"Switch"},I.createElement(rJ,Object.assign({},v,{checked:x,onChange:te,prefixCls:N,className:Q,style:X,disabled:L,ref:t,loadingIcon:D}))))}),oA=EPe;oA.__ANT_SWITCH=!0;var vy={},VO="rc-table-internal-hook";function dB(e){var t=I.createContext(void 0),n=function(i){var a=i.value,s=i.children,o=I.useRef(a);o.current=a;var l=I.useState(function(){return{getValue:function(){return o.current},listeners:new Set}}),c=mt(l,1),u=c[0];return Sa(function(){g1.unstable_batchedUpdates(function(){u.listeners.forEach(function(d){d(a)})})},[a]),I.createElement(t.Provider,{value:u},s)};return{Context:t,Provider:n,defaultValue:e}}function Zu(e,t){var n=to(typeof t=="function"?t:function(d){if(t===void 0)return d;if(!Array.isArray(t))return d[t];var h={};return t.forEach(function(g){h[g]=d[g]}),h}),r=I.useContext(e?.Context),i=r||{},a=i.listeners,s=i.getValue,o=I.useRef();o.current=n(r?s():e?.defaultValue);var l=I.useState({}),c=mt(l,2),u=c[1];return Sa(function(){if(!r)return;function d(h){var g=n(h);n0(o.current,g,!0)||u({})}return a.add(d),function(){a.delete(d)}},[r]),o.current}function OPe(){var e=I.createContext(null);function t(){return I.useContext(e)}function n(i,a){var s=t0(i),o=function(c,u){var d=s?{ref:u}:{},h=I.useRef(0),g=I.useRef(c),v=t();return v!==null?I.createElement(i,In({},c,d)):((!a||a(g.current,c))&&(h.current+=1),g.current=c,I.createElement(e.Provider,{value:h.current},I.createElement(i,In({},c,d))))};return s?I.forwardRef(o):o}function r(i,a){var s=t0(i),o=function(c,u){var d=s?{ref:u}:{};return t(),I.createElement(i,In({},c,d))};return s?I.memo(I.forwardRef(o),a):I.memo(o,a)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:t}}var hB=OPe(),iJ=hB.makeImmutable,N2=hB.responseImmutable,TPe=hB.useImmutableMark,Od=dB(),aJ=I.createContext({renderWithProps:!1}),MPe="RC_TABLE_KEY";function APe(e){return e==null?[]:Array.isArray(e)?e:[e]}function WR(e){var t=[],n={};return e.forEach(function(r){for(var i=r||{},a=i.key,s=i.dataIndex,o=a||APe(s).join("-")||MPe;n[o];)o="".concat(o,"_next");n[o]=!0,t.push(o)}),t}function PD(e){return e!=null}function IPe(e){return typeof e=="number"&&!Number.isNaN(e)}function PPe(e){return e&&Rr(e)==="object"&&!Array.isArray(e)&&!I.isValidElement(e)}function RPe(e,t,n,r,i,a){var s=I.useContext(aJ),o=TPe(),l=Ax(function(){if(PD(r))return[r];var c=t==null||t===""?[]:Array.isArray(t)?t:[t],u=up(e,c),d=u,h=void 0;if(i){var g=i(u,e,n);PPe(g)?(d=g.children,h=g.props,s.renderWithProps=!0):d=g}return[d,h]},[o,e,r,t,i,n],function(c,u){if(a){var d=mt(c,2),h=d[1],g=mt(u,2),v=g[1];return a(v,h)}return s.renderWithProps?!0:!n0(c,u,!0)});return l}function $Pe(e,t,n,r){var i=e+t-1;return e<=r&&i>=n}function kPe(e,t){return Zu(Od,function(n){var r=$Pe(e,t||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var LPe=function(t){var n=t.ellipsis,r=t.rowType,i=t.children,a,s=n===!0?{showTitle:!0}:n;return s&&(s.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?a=i.toString():I.isValidElement(i)&&typeof i.props.children=="string"&&(a=i.props.children)),a};function NPe(e){var t,n,r,i,a,s,o,l,c=e.component,u=e.children,d=e.ellipsis,h=e.scope,g=e.prefixCls,v=e.className,x=e.align,w=e.record,C=e.render,E=e.dataIndex,M=e.renderIndex,R=e.shouldCellUpdate,L=e.index,N=e.rowType,D=e.colSpan,H=e.rowSpan,U=e.fixLeft,q=e.fixRight,K=e.firstFixLeft,Q=e.lastFixLeft,X=e.firstFixRight,te=e.lastFixRight,ee=e.appendNode,Z=e.additionalProps,re=Z===void 0?{}:Z,oe=e.isSticky,ce="".concat(g,"-cell"),le=Zu(Od,["supportSticky","allColumnsFixedLeft","rowHoverable"]),pe=le.supportSticky,ye=le.allColumnsFixedLeft,_e=le.rowHoverable,Se=RPe(w,E,M,u,C,R),Re=mt(Se,2),je=Re[0],Fe=Re[1],ze={},Ze=typeof U=="number"&&pe,st=typeof q=="number"&&pe;Ze&&(ze.position="sticky",ze.left=U),st&&(ze.position="sticky",ze.right=q);var Ue=(t=(n=(r=Fe?.colSpan)!==null&&r!==void 0?r:re.colSpan)!==null&&n!==void 0?n:D)!==null&&t!==void 0?t:1,Ne=(i=(a=(s=Fe?.rowSpan)!==null&&s!==void 0?s:re.rowSpan)!==null&&a!==void 0?a:H)!==null&&i!==void 0?i:1,qe=kPe(L,Ne),We=mt(qe,2),rt=We[0],ht=We[1],ft=to(function(Kt){var hn;w&&ht(L,L+Ne-1),re==null||(hn=re.onMouseEnter)===null||hn===void 0||hn.call(re,Kt)}),Rt=to(function(Kt){var hn;w&&ht(-1,-1),re==null||(hn=re.onMouseLeave)===null||hn===void 0||hn.call(re,Kt)});if(Ue===0||Ne===0)return null;var Yt=(o=re.title)!==null&&o!==void 0?o:LPe({rowType:N,ellipsis:d,children:je}),Jt=ut(ce,v,(l={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(l,"".concat(ce,"-fix-left"),Ze&&pe),"".concat(ce,"-fix-left-first"),K&&pe),"".concat(ce,"-fix-left-last"),Q&&pe),"".concat(ce,"-fix-left-all"),Q&&ye&&pe),"".concat(ce,"-fix-right"),st&&pe),"".concat(ce,"-fix-right-first"),X&&pe),"".concat(ce,"-fix-right-last"),te&&pe),"".concat(ce,"-ellipsis"),d),"".concat(ce,"-with-append"),ee),"".concat(ce,"-fix-sticky"),(Ze||st)&&oe&&pe),Te(l,"".concat(ce,"-row-hover"),!Fe&&rt)),re.className,Fe?.className),xt={};x&&(xt.textAlign=x);var Ft=Pe(Pe(Pe(Pe({},Fe?.style),ze),xt),re.style),Lt=je;return Rr(Lt)==="object"&&!Array.isArray(Lt)&&!I.isValidElement(Lt)&&(Lt=null),d&&(Q||X)&&(Lt=I.createElement("span",{className:"".concat(ce,"-content")},Lt)),I.createElement(c,In({},Fe,re,{className:Jt,style:Ft,title:Yt,scope:h,onMouseEnter:_e?ft:void 0,onMouseLeave:_e?Rt:void 0,colSpan:Ue!==1?Ue:null,rowSpan:Ne!==1?Ne:null}),ee,Lt)}const D2=I.memo(NPe);function pB(e,t,n,r,i){var a=n[e]||{},s=n[t]||{},o,l;a.fixed==="left"?o=r.left[i==="rtl"?t:e]:s.fixed==="right"&&(l=r.right[i==="rtl"?e:t]);var c=!1,u=!1,d=!1,h=!1,g=n[t+1],v=n[e-1],x=g&&!g.fixed||v&&!v.fixed||n.every(function(R){return R.fixed==="left"});if(i==="rtl"){if(o!==void 0){var w=v&&v.fixed==="left";h=!w&&x}else if(l!==void 0){var C=g&&g.fixed==="right";d=!C&&x}}else if(o!==void 0){var E=g&&g.fixed==="left";c=!E&&x}else if(l!==void 0){var M=v&&v.fixed==="right";u=!M&&x}return{fixLeft:o,fixRight:l,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:h,isSticky:r.isSticky}}var oJ=I.createContext({});function DPe(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,a=i===void 0?1:i,s=e.rowSpan,o=e.align,l=Zu(Od,["prefixCls","direction"]),c=l.prefixCls,u=l.direction,d=I.useContext(oJ),h=d.scrollColumnIndex,g=d.stickyOffsets,v=d.flattenColumns,x=n+a-1,w=x+1===h?a+1:a,C=pB(n,n+w-1,v,g,u);return I.createElement(D2,In({className:t,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:o,colSpan:w,rowSpan:s,render:function(){return r}},C))}var zPe=["children"];function BPe(e){var t=e.children,n=zr(e,zPe);return I.createElement("tr",n,t)}function qR(e){var t=e.children;return t}qR.Row=BPe;qR.Cell=DPe;function jPe(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=Zu(Od,"prefixCls"),a=r.length-1,s=r[a],o=I.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:s!=null&&s.scrollbar?a:null}},[s,r,a,n]);return I.createElement(oJ.Provider,{value:o},I.createElement("tfoot",{className:"".concat(i,"-summary")},t))}const zT=N2(jPe);var sJ=qR;function FPe(e){return null}function HPe(e){return null}function lJ(e,t,n,r,i,a,s){e.push({record:t,indent:n,index:s});var o=a(t),l=i?.has(o);if(t&&Array.isArray(t[r])&&l)for(var c=0;c<t[r].length;c+=1)lJ(e,t[r][c],n+1,r,i,a,c)}function cJ(e,t,n,r){var i=I.useMemo(function(){if(n!=null&&n.size){for(var a=[],s=0;s<e?.length;s+=1){var o=e[s];lJ(a,o,0,t,n,r,s)}return a}return e?.map(function(l,c){return{record:l,indent:0,index:c}})},[e,t,n,r]);return i}function uJ(e,t,n,r){var i=Zu(Od,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),a=i.flattenColumns,s=i.expandableType,o=i.expandedKeys,l=i.childrenColumnName,c=i.onTriggerExpand,u=i.rowExpandable,d=i.onRow,h=i.expandRowByClick,g=i.rowClassName,v=s==="nest",x=s==="row"&&(!u||u(e)),w=x||v,C=o&&o.has(t),E=l&&e&&e[l],M=to(c),R=d?.(e,n),L=R?.onClick,N=function(q){h&&w&&c(e,q);for(var K=arguments.length,Q=new Array(K>1?K-1:0),X=1;X<K;X++)Q[X-1]=arguments[X];L?.apply(void 0,[q].concat(Q))},D;typeof g=="string"?D=g:typeof g=="function"&&(D=g(e,n,r));var H=WR(a);return Pe(Pe({},i),{},{columnsKey:H,nestExpandable:v,expanded:C,hasNestChildren:E,record:e,onTriggerExpand:M,rowSupportExpand:x,expandable:w,rowProps:Pe(Pe({},R),{},{className:ut(D,R?.className),onClick:N})})}function fJ(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,a=e.className,s=e.expanded,o=e.colSpan,l=e.isEmpty,c=Zu(Od,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=c.scrollbarSize,d=c.fixHeader,h=c.fixColumn,g=c.componentWidth,v=c.horizonScroll,x=n;return(l?v&&g:h)&&(x=I.createElement("div",{style:{width:g-(d&&!l?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},x)),I.createElement(r,{className:a,style:{display:s?null:"none"}},I.createElement(D2,{component:i,prefixCls:t,colSpan:o},x))}function VPe(e){var t=e.prefixCls,n=e.record,r=e.onExpand,i=e.expanded,a=e.expandable,s="".concat(t,"-row-expand-icon");if(!a)return I.createElement("span",{className:ut(s,"".concat(t,"-row-spaced"))});var o=function(c){r(n,c),c.stopPropagation()};return I.createElement("span",{className:ut(s,Te(Te({},"".concat(t,"-row-expanded"),i),"".concat(t,"-row-collapsed"),!i)),onClick:o})}function UPe(e,t,n){var r=[];function i(a){(a||[]).forEach(function(s,o){r.push(t(s,o)),i(s[n])})}return i(e),r}function dJ(e,t,n,r){return typeof e=="string"?e:typeof e=="function"?e(t,n,r):""}function hJ(e,t,n,r,i){var a=e.record,s=e.prefixCls,o=e.columnsKey,l=e.fixedInfoList,c=e.expandIconColumnIndex,u=e.nestExpandable,d=e.indentSize,h=e.expandIcon,g=e.expanded,v=e.hasNestChildren,x=e.onTriggerExpand,w=o[n],C=l[n],E;n===(c||0)&&u&&(E=I.createElement(I.Fragment,null,I.createElement("span",{style:{paddingLeft:"".concat(d*r,"px")},className:"".concat(s,"-row-indent indent-level-").concat(r)}),h({prefixCls:s,expanded:g,expandable:v,record:a,onExpand:x})));var M;return t.onCell&&(M=t.onCell(a,i)),{key:w,fixedInfo:C,appendCellNode:E,additionalCellProps:M||{}}}function GPe(e){var t=e.className,n=e.style,r=e.record,i=e.index,a=e.renderIndex,s=e.rowKey,o=e.indent,l=o===void 0?0:o,c=e.rowComponent,u=e.cellComponent,d=e.scopeCellComponent,h=uJ(r,s,i,l),g=h.prefixCls,v=h.flattenColumns,x=h.expandedRowClassName,w=h.expandedRowRender,C=h.rowProps,E=h.expanded,M=h.rowSupportExpand,R=I.useRef(!1);R.current||(R.current=E);var L=dJ(x,r,i,l),N=I.createElement(c,In({},C,{"data-row-key":s,className:ut(t,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(l),C?.className,Te({},L,l>=1)),style:Pe(Pe({},n),C?.style)}),v.map(function(U,q){var K=U.render,Q=U.dataIndex,X=U.className,te=hJ(h,U,q,l,i),ee=te.key,Z=te.fixedInfo,re=te.appendCellNode,oe=te.additionalCellProps;return I.createElement(D2,In({className:X,ellipsis:U.ellipsis,align:U.align,scope:U.rowScope,component:U.rowScope?d:u,prefixCls:g,key:ee,record:r,index:i,renderIndex:a,dataIndex:Q,render:K,shouldCellUpdate:U.shouldCellUpdate},Z,{appendNode:re,additionalProps:oe}))})),D;if(M&&(R.current||E)){var H=w(r,i,l+1,E);D=I.createElement(fJ,{expanded:E,className:ut("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(l+1),L),prefixCls:g,component:c,cellComponent:u,colSpan:v.length,isEmpty:!1},H)}return I.createElement(I.Fragment,null,N,D)}const WPe=N2(GPe);function qPe(e){var t=e.columnKey,n=e.onColumnResize,r=I.useRef();return I.useEffect(function(){r.current&&n(t,r.current.offsetWidth)},[]),I.createElement(zf,{data:t},I.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},I.createElement("div",{style:{height:0,overflow:"hidden"}},"")))}function KPe(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize;return I.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},I.createElement(zf.Collection,{onBatchResize:function(a){a.forEach(function(s){var o=s.data,l=s.size;r(o,l.offsetWidth)})}},n.map(function(i){return I.createElement(qPe,{key:i,columnKey:i,onColumnResize:r})})))}function YPe(e){var t=e.data,n=e.measureColumnWidth,r=Zu(Od,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),i=r.prefixCls,a=r.getComponent,s=r.onColumnResize,o=r.flattenColumns,l=r.getRowKey,c=r.expandedKeys,u=r.childrenColumnName,d=r.emptyNode,h=cJ(t,u,c,l),g=I.useRef({renderWithProps:!1}),v=a(["body","wrapper"],"tbody"),x=a(["body","row"],"tr"),w=a(["body","cell"],"td"),C=a(["body","cell"],"th"),E;t.length?E=h.map(function(R,L){var N=R.record,D=R.indent,H=R.index,U=l(N,L);return I.createElement(WPe,{key:U,rowKey:U,record:N,index:L,renderIndex:H,rowComponent:x,cellComponent:w,scopeCellComponent:C,indent:D})}):E=I.createElement(fJ,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:x,cellComponent:w,colSpan:o.length,isEmpty:!0},d);var M=WR(o);return I.createElement(aJ.Provider,{value:g.current},I.createElement(v,{className:"".concat(i,"-tbody")},n&&I.createElement(KPe,{prefixCls:i,columnsKey:M,onColumnResize:s}),E))}const XPe=N2(YPe);var ZPe=["expandable"],oE="RC_TABLE_INTERNAL_COL_DEFINE";function QPe(e){var t=e.expandable,n=zr(e,ZPe),r;return"expandable"in e?r=Pe(Pe({},n),t):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var JPe=["columnType"];function pJ(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,i=Zu(Od,["tableLayout"]),a=i.tableLayout,s=[],o=r||n.length,l=!1,c=o-1;c>=0;c-=1){var u=t[c],d=n&&n[c],h=void 0,g=void 0;if(d&&(h=d[oE],a==="auto"&&(g=d.minWidth)),u||g||h||l){var v=h||{};v.columnType;var x=zr(v,JPe);s.unshift(I.createElement("col",In({key:c,style:{width:u,minWidth:g}},x))),l=!0}}return I.createElement("colgroup",null,s)}var eRe=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function tRe(e,t){return I.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(i!==void 0)n[r]=i;else return null}return n},[e.join("_"),t])}var nRe=I.forwardRef(function(e,t){var n=e.className,r=e.noData,i=e.columns,a=e.flattenColumns,s=e.colWidths,o=e.columCount,l=e.stickyOffsets,c=e.direction,u=e.fixHeader,d=e.stickyTopOffset,h=e.stickyBottomOffset,g=e.stickyClassName,v=e.onScroll,x=e.maxContentScroll,w=e.children,C=zr(e,eRe),E=Zu(Od,["prefixCls","scrollbarSize","isSticky","getComponent"]),M=E.prefixCls,R=E.scrollbarSize,L=E.isSticky,N=E.getComponent,D=N(["header","table"],"table"),H=L&&!u?0:R,U=I.useRef(null),q=I.useCallback(function(oe){OE(t,oe),OE(U,oe)},[]);I.useEffect(function(){var oe;function ce(le){var pe=le,ye=pe.currentTarget,_e=pe.deltaX;_e&&(v({currentTarget:ye,scrollLeft:ye.scrollLeft+_e}),le.preventDefault())}return(oe=U.current)===null||oe===void 0||oe.addEventListener("wheel",ce,{passive:!1}),function(){var le;(le=U.current)===null||le===void 0||le.removeEventListener("wheel",ce)}},[]);var K=I.useMemo(function(){return a.every(function(oe){return oe.width})},[a]),Q=a[a.length-1],X={fixed:Q?Q.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(M,"-cell-scrollbar")}}},te=I.useMemo(function(){return H?[].concat(_n(i),[X]):i},[H,i]),ee=I.useMemo(function(){return H?[].concat(_n(a),[X]):a},[H,a]),Z=I.useMemo(function(){var oe=l.right,ce=l.left;return Pe(Pe({},l),{},{left:c==="rtl"?[].concat(_n(ce.map(function(le){return le+H})),[0]):ce,right:c==="rtl"?oe:[].concat(_n(oe.map(function(le){return le+H})),[0]),isSticky:L})},[H,l,L]),re=tRe(s,o);return I.createElement("div",{style:Pe({overflow:"hidden"},L?{top:d,bottom:h}:{}),ref:q,className:ut(n,Te({},g,!!g))},I.createElement(D,{style:{tableLayout:"fixed",visibility:r||re?null:"hidden"}},(!r||!x||K)&&I.createElement(pJ,{colWidths:re?[].concat(_n(re),[H]):[],columCount:o+1,columns:ee}),w(Pe(Pe({},C),{},{stickyOffsets:Z,columns:te,flattenColumns:ee}))))});const rH=I.memo(nRe);var rRe=function(t){var n=t.cells,r=t.stickyOffsets,i=t.flattenColumns,a=t.rowComponent,s=t.cellComponent,o=t.onHeaderRow,l=t.index,c=Zu(Od,["prefixCls","direction"]),u=c.prefixCls,d=c.direction,h;o&&(h=o(n.map(function(v){return v.column}),l));var g=WR(n.map(function(v){return v.column}));return I.createElement(a,h,n.map(function(v,x){var w=v.column,C=pB(v.colStart,v.colEnd,i,r,d),E;return w&&w.onHeaderCell&&(E=v.column.onHeaderCell(w)),I.createElement(D2,In({},v,{scope:w.title?v.colSpan>1?"colgroup":"col":null,ellipsis:w.ellipsis,align:w.align,component:s,prefixCls:u,key:g[x]},C,{additionalProps:E,rowType:"header"}))}))};function iRe(e){var t=[];function n(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[l]=t[l]||[];var c=o,u=s.filter(Boolean).map(function(d){var h={key:d.key,className:d.className||"",children:d.title,column:d,colStart:c},g=1,v=d.children;return v&&v.length>0&&(g=n(v,c,l+1).reduce(function(x,w){return x+w},0),h.hasSubColumns=!0),"colSpan"in d&&(g=d.colSpan),"rowSpan"in d&&(h.rowSpan=d.rowSpan),h.colSpan=g,h.colEnd=h.colStart+g-1,t[l].push(h),c+=g,g});return u}n(e,0);for(var r=t.length,i=function(o){t[o].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-o)})},a=0;a<r;a+=1)i(a);return t}var aRe=function(t){var n=t.stickyOffsets,r=t.columns,i=t.flattenColumns,a=t.onHeaderRow,s=Zu(Od,["prefixCls","getComponent"]),o=s.prefixCls,l=s.getComponent,c=I.useMemo(function(){return iRe(r)},[r]),u=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),h=l(["header","cell"],"th");return I.createElement(u,{className:"".concat(o,"-thead")},c.map(function(g,v){var x=I.createElement(rRe,{key:v,flattenColumns:i,cells:g,stickyOffsets:n,rowComponent:d,cellComponent:h,onHeaderRow:a,index:v});return x}))};const iH=N2(aRe);function aH(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function oRe(e,t,n){return I.useMemo(function(){if(t&&t>0){var r=0,i=0;e.forEach(function(h){var g=aH(t,h.width);g?r+=g:i+=1});var a=Math.max(t,n),s=Math.max(a-r,i),o=i,l=s/i,c=0,u=e.map(function(h){var g=Pe({},h),v=aH(t,g.width);if(v)g.width=v;else{var x=Math.floor(l);g.width=o===1?s:x,s-=x,o-=1}return c+=g.width,g});if(c<a){var d=a/c;s=a,u.forEach(function(h,g){var v=Math.floor(h.width*d);h.width=g===u.length-1?s:v,s-=v})}return[u,Math.max(c,a)]}return[e,t]},[e,t,n])}var sRe=["children"],lRe=["fixed"];function gB(e){return Xu(e).filter(function(t){return I.isValidElement(t)}).map(function(t){var n=t.key,r=t.props,i=r.children,a=zr(r,sRe),s=Pe({key:n},a);return i&&(s.children=gB(i)),s})}function gJ(e){return e.filter(function(t){return t&&Rr(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?Pe(Pe({},t),{},{children:gJ(n)}):t})}function RD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&Rr(n)==="object"}).reduce(function(n,r,i){var a=r.fixed,s=a===!0?"left":a,o="".concat(t,"-").concat(i),l=r.children;return l&&l.length>0?[].concat(_n(n),_n(RD(l,o).map(function(c){return Pe({fixed:s},c)}))):[].concat(_n(n),[Pe(Pe({key:o},r),{},{fixed:s})])},[])}function cRe(e){return e.map(function(t){var n=t.fixed,r=zr(t,lRe),i=n;return n==="left"?i="right":n==="right"&&(i="left"),Pe({fixed:i},r)})}function uRe(e,t){var n=e.prefixCls,r=e.columns,i=e.children,a=e.expandable,s=e.expandedKeys,o=e.columnTitle,l=e.getRowKey,c=e.onTriggerExpand,u=e.expandIcon,d=e.rowExpandable,h=e.expandIconColumnIndex,g=e.direction,v=e.expandRowByClick,x=e.columnWidth,w=e.fixed,C=e.scrollWidth,E=e.clientWidth,M=I.useMemo(function(){var Q=r||gB(i)||[];return gJ(Q.slice())},[r,i]),R=I.useMemo(function(){if(a){var Q=M.slice();if(!Q.includes(vy)){var X=h||0;X>=0&&(X||w==="left"||!w)&&Q.splice(X,0,vy),w==="right"&&Q.splice(M.length,0,vy)}var te=Q.indexOf(vy);Q=Q.filter(function(oe,ce){return oe!==vy||ce===te});var ee=M[te],Z;w?Z=w:Z=ee?ee.fixed:null;var re=Te(Te(Te(Te(Te(Te({},oE,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",o),"fixed",Z),"className","".concat(n,"-row-expand-icon-cell")),"width",x),"render",function(ce,le,pe){var ye=l(le,pe),_e=s.has(ye),Se=d?d(le):!0,Re=u({prefixCls:n,expanded:_e,expandable:Se,record:le,onExpand:c});return v?I.createElement("span",{onClick:function(Fe){return Fe.stopPropagation()}},Re):Re});return Q.map(function(oe){return oe===vy?re:oe})}return M.filter(function(oe){return oe!==vy})},[a,M,l,s,u,g]),L=I.useMemo(function(){var Q=R;return t&&(Q=t(Q)),Q.length||(Q=[{render:function(){return null}}]),Q},[t,R,g]),N=I.useMemo(function(){return g==="rtl"?cRe(RD(L)):RD(L)},[L,g,C]),D=I.useMemo(function(){for(var Q=-1,X=N.length-1;X>=0;X-=1){var te=N[X].fixed;if(te==="left"||te===!0){Q=X;break}}if(Q>=0)for(var ee=0;ee<=Q;ee+=1){var Z=N[ee].fixed;if(Z!=="left"&&Z!==!0)return!0}var re=N.findIndex(function(le){var pe=le.fixed;return pe==="right"});if(re>=0)for(var oe=re;oe<N.length;oe+=1){var ce=N[oe].fixed;if(ce!=="right")return!0}return!1},[N]),H=oRe(N,C,E),U=mt(H,2),q=U[0],K=U[1];return[L,q,K,D]}function fRe(e,t,n){var r=QPe(e),i=r.expandIcon,a=r.expandedRowKeys,s=r.defaultExpandedRowKeys,o=r.defaultExpandAllRows,l=r.expandedRowRender,c=r.onExpand,u=r.onExpandedRowsChange,d=r.childrenColumnName,h=i||VPe,g=d||"children",v=I.useMemo(function(){return l?"row":e.expandable&&e.internalHooks===VO&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(L){return L&&Rr(L)==="object"&&L[g]})?"nest":!1},[!!l,t]),x=I.useState(function(){return s||(o?UPe(t,n,g):[])}),w=mt(x,2),C=w[0],E=w[1],M=I.useMemo(function(){return new Set(a||C||[])},[a,C]),R=I.useCallback(function(L){var N=n(L,t.indexOf(L)),D,H=M.has(N);H?(M.delete(N),D=_n(M)):D=[].concat(_n(M),[N]),E(D),c&&c(!H,L),u&&u(D)},[n,M,t,c,u]);return[r,v,M,h,g,R]}function dRe(e,t,n){var r=e.map(function(i,a){return pB(a,a,e,t,n)});return Ax(function(){return r},[r],function(i,a){return!n0(i,a)})}function mJ(e){var t=I.useRef(e),n=I.useState({}),r=mt(n,2),i=r[1],a=I.useRef(null),s=I.useRef([]);function o(l){s.current.push(l);var c=Promise.resolve();a.current=c,c.then(function(){if(a.current===c){var u=s.current,d=t.current;s.current=[],u.forEach(function(h){t.current=h(t.current)}),a.current=null,d!==t.current&&i({})}})}return I.useEffect(function(){return function(){a.current=null}},[]),[t.current,o]}function hRe(e){var t=I.useRef(null),n=I.useRef();function r(){window.clearTimeout(n.current)}function i(s){t.current=s,r(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function a(){return t.current}return I.useEffect(function(){return r},[]),[i,a]}function pRe(){var e=I.useState(-1),t=mt(e,2),n=t[0],r=t[1],i=I.useState(-1),a=mt(i,2),s=a[0],o=a[1],l=I.useCallback(function(c,u){r(c),o(u)},[]);return[n,s,l]}var oH=jf()?window:null;function gRe(e,t){var n=Rr(e)==="object"?e:{},r=n.offsetHeader,i=r===void 0?0:r,a=n.offsetSummary,s=a===void 0?0:a,o=n.offsetScroll,l=o===void 0?0:o,c=n.getContainer,u=c===void 0?function(){return oH}:c,d=u()||oH,h=!!e;return I.useMemo(function(){return{isSticky:h,stickyClassName:h?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:s,offsetScroll:l,container:d}},[h,l,i,s,t,d])}function mRe(e,t,n){var r=I.useMemo(function(){var i=t.length,a=function(c,u,d){for(var h=[],g=0,v=c;v!==u;v+=d)h.push(g),t[v].fixed&&(g+=e[v]||0);return h},s=a(0,i,1),o=a(i-1,-1,-1).reverse();return n==="rtl"?{left:o,right:s}:{left:s,right:o}},[e,t,n]);return r}function sH(e){var t=e.className,n=e.children;return I.createElement("div",{className:t},n)}function lH(e){var t=aR(e),n=t.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var vRe=function(t,n){var r,i,a=t.scrollBodyRef,s=t.onScroll,o=t.offsetScroll,l=t.container,c=t.direction,u=Zu(Od,"prefixCls"),d=((r=a.current)===null||r===void 0?void 0:r.scrollWidth)||0,h=((i=a.current)===null||i===void 0?void 0:i.clientWidth)||0,g=d&&h*(h/d),v=I.useRef(),x=mJ({scrollLeft:0,isHiddenScrollBar:!0}),w=mt(x,2),C=w[0],E=w[1],M=I.useRef({delta:0,x:0}),R=I.useState(!1),L=mt(R,2),N=L[0],D=L[1],H=I.useRef(null);I.useEffect(function(){return function(){ja.cancel(H.current)}},[]);var U=function(){D(!1)},q=function(ee){ee.persist(),M.current.delta=ee.pageX-C.scrollLeft,M.current.x=0,D(!0),ee.preventDefault()},K=function(ee){var Z,re=ee||((Z=window)===null||Z===void 0?void 0:Z.event),oe=re.buttons;if(!N||oe===0){N&&D(!1);return}var ce=M.current.x+ee.pageX-M.current.x-M.current.delta,le=c==="rtl";ce=Math.max(le?g-h:0,Math.min(le?0:h-g,ce));var pe=!le||Math.abs(ce)+Math.abs(g)<h;pe&&(s({scrollLeft:ce/h*(d+2)}),M.current.x=ee.pageX)},Q=function(){ja.cancel(H.current),H.current=ja(function(){if(a.current){var ee=lH(a.current).top,Z=ee+a.current.offsetHeight,re=l===window?document.documentElement.scrollTop+window.innerHeight:lH(l).top+l.clientHeight;Z-f7()<=re||ee>=re-o?E(function(oe){return Pe(Pe({},oe),{},{isHiddenScrollBar:!0})}):E(function(oe){return Pe(Pe({},oe),{},{isHiddenScrollBar:!1})})}})},X=function(ee){E(function(Z){return Pe(Pe({},Z),{},{scrollLeft:ee/d*h||0})})};return I.useImperativeHandle(n,function(){return{setScrollLeft:X,checkScrollBarVisible:Q}}),I.useEffect(function(){var te=q9(document.body,"mouseup",U,!1),ee=q9(document.body,"mousemove",K,!1);return Q(),function(){te.remove(),ee.remove()}},[g,N]),I.useEffect(function(){if(a.current){for(var te=[],ee=aR(a.current);ee;)te.push(ee),ee=ee.parentElement;return te.forEach(function(Z){return Z.addEventListener("scroll",Q,!1)}),window.addEventListener("resize",Q,!1),window.addEventListener("scroll",Q,!1),l.addEventListener("scroll",Q,!1),function(){te.forEach(function(Z){return Z.removeEventListener("scroll",Q)}),window.removeEventListener("resize",Q),window.removeEventListener("scroll",Q),l.removeEventListener("scroll",Q)}}},[l]),I.useEffect(function(){C.isHiddenScrollBar||E(function(te){var ee=a.current;return ee?Pe(Pe({},te),{},{scrollLeft:ee.scrollLeft/ee.scrollWidth*ee.clientWidth}):te})},[C.isHiddenScrollBar]),d<=h||!g||C.isHiddenScrollBar?null:I.createElement("div",{style:{height:f7(),width:h,bottom:o},className:"".concat(u,"-sticky-scroll")},I.createElement("div",{onMouseDown:q,ref:v,className:ut("".concat(u,"-sticky-scroll-bar"),Te({},"".concat(u,"-sticky-scroll-bar-active"),N)),style:{width:"".concat(g,"px"),transform:"translate3d(".concat(C.scrollLeft,"px, 0, 0)")}}))};const yRe=I.forwardRef(vRe);var vJ="rc-table",bRe=[],_Re={};function xRe(){return"No Data"}function wRe(e,t){var n=Pe({rowKey:"key",prefixCls:vJ,emptyText:xRe},e),r=n.prefixCls,i=n.className,a=n.rowClassName,s=n.style,o=n.data,l=n.rowKey,c=n.scroll,u=n.tableLayout,d=n.direction,h=n.title,g=n.footer,v=n.summary,x=n.caption,w=n.id,C=n.showHeader,E=n.components,M=n.emptyText,R=n.onRow,L=n.onHeaderRow,N=n.onScroll,D=n.internalHooks,H=n.transformColumns,U=n.internalRefs,q=n.tailor,K=n.getContainerWidth,Q=n.sticky,X=n.rowHoverable,te=X===void 0?!0:X,ee=o||bRe,Z=!!ee.length,re=D===VO,oe=I.useCallback(function(Tr,xr){return up(E,Tr)||xr},[E]),ce=I.useMemo(function(){return typeof l=="function"?l:function(Tr){var xr=Tr&&Tr[l];return xr}},[l]),le=oe(["body"]),pe=pRe(),ye=mt(pe,3),_e=ye[0],Se=ye[1],Re=ye[2],je=fRe(n,ee,ce),Fe=mt(je,6),ze=Fe[0],Ze=Fe[1],st=Fe[2],Ue=Fe[3],Ne=Fe[4],qe=Fe[5],We=c?.x,rt=I.useState(0),ht=mt(rt,2),ft=ht[0],Rt=ht[1],Yt=uRe(Pe(Pe(Pe({},n),ze),{},{expandable:!!ze.expandedRowRender,columnTitle:ze.columnTitle,expandedKeys:st,getRowKey:ce,onTriggerExpand:qe,expandIcon:Ue,expandIconColumnIndex:ze.expandIconColumnIndex,direction:d,scrollWidth:re&&q&&typeof We=="number"?We:null,clientWidth:ft}),re?H:null),Jt=mt(Yt,4),xt=Jt[0],Ft=Jt[1],Lt=Jt[2],Kt=Jt[3],hn=Lt??We,dn=I.useMemo(function(){return{columns:xt,flattenColumns:Ft}},[xt,Ft]),Cn=I.useRef(),kn=I.useRef(),sn=I.useRef(),un=I.useRef();I.useImperativeHandle(t,function(){return{nativeElement:Cn.current,scrollTo:function(xr){var ei;if(sn.current instanceof HTMLElement){var ka=xr.index,Ii=xr.top,La=xr.key;if(IPe(Ii)){var Ki;(Ki=sn.current)===null||Ki===void 0||Ki.scrollTo({top:Ii})}else{var qo,Lo=La??ce(ee[ka]);(qo=sn.current.querySelector('[data-row-key="'.concat(Lo,'"]')))===null||qo===void 0||qo.scrollIntoView()}}else(ei=sn.current)!==null&&ei!==void 0&&ei.scrollTo&&sn.current.scrollTo(xr)}}});var gn=I.useRef(),Qt=I.useState(!1),Ln=mt(Qt,2),Gt=Ln[0],He=Ln[1],be=I.useState(!1),we=mt(be,2),xe=we[0],Ye=we[1],lt=mJ(new Map),ct=mt(lt,2),_t=ct[0],yt=ct[1],jt=WR(Ft),$t=jt.map(function(Tr){return _t.get(Tr)}),vt=I.useMemo(function(){return $t},[$t.join("_")]),It=mRe(vt,Ft,d),zt=c&&PD(c.y),Dt=c&&PD(hn)||!!ze.fixed,Tt=Dt&&Ft.some(function(Tr){var xr=Tr.fixed;return xr}),xn=I.useRef(),Bt=gRe(Q,r),nn=Bt.isSticky,Fn=Bt.offsetHeader,Ht=Bt.offsetSummary,ln=Bt.offsetScroll,rn=Bt.stickyClassName,Tn=Bt.container,Un=I.useMemo(function(){return v?.(ee)},[v,ee]),ir=(zt||nn)&&I.isValidElement(Un)&&Un.type===qR&&Un.props.fixed,Dn,Er,Cr;zt&&(Er={overflowY:Z?"scroll":"auto",maxHeight:c.y}),Dt&&(Dn={overflowX:"auto"},zt||(Er={overflowY:"hidden"}),Cr={width:hn===!0?"auto":hn,minWidth:"100%"});var $r=I.useCallback(function(Tr,xr){mR(Cn.current)&&yt(function(ei){if(ei.get(Tr)!==xr){var ka=new Map(ei);return ka.set(Tr,xr),ka}return ei})},[]),Zr=hRe(),li=mt(Zr,2),Kr=li[0],$n=li[1];function sr(Tr,xr){xr&&(typeof xr=="function"?xr(Tr):xr.scrollLeft!==Tr&&(xr.scrollLeft=Tr,xr.scrollLeft!==Tr&&setTimeout(function(){xr.scrollLeft=Tr},0)))}var tr=to(function(Tr){var xr=Tr.currentTarget,ei=Tr.scrollLeft,ka=d==="rtl",Ii=typeof ei=="number"?ei:xr.scrollLeft,La=xr||_Re;if(!$n()||$n()===La){var Ki;Kr(La),sr(Ii,kn.current),sr(Ii,sn.current),sr(Ii,gn.current),sr(Ii,(Ki=xn.current)===null||Ki===void 0?void 0:Ki.setScrollLeft)}var qo=xr||kn.current;if(qo){var Lo=re&&q&&typeof hn=="number"?hn:qo.scrollWidth,na=qo.clientWidth;if(Lo===na){He(!1),Ye(!1);return}ka?(He(-Ii<Lo-na),Ye(-Ii>0)):(He(Ii>0),Ye(Ii<Lo-na))}}),Yn=to(function(Tr){tr(Tr),N?.(Tr)}),br=function(){if(Dt&&sn.current){var xr;tr({currentTarget:aR(sn.current),scrollLeft:(xr=sn.current)===null||xr===void 0?void 0:xr.scrollLeft})}else He(!1),Ye(!1)},Hr=function(xr){var ei,ka=xr.width;(ei=xn.current)===null||ei===void 0||ei.checkScrollBarVisible();var Ii=Cn.current?Cn.current.offsetWidth:ka;re&&K&&Cn.current&&(Ii=K(Cn.current,Ii)||Ii),Ii!==ft&&(br(),Rt(Ii))},ki=I.useRef(!1);I.useEffect(function(){ki.current&&br()},[Dt,o,xt.length]),I.useEffect(function(){ki.current=!0},[]);var Vi=I.useState(0),pr=mt(Vi,2),_r=pr[0],Vr=pr[1],ta=I.useState(!0),Wo=mt(ta,2),Ks=Wo[0],$o=Wo[1];I.useEffect(function(){(!q||!re)&&(sn.current instanceof Element?Vr(rD(sn.current).width):Vr(rD(un.current).width)),$o(pD("position","sticky"))},[]),I.useEffect(function(){re&&U&&(U.body.current=sn.current)});var ma=I.useCallback(function(Tr){return I.createElement(I.Fragment,null,I.createElement(iH,Tr),ir==="top"&&I.createElement(zT,Tr,Un))},[ir,Un]),ms=I.useCallback(function(Tr){return I.createElement(zT,Tr,Un)},[Un]),Ys=oe(["table"],"table"),ko=I.useMemo(function(){return u||(Tt?hn==="max-content"?"auto":"fixed":zt||nn||Ft.some(function(Tr){var xr=Tr.ellipsis;return xr})?"fixed":"auto")},[zt,Tt,Ft,u,nn]),il,ai={colWidths:vt,columCount:Ft.length,stickyOffsets:It,onHeaderRow:L,fixHeader:zt,scroll:c},gr=I.useMemo(function(){return Z?null:typeof M=="function"?M():M},[Z,M]),Jn=I.createElement(XPe,{data:ee,measureColumnWidth:zt||Dt||nn}),ur=I.createElement(pJ,{colWidths:Ft.map(function(Tr){var xr=Tr.width;return xr}),columns:Ft}),ci=x!=null?I.createElement("caption",{className:"".concat(r,"-caption")},x):void 0,Ci=gg(n,{data:!0}),Ei=gg(n,{aria:!0});if(zt||nn){var ro;typeof le=="function"?(ro=le(ee,{scrollbarSize:_r,ref:sn,onScroll:tr}),ai.colWidths=Ft.map(function(Tr,xr){var ei=Tr.width,ka=xr===Ft.length-1?ei-_r:ei;return typeof ka=="number"&&!Number.isNaN(ka)?ka:0})):ro=I.createElement("div",{style:Pe(Pe({},Dn),Er),onScroll:Yn,ref:sn,className:ut("".concat(r,"-body"))},I.createElement(Ys,In({style:Pe(Pe({},Cr),{},{tableLayout:ko})},Ei),ci,ur,Jn,!ir&&Un&&I.createElement(zT,{stickyOffsets:It,flattenColumns:Ft},Un)));var Br=Pe(Pe(Pe({noData:!ee.length,maxContentScroll:Dt&&hn==="max-content"},ai),dn),{},{direction:d,stickyClassName:rn,onScroll:tr});il=I.createElement(I.Fragment,null,C!==!1&&I.createElement(rH,In({},Br,{stickyTopOffset:Fn,className:"".concat(r,"-header"),ref:kn}),ma),ro,ir&&ir!=="top"&&I.createElement(rH,In({},Br,{stickyBottomOffset:Ht,className:"".concat(r,"-summary"),ref:gn}),ms),nn&&sn.current&&sn.current instanceof Element&&I.createElement(yRe,{ref:xn,offsetScroll:ln,scrollBodyRef:sn,onScroll:tr,container:Tn,direction:d}))}else il=I.createElement("div",{style:Pe(Pe({},Dn),Er),className:ut("".concat(r,"-content")),onScroll:tr,ref:sn},I.createElement(Ys,In({style:Pe(Pe({},Cr),{},{tableLayout:ko})},Ei),ci,ur,C!==!1&&I.createElement(iH,In({},ai,dn)),Jn,Un&&I.createElement(zT,{stickyOffsets:It,flattenColumns:Ft},Un)));var Ui=I.createElement("div",In({className:ut(r,i,Te(Te(Te(Te(Te(Te(Te(Te(Te(Te({},"".concat(r,"-rtl"),d==="rtl"),"".concat(r,"-ping-left"),Gt),"".concat(r,"-ping-right"),xe),"".concat(r,"-layout-fixed"),u==="fixed"),"".concat(r,"-fixed-header"),zt),"".concat(r,"-fixed-column"),Tt),"".concat(r,"-fixed-column-gapped"),Tt&&Kt),"".concat(r,"-scroll-horizontal"),Dt),"".concat(r,"-has-fix-left"),Ft[0]&&Ft[0].fixed),"".concat(r,"-has-fix-right"),Ft[Ft.length-1]&&Ft[Ft.length-1].fixed==="right")),style:s,id:w,ref:Cn},Ci),h&&I.createElement(sH,{className:"".concat(r,"-title")},h(ee)),I.createElement("div",{ref:un,className:"".concat(r,"-container")},il),g&&I.createElement(sH,{className:"".concat(r,"-footer")},g(ee)));Dt&&(Ui=I.createElement(zf,{onResize:Hr},Ui));var Fa=dRe(Ft,It,d),bo=I.useMemo(function(){return{scrollX:hn,prefixCls:r,getComponent:oe,scrollbarSize:_r,direction:d,fixedInfoList:Fa,isSticky:nn,supportSticky:Ks,componentWidth:ft,fixHeader:zt,fixColumn:Tt,horizonScroll:Dt,tableLayout:ko,rowClassName:a,expandedRowClassName:ze.expandedRowClassName,expandIcon:Ue,expandableType:Ze,expandRowByClick:ze.expandRowByClick,expandedRowRender:ze.expandedRowRender,onTriggerExpand:qe,expandIconColumnIndex:ze.expandIconColumnIndex,indentSize:ze.indentSize,allColumnsFixedLeft:Ft.every(function(Tr){return Tr.fixed==="left"}),emptyNode:gr,columns:xt,flattenColumns:Ft,onColumnResize:$r,hoverStartRow:_e,hoverEndRow:Se,onHover:Re,rowExpandable:ze.rowExpandable,onRow:R,getRowKey:ce,expandedKeys:st,childrenColumnName:Ne,rowHoverable:te}},[hn,r,oe,_r,d,Fa,nn,Ks,ft,zt,Tt,Dt,ko,a,ze.expandedRowClassName,Ue,Ze,ze.expandRowByClick,ze.expandedRowRender,qe,ze.expandIconColumnIndex,ze.indentSize,gr,xt,Ft,$r,_e,Se,Re,ze.rowExpandable,R,ce,st,Ne,te]);return I.createElement(Od.Provider,{value:bo},Ui)}var SRe=I.forwardRef(wRe);function yJ(e){return iJ(SRe,e)}var z2=yJ();z2.EXPAND_COLUMN=vy;z2.INTERNAL_HOOKS=VO;z2.Column=FPe;z2.ColumnGroup=HPe;z2.Summary=sJ;var mB=dB(null),bJ=dB(null);function CRe(e,t,n){var r=t||1;return n[e+r]-(n[e]||0)}function ERe(e){var t=e.rowInfo,n=e.column,r=e.colIndex,i=e.indent,a=e.index,s=e.component,o=e.renderIndex,l=e.record,c=e.style,u=e.className,d=e.inverse,h=e.getHeight,g=n.render,v=n.dataIndex,x=n.className,w=n.width,C=Zu(bJ,["columnsOffset"]),E=C.columnsOffset,M=hJ(t,n,r,i,a),R=M.key,L=M.fixedInfo,N=M.appendCellNode,D=M.additionalCellProps,H=D.style,U=D.colSpan,q=U===void 0?1:U,K=D.rowSpan,Q=K===void 0?1:K,X=r-1,te=CRe(X,q,E),ee=q>1?w-te:0,Z=Pe(Pe(Pe({},H),c),{},{flex:"0 0 ".concat(te,"px"),width:"".concat(te,"px"),marginRight:ee,pointerEvents:"auto"}),re=I.useMemo(function(){return d?Q<=1:q===0||Q===0||Q>1},[Q,q,d]);re?Z.visibility="hidden":d&&(Z.height=h?.(Q));var oe=re?function(){return null}:g,ce={};return(Q===0||q===0)&&(ce.rowSpan=1,ce.colSpan=1),I.createElement(D2,In({className:ut(x,u),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:s,prefixCls:t.prefixCls,key:R,record:l,index:a,renderIndex:o,dataIndex:v,render:oe,shouldCellUpdate:n.shouldCellUpdate},L,{appendNode:N,additionalProps:Pe(Pe({},D),{},{style:Z},ce)}))}var ORe=["data","index","className","rowKey","style","extra","getHeight"],TRe=I.forwardRef(function(e,t){var n=e.data,r=e.index,i=e.className,a=e.rowKey,s=e.style,o=e.extra,l=e.getHeight,c=zr(e,ORe),u=n.record,d=n.indent,h=n.index,g=Zu(Od,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=g.scrollX,x=g.flattenColumns,w=g.prefixCls,C=g.fixColumn,E=g.componentWidth,M=Zu(mB,["getComponent"]),R=M.getComponent,L=uJ(u,a,r,d),N=R(["body","row"],"div"),D=R(["body","cell"],"div"),H=L.rowSupportExpand,U=L.expanded,q=L.rowProps,K=L.expandedRowRender,Q=L.expandedRowClassName,X;if(H&&U){var te=K(u,r,d+1,U),ee=dJ(Q,u,r,d),Z={};C&&(Z={style:Te({},"--virtual-width","".concat(E,"px"))});var re="".concat(w,"-expanded-row-cell");X=I.createElement(N,{className:ut("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(d+1),ee)},I.createElement(D2,{component:D,prefixCls:w,className:ut(re,Te({},"".concat(re,"-fixed"),C)),additionalProps:Z},te))}var oe=Pe(Pe({},s),{},{width:v});o&&(oe.position="absolute",oe.pointerEvents="none");var ce=I.createElement(N,In({},q,c,{"data-row-key":a,ref:H?null:t,className:ut(i,"".concat(w,"-row"),q?.className,Te({},"".concat(w,"-row-extra"),o)),style:Pe(Pe({},oe),q?.style)}),x.map(function(le,pe){return I.createElement(ERe,{key:pe,component:D,rowInfo:L,column:le,colIndex:pe,indent:d,index:r,renderIndex:h,record:u,inverse:o,getHeight:l})}));return H?I.createElement("div",{ref:t},ce,X):ce}),cH=N2(TRe),MRe=I.forwardRef(function(e,t){var n=e.data,r=e.onScroll,i=Zu(Od,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),a=i.flattenColumns,s=i.onColumnResize,o=i.getRowKey,l=i.expandedKeys,c=i.prefixCls,u=i.childrenColumnName,d=i.scrollX,h=i.direction,g=Zu(mB),v=g.sticky,x=g.scrollY,w=g.listItemHeight,C=g.getComponent,E=g.onScroll,M=I.useRef(),R=cJ(n,u,l,o),L=I.useMemo(function(){var X=0;return a.map(function(te){var ee=te.width,Z=te.key;return X+=ee,[Z,ee,X]})},[a]),N=I.useMemo(function(){return L.map(function(X){return X[2]})},[L]);I.useEffect(function(){L.forEach(function(X){var te=mt(X,2),ee=te[0],Z=te[1];s(ee,Z)})},[L]),I.useImperativeHandle(t,function(){var X,te={scrollTo:function(Z){var re;(re=M.current)===null||re===void 0||re.scrollTo(Z)},nativeElement:(X=M.current)===null||X===void 0?void 0:X.nativeElement};return Object.defineProperty(te,"scrollLeft",{get:function(){var Z;return((Z=M.current)===null||Z===void 0?void 0:Z.getScrollInfo().x)||0},set:function(Z){var re;(re=M.current)===null||re===void 0||re.scrollTo({left:Z})}}),te});var D=function(te,ee){var Z,re=(Z=R[ee])===null||Z===void 0?void 0:Z.record,oe=te.onCell;if(oe){var ce,le=oe(re,ee);return(ce=le?.rowSpan)!==null&&ce!==void 0?ce:1}return 1},H=function(te){var ee=te.start,Z=te.end,re=te.getSize,oe=te.offsetY;if(Z<0)return null;for(var ce=a.filter(function(Ue){return D(Ue,ee)===0}),le=ee,pe=function(Ne){if(ce=ce.filter(function(qe){return D(qe,Ne)===0}),!ce.length)return le=Ne,1},ye=ee;ye>=0&&!pe(ye);ye-=1);for(var _e=a.filter(function(Ue){return D(Ue,Z)!==1}),Se=Z,Re=function(Ne){if(_e=_e.filter(function(qe){return D(qe,Ne)!==1}),!_e.length)return Se=Math.max(Ne-1,Z),1},je=Z;je<R.length&&!Re(je);je+=1);for(var Fe=[],ze=function(Ne){var qe=R[Ne];if(!qe)return 1;a.some(function(We){return D(We,Ne)>1})&&Fe.push(Ne)},Ze=le;Ze<=Se;Ze+=1)ze(Ze);var st=Fe.map(function(Ue){var Ne=R[Ue],qe=o(Ne.record,Ue),We=function(ft){var Rt=Ue+ft-1,Yt=o(R[Rt].record,Rt),Jt=re(qe,Yt);return Jt.bottom-Jt.top},rt=re(qe);return I.createElement(cH,{key:Ue,data:Ne,rowKey:qe,index:Ue,style:{top:-oe+rt.top},extra:!0,getHeight:We})});return st},U=I.useMemo(function(){return{columnsOffset:N}},[N]),q="".concat(c,"-tbody"),K=C(["body","wrapper"]),Q={};return v&&(Q.position="sticky",Q.bottom=0,Rr(v)==="object"&&v.offsetScroll&&(Q.bottom=v.offsetScroll)),I.createElement(bJ.Provider,{value:U},I.createElement(IR,{fullHeight:!1,ref:M,prefixCls:"".concat(q,"-virtual"),styles:{horizontalScrollBar:Q},className:q,height:x,itemHeight:w||24,data:R,itemKey:function(te){return o(te.record)},component:K,scrollWidth:d,direction:h,onVirtualScroll:function(te){var ee,Z=te.x;r({currentTarget:(ee=M.current)===null||ee===void 0?void 0:ee.nativeElement,scrollLeft:Z})},onScroll:E,extraRender:H},function(X,te,ee){var Z=o(X.record,te);return I.createElement(cH,{data:X,rowKey:Z,index:te,style:ee.style})}))}),ARe=N2(MRe),IRe=function(t,n){var r=n.ref,i=n.onScroll;return I.createElement(ARe,{ref:r,data:t,onScroll:i})};function PRe(e,t){var n=e.data,r=e.columns,i=e.scroll,a=e.sticky,s=e.prefixCls,o=s===void 0?vJ:s,l=e.className,c=e.listItemHeight,u=e.components,d=e.onScroll,h=i||{},g=h.x,v=h.y;typeof g!="number"&&(g=1),typeof v!="number"&&(v=500);var x=to(function(E,M){return up(u,E)||M}),w=to(d),C=I.useMemo(function(){return{sticky:a,scrollY:v,listItemHeight:c,getComponent:x,onScroll:w}},[a,v,c,x,w]);return I.createElement(mB.Provider,{value:C},I.createElement(z2,In({},e,{className:ut(l,"".concat(o,"-virtual")),scroll:Pe(Pe({},i),{},{x:g}),components:Pe(Pe({},u),{},{body:n!=null&&n.length?IRe:void 0}),columns:r,internalHooks:VO,tailor:!0,ref:t})))}var RRe=I.forwardRef(PRe);function _J(e){return iJ(RRe,e)}_J();const $Re=e=>null,kRe=e=>null;var vB=I.createContext(null),LRe=I.createContext({}),NRe=function(t){for(var n=t.prefixCls,r=t.level,i=t.isStart,a=t.isEnd,s="".concat(n,"-indent-unit"),o=[],l=0;l<r;l+=1)o.push(I.createElement("span",{key:l,className:ut(s,Te(Te({},"".concat(s,"-start"),i[l]),"".concat(s,"-end"),a[l]))}));return I.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},o)};const DRe=I.memo(NRe);var zRe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],uH="open",fH="close",BRe="---",BE=function(t){var n,r,i,a=t.eventKey,s=t.className,o=t.style,l=t.dragOver,c=t.dragOverGapTop,u=t.dragOverGapBottom,d=t.isLeaf,h=t.isStart,g=t.isEnd,v=t.expanded,x=t.selected,w=t.checked,C=t.halfChecked,E=t.loading,M=t.domRef,R=t.active,L=t.data,N=t.onMouseMove,D=t.selectable,H=zr(t,zRe),U=it.useContext(vB),q=it.useContext(LRe),K=it.useRef(null),Q=it.useState(!1),X=mt(Q,2),te=X[0],ee=X[1],Z=!!(U.disabled||t.disabled||(n=q.nodeDisabled)!==null&&n!==void 0&&n.call(q,L)),re=it.useMemo(function(){return!U.checkable||t.checkable===!1?!1:U.checkable},[U.checkable,t.checkable]),oe=function(Qt){Z||U.onNodeSelect(Qt,Ac(t))},ce=function(Qt){Z||!re||t.disableCheckbox||U.onNodeCheck(Qt,Ac(t),!w)},le=it.useMemo(function(){return typeof D=="boolean"?D:U.selectable},[D,U.selectable]),pe=function(Qt){U.onNodeClick(Qt,Ac(t)),le?oe(Qt):ce(Qt)},ye=function(Qt){U.onNodeDoubleClick(Qt,Ac(t))},_e=function(Qt){U.onNodeMouseEnter(Qt,Ac(t))},Se=function(Qt){U.onNodeMouseLeave(Qt,Ac(t))},Re=function(Qt){U.onNodeContextMenu(Qt,Ac(t))},je=it.useMemo(function(){return!!(U.draggable&&(!U.draggable.nodeDraggable||U.draggable.nodeDraggable(L)))},[U.draggable,L]),Fe=function(Qt){Qt.stopPropagation(),ee(!0),U.onNodeDragStart(Qt,t);try{Qt.dataTransfer.setData("text/plain","")}catch{}},ze=function(Qt){Qt.preventDefault(),Qt.stopPropagation(),U.onNodeDragEnter(Qt,t)},Ze=function(Qt){Qt.preventDefault(),Qt.stopPropagation(),U.onNodeDragOver(Qt,t)},st=function(Qt){Qt.stopPropagation(),U.onNodeDragLeave(Qt,t)},Ue=function(Qt){Qt.stopPropagation(),ee(!1),U.onNodeDragEnd(Qt,t)},Ne=function(Qt){Qt.preventDefault(),Qt.stopPropagation(),ee(!1),U.onNodeDrop(Qt,t)},qe=function(Qt){E||U.onNodeExpand(Qt,Ac(t))},We=it.useMemo(function(){var gn=lh(U.keyEntities,a)||{},Qt=gn.children;return!!(Qt||[]).length},[U.keyEntities,a]),rt=it.useMemo(function(){return d===!1?!1:d||!U.loadData&&!We||U.loadData&&t.loaded&&!We},[d,U.loadData,We,t.loaded]);it.useEffect(function(){E||typeof U.loadData=="function"&&v&&!rt&&!t.loaded&&U.onNodeLoad(Ac(t))},[E,U.loadData,U.onNodeLoad,v,rt,t]);var ht=it.useMemo(function(){var gn;return(gn=U.draggable)!==null&&gn!==void 0&&gn.icon?it.createElement("span",{className:"".concat(U.prefixCls,"-draggable-icon")},U.draggable.icon):null},[U.draggable]),ft=function(Qt){var Ln=t.switcherIcon||U.switcherIcon;return typeof Ln=="function"?Ln(Pe(Pe({},t),{},{isLeaf:Qt})):Ln},Rt=function(){if(rt){var Qt=ft(!0);return Qt!==!1?it.createElement("span",{className:ut("".concat(U.prefixCls,"-switcher"),"".concat(U.prefixCls,"-switcher-noop"))},Qt):null}var Ln=ft(!1);return Ln!==!1?it.createElement("span",{onClick:qe,className:ut("".concat(U.prefixCls,"-switcher"),"".concat(U.prefixCls,"-switcher_").concat(v?uH:fH))},Ln):null},Yt=it.useMemo(function(){if(!re)return null;var gn=typeof re!="boolean"?re:null;return it.createElement("span",{className:ut("".concat(U.prefixCls,"-checkbox"),Te(Te(Te({},"".concat(U.prefixCls,"-checkbox-checked"),w),"".concat(U.prefixCls,"-checkbox-indeterminate"),!w&&C),"".concat(U.prefixCls,"-checkbox-disabled"),Z||t.disableCheckbox)),onClick:ce,role:"checkbox","aria-checked":C?"mixed":w,"aria-disabled":Z||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},gn)},[re,w,C,Z,t.disableCheckbox,t.title]),Jt=it.useMemo(function(){return rt?null:v?uH:fH},[rt,v]),xt=it.useMemo(function(){return it.createElement("span",{className:ut("".concat(U.prefixCls,"-iconEle"),"".concat(U.prefixCls,"-icon__").concat(Jt||"docu"),Te({},"".concat(U.prefixCls,"-icon_loading"),E))})},[U.prefixCls,Jt,E]),Ft=it.useMemo(function(){var gn=!!U.draggable,Qt=!t.disabled&&gn&&U.dragOverNodeKey===a;return Qt?U.dropIndicatorRender({dropPosition:U.dropPosition,dropLevelOffset:U.dropLevelOffset,indent:U.indent,prefixCls:U.prefixCls,direction:U.direction}):null},[U.dropPosition,U.dropLevelOffset,U.indent,U.prefixCls,U.direction,U.draggable,U.dragOverNodeKey,U.dropIndicatorRender]),Lt=it.useMemo(function(){var gn=t.title,Qt=gn===void 0?BRe:gn,Ln="".concat(U.prefixCls,"-node-content-wrapper"),Gt;if(U.showIcon){var He=t.icon||U.icon;Gt=He?it.createElement("span",{className:ut("".concat(U.prefixCls,"-iconEle"),"".concat(U.prefixCls,"-icon__customize"))},typeof He=="function"?He(t):He):xt}else U.loadData&&E&&(Gt=xt);var be;return typeof Qt=="function"?be=Qt(L):U.titleRender?be=U.titleRender(L):be=Qt,it.createElement("span",{ref:K,title:typeof Qt=="string"?Qt:"",className:ut(Ln,"".concat(Ln,"-").concat(Jt||"normal"),Te({},"".concat(U.prefixCls,"-node-selected"),!Z&&(x||te))),onMouseEnter:_e,onMouseLeave:Se,onContextMenu:Re,onClick:pe,onDoubleClick:ye},Gt,it.createElement("span",{className:"".concat(U.prefixCls,"-title")},be),Ft)},[U.prefixCls,U.showIcon,t,U.icon,xt,U.titleRender,L,Jt,_e,Se,Re,pe,ye]),Kt=gg(H,{aria:!0,data:!0}),hn=lh(U.keyEntities,a)||{},dn=hn.level,Cn=g[g.length-1],kn=!Z&&je,sn=U.draggingNodeKey===a,un=D!==void 0?{"aria-selected":!!D}:void 0;return it.createElement("div",In({ref:M,role:"treeitem","aria-expanded":d?void 0:v,className:ut(s,"".concat(U.prefixCls,"-treenode"),(i={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(i,"".concat(U.prefixCls,"-treenode-disabled"),Z),"".concat(U.prefixCls,"-treenode-switcher-").concat(v?"open":"close"),!d),"".concat(U.prefixCls,"-treenode-checkbox-checked"),w),"".concat(U.prefixCls,"-treenode-checkbox-indeterminate"),C),"".concat(U.prefixCls,"-treenode-selected"),x),"".concat(U.prefixCls,"-treenode-loading"),E),"".concat(U.prefixCls,"-treenode-active"),R),"".concat(U.prefixCls,"-treenode-leaf-last"),Cn),"".concat(U.prefixCls,"-treenode-draggable"),je),"dragging",sn),Te(Te(Te(Te(Te(Te(Te(i,"drop-target",U.dropTargetKey===a),"drop-container",U.dropContainerKey===a),"drag-over",!Z&&l),"drag-over-gap-top",!Z&&c),"drag-over-gap-bottom",!Z&&u),"filter-node",(r=U.filterTreeNode)===null||r===void 0?void 0:r.call(U,Ac(t))),"".concat(U.prefixCls,"-treenode-leaf"),rt))),style:o,draggable:kn,onDragStart:kn?Fe:void 0,onDragEnter:je?ze:void 0,onDragOver:je?Ze:void 0,onDragLeave:je?st:void 0,onDrop:je?Ne:void 0,onDragEnd:je?Ue:void 0,onMouseMove:N},un,Kt),it.createElement(DRe,{prefixCls:U.prefixCls,level:dn,isStart:h,isEnd:g}),ht,Rt(),Yt,Lt)};BE.isTreeNode=1;function Tv(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function py(e,t){var n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function yB(e){return e.split("-")}function jRe(e,t){var n=[],r=lh(t,e);function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(function(s){var o=s.key,l=s.children;n.push(o),i(l)})}return i(r.children),n}function FRe(e){if(e.parent){var t=yB(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function HRe(e){var t=yB(e.pos);return Number(t[t.length-1])===0}function dH(e,t,n,r,i,a,s,o,l,c){var u,d=e.clientX,h=e.clientY,g=e.target.getBoundingClientRect(),v=g.top,x=g.height,w=(c==="rtl"?-1:1)*((i?.x||0)-d),C=(w-12)/r,E=l.filter(function(Z){var re;return(re=o[Z])===null||re===void 0||(re=re.children)===null||re===void 0?void 0:re.length}),M=lh(o,n.eventKey);if(h<v+x/2){var R=s.findIndex(function(Z){return Z.key===M.key}),L=R<=0?0:R-1,N=s[L].key;M=lh(o,N)}var D=M.key,H=M,U=M.key,q=0,K=0;if(!E.includes(D))for(var Q=0;Q<C&&FRe(M);Q+=1)M=M.parent,K+=1;var X=t.data,te=M.node,ee=!0;return HRe(M)&&M.level===0&&h<v+x/2&&a({dragNode:X,dropNode:te,dropPosition:-1})&&M.key===n.eventKey?q=-1:(H.children||[]).length&&E.includes(U)?a({dragNode:X,dropNode:te,dropPosition:0})?q=0:ee=!1:K===0?C>-1.5?a({dragNode:X,dropNode:te,dropPosition:1})?q=1:ee=!1:a({dragNode:X,dropNode:te,dropPosition:0})?q=0:a({dragNode:X,dropNode:te,dropPosition:1})?q=1:ee=!1:a({dragNode:X,dropNode:te,dropPosition:1})?q=1:ee=!1,{dropPosition:q,dropLevelOffset:K,dropTargetKey:M.key,dropTargetPos:M.pos,dragOverNodeKey:U,dropContainerKey:q===0?null:((u=M.parent)===null||u===void 0?void 0:u.key)||null,dropAllowed:ee}}function hH(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function g3(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(Rr(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return vl(!1,"`checkedKeys` is not an array or an object"),null;return t}function $D(e,t){var n=new Set;function r(i){if(!n.has(i)){var a=lh(t,i);if(a){n.add(i);var s=a.parent,o=a.node;o.disabled||s&&r(s.key)}}}return(e||[]).forEach(function(i){r(i)}),_n(n)}function VRe(e){const[t,n]=I.useState(null);return[I.useCallback((a,s,o)=>{const l=t??a,c=Math.min(l||0,a),u=Math.max(l||0,a),d=s.slice(c,u+1).map(v=>e(v)),h=d.some(v=>!o.has(v)),g=[];return d.forEach(v=>{h?(o.has(v)||g.push(v),o.add(v)):(o.delete(v),g.push(v))}),n(h?u:null),g},[t]),a=>{n(a)}]}const qb={},kD="SELECT_ALL",LD="SELECT_INVERT",ND="SELECT_NONE",pH=[],xJ=(e,t)=>{let n=[];return(t||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&e in r&&(n=[].concat(_n(n),_n(xJ(e,r[e]))))}),n},URe=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:a,onChange:s,onSelect:o,onSelectAll:l,onSelectInvert:c,onSelectNone:u,onSelectMultiple:d,columnWidth:h,type:g,selections:v,fixed:x,renderCell:w,hideSelectAll:C,checkStrictly:E=!0}=t||{},{prefixCls:M,data:R,pageData:L,getRecordByKey:N,getRowKey:D,expandType:H,childrenColumnName:U,locale:q,getPopupContainer:K}=e,Q=M2(),[X,te]=VRe(Ue=>Ue),[ee,Z]=Us(r||i||pH,{value:r}),re=I.useRef(new Map),oe=I.useCallback(Ue=>{if(n){const Ne=new Map;Ue.forEach(qe=>{let We=N(qe);!We&&re.current.has(qe)&&(We=re.current.get(qe)),Ne.set(qe,We)}),re.current=Ne}},[N,n]);I.useEffect(()=>{oe(ee)},[ee]);const ce=I.useMemo(()=>xJ(U,L),[U,L]),{keyEntities:le}=I.useMemo(()=>{if(E)return{keyEntities:null};let Ue=R;if(n){const Ne=new Set(ce.map((We,rt)=>D(We,rt))),qe=Array.from(re.current).reduce((We,rt)=>{let[ht,ft]=rt;return Ne.has(ht)?We:We.concat(ft)},[]);Ue=[].concat(_n(Ue),_n(qe))}return oB(Ue,{externalGetKey:D,childrenPropName:U})},[R,D,E,U,n,ce]),pe=I.useMemo(()=>{const Ue=new Map;return ce.forEach((Ne,qe)=>{const We=D(Ne,qe),rt=(a?a(Ne):null)||{};Ue.set(We,rt)}),Ue},[ce,D,a]),ye=I.useCallback(Ue=>{const Ne=D(Ue);let qe;return pe.has(Ne)?qe=pe.get(D(Ue)):qe=a?a(Ue):void 0,!!qe?.disabled},[pe,D]),[_e,Se]=I.useMemo(()=>{if(E)return[ee||[],[]];const{checkedKeys:Ue,halfCheckedKeys:Ne}=hS(ee,!0,le,ye);return[Ue||[],Ne]},[ee,E,le,ye]),Re=I.useMemo(()=>{const Ue=g==="radio"?_e.slice(0,1):_e;return new Set(Ue)},[_e,g]),je=I.useMemo(()=>g==="radio"?new Set:new Set(Se),[Se,g]);I.useEffect(()=>{t||Z(pH)},[!!t]);const Fe=I.useCallback((Ue,Ne)=>{let qe,We;oe(Ue),n?(qe=Ue,We=Ue.map(rt=>re.current.get(rt))):(qe=[],We=[],Ue.forEach(rt=>{const ht=N(rt);ht!==void 0&&(qe.push(rt),We.push(ht))})),Z(qe),s?.(qe,We,{type:Ne})},[Z,N,s,n]),ze=I.useCallback((Ue,Ne,qe,We)=>{if(o){const rt=qe.map(ht=>N(ht));o(N(Ue),Ne,rt,We)}Fe(qe,"single")},[o,N,Fe]),Ze=I.useMemo(()=>!v||C?null:(v===!0?[kD,LD,ND]:v).map(Ne=>Ne===kD?{key:"all",text:q.selectionAll,onSelect(){Fe(R.map((qe,We)=>D(qe,We)).filter(qe=>{const We=pe.get(qe);return!We?.disabled||Re.has(qe)}),"all")}}:Ne===LD?{key:"invert",text:q.selectInvert,onSelect(){const qe=new Set(Re);L.forEach((rt,ht)=>{const ft=D(rt,ht),Rt=pe.get(ft);Rt?.disabled||(qe.has(ft)?qe.delete(ft):qe.add(ft))});const We=Array.from(qe);c&&(Q.deprecated(!1,"onSelectInvert","onChange"),c(We)),Fe(We,"invert")}}:Ne===ND?{key:"none",text:q.selectNone,onSelect(){u?.(),Fe(Array.from(Re).filter(qe=>{const We=pe.get(qe);return We?.disabled}),"none")}}:Ne).map(Ne=>Object.assign(Object.assign({},Ne),{onSelect:function(){for(var qe,We,rt=arguments.length,ht=new Array(rt),ft=0;ft<rt;ft++)ht[ft]=arguments[ft];(We=Ne.onSelect)===null||We===void 0||(qe=We).call.apply(qe,[Ne].concat(ht)),te(null)}})),[v,Re,L,D,c,Fe]);return[I.useCallback(Ue=>{var Ne;if(!t)return Ue.filter(un=>un!==qb);let qe=_n(Ue);const We=new Set(Re),rt=ce.map(D).filter(un=>!pe.get(un).disabled),ht=rt.every(un=>We.has(un)),ft=rt.some(un=>We.has(un)),Rt=()=>{const un=[];ht?rt.forEach(Qt=>{We.delete(Qt),un.push(Qt)}):rt.forEach(Qt=>{We.has(Qt)||(We.add(Qt),un.push(Qt))});const gn=Array.from(We);l?.(!ht,gn.map(Qt=>N(Qt)),un.map(Qt=>N(Qt))),Fe(gn,"all"),te(null)};let Yt,Jt;if(g!=="radio"){let un;if(Ze){const He={getPopupContainer:K,items:Ze.map((be,we)=>{const{key:xe,text:Ye,onSelect:lt}=be;return{key:xe??we,onClick:()=>{lt?.(rt)},label:Ye}})};un=I.createElement("div",{className:`${M}-selection-extra`},I.createElement(lB,{menu:He,getPopupContainer:K},I.createElement("span",null,I.createElement(Fz,null))))}const gn=ce.map((He,be)=>{const we=D(He,be),xe=pe.get(we)||{};return Object.assign({checked:We.has(we)},xe)}).filter(He=>{let{disabled:be}=He;return be}),Qt=!!gn.length&&gn.length===ce.length,Ln=Qt&&gn.every(He=>{let{checked:be}=He;return be}),Gt=Qt&&gn.some(He=>{let{checked:be}=He;return be});Jt=I.createElement(ng,{checked:Qt?Ln:!!ce.length&&ht,indeterminate:Qt?!Ln&&Gt:!ht&&ft,onChange:Rt,disabled:ce.length===0||Qt,"aria-label":un?"Custom selection":"Select all",skipGroup:!0}),Yt=!C&&I.createElement("div",{className:`${M}-selection`},Jt,un)}let xt;g==="radio"?xt=(un,gn,Qt)=>{const Ln=D(gn,Qt),Gt=We.has(Ln),He=pe.get(Ln);return{node:I.createElement(FO,Object.assign({},He,{checked:Gt,onClick:be=>{var we;be.stopPropagation(),(we=He?.onClick)===null||we===void 0||we.call(He,be)},onChange:be=>{var we;We.has(Ln)||ze(Ln,!0,[Ln],be.nativeEvent),(we=He?.onChange)===null||we===void 0||we.call(He,be)}})),checked:Gt}}:xt=(un,gn,Qt)=>{var Ln;const Gt=D(gn,Qt),He=We.has(Gt),be=je.has(Gt),we=pe.get(Gt);let xe;return H==="nest"?xe=be:xe=(Ln=we?.indeterminate)!==null&&Ln!==void 0?Ln:be,{node:I.createElement(ng,Object.assign({},we,{indeterminate:xe,checked:He,skipGroup:!0,onClick:Ye=>{var lt;Ye.stopPropagation(),(lt=we?.onClick)===null||lt===void 0||lt.call(we,Ye)},onChange:Ye=>{var lt;const{nativeEvent:ct}=Ye,{shiftKey:_t}=ct,yt=rt.findIndex($t=>$t===Gt),jt=_e.some($t=>rt.includes($t));if(_t&&E&&jt){const $t=X(yt,rt,We),vt=Array.from(We);d?.(!He,vt.map(It=>N(It)),$t.map(It=>N(It))),Fe(vt,"multiple")}else{const $t=_e;if(E){const vt=He?Tv($t,Gt):py($t,Gt);ze(Gt,!He,vt,ct)}else{const vt=hS([].concat(_n($t),[Gt]),!0,le,ye),{checkedKeys:It,halfCheckedKeys:zt}=vt;let Dt=It;if(He){const Tt=new Set(It);Tt.delete(Gt),Dt=hS(Array.from(Tt),{halfCheckedKeys:zt},le,ye).checkedKeys}ze(Gt,!He,Dt,ct)}}te(He?null:yt),(lt=we?.onChange)===null||lt===void 0||lt.call(we,Ye)}})),checked:He}};const Ft=(un,gn,Qt)=>{const{node:Ln,checked:Gt}=xt(un,gn,Qt);return w?w(Gt,gn,Qt,Ln):Ln};if(!qe.includes(qb))if(qe.findIndex(un=>{var gn;return((gn=un[oE])===null||gn===void 0?void 0:gn.columnType)==="EXPAND_COLUMN"})===0){const[un,...gn]=qe;qe=[un,qb].concat(_n(gn))}else qe=[qb].concat(_n(qe));const Lt=qe.indexOf(qb);qe=qe.filter((un,gn)=>un!==qb||gn===Lt);const Kt=qe[Lt-1],hn=qe[Lt+1];let dn=x;dn===void 0&&(hn?.fixed!==void 0?dn=hn.fixed:Kt?.fixed!==void 0&&(dn=Kt.fixed)),dn&&Kt&&((Ne=Kt[oE])===null||Ne===void 0?void 0:Ne.columnType)==="EXPAND_COLUMN"&&Kt.fixed===void 0&&(Kt.fixed=dn);const Cn=ut(`${M}-selection-col`,{[`${M}-selection-col-with-dropdown`]:v&&g==="checkbox"}),kn=()=>t?.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(Jt):t.columnTitle:Yt,sn={fixed:dn,width:h,className:`${M}-selection-column`,title:kn(),render:Ft,onCell:t.onCell,[oE]:{className:Cn}};return qe.map(un=>un===qb?sn:un)},[D,ce,t,_e,Re,je,h,Ze,H,pe,d,ze,ye]),Re]};function GRe(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(n=>{if(!(n in e._antProxy)){const r=e[n];e._antProxy[n]=r,e[n]=t[n]}}),e}function WRe(e,t){return I.useImperativeHandle(e,()=>{const n=t(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,a){return n[a]?n[a]:Reflect.get(i,a)}}):GRe(r,n)})}function qRe(e){return t=>{const{prefixCls:n,onExpand:r,record:i,expanded:a,expandable:s}=t,o=`${n}-row-expand-icon`;return I.createElement("button",{type:"button",onClick:l=>{r(i,l),l.stopPropagation()},className:ut(o,{[`${o}-spaced`]:!s,[`${o}-expanded`]:s&&a,[`${o}-collapsed`]:s&&!a}),"aria-label":a?e.collapse:e.expand,"aria-expanded":a})}}function KRe(e){return(n,r)=>{const i=n.querySelector(`.${e}-container`);let a=r;if(i){const s=getComputedStyle(i),o=parseInt(s.borderLeftWidth,10),l=parseInt(s.borderRightWidth,10);a=r-o-l}return a}}const b1=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function B2(e,t){return t?`${t}-${e}`:`${e}`}const KR=(e,t)=>typeof e=="function"?e(t):e,YRe=(e,t)=>{const n=KR(e,t);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function XRe(e){const t=I.useRef(e),n=Hz();return[()=>t.current,r=>{t.current=r,n()}]}var ZRe=function(t){var n=t.dropPosition,r=t.dropLevelOffset,i=t.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:a.top=0,a.left=-r*i;break;case 1:a.bottom=0,a.left=-r*i;break;case 0:a.bottom=0,a.left=i;break}return it.createElement("div",{style:a})};function wJ(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function QRe(e,t){var n=I.useState(!1),r=mt(n,2),i=r[0],a=r[1];Sa(function(){if(i)return e(),function(){t()}},[i]),Sa(function(){return a(!0),function(){a(!1)}},[])}var JRe=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],e$e=I.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.motion,a=e.motionNodes,s=e.motionType,o=e.onMotionStart,l=e.onMotionEnd,c=e.active,u=e.treeNodeRequiredProps,d=zr(e,JRe),h=I.useState(!0),g=mt(h,2),v=g[0],x=g[1],w=I.useContext(vB),C=w.prefixCls,E=a&&s!=="hide";Sa(function(){a&&E!==v&&x(E)},[a]);var M=function(){a&&o()},R=I.useRef(!1),L=function(){a&&!R.current&&(R.current=!0,l())};QRe(M,L);var N=function(H){E===H&&L()};return a?I.createElement(wg,In({ref:t,visible:v},i,{motionAppear:s==="show",onVisibleChanged:N}),function(D,H){var U=D.className,q=D.style;return I.createElement("div",{ref:H,className:ut("".concat(C,"-treenode-motion"),U),style:q},a.map(function(K){var Q=Object.assign({},(wJ(K.data),K.data)),X=K.title,te=K.key,ee=K.isStart,Z=K.isEnd;delete Q.children;var re=aE(te,u);return I.createElement(BE,In({},Q,re,{title:X,active:c,data:K.data,key:te,isStart:ee,isEnd:Z}))}))}):I.createElement(BE,In({domRef:t,className:n,style:r},d,{active:c}))});function t$e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.length,r=t.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(a,s){var o=new Map;a.forEach(function(c){o.set(c,!0)});var l=s.filter(function(c){return!o.has(c)});return l.length===1?l[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}function gH(e,t,n){var r=e.findIndex(function(o){return o.key===n}),i=e[r+1],a=t.findIndex(function(o){return o.key===n});if(i){var s=t.findIndex(function(o){return o.key===i.key});return t.slice(a+1,s)}return t.slice(a+1)}var n$e=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],mH={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},r$e=function(){},fx="RC_TREE_MOTION_".concat(Math.random()),DD={key:fx},SJ={key:fx,level:0,index:0,pos:"0",node:DD,nodes:[DD]},vH={parent:null,children:[],pos:SJ.pos,data:DD,title:null,key:fx,isStart:[],isEnd:[]};function yH(e,t,n,r){return t===!1||!n?e:e.slice(0,Math.ceil(n/r)+1)}function bH(e){var t=e.key,n=e.pos;return HO(t,n)}function i$e(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var a$e=I.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var i=e.expandedKeys,a=e.selectedKeys,s=e.checkedKeys,o=e.loadedKeys,l=e.loadingKeys,c=e.halfCheckedKeys,u=e.keyEntities,d=e.disabled,h=e.dragging,g=e.dragOverNodeKey,v=e.dropPosition,x=e.motion,w=e.height,C=e.itemHeight,E=e.virtual,M=e.scrollWidth,R=e.focusable,L=e.activeItem,N=e.focused,D=e.tabIndex,H=e.onKeyDown,U=e.onFocus,q=e.onBlur,K=e.onActiveChange,Q=e.onListChangeStart,X=e.onListChangeEnd,te=zr(e,n$e),ee=I.useRef(null),Z=I.useRef(null);I.useImperativeHandle(t,function(){return{scrollTo:function(Ft){ee.current.scrollTo(Ft)},getIndentWidth:function(){return Z.current.offsetWidth}}});var re=I.useState(i),oe=mt(re,2),ce=oe[0],le=oe[1],pe=I.useState(r),ye=mt(pe,2),_e=ye[0],Se=ye[1],Re=I.useState(r),je=mt(Re,2),Fe=je[0],ze=je[1],Ze=I.useState([]),st=mt(Ze,2),Ue=st[0],Ne=st[1],qe=I.useState(null),We=mt(qe,2),rt=We[0],ht=We[1],ft=I.useRef(r);ft.current=r;function Rt(){var xt=ft.current;Se(xt),ze(xt),Ne([]),ht(null),X()}Sa(function(){le(i);var xt=t$e(ce,i);if(xt.key!==null)if(xt.add){var Ft=_e.findIndex(function(kn){var sn=kn.key;return sn===xt.key}),Lt=yH(gH(_e,r,xt.key),E,w,C),Kt=_e.slice();Kt.splice(Ft+1,0,vH),ze(Kt),Ne(Lt),ht("show")}else{var hn=r.findIndex(function(kn){var sn=kn.key;return sn===xt.key}),dn=yH(gH(r,_e,xt.key),E,w,C),Cn=r.slice();Cn.splice(hn+1,0,vH),ze(Cn),Ne(dn),ht("hide")}else _e!==r&&(Se(r),ze(r))},[i,r]),I.useEffect(function(){h||Rt()},[h]);var Yt=x?Fe:r,Jt={expandedKeys:i,selectedKeys:a,loadedKeys:o,loadingKeys:l,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:g,dropPosition:v,keyEntities:u};return I.createElement(I.Fragment,null,N&&L&&I.createElement("span",{style:mH,"aria-live":"assertive"},i$e(L)),I.createElement("div",null,I.createElement("input",{style:mH,disabled:R===!1||d,tabIndex:R!==!1?D:null,onKeyDown:H,onFocus:U,onBlur:q,value:"",onChange:r$e,"aria-label":"for screen reader"})),I.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},I.createElement("div",{className:"".concat(n,"-indent")},I.createElement("div",{ref:Z,className:"".concat(n,"-indent-unit")}))),I.createElement(IR,In({},te,{data:Yt,itemKey:bH,height:w,fullHeight:!1,virtual:E,itemHeight:C,scrollWidth:M,prefixCls:"".concat(n,"-list"),ref:ee,role:"tree",onVisibleChange:function(Ft){Ft.every(function(Lt){return bH(Lt)!==fx})&&Rt()}}),function(xt){var Ft=xt.pos,Lt=Object.assign({},(wJ(xt.data),xt.data)),Kt=xt.title,hn=xt.key,dn=xt.isStart,Cn=xt.isEnd,kn=HO(hn,Ft);delete Lt.key,delete Lt.children;var sn=aE(kn,Jt);return I.createElement(e$e,In({},Lt,sn,{title:Kt,active:!!L&&hn===L.key,pos:Ft,data:xt.data,isStart:dn,isEnd:Cn,motion:x,motionNodes:hn===fx?Ue:null,motionType:rt,onMotionStart:Q,onMotionEnd:Rt,treeNodeRequiredProps:Jt,onMouseMove:function(){K(null)}}))}))}),o$e=10,bB=function(e){qr(n,e);var t=v0(n);function n(){var r;En(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),Te(Or(r),"destroyed",!1),Te(Or(r),"delayedDragEnterLogic",void 0),Te(Or(r),"loadingRetryTimes",{}),Te(Or(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:GS()}),Te(Or(r),"dragStartMousePosition",null),Te(Or(r),"dragNodeProps",null),Te(Or(r),"currentMouseOverDroppableNodeKey",null),Te(Or(r),"listRef",I.createRef()),Te(Or(r),"onNodeDragStart",function(o,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,h=r.props.onDragStart,g=l.eventKey;r.dragNodeProps=l,r.dragStartMousePosition={x:o.clientX,y:o.clientY};var v=Tv(u,g);r.setState({draggingNodeKey:g,dragChildrenKeys:jRe(g,d),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(v),window.addEventListener("dragend",r.onWindowDragEnd),h?.({event:o,node:Ac(l)})}),Te(Or(r),"onNodeDragEnter",function(o,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,h=c.dragChildrenKeys,g=c.flattenNodes,v=c.indent,x=r.props,w=x.onDragEnter,C=x.onExpand,E=x.allowDrop,M=x.direction,R=l.pos,L=l.eventKey;if(r.currentMouseOverDroppableNodeKey!==L&&(r.currentMouseOverDroppableNodeKey=L),!r.dragNodeProps){r.resetDragState();return}var N=dH(o,r.dragNodeProps,l,v,r.dragStartMousePosition,E,g,d,u,M),D=N.dropPosition,H=N.dropLevelOffset,U=N.dropTargetKey,q=N.dropContainerKey,K=N.dropTargetPos,Q=N.dropAllowed,X=N.dragOverNodeKey;if(h.includes(U)||!Q){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(te){clearTimeout(r.delayedDragEnterLogic[te])}),r.dragNodeProps.eventKey!==l.eventKey&&(o.persist(),r.delayedDragEnterLogic[R]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var te=_n(u),ee=lh(d,l.eventKey);ee&&(ee.children||[]).length&&(te=py(u,l.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(te),C?.(te,{node:Ac(l),expanded:!0,nativeEvent:o.nativeEvent})}},800)),r.dragNodeProps.eventKey===U&&H===0){r.resetDragState();return}r.setState({dragOverNodeKey:X,dropPosition:D,dropLevelOffset:H,dropTargetKey:U,dropContainerKey:q,dropTargetPos:K,dropAllowed:Q}),w?.({event:o,node:Ac(l),expandedKeys:u})}),Te(Or(r),"onNodeDragOver",function(o,l){var c=r.state,u=c.dragChildrenKeys,d=c.flattenNodes,h=c.keyEntities,g=c.expandedKeys,v=c.indent,x=r.props,w=x.onDragOver,C=x.allowDrop,E=x.direction;if(r.dragNodeProps){var M=dH(o,r.dragNodeProps,l,v,r.dragStartMousePosition,C,d,h,g,E),R=M.dropPosition,L=M.dropLevelOffset,N=M.dropTargetKey,D=M.dropContainerKey,H=M.dropTargetPos,U=M.dropAllowed,q=M.dragOverNodeKey;u.includes(N)||!U||(r.dragNodeProps.eventKey===N&&L===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():R===r.state.dropPosition&&L===r.state.dropLevelOffset&&N===r.state.dropTargetKey&&D===r.state.dropContainerKey&&H===r.state.dropTargetPos&&U===r.state.dropAllowed&&q===r.state.dragOverNodeKey||r.setState({dropPosition:R,dropLevelOffset:L,dropTargetKey:N,dropContainerKey:D,dropTargetPos:H,dropAllowed:U,dragOverNodeKey:q}),w?.({event:o,node:Ac(l)}))}}),Te(Or(r),"onNodeDragLeave",function(o,l){r.currentMouseOverDroppableNodeKey===l.eventKey&&!o.currentTarget.contains(o.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var c=r.props.onDragLeave;c?.({event:o,node:Ac(l)})}),Te(Or(r),"onWindowDragEnd",function(o){r.onNodeDragEnd(o,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),Te(Or(r),"onNodeDragEnd",function(o,l){var c=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),c?.({event:o,node:Ac(l)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),Te(Or(r),"onNodeDrop",function(o,l){var c,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=r.state,h=d.dragChildrenKeys,g=d.dropPosition,v=d.dropTargetKey,x=d.dropTargetPos,w=d.dropAllowed;if(w){var C=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),v!==null){var E=Pe(Pe({},aE(v,r.getTreeNodeRequiredProps())),{},{active:((c=r.getActiveItem())===null||c===void 0?void 0:c.key)===v,data:lh(r.state.keyEntities,v).node}),M=h.includes(v);vl(!M,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var R=yB(x),L={event:o,node:Ac(E),dragNode:r.dragNodeProps?Ac(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(h),dropToGap:g!==0,dropPosition:g+Number(R[R.length-1])};u||C?.(L),r.dragNodeProps=null}}}),Te(Or(r),"cleanDragState",function(){var o=r.state.draggingNodeKey;o!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),Te(Or(r),"triggerExpandActionExpand",function(o,l){var c=r.state,u=c.expandedKeys,d=c.flattenNodes,h=l.expanded,g=l.key,v=l.isLeaf;if(!(v||o.shiftKey||o.metaKey||o.ctrlKey)){var x=d.filter(function(C){return C.key===g})[0],w=Ac(Pe(Pe({},aE(g,r.getTreeNodeRequiredProps())),{},{data:x.data}));r.setExpandedKeys(h?Tv(u,g):py(u,g)),r.onNodeExpand(o,w)}}),Te(Or(r),"onNodeClick",function(o,l){var c=r.props,u=c.onClick,d=c.expandAction;d==="click"&&r.triggerExpandActionExpand(o,l),u?.(o,l)}),Te(Or(r),"onNodeDoubleClick",function(o,l){var c=r.props,u=c.onDoubleClick,d=c.expandAction;d==="doubleClick"&&r.triggerExpandActionExpand(o,l),u?.(o,l)}),Te(Or(r),"onNodeSelect",function(o,l){var c=r.state.selectedKeys,u=r.state,d=u.keyEntities,h=u.fieldNames,g=r.props,v=g.onSelect,x=g.multiple,w=l.selected,C=l[h.key],E=!w;E?x?c=py(c,C):c=[C]:c=Tv(c,C);var M=c.map(function(R){var L=lh(d,R);return L?L.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:c}),v?.(c,{event:"select",selected:E,node:l,selectedNodes:M,nativeEvent:o.nativeEvent})}),Te(Or(r),"onNodeCheck",function(o,l,c){var u=r.state,d=u.keyEntities,h=u.checkedKeys,g=u.halfCheckedKeys,v=r.props,x=v.checkStrictly,w=v.onCheck,C=l.key,E,M={event:"check",node:l,checked:c,nativeEvent:o.nativeEvent};if(x){var R=c?py(h,C):Tv(h,C),L=Tv(g,C);E={checked:R,halfChecked:L},M.checkedNodes=R.map(function(K){return lh(d,K)}).filter(Boolean).map(function(K){return K.node}),r.setUncontrolledState({checkedKeys:R})}else{var N=hS([].concat(_n(h),[C]),!0,d),D=N.checkedKeys,H=N.halfCheckedKeys;if(!c){var U=new Set(D);U.delete(C);var q=hS(Array.from(U),{halfCheckedKeys:H},d);D=q.checkedKeys,H=q.halfCheckedKeys}E=D,M.checkedNodes=[],M.checkedNodesPositions=[],M.halfCheckedKeys=H,D.forEach(function(K){var Q=lh(d,K);if(Q){var X=Q.node,te=Q.pos;M.checkedNodes.push(X),M.checkedNodesPositions.push({node:X,pos:te})}}),r.setUncontrolledState({checkedKeys:D},!1,{halfCheckedKeys:H})}w?.(E,M)}),Te(Or(r),"onNodeLoad",function(o){var l,c=o.key,u=r.state.keyEntities,d=lh(u,c);if(!(d!=null&&(l=d.children)!==null&&l!==void 0&&l.length)){var h=new Promise(function(g,v){r.setState(function(x){var w=x.loadedKeys,C=w===void 0?[]:w,E=x.loadingKeys,M=E===void 0?[]:E,R=r.props,L=R.loadData,N=R.onLoad;if(!L||C.includes(c)||M.includes(c))return null;var D=L(o);return D.then(function(){var H=r.state.loadedKeys,U=py(H,c);N?.(U,{event:"load",node:o}),r.setUncontrolledState({loadedKeys:U}),r.setState(function(q){return{loadingKeys:Tv(q.loadingKeys,c)}}),g()}).catch(function(H){if(r.setState(function(q){return{loadingKeys:Tv(q.loadingKeys,c)}}),r.loadingRetryTimes[c]=(r.loadingRetryTimes[c]||0)+1,r.loadingRetryTimes[c]>=o$e){var U=r.state.loadedKeys;vl(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:py(U,c)}),g()}v(H)}),{loadingKeys:py(M,c)}})});return h.catch(function(){}),h}}),Te(Or(r),"onNodeMouseEnter",function(o,l){var c=r.props.onMouseEnter;c?.({event:o,node:l})}),Te(Or(r),"onNodeMouseLeave",function(o,l){var c=r.props.onMouseLeave;c?.({event:o,node:l})}),Te(Or(r),"onNodeContextMenu",function(o,l){var c=r.props.onRightClick;c&&(o.preventDefault(),c({event:o,node:l}))}),Te(Or(r),"onFocus",function(){var o=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];o?.apply(void 0,c)}),Te(Or(r),"onBlur",function(){var o=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];o?.apply(void 0,c)}),Te(Or(r),"getTreeNodeRequiredProps",function(){var o=r.state,l=o.expandedKeys,c=o.selectedKeys,u=o.loadedKeys,d=o.loadingKeys,h=o.checkedKeys,g=o.halfCheckedKeys,v=o.dragOverNodeKey,x=o.dropPosition,w=o.keyEntities;return{expandedKeys:l||[],selectedKeys:c||[],loadedKeys:u||[],loadingKeys:d||[],checkedKeys:h||[],halfCheckedKeys:g||[],dragOverNodeKey:v,dropPosition:x,keyEntities:w}}),Te(Or(r),"setExpandedKeys",function(o){var l=r.state,c=l.treeData,u=l.fieldNames,d=a3(c,o,u);r.setUncontrolledState({expandedKeys:o,flattenNodes:d},!0)}),Te(Or(r),"onNodeExpand",function(o,l){var c=r.state.expandedKeys,u=r.state,d=u.listChanging,h=u.fieldNames,g=r.props,v=g.onExpand,x=g.loadData,w=l.expanded,C=l[h.key];if(!d){var E=c.includes(C),M=!w;if(vl(w&&E||!w&&!E,"Expand state not sync with index check"),c=M?py(c,C):Tv(c,C),r.setExpandedKeys(c),v?.(c,{node:l,expanded:M,nativeEvent:o.nativeEvent}),M&&x){var R=r.onNodeLoad(l);R&&R.then(function(){var L=a3(r.state.treeData,c,h);r.setUncontrolledState({flattenNodes:L})}).catch(function(){var L=r.state.expandedKeys,N=Tv(L,C);r.setExpandedKeys(N)})}}}),Te(Or(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),Te(Or(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),Te(Or(r),"onActiveChange",function(o){var l=r.state.activeKey,c=r.props,u=c.onActiveChange,d=c.itemScrollOffset,h=d===void 0?0:d;l!==o&&(r.setState({activeKey:o}),o!==null&&r.scrollTo({key:o,offset:h}),u?.(o))}),Te(Or(r),"getActiveItem",function(){var o=r.state,l=o.activeKey,c=o.flattenNodes;return l===null?null:c.find(function(u){var d=u.key;return d===l})||null}),Te(Or(r),"offsetActiveKey",function(o){var l=r.state,c=l.flattenNodes,u=l.activeKey,d=c.findIndex(function(v){var x=v.key;return x===u});d===-1&&o<0&&(d=c.length),d=(d+o+c.length)%c.length;var h=c[d];if(h){var g=h.key;r.onActiveChange(g)}else r.onActiveChange(null)}),Te(Or(r),"onKeyDown",function(o){var l=r.state,c=l.activeKey,u=l.expandedKeys,d=l.checkedKeys,h=l.fieldNames,g=r.props,v=g.onKeyDown,x=g.checkable,w=g.selectable;switch(o.which){case mr.UP:{r.offsetActiveKey(-1),o.preventDefault();break}case mr.DOWN:{r.offsetActiveKey(1),o.preventDefault();break}}var C=r.getActiveItem();if(C&&C.data){var E=r.getTreeNodeRequiredProps(),M=C.data.isLeaf===!1||!!(C.data[h.children]||[]).length,R=Ac(Pe(Pe({},aE(c,E)),{},{data:C.data,active:!0}));switch(o.which){case mr.LEFT:{M&&u.includes(c)?r.onNodeExpand({},R):C.parent&&r.onActiveChange(C.parent.key),o.preventDefault();break}case mr.RIGHT:{M&&!u.includes(c)?r.onNodeExpand({},R):C.children&&C.children.length&&r.onActiveChange(C.children[0].key),o.preventDefault();break}case mr.ENTER:case mr.SPACE:{x&&!R.disabled&&R.checkable!==!1&&!R.disableCheckbox?r.onNodeCheck({},R,!d.includes(c)):!x&&w&&!R.disabled&&R.selectable!==!1&&r.onNodeSelect({},R);break}}}v?.(o)}),Te(Or(r),"setUncontrolledState",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var u=!1,d=!0,h={};Object.keys(o).forEach(function(g){if(r.props.hasOwnProperty(g)){d=!1;return}u=!0,h[g]=o[g]}),u&&(!l||d)&&r.setState(Pe(Pe({},h),c))}}),Te(Or(r),"scrollTo",function(o){r.listRef.current.scrollTo(o)}),r}return On(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,a=i.activeKey,s=i.itemScrollOffset,o=s===void 0?0:s;a!==void 0&&a!==this.state.activeKey&&(this.setState({activeKey:a}),a!==null&&this.scrollTo({key:a,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,a=i.focused,s=i.flattenNodes,o=i.keyEntities,l=i.draggingNodeKey,c=i.activeKey,u=i.dropLevelOffset,d=i.dropContainerKey,h=i.dropTargetKey,g=i.dropPosition,v=i.dragOverNodeKey,x=i.indent,w=this.props,C=w.prefixCls,E=w.className,M=w.style,R=w.showLine,L=w.focusable,N=w.tabIndex,D=N===void 0?0:N,H=w.selectable,U=w.showIcon,q=w.icon,K=w.switcherIcon,Q=w.draggable,X=w.checkable,te=w.checkStrictly,ee=w.disabled,Z=w.motion,re=w.loadData,oe=w.filterTreeNode,ce=w.height,le=w.itemHeight,pe=w.scrollWidth,ye=w.virtual,_e=w.titleRender,Se=w.dropIndicatorRender,Re=w.onContextMenu,je=w.onScroll,Fe=w.direction,ze=w.rootClassName,Ze=w.rootStyle,st=gg(this.props,{aria:!0,data:!0}),Ue;Q&&(Rr(Q)==="object"?Ue=Q:typeof Q=="function"?Ue={nodeDraggable:Q}:Ue={});var Ne={prefixCls:C,selectable:H,showIcon:U,icon:q,switcherIcon:K,draggable:Ue,draggingNodeKey:l,checkable:X,checkStrictly:te,disabled:ee,keyEntities:o,dropLevelOffset:u,dropContainerKey:d,dropTargetKey:h,dropPosition:g,dragOverNodeKey:v,indent:x,direction:Fe,dropIndicatorRender:Se,loadData:re,filterTreeNode:oe,titleRender:_e,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return I.createElement(vB.Provider,{value:Ne},I.createElement("div",{className:ut(C,E,ze,Te(Te(Te({},"".concat(C,"-show-line"),R),"".concat(C,"-focused"),a),"".concat(C,"-active-focused"),c!==null)),style:Ze},I.createElement(a$e,In({ref:this.listRef,prefixCls:C,style:M,data:s,disabled:ee,selectable:H,checkable:!!X,motion:Z,dragging:l!==null,height:ce,itemHeight:le,virtual:ye,focusable:L,focused:a,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Re,onScroll:je,scrollWidth:pe},this.getTreeNodeRequiredProps(),st))))}}],[{key:"getDerivedStateFromProps",value:function(i,a){var s=a.prevProps,o={prevProps:i};function l(D){return!s&&i.hasOwnProperty(D)||s&&s[D]!==i[D]}var c,u=a.fieldNames;if(l("fieldNames")&&(u=GS(i.fieldNames),o.fieldNames=u),l("treeData")?c=i.treeData:l("children")&&(vl(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=AQ(i.children)),c){o.treeData=c;var d=oB(c,{fieldNames:u});o.keyEntities=Pe(Te({},fx,SJ),d.keyEntities)}var h=o.keyEntities||a.keyEntities;if(l("expandedKeys")||s&&l("autoExpandParent"))o.expandedKeys=i.autoExpandParent||!s&&i.defaultExpandParent?$D(i.expandedKeys,h):i.expandedKeys;else if(!s&&i.defaultExpandAll){var g=Pe({},h);delete g[fx];var v=[];Object.keys(g).forEach(function(D){var H=g[D];H.children&&H.children.length&&v.push(H.key)}),o.expandedKeys=v}else!s&&i.defaultExpandedKeys&&(o.expandedKeys=i.autoExpandParent||i.defaultExpandParent?$D(i.defaultExpandedKeys,h):i.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,c||o.expandedKeys){var x=a3(c||a.treeData,o.expandedKeys||a.expandedKeys,u);o.flattenNodes=x}if(i.selectable&&(l("selectedKeys")?o.selectedKeys=hH(i.selectedKeys,i):!s&&i.defaultSelectedKeys&&(o.selectedKeys=hH(i.defaultSelectedKeys,i))),i.checkable){var w;if(l("checkedKeys")?w=g3(i.checkedKeys)||{}:!s&&i.defaultCheckedKeys?w=g3(i.defaultCheckedKeys)||{}:c&&(w=g3(i.checkedKeys)||{checkedKeys:a.checkedKeys,halfCheckedKeys:a.halfCheckedKeys}),w){var C=w,E=C.checkedKeys,M=E===void 0?[]:E,R=C.halfCheckedKeys,L=R===void 0?[]:R;if(!i.checkStrictly){var N=hS(M,!0,h);M=N.checkedKeys,L=N.halfCheckedKeys}o.checkedKeys=M,o.halfCheckedKeys=L}}return l("loadedKeys")&&(o.loadedKeys=i.loadedKeys),o}}]),n}(I.Component);Te(bB,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ZRe,allowDrop:function(){return!0},expandAction:!1});Te(bB,"TreeNode",BE);const s$e=e=>{let{treeCls:t,treeNodeCls:n,directoryNodeSelectedBg:r,directoryNodeSelectedColor:i,motionDurationMid:a,borderRadius:s,controlItemBgHover:o}=e;return{[`${t}${t}-directory ${n}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${a}`,content:'""',borderRadius:s},"&:hover:before":{background:o}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:i},[`${t}-node-content-wrapper`]:{color:i,background:"transparent","&:before, &:hover:before":{background:r}}}}}},l$e=new $i("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),c$e=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),u$e=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${et(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),f$e=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:a,indentSize:s,nodeSelectedBg:o,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:u}=t;return{[n]:Object.assign(Object.assign({},uo(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},Pm(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:l$e,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:et(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:c},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(a).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},c$e(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},u$e(e,t)),{"&:hover":{backgroundColor:l},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:o},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${et(t.calc(a).div(2).equal())} !important`}})}},d$e=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=`.${e}`,i=`${r}-treenode`,a=t.calc(t.paddingXS).div(2).equal(),s=ga(t,{treeCls:r,treeNodeCls:i,treeNodePadding:a});return[f$e(e,s),n&&s$e(s)].filter(Boolean)},h$e=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}},p$e=e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},h$e(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})},g$e=no("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:PQ(`${n}-checkbox`,e)},d$e(n,e),WX(e)]},p$e),_H=4;function m$e(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:i,direction:a="ltr"}=e,s=a==="ltr"?"left":"right",o=a==="ltr"?"right":"left",l={[s]:-n*i+_H,[o]:0};switch(t){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[s]=i+_H;break}return it.createElement("div",{style:l,className:`${r}-drop-indicator`})}const v$e=e=>{const{prefixCls:t,switcherIcon:n,treeNodeProps:r,showLine:i,switcherLoadingIcon:a}=e,{isLeaf:s,expanded:o,loading:l}=r;if(l)return I.isValidElement(a)?a:I.createElement(I2,{className:`${t}-switcher-loading-icon`});let c;if(i&&typeof i=="object"&&(c=i.showLeafIcon),s){if(!i)return null;if(typeof c!="boolean"&&c){const h=typeof c=="function"?c(r):c,g=`${t}-switcher-line-custom-icon`;return I.isValidElement(h)?hh(h,{className:ut(h.props.className||"",g)}):h}return c?I.createElement(tJ,{className:`${t}-switcher-line-icon`}):I.createElement("span",{className:`${t}-switcher-leaf-line`})}const u=`${t}-switcher-icon`,d=typeof n=="function"?n(r):n;return I.isValidElement(d)?hh(d,{className:ut(d.props.className||"",u)}):d!==void 0?d:i?o?I.createElement(qIe,{className:`${t}-switcher-line-icon`}):I.createElement(XIe,{className:`${t}-switcher-line-icon`}):I.createElement(fIe,{className:u})},CJ=it.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,virtual:a,tree:s}=it.useContext(ii),{prefixCls:o,className:l,showIcon:c=!1,showLine:u,switcherIcon:d,switcherLoadingIcon:h,blockNode:g=!1,children:v,checkable:x=!1,selectable:w=!0,draggable:C,motion:E,style:M}=e,R=r("tree",o),L=r(),N=E??Object.assign(Object.assign({},HX(L)),{motionAppear:!1}),D=Object.assign(Object.assign({},e),{checkable:x,selectable:w,showIcon:c,motion:N,blockNode:g,showLine:!!u,dropIndicatorRender:m$e}),[H,U,q]=g$e(R),[,K]=Qu(),Q=K.paddingXS/2+(((n=K.Tree)===null||n===void 0?void 0:n.titleHeight)||K.controlHeightSM),X=it.useMemo(()=>{if(!C)return!1;let ee={};switch(typeof C){case"function":ee.nodeDraggable=C;break;case"object":ee=Object.assign({},C);break}return ee.icon!==!1&&(ee.icon=ee.icon||it.createElement(UIe,null)),ee},[C]),te=ee=>it.createElement(v$e,{prefixCls:R,switcherIcon:d,switcherLoadingIcon:h,treeNodeProps:ee,showLine:u});return H(it.createElement(bB,Object.assign({itemHeight:Q,ref:t,virtual:a},D,{style:Object.assign(Object.assign({},s?.style),M),prefixCls:R,className:ut({[`${R}-icon-hide`]:!c,[`${R}-block-node`]:g,[`${R}-unselectable`]:!w,[`${R}-rtl`]:i==="rtl"},s?.className,l,U,q),direction:i,checkable:x&&it.createElement("span",{className:`${R}-checkbox-inner`}),selectable:w,switcherIcon:te,draggable:X}),v))}),xH=0,m3=1,wH=2;function _B(e,t,n){const{key:r,children:i}=n;function a(s){const o=s[r],l=s[i];t(o,s)!==!1&&_B(l||[],t,n)}e.forEach(a)}function y$e(e){let{treeData:t,expandedKeys:n,startKey:r,endKey:i,fieldNames:a}=e;const s=[];let o=xH;if(r&&r===i)return[r];if(!r||!i)return[];function l(c){return c===r||c===i}return _B(t,c=>{if(o===wH)return!1;if(l(c)){if(s.push(c),o===xH)o=m3;else if(o===m3)return o=wH,!1}else o===m3&&s.push(c);return n.includes(c)},GS(a)),s}function v3(e,t,n){const r=_n(t),i=[];return _B(e,(a,s)=>{const o=r.indexOf(a);return o!==-1&&(i.push(s),r.splice(o,1)),!!r.length},GS(n)),i}var SH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function b$e(e){const{isLeaf:t,expanded:n}=e;return t?I.createElement(tJ,null):n?I.createElement(NIe,null):I.createElement(BIe,null)}function CH(e){let{treeData:t,children:n}=e;return t||AQ(n)}const _$e=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=e,a=SH(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=I.useRef(null),o=I.useRef(null),l=()=>{const{keyEntities:H}=oB(CH(a));let U;return n?U=Object.keys(H):r?U=$D(a.expandedKeys||i||[],H):U=a.expandedKeys||i||[],U},[c,u]=I.useState(a.selectedKeys||a.defaultSelectedKeys||[]),[d,h]=I.useState(()=>l());I.useEffect(()=>{"selectedKeys"in a&&u(a.selectedKeys)},[a.selectedKeys]),I.useEffect(()=>{"expandedKeys"in a&&h(a.expandedKeys)},[a.expandedKeys]);const g=(H,U)=>{var q;return"expandedKeys"in a||h(H),(q=a.onExpand)===null||q===void 0?void 0:q.call(a,H,U)},v=(H,U)=>{var q;const{multiple:K,fieldNames:Q}=a,{node:X,nativeEvent:te}=U,{key:ee=""}=X,Z=CH(a),re=Object.assign(Object.assign({},U),{selected:!0}),oe=te?.ctrlKey||te?.metaKey,ce=te?.shiftKey;let le;K&&oe?(le=H,s.current=ee,o.current=le,re.selectedNodes=v3(Z,le,Q)):K&&ce?(le=Array.from(new Set([].concat(_n(o.current||[]),_n(y$e({treeData:Z,expandedKeys:d,startKey:ee,endKey:s.current,fieldNames:Q}))))),re.selectedNodes=v3(Z,le,Q)):(le=[ee],s.current=ee,o.current=le,re.selectedNodes=v3(Z,le,Q)),(q=a.onSelect)===null||q===void 0||q.call(a,le,re),"selectedKeys"in a||u(le)},{getPrefixCls:x,direction:w}=I.useContext(ii),{prefixCls:C,className:E,showIcon:M=!0,expandAction:R="click"}=a,L=SH(a,["prefixCls","className","showIcon","expandAction"]),N=x("tree",C),D=ut(`${N}-directory`,{[`${N}-directory-rtl`]:w==="rtl"},E);return I.createElement(CJ,Object.assign({icon:b$e,ref:t,blockNode:!0},L,{showIcon:M,expandAction:R,prefixCls:N,className:D,expandedKeys:d,selectedKeys:c,onSelect:v,onExpand:g}))},x$e=I.forwardRef(_$e),xB=CJ;xB.DirectoryTree=x$e;xB.TreeNode=BE;const EH=e=>{const{value:t,filterSearch:n,tablePrefixCls:r,locale:i,onChange:a}=e;return n?I.createElement("div",{className:`${r}-filter-dropdown-search`},I.createElement(CMe,{prefix:I.createElement(OZ,null),placeholder:i.filterSearchPlaceholder,onChange:a,value:t,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},w$e=e=>{const{keyCode:t}=e;t===mr.ENTER&&e.stopPropagation()},S$e=I.forwardRef((e,t)=>I.createElement("div",{className:e.className,onClick:n=>n.stopPropagation(),onKeyDown:w$e,ref:t},e.children));function gS(e){let t=[];return(e||[]).forEach(n=>{let{value:r,children:i}=n;t.push(r),i&&(t=[].concat(_n(t),_n(gS(i))))}),t}function C$e(e){return e.some(t=>{let{children:n}=t;return n})}function EJ(e,t){return typeof t=="string"||typeof t=="number"?t?.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function OJ(e){let{filters:t,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:a,filterSearch:s}=e;return t.map((o,l)=>{const c=String(o.value);if(o.children)return{key:c||l,label:o.text,popupClassName:`${n}-dropdown-submenu`,children:OJ({filters:o.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:a,filterSearch:s})};const u=i?ng:FO,d={key:o.value!==void 0?c:l,label:I.createElement(I.Fragment,null,I.createElement(u,{checked:r.includes(c)}),I.createElement("span",null,o.text))};return a.trim()?typeof s=="function"?s(a,o)?d:null:EJ(a,o.text)?d:null:d})}function y3(e){return e||[]}const E$e=e=>{var t,n,r,i;const{tablePrefixCls:a,prefixCls:s,column:o,dropdownPrefixCls:l,columnKey:c,filterOnClose:u,filterMultiple:d,filterMode:h="menu",filterSearch:g=!1,filterState:v,triggerFilter:x,locale:w,children:C,getPopupContainer:E,rootClassName:M}=e,{filterResetToDefaultFilteredValue:R,defaultFilteredValue:L,filterDropdownProps:N={},filterDropdownOpen:D,filterDropdownVisible:H,onFilterDropdownVisibleChange:U,onFilterDropdownOpenChange:q}=o,[K,Q]=I.useState(!1),X=!!(v&&(!((t=v.filteredKeys)===null||t===void 0)&&t.length||v.forceFiltered)),te=xt=>{var Ft;Q(xt),(Ft=N.onOpenChange)===null||Ft===void 0||Ft.call(N,xt),q?.(xt),U?.(xt)},ee=(i=(r=(n=N.open)!==null&&n!==void 0?n:D)!==null&&r!==void 0?r:H)!==null&&i!==void 0?i:K,Z=v?.filteredKeys,[re,oe]=XRe(y3(Z)),ce=xt=>{let{selectedKeys:Ft}=xt;oe(Ft)},le=(xt,Ft)=>{let{node:Lt,checked:Kt}=Ft;ce(d?{selectedKeys:xt}:{selectedKeys:Kt&&Lt.key?[Lt.key]:[]})};I.useEffect(()=>{K&&ce({selectedKeys:y3(Z)})},[Z]);const[pe,ye]=I.useState([]),_e=xt=>{ye(xt)},[Se,Re]=I.useState(""),je=xt=>{const{value:Ft}=xt.target;Re(Ft)};I.useEffect(()=>{K||Re("")},[K]);const Fe=xt=>{const Ft=xt?.length?xt:null;if(Ft===null&&(!v||!v.filteredKeys)||n0(Ft,v?.filteredKeys,!0))return null;x({column:o,key:c,filteredKeys:Ft})},ze=()=>{te(!1),Fe(re())},Ze=function(){let{confirm:xt,closeDropdown:Ft}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};xt&&Fe([]),Ft&&te(!1),Re(""),oe(R?(L||[]).map(Lt=>String(Lt)):[])},st=function(){let{closeDropdown:xt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};xt&&te(!1),Fe(re())},Ue=(xt,Ft)=>{Ft.source==="trigger"&&(xt&&Z!==void 0&&oe(y3(Z)),te(xt),!xt&&!o.filterDropdown&&u&&ze())},Ne=ut({[`${l}-menu-without-submenu`]:!C$e(o.filters||[])}),qe=xt=>{if(xt.target.checked){const Ft=gS(o?.filters).map(Lt=>String(Lt));oe(Ft)}else oe([])},We=xt=>{let{filters:Ft}=xt;return(Ft||[]).map((Lt,Kt)=>{const hn=String(Lt.value),dn={title:Lt.text,key:Lt.value!==void 0?hn:String(Kt)};return Lt.children&&(dn.children=We({filters:Lt.children})),dn})},rt=xt=>{var Ft;return Object.assign(Object.assign({},xt),{text:xt.title,value:xt.key,children:((Ft=xt.children)===null||Ft===void 0?void 0:Ft.map(Lt=>rt(Lt)))||[]})};let ht;const{direction:ft,renderEmpty:Rt}=I.useContext(ii);if(typeof o.filterDropdown=="function")ht=o.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:xt=>ce({selectedKeys:xt}),selectedKeys:re(),confirm:st,clearFilters:Ze,filters:o.filters,visible:ee,close:()=>{te(!1)}});else if(o.filterDropdown)ht=o.filterDropdown;else{const xt=re()||[],Ft=()=>{var Kt,hn;const dn=(Kt=Rt?.("Table.filter"))!==null&&Kt!==void 0?Kt:I.createElement(Cy,{image:Cy.PRESENTED_IMAGE_SIMPLE,description:w.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((o.filters||[]).length===0)return dn;if(h==="tree")return I.createElement(I.Fragment,null,I.createElement(EH,{filterSearch:g,value:Se,onChange:je,tablePrefixCls:a,locale:w}),I.createElement("div",{className:`${a}-filter-dropdown-tree`},d?I.createElement(ng,{checked:xt.length===gS(o.filters).length,indeterminate:xt.length>0&&xt.length<gS(o.filters).length,className:`${a}-filter-dropdown-checkall`,onChange:qe},(hn=w?.filterCheckall)!==null&&hn!==void 0?hn:w?.filterCheckAll):null,I.createElement(xB,{checkable:!0,selectable:!1,blockNode:!0,multiple:d,checkStrictly:!d,className:`${l}-menu`,onCheck:le,checkedKeys:xt,selectedKeys:xt,showIcon:!1,treeData:We({filters:o.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Se.trim()?sn=>typeof g=="function"?g(Se,rt(sn)):EJ(Se,sn.title):void 0})));const Cn=OJ({filters:o.filters||[],filterSearch:g,prefixCls:s,filteredKeys:re(),filterMultiple:d,searchValue:Se}),kn=Cn.every(sn=>sn===null);return I.createElement(I.Fragment,null,I.createElement(EH,{filterSearch:g,value:Se,onChange:je,tablePrefixCls:a,locale:w}),kn?dn:I.createElement($x,{selectable:!0,multiple:d,prefixCls:`${l}-menu`,className:Ne,onSelect:ce,onDeselect:ce,selectedKeys:xt,getPopupContainer:E,openKeys:pe,onOpenChange:_e,items:Cn}))},Lt=()=>R?n0((L||[]).map(Kt=>String(Kt)),xt,!0):xt.length===0;ht=I.createElement(I.Fragment,null,Ft(),I.createElement("div",{className:`${s}-dropdown-btns`},I.createElement(FS,{type:"link",size:"small",disabled:Lt(),onClick:()=>Ze()},w.filterReset),I.createElement(FS,{type:"primary",size:"small",onClick:ze},w.filterConfirm)))}o.filterDropdown&&(ht=I.createElement(iQ,{selectable:void 0},ht)),ht=I.createElement(S$e,{className:`${s}-dropdown`},ht);const Jt=YQ({trigger:["click"],placement:ft==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let xt;return typeof o.filterIcon=="function"?xt=o.filterIcon(X):o.filterIcon?xt=o.filterIcon:xt=I.createElement($Ie,null),I.createElement("span",{role:"button",tabIndex:-1,className:ut(`${s}-trigger`,{active:X}),onClick:Ft=>{Ft.stopPropagation()}},xt)})(),getPopupContainer:E},Object.assign(Object.assign({},N),{rootClassName:ut(M,N.rootClassName),open:ee,onOpenChange:Ue,dropdownRender:()=>typeof N?.dropdownRender=="function"?N.dropdownRender(ht):ht}));return I.createElement("div",{className:`${s}-column`},I.createElement("span",{className:`${a}-column-title`},C),I.createElement(lB,Object.assign({},Jt)))},zD=(e,t,n)=>{let r=[];return(e||[]).forEach((i,a)=>{var s;const o=B2(a,n);if(i.filters||"filterDropdown"in i||"onFilter"in i)if("filteredValue"in i){let l=i.filteredValue;"filterDropdown"in i||(l=(s=l?.map(String))!==null&&s!==void 0?s:l),r.push({column:i,key:b1(i,o),filteredKeys:l,forceFiltered:i.filtered})}else r.push({column:i,key:b1(i,o),filteredKeys:t&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(_n(r),_n(zD(i.children,t,o))))}),r};function TJ(e,t,n,r,i,a,s,o,l){return n.map((c,u)=>{const d=B2(u,o),{filterOnClose:h=!0,filterMultiple:g=!0,filterMode:v,filterSearch:x}=c;let w=c;if(w.filters||w.filterDropdown){const C=b1(w,d),E=r.find(M=>{let{key:R}=M;return C===R});w=Object.assign(Object.assign({},w),{title:M=>I.createElement(E$e,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:w,columnKey:C,filterState:E,filterOnClose:h,filterMultiple:g,filterMode:v,filterSearch:x,triggerFilter:a,locale:i,getPopupContainer:s,rootClassName:l},KR(c.title,M))})}return"children"in w&&(w=Object.assign(Object.assign({},w),{children:TJ(e,t,w.children,r,i,a,s,d,l)})),w})}const OH=e=>{const t={};return e.forEach(n=>{let{key:r,filteredKeys:i,column:a}=n;const s=r,{filters:o,filterDropdown:l}=a;if(l)t[s]=i||null;else if(Array.isArray(i)){const c=gS(o);t[s]=c.filter(u=>i.includes(String(u)))}else t[s]=null}),t},BD=(e,t,n)=>t.reduce((i,a)=>{const{column:{onFilter:s,filters:o},filteredKeys:l}=a;return s&&l&&l.length?i.map(c=>Object.assign({},c)).filter(c=>l.some(u=>{const d=gS(o),h=d.findIndex(v=>String(v)===String(u)),g=h!==-1?d[h]:u;return c[n]&&(c[n]=BD(c[n],t,n)),s(g,c)})):i},e),MJ=e=>e.flatMap(t=>"children"in t?[t].concat(_n(MJ(t.children||[]))):[t]),O$e=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:a,locale:s,rootClassName:o}=e;M2();const l=I.useMemo(()=>MJ(r||[]),[r]),[c,u]=I.useState(()=>zD(l,!0)),d=I.useMemo(()=>{const x=zD(l,!1);if(x.length===0)return x;let w=!0;if(x.forEach(C=>{let{filteredKeys:E}=C;E!==void 0&&(w=!1)}),w){const C=(l||[]).map((E,M)=>b1(E,B2(M)));return c.filter(E=>{let{key:M}=E;return C.includes(M)}).map(E=>{const M=l[C.findIndex(R=>R===E.key)];return Object.assign(Object.assign({},E),{column:Object.assign(Object.assign({},E.column),M),forceFiltered:M.filtered})})}return x},[l,c]),h=I.useMemo(()=>OH(d),[d]),g=x=>{const w=d.filter(C=>{let{key:E}=C;return E!==x.key});w.push(x),u(w),i(OH(w),w)};return[x=>TJ(t,n,x,d,s,g,a,void 0,o),d,h]},T$e=(e,t,n)=>{const r=I.useRef({});function i(a){var s;if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){let l=function(c){c.forEach((u,d)=>{const h=n(u,d);o.set(h,u),u&&typeof u=="object"&&t in u&&l(u[t]||[])})};const o=new Map;l(e),r.current={data:e,childrenColumnName:t,kvMap:o,getRowKey:n}}return(s=r.current.kvMap)===null||s===void 0?void 0:s.get(a)}return[i]};var M$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const AJ=10;function A$e(e,t){const n={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(i=>{const a=e[i];typeof a!="function"&&(n[i]=a)}),n}function I$e(e,t,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,a=M$e(r,["total"]),[s,o]=I.useState(()=>({current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:AJ})),l=YQ(s,a,{total:i>0?i:e}),c=Math.ceil((i||e)/l.pageSize);l.current>c&&(l.current=c||1);const u=(h,g)=>{o({current:h??1,pageSize:g||l.pageSize})},d=(h,g)=>{var v;n&&((v=n.onChange)===null||v===void 0||v.call(n,h,g)),u(h,g),t(h,g||l?.pageSize)};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},l),{onChange:d}),u]}const sA="ascend",b3="descend",aI=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,TH=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,P$e=(e,t)=>t?e[e.indexOf(t)+1]:e[0],jD=(e,t,n)=>{let r=[];const i=(a,s)=>{r.push({column:a,key:b1(a,s),multiplePriority:aI(a),sortOrder:a.sortOrder})};return(e||[]).forEach((a,s)=>{const o=B2(s,n);a.children?("sortOrder"in a&&i(a,o),r=[].concat(_n(r),_n(jD(a.children,t,o)))):a.sorter&&("sortOrder"in a?i(a,o):t&&a.defaultSortOrder&&r.push({column:a,key:b1(a,o),multiplePriority:aI(a),sortOrder:a.defaultSortOrder}))}),r},IJ=(e,t,n,r,i,a,s,o)=>(t||[]).map((c,u)=>{const d=B2(u,o);let h=c;if(h.sorter){const g=h.sortDirections||i,v=h.showSorterTooltip===void 0?s:h.showSorterTooltip,x=b1(h,d),w=n.find(U=>{let{key:q}=U;return q===x}),C=w?w.sortOrder:null,E=P$e(g,C);let M;if(c.sortIcon)M=c.sortIcon({sortOrder:C});else{const U=g.includes(sA)&&I.createElement(vIe,{className:ut(`${e}-column-sorter-up`,{active:C===sA})}),q=g.includes(b3)&&I.createElement(pIe,{className:ut(`${e}-column-sorter-down`,{active:C===b3})});M=I.createElement("span",{className:ut(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(U&&q)})},I.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},U,q))}const{cancelSort:R,triggerAsc:L,triggerDesc:N}=a||{};let D=R;E===b3?D=N:E===sA&&(D=L);const H=typeof v=="object"?Object.assign({title:D},v):{title:D};h=Object.assign(Object.assign({},h),{className:ut(h.className,{[`${e}-column-sort`]:C}),title:U=>{const q=`${e}-column-sorters`,K=I.createElement("span",{className:`${e}-column-title`},KR(c.title,U)),Q=I.createElement("div",{className:q},K,M);return v?typeof v!="boolean"&&v?.target==="sorter-icon"?I.createElement("div",{className:`${q} ${e}-column-sorters-tooltip-target-sorter`},K,I.createElement(s0,Object.assign({},H),M)):I.createElement(s0,Object.assign({},H),Q):Q},onHeaderCell:U=>{var q;const K=((q=c.onHeaderCell)===null||q===void 0?void 0:q.call(c,U))||{},Q=K.onClick,X=K.onKeyDown;K.onClick=Z=>{r({column:c,key:x,sortOrder:E,multiplePriority:aI(c)}),Q?.(Z)},K.onKeyDown=Z=>{Z.keyCode===mr.ENTER&&(r({column:c,key:x,sortOrder:E,multiplePriority:aI(c)}),X?.(Z))};const te=YRe(c.title,{}),ee=te?.toString();return C&&(K["aria-sort"]=C==="ascend"?"ascending":"descending"),K["aria-label"]=ee||"",K.className=ut(K.className,`${e}-column-has-sorters`),K.tabIndex=0,c.ellipsis&&(K.title=(te??"").toString()),K}})}return"children"in h&&(h=Object.assign(Object.assign({},h),{children:IJ(e,h.children,n,r,i,a,s,d)})),h}),MH=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},AH=e=>{const t=e.filter(n=>{let{sortOrder:r}=n;return r}).map(MH);if(t.length===0&&e.length){const n=e.length-1;return Object.assign(Object.assign({},MH(e[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},FD=(e,t,n)=>{const r=t.slice().sort((s,o)=>o.multiplePriority-s.multiplePriority),i=e.slice(),a=r.filter(s=>{let{column:{sorter:o},sortOrder:l}=s;return TH(o)&&l});return a.length?i.sort((s,o)=>{for(let l=0;l<a.length;l+=1){const c=a[l],{column:{sorter:u},sortOrder:d}=c,h=TH(u);if(h&&d){const g=h(s,o,d);if(g!==0)return d===sA?g:-g}}return 0}).map(s=>{const o=s[n];return o?Object.assign(Object.assign({},s),{[n]:FD(o,t,n)}):s}):i},R$e=e=>{const{prefixCls:t,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:a,onSorterChange:s}=e,[o,l]=I.useState(jD(n,!0)),c=(x,w)=>{const C=[];return x.forEach((E,M)=>{const R=B2(M,w);if(C.push(b1(E,R)),Array.isArray(E.children)){const L=c(E.children,R);C.push.apply(C,_n(L))}}),C},u=I.useMemo(()=>{let x=!0;const w=jD(n,!1);if(!w.length){const R=c(n);return o.filter(L=>{let{key:N}=L;return R.includes(N)})}const C=[];function E(R){x?C.push(R):C.push(Object.assign(Object.assign({},R),{sortOrder:null}))}let M=null;return w.forEach(R=>{M===null?(E(R),R.sortOrder&&(R.multiplePriority===!1?x=!1:M=!0)):(M&&R.multiplePriority!==!1||(x=!1),E(R))}),C},[n,o]),d=I.useMemo(()=>{var x,w;const C=u.map(E=>{let{column:M,sortOrder:R}=E;return{column:M,order:R}});return{sortColumns:C,sortColumn:(x=C[0])===null||x===void 0?void 0:x.column,sortOrder:(w=C[0])===null||w===void 0?void 0:w.order}},[u]),h=x=>{let w;x.multiplePriority===!1||!u.length||u[0].multiplePriority===!1?w=[x]:w=[].concat(_n(u.filter(C=>{let{key:E}=C;return E!==x.key})),[x]),l(w),s(AH(w),w)};return[x=>IJ(t,x,u,h,r,i,a),u,d,()=>AH(u)]},PJ=(e,t)=>e.map(r=>{const i=Object.assign({},r);return i.title=KR(r.title,t),"children"in i&&(i.children=PJ(i.children,t)),i}),$$e=e=>[I.useCallback(n=>PJ(n,e),[e])],k$e=yJ((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),L$e=_J((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),N$e=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:a,tablePaddingVertical:s,tablePaddingHorizontal:o,calc:l}=e,c=`${et(n)} ${r} ${i}`,u=(d,h,g)=>({[`&${t}-${d}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${et(l(h).mul(-1).equal())}
              ${et(l(l(g).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:c,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${et(l(s).mul(-1).equal())} ${et(l(l(o).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},u("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),u("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:c,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${et(n)} 0 ${et(n)} ${a}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:c}}}},D$e=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},i0),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},z$e=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},B$e=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:a,lineType:s,tableBorderColor:o,tableExpandIconBg:l,tableExpandColumnWidth:c,borderRadius:u,tablePaddingVertical:d,tablePaddingHorizontal:h,tableExpandedRowBg:g,paddingXXS:v,expandIconMarginTop:x,expandIconSize:w,expandIconHalfInner:C,expandIconScale:E,calc:M}=e,R=`${et(i)} ${s} ${o}`,L=M(v).sub(i).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:c},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},Sz(e)),{position:"relative",float:"left",width:w,height:w,color:"inherit",lineHeight:et(w),background:l,border:R,borderRadius:u,transform:`scale(${E})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:C,insetInlineEnd:L,insetInlineStart:L,height:i},"&::after":{top:L,bottom:L,insetInlineStart:C,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:x,marginInlineEnd:a},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:g}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${et(M(d).mul(-1).equal())} ${et(M(h).mul(-1).equal())}`,padding:`${et(d)} ${et(h)}`}}}},j$e=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:a,paddingXXS:s,paddingXS:o,colorText:l,lineWidth:c,lineType:u,tableBorderColor:d,headerIconColor:h,fontSizeSM:g,tablePaddingHorizontal:v,borderRadius:x,motionDurationSlow:w,colorTextDescription:C,colorPrimary:E,tableHeaderFilterActiveBg:M,colorTextDisabled:R,tableFilterDropdownBg:L,tableFilterDropdownHeight:N,controlItemBgHover:D,controlItemBgActive:H,boxShadowSecondary:U,filterDropdownMenuBg:q,calc:K}=e,Q=`${n}-dropdown`,X=`${t}-filter-dropdown`,te=`${n}-tree`,ee=`${et(c)} ${u} ${d}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:K(s).mul(-1).equal(),marginInline:`${et(s)} ${et(K(v).div(2).mul(-1).equal())}`,padding:`0 ${et(s)}`,color:h,fontSize:g,borderRadius:x,cursor:"pointer",transition:`all ${w}`,"&:hover":{color:C,background:M},"&.active":{color:E}}}},{[`${n}-dropdown`]:{[X]:Object.assign(Object.assign({},uo(e)),{minWidth:i,backgroundColor:L,borderRadius:x,boxShadow:U,overflow:"hidden",[`${Q}-menu`]:{maxHeight:N,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:q,"&:empty::after":{display:"block",padding:`${et(o)} 0`,color:R,fontSize:g,textAlign:"center",content:'"Not Found"'}},[`${X}-tree`]:{paddingBlock:`${et(o)} 0`,paddingInline:o,[te]:{padding:0},[`${te}-treenode ${te}-node-content-wrapper:hover`]:{backgroundColor:D},[`${te}-treenode-checkbox-checked ${te}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:H}}},[`${X}-search`]:{padding:o,borderBottom:ee,"&-input":{input:{minWidth:a},[r]:{color:R}}},[`${X}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${X}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${et(K(o).sub(c).equal())} ${et(o)}`,overflow:"hidden",borderTop:ee}})}},{[`${n}-dropdown ${X}, ${X}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:o,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},F$e=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:a,tableBg:s,zIndexTableSticky:o,calc:l}=e,c=r;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:a,background:s},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(o).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},H$e=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${n}-pagination`]:{margin:`${et(r)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},V$e=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${et(n)} ${et(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${et(n)} ${et(n)}`}}}}},U$e=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},G$e=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:i,padding:a,paddingXS:s,headerIconColor:o,headerIconHoverColor:l,tableSelectionColumnWidth:c,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,tableRowHoverBg:h,tablePaddingHorizontal:g,calc:v}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:c,[`&${t}-selection-col-with-dropdown`]:{width:v(c).add(i).add(v(a).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:v(c).add(v(s).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:v(c).add(i).add(v(a).div(4)).add(v(s).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:v(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:et(v(g).div(4).equal()),[r]:{color:o,fontSize:i,verticalAlign:"baseline","&:hover":{color:l}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:u,"&-row-hover":{background:d}}},[`> ${t}-cell-row-hover`]:{background:h}}}}}},W$e=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,i=(a,s,o,l)=>({[`${t}${t}-${a}`]:{fontSize:l,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${et(s)} ${et(o)}`},[`${t}-filter-trigger`]:{marginInlineEnd:et(r(o).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${et(r(s).mul(-1).equal())} ${et(r(o).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:et(r(s).mul(-1).equal()),marginInline:`${et(r(n).sub(o).equal())} ${et(r(o).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:et(r(o).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},i("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),i("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},q$e=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:a}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:a}}}},K$e=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:a,tableScrollBg:s,zIndexTableSticky:o,stickyScrollBarBorderRadius:l,lineWidth:c,lineType:u,tableBorderColor:d}=e,h=`${et(c)} ${u} ${d}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:o,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${et(a)} !important`,zIndex:o,display:"flex",alignItems:"center",background:s,borderTop:h,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:a,backgroundColor:r,borderRadius:l,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},IH=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:i}=e,a=`${et(n)} ${e.lineType} ${r}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:a}}},[`div${t}-summary`]:{boxShadow:`0 ${et(i(n).mul(-1).equal())} 0 ${r}`}}}},Y$e=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:a,calc:s}=e,o=`${et(r)} ${i} ${a}`,l=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:o,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${l}${l}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${et(r)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:o,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:o,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:s(r).mul(-1).equal(),borderInlineStart:o}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:o,borderBottom:o}}}}}},X$e=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:a,lineWidth:s,lineType:o,tableBorderColor:l,tableFontSize:c,tableBg:u,tableRadius:d,tableHeaderTextColor:h,motionDurationMid:g,tableHeaderBg:v,tableHeaderCellSplitColor:x,tableFooterTextColor:w,tableFooterBg:C,calc:E}=e,M=`${et(s)} ${o} ${l}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},m1()),{[t]:Object.assign(Object.assign({},uo(e)),{fontSize:c,background:u,borderRadius:`${et(d)} ${et(d)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${et(d)} ${et(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${et(r)} ${et(i)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${et(r)} ${et(i)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:h,fontWeight:n,textAlign:"start",background:v,borderBottom:M,transition:`background ${g} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:x,transform:"translateY(-50%)",transition:`background-color ${g}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${g}, border-color ${g}`,borderBottom:M,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:et(E(r).mul(-1).equal()),marginInline:`${et(E(a).sub(i).equal())}
                ${et(E(i).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:h,fontWeight:n,textAlign:"start",background:v,borderBottom:M,transition:`background ${g} ease`}}},[`${t}-footer`]:{padding:`${et(r)} ${et(i)}`,color:w,background:C}})}},Z$e=e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:a,controlItemBgActive:s,controlItemBgActiveHover:o,padding:l,paddingSM:c,paddingXS:u,colorBorderSecondary:d,borderRadiusLG:h,controlHeight:g,colorTextPlaceholder:v,fontSize:x,fontSizeSM:w,lineHeight:C,lineWidth:E,colorIcon:M,colorIconHover:R,opacityLoading:L,controlInteractiveSize:N}=e,D=new aa(i).onBackground(n).toHexString(),H=new aa(a).onBackground(n).toHexString(),U=new aa(t).onBackground(n).toHexString(),q=new aa(M),K=new aa(R),Q=N/2-E,X=Q*2+E*3;return{headerBg:U,headerColor:r,headerSortActiveBg:D,headerSortHoverBg:H,bodySortBg:U,rowHoverBg:U,rowSelectedBg:s,rowSelectedHoverBg:o,rowExpandedBg:t,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:c,cellPaddingInlineMD:u,cellPaddingBlockSM:u,cellPaddingInlineSM:u,borderColor:d,headerBorderRadius:h,footerBg:U,footerColor:r,cellFontSize:x,cellFontSizeMD:x,cellFontSizeSM:x,headerSplitColor:d,fixedHeaderSortActiveBg:D,headerFilterHoverBg:a,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:g,stickyScrollBarBg:v,stickyScrollBarBorderRadius:100,expandIconMarginTop:(x*C-E*3)/2-Math.ceil((w*1.4-E*3)/2),headerIconColor:q.clone().setA(q.a*L).toRgbString(),headerIconHoverColor:K.clone().setA(K.a*L).toRgbString(),expandIconHalfInner:Q,expandIconSize:X,expandIconScale:N/X}},PH=2,Q$e=no("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:a,headerColor:s,headerSortActiveBg:o,headerSortHoverBg:l,bodySortBg:c,rowHoverBg:u,rowSelectedBg:d,rowSelectedHoverBg:h,rowExpandedBg:g,cellPaddingBlock:v,cellPaddingInline:x,cellPaddingBlockMD:w,cellPaddingInlineMD:C,cellPaddingBlockSM:E,cellPaddingInlineSM:M,borderColor:R,footerBg:L,footerColor:N,headerBorderRadius:D,cellFontSize:H,cellFontSizeMD:U,cellFontSizeSM:q,headerSplitColor:K,fixedHeaderSortActiveBg:Q,headerFilterHoverBg:X,filterDropdownBg:te,expandIconBg:ee,selectionColumnWidth:Z,stickyScrollBarBg:re,calc:oe}=e,ce=ga(e,{tableFontSize:H,tableBg:r,tableRadius:D,tablePaddingVertical:v,tablePaddingHorizontal:x,tablePaddingVerticalMiddle:w,tablePaddingHorizontalMiddle:C,tablePaddingVerticalSmall:E,tablePaddingHorizontalSmall:M,tableBorderColor:R,tableHeaderTextColor:s,tableHeaderBg:a,tableFooterTextColor:N,tableFooterBg:L,tableHeaderCellSplitColor:K,tableHeaderSortBg:o,tableHeaderSortHoverBg:l,tableBodySortBg:c,tableFixedHeaderSortActiveBg:Q,tableHeaderFilterActiveBg:X,tableFilterDropdownBg:te,tableRowHoverBg:u,tableSelectedRowBg:d,tableSelectedRowHoverBg:h,zIndexTableFixed:PH,zIndexTableSticky:oe(PH).add(1).equal({unit:!1}),tableFontSizeMiddle:U,tableFontSizeSmall:q,tableSelectionColumnWidth:Z,tableExpandIconBg:ee,tableExpandColumnWidth:oe(i).add(oe(e.padding).mul(2)).equal(),tableExpandedRowBg:g,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:re,tableScrollThumbBgHover:t,tableScrollBg:n});return[X$e(ce),H$e(ce),IH(ce),q$e(ce),j$e(ce),N$e(ce),V$e(ce),B$e(ce),IH(ce),z$e(ce),G$e(ce),F$e(ce),K$e(ce),D$e(ce),W$e(ce),U$e(ce),Y$e(ce)]},Z$e,{unitless:{expandIconScale:!0}}),J$e=[],eke=(e,t)=>{var n,r;const{prefixCls:i,className:a,rootClassName:s,style:o,size:l,bordered:c,dropdownPrefixCls:u,dataSource:d,pagination:h,rowSelection:g,rowKey:v="key",rowClassName:x,columns:w,children:C,childrenColumnName:E,onChange:M,getPopupContainer:R,loading:L,expandIcon:N,expandable:D,expandedRowRender:H,expandIconColumnIndex:U,indentSize:q,scroll:K,sortDirections:Q,locale:X,showSorterTooltip:te={target:"full-header"},virtual:ee}=e;M2();const Z=I.useMemo(()=>w||gB(C),[w,C]),re=I.useMemo(()=>Z.some(Tn=>Tn.responsive),[Z]),oe=RR(re),ce=I.useMemo(()=>{const Tn=new Set(Object.keys(oe).filter(Un=>oe[Un]));return Z.filter(Un=>!Un.responsive||Un.responsive.some(ir=>Tn.has(ir)))},[Z,oe]),le=rl(e,["className","style","columns"]),{locale:pe=lx,direction:ye,table:_e,renderEmpty:Se,getPrefixCls:Re,getPopupContainer:je}=I.useContext(ii),Fe=mp(l),ze=Object.assign(Object.assign({},pe.Table),X),Ze=d||J$e,st=Re("table",i),Ue=Re("dropdown",u),[,Ne]=Qu(),qe=vh(st),[We,rt,ht]=Q$e(st,qe),ft=Object.assign(Object.assign({childrenColumnName:E,expandIconColumnIndex:U},D),{expandIcon:(n=D?.expandIcon)!==null&&n!==void 0?n:(r=_e?.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Rt="children"}=ft,Yt=I.useMemo(()=>Ze.some(Tn=>Tn?.[Rt])?"nest":H||D?.expandedRowRender?"row":null,[Ze]),Jt={body:I.useRef(null)},xt=KRe(st),Ft=I.useRef(null),Lt=I.useRef(null);WRe(t,()=>Object.assign(Object.assign({},Lt.current),{nativeElement:Ft.current}));const Kt=I.useMemo(()=>typeof v=="function"?v:Tn=>Tn?.[v],[v]),[hn]=T$e(Ze,Rt,Kt),dn={},Cn=function(Tn,Un){let ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Dn,Er,Cr,$r;const Zr=Object.assign(Object.assign({},dn),Tn);ir&&((Dn=dn.resetPagination)===null||Dn===void 0||Dn.call(dn),!((Er=Zr.pagination)===null||Er===void 0)&&Er.current&&(Zr.pagination.current=1),h&&((Cr=h.onChange)===null||Cr===void 0||Cr.call(h,1,($r=Zr.pagination)===null||$r===void 0?void 0:$r.pageSize))),K&&K.scrollToFirstRowOnChange!==!1&&Jt.body.current&&jX(0,{getContainer:()=>Jt.body.current}),M?.(Zr.pagination,Zr.filters,Zr.sorter,{currentDataSource:BD(FD(Ze,Zr.sorterStates,Rt),Zr.filterStates,Rt),action:Un})},kn=(Tn,Un)=>{Cn({sorter:Tn,sorterStates:Un},"sort",!1)},[sn,un,gn,Qt]=R$e({prefixCls:st,mergedColumns:ce,onSorterChange:kn,sortDirections:Q||["ascend","descend"],tableLocale:ze,showSorterTooltip:te}),Ln=I.useMemo(()=>FD(Ze,un,Rt),[Ze,un]);dn.sorter=Qt(),dn.sorterStates=un;const Gt=(Tn,Un)=>{Cn({filters:Tn,filterStates:Un},"filter",!0)},[He,be,we]=O$e({prefixCls:st,locale:ze,dropdownPrefixCls:Ue,mergedColumns:ce,onFilterChange:Gt,getPopupContainer:R||je,rootClassName:ut(s,qe)}),xe=BD(Ln,be,Rt);dn.filters=we,dn.filterStates=be;const Ye=I.useMemo(()=>{const Tn={};return Object.keys(we).forEach(Un=>{we[Un]!==null&&(Tn[Un]=we[Un])}),Object.assign(Object.assign({},gn),{filters:Tn})},[gn,we]),[lt]=$$e(Ye),ct=(Tn,Un)=>{Cn({pagination:Object.assign(Object.assign({},dn.pagination),{current:Tn,pageSize:Un})},"paginate")},[_t,yt]=I$e(xe.length,ct,h);dn.pagination=h===!1?{}:A$e(_t,h),dn.resetPagination=yt;const jt=I.useMemo(()=>{if(h===!1||!_t.pageSize)return xe;const{current:Tn=1,total:Un,pageSize:ir=AJ}=_t;return xe.length<Un?xe.length>ir?xe.slice((Tn-1)*ir,Tn*ir):xe:xe.slice((Tn-1)*ir,Tn*ir)},[!!h,xe,_t?.current,_t?.pageSize,_t?.total]),[$t,vt]=URe({prefixCls:st,data:xe,pageData:jt,getRowKey:Kt,getRecordByKey:hn,expandType:Yt,childrenColumnName:Rt,locale:ze,getPopupContainer:R||je},g),It=(Tn,Un,ir)=>{let Dn;return typeof x=="function"?Dn=ut(x(Tn,Un,ir)):Dn=ut(x),ut({[`${st}-row-selected`]:vt.has(Kt(Tn,Un))},Dn)};ft.__PARENT_RENDER_ICON__=ft.expandIcon,ft.expandIcon=ft.expandIcon||N||qRe(ze),Yt==="nest"&&ft.expandIconColumnIndex===void 0?ft.expandIconColumnIndex=g?1:0:ft.expandIconColumnIndex>0&&g&&(ft.expandIconColumnIndex-=1),typeof ft.indentSize!="number"&&(ft.indentSize=typeof q=="number"?q:15);const zt=I.useCallback(Tn=>lt($t(He(sn(Tn)))),[sn,He,$t]);let Dt,Tt;if(h!==!1&&_t?.total){let Tn;_t.size?Tn=_t.size:Tn=Fe==="small"||Fe==="middle"?"small":void 0;const Un=Er=>I.createElement(VAe,Object.assign({},_t,{className:ut(`${st}-pagination ${st}-pagination-${Er}`,_t.className),size:Tn})),ir=ye==="rtl"?"left":"right",{position:Dn}=_t;if(Dn!==null&&Array.isArray(Dn)){const Er=Dn.find(Zr=>Zr.includes("top")),Cr=Dn.find(Zr=>Zr.includes("bottom")),$r=Dn.every(Zr=>`${Zr}`=="none");!Er&&!Cr&&!$r&&(Tt=Un(ir)),Er&&(Dt=Un(Er.toLowerCase().replace("top",""))),Cr&&(Tt=Un(Cr.toLowerCase().replace("bottom","")))}else Tt=Un(ir)}let xn;typeof L=="boolean"?xn={spinning:L}:typeof L=="object"&&(xn=Object.assign({spinning:!0},L));const Bt=ut(ht,qe,`${st}-wrapper`,_e?.className,{[`${st}-wrapper-rtl`]:ye==="rtl"},a,s,rt),nn=Object.assign(Object.assign({},_e?.style),o),Fn=typeof X?.emptyText<"u"?X.emptyText:Se?.("Table")||I.createElement(xZ,{componentName:"Table"}),Ht=ee?L$e:k$e,ln={},rn=I.useMemo(()=>{const{fontSize:Tn,lineHeight:Un,lineWidth:ir,padding:Dn,paddingXS:Er,paddingSM:Cr}=Ne,$r=Math.floor(Tn*Un);switch(Fe){case"middle":return Cr*2+$r+ir;case"small":return Er*2+$r+ir;default:return Dn*2+$r+ir}},[Ne,Fe]);return ee&&(ln.listItemHeight=rn),We(I.createElement("div",{ref:Ft,className:Bt,style:nn},I.createElement(fB,Object.assign({spinning:!1},xn),Dt,I.createElement(Ht,Object.assign({},ln,le,{ref:Lt,columns:ce,direction:ye,expandable:ft,prefixCls:st,className:ut({[`${st}-middle`]:Fe==="middle",[`${st}-small`]:Fe==="small",[`${st}-bordered`]:c,[`${st}-empty`]:Ze.length===0},ht,qe,rt),data:jt,rowKey:Kt,rowClassName:It,emptyText:Fn,internalHooks:VO,internalRefs:Jt,transformColumns:zt,getContainerWidth:xt})),Tt)))},tke=I.forwardRef(eke),nke=(e,t)=>{const n=I.useRef(0);return n.current+=1,I.createElement(tke,Object.assign({},e,{ref:t,_renderTimes:n.current}))},Qy=I.forwardRef(nke);Qy.SELECTION_COLUMN=qb;Qy.EXPAND_COLUMN=vy;Qy.SELECTION_ALL=kD;Qy.SELECTION_INVERT=LD;Qy.SELECTION_NONE=ND;Qy.Column=$Re;Qy.ColumnGroup=kRe;Qy.Summary=sJ;const rke=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:a}=e,s=a(r).sub(n).equal(),o=a(t).sub(n).equal();return{[i]:Object.assign(Object.assign({},uo(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:s,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${et(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:o,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:s}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},wB=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,i=e.fontSizeSM;return ga(e,{tagFontSize:i,tagLineHeight:et(r(e.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},SB=e=>({defaultBg:new aa(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),RJ=no("Tag",e=>{const t=wB(e);return rke(t)},SB);var ike=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ake=I.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:i,checked:a,onChange:s,onClick:o}=e,l=ike(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:c,tag:u}=I.useContext(ii),d=C=>{s?.(!a),o?.(C)},h=c("tag",n),[g,v,x]=RJ(h),w=ut(h,`${h}-checkable`,{[`${h}-checkable-checked`]:a},u?.className,i,v,x);return g(I.createElement("span",Object.assign({},l,{ref:t,style:Object.assign(Object.assign({},r),u?.style),className:w,onClick:d})))}),oke=e=>pR(e,(t,n)=>{let{textColor:r,lightBorderColor:i,lightColor:a,darkColor:s}=n;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:r,background:a,borderColor:i,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),ske=hR(["Tag","preset"],e=>{const t=wB(e);return oke(t)},SB);function lke(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const BT=(e,t,n)=>{const r=lke(n);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},cke=hR(["Tag","status"],e=>{const t=wB(e);return[BT(t,"success","Success"),BT(t,"processing","Info"),BT(t,"error","Error"),BT(t,"warning","Warning")]},SB);var uke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fke=I.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:a,children:s,icon:o,color:l,onClose:c,bordered:u=!0,visible:d}=e,h=uke(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:g,direction:v,tag:x}=I.useContext(ii),[w,C]=I.useState(!0),E=rl(h,["closeIcon","closable"]);I.useEffect(()=>{d!==void 0&&C(d)},[d]);const M=$R(l),R=O2e(l),L=M||R,N=Object.assign(Object.assign({backgroundColor:l&&!L?l:void 0},x?.style),a),D=g("tag",n),[H,U,q]=RJ(D),K=ut(D,x?.className,{[`${D}-${l}`]:L,[`${D}-has-color`]:l&&!L,[`${D}-hidden`]:!w,[`${D}-rtl`]:v==="rtl",[`${D}-borderless`]:!u},r,i,U,q),Q=oe=>{oe.stopPropagation(),c?.(oe),!oe.defaultPrevented&&C(!1)},[,X]=xxe(O7(e),O7(x),{closable:!1,closeIconRender:oe=>{const ce=I.createElement("span",{className:`${D}-close-icon`,onClick:Q},oe);return zX(oe,ce,le=>({onClick:pe=>{var ye;(ye=le?.onClick)===null||ye===void 0||ye.call(le,pe),Q(pe)},className:ut(le?.className,`${D}-close-icon`)}))}}),te=typeof h.onClick=="function"||s&&s.type==="a",ee=o||null,Z=ee?I.createElement(I.Fragment,null,ee,s&&I.createElement("span",null,s)):s,re=I.createElement("span",Object.assign({},E,{ref:t,className:K,style:N}),Z,X,M&&I.createElement(ske,{key:"preset",prefixCls:D}),R&&I.createElement(cke,{key:"status",prefixCls:D}));return H(te?I.createElement(LO,{component:"Tag"},re):re)}),oI=fke;oI.CheckableTag=ake;const dke=e=>{const t=e?.algorithm?FA(e.algorithm):bz,n=Object.assign(Object.assign({},DS),e?.token);return VY(n,{override:e?.token},t,wz)};function hke(e){const{sizeUnit:t,sizeStep:n}=e,r=n-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}const pke=(e,t)=>{const n=t??dR(e),r=n.fontSizeSM,i=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),hke(t??e)),fX(r)),{controlHeight:i}),uX(Object.assign(Object.assign({},n),{controlHeight:i})))},Gp=(e,t)=>new aa(e).setA(t).toRgbString(),Cw=(e,t)=>new aa(e).lighten(t).toHexString(),gke=e=>{const t=zS(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},mke=(e,t)=>{const n=e||"#000",r=t||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:Gp(r,.85),colorTextSecondary:Gp(r,.65),colorTextTertiary:Gp(r,.45),colorTextQuaternary:Gp(r,.25),colorFill:Gp(r,.18),colorFillSecondary:Gp(r,.12),colorFillTertiary:Gp(r,.08),colorFillQuaternary:Gp(r,.04),colorBgSolid:Gp(r,.95),colorBgSolidHover:Gp(r,1),colorBgSolidActive:Gp(r,.9),colorBgElevated:Cw(n,12),colorBgContainer:Cw(n,8),colorBgLayout:Cw(n,0),colorBgSpotlight:Cw(n,26),colorBgBlur:Gp(r,.04),colorBorder:Cw(n,26),colorBorderSecondary:Cw(n,19)}},vke=(e,t)=>{const n=Object.keys(yz).map(i=>{const a=zS(e[i],{theme:"dark"});return Array.from({length:10},()=>1).reduce((s,o,l)=>(s[`${i}-${l+1}`]=a[l],s[`${i}${l+1}`]=a[l],s),{})}).reduce((i,a)=>(i=Object.assign(Object.assign({},i),a),i),{}),r=t??dR(e);return Object.assign(Object.assign(Object.assign({},r),n),cX(e,{generateColorPalettes:gke,generateNeutralColorPalettes:mke}))};function yke(){const[e,t,n]=Qu();return{theme:e,token:t,hashId:n}}const bke={defaultSeed:PE.token,useToken:yke,defaultAlgorithm:dR,darkAlgorithm:vke,compactAlgorithm:pke,getDesignToken:dke,defaultConfig:PE,_internalContext:_z},_ke=(e,t,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:a}=r;return{marginBottom:i,color:n,fontWeight:a,fontSize:e,lineHeight:t}},xke=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=_ke(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},wke=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},Sz(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Ske=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:VA[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),Cke=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${et(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Eke=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Oke=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Tke=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},xke(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),Ske(e)),wke(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},Sz(e)),{marginInlineStart:e.marginXXS})}),Cke(e)),Eke(e)),Oke()),{"&-rtl":{direction:"rtl"}})}},Mke=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),$J=no("Typography",e=>[Tke(e)],Mke),Ake=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:a,maxLength:s,autoSize:o=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:h,enterIcon:g=I.createElement(MIe,null)}=e,v=I.useRef(null),x=I.useRef(!1),w=I.useRef(null),[C,E]=I.useState(l);I.useEffect(()=>{E(l)},[l]),I.useEffect(()=>{var te;if(!((te=v.current)===null||te===void 0)&&te.resizableTextArea){const{textArea:ee}=v.current.resizableTextArea;ee.focus();const{length:Z}=ee.value;ee.setSelectionRange(Z,Z)}},[]);const M=te=>{let{target:ee}=te;E(ee.value.replace(/[\n\r]/g,""))},R=()=>{x.current=!0},L=()=>{x.current=!1},N=te=>{let{keyCode:ee}=te;x.current||(w.current=ee)},D=()=>{c(C.trim())},H=te=>{let{keyCode:ee,ctrlKey:Z,altKey:re,metaKey:oe,shiftKey:ce}=te;w.current!==ee||x.current||Z||re||oe||ce||(ee===mr.ENTER?(D(),d?.()):ee===mr.ESC&&u())},U=()=>{D()},[q,K,Q]=$J(t),X=ut(t,`${t}-edit-content`,{[`${t}-rtl`]:a==="rtl",[`${t}-${h}`]:!!h},r,K,Q);return q(I.createElement("div",{className:X,style:i},I.createElement(mAe,{ref:v,maxLength:s,value:C,onChange:M,onKeyDown:N,onKeyUp:H,onCompositionStart:R,onCompositionEnd:L,onBlur:U,"aria-label":n,rows:1,autoSize:o}),g!==null?hh(g,{className:`${t}-edit-content-confirm`}):null))};var _3,RH;function Ike(){return RH||(RH=1,_3=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),_3}var x3,$H;function Pke(){if($H)return x3;$H=1;var e=Ike(),t={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function r(a){var s=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,s)}function i(a,s){var o,l,c,u,d,h,g=!1;s||(s={}),o=s.debug||!1;try{c=e(),u=document.createRange(),d=document.getSelection(),h=document.createElement("span"),h.textContent=a,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(x){if(x.stopPropagation(),s.format)if(x.preventDefault(),typeof x.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var w=t[s.format]||t.default;window.clipboardData.setData(w,a)}else x.clipboardData.clearData(),x.clipboardData.setData(s.format,a);s.onCopy&&(x.preventDefault(),s.onCopy(x.clipboardData))}),document.body.appendChild(h),u.selectNodeContents(h),d.addRange(u);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");g=!0}catch(x){o&&console.error("unable to copy using execCommand: ",x),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(s.format||"text",a),s.onCopy&&s.onCopy(window.clipboardData),g=!0}catch(w){o&&console.error("unable to copy using clipboardData: ",w),o&&console.error("falling back to prompt"),l=r("message"in s?s.message:n),window.prompt(l,a)}}finally{d&&(typeof d.removeRange=="function"?d.removeRange(u):d.removeAllRanges()),h&&document.body.removeChild(h),c()}return g}return x3=i,x3}var Rke=Pke();const $ke=Ky(Rke);var kke=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const Lke=e=>{let{copyConfig:t,children:n}=e;const[r,i]=I.useState(!1),[a,s]=I.useState(!1),o=I.useRef(null),l=()=>{o.current&&clearTimeout(o.current)},c={};t.format&&(c.format=t.format),I.useEffect(()=>l,[]);const u=to(d=>kke(void 0,void 0,void 0,function*(){var h;d?.preventDefault(),d?.stopPropagation(),s(!0);try{const g=typeof t.text=="function"?yield t.text():t.text;$ke(g||nIe(n,!0).join("")||"",c),s(!1),i(!0),l(),o.current=setTimeout(()=>{i(!1)},3e3),(h=t.onCopy)===null||h===void 0||h.call(t,d)}catch(g){throw s(!1),g}}));return{copied:r,copyLoading:a,onClick:u}};function w3(e,t){return I.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const Nke=e=>{const t=I.useRef(void 0);return I.useEffect(()=>{t.current=e}),t.current},Dke=(e,t,n)=>I.useMemo(()=>e===!0?{title:t??n}:I.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]);var zke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kJ=I.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:a,setContentRef:s,children:o,direction:l,style:c}=e,u=zke(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:h,className:g,style:v}=eu("typography"),x=l??h,w=s?Ed(t,s):t,C=d("typography",n),[E,M,R]=$J(C),L=ut(C,g,{[`${C}-rtl`]:x==="rtl"},i,a,M,R),N=Object.assign(Object.assign({},v),c);return E(I.createElement(r,Object.assign({className:L,style:N,ref:w},u),o))});function kH(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function S3(e,t,n){return e===!0||e===void 0?t:e||n&&t}function Bke(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const CB=e=>["string","number"].includes(typeof e),jke=e=>{let{prefixCls:t,copied:n,locale:r,iconOnly:i,tooltips:a,icon:s,tabIndex:o,onCopy:l,loading:c}=e;const u=kH(a),d=kH(s),{copied:h,copy:g}=r??{},v=n?h:g,x=S3(u[n?1:0],v),w=typeof x=="string"?x:v;return I.createElement(s0,{title:x},I.createElement("button",{type:"button",className:ut(`${t}-copy`,{[`${t}-copy-success`]:n,[`${t}-copy-icon-only`]:i}),onClick:l,"aria-label":w,tabIndex:o},n?S3(d[1],I.createElement(EZ,null),!0):S3(d[0],c?I.createElement(I2,null):I.createElement(wIe,null),!0)))},jT=I.forwardRef((e,t)=>{let{style:n,children:r}=e;const i=I.useRef(null);return I.useImperativeHandle(t,()=>({isExceed:()=>{const a=i.current;return a.scrollHeight>a.clientHeight},getHeight:()=>i.current.clientHeight})),I.createElement("span",{"aria-hidden":!0,ref:i,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},n)},r)}),Fke=e=>e.reduce((t,n)=>t+(CB(n)?String(n).length:1),0);function LH(e,t){let n=0;const r=[];for(let i=0;i<e.length;i+=1){if(n===t)return r;const a=e[i],o=CB(a)?String(a).length:1,l=n+o;if(l>t){const c=t-n;return r.push(String(a).slice(0,c)),r}r.push(a),n=l}return e}const C3=0,E3=1,O3=2,T3=3,NH=4,FT={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Hke(e){const{enableMeasure:t,width:n,text:r,children:i,rows:a,expanded:s,miscDeps:o,onEllipsis:l}=e,c=I.useMemo(()=>Xu(r),[r]),u=I.useMemo(()=>Fke(c),[r]),d=I.useMemo(()=>i(c,!1),[r]),[h,g]=I.useState(null),v=I.useRef(null),x=I.useRef(null),w=I.useRef(null),C=I.useRef(null),E=I.useRef(null),[M,R]=I.useState(!1),[L,N]=I.useState(C3),[D,H]=I.useState(0),[U,q]=I.useState(null);Sa(()=>{N(t&&n&&u?E3:C3)},[n,r,a,t,c]),Sa(()=>{var te,ee,Z,re;if(L===E3){N(O3);const oe=x.current&&getComputedStyle(x.current).whiteSpace;q(oe)}else if(L===O3){const oe=!!(!((te=w.current)===null||te===void 0)&&te.isExceed());N(oe?T3:NH),g(oe?[0,u]:null),R(oe);const ce=((ee=w.current)===null||ee===void 0?void 0:ee.getHeight())||0,le=a===1?0:((Z=C.current)===null||Z===void 0?void 0:Z.getHeight())||0,pe=((re=E.current)===null||re===void 0?void 0:re.getHeight())||0,ye=Math.max(ce,le+pe);H(ye+1),l(oe)}},[L]);const K=h?Math.ceil((h[0]+h[1])/2):0;Sa(()=>{var te;const[ee,Z]=h||[0,0];if(ee!==Z){const oe=(((te=v.current)===null||te===void 0?void 0:te.getHeight())||0)>D;let ce=K;Z-ee===1&&(ce=oe?ee:Z),g(oe?[ee,ce]:[ce,Z])}},[h,K]);const Q=I.useMemo(()=>{if(!t)return i(c,!1);if(L!==T3||!h||h[0]!==h[1]){const te=i(c,!1);return[NH,C3].includes(L)?te:I.createElement("span",{style:Object.assign(Object.assign({},FT),{WebkitLineClamp:a})},te)}return i(s?c:LH(c,h[0]),M)},[s,L,h,c].concat(_n(o))),X={width:n,margin:0,padding:0,whiteSpace:U==="nowrap"?"normal":"inherit"};return I.createElement(I.Fragment,null,Q,L===O3&&I.createElement(I.Fragment,null,I.createElement(jT,{style:Object.assign(Object.assign(Object.assign({},X),FT),{WebkitLineClamp:a}),ref:w},d),I.createElement(jT,{style:Object.assign(Object.assign(Object.assign({},X),FT),{WebkitLineClamp:a-1}),ref:C},d),I.createElement(jT,{style:Object.assign(Object.assign(Object.assign({},X),FT),{WebkitLineClamp:1}),ref:E},i([],!0))),L===T3&&h&&h[0]!==h[1]&&I.createElement(jT,{style:Object.assign(Object.assign({},X),{top:400}),ref:v},i(LH(c,K),!0)),L===E3&&I.createElement("span",{style:{whiteSpace:"inherit"},ref:x}))}const Vke=e=>{let{enableEllipsis:t,isEllipsis:n,children:r,tooltipProps:i}=e;return!i?.title||!t?r:I.createElement(s0,Object.assign({open:n?void 0:!1},i),r)};var Uke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Gke(e,t){let{mark:n,code:r,underline:i,delete:a,strong:s,keyboard:o,italic:l}=e,c=t;function u(d,h){h&&(c=I.createElement(d,{},c))}return u("strong",s),u("u",i),u("del",a),u("code",r),u("mark",n),u("kbd",o),u("i",l),c}const Wke="...",YR=I.forwardRef((e,t)=>{var n;const{prefixCls:r,className:i,style:a,type:s,disabled:o,children:l,ellipsis:c,editable:u,copyable:d,component:h,title:g}=e,v=Uke(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:x,direction:w}=I.useContext(ii),[C]=PO("Text"),E=I.useRef(null),M=I.useRef(null),R=x("typography",r),L=rl(v,["mark","code","delete","underline","strong","keyboard","italic"]),[N,D]=w3(u),[H,U]=Us(!1,{value:D.editing}),{triggerType:q=["icon"]}=D,K=be=>{var we;be&&((we=D.onStart)===null||we===void 0||we.call(D)),U(be)},Q=Nke(H);Sa(()=>{var be;!H&&Q&&((be=M.current)===null||be===void 0||be.focus())},[H]);const X=be=>{be?.preventDefault(),K(!0)},te=be=>{var we;(we=D.onChange)===null||we===void 0||we.call(D,be),K(!1)},ee=()=>{var be;(be=D.onCancel)===null||be===void 0||be.call(D),K(!1)},[Z,re]=w3(d),{copied:oe,copyLoading:ce,onClick:le}=Lke({copyConfig:re,children:l}),[pe,ye]=I.useState(!1),[_e,Se]=I.useState(!1),[Re,je]=I.useState(!1),[Fe,ze]=I.useState(!1),[Ze,st]=I.useState(!0),[Ue,Ne]=w3(c,{expandable:!1,symbol:be=>be?C?.collapse:C?.expand}),[qe,We]=Us(Ne.defaultExpanded||!1,{value:Ne.expanded}),rt=Ue&&(!qe||Ne.expandable==="collapsible"),{rows:ht=1}=Ne,ft=I.useMemo(()=>rt&&(Ne.suffix!==void 0||Ne.onEllipsis||Ne.expandable||N||Z),[rt,Ne,N,Z]);Sa(()=>{Ue&&!ft&&(ye(pD("webkitLineClamp")),Se(pD("textOverflow")))},[ft,Ue]);const[Rt,Yt]=I.useState(rt),Jt=I.useMemo(()=>ft?!1:ht===1?_e:pe,[ft,_e,pe]);Sa(()=>{Yt(Jt&&rt)},[Jt,rt]);const xt=rt&&(Rt?Fe:Re),Ft=rt&&ht===1&&Rt,Lt=rt&&ht>1&&Rt,Kt=(be,we)=>{var xe;We(we.expanded),(xe=Ne.onExpand)===null||xe===void 0||xe.call(Ne,be,we)},[hn,dn]=I.useState(0),Cn=be=>{let{offsetWidth:we}=be;dn(we)},kn=be=>{var we;je(be),Re!==be&&((we=Ne.onEllipsis)===null||we===void 0||we.call(Ne,be))};I.useEffect(()=>{const be=E.current;if(Ue&&Rt&&be){const we=Bke(be);Fe!==we&&ze(we)}},[Ue,Rt,l,Lt,Ze,hn]),I.useEffect(()=>{const be=E.current;if(typeof IntersectionObserver>"u"||!be||!Rt||!rt)return;const we=new IntersectionObserver(()=>{st(!!be.offsetParent)});return we.observe(be),()=>{we.disconnect()}},[Rt,rt]);const sn=Dke(Ne.tooltip,D.text,l),un=I.useMemo(()=>{if(!(!Ue||Rt))return[D.text,l,g,sn.title].find(CB)},[Ue,Rt,g,sn.title,xt]);if(H)return I.createElement(Ake,{value:(n=D.text)!==null&&n!==void 0?n:typeof l=="string"?l:"",onSave:te,onCancel:ee,onEnd:D.onEnd,prefixCls:R,className:i,style:a,direction:w,component:h,maxLength:D.maxLength,autoSize:D.autoSize,enterIcon:D.enterIcon});const gn=()=>{const{expandable:be,symbol:we}=Ne;return be?I.createElement("button",{type:"button",key:"expand",className:`${R}-${qe?"collapse":"expand"}`,onClick:xe=>Kt(xe,{expanded:!qe}),"aria-label":qe?C.collapse:C?.expand},typeof we=="function"?we(qe):we):null},Qt=()=>{if(!N)return;const{icon:be,tooltip:we,tabIndex:xe}=D,Ye=Xu(we)[0]||C?.edit,lt=typeof Ye=="string"?Ye:"";return q.includes("icon")?I.createElement(s0,{key:"edit",title:we===!1?"":Ye},I.createElement("button",{type:"button",ref:M,className:`${R}-edit`,onClick:X,"aria-label":lt,tabIndex:xe},be||I.createElement(EIe,{role:"button"}))):null},Ln=()=>Z?I.createElement(jke,Object.assign({key:"copy"},re,{prefixCls:R,copied:oe,locale:C,onCopy:le,loading:ce,iconOnly:l==null})):null,Gt=be=>[be&&gn(),Qt(),Ln()],He=be=>[be&&!qe&&I.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Wke),Ne.suffix,Gt(be)];return I.createElement(zf,{onResize:Cn,disabled:!rt},be=>I.createElement(Vke,{tooltipProps:sn,enableEllipsis:rt,isEllipsis:xt},I.createElement(kJ,Object.assign({className:ut({[`${R}-${s}`]:s,[`${R}-disabled`]:o,[`${R}-ellipsis`]:Ue,[`${R}-ellipsis-single-line`]:Ft,[`${R}-ellipsis-multiple-line`]:Lt},i),prefixCls:r,style:Object.assign(Object.assign({},a),{WebkitLineClamp:Lt?ht:void 0}),component:h,ref:Ed(be,E,t),direction:w,onClick:q.includes("text")?X:void 0,"aria-label":un?.toString(),title:g},L),I.createElement(Hke,{enableMeasure:rt&&!Rt,text:l,rows:ht,width:hn,onEllipsis:kn,expanded:qe,miscDeps:[oe,qe,ce,N,Z,C]},(we,xe)=>Gke(e,I.createElement(I.Fragment,null,we.length>0&&xe&&!qe&&un?I.createElement("span",{key:"show-content","aria-hidden":!0},we):we,He(xe)))))))});var qke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Kke=I.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=qke(e,["ellipsis","rel"]);const a=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete a.navigate,I.createElement(YR,Object.assign({},a,{ref:t,ellipsis:!!n,component:"a"}))}),Yke=I.forwardRef((e,t)=>I.createElement(YR,Object.assign({ref:t},e,{component:"div"})));var Xke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zke=(e,t)=>{var{ellipsis:n}=e,r=Xke(e,["ellipsis"]);const i=I.useMemo(()=>n&&typeof n=="object"?rl(n,["expandable","rows"]):n,[n]);return I.createElement(YR,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},Qke=I.forwardRef(Zke);var Jke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const e3e=[1,2,3,4,5],t3e=I.forwardRef((e,t)=>{const{level:n=1}=e,r=Jke(e,["level"]),i=e3e.includes(n)?`h${n}`:"h1";return I.createElement(YR,Object.assign({ref:t},r,{component:i}))}),I1=kJ;I1.Text=Qke;I1.Link=Kke;I1.Title=t3e;I1.Paragraph=Yke;const n3e=I.forwardRef((e,t)=>{const{prefixCls:n,className:r,children:i,size:a,style:s={}}=e,o=ut(`${n}-panel`,{[`${n}-panel-hidden`]:a===0},r),l=a!==void 0;return it.createElement("div",{ref:t,className:o,style:Object.assign(Object.assign({},s),{flexBasis:l?a:"auto",flexGrow:l?0:1})},i)}),r3e=()=>null;var i3e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function a3e(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function o3e(e){return I.useMemo(()=>Xu(e).filter(I.isValidElement).map(n=>{const{props:r}=n,{collapsible:i}=r,a=i3e(r,["collapsible"]);return Object.assign(Object.assign({},a),{collapsible:a3e(i)})}),[e])}function s3e(e,t,n){return I.useMemo(()=>{const r=[];for(let i=0;i<e.length-1;i+=1){const a=e[i],s=e[i+1],o=t[i],l=t[i+1],{resizable:c=!0,min:u,collapsible:d}=a,{resizable:h=!0,min:g,collapsible:v}=s,x=c&&h&&(o!==0||!u)&&(l!==0||!g),w=d.end&&o>0||v.start&&l===0&&o>0,C=v.start&&l>0||d.end&&o===0&&l>0;r[i]={resizable:x,startCollapsible:!!(n?C:w),endCollapsible:!!(n?w:C)}}return r},[t,e])}function lA(e){return Number(e.slice(0,-1))/100}function M3(e){return typeof e=="string"&&e.endsWith("%")}function l3e(e,t){const n=e.map(v=>v.size),r=e.length,i=t||0,a=v=>v*i,[s,o]=it.useState(()=>e.map(v=>v.defaultSize)),l=it.useMemo(()=>{var v;const x=[];for(let w=0;w<r;w+=1)x[w]=(v=n[w])!==null&&v!==void 0?v:s[w];return x},[r,s,n]),c=it.useMemo(()=>{let v=[],x=0;for(let C=0;C<r;C+=1){const E=l[C];if(M3(E))v[C]=lA(E);else if(E||E===0){const M=Number(E);Number.isNaN(M)||(v[C]=M/i)}else x+=1,v[C]=void 0}const w=v.reduce((C,E)=>C+(E||0),0);if(w>1||!x){const C=1/w;v=v.map(E=>E===void 0?0:E*C)}else{const C=(1-w)/x;v=v.map(E=>E===void 0?C:E)}return v},[l,i]),u=it.useMemo(()=>c.map(a),[c,i]),d=it.useMemo(()=>e.map(v=>M3(v.min)?lA(v.min):(v.min||0)/i),[e,i]),h=it.useMemo(()=>e.map(v=>M3(v.max)?lA(v.max):(v.max||i)/i),[e,i]);return[it.useMemo(()=>t?u:l,[u,t]),u,c,d,h,o]}function c3e(e,t,n,r,i,a){const s=e.map(R=>[R.min,R.max]),o=r||0,l=R=>R*o;function c(R,L){return typeof R=="string"?l(lA(R)):R??L}const[u,d]=I.useState([]),h=I.useRef([]),[g,v]=I.useState(null),x=()=>n.map(l);return[R=>{d(x()),v({index:R,confirmed:!1})},(R,L)=>{var N;let D=null;if((!g||!g.confirmed)&&L!==0){if(L>0)D=R,v({index:R,confirmed:!0});else for(let Z=R;Z>=0;Z-=1)if(u[Z]>0&&t[Z].resizable){D=Z,v({index:Z,confirmed:!0});break}}const H=(N=D??g?.index)!==null&&N!==void 0?N:R,U=_n(u),q=H+1,K=c(s[H][0],0),Q=c(s[q][0],0),X=c(s[H][1],o),te=c(s[q][1],o);let ee=L;return U[H]+ee<K&&(ee=K-U[H]),U[q]-ee<Q&&(ee=U[q]-Q),U[H]+ee>X&&(ee=X-U[H]),U[q]-ee>te&&(ee=U[q]-te),U[H]+=ee,U[q]-=ee,i(U),U},()=>{v(null)},(R,L)=>{const N=x(),D=a?L==="start"?"end":"start":L,H=D==="start"?R:R+1,U=D==="start"?R+1:R,q=N[H],K=N[U];if(q!==0&&K!==0)N[H]=0,N[U]+=q,h.current[R]=q;else{const Q=q+K,X=c(s[H][0],0),te=c(s[H][1],o),ee=c(s[U][0],0),Z=c(s[U][1],o),re=Math.max(X,Q-Z),ce=(Math.min(te,Q-ee)-re)/2,le=h.current[R],pe=Q-le;le&&le<=Z&&le>=ee&&pe<=te&&pe>=X?(N[U]=le,N[H]=pe):(N[H]-=ce,N[U]+=ce)}return i(N),N},g?.index]}function A3(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}const u3e=e=>{const{prefixCls:t,vertical:n,index:r,active:i,ariaNow:a,ariaMin:s,ariaMax:o,resizable:l,startCollapsible:c,endCollapsible:u,onOffsetStart:d,onOffsetUpdate:h,onOffsetEnd:g,onCollapse:v,lazy:x,containerSize:w}=e,C=`${t}-bar`,[E,M]=I.useState(null),[R,L]=I.useState(0),N=n?0:R,D=n?R:0,H=Z=>{l&&Z.currentTarget&&(M([Z.pageX,Z.pageY]),d(r))},U=Z=>{if(l&&Z.touches.length===1){const re=Z.touches[0];M([re.pageX,re.pageY]),d(r)}},q=Z=>{const re=w*a/100,oe=re+Z,ce=Math.max(0,w*s/100),le=Math.min(w,w*o/100);return Math.max(ce,Math.min(le,oe))-re},K=to((Z,re)=>{const oe=q(n?re:Z);L(oe)}),Q=to(()=>{h(r,N,D),L(0)});it.useEffect(()=>{if(E){const Z=le=>{const{pageX:pe,pageY:ye}=le,_e=pe-E[0],Se=ye-E[1];x?K(_e,Se):h(r,_e,Se)},re=()=>{x&&Q(),M(null),g()},oe=le=>{if(le.touches.length===1){const pe=le.touches[0],ye=pe.pageX-E[0],_e=pe.pageY-E[1];x?K(ye,_e):h(r,ye,_e)}},ce=()=>{x&&Q(),M(null),g()};return window.addEventListener("touchmove",oe),window.addEventListener("touchend",ce),window.addEventListener("mousemove",Z),window.addEventListener("mouseup",re),()=>{window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",re),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",ce)}}},[E,x,n,r,w,a,s,o]);const X={[`--${C}-preview-offset`]:`${R}px`},te=n?gMe:US,ee=n?Fz:jS;return it.createElement("div",{className:C,role:"separator","aria-valuenow":A3(a),"aria-valuemin":A3(s),"aria-valuemax":A3(o)},x&&it.createElement("div",{className:ut(`${C}-preview`,{[`${C}-preview-active`]:!!R}),style:X}),it.createElement("div",{className:ut(`${C}-dragger`,{[`${C}-dragger-disabled`]:!l,[`${C}-dragger-active`]:i}),onMouseDown:H,onTouchStart:U}),c&&it.createElement("div",{className:ut(`${C}-collapse-bar`,`${C}-collapse-bar-start`),onClick:()=>v(r,"start")},it.createElement(te,{className:ut(`${C}-collapse-icon`,`${C}-collapse-start`)})),u&&it.createElement("div",{className:ut(`${C}-collapse-bar`,`${C}-collapse-bar-end`),onClick:()=>v(r,"end")},it.createElement(ee,{className:ut(`${C}-collapse-icon`,`${C}-collapse-end`)})))},f3e=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},HT={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},d3e=e=>{const{componentCls:t,colorFill:n,splitBarDraggableSize:r,splitBarSize:i,splitTriggerSize:a,controlItemBgHover:s,controlItemBgActive:o,controlItemBgActiveHover:l,prefixCls:c}=e,u=`${t}-bar`,d=`${t}-mask`,h=`${t}-panel`,g=e.calc(a).div(2).equal(),v=`${c}-bar-preview-offset`,x={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},uo(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${u}`]:{flex:"none",position:"relative",userSelect:"none",[`${u}-dragger`]:Object.assign(Object.assign({},HT),{zIndex:1,"&::before":Object.assign({content:'""',background:s},HT),"&::after":Object.assign({content:'""',background:n},HT),[`&:hover:not(${u}-dragger-active)`]:{"&::before":{background:o}},"&-active":{zIndex:2,"&::before":{background:l}},[`&-disabled${u}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:s}},"&::after":{display:"none"}}}),[`${u}-collapse-bar`]:Object.assign(Object.assign({},HT),{zIndex:e.zIndexPopupBase,background:s,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:o},"&:active":{background:l}}),"&:hover, &:active":{[`${u}-collapse-bar`]:{opacity:1}}},[d]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${u}`]:{width:0,[`${u}-preview`]:Object.assign(Object.assign({height:"100%",width:i},x),{[`&${u}-preview-active`]:{display:"block",transform:`translateX(var(--${v}))`}}),[`${u}-dragger`]:{cursor:"col-resize",height:"100%",width:a,"&::before":{height:"100%",width:i},"&::after":{height:r,width:i}},[`${u}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:g},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:g},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${u}`]:{height:0,[`${u}-preview`]:Object.assign(Object.assign({height:i,width:"100%"},x),{[`&${u}-preview-active`]:{display:"block",transform:`translateY(var(--${v}))`}}),[`${u}-dragger`]:{cursor:"row-resize",width:"100%",height:a,"&::before":{width:"100%",height:i},"&::after":{width:r,height:i}},[`${u}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:g,transform:"translateX(-50%)"},"&-end":{top:g,bottom:"auto",transform:"translateX(-50%)"}}}},[h]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),f3e(e))}},h3e=e=>{var t;const n=e.splitBarSize||2,r=e.splitTriggerSize||6,i=e.resizeSpinnerSize||20,a=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:i;return{splitBarSize:n,splitTriggerSize:r,splitBarDraggableSize:a,resizeSpinnerSize:i}},p3e=no("Splitter",e=>[d3e(e)],h3e),g3e=e=>{const{prefixCls:t,className:n,style:r,layout:i="horizontal",children:a,rootClassName:s,onResizeStart:o,onResize:l,onResizeEnd:c,lazy:u}=e,{getPrefixCls:d,direction:h,className:g,style:v}=eu("splitter"),x=d("splitter",t),w=vh(x),[C,E,M]=p3e(x,w),R=i==="vertical",L=h==="rtl",N=!R&&L,D=o3e(a),[H,U]=I.useState(),q=Ue=>{const{offsetWidth:Ne,offsetHeight:qe}=Ue,We=R?qe:Ne;We!==0&&U(We)},[K,Q,X,te,ee,Z]=l3e(D,H),re=s3e(D,Q,L),[oe,ce,le,pe,ye]=c3e(D,re,X,H,Z,L),_e=to(Ue=>{oe(Ue),o?.(Q)}),Se=to((Ue,Ne)=>{const qe=ce(Ue,Ne);l?.(qe)}),Re=to(()=>{le(),c?.(Q)}),je=to((Ue,Ne)=>{const qe=pe(Ue,Ne);l?.(qe),c?.(qe)}),Fe=ut(x,n,`${x}-${i}`,{[`${x}-rtl`]:L},s,g,M,w,E),ze=`${x}-mask`,Ze=it.useMemo(()=>{const Ue=[];let Ne=0;for(let qe=0;qe<D.length;qe+=1)Ne+=X[qe],Ue.push(Ne);return Ue},[X]),st=Object.assign(Object.assign({},v),r);return C(it.createElement(zf,{onResize:q},it.createElement("div",{style:st,className:Fe},D.map((Ue,Ne)=>{const qe=it.createElement(n3e,Object.assign({},Ue,{prefixCls:x,size:K[Ne]}));let We=null;const rt=re[Ne];if(rt){const ht=(Ze[Ne-1]||0)+te[Ne],ft=(Ze[Ne+1]||100)-ee[Ne+1],Rt=(Ze[Ne-1]||0)+ee[Ne],Yt=(Ze[Ne+1]||100)-te[Ne+1];We=it.createElement(u3e,{lazy:u,index:Ne,active:ye===Ne,prefixCls:x,vertical:R,resizable:rt.resizable,ariaNow:Ze[Ne]*100,ariaMin:Math.max(ht,ft)*100,ariaMax:Math.min(Rt,Yt)*100,startCollapsible:rt.startCollapsible,endCollapsible:rt.endCollapsible,onOffsetStart:_e,onOffsetUpdate:(Jt,xt,Ft)=>{let Lt=R?Ft:xt;N&&(Lt=-Lt),Se(Jt,Lt)},onOffsetEnd:Re,onCollapse:je,containerSize:H||0})}return it.createElement(it.Fragment,{key:`split-panel-${Ne}`},qe,We)}),typeof ye=="number"&&it.createElement("div",{"aria-hidden":!0,className:ut(ze,`${ze}-${i}`)}))))},cA=g3e;cA.Panel=r3e;const LJ=()=>qn.jsx("svg",{height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:qn.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})});function m3e({tooltipData:e,position:t}){const n=I.useRef(null),{i18n:r}=A1(),{typeOfMap:i}=I.useContext(m0),s=i==="students"?qn.jsx(nJ,{}):qn.jsx(iI,{component:LJ});return I.useEffect(()=>{n.current&&t&&(n.current.style.left=`${t.x+10}px`,n.current.style.top=`${t.y+10}px`)},[t]),e?qn.jsx("div",{ref:n,className:"map-tooltip",style:{display:e?"block":"none",left:t?.x?`${t.x+10}px`:0,top:t?.y?`${t.y+10}px`:0},children:qn.jsx(pS,{suffix:s,value:e.count,title:e.title,valueStyle:{fontSize:"16px"},formatter:o=>new Intl.NumberFormat(r.language,{minimumFractionDigits:Number.isInteger(o)?0:2,maximumFractionDigits:Number.isInteger(o)?0:2}).format(o)})}):null}const NJ=()=>[["cartesian"]];NJ.props={};function v3e(e,t){return e=e%(2*Math.PI),t=t%(2*Math.PI),e<0&&(e=2*Math.PI+e),t<0&&(t=2*Math.PI+t),e>=t&&(t=t+2*Math.PI),{startAngle:e,endAngle:t}}const DJ=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},t),e);return Object.assign(Object.assign({},n),v3e(n.startAngle,n.endAngle))},UO=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=DJ(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,n,r,i]]};UO.props={};const zJ=({startAngle:e=0,endAngle:t=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,t,n,r]];zJ.props={};const EB=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];EB.props={transform:!0};const y3e=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},BJ=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=y3e(e);return[...EB(),...UO({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};BJ.props={};const jJ=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},OB=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=jJ(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...UO({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};OB.props={};const TB=()=>[["parallel",0,1,0,1]];TB.props={};const FJ=({focusX:e=0,focusY:t=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",e,t,n,r,i]];FJ.props={transform:!0};const HJ=e=>{const{startAngle:t=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=e;return[...TB(),...UO({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};HJ.props={};const VJ=({value:e})=>t=>t.map(()=>e);VJ.props={};const UJ=({value:e})=>t=>t.map(e);UJ.props={};const GJ=({value:e})=>t=>t.map(n=>n[e]);GJ.props={};const WJ=({value:e})=>()=>e;WJ.props={};var WS=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},qJ=function(e,t){if(!WS(e))return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];t(i,r)&&n.push(i)}return n};function Yc(e){return typeof e=="function"}function ri(e){return e==null}function Qc(e){return Array.isArray(e)}const GO=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function MB(e,t){if(e){var n;if(Qc(e))for(var r=0,i=e.length;r<i&&(n=t(e[r],r),n!==!1);r++);else if(GO(e)){for(var a in e)if(e.hasOwnProperty(a)&&(n=t(e[a],a),n===!1))break}}}var AB=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return MB(e,function(n,r){Yc(e)&&r==="prototype"||t.push(r)}),t};function b3e(e,t){var n=AB(t),r=n.length;if(ri(e))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(t[a]!==e[a]||!(a in e))return!1}return!0}var HD=function(e){return typeof e=="object"&&e!==null},_3e={}.toString,KJ=function(e,t){return _3e.call(e)==="[object "+t+"]"},Hy=function(e){if(!HD(e)||!KJ(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function qS(e,t){if(!Qc(e))return null;var n;if(Yc(t)&&(n=t),Hy(t)&&(n=function(i){return b3e(i,t)}),n){for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r]}return null}function sI(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}const lI=function(e){if(Qc(e))return e.reduce(function(t,n){return Math.min(t,n)},e[0])};var YJ=function(e,t,n){if(!Qc(e)&&!Hy(e))return e;var r=n;return MB(e,function(i,a){r=t(r,i,a)}),r};function el(e){return typeof e=="string"}function WO(e){if(WS(e)){var t=e;return t[t.length-1]}}var $l=function(e,t,n){return e<t?t:e>n?n:e};function qs(e){return typeof e=="number"}var x3e=1e-5;function sE(e,t,n){return n===void 0&&(n=x3e),e===t||Math.abs(e-t)<n}const w3e=function(e,t){if(Qc(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var a=e[i],s=Yc(t)?t(a):a[t];s>r&&(n=a,r=s)}return n}},S3e=function(e,t){if(Qc(e)){for(var n,r=1/0,i=0;i<e.length;i++){var a=e[i],s=Yc(t)?t(a):a[t];s<r&&(n=a,r=s)}return n}};var XJ=function(e,t){return(e%t+t)%t};const ZJ=function(e){return ri(e)?"":e.toString()};var QJ=function(e){var t=ZJ(e);return t.charAt(0).toLowerCase()+t.substring(1)};function C3e(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):t[r]===void 0?"":t[r]})}var P1=function(e){var t=ZJ(e);return t.charAt(0).toUpperCase()+t.substring(1)},DH=function(e){return KJ(e,"Boolean")};function E3e(e){return e===null}var Cs=function(e){return e===void 0};function zH(e,t){for(var n in t)t.hasOwnProperty(n)&&n!=="constructor"&&t[n]!==void 0&&(e[n]=t[n])}function O3e(e,t,n,r){return t&&zH(e,t),n&&zH(e,n),e}var jE=function(e){if(typeof e!="object"||e===null)return e;var t;if(Qc(e)){t=[];for(var n=0,r=e.length;n<r;n++)typeof e[n]=="object"&&e[n]!=null?t[n]=jE(e[n]):t[n]=e[n]}else{t={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?t[i]=jE(e[i]):t[i]=e[i]}return t};function JJ(e,t,n){var r;return function(){var i=this,a=arguments,s=function(){r=null,e.apply(i,a)};clearTimeout(r),r=setTimeout(s,t)}}function T3e(e){var t,n,r,i=e;function a(o,l){++t>i&&(r=n,s(1),++t),n[o]=l}function s(o){t=0,n=Object.create(null),o||(r=Object.create(null))}return s(),{clear:s,has:function(o){return n[o]!==void 0||r[o]!==void 0},get:function(o){var l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return a(o,l),l},set:function(o,l){n[o]!==void 0?n[o]=l:a(o,l)}}}var I3=new Map;function M3e(e,t,n){var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=t?t.apply(this,i):i[0];I3.has(e)||I3.set(e,T3e(n));var o=I3.get(e);if(o.has(s))return o.get(s);var l=e.apply(this,i);return o.set(s,l),l};return r}var A3e=5;function I3e(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function eee(e,t,n,r){n=n||0,r=r||A3e;for(var i in t)if(I3e(t,i)){var a=t[i];a!==null&&Hy(a)?(Hy(e[i])||(e[i]={}),n<r?eee(e[i],a,n+1,r):e[i]=t[i]):Qc(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var Pn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)eee(e,t[r]);return e},tee=function(e,t){if(!WS(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,i=0;i<e.length;i++)if(e[i]===t){r=i;break}return r},cI=function(e,t){if(e===t)return!0;if(!e||!t||el(e)||el(t))return!1;if(WS(e)||WS(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=cI(e[r],t[r]),!!n);r++);return n}if(HD(e)||HD(t)){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var n=!0,r=0;r<i.length&&(n=cI(e[i[r]],t[i[r]]),!!n);r++);return n}return!1},P3e=function(e){return e};const R3e=function(e,t){t===void 0&&(t=P3e);var n={};return GO(e)&&!ri(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n},Ua=function(e,t,n){for(var r=0,i=el(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return e===void 0||r<i.length?n:e},$3e=function(e,t,n){var r=e,i=el(t)?t.split("."):t;return i.forEach(function(a,s){s<i.length-1?(GO(r[a])||(r[a]=qs(i[s+1])?[]:{}),r=r[a]):r[a]=n}),e};var k3e=Object.prototype.hasOwnProperty;const IB=function(e,t){if(e===null||!Hy(e))return{};var n={};return MB(t,function(r){k3e.call(e,r)&&(n[r]=e[r])}),n},PB=function(e,t){return YJ(e,function(n,r,i){return t.includes(i)||(n[i]=r),n},{})},dx=function(e,t,n){var r,i,a,s,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Date.now(),r=null,s=e.apply(i,a),r||(i=a=null)},c=function(){var u=Date.now();!o&&n.leading===!1&&(o=u);var d=t-(u-o);return i=this,a=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),o=u,s=e.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,d)),s};return c.cancel=function(){clearTimeout(r),o=0,r=i=a=null},c},P3=function(){},hx=function(e){return e};function FE(e){return ri(e)?0:WS(e)?e.length:Object.keys(e).length}var Qs=1e-6,uc=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function j2(){var e=new uc(9);return uc!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function L3e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function N3e(e){var t=new uc(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function D3e(e,t,n,r,i,a,s,o,l){var c=new uc(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=s,c[7]=o,c[8]=l,c}function z3e(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=u*s-o*c,h=-u*a+o*l,g=c*a-s*l,v=n*d+r*h+i*g;return v?(v=1/v,e[0]=d*v,e[1]=(-u*r+i*c)*v,e[2]=(o*r-i*s)*v,e[3]=h*v,e[4]=(u*n-i*l)*v,e[5]=(-o*n+i*a)*v,e[6]=g*v,e[7]=(-c*n+r*l)*v,e[8]=(s*n-r*a)*v,e):null}function B3e(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],g=n[1],v=n[2],x=n[3],w=n[4],C=n[5],E=n[6],M=n[7],R=n[8];return e[0]=h*r+g*s+v*c,e[1]=h*i+g*o+v*u,e[2]=h*a+g*l+v*d,e[3]=x*r+w*s+C*c,e[4]=x*i+w*o+C*u,e[5]=x*a+w*l+C*d,e[6]=E*r+M*s+R*c,e[7]=E*i+M*o+R*u,e[8]=E*a+M*l+R*d,e}function j3e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function F3e(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function H3e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var V3e=B3e;function es(){var e=new uc(16);return uc!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function RB(e){var t=new uc(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function KS(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nee(e,t,n,r,i,a,s,o,l,c,u,d,h,g,v,x){var w=new uc(16);return w[0]=e,w[1]=t,w[2]=n,w[3]=r,w[4]=i,w[5]=a,w[6]=s,w[7]=o,w[8]=l,w[9]=c,w[10]=u,w[11]=d,w[12]=h,w[13]=g,w[14]=v,w[15]=x,w}function VD(e,t,n,r,i,a,s,o,l,c,u,d,h,g,v,x,w){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=h,e[12]=g,e[13]=v,e[14]=x,e[15]=w,e}function _1(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ree(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Sm(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],g=t[11],v=t[12],x=t[13],w=t[14],C=t[15],E=n*o-r*s,M=n*l-i*s,R=n*c-a*s,L=r*l-i*o,N=r*c-a*o,D=i*c-a*l,H=u*x-d*v,U=u*w-h*v,q=u*C-g*v,K=d*w-h*x,Q=d*C-g*x,X=h*C-g*w,te=E*X-M*Q+R*K+L*q-N*U+D*H;return te?(te=1/te,e[0]=(o*X-l*Q+c*K)*te,e[1]=(i*Q-r*X-a*K)*te,e[2]=(x*D-w*N+C*L)*te,e[3]=(h*N-d*D-g*L)*te,e[4]=(l*q-s*X-c*U)*te,e[5]=(n*X-i*q+a*U)*te,e[6]=(w*R-v*D-C*M)*te,e[7]=(u*D-h*R+g*M)*te,e[8]=(s*Q-o*q+c*H)*te,e[9]=(r*q-n*Q-a*H)*te,e[10]=(v*N-x*R+C*E)*te,e[11]=(d*R-u*N-g*E)*te,e[12]=(o*U-s*K-l*H)*te,e[13]=(n*K-r*U+i*H)*te,e[14]=(x*M-v*L-w*E)*te,e[15]=(u*L-d*M+h*E)*te,e):null}function U3e(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],g=t[11],v=t[12],x=t[13],w=t[14],C=t[15];return e[0]=o*(h*C-g*w)-d*(l*C-c*w)+x*(l*g-c*h),e[1]=-(r*(h*C-g*w)-d*(i*C-a*w)+x*(i*g-a*h)),e[2]=r*(l*C-c*w)-o*(i*C-a*w)+x*(i*c-a*l),e[3]=-(r*(l*g-c*h)-o*(i*g-a*h)+d*(i*c-a*l)),e[4]=-(s*(h*C-g*w)-u*(l*C-c*w)+v*(l*g-c*h)),e[5]=n*(h*C-g*w)-u*(i*C-a*w)+v*(i*g-a*h),e[6]=-(n*(l*C-c*w)-s*(i*C-a*w)+v*(i*c-a*l)),e[7]=n*(l*g-c*h)-s*(i*g-a*h)+u*(i*c-a*l),e[8]=s*(d*C-g*x)-u*(o*C-c*x)+v*(o*g-c*d),e[9]=-(n*(d*C-g*x)-u*(r*C-a*x)+v*(r*g-a*d)),e[10]=n*(o*C-c*x)-s*(r*C-a*x)+v*(r*c-a*o),e[11]=-(n*(o*g-c*d)-s*(r*g-a*d)+u*(r*c-a*o)),e[12]=-(s*(d*w-h*x)-u*(o*w-l*x)+v*(o*h-l*d)),e[13]=n*(d*w-h*x)-u*(r*w-i*x)+v*(r*h-i*d),e[14]=-(n*(o*w-l*x)-s*(r*w-i*x)+v*(r*l-i*o)),e[15]=n*(o*h-l*d)-s*(r*h-i*d)+u*(r*l-i*o),e}function iee(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],g=e[12],v=e[13],x=e[14],w=e[15],C=t*s-n*a,E=t*o-r*a,M=t*l-i*a,R=n*o-r*s,L=n*l-i*s,N=r*l-i*o,D=c*v-u*g,H=c*x-d*g,U=c*w-h*g,q=u*x-d*v,K=u*w-h*v,Q=d*w-h*x;return C*Q-E*K+M*q+R*U-L*H+N*D}function Nf(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],g=t[10],v=t[11],x=t[12],w=t[13],C=t[14],E=t[15],M=n[0],R=n[1],L=n[2],N=n[3];return e[0]=M*r+R*o+L*d+N*x,e[1]=M*i+R*l+L*h+N*w,e[2]=M*a+R*c+L*g+N*C,e[3]=M*s+R*u+L*v+N*E,M=n[4],R=n[5],L=n[6],N=n[7],e[4]=M*r+R*o+L*d+N*x,e[5]=M*i+R*l+L*h+N*w,e[6]=M*a+R*c+L*g+N*C,e[7]=M*s+R*u+L*v+N*E,M=n[8],R=n[9],L=n[10],N=n[11],e[8]=M*r+R*o+L*d+N*x,e[9]=M*i+R*l+L*h+N*w,e[10]=M*a+R*c+L*g+N*C,e[11]=M*s+R*u+L*v+N*E,M=n[12],R=n[13],L=n[14],N=n[15],e[12]=M*r+R*o+L*d+N*x,e[13]=M*i+R*l+L*h+N*w,e[14]=M*a+R*c+L*g+N*C,e[15]=M*s+R*u+L*v+N*E,e}function mS(e,t,n){var r=n[0],i=n[1],a=n[2],s,o,l,c,u,d,h,g,v,x,w,C;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(s=t[0],o=t[1],l=t[2],c=t[3],u=t[4],d=t[5],h=t[6],g=t[7],v=t[8],x=t[9],w=t[10],C=t[11],e[0]=s,e[1]=o,e[2]=l,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=g,e[8]=v,e[9]=x,e[10]=w,e[11]=C,e[12]=s*r+u*i+v*a+t[12],e[13]=o*r+d*i+x*a+t[13],e[14]=l*r+h*i+w*a+t[14],e[15]=c*r+g*i+C*a+t[15]),e}function aee(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function G3e(e,t,n,r){var i=r[0],a=r[1],s=r[2],o=Math.hypot(i,a,s),l,c,u,d,h,g,v,x,w,C,E,M,R,L,N,D,H,U,q,K,Q,X,te,ee;return o<Qs?null:(o=1/o,i*=o,a*=o,s*=o,l=Math.sin(n),c=Math.cos(n),u=1-c,d=t[0],h=t[1],g=t[2],v=t[3],x=t[4],w=t[5],C=t[6],E=t[7],M=t[8],R=t[9],L=t[10],N=t[11],D=i*i*u+c,H=a*i*u+s*l,U=s*i*u-a*l,q=i*a*u-s*l,K=a*a*u+c,Q=s*a*u+i*l,X=i*s*u+a*l,te=a*s*u-i*l,ee=s*s*u+c,e[0]=d*D+x*H+M*U,e[1]=h*D+w*H+R*U,e[2]=g*D+C*H+L*U,e[3]=v*D+E*H+N*U,e[4]=d*q+x*K+M*Q,e[5]=h*q+w*K+R*Q,e[6]=g*q+C*K+L*Q,e[7]=v*q+E*K+N*Q,e[8]=d*X+x*te+M*ee,e[9]=h*X+w*te+R*ee,e[10]=g*X+C*te+L*ee,e[11]=v*X+E*te+N*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function oee(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*r,e[5]=s*i+u*r,e[6]=o*i+d*r,e[7]=l*i+h*r,e[8]=c*i-a*r,e[9]=u*i-s*r,e[10]=d*i-o*r,e[11]=h*i-l*r,e}function see(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*r,e[1]=s*i-u*r,e[2]=o*i-d*r,e[3]=l*i-h*r,e[8]=a*r+c*i,e[9]=s*r+u*i,e[10]=o*r+d*i,e[11]=l*r+h*i,e}function W3e(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*r,e[1]=s*i+u*r,e[2]=o*i+d*r,e[3]=l*i+h*r,e[4]=c*i-a*r,e[5]=u*i-s*r,e[6]=d*i-o*r,e[7]=h*i-l*r,e}function Ey(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Jb(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lee(e,t,n){var r=n[0],i=n[1],a=n[2],s=Math.hypot(r,i,a),o,l,c;return s<Qs?null:(s=1/s,r*=s,i*=s,a*=s,o=Math.sin(t),l=Math.cos(t),c=1-l,e[0]=r*r*c+l,e[1]=i*r*c+a*o,e[2]=a*r*c-i*o,e[3]=0,e[4]=r*i*c-a*o,e[5]=i*i*c+l,e[6]=a*i*c+r*o,e[7]=0,e[8]=r*a*c+i*o,e[9]=i*a*c-r*o,e[10]=a*a*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function cee(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function uee(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function UD(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fee(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=r+r,l=i+i,c=a+a,u=r*o,d=r*l,h=r*c,g=i*l,v=i*c,x=a*c,w=s*o,C=s*l,E=s*c;return e[0]=1-(g+x),e[1]=d+E,e[2]=h-C,e[3]=0,e[4]=d-E,e[5]=1-(u+x),e[6]=v+w,e[7]=0,e[8]=h+C,e[9]=v-w,e[10]=1-(u+g),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function q3e(e,t){var n=new uc(3),r=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=r*r+i*i+a*a+s*s;return d>0?(n[0]=(o*s+u*r+l*a-c*i)*2/d,n[1]=(l*s+u*i+c*r-o*a)*2/d,n[2]=(c*s+u*a+o*i-l*r)*2/d):(n[0]=(o*s+u*r+l*a-c*i)*2,n[1]=(l*s+u*i+c*r-o*a)*2,n[2]=(c*s+u*a+o*i-l*r)*2),fee(e,t,n),e}function uI(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function YS(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],s=t[5],o=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,s,o),e[2]=Math.hypot(l,c,u),e}function fI(e,t){var n=new uc(3);YS(n,t);var r=1/n[0],i=1/n[1],a=1/n[2],s=t[0]*r,o=t[1]*i,l=t[2]*a,c=t[4]*r,u=t[5]*i,d=t[6]*a,h=t[8]*r,g=t[9]*i,v=t[10]*a,x=s+u+v,w=0;return x>0?(w=Math.sqrt(x+1)*2,e[3]=.25*w,e[0]=(d-g)/w,e[1]=(h-l)/w,e[2]=(o-c)/w):s>u&&s>v?(w=Math.sqrt(1+s-u-v)*2,e[3]=(d-g)/w,e[0]=.25*w,e[1]=(o+c)/w,e[2]=(h+l)/w):u>v?(w=Math.sqrt(1+u-s-v)*2,e[3]=(h-l)/w,e[0]=(o+c)/w,e[1]=.25*w,e[2]=(d+g)/w):(w=Math.sqrt(1+v-s-u)*2,e[3]=(o-c)/w,e[0]=(h+l)/w,e[1]=(d+g)/w,e[2]=.25*w),e}function K3e(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=t[3],l=i+i,c=a+a,u=s+s,d=i*l,h=i*c,g=i*u,v=a*c,x=a*u,w=s*u,C=o*l,E=o*c,M=o*u,R=r[0],L=r[1],N=r[2];return e[0]=(1-(v+w))*R,e[1]=(h+M)*R,e[2]=(g-E)*R,e[3]=0,e[4]=(h-M)*L,e[5]=(1-(d+w))*L,e[6]=(x+C)*L,e[7]=0,e[8]=(g+E)*N,e[9]=(x-C)*N,e[10]=(1-(d+v))*N,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function lE(e,t,n,r,i){var a=t[0],s=t[1],o=t[2],l=t[3],c=a+a,u=s+s,d=o+o,h=a*c,g=a*u,v=a*d,x=s*u,w=s*d,C=o*d,E=l*c,M=l*u,R=l*d,L=r[0],N=r[1],D=r[2],H=i[0],U=i[1],q=i[2],K=(1-(x+C))*L,Q=(g+R)*L,X=(v-M)*L,te=(g-R)*N,ee=(1-(h+C))*N,Z=(w+E)*N,re=(v+M)*D,oe=(w-E)*D,ce=(1-(h+x))*D;return e[0]=K,e[1]=Q,e[2]=X,e[3]=0,e[4]=te,e[5]=ee,e[6]=Z,e[7]=0,e[8]=re,e[9]=oe,e[10]=ce,e[11]=0,e[12]=n[0]+H-(K*H+te*U+re*q),e[13]=n[1]+U-(Q*H+ee*U+oe*q),e[14]=n[2]+q-(X*H+Z*U+ce*q),e[15]=1,e}function $B(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,o=r+r,l=i+i,c=n*s,u=r*s,d=r*o,h=i*s,g=i*o,v=i*l,x=a*s,w=a*o,C=a*l;return e[0]=1-d-v,e[1]=u+C,e[2]=h-w,e[3]=0,e[4]=u-C,e[5]=1-c-v,e[6]=g+x,e[7]=0,e[8]=h+w,e[9]=g-x,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Y3e(e,t,n,r,i,a,s){var o=1/(n-t),l=1/(i-r),c=1/(a-s);return e[0]=a*2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*o,e[9]=(i+r)*l,e[10]=(s+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*c,e[15]=0,e}function dee(e,t,n,r,i){var a=1/Math.tan(t/2),s;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e}var X3e=dee;function Z3e(e,t,n,r,i){var a=1/Math.tan(t/2),s;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(r-i),e[10]=i*s,e[14]=i*r*s):(e[10]=-1,e[14]=-r),e}function Q3e(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+o),c=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((s-o)*l*.5),e[9]=(i-a)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function hee(e,t,n,r,i,a,s){var o=1/(t-n),l=1/(r-i),c=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*o,e[13]=(i+r)*l,e[14]=(s+a)*c,e[15]=1,e}var pee=hee;function gee(e,t,n,r,i,a,s){var o=1/(t-n),l=1/(r-i),c=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*o,e[13]=(i+r)*l,e[14]=a*c,e[15]=1,e}function mee(e,t,n,r){var i,a,s,o,l,c,u,d,h,g,v=t[0],x=t[1],w=t[2],C=r[0],E=r[1],M=r[2],R=n[0],L=n[1],N=n[2];return Math.abs(v-R)<Qs&&Math.abs(x-L)<Qs&&Math.abs(w-N)<Qs?_1(e):(u=v-R,d=x-L,h=w-N,g=1/Math.hypot(u,d,h),u*=g,d*=g,h*=g,i=E*h-M*d,a=M*u-C*h,s=C*d-E*u,g=Math.hypot(i,a,s),g?(g=1/g,i*=g,a*=g,s*=g):(i=0,a=0,s=0),o=d*s-h*a,l=h*i-u*s,c=u*a-d*i,g=Math.hypot(o,l,c),g?(g=1/g,o*=g,l*=g,c*=g):(o=0,l=0,c=0),e[0]=i,e[1]=o,e[2]=u,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*v+a*x+s*w),e[13]=-(o*v+l*x+c*w),e[14]=-(u*v+d*x+h*w),e[15]=1,e)}function J3e(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=r[0],l=r[1],c=r[2],u=i-n[0],d=a-n[1],h=s-n[2],g=u*u+d*d+h*h;g>0&&(g=1/Math.sqrt(g),u*=g,d*=g,h*=g);var v=l*h-c*d,x=c*u-o*h,w=o*d-l*u;return g=v*v+x*x+w*w,g>0&&(g=1/Math.sqrt(g),v*=g,x*=g,w*=g),e[0]=v,e[1]=x,e[2]=w,e[3]=0,e[4]=d*w-h*x,e[5]=h*v-u*w,e[6]=u*x-d*v,e[7]=0,e[8]=u,e[9]=d,e[10]=h,e[11]=0,e[12]=i,e[13]=a,e[14]=s,e[15]=1,e}function eLe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function tLe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function nLe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function vee(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function rLe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function iLe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function GD(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function aLe(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],g=e[11],v=e[12],x=e[13],w=e[14],C=e[15],E=t[0],M=t[1],R=t[2],L=t[3],N=t[4],D=t[5],H=t[6],U=t[7],q=t[8],K=t[9],Q=t[10],X=t[11],te=t[12],ee=t[13],Z=t[14],re=t[15];return Math.abs(n-E)<=Qs*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(r-M)<=Qs*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-R)<=Qs*Math.max(1,Math.abs(i),Math.abs(R))&&Math.abs(a-L)<=Qs*Math.max(1,Math.abs(a),Math.abs(L))&&Math.abs(s-N)<=Qs*Math.max(1,Math.abs(s),Math.abs(N))&&Math.abs(o-D)<=Qs*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(l-H)<=Qs*Math.max(1,Math.abs(l),Math.abs(H))&&Math.abs(c-U)<=Qs*Math.max(1,Math.abs(c),Math.abs(U))&&Math.abs(u-q)<=Qs*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(d-K)<=Qs*Math.max(1,Math.abs(d),Math.abs(K))&&Math.abs(h-Q)<=Qs*Math.max(1,Math.abs(h),Math.abs(Q))&&Math.abs(g-X)<=Qs*Math.max(1,Math.abs(g),Math.abs(X))&&Math.abs(v-te)<=Qs*Math.max(1,Math.abs(v),Math.abs(te))&&Math.abs(x-ee)<=Qs*Math.max(1,Math.abs(x),Math.abs(ee))&&Math.abs(w-Z)<=Qs*Math.max(1,Math.abs(w),Math.abs(Z))&&Math.abs(C-re)<=Qs*Math.max(1,Math.abs(C),Math.abs(re))}var kB=Nf,oLe=vee;const sLe=Object.freeze(Object.defineProperty({__proto__:null,add:nLe,adjoint:U3e,clone:RB,copy:KS,create:es,determinant:iee,equals:aLe,exactEquals:GD,frob:tLe,fromQuat:$B,fromQuat2:q3e,fromRotation:lee,fromRotationTranslation:fee,fromRotationTranslationScale:K3e,fromRotationTranslationScaleOrigin:lE,fromScaling:Jb,fromTranslation:Ey,fromValues:nee,fromXRotation:cee,fromYRotation:uee,fromZRotation:UD,frustum:Y3e,getRotation:fI,getScaling:YS,getTranslation:uI,identity:_1,invert:Sm,lookAt:mee,mul:kB,multiply:Nf,multiplyScalar:rLe,multiplyScalarAndAdd:iLe,ortho:pee,orthoNO:hee,orthoZO:gee,perspective:X3e,perspectiveFromFieldOfView:Q3e,perspectiveNO:dee,perspectiveZO:Z3e,rotate:G3e,rotateX:oee,rotateY:see,rotateZ:W3e,scale:aee,set:VD,str:eLe,sub:oLe,subtract:vee,targetTo:J3e,translate:mS,transpose:ree},Symbol.toStringTag,{value:"Module"}));function Ca(){var e=new uc(3);return uc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function gy(e){var t=new uc(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Oy(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function vo(e,t,n){var r=new uc(3);return r[0]=e,r[1]=t,r[2]=n,r}function Bv(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function kf(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function f1(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function WD(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function lLe(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function cLe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function uLe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function dI(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function fLe(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function nx(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function jv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function uA(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[0],o=n[1],l=n[2];return e[0]=i*l-a*o,e[1]=a*s-r*l,e[2]=r*o-i*s,e}function qD(e,t,n,r){var i=t[0],a=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=s+r*(n[2]-s),e}function Pl(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[3]*r+n[7]*i+n[11]*a+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/s,e}function yee(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function dLe(e,t,n){var r=n[0],i=n[1],a=n[2],s=n[3],o=t[0],l=t[1],c=t[2],u=i*c-a*l,d=a*o-r*c,h=r*l-i*o,g=i*h-a*d,v=a*u-r*h,x=r*d-i*u,w=s*2;return u*=w,d*=w,h*=w,g*=2,v*=2,x*=2,e[0]=o+u+g,e[1]=l+d+v,e[2]=c+h+x,e}function hC(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],s=t[1],o=t[2];return Math.abs(n-a)<=Qs*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=Qs*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=Qs*Math.max(1,Math.abs(i),Math.abs(o))}var hLe=WD,BH=fLe,bee=Oy;(function(){var e=Ca();return function(t,n,r,i,a,s){var o,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,o=r;o<l;o+=n)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}})();function Fv(){var e=new uc(4);return uc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function IC(e,t,n,r){var i=new uc(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function pLe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function gLe(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function mLe(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*n+r*r+i*i+a*a;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=a*s,e}function Hv(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*s,e}(function(){var e=Fv();return function(t,n,r,i,a,s){var o,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,o=r;o<l;o+=n)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],e[3]=t[o+3],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2],t[o+3]=e[3];return t}})();function qc(){var e=new uc(4);return uc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function o1(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function d1(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+s*o+i*c-a*l,e[1]=i*u+s*l+a*o-r*c,e[2]=a*u+s*c+r*l-i*o,e[3]=s*u-r*o-i*l-a*c,e}function R3(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=t[3],l=n[0],c=n[1],u=n[2],d=n[3],h,g,v,x,w;return g=i*l+a*c+s*u+o*d,g<0&&(g=-g,l=-l,c=-c,u=-u,d=-d),1-g>Qs?(h=Math.acos(g),v=Math.sin(h),x=Math.sin((1-r)*h)/v,w=Math.sin(r*h)/v):(x=1-r,w=r),e[0]=x*i+w*l,e[1]=x*a+w*c,e[2]=x*s+w*u,e[3]=x*o+w*d,e}function $3(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*n+r*r+i*i+a*a,o=s?1/s:0;return e[0]=-n*o,e[1]=-r*o,e[2]=-i*o,e[3]=a*o,e}function vLe(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[a*3+a]-t[s*3+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[a*3+s]-t[s*3+a])*r,e[a]=(t[a*3+i]+t[i*3+a])*r,e[s]=(t[s*3+i]+t[i*3+s])*r}return e}function VT(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),s=Math.cos(t),o=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return e[0]=a*l*u-s*o*c,e[1]=s*o*u+a*l*c,e[2]=s*l*c-a*o*u,e[3]=s*l*u+a*o*c,e}var yLe=IC,UT=pLe,jH=gLe,FH=d1,hI=mLe;(function(){var e=Ca(),t=vo(1,0,0),n=vo(0,1,0);return function(r,i,a){var s=jv(i,a);return s<-.999999?(uA(e,t,i),bee(e)<1e-6&&uA(e,n,i),nx(e,e),o1(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(uA(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,hI(r,r))}})();(function(){var e=qc(),t=qc();return function(n,r,i,a,s,o){return R3(e,r,s,o),R3(t,i,a,o),R3(n,e,t,2*o*(1-o)),n}})();(function(){var e=j2();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],hI(t,vLe(t,e))}})();function LB(){var e=new uc(2);return uc!=Float32Array&&(e[0]=0,e[1]=0),e}function bLe(e,t){return e[0]=t[0],e[1]=t[1],e}function _Le(e,t,n){return e[0]=t,e[1]=n,e}function xLe(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function wLe(e,t){return e[0]*t[0]+e[1]*t[1]}function SLe(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=LB();return function(t,n,r,i,a,s){var o,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,o=r;o<l;o+=n)e[0]=t[o],e[1]=t[o+1],a(e,e,s),t[o]=e[0],t[o+1]=e[1];return t}})();var KD=function(e,t){return KD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},KD(e,t)};function yl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");KD(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xn=function(){return Xn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xn.apply(this,arguments)};function wu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Hi(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})}function px(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function CLe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function Pr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ha(e){return this instanceof ha?(this.v=e,this):new ha(e)}function Vv(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,d)}}function o(g,v){r[g]&&(i[g]=function(x){return new Promise(function(w,C){a.push([g,x,w,C])>1||l(g,x)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(x){h(a[0][3],x)}}function c(g){g.value instanceof ha?Promise.resolve(g.value.v).then(u,d):h(a[0][2],g)}function u(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function fA(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:ha(e[i](s)),done:!1}:a?a(s):s}:a}}function rx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof px=="function"?px(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function k3(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var _ee={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ELe(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],i=n;r.length;)t[n]="A",e.splice(i+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var cE={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function xee(e){return Array.isArray(e)&&e.every(function(t){var n=t[0].toLowerCase();return cE[n]===t.length-1&&"achlmqstvz".includes(n)})}function wee(e){return xee(e)&&e.every(function(t){var n=t[0];return n===n.toUpperCase()})}function See(e){return wee(e)&&e.every(function(t){var n=t[0];return"ACLMQZ".includes(n)})}function HH(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=cE[n]&&(n==="m"&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(r.splice(0,cE[n]))),!!cE[n]););}function OLe(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t)}function TLe(e){return e>=48&&e<=57||e===43||e===45||e===46}function Ew(e){return e>=48&&e<=57}function MLe(e){var t=e.max,n=e.pathValue,r=e.index,i=r,a=!1,s=!1,o=!1,l=!1,c;if(i>=t){e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(c=n.charCodeAt(i),(c===43||c===45)&&(i+=1,c=n.charCodeAt(i)),!Ew(c)&&c!==46){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" is not a number');return}if(c!==46){if(a=c===48,i+=1,c=n.charCodeAt(i),a&&i<t&&c&&Ew(c)){e.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;i<t&&Ew(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(c===46){for(l=!0,i+=1;Ew(n.charCodeAt(i));)i+=1,o=!0;c=n.charCodeAt(i)}if(c===101||c===69){if(l&&!s&&!o){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid float exponent');return}if(i+=1,c=n.charCodeAt(i),(c===43||c===45)&&(i+=1),i<t&&Ew(n.charCodeAt(i)))for(;i<t&&Ew(n.charCodeAt(i));)i+=1;else{e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid integer exponent');return}}e.index=i,e.param=+e.pathValue.slice(r,i)}function ALe(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function dA(e){for(var t=e.pathValue,n=e.max;e.index<n&&ALe(t.charCodeAt(e.index));)e.index+=1}function ILe(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function PLe(e){return(e|32)===97}function RLe(e){var t=e.max,n=e.pathValue,r=e.index,i=n.charCodeAt(r),a=cE[n[r].toLowerCase()];if(e.segmentStart=r,!ILe(i)){e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(e.index+=1,dA(e),e.data=[],!a){HH(e);return}for(;;){for(var s=a;s>0;s-=1){if(PLe(i)&&(s===3||s===4)?OLe(e):MLe(e),e.err.length)return;e.data.push(e.param),dA(e),e.index<t&&n.charCodeAt(e.index)===44&&(e.index+=1,dA(e))}if(e.index>=e.max||!TLe(n.charCodeAt(e.index)))break}HH(e)}var $Le=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function kLe(e){if(xee(e))return[].concat(e);var t=new $Le(e);for(dA(t);t.index<t.max&&!t.err.length;)RLe(t);return t.err?t.err:t.segments}function LLe(e){if(wee(e))return[].concat(e);var t=kLe(e),n=0,r=0,i=0,a=0;return t.map(function(s){var o=s.slice(1).map(Number),l=s[0],c=l.toUpperCase();if(l==="M")return n=o[0],r=o[1],i=n,a=r,["M",n,r];var u;if(l!==c)switch(c){case"A":u=[c,o[0],o[1],o[2],o[3],o[4],o[5]+n,o[6]+r];break;case"V":u=[c,o[0]+r];break;case"H":u=[c,o[0]+n];break;default:{var d=o.map(function(g,v){return g+(v%2?r:n)});u=[c].concat(d)}}else u=[c].concat(o);var h=u.length;switch(c){case"Z":n=i,r=a;break;case"H":n=u[1];break;case"V":r=u[1];break;default:n=u[h-2],r=u[h-1],c==="M"&&(i=n,a=r)}return u})}function NLe(e,t){var n=e[0],r=t.x1,i=t.y1,a=t.x2,s=t.y2,o=e.slice(1).map(Number),l=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),n==="H")l=["L",e[1],i];else if(n==="V")l=["L",r,e[1]];else if(n==="S"){var c=r*2-a,u=i*2-s;t.x1=c,t.y1=u,l=["C",c,u].concat(o)}else if(n==="T"){var d=r*2-t.qx,h=i*2-t.qy;t.qx=d,t.qy=h,l=["Q",d,h].concat(o)}else if(n==="Q"){var g=o[0],v=o[1];t.qx=g,t.qy=v}return l}function pI(e){if(See(e))return[].concat(e);for(var t=LLe(e),n=Xn({},_ee),r=0;r<t.length;r+=1){t[r]=NLe(t[r],n);var i=t[r],a=i.length;n.x1=+i[a-2],n.y1=+i[a-1],n.x2=+i[a-4]||n.x1,n.y2=+i[a-3]||n.y1}return t}function DLe(e){return See(e)&&e.every(function(t){var n=t[0];return"MC".includes(n)})}function GT(e,t,n){var r=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:i}}function NB(e,t,n,r,i,a,s,o,l,c){var u=e,d=t,h=n,g=r,v=o,x=l,w=Math.PI*120/180,C=Math.PI/180*(+i||0),E=[],M,R,L,N,D;if(c)R=c[0],L=c[1],N=c[2],D=c[3];else{M=GT(u,d,-C),u=M.x,d=M.y,M=GT(v,x,-C),v=M.x,x=M.y;var H=(u-v)/2,U=(d-x)/2,q=H*H/(h*h)+U*U/(g*g);q>1&&(q=Math.sqrt(q),h*=q,g*=q);var K=h*h,Q=g*g,X=(a===s?-1:1)*Math.sqrt(Math.abs((K*Q-K*U*U-Q*H*H)/(K*U*U+Q*H*H)));N=X*h*U/g+(u+v)/2,D=X*-g*H/h+(d+x)/2,R=Math.asin(((d-D)/g*Math.pow(10,9)>>0)/Math.pow(10,9)),L=Math.asin(((x-D)/g*Math.pow(10,9)>>0)/Math.pow(10,9)),R=u<N?Math.PI-R:R,L=v<N?Math.PI-L:L,R<0&&(R=Math.PI*2+R),L<0&&(L=Math.PI*2+L),s&&R>L&&(R-=Math.PI*2),!s&&L>R&&(L-=Math.PI*2)}var te=L-R;if(Math.abs(te)>w){var ee=L,Z=v,re=x;L=R+w*(s&&L>R?1:-1),v=N+h*Math.cos(L),x=D+g*Math.sin(L),E=NB(v,x,h,g,i,0,s,Z,re,[L,ee,N,D])}te=L-R;var oe=Math.cos(R),ce=Math.sin(R),le=Math.cos(L),pe=Math.sin(L),ye=Math.tan(te/4),_e=4/3*h*ye,Se=4/3*g*ye,Re=[u,d],je=[u+_e*ce,d-Se*oe],Fe=[v+_e*pe,x-Se*le],ze=[v,x];if(je[0]=2*Re[0]-je[0],je[1]=2*Re[1]-je[1],c)return je.concat(Fe,ze,E);E=je.concat(Fe,ze,E);for(var Ze=[],st=0,Ue=E.length;st<Ue;st+=1)Ze[st]=st%2?GT(E[st-1],E[st],C).y:GT(E[st],E[st+1],C).x;return Ze}function zLe(e,t,n,r,i,a){var s=.3333333333333333,o=2/3;return[s*e+o*n,s*t+o*r,s*i+o*n,s*a+o*r,i,a]}function Yb(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return[r+(a-r)*n,i+(s-i)*n]}var VH=function(e,t,n,r){var i=.5,a=Yb([e,t],[n,r],i);return Pr(Pr([],a,!0),[n,r,n,r],!1)};function BLe(e,t){var n=e[0],r=e.slice(1).map(Number),i=r[0],a=r[1],s,o=t.x1,l=t.y1,c=t.x,u=t.y;switch("TQ".includes(n)||(t.qx=null,t.qy=null),n){case"M":return t.x=i,t.y=a,e;case"A":return s=[o,l].concat(r),["C"].concat(NB(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return t.qx=i,t.qy=a,s=[o,l].concat(r),["C"].concat(zLe(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(VH(o,l,i,a));case"Z":return o===c&&l===u?["C",o,l,c,u,c,u]:["C"].concat(VH(o,l,c,u))}return e}function YD(e,t){if(t===void 0&&(t=!1),DLe(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r=pI(e),i=Xn({},_ee),a=[],s="",o=r.length,l,c,u=[],d=0;d<o;d+=1){r[d]&&(s=r[d][0]),a[d]=s;var h=BLe(r[d],i);r[d]=h,ELe(r,a,d),o=r.length,s==="Z"&&u.push(d),l=r[d],c=l.length,i.x1=+l[c-2],i.y1=+l[c-1],i.x2=+l[c-4]||i.x1,i.y2=+l[c-3]||i.y1}return t?[r,u]:r}function jLe(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function FLe(e){var t=e.slice(1).map(function(n,r,i){return r?i[r-1].slice(-2).concat(n.slice(1)):e[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,i){return n[n.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(n){return["C"].concat(n.slice(2))}))}function ah(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function XD(e,t,n,r,i){var a=ah([e,t],[n,r]),s={x:0,y:0};if(typeof i=="number")if(i<=0)s={x:e,y:t};else if(i>=a)s={x:n,y:r};else{var o=Yb([e,t],[n,r],i/a),l=o[0],c=o[1];s={x:l,y:c}}return{length:a,point:s,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function UH(e,t){var n=e.x,r=e.y,i=t.x,a=t.y,s=n*i+r*a,o=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),l=n*a-r*i<0?-1:1,c=l*Math.acos(s/o);return c}function HLe(e,t,n,r,i,a,s,o,l,c){var u=Math.abs,d=Math.sin,h=Math.cos,g=Math.sqrt,v=Math.PI,x=u(n),w=u(r),C=(i%360+360)%360,E=C*(v/180);if(e===o&&t===l)return{x:e,y:t};if(x===0||w===0)return XD(e,t,o,l,c).point;var M=(e-o)/2,R=(t-l)/2,L={x:h(E)*M+d(E)*R,y:-d(E)*M+h(E)*R},N=Math.pow(L.x,2)/Math.pow(x,2)+Math.pow(L.y,2)/Math.pow(w,2);N>1&&(x*=g(N),w*=g(N));var D=Math.pow(x,2)*Math.pow(w,2)-Math.pow(x,2)*Math.pow(L.y,2)-Math.pow(w,2)*Math.pow(L.x,2),H=Math.pow(x,2)*Math.pow(L.y,2)+Math.pow(w,2)*Math.pow(L.x,2),U=D/H;U=U<0?0:U;var q=(a!==s?1:-1)*g(U),K={x:q*(x*L.y/w),y:q*(-(w*L.x)/x)},Q={x:h(E)*K.x-d(E)*K.y+(e+o)/2,y:d(E)*K.x+h(E)*K.y+(t+l)/2},X={x:(L.x-K.x)/x,y:(L.y-K.y)/w},te=UH({x:1,y:0},X),ee={x:(-L.x-K.x)/x,y:(-L.y-K.y)/w},Z=UH(X,ee);!s&&Z>0?Z-=2*v:s&&Z<0&&(Z+=2*v),Z%=2*v;var re=te+Z*c,oe=x*h(re),ce=w*d(re),le={x:h(E)*oe-d(E)*ce+Q.x,y:d(E)*oe+h(E)*ce+Q.y};return le}function VLe(e,t,n,r,i,a,s,o,l,c,u){var d,h=u.bbox,g=h===void 0?!0:h,v=u.length,x=v===void 0?!0:v,w=u.sampleSize,C=w===void 0?30:w,E=typeof c=="number",M=e,R=t,L=0,N=[M,R,L],D=[M,R],H=0,U={x:0,y:0},q=[{x:M,y:R}];E&&c<=0&&(U={x:M,y:R});for(var K=0;K<=C;K+=1){if(H=K/C,d=HLe(e,t,n,r,i,a,s,o,l,H),M=d.x,R=d.y,g&&q.push({x:M,y:R}),x&&(L+=ah(D,[M,R])),D=[M,R],E&&L>=c&&c>N[2]){var Q=(L-c)/(L-N[2]);U={x:D[0]*(1-Q)+N[0]*Q,y:D[1]*(1-Q)+N[1]*Q}}N=[M,R,L]}return E&&c>=L&&(U={x:o,y:l}),{length:L,point:U,min:{x:Math.min.apply(null,q.map(function(X){return X.x})),y:Math.min.apply(null,q.map(function(X){return X.y}))},max:{x:Math.max.apply(null,q.map(function(X){return X.x})),y:Math.max.apply(null,q.map(function(X){return X.y}))}}}function ULe(e,t,n,r,i,a,s,o,l){var c=1-l;return{x:Math.pow(c,3)*e+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*i+Math.pow(l,3)*s,y:Math.pow(c,3)*t+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*a+Math.pow(l,3)*o}}function Cee(e,t,n,r,i,a,s,o,l,c){var u,d=c.bbox,h=d===void 0?!0:d,g=c.length,v=g===void 0?!0:g,x=c.sampleSize,w=x===void 0?10:x,C=typeof l=="number",E=e,M=t,R=0,L=[E,M,R],N=[E,M],D=0,H={x:0,y:0},U=[{x:E,y:M}];C&&l<=0&&(H={x:E,y:M});for(var q=0;q<=w;q+=1){if(D=q/w,u=ULe(e,t,n,r,i,a,s,o,D),E=u.x,M=u.y,h&&U.push({x:E,y:M}),v&&(R+=ah(N,[E,M])),N=[E,M],C&&R>=l&&l>L[2]){var K=(R-l)/(R-L[2]);H={x:N[0]*(1-K)+L[0]*K,y:N[1]*(1-K)+L[1]*K}}L=[E,M,R]}return C&&l>=R&&(H={x:s,y:o}),{length:R,point:H,min:{x:Math.min.apply(null,U.map(function(Q){return Q.x})),y:Math.min.apply(null,U.map(function(Q){return Q.y}))},max:{x:Math.max.apply(null,U.map(function(Q){return Q.x})),y:Math.max.apply(null,U.map(function(Q){return Q.y}))}}}function GLe(e,t,n,r,i,a,s){var o=1-s;return{x:Math.pow(o,2)*e+2*o*s*n+Math.pow(s,2)*i,y:Math.pow(o,2)*t+2*o*s*r+Math.pow(s,2)*a}}function WLe(e,t,n,r,i,a,s,o){var l,c=o.bbox,u=c===void 0?!0:c,d=o.length,h=d===void 0?!0:d,g=o.sampleSize,v=g===void 0?10:g,x=typeof s=="number",w=e,C=t,E=0,M=[w,C,E],R=[w,C],L=0,N={x:0,y:0},D=[{x:w,y:C}];x&&s<=0&&(N={x:w,y:C});for(var H=0;H<=v;H+=1){if(L=H/v,l=GLe(e,t,n,r,i,a,L),w=l.x,C=l.y,u&&D.push({x:w,y:C}),h&&(E+=ah(R,[w,C])),R=[w,C],x&&E>=s&&s>M[2]){var U=(E-s)/(E-M[2]);N={x:R[0]*(1-U)+M[0]*U,y:R[1]*(1-U)+M[1]*U}}M=[w,C,E]}return x&&s>=E&&(N={x:i,y:a}),{length:E,point:N,min:{x:Math.min.apply(null,D.map(function(q){return q.x})),y:Math.min.apply(null,D.map(function(q){return q.y}))},max:{x:Math.max.apply(null,D.map(function(q){return q.x})),y:Math.max.apply(null,D.map(function(q){return q.y}))}}}function Eee(e,t,n){for(var r,i,a,s,o,l,c=pI(e),u=typeof t=="number",d,h=[],g,v=0,x=0,w=0,C=0,E,M=[],R=[],L=0,N={x:0,y:0},D=N,H=N,U=N,q=0,K=0,Q=c.length;K<Q;K+=1)E=c[K],g=E[0],d=g==="M",h=d?h:[v,x].concat(E.slice(1)),d?(w=E[1],C=E[2],N={x:w,y:C},D=N,L=0,u&&t<.001&&(U=N)):g==="L"?(r=XD(h[0],h[1],h[2],h[3],(t||0)-q),L=r.length,N=r.min,D=r.max,H=r.point):g==="A"?(i=VLe(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(t||0)-q,n||{}),L=i.length,N=i.min,D=i.max,H=i.point):g==="C"?(a=Cee(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(t||0)-q,n||{}),L=a.length,N=a.min,D=a.max,H=a.point):g==="Q"?(s=WLe(h[0],h[1],h[2],h[3],h[4],h[5],(t||0)-q,n||{}),L=s.length,N=s.min,D=s.max,H=s.point):g==="Z"&&(h=[v,x,w,C],o=XD(h[0],h[1],h[2],h[3],(t||0)-q),L=o.length,N=o.min,D=o.max,H=o.point),u&&q<t&&q+L>=t&&(U=H),R.push(D),M.push(N),q+=L,l=g!=="Z"?E.slice(-2):[w,C],v=l[0],x=l[1];return u&&t>=q&&(U={x:v,y:x}),{length:q,point:U,min:{x:Math.min.apply(null,M.map(function(X){return X.x})),y:Math.min.apply(null,M.map(function(X){return X.y}))},max:{x:Math.max.apply(null,R.map(function(X){return X.x})),y:Math.max.apply(null,R.map(function(X){return X.y}))}}}function qLe(e,t){return Eee(e,void 0,Xn(Xn({},t),{bbox:!1,length:!0})).length}function KLe(e){var t=e.length,n=t-1;return e.map(function(r,i){return e.map(function(a,s){var o=i+s,l;return s===0||e[o]&&e[o][0]==="M"?(l=e[o],["M"].concat(l.slice(-2))):(o>=t&&(o-=n),e[o])})})}function YLe(e,t){var n=e.length-1,r=[],i=0,a=0,s=KLe(e);return s.forEach(function(o,l){e.slice(1).forEach(function(c,u){a+=ah(e[(l+u)%n].slice(-2),t[u%n].slice(-2))}),r[l]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),s[i]}function XLe(e,t,n,r,i,a,s,o){return 3*((o-t)*(n+i)-(s-e)*(r+a)+r*(e-i)-n*(t-a)+o*(i+e/3)-s*(a+t/3))/20}function ZLe(e){var t=0,n=0,r=0;return YD(e).map(function(i){var a;switch(i[0]){case"M":return t=i[1],n=i[2],0;default:var s=i.slice(1),o=s[0],l=s[1],c=s[2],u=s[3],d=s[4],h=s[5];return r=XLe(t,n,o,l,c,u,d,h),a=i.slice(-2),t=a[0],n=a[1],r}}).reduce(function(i,a){return i+a},0)}function GH(e){return ZLe(e)>=0}function QLe(e,t,n){return Eee(e,t,Xn(Xn({},n),{bbox:!1,length:!0})).point}function JLe(e,t){t===void 0&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),a=e.slice(6,8),s=Yb(n,r,t),o=Yb(r,i,t),l=Yb(i,a,t),c=Yb(s,o,t),u=Yb(o,l,t),d=Yb(c,u,t);return[["C"].concat(s,c,d),["C"].concat(u,l,a)]}function WH(e){return e.map(function(t,n,r){var i=n&&r[n-1].slice(-2).concat(t.slice(1)),a=n?Cee(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,s;return n?s=a?JLe(i):[t,t]:s=[t],{s:t,ss:s,l:a}})}function Oee(e,t,n){var r=WH(e),i=WH(t),a=r.length,s=i.length,o=r.filter(function(w){return w.l}).length,l=i.filter(function(w){return w.l}).length,c=r.filter(function(w){return w.l}).reduce(function(w,C){var E=C.l;return w+E},0)/o||0,u=i.filter(function(w){return w.l}).reduce(function(w,C){var E=C.l;return w+E},0)/l||0,d=n||Math.max(a,s),h=[c,u],g=[d-a,d-s],v=0,x=[r,i].map(function(w,C){return w.l===d?w.map(function(E){return E.s}):w.map(function(E,M){return v=M&&g[C]&&E.l>=h[C],g[C]-=v?1:0,v?E.ss:[E.s]}).flat()});return x[0].length===x[1].length?x:Oee(x[0],x[1],d)}function qH(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function ps(e,t){if(e!==null)return{type:"column",value:e,field:t}}function HE(e,t){const n=ps(e,t);return Object.assign(Object.assign({},n),{inferred:!0})}function gI(e,t){if(e!==null)return{type:"column",value:e,field:t,visual:!0}}function eNe(e,t){const n=ps(e,t);return Object.assign(Object.assign({},n),{constant:!1})}function h1(e,t){const n=[];for(const r of e)n[r]=t;return n}function qa(e,t){const n=e[t];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function mI(e,...t){console.log("maybeColumnOf",e,t);for(const n of t)if(typeof n=="string"){const[r,i]=qa(e,n);if(r!==null)return[r,i]}else return[n,null];return[null,null]}function qO(e){return e instanceof Date?!1:typeof e=="object"}const KO=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;return r!==void 0?[e,t]:[e,Pn({},t,{encode:{y1:HE(h1(e,0))}})]};KO.props={};function Il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dy(e){let t,n,r;e.length!==2?(t=Il,n=(o,l)=>Il(e(o),l),r=(o,l)=>e(o)-l):(t=e===Il||e===tNe?e:nNe,n=e,r=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function nNe(){return 0}function ZD(e){return e===null?NaN:+e}function*rNe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Tee=Dy(Il),Mee=Tee.right,iNe=Tee.left,aNe=Dy(ZD).center;function Aee(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function oNe(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function Iee(e,t){const n=oNe(e,t);return n&&Math.sqrt(n)}function zy(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class gx{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}let sNe=class extends Map{constructor(t,n=uNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KH(this,t))}has(t){return super.has(KH(this,t))}set(t,n){return super.set(lNe(this,t),n)}delete(t){return super.delete(cNe(this,t))}};function KH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function lNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function uNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VE(e){return e}function Rs(e,...t){return XR(e,VE,VE,t)}function DB(e,...t){return XR(e,Array.from,VE,t)}function zB(e,t,...n){return XR(e,VE,t,n)}function BB(e,t,...n){return XR(e,Array.from,t,n)}function XR(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new sNe,l=r[s++];let c=-1;for(const u of a){const d=l(u,++c,a),h=o.get(d);h?h.push(u):o.set(d,[u])}for(const[u,d]of o)o.set(u,i(d,s));return t(o)}(e,0)}function fNe(e,t){return Array.from(t,n=>e[n])}function Tm(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=UE(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>UE(n[i],n[a]))),fNe(e,r)}return e.sort(Pee(n))}function Pee(e=Il){if(e===Il)return UE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function UE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function dNe(e,t,n){return(t.length!==2?Tm(zB(e,t,n),([r,i],[a,s])=>Il(i,s)||Il(r,a)):Tm(Rs(e,n),([r,i],[a,s])=>t(i,s)||Il(r,a))).map(([r])=>r)}var hNe=Array.prototype,pNe=hNe.slice;function L3(e){return()=>e}const gNe=Math.sqrt(50),mNe=Math.sqrt(10),vNe=Math.sqrt(2);function vI(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=gNe?10:a>=mNe?5:a>=vNe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?vI(e,t,n*2):[o,l,c]}function yNe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?vI(t,e,n):vI(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function QD(e,t,n){return t=+t,e=+e,n=+n,vI(e,t,n)[2]}function bNe(e,t,n){let r;for(;;){const i=QD(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function _Ne(e){return Math.max(1,Math.ceil(Math.log(Aee(e))/Math.LN2)+1)}function xNe(){var e=VE,t=zy,n=_Ne;function r(i){Array.isArray(i)||(i=Array.from(i));var a,s=i.length,o,l,c=new Array(s);for(a=0;a<s;++a)c[a]=e(i[a],a,i);var u=t(c),d=u[0],h=u[1],g=n(c,d,h);if(!Array.isArray(g)){const M=h,R=+g;if(t===zy&&([d,h]=bNe(d,h,R)),g=yNe(d,h,R),g[0]<=d&&(l=QD(d,h,R)),g[g.length-1]>=h)if(M>=h&&t===zy){const L=QD(d,h,R);isFinite(L)&&(L>0?h=(Math.floor(h/L)+1)*L:L<0&&(h=(Math.ceil(h*-L)+1)/-L))}else g.pop()}for(var v=g.length,x=0,w=v;g[x]<=d;)++x;for(;g[w-1]>h;)--w;(x||w<v)&&(g=g.slice(x,w),v=w-x);var C=new Array(v+1),E;for(a=0;a<=v;++a)E=C[a]=[],E.x0=a>0?g[a-1]:d,E.x1=a<v?g[a]:h;if(isFinite(l)){if(l>0)for(a=0;a<s;++a)(o=c[a])!=null&&d<=o&&o<=h&&C[Math.min(v,Math.floor((o-d)/l))].push(i[a]);else if(l<0){for(a=0;a<s;++a)if((o=c[a])!=null&&d<=o&&o<=h){const M=Math.floor((d-o)*l);C[Math.min(v,M+(g[M]<=o))].push(i[a])}}}else for(a=0;a<s;++a)(o=c[a])!=null&&d<=o&&o<=h&&C[Mee(g,o,0,v)].push(i[a]);return C}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:L3(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:L3([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:L3(Array.isArray(i)?pNe.call(i):i),r):n},r}function Uo(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function F2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function hp(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function YO(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function jB(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?UE:Pee(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(t-c*d/l+h)),v=Math.min(r,Math.floor(t+(l-c)*d/l+h));jB(e,t,g,v,i)}const a=e[t];let s=n,o=r;for(pC(e,n,t),i(e[r],a)>0&&pC(e,n,r);s<o;){for(pC(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?pC(e,n,o):(++o,pC(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function pC(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function wNe(e,t=Il){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Il(s,i)>0:Il(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function ZR(e,t,n){if(e=Float64Array.from(rNe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return hp(e);if(t>=1)return Uo(e);var r,i=(r-1)*t,a=Math.floor(i),s=Uo(jB(e,a).subarray(0,a+1)),o=hp(e.subarray(a+1));return s+(o-s)*(i-a)}}function SNe(e,t,n=ZD){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(o,l)=>ZD(n(e[l],l,e))),t<=0)return YO(r);if(t>=1)return F2(r);var r,i=Uint32Array.from(e,(o,l)=>l),a=r.length-1,s=Math.floor(a*t);return jB(i,s,0,a,(o,l)=>UE(r[o],r[l])),s=wNe(i.subarray(0,s+1),o=>r[o]),s>=0?s:-1}}function CNe(e,t,n){const r=Aee(e),i=Iee(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function GE(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function FB(e,t){return ZR(e,.5,t)}function ENe(e,t){return SNe(e,.5,t)}function*ONe(e){for(const t of e)yield*t}function Ree(e){return Array.from(ONe(e))}function nS(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ug(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function XS(e,...t){return t.reduce((n,r)=>i=>n(r(i)),e)}function yI(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function TNe(e,t){const n=t<e?t:e,r=e>t?e:t;return i=>Math.min(Math.max(n,i),r)}function HB(e,t,n,r,i){let a=n||0,s=r||e.length;const o=i||(l=>l);for(;a<s;){const l=Math.floor((a+s)/2);o(e[l])>t?s=l:a=l+1}return a}const JD=Math.sqrt(50),e5=Math.sqrt(10),t5=Math.sqrt(2);function hA(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=JD?10:a>=e5?5:a>=t5?2:1)*10**i:-(10**-i)/(a>=JD?10:a>=e5?5:a>=t5?2:1)}function YH(e,t,n){const r=Math.abs(t-e)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=JD?i*=10:a>=e5?i*=5:a>=t5&&(i*=2),t<e?-i:i}const $ee=(e,t,n=5)=>{const r=[e,t];let i=0,a=r.length-1,s=r[i],o=r[a],l;return o<s&&([s,o]=[o,s],[i,a]=[a,i]),l=hA(s,o,n),l>0?(s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l,l=hA(s,o,n)):l<0&&(s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l,l=hA(s,o,n)),l>0?(r[i]=Math.floor(s/l)*l,r[a]=Math.ceil(o/l)*l):l<0&&(r[i]=Math.ceil(s*l)/l,r[a]=Math.floor(o*l)/l),r},WE=1e3,qE=WE*60,KE=qE*60,mx=KE*24,uE=mx*7,kee=mx*30,Lee=mx*365;function Hf(e,t,n,r){const i=(c,u)=>{const d=g=>r(g)%u===0;let h=u;for(;h&&!d(c);)n(c,-1),h-=1;return c},a=(c,u)=>{u&&i(c,u),t(c)},s=(c,u)=>{const d=new Date(+c);return a(d,u),d},o=(c,u)=>{const d=new Date(+c-1);return a(d,u),n(d,u),a(d),d};return{ceil:o,floor:s,range:(c,u,d,h)=>{const g=[],v=Math.floor(d),x=h?o(c,d):o(c);for(let w=x;w<u;n(w,v),a(w))g.push(new Date(+w));return g},duration:e}}const MNe=Hf(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),ANe=Hf(WE,e=>{e.setMilliseconds(0)},(e,t=1)=>{e.setTime(+e+WE*t)},e=>e.getSeconds()),INe=Hf(qE,e=>{e.setSeconds(0,0)},(e,t=1)=>{e.setTime(+e+qE*t)},e=>e.getMinutes()),PNe=Hf(KE,e=>{e.setMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+KE*t)},e=>e.getHours()),RNe=Hf(mx,e=>{e.setHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+mx*t)},e=>e.getDate()-1),Nee=Hf(kee,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getMonth();e.setMonth(n+t)},e=>e.getMonth()),$Ne=Hf(uE,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,t=1)=>{e.setDate(e.getDate()+7*t)},e=>{const t=Nee.floor(e),n=new Date(+e);return Math.floor((+n-+t)/uE)}),kNe=Hf(Lee,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getFullYear();e.setFullYear(n+t)},e=>e.getFullYear()),Dee={millisecond:MNe,second:ANe,minute:INe,hour:PNe,day:RNe,week:$Ne,month:Nee,year:kNe},LNe=Hf(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),NNe=Hf(WE,e=>{e.setUTCMilliseconds(0)},(e,t=1)=>{e.setTime(+e+WE*t)},e=>e.getUTCSeconds()),DNe=Hf(qE,e=>{e.setUTCSeconds(0,0)},(e,t=1)=>{e.setTime(+e+qE*t)},e=>e.getUTCMinutes()),zNe=Hf(KE,e=>{e.setUTCMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+KE*t)},e=>e.getUTCHours()),BNe=Hf(mx,e=>{e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+mx*t)},e=>e.getUTCDate()-1),zee=Hf(kee,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCMonth();e.setUTCMonth(n+t)},e=>e.getUTCMonth()),jNe=Hf(uE,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+uE*t)},e=>{const t=zee.floor(e),n=new Date(+e);return Math.floor((+n-+t)/uE)}),FNe=Hf(Lee,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCFullYear();e.setUTCFullYear(n+t)},e=>e.getUTCFullYear()),Bee={millisecond:LNe,second:NNe,minute:DNe,hour:zNe,day:BNe,week:jNe,month:zee,year:FNe};function HNe(e){const t=e?Bee:Dee,{year:n,month:r,week:i,day:a,hour:s,minute:o,second:l,millisecond:c}=t;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[o,1],[o,5],[o,15],[o,30],[s,1],[s,3],[s,6],[s,12],[a,1],[a,2],[i,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function jee(e,t,n,r,i){const a=+e,s=+t,{tickIntervals:o,year:l,millisecond:c}=HNe(i),u=([w,C])=>w.duration*C,d=r?(s-a)/r:n||5,h=r||(s-a)/d,g=o.length,v=HB(o,h,0,g,u);let x;if(v===g){const w=YH(a/l.duration,s/l.duration,d);x=[l,w]}else if(v){const w=h/u(o[v-1])<u(o[v])/h,[C,E]=w?o[v-1]:o[v],M=r?Math.ceil(r/C.duration):E;x=[C,M]}else{const w=Math.max(YH(a,s,d),1);x=[c,w]}return x}const VNe=(e,t,n,r,i)=>{const a=e>t,s=a?t:e,o=a?e:t,[l,c]=jee(s,o,n,r,i),u=[l.floor(s,c),l.ceil(o,c)];return a?u.reverse():u};function bI(e){return!Cs(e)&&!E3e(e)&&!Number.isNaN(e)}const Fee=e=>t=>-e(-t),VB=(e,t)=>{const n=Math.log(e),r=e===Math.E?Math.log:e===10?Math.log10:e===2?Math.log2:i=>Math.log(i)/n;return t?Fee(r):r},UB=(e,t)=>{const n=e===Math.E?Math.exp:r=>e**r;return t?Fee(n):n},UNe=(e,t,n,r)=>{const i=e<0,a=VB(r,i),s=UB(r,i),o=e>t,l=o?t:e,c=o?e:t,u=[s(Math.floor(a(l))),s(Math.ceil(a(c)))];return o?u.reverse():u},GNe=e=>t=>{const n=e(t);return qs(n)?Math.round(n):n};function WNe(e,t){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=e(r)},n.prototype.composeOutput=function(r,i){const{domain:a,interpolator:s,round:o}=this.getOptions(),l=t(a.map(r)),c=o?GNe(s):s;this.output=XS(c,l,i,r)},n.prototype.invert=void 0}}var N3={exports:{}},D3,XH;function qNe(){return XH||(XH=1,D3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),D3}var z3={exports:{}},B3,ZH;function KNe(){return ZH||(ZH=1,B3=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),B3}var QH;function YNe(){if(QH)return z3.exports;QH=1;var e=KNe(),t=Array.prototype.concat,n=Array.prototype.slice,r=z3.exports=function(a){for(var s=[],o=0,l=a.length;o<l;o++){var c=a[o];e(c)?s=t.call(s,n.call(c)):s.push(c)}return s};return r.wrap=function(i){return function(){return i(r(arguments))}},z3.exports}var JH;function XNe(){if(JH)return N3.exports;JH=1;var e=qNe(),t=YNe(),n=Object.hasOwnProperty,r=Object.create(null);for(var i in e)n.call(e,i)&&(r[e[i]]=i);var a=N3.exports={to:{},get:{}};a.get=function(l){var c=l.substring(0,3).toLowerCase(),u,d;switch(c){case"hsl":u=a.get.hsl(l),d="hsl";break;case"hwb":u=a.get.hwb(l),d="hwb";break;default:u=a.get.rgb(l),d="rgb";break}return u?{model:d,value:u}:null},a.get.rgb=function(l){if(!l)return null;var c=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,d=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^(\w+)$/,v=[0,0,0,1],x,w,C;if(x=l.match(u)){for(C=x[2],x=x[1],w=0;w<3;w++){var E=w*2;v[w]=parseInt(x.slice(E,E+2),16)}C&&(v[3]=parseInt(C,16)/255)}else if(x=l.match(c)){for(x=x[1],C=x[3],w=0;w<3;w++)v[w]=parseInt(x[w]+x[w],16);C&&(v[3]=parseInt(C+C,16)/255)}else if(x=l.match(d)){for(w=0;w<3;w++)v[w]=parseInt(x[w+1],0);x[4]&&(x[5]?v[3]=parseFloat(x[4])*.01:v[3]=parseFloat(x[4]))}else if(x=l.match(h)){for(w=0;w<3;w++)v[w]=Math.round(parseFloat(x[w+1])*2.55);x[4]&&(x[5]?v[3]=parseFloat(x[4])*.01:v[3]=parseFloat(x[4]))}else return(x=l.match(g))?x[1]==="transparent"?[0,0,0,0]:n.call(e,x[1])?(v=e[x[1]],v[3]=1,v):null:null;for(w=0;w<3;w++)v[w]=s(v[w],0,255);return v[3]=s(v[3],0,1),v},a.get.hsl=function(l){if(!l)return null;var c=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var d=parseFloat(u[4]),h=(parseFloat(u[1])%360+360)%360,g=s(parseFloat(u[2]),0,100),v=s(parseFloat(u[3]),0,100),x=s(isNaN(d)?1:d,0,1);return[h,g,v,x]}return null},a.get.hwb=function(l){if(!l)return null;var c=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var d=parseFloat(u[4]),h=(parseFloat(u[1])%360+360)%360,g=s(parseFloat(u[2]),0,100),v=s(parseFloat(u[3]),0,100),x=s(isNaN(d)?1:d,0,1);return[h,g,v,x]}return null},a.to.hex=function(){var l=t(arguments);return"#"+o(l[0])+o(l[1])+o(l[2])+(l[3]<1?o(Math.round(l[3]*255)):"")},a.to.rgb=function(){var l=t(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},a.to.rgb.percent=function(){var l=t(arguments),c=Math.round(l[0]/255*100),u=Math.round(l[1]/255*100),d=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+c+"%, "+u+"%, "+d+"%)":"rgba("+c+"%, "+u+"%, "+d+"%, "+l[3]+")"},a.to.hsl=function(){var l=t(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},a.to.hwb=function(){var l=t(arguments),c="";return l.length>=4&&l[3]!==1&&(c=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+c+")"},a.to.keyword=function(l){return r[l.slice(0,3)]};function s(l,c,u){return Math.min(Math.max(c,l),u)}function o(l){var c=Math.round(l).toString(16).toUpperCase();return c.length<2?"0"+c:c}return N3.exports}var ZNe=XNe();const QNe=Ky(ZNe);function j3(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function JNe(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,s=2*r-a,o=j3(s,a,t+1/3),l=j3(s,a,t),c=j3(s,a,t-1/3);return[o*255,l*255,c*255,i]}function eV(e){const t=QNe.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?JNe(r):null}const ZS=(e,t)=>n=>e*(1-n)+t*n,eDe=(e,t)=>{const n=eV(e),r=eV(t);return n===null||r===null?n?()=>e:()=>t:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const d=n[u],h=r[u];a[u]=d*(1-i)+h*i}const[s,o,l,c]=a;return`rgba(${Math.round(s)}, ${Math.round(o)}, ${Math.round(l)}, ${c})`}},XO=(e,t)=>typeof e=="number"&&typeof t=="number"?ZS(e,t):typeof e=="string"&&typeof t=="string"?eDe(e,t):()=>e,tDe=(e,t)=>{const n=ZS(e,t);return r=>Math.round(n(r))};function nDe(e,t){const{second:n,minute:r,hour:i,day:a,week:s,month:o,year:l}=t;return n.floor(e)<e?".SSS":r.floor(e)<e?":ss":i.floor(e)<e?"hh:mm":a.floor(e)<e?"hh A":o.floor(e)<e?s.floor(e)<e?"MMM DD":"ddd DD":l.floor(e)<e?"MMMM":"YYYY"}function tV({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rDe({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function iDe({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aDe(e){return typeof e=="object"?e.valueOf():e}class nV extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=aDe,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(tV({map:this.map,initKey:this.initKey},t))}has(t){return super.has(tV({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(rDe({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(iDe({map:this.map,initKey:this.initKey},t))}}let ZO=class{constructor(t){this.options=Pn({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=Pn({},this.options,t),this.rescale(t)}rescale(t){}};const QR=Symbol("defaultUnknown");function rV(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function iV(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:a}=e;let s=i.get(t);if(s===void 0){if(a!==QR)return a;s=n.push(t)-1,i.set(t,s)}return r[s%r.length]}function aV(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let Hee=class Vee extends ZO{getDefaultOptions(){return{domain:[],range:[],unknown:QR}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&rV(this.domainIndexMap,this.getDomain(),this.domainKey),iV({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&rV(this.rangeIndexMap,this.getRange(),this.rangeKey),iV({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=aV(n),this.rangeKey=aV(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new Vee(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function oDe(e){const t=Math.min(...e);return e.map(n=>n/t)}function sDe(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function lDe(e){return Math.round(e*1e12)/1e12}function cDe(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:a,round:s,align:o}=e,l=t.length,c=sDe(a,l),[u,d]=n,h=d-u,g=2/l*r+1-1/l*i,v=h/g,x=v*i/l,w=v-l*x,C=oDe(c),E=C.reduce((Q,X)=>Q+X),M=w/E,R=new nV(t.map((Q,X)=>{const te=C[X]*M;return[Q,s?Math.floor(te):te]})),L=new nV(t.map((Q,X)=>{const ee=C[X]*M+x;return[Q,s?Math.floor(ee):ee]})),N=Array.from(L.values()).reduce((Q,X)=>Q+X),H=(h-(N-N/l*i))*o,U=u+H;let q=s?Math.round(U):U;const K=new Array(l);for(let Q=0;Q<l;Q+=1){K[Q]=lDe(q);const X=t[Q];q+=L.get(X)}return{valueBandWidth:R,valueStep:L,adjustedRange:K}}function uDe(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return cDe(e);const{range:a,paddingOuter:s,paddingInner:o,round:l,align:c}=e;let u,d,h=a[0];const v=a[1]-h,x=s*2,w=r-o;u=v/Math.max(1,x+w),l&&(u=Math.floor(u)),h+=(v-u*(r-o))*c,d=u*(1-o),l&&(h=Math.round(h),d=Math.round(d));const C=new Array(r).fill(0).map((E,M)=>h+M*u);return{valueStep:u,valueBandWidth:d,adjustedRange:C}}let QS=class Uee extends Hee{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:QR,flex:[]}}constructor(t){super(t)}clone(){return new Uee(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:s,valueBandWidth:o,valueStep:l}=uDe({align:t,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=o,this.adjustedRange=s}};const vx=(e,t,n)=>{let r,i,a=e,s=t;if(a===s&&n>0)return[a];let o=hA(a,s,n);if(o===0||!Number.isFinite(o))return[];if(o>0){a=Math.ceil(a/o),s=Math.floor(s/o),i=new Array(r=Math.ceil(s-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)*o}else{o=-o,a=Math.ceil(a*o),s=Math.floor(s*o),i=new Array(r=Math.ceil(s-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)/o}return i};let GB=class Gee extends ZO{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:vx}}map(t){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(t){const[n]=this.options.range;return t===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:n,tickCount:r}=this.options,[i,a]=n;return!qs(i)||!qs(a)?[]:t(i,a,r)}clone(){return new Gee(this.options)}};function gC(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const fDe=[1,5,2,2.5,4,3],oV=Number.EPSILON*100;function dDe(e,t){return(e%t+t)%t}function hDe(e){return Math.round(e*1e12)/1e12}function pDe(e,t,n,r,i,a){const s=FE(t),o=tee(t,e);let l=0;const c=dDe(r,a);return(c<oV||a-c<oV)&&r<=0&&i>=0&&(l=1),1-o/(s-1)-n+l}function gDe(e,t,n){const r=FE(t);return 1-tee(t,e)/(r-1)-n+1}function mDe(e,t,n,r,i,a){const s=(e-1)/(a-i),o=(t-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(s/o,o/s)}function vDe(e,t){return e>=t?2-(e-1)/(t-1):1}function yDe(e,t,n,r){const i=t-e;return 1-.5*((t-r)**2+(e-n)**2)/(.1*i)**2}function bDe(e,t,n){const r=t-e;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function _De(){return 1}const WB=(e,t,n=5,r=!0,i=fDe,a=[.25,.2,.5,.05])=>{const s=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||typeof e!="number"||typeof t!="number"||!s)return[];if(t-e<1e-15||s===1)return[e];const o={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let v=0;v<i.length;v+=1){const x=i[v],w=gDe(x,i,l);if(a[0]*w+a[1]+a[2]+a[3]<o.score){l=1/0;break}let C=2;for(;C<1/0;){const E=vDe(C,s);if(a[0]*w+a[1]+a[2]*E+a[3]<o.score)break;const M=(t-e)/(C+1)/l/x;let R=Math.ceil(Math.log10(M));for(;R<1/0;){const L=l*x*10**R,N=bDe(e,t,L*(C-1));if(a[0]*w+a[1]*N+a[2]*E+a[3]<o.score)break;const D=Math.floor(t/L)*l-(C-1)*l,H=Math.ceil(e/L)*l;if(D<=H){const U=H-D;for(let q=0;q<=U;q+=1){const Q=(D+q)*(L/l),X=Q+L*(C-1),te=L,ee=pDe(x,i,l,Q,X,te),Z=yDe(e,t,Q,X),re=mDe(C,s,e,t,Q,X),oe=_De(),ce=a[0]*ee+a[1]*Z+a[2]*re+a[3]*oe;ce>o.score&&(!r||Q<=e&&X>=t)&&(o.lmin=Q,o.lmax=X,o.lstep=te,o.score=ce)}}R+=1}C+=1}}l+=1}const c=gC(o.lmax),u=gC(o.lmin),d=gC(o.lstep),h=Math.floor(hDe((c-u)/d))+1,g=new Array(h);g[0]=gC(u);for(let v=1;v<h;v+=1)g[v]=gC(g[v-1]+d);return g};let Wee=class qee extends ZO{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:WB}}map(t){return bI(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new qee(this.options)}getTicks(){const{domain:t,tickCount:n,tickMethod:r}=this.options,[i,a]=t;return!qs(i)||!qs(a)?[]:r(i,a,n)}};const xDe=(e,t,n)=>{const[r,i]=e,[a,s]=t;let o,l;return r<i?(o=yI(r,i),l=n(a,s)):(o=yI(i,r),l=n(s,a)),XS(l,o)},wDe=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=e[0]>e[r],o=s?[...e].reverse():e,l=s?[...t].reverse():t;for(let c=0;c<r;c+=1)i[c]=yI(o[c],o[c+1]),a[c]=n(l[c],l[c+1]);return c=>{const u=HB(e,c,1,r)-1,d=i[u],h=a[u];return XS(h,d)(c)}},sV=(e,t,n,r)=>(Math.min(e.length,t.length)>2?wDe:xDe)(e,t,r?tDe:n);let JR=class extends ZO{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:ZS,tickCount:5}}map(t){return bI(t)?this.output(t):this.options.unknown}invert(t){return bI(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...i)}getTicks(){const{tickMethod:t}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return t(n,r,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}chooseNice(){return $ee}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,r.length);return n?TNe(i[0],i[a-1]):hx}composeOutput(t,n){const{domain:r,range:i,round:a,interpolate:s}=this.options,o=sV(r.map(t),i,s,a);this.output=XS(o,n,t)}composeInput(t,n,r){const{domain:i,range:a}=this.options,s=sV(a,i.map(t),ZS);this.input=XS(n,r,s)}},ks=class Kee extends JR{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:XO,tickMethod:vx,tickCount:5}}chooseTransforms(){return[hx,hx]}clone(){return new Kee(this.options)}},Yee=class Xee extends QS{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:QR,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new Xee(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}};const SDe=e=>t=>t<0?-((-t)**e):t**e,CDe=e=>t=>t<0?-((-t)**(1/e)):t**(1/e),EDe=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let Zee=class Qee extends JR{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:XO,tickMethod:vx,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(t===1)return[hx,hx];const n=t===.5?EDe:SDe(t),r=CDe(t);return[n,r]}clone(){return new Qee(this.options)}},ODe=class Jee extends Zee{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:XO,tickMethod:vx,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new Jee(this.options)}},e$=class ete extends ZO{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!bI(t))return this.options.unknown;const n=HB(this.thresholds,t,0,this.n);return this.options.range[n]}invert(t){const{range:n}=this.options,r=n.indexOf(t),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new ete(this.options)}rescale(){const{domain:t,range:n}=this.options;this.n=Math.min(t.length,n.length-1),this.thresholds=t}};const TDe=(e,t,n,r=10)=>{const i=e<0,a=UB(r,i),s=VB(r,i),o=t<e,l=o?t:e,c=o?e:t;let u=s(l),d=s(c),h=[];if(!(r%1)&&d-u<n){if(u=Math.floor(u),d=Math.ceil(d),i)for(;u<=d;u+=1){const g=a(u);for(let v=r-1;v>=1;v-=1){const x=g*v;if(x>c)break;x>=l&&h.push(x)}}else for(;u<=d;u+=1){const g=a(u);for(let v=1;v<r;v+=1){const x=g*v;if(x>c)break;x>=l&&h.push(x)}}h.length*2<n&&(h=vx(l,c,n))}else{const g=n===-1?d-u:Math.min(d-u,n);h=vx(u,d,g).map(a)}return o?h.reverse():h};let MDe=class tte extends JR{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:XO,tickMethod:TDe,tickCount:5}}chooseNice(){return UNe}getTickMethodOptions(){const{domain:t,tickCount:n,base:r}=this.options,i=t[0],a=t[t.length-1];return[i,a,n,r]}chooseTransforms(){const{base:t,domain:n}=this.options,r=n[0]<0;return[VB(t,r),UB(t,r)]}clone(){return new tte(this.options)}},nte=class rte extends e${getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:WB}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[n,r,i]=this.getTickMethodOptions();this.options.domain=$ee(n,r,i)}}getTicks(){const{tickMethod:t}=this.options,[n,r,i]=this.getTickMethodOptions();return t(n,r,i)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}rescale(){this.nice();const{range:t,domain:n}=this.options,[r,i]=n;this.n=t.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(t){const[n,r]=super.invert(t),[i,a]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||i,r||a]}getThresholds(){return this.thresholds}clone(){return new rte(this.options)}};function ADe(e,t){const n=e.length;if(!n)return;if(n<2)return e[n-1];const r=(n-1)*t,i=Math.floor(r),a=e[i],s=e[i+1];return a+(s-a)*(r-i)}function IDe(e,t,n=!1){const r=e;n||r.sort((a,s)=>a-s);const i=[];for(let a=1;a<t;a+=1)i.push(ADe(r,a/t));return i}let ite=class ate extends e${getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:WB}}constructor(t){super(t)}rescale(){const{domain:t,range:n}=this.options;this.n=n.length-1,this.thresholds=IDe(t,this.n+1,!1)}invert(t){const[n,r]=super.invert(t),{domain:i}=this.options,a=i[0],s=i[i.length-1];return n===void 0&&r===void 0?[n,r]:[n||a,r||s]}getThresholds(){return this.thresholds}clone(){return new ate(this.options)}getTicks(){const{tickCount:t,domain:n,tickMethod:r}=this.options,i=n.length-1,a=n[0],s=n[i];return r(a,s,t)}};var PDe=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,RDe=/\[([^]*?)\]/gm;function ote(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}function n5(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];for(var s in a)e[s]=a[s]}return e}var ste=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lte=["January","February","March","April","May","June","July","August","September","October","November","December"],$De=ote(lte,3),kDe=ote(ste,3),LDe={dayNamesShort:kDe,dayNames:ste,monthNamesShort:$De,monthNames:lte,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},NDe=n5({},LDe),nh=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},DDe={D:function(e){return String(e.getDate())},DD:function(e){return nh(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return nh(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return nh(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return nh(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return nh(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return nh(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return nh(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return nh(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return nh(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return nh(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return nh(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+nh(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+nh(Math.floor(Math.abs(t)/60),2)+":"+nh(Math.abs(t)%60,2)}},lV={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},zDe=function(e,t,n){if(t===void 0&&(t=lV.default),n===void 0&&(n={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=lV[t]||t;var r=[];t=t.replace(RDe,function(a,s){return r.push(s),"@@@"});var i=n5(n5({},NDe),n);return t=t.replace(PDe,function(a){return DDe[a](e,i)}),t.replace(/@@@/g,function(){return r.shift()})};const BDe=(e,t,n,r,i)=>{const a=e>t,s=a?t:e,o=a?e:t,[l,c]=jee(s,o,n,r,i),u=l.range(s,new Date(+o+1),c,!0);return a?u.reverse():u};function jDe(e){const t=e.getTimezoneOffset(),n=new Date(e);return n.setMinutes(n.getMinutes()+t,n.getSeconds(),n.getMilliseconds()),n}let FDe=class cte extends JR{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:BDe,interpolate:ZS,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return VNe}getTickMethodOptions(){const{domain:t,tickCount:n,tickInterval:r,utc:i}=this.options,a=t[0],s=t[t.length-1];return[a,s,n,r,i]}getFormatter(){const{mask:t,utc:n}=this.options,r=n?Bee:Dee,i=n?jDe:hx;return a=>zDe(i(a),t||nDe(a,r))}clone(){return new cte(this.options)}};var HDe=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r5;function VDe(e){return[e(0),e(1)]}const UDe=e=>{const[t,n]=e;return XS(ZS(0,1),yI(t,n))};let i5=r5=class extends ks{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:hx,tickMethod:vx,tickCount:5}}constructor(t){super(t)}clone(){return new r5(this.options)}};i5=r5=HDe([WNe(VDe,UDe)],i5);var GDe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};function WDe(e){var t;let n=e;for(;n;){if(((t=n.attributes)===null||t===void 0?void 0:t.class)==="view")return n;n=n.parentNode}return null}function ute(e,t){const n=t??WDe(e).__data__,r=e.__data__,{markKey:i,index:a,seriesIndex:s}=r,{markState:o}=n,l=Array.from(o.keys()).find(c=>c.key===i);if(l)return s?s.map(c=>l.data[c]):l.data[a]}function qDe(e,t){const{color:n,series:r,facet:i=!1}=e,{color:a,series:s}=t,o=l=>l&&l.invert&&!(l instanceof QS)&&!(l instanceof GB);if(o(r))return r.clone().invert(s);if(s&&r instanceof QS&&r.invert(s)!==a&&!i)return r.invert(s);if(o(n)){const l=n.invert(a);return Array.isArray(l)?null:l}return null}function yx(e){return e}function qB(e){return e.reduce((t,n)=>(r,...i)=>n(t(r,...i),...i),yx)}function KDe(e){return e.reduce((t,n)=>r=>GDe(this,void 0,void 0,function*(){const i=yield t(r);return n(i)}),yx)}function KB(e){return e.replace(/( |^)[a-z]/g,t=>t.toUpperCase())}function JS(e=""){throw new Error(e)}function YB(e,t){const{attributes:n}=t,r=new Set(["id","className"]);for(const[i,a]of Object.entries(n))r.has(i)||e.attr(i,a)}function Es(e){return e!=null&&!Number.isNaN(e)}function YDe(e){const t=new Map;return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}function XDe(e,t){const{transform:n}=e.style,i=(a=>a==="none"||a===void 0)(n)?"":n;e.style.transform=`${i} ${t}`.trimStart()}function or(e,t){return fte(e,t)||{}}function fte(e,t){const n=Object.entries(e||{}).filter(([r])=>r.startsWith(t)).map(([r,i])=>[QJ(r.replace(t,"").trim()),i]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function ZDe(e,t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.find(r=>n.startsWith(r))))}function F3(e,...t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.every(r=>!n.startsWith(r))))}function cV(e,t){if(e===void 0)return null;if(typeof e=="number")return e;const n=+e.replace("%","");return Number.isNaN(n)?null:n/100*t}function e2(e){return typeof e=="object"&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)}function Vy(e){return e===null||e===!1}function dte(e,t,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(t)){const a=t[i];!Hy(a)||!Hy(e[i])?e[i]=a:dte(e[i],a,n,r+1)}return e}}function l0(e,t){return Object.entries(e).reduce((n,[r,i])=>(n[r]=t(i,r,e),n),{})}function Lx(e){return e.map((t,n)=>n)}function QDe(e){return e[0]}function hte(e){return e[e.length-1]}function JDe(e){return Array.from(new Set(e))}function pte(e,t){const n=[[],[]];return e.forEach(r=>{n[t(r)?0:1].push(r)}),n}function gte(e,t=e.length){if(t===1)return e.map(r=>[r]);const n=[];for(let r=0;r<e.length;r++){const i=e.slice(r+1);gte(i,t-1).forEach(s=>{n.push([e[r],...s])})}return n}function e5e(e){if(e.length===1)return[e];const t=[];for(let n=1;n<=e.length;n++)t.push(...gte(e,n));return t}function R1(e,t,n){const{encode:r}=n;if(e===null)return[t];const i=t5e(e).map(s=>{var o;return[s,(o=qa(r,s))===null||o===void 0?void 0:o[0]]}).filter(([,s])=>Es(s)),a=s=>i.map(([,o])=>o[s]).join("-");return Array.from(Rs(t,a).values())}function mte(e){return Array.isArray(e)?i5e(e):typeof e=="function"?r5e(e):e==="series"?n5e:e==="value"?a5e:e==="sum"?o5e:e==="maxIndex"?s5e:null}function vte(e,t){for(const n of e)n.sort(t)}function yte(e,t){return t?.domain||Array.from(new Set(e))}function t5e(e){return Array.isArray(e)?e:[e]}function n5e(e,t,n){return QO(r=>n[r])}function r5e(e){return(t,n,r)=>QO(i=>e(t[i]))}function i5e(e){return(t,n,r)=>(i,a)=>e.reduce((s,o)=>s!==0?s:Il(t[i][o],t[a][o]),0)}function a5e(e,t,n){return QO(r=>t[r])}function o5e(e,t,n){const r=Lx(e),i=Array.from(Rs(r,s=>n[+s]).entries()),a=new Map(i.map(([s,o])=>[s,o.reduce((l,c)=>l+ +t[c])]));return QO(s=>a.get(n[s]))}function s5e(e,t,n){const r=Lx(e),i=Array.from(Rs(r,s=>n[+s]).entries()),a=new Map(i.map(([s,o])=>[s,F2(o,l=>t[l])]));return QO(s=>a.get(n[s]))}function QO(e){return(t,n)=>Il(e(t),e(n))}const bte=(e={})=>{const{groupBy:t="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:a="y1",series:s=!0}=e;return(o,l)=>{var c;const{data:u,encode:d,style:h={}}=l,[g,v]=qa(d,"y"),[x,w]=qa(d,"y1"),[C]=s?mI(d,"series","color"):qa(d,"color"),E=R1(t,o,l),R=((c=mte(n))!==null&&c!==void 0?c:()=>null)(u,g,C);R&&vte(E,R);const L=new Array(o.length),N=new Array(o.length),D=new Array(o.length),H=[],U=[];for(const ee of E){r&&ee.reverse();const Z=x?+x[ee[0]]:0,re=[],oe=[];for(const Re of ee){const je=D[Re]=+g[Re]-Z;je<0?oe.push(Re):je>=0&&re.push(Re)}const ce=re.length>0?re:oe,le=oe.length>0?oe:re;let pe=re.length-1,ye=0;for(;pe>0&&g[ce[pe]]===0;)pe--;for(;ye<le.length-1&&g[le[ye]]===0;)ye++;H.push(ce[pe]),U.push(le[ye]);let _e=Z;for(const Re of oe.reverse()){const je=D[Re];_e=L[Re]=(N[Re]=_e)+je}let Se=Z;for(const Re of re){const je=D[Re];je>0?Se=L[Re]=(N[Re]=Se)+je:L[Re]=N[Re]=Se}}const q=new Set(H),K=new Set(U),Q=i==="y"?L:N,X=a==="y"?L:N;let te;return l.type==="point"?te={y0:HE(g,v),y:ps(Q,v)}:te={y0:HE(g,v),y:ps(Q,v),y1:ps(X,w)},[o,Pn({},l,{encode:Object.assign({},te),style:Object.assign({first:(ee,Z)=>q.has(Z),last:(ee,Z)=>K.has(Z)},h)})]}};bte.props={};function mC(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function l5e(e){const t=e.getFullYear(),n=mC(e.getMonth()+1),r=mC(e.getDate()),i=`${t}-${n}-${r}`,a=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return a||s||o?`${i} ${mC(a)}:${mC(s)}:${mC(o)}`:i}const t$=(e={})=>{const{channel:t="x"}=e;return(n,r)=>{const{encode:i}=r,{tooltip:a}=r;if(Vy(a))return[n,r];const{title:s}=a;if(s!==void 0)return[n,r];const o=Object.keys(i).filter(c=>c.startsWith(t)).filter(c=>!i[c].inferred).map(c=>qa(i,c)).filter(([c])=>c).map(c=>c[0]);if(o.length===0)return[n,r];const l=[];for(const c of n)l[c]={value:o.map(u=>u[c]instanceof Date?l5e(u[c]):u[c]).join(", ")};return[n,Pn({},r,{tooltip:{title:l}})]}};t$.props={};const Nx=()=>(e,t)=>{const{encode:n}=t,{x:r}=n;return r!==void 0?[e,t]:[e,Pn({},t,{encode:{x:HE(h1(e,0))},scale:{x:{guide:null}}})]};Nx.props={};const n$=()=>(e,t)=>{const{encode:n}=t,{y:r}=n;return r!==void 0?[e,t]:[e,Pn({},t,{encode:{y:HE(h1(e,0))},scale:{y:{guide:null}}})]};n$.props={};const _te=()=>(e,t)=>{const{encode:n}=t,{size:r}=n;return r!==void 0?[e,t]:[e,Pn({},t,{encode:{size:gI(h1(e,3))}})]};_te.props={};var c5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xte=()=>(e,t)=>{const{encode:n}=t,{key:r}=n,i=c5e(n,["key"]);if(r!==void 0)return[e,t];const a=Object.values(i).map(({value:o})=>o),s=e.map(o=>a.filter(Array.isArray).map(l=>l[o]).join("-"));return[e,Pn({},t,{encode:{key:ps(s)}})]};xte.props={};const XB=()=>(e,t)=>{const{encode:n}=t,{series:r,color:i}=n;if(r!==void 0||i===void 0)return[e,t];const[a,s]=qa(n,"color");return[e,Pn({},t,{encode:{series:ps(a,s)}})]};XB.props={};const wte=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(qO)?[e,t]:[e,Pn({},t,{encode:{y:ps(n)}})]};wte.props={};const Ste=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(qO)?[e,t]:[e,Pn({},t,{encode:{x:ps(n)}})]};Ste.props={};const Cte=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;if(r)return[e,t];const[i]=qa(n,"y");return[e,Pn({},t,{encode:{y1:ps([...i])}})]};Cte.props={};const Ete=()=>(e,t)=>{const{encode:n}=t,{x1:r}=n;if(r)return[e,t];const[i]=qa(n,"x");return[e,Pn({},t,{encode:{x1:ps([...i])}})]};Ete.props={};const Ote=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(qO))){const r=(i,a)=>Array.isArray(i[0])?i.map(s=>s[a]):[i[a]];return[e,Pn({},t,{encode:{x:ps(r(n,0)),x1:ps(r(n,1))}})]}return[e,t]};Ote.props={};const Tte=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(qO))){const r=(i,a)=>Array.isArray(i[0])?i.map(s=>s[a]):[i[a]];return[e,Pn({},t,{encode:{y:ps(r(n,0)),y1:ps(r(n,1))}})]}return[e,t]};Tte.props={};const r$=e=>{const{channel:t}=e;return(n,r)=>{const{encode:i,tooltip:a}=r;if(Vy(a))return[n,r];const{items:s=[]}=a;if(!s||s.length>0)return[n,r];const l=(Array.isArray(t)?t:[t]).flatMap(c=>Object.keys(i).filter(u=>u.startsWith(c)).map(u=>{const{field:d,value:h,inferred:g=!1,aggregate:v}=i[u];return g?null:v&&h?{channel:u}:d?{field:d}:h?{channel:u}:null}).filter(u=>u!==null));return[n,Pn({},r,{tooltip:{items:l}})]}};r$.props={};const ZB=()=>(e,t)=>[e,Pn({scale:{x:{padding:0},y:{padding:0}}},t)];ZB.props={};var uV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const i$=()=>(e,t)=>{const{data:n,style:r={}}=t,i=uV(t,["data","style"]),{x:a,y:s}=r,o=uV(r,["x","y"]);if(a==null||s==null)return[e,t];const l=a||0,c=s||0;return[[0],Pn({},i,{data:[0],cartesian:!0,encode:{x:ps([l]),y:ps([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:o})]};i$.props={};const Mte=()=>(e,t)=>{const{style:n={}}=t;return[e,Pn({},t,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};Mte.props={};const a$=()=>(e,t)=>{const{data:n}=t;if(!Array.isArray(n)||n.some(qO))return[e,t];const r=Array.isArray(n[0])?n:[n],i=r.map(s=>s[0]),a=r.map(s=>s[1]);return[e,Pn({},t,{encode:{x:ps(i),y:ps(a)}})]};a$.props={};const Ate=()=>(e,t)=>{const{style:n={},encode:r}=t,{series:i}=r,{gradient:a}=n;return!a||i?[e,t]:[e,Pn({},t,{encode:{series:gI(h1(e,void 0))}})]};Ate.props={};var u5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ite=(e={})=>{const{groupBy:t="x",reverse:n=!1,orderBy:r,padding:i}=e;return u5e(e,["groupBy","reverse","orderBy","padding"]),(a,s)=>{const{data:o,encode:l,scale:c}=s,{series:u}=c,[d]=qa(l,"y"),[h]=mI(l,"series","color"),g=yte(h,u),v=Pn({},s,{scale:{series:{domain:g,paddingInner:i}}}),x=R1(t,a,s),w=mte(r);if(!w)return[a,Pn(v,{encode:{series:ps(h)}})];const C=w(o,d,h);C&&vte(x,C);const E=new Array(a.length);for(const M of x){n&&M.reverse();for(let R=0;R<M.length;R++)E[M[R]]=g[R]}return[a,Pn(v,{encode:{series:ps(r?E:h)}})]}};Ite.props={};const Pte=e=>{const{groupBy:t=["x"],reducer:n=(s,o)=>o[s[0]],orderBy:r=null,reverse:i=!1,duration:a}=e;return(s,o)=>{const{encode:l}=o,u=(Array.isArray(t)?t:[t]).map(w=>[w,qa(l,w)[0]]);if(u.length===0)return[s,o];let d=[s];for(const[,w]of u){const C=[];for(const E of d){const M=Array.from(Rs(E,R=>w[R]).values());C.push(...M)}d=C}if(r){const[w]=qa(l,r);w&&d.sort((C,E)=>n(C,w)-n(E,w)),i&&d.reverse()}const h=(a||3e3)/d.length,[g]=a?[h1(s,h)]:mI(l,"enterDuration",h1(s,h)),[v]=mI(l,"enterDelay",h1(s,0)),x=new Array(s.length);for(let w=0,C=0;w<d.length;w++){const E=d[w],M=Uo(E,R=>+g[R]);for(const R of E)x[R]=+v[R]+C;C+=M}return[s,Pn({},o,{encode:{enterDuration:gI(g),enterDelay:gI(x)}})]}};Pte.props={};var f5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function d5e(e){return typeof e=="function"?e:{min:(n,r)=>hp(n,i=>r[+i]),max:(n,r)=>Uo(n,i=>r[+i]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>GE(n,i=>r[+i]),median:(n,r)=>FB(n,i=>r[+i]),sum:(n,r)=>ug(n,i=>r[+i]),deviation:(n,r)=>Iee(n,i=>r[+i])}[e]||Uo}const Rte=(e={})=>{const{groupBy:t="x",basis:n="max"}=e;return(r,i)=>{const{encode:a,tooltip:s}=i,{x:o}=a,l=f5e(a,["x"]),c=Object.entries(l).filter(([x])=>x.startsWith("y")).map(([x])=>[x,qa(a,x)[0]]),[,u]=c.find(([x])=>x==="y"),d=c.map(([x])=>[x,new Array(r.length)]),h=R1(t,r,i),g=d5e(n);for(const x of h){const w=g(x,u);for(const C of x)for(let E=0;E<c.length;E++){const[,M]=c[E],[,R]=d[E];R[C]=+M[C]/w}}const v=Vy(s)||s?.items&&s?.items.length!==0;return[r,Pn({},i,Object.assign({encode:Object.fromEntries(d.map(([x,w])=>[x,ps(w,qa(a,x)[1])]))},!v&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};Rte.props={};function _I(e,t,n){if(e===null)return[-.5,.5];const r=yte(e,t),a=new QS({domain:r,range:[0,1],padding:n}).getBandWidth();return[-a/2,a/2]}function xI(e,t,n){return t*(1-e)+n*e}const $te=(e={})=>{const{padding:t=0,paddingX:n=t,paddingY:r=t,random:i=Math.random}=e;return(a,s)=>{const{encode:o,scale:l}=s,{x:c,y:u}=l,[d]=qa(o,"x"),[h]=qa(o,"y"),g=_I(d,c,n),v=_I(h,u,r),x=a.map(()=>xI(i(),...v)),w=a.map(()=>xI(i(),...g));return[a,Pn({scale:{x:{padding:.5},y:{padding:.5}}},s,{encode:{dy:ps(x),dx:ps(w)}})]}};$te.props={};const kte=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,i)=>{const{encode:a,scale:s}=i,{x:o}=s,[l]=qa(a,"x"),c=_I(l,o,t),u=r.map(()=>xI(n(),...c));return[r,Pn({scale:{x:{padding:.5}}},i,{encode:{dx:ps(u)}})]}};kte.props={};const Lte=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,i)=>{const{encode:a,scale:s}=i,{y:o}=s,[l]=qa(a,"y"),c=_I(l,o,t),u=r.map(()=>xI(n(),...c));return[r,Pn({scale:{y:{padding:.5}}},i,{encode:{dy:ps(u)}})]}};Lte.props={};var h5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Nte=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:i}=r,{x:a}=i,s=h5e(i,["x"]),o=Object.entries(s).filter(([h])=>h.startsWith("y")).map(([h])=>[h,qa(i,h)[0]]),l=o.map(([h])=>[h,new Array(n.length)]),c=R1(t,n,r),u=new Array(c.length);for(let h=0;h<c.length;h++){const v=c[h].flatMap(C=>o.map(([,E])=>+E[C])),[x,w]=zy(v);u[h]=(x+w)/2}const d=Math.max(...u);for(let h=0;h<c.length;h++){const g=d-u[h],v=c[h];for(const x of v)for(let w=0;w<o.length;w++){const[,C]=o[w],[,E]=l[w];E[x]=+C[x]+g}}return[n,Pn({},r,{encode:Object.fromEntries(l.map(([h,g])=>[h,ps(g,qa(i,h)[1])]))})]}};Nte.props={};const Dte=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:i}=r,[a]=qa(i,"y"),[s,o]=qa(i,"y1"),l=R1(t,n,r),c=new Array(n.length);for(const u of l){const d=u.map(h=>+a[h]);for(let h=0;h<u.length;h++){const g=u[h],v=Math.max(...d.filter((x,w)=>w!==h));c[g]=+a[g]>v?v:a[g]}}return[n,Pn({},r,{encode:{y1:ps(c,o)}})]}};Dte.props={};function fV(e,t){return[e[0]]}function p5e(e,t){const n=e.length-1;return[e[n]]}function g5e(e,t){const n=F2(e,r=>t[r]);return[e[n]]}function m5e(e,t){const n=YO(e,r=>t[r]);return[e[n]]}function v5e(e){return typeof e=="function"?e:{first:fV,last:p5e,max:g5e,min:m5e}[e]||fV}const o$=(e={})=>{const{groupBy:t="series",channel:n,selector:r}=e;return(i,a)=>{const{encode:s}=a,o=R1(t,i,a),[l]=qa(s,n),c=v5e(r);return[o.flatMap(u=>c(u,l)),a]}};o$.props={};var y5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const zte=(e={})=>{const{selector:t}=e,n=y5e(e,["selector"]);return o$(Object.assign({channel:"x",selector:t},n))};zte.props={};var b5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Bte=(e={})=>{const{selector:t}=e,n=b5e(e,["selector"]);return o$(Object.assign({channel:"y",selector:t},n))};Bte.props={};var _5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $1(e){return t=>t===null?e:`${e} of ${t}`}function x5e(e){if(typeof e=="function")return[e,null];const n={mean:w5e,max:C5e,count:O5e,first:M5e,last:A5e,sum:T5e,min:E5e,median:S5e}[e];if(!n)throw new Error(`Unknown reducer: ${e}.`);return n()}function w5e(){const e=(n,r)=>GE(n,i=>+r[i]),t=$1("mean");return[e,t]}function S5e(){const e=(n,r)=>FB(n,i=>+r[i]),t=$1("median");return[e,t]}function C5e(){const e=(n,r)=>Uo(n,i=>+r[i]),t=$1("max");return[e,t]}function E5e(){const e=(n,r)=>hp(n,i=>+r[i]),t=$1("min");return[e,t]}function O5e(){const e=(n,r)=>n.length,t=$1("count");return[e,t]}function T5e(){const e=(n,r)=>ug(n,i=>+r[i]),t=$1("sum");return[e,t]}function M5e(){const e=(n,r)=>r[n[0]],t=$1("first");return[e,t]}function A5e(){const e=(n,r)=>r[n[n.length-1]],t=$1("last");return[e,t]}const QB=(e={})=>{const{groupBy:t}=e,n=_5e(e,["groupBy"]);return(r,i)=>{const{data:a,encode:s}=i,o=t(r,i);if(!o)return[r,i];const l=(g,v)=>{if(g)return g;const{from:x}=v;if(!x)return g;const[,w]=qa(s,x);return w},c=Object.entries(n).map(([g,v])=>{const[x,w]=x5e(v),[C,E]=qa(s,g),M=l(E,v),R=o.map(L=>x(L,C??a));return[g,Object.assign(Object.assign({},eNe(R,w?.(M)||M)),{aggregate:!0})]}),u=Object.keys(s).map(g=>{const[v,x]=qa(s,g),w=o.map(C=>v[C[0]]);return[g,ps(w,x)]}),d=o.map(g=>a[g[0]]);return[Lx(o),Pn({},i,{data:d,encode:Object.fromEntries([...u,...c])})]}};QB.props={};var I5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JO=(e={})=>{const{channels:t=["x","y"]}=e,n=I5e(e,["channels"]),r=(i,a)=>R1(t,i,a);return QB(Object.assign(Object.assign({},n),{groupBy:r}))};JO.props={};const jte=(e={})=>JO(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));jte.props={};const Fte=(e={})=>JO(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));Fte.props={};const Hte=(e={})=>JO(Object.assign(Object.assign({},e),{channels:["color"]}));Hte.props={};function P5e(e,t,n){const{by:r=e,reducer:i="max"}=t,[a]=qa(n,r);if(typeof i=="function")return s=>i(s,a);if(i==="max")return s=>Uo(s,o=>+a[o]);if(i==="min")return s=>hp(s,o=>+a[o]);if(i==="sum")return s=>ug(s,o=>+a[o]);if(i==="median")return s=>FB(s,o=>+a[o]);if(i==="mean")return s=>GE(s,o=>+a[o]);if(i==="first")return s=>a[s[0]];if(i==="last")return s=>a[s[s.length-1]];throw new Error(`Unknown reducer: ${i}`)}function R5e(e,t,n){if(!Array.isArray(n))return e;const r=new Set(n);return e.filter(i=>r.has(t[i]))}const s$=(e={})=>(t,n)=>{const{reverse:r,slice:i,channel:a,by:s,ordinal:o=!0,reducer:l}=e,{encode:c,scale:u={}}=n,d=u[a].domain,[h]=qa(c,s??a),[g]=qa(c,a),v=P5e(a,{by:s,reducer:l},c),x=R5e(t,g,d),w=dNe(x,v,R=>g[R]),C=o?t:Tm(t,R=>h[R]);r&&(!o&&C.reverse(),w.reverse());const E=typeof i=="number"?[0,i]:i,M=i?w.slice(...E):w;return[C,Pn(n,{scale:{[a]:{domain:M}}})]};s$.props={};const Vte=(e={})=>s$(Object.assign(Object.assign({},e),{channel:"x"}));Vte.props={};const Ute=(e={})=>s$(Object.assign(Object.assign({},e),{channel:"color"}));Ute.props={};const Gte=(e={})=>s$(Object.assign(Object.assign({},e),{channel:"y"}));Gte.props={};function $5e(e,t){return typeof t=="string"?e.map(n=>n[t]):e.map(t)}function k5e(e,t){if(typeof e=="function")return n=>e(n,t);if(e==="sum")return n=>ug(n,r=>+t[r]);throw new Error(`Unknown reducer: ${e}`)}const Wte=(e={})=>{const{field:t,channel:n="y",reducer:r="sum"}=e;return(i,a)=>{const{data:s,encode:o}=a,[l]=qa(o,"x"),c=t?$5e(s,t):qa(o,n)[0],u=k5e(r,c),d=BB(i,u,h=>l[h]).map(h=>h[1]);return[i,Pn({},a,{scale:{x:{flex:d}}})]}};Wte.props={};function Rl([e,t],[n,r]){return[e-n,t-r]}function WT([e,t],[n,r]){return[e+n,t+r]}function ml([e,t],[n,r]){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function mg([e,t]){return Math.atan2(t,e)}function t2([e,t]){return mg([e,t])+Math.PI/2}function qte(e,t){const n=mg(e),r=mg(t);return n<r?r-n:Math.PI*2-(n-r)}function JB(e){let t=1/0,n=-1/0,r=1/0,i=-1/0;for(const[o,l]of e)t=Math.min(o,t),n=Math.max(o,n),r=Math.min(l,r),i=Math.max(l,i);const a=n-t,s=i-r;return[t,r,a,s]}function Kte([e,t],[n,r]){return[(e+n)/2,(t+r)/2]}function L5e(e){const{padding:t=0,direction:n="col"}=e;return(r,i,a)=>{const s=r.length;if(s===0)return[];const{innerWidth:o,innerHeight:l}=a,c=l/o;let u=Math.ceil(Math.sqrt(i/c)),d=o/u,h=Math.ceil(i/u),g=h*d;for(;g>l;)u=u+1,d=o/u,h=Math.ceil(i/u),g=h*d;const v=l-h*d,x=h<=1?0:v/(h-1),[w,C]=h<=1?[(o-s*d)/(s-1),(l-d)/2]:[0,0];return r.map((E,M)=>{const[R,L,N,D]=JB(E),H=n==="col"?M%u:Math.floor(M/h),U=n==="col"?Math.floor(M/u):M%h,q=H*d,K=(h-U-1)*d+v,Q=(d-t)/N,X=(d-t)/D,te=q-R+w*H+1/2*t,ee=K-L-x*U-C+1/2*t;return`translate(${te}, ${ee}) scale(${Q}, ${X})`})}}const Yte=e=>(t,n)=>[t,Pn({},n,{modifier:L5e(e),axis:!1})];Yte.props={};var N5e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const dV="thresholds";function D5e(e){const[t,n]=zy(e);return Math.min(200,CNe(e,t,n))}const e6=(e={})=>{const{groupChannels:t=["color"],binChannels:n=["x","y"]}=e,r=N5e(e,["groupChannels","binChannels"]),i={},a=(s,o)=>{const{encode:l}=o,c=n.map(v=>{const[x]=qa(l,v);return x}),u=or(r,dV),d=s.filter(v=>c.every(x=>Es(x[v]))),h=[...t.map(v=>{const[x]=qa(l,v);return x}).filter(Es).map(v=>x=>v[x]),...n.map((v,x)=>{const w=c[x],C=u[v]||D5e(w),E=xNe().thresholds(C).value(R=>+w[R])(d),M=new Map(E.flatMap(R=>{const{x0:L,x1:N}=R,D=`${L},${N}`;return R.map(H=>[H,D])}));return i[v]=M,R=>M.get(R)})],g=v=>h.map(x=>x(v)).join("-");return Array.from(Rs(d,g).values())};return QB(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([s])=>!s.startsWith(dV)))),Object.fromEntries(n.flatMap(s=>{const o=([c])=>+i[s].get(c).split(",")[0],l=([c])=>+i[s].get(c).split(",")[1];return l.from=s,[[s,o],[`${s}1`,l]]}))),{groupBy:a}))};e6.props={};const Xte=(e={})=>{const{thresholds:t}=e;return e6(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};Xte.props={};function z5e(e,t,n,r){const i=e.length;if(r>=i||r===0)return e;const a=g=>t[e[g]]*1,s=g=>n[e[g]]*1,o=[],l=(i-2)/(r-2);let c=0,u,d,h;o.push(c);for(let g=0;g<r-2;g++){let v=0,x=0,w=Math.floor((g+1)*l)+1,C=Math.floor((g+2)*l)+1;C=Math.min(C,i);const E=C-w;for(;w<C;w++)v+=a(w),x+=s(w);v/=E,x/=E;let M=Math.floor((g+0)*l)+1;const R=Math.floor((g+1)*l)+1,L=[a(c),s(c)];for(u=d=-1;M<R;M++)d=Math.abs((L[0]-v)*(a(M)-L[1])-(L[0]-s(M))*(x-L[0]))*.5,d>u&&(u=d,h=M);o.push(h),c=h}return o.push(i-1),o.map(g=>e[g])}function B5e(e){if(typeof e=="function")return e;if(e==="lttb")return z5e;const t={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[YO(r,s=>a[s])]],max:(r,i,a)=>[r[F2(r,s=>a[s])]],median:(r,i,a)=>[r[ENe(r,s=>a[s])]]},n=t[e]||t.median;return(r,i,a,s)=>{const o=Math.max(1,Math.floor(r.length/s));return j5e(r,o).flatMap(c=>n(c,i,a))}}function j5e(e,t){const n=e.length,r=[];let i=0;for(;i<n;)r.push(e.slice(i,i+=t));return r}const Zte=(e={})=>{const{strategy:t="median",thresholds:n=2e3,groupBy:r=["series","color"]}=e,i=B5e(t);return(a,s)=>{const{encode:o}=s,l=R1(r,a,s),[c]=qa(o,"x"),[u]=qa(o,"y");return[l.flatMap(d=>i(d,c,u,n)),s]}};Zte.props={};function F5e(e){return typeof e=="object"?[e.value,e.ordinal]:[e,!0]}function H5e(e){var t;const{encode:n}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),i=(t=n?.color)===null||t===void 0?void 0:t.field;if(!n||!i)return r;let a;for(const[s,o]of Object.entries(n))(s==="x"||s==="y")&&o.field===i&&(a=Object.assign(Object.assign({},a),{[s]:Object.assign(Object.assign({},o),{value:[]})}));return a?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),a)}):r}const Qte=(e={})=>(t,n)=>{const{encode:r,data:i}=n,a=Object.entries(e).map(([u,d])=>{const[h]=qa(r,u);if(!h)return null;const[g,v=!0]=F5e(d);if(typeof g=="function")return x=>g(h[x]);if(v){const x=Array.isArray(g)?g:[g];return x.length===0?null:w=>x.includes(h[w])}else{const[x,w]=g;return C=>h[C]>=x&&h[C]<=w}}).filter(Es),s=u=>a.every(d=>d(u)),o=t.filter(s),l=o.map((u,d)=>d);if(a.length===0){const u=H5e(n);return[t,u]}const c=Object.entries(r).map(([u,d])=>[u,Object.assign(Object.assign({},d),{value:l.map(h=>d.value[o[h]]).filter(h=>h!==void 0)})]);return[l,Pn({},n,{encode:Object.fromEntries(c),data:o.map(u=>i[u])})]};Qte.props={};function Vs(e){return function(){return e}}const hV=Math.abs,If=Math.atan2,$_=Math.cos,V5e=Math.max,H3=Math.min,Sv=Math.sin,rS=Math.sqrt,Pf=1e-12,YE=Math.PI,wI=YE/2,U5e=2*YE;function G5e(e){return e>1?0:e<-1?YE:Math.acos(e)}function pV(e){return e>=1?wI:e<=-1?-wI:Math.asin(e)}const a5=Math.PI,o5=2*a5,H_=1e-6,W5e=o5-H_;function Jte(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function q5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Jte;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let t6=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Jte:q5e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,u=s-t,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>H_)if(!(Math.abs(d*l-c*u)>H_)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-s,v=i-o,x=l*l+c*c,w=g*g+v*v,C=Math.sqrt(x),E=Math.sqrt(h),M=a*Math.tan((a5-Math.acos((x+h-w)/(2*C*E)))/2),R=M/E,L=M/C;Math.abs(R-1)>H_&&this._append`L${t+R*u},${n+R*d}`,this._append`A${a},${a},0,0,${+(d*g>u*v)},${this._x1=t+L*l},${this._y1=n+L*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>H_||Math.abs(this._y1-u)>H_)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%o5+o5),h>W5e?this._append`A${r},${r},0,1,${d},${t-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>H_&&this._append`A${r},${r},0,${+(h>=a5)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Sg(){return new t6}Sg.prototype=t6.prototype;function n6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new t6(t)}function K5e(e){return e.innerRadius}function Y5e(e){return e.outerRadius}function X5e(e){return e.startAngle}function Z5e(e){return e.endAngle}function Q5e(e){return e&&e.padAngle}function J5e(e,t,n,r,i,a,s,o){var l=n-e,c=r-t,u=s-i,d=o-a,h=d*l-u*c;if(!(h*h<Pf))return h=(u*(t-a)-d*(e-i))/h,[e+h*l,t+h*c]}function qT(e,t,n,r,i,a,s){var o=e-n,l=t-r,c=(s?a:-a)/rS(o*o+l*l),u=c*l,d=-c*o,h=e+u,g=t+d,v=n+u,x=r+d,w=(h+v)/2,C=(g+x)/2,E=v-h,M=x-g,R=E*E+M*M,L=i-a,N=h*x-v*g,D=(M<0?-1:1)*rS(V5e(0,L*L*R-N*N)),H=(N*M-E*D)/R,U=(-N*E-M*D)/R,q=(N*M+E*D)/R,K=(-N*E+M*D)/R,Q=H-w,X=U-C,te=q-w,ee=K-C;return Q*Q+X*X>te*te+ee*ee&&(H=q,U=K),{cx:H,cy:U,x01:-u,y01:-d,x11:H*(i/L-1),y11:U*(i/L-1)}}function r6(){var e=K5e,t=Y5e,n=Vs(0),r=null,i=X5e,a=Z5e,s=Q5e,o=null,l=n6(c);function c(){var u,d,h=+e.apply(this,arguments),g=+t.apply(this,arguments),v=i.apply(this,arguments)-wI,x=a.apply(this,arguments)-wI,w=hV(x-v),C=x>v;if(o||(o=u=l()),g<h&&(d=g,g=h,h=d),!(g>Pf))o.moveTo(0,0);else if(w>U5e-Pf)o.moveTo(g*$_(v),g*Sv(v)),o.arc(0,0,g,v,x,!C),h>Pf&&(o.moveTo(h*$_(x),h*Sv(x)),o.arc(0,0,h,x,v,C));else{var E=v,M=x,R=v,L=x,N=w,D=w,H=s.apply(this,arguments)/2,U=H>Pf&&(r?+r.apply(this,arguments):rS(h*h+g*g)),q=H3(hV(g-h)/2,+n.apply(this,arguments)),K=q,Q=q,X,te;if(U>Pf){var ee=pV(U/h*Sv(H)),Z=pV(U/g*Sv(H));(N-=ee*2)>Pf?(ee*=C?1:-1,R+=ee,L-=ee):(N=0,R=L=(v+x)/2),(D-=Z*2)>Pf?(Z*=C?1:-1,E+=Z,M-=Z):(D=0,E=M=(v+x)/2)}var re=g*$_(E),oe=g*Sv(E),ce=h*$_(L),le=h*Sv(L);if(q>Pf){var pe=g*$_(M),ye=g*Sv(M),_e=h*$_(R),Se=h*Sv(R),Re;if(w<YE)if(Re=J5e(re,oe,_e,Se,pe,ye,ce,le)){var je=re-Re[0],Fe=oe-Re[1],ze=pe-Re[0],Ze=ye-Re[1],st=1/Sv(G5e((je*ze+Fe*Ze)/(rS(je*je+Fe*Fe)*rS(ze*ze+Ze*Ze)))/2),Ue=rS(Re[0]*Re[0]+Re[1]*Re[1]);K=H3(q,(h-Ue)/(st-1)),Q=H3(q,(g-Ue)/(st+1))}else K=Q=0}D>Pf?Q>Pf?(X=qT(_e,Se,re,oe,g,Q,C),te=qT(pe,ye,ce,le,g,Q,C),o.moveTo(X.cx+X.x01,X.cy+X.y01),Q<q?o.arc(X.cx,X.cy,Q,If(X.y01,X.x01),If(te.y01,te.x01),!C):(o.arc(X.cx,X.cy,Q,If(X.y01,X.x01),If(X.y11,X.x11),!C),o.arc(0,0,g,If(X.cy+X.y11,X.cx+X.x11),If(te.cy+te.y11,te.cx+te.x11),!C),o.arc(te.cx,te.cy,Q,If(te.y11,te.x11),If(te.y01,te.x01),!C))):(o.moveTo(re,oe),o.arc(0,0,g,E,M,!C)):o.moveTo(re,oe),!(h>Pf)||!(N>Pf)?o.lineTo(ce,le):K>Pf?(X=qT(ce,le,pe,ye,h,-K,C),te=qT(re,oe,_e,Se,h,-K,C),o.lineTo(X.cx+X.x01,X.cy+X.y01),K<q?o.arc(X.cx,X.cy,K,If(X.y01,X.x01),If(te.y01,te.x01),!C):(o.arc(X.cx,X.cy,K,If(X.y01,X.x01),If(X.y11,X.x11),!C),o.arc(0,0,h,If(X.cy+X.y11,X.cx+X.x11),If(te.cy+te.y11,te.cx+te.x11),C),o.arc(te.cx,te.cy,K,If(te.y11,te.x11),If(te.y01,te.x01),!C))):o.arc(0,0,h,L,R,C)}if(o.closePath(),u)return o=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-YE/2;return[$_(d)*u,Sv(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Vs(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Vs(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Vs(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Vs(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Vs(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Vs(+u),c):a},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Vs(+u),c):s},c.context=function(u){return arguments.length?(o=u??null,c):o},c}function ene(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tne(e){this._context=e}tne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eT(e){return new tne(e)}function nne(e){return e[0]}function rne(e){return e[1]}function Dx(e,t){var n=Vs(!0),r=null,i=eT,a=null,s=n6(o);e=typeof e=="function"?e:e===void 0?nne:Vs(e),t=typeof t=="function"?t:t===void 0?rne:Vs(t);function o(l){var c,u=(l=ene(l)).length,d,h=!1,g;for(r==null&&(a=i(g=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,c,l),+t(d,c,l));if(g)return a=null,g+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Vs(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Vs(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vs(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function s5(e,t,n){var r=null,i=Vs(!0),a=null,s=eT,o=null,l=n6(c);e=typeof e=="function"?e:e===void 0?nne:Vs(+e),t=typeof t=="function"?t:Vs(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rne:Vs(+n);function c(d){var h,g,v,x=(d=ene(d)).length,w,C=!1,E,M=new Array(x),R=new Array(x);for(a==null&&(o=s(E=l())),h=0;h<=x;++h){if(!(h<x&&i(w=d[h],h,d))===C)if(C=!C)g=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=g;--v)o.point(M[v],R[v]);o.lineEnd(),o.areaEnd()}C&&(M[h]=+e(w,h,d),R[h]=+t(w,h,d),o.point(r?+r(w,h,d):M[h],n?+n(w,h,d):R[h]))}if(E)return o=null,E+""||null}function u(){return Dx().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Vs(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Vs(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Vs(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Vs(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Vs(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Vs(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Vs(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}var ine=i6(eT);function ane(e){this._curve=e}ane.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function i6(e){function t(n){return new ane(e(n))}return t._curve=e,t}function PC(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(i6(n)):t()._curve},e}function e4e(){return PC(Dx().curve(ine))}function t4e(){var e=s5().curve(ine),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return PC(n())},delete e.lineX0,e.lineEndAngle=function(){return PC(r())},delete e.lineX1,e.lineInnerRadius=function(){return PC(i())},delete e.lineY0,e.lineOuterRadius=function(){return PC(a())},delete e.lineY1,e.curve=function(s){return arguments.length?t(i6(s)):t()._curve},e}function n2(){}function l5(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function a6(e,t){this._context=e,this._k=(1-t)/6}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:l5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:l5(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new a6(r,t)}return n.tension=function(r){return e(+r)},n})(0);function o6(e,t){this._context=e,this._k=(1-t)/6}o6.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:l5(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new o6(r,t)}return n.tension=function(r){return e(+r)},n})(0);function one(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Pf){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Pf){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function sne(e,t){this._context=e,this._alpha=t}sne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:one(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return t?new sne(r,t):new a6(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function lne(e,t){this._context=e,this._alpha=t}lne.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:one(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cne=function e(t){function n(r){return t?new lne(r,t):new o6(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function une(e){this._context=e}une.prototype={areaStart:n2,areaEnd:n2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s6(e){return new une(e)}function gV(e){return e<0?-1:1}function mV(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(gV(a)+gV(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function vV(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function V3(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function SI(e){this._context=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V3(this,this._t0,vV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,V3(this,vV(this,n=mV(this,e,t)),n);break;default:V3(this,this._t0,n=mV(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function fne(e){this._context=new dne(e)}(fne.prototype=Object.create(SI.prototype)).point=function(e,t){SI.prototype.point.call(this,t,e)};function dne(e){this._context=e}dne.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function hne(e){return new SI(e)}function pne(e){return new fne(e)}function l$(e,t){this._context=e,this._t=t}l$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function gne(e){return new l$(e,.5)}function mne(e){return new l$(e,0)}function vne(e){return new l$(e,1)}function Gs(e){const{transformations:t}=e.getOptions();return t.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function gs(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="polar")}function c$(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="reflect")&&t.some(([n])=>n.startsWith("transpose"))}function yne(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="helix")}function u$(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="parallel")}function bne(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="fisheye")}function n4e(e){return u$(e)&&gs(e)}function H2(e){return yne(e)||gs(e)}function r4e(e){return gs(e)&&Gs(e)}function i4e(e){if(H2(e)){const[t,n]=e.getSize(),r=e.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(t,n)/2*r[4]}return 0}function f$(e){const{transformations:t}=e.getOptions(),[,,,n,r]=t.find(i=>i[0]==="polar");return[+n,+r]}function l6(e,t=!0){const{transformations:n}=e.getOptions(),[,r,i]=n.find(a=>a[0]==="polar");return t?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function a4e(e,t){const{transformations:n}=e.getOptions(),[,...r]=n.find(i=>i[0]===t);return r}var U3={exports:{}},yV;function o4e(){return yV||(yV=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,g,v){var x=n?n+c:c;if(!this._events[x])return!1;var w=this._events[x],C=arguments.length,E,M;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,g),!0;case 6:return w.fn.call(w.context,u,d,h,g,v),!0}for(M=1,E=new Array(C-1);M<C;M++)E[M-1]=arguments[M];w.fn.apply(w.context,E)}else{var R=w.length,L;for(M=0;M<R;M++)switch(w[M].once&&this.removeListener(c,w[M].fn,void 0,!0),C){case 1:w[M].fn.call(w[M].context);break;case 2:w[M].fn.call(w[M].context,u);break;case 3:w[M].fn.call(w[M].context,u,d);break;case 4:w[M].fn.call(w[M].context,u,d,h);break;default:if(!E)for(L=1,E=new Array(C-1);L<C;L++)E[L-1]=arguments[L];w[M].fn.apply(w[M].context,E)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var g=n?n+c:c;if(!this._events[g])return this;if(!u)return s(this,g),this;var v=this._events[g];if(v.fn)v.fn===u&&(!h||v.once)&&(!d||v.context===d)&&s(this,g);else{for(var x=0,w=[],C=v.length;x<C;x++)(v[x].fn!==u||h&&!v[x].once||d&&v[x].context!==d)&&w.push(v[x]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(U3)),U3.exports}var s4e=o4e();const _ne=Ky(s4e);function l4e(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Xc(e))!==null;);return e}function c5(){return c5=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=l4e(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c5.apply(null,arguments)}function bV(e,t,n,r){var i=c5(Xc(e.prototype),t,n);return typeof i=="function"?function(a){return i.apply(n,a)}:i}function By(e,t,n,r){var i=e-n,a=t-r;return Math.sqrt(i*i+a*a)}function xne(e,t){var n=Math.min.apply(Math,Pr([],ot(e),!1)),r=Math.min.apply(Math,Pr([],ot(t),!1)),i=Math.max.apply(Math,Pr([],ot(e),!1)),a=Math.max.apply(Math,Pr([],ot(t),!1));return{x:n,y:r,width:i-n,height:a-r}}function c4e(e,t,n){return Math.atan(-t/e*Math.tan(n))}function u4e(e,t,n){return Math.atan(t/(e*Math.tan(n)))}function f4e(e,t,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+e}function d4e(e,t,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+t}function h4e(e,t,n,r,i,a,s){for(var o=c4e(n,r,i),l=1/0,c=-1/0,u=[a,s],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var h=o+d;a<s?a<h&&h<s&&u.push(h):s<h&&h<a&&u.push(h)}for(var d=0;d<u.length;d++){var g=f4e(e,t,n,r,i,u[d]);g<l&&(l=g),g>c&&(c=g)}for(var v=u4e(n,r,i),x=1/0,w=-1/0,C=[a,s],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var E=v+d;a<s?a<E&&E<s&&C.push(E):s<E&&E<a&&C.push(E)}for(var d=0;d<C.length;d++){var M=d4e(e,t,n,r,i,C[d]);M<x&&(x=M),M>w&&(w=M)}return{x:l,y:x,width:c-l,height:w-x}}var p4e=1e-4;function wne(e,t,n,r,i,a){var s=-1,o=1/0,l=[n,r],c=20;a&&a>200&&(c=a/10);for(var u=1/c,d=u/10,h=0;h<=c;h++){var g=h*u,v=[i.apply(void 0,Pr([],ot(e.concat([g])),!1)),i.apply(void 0,Pr([],ot(t.concat([g])),!1))],x=By(l[0],l[1],v[0],v[1]);x<o&&(s=g,o=x)}if(s===0)return{x:e[0],y:t[0]};if(s===1){var w=e.length;return{x:e[w-1],y:t[w-1]}}o=1/0;for(var h=0;h<32&&!(d<p4e);h++){var C=s-d,E=s+d,v=[i.apply(void 0,Pr([],ot(e.concat([C])),!1)),i.apply(void 0,Pr([],ot(t.concat([C])),!1))],x=By(l[0],l[1],v[0],v[1]);if(C>=0&&x<o)s=C,o=x;else{var M=[i.apply(void 0,Pr([],ot(e.concat([E])),!1)),i.apply(void 0,Pr([],ot(t.concat([E])),!1))],R=By(l[0],l[1],M[0],M[1]);E<=1&&R<o?(s=E,o=R):d*=.5}}return{x:i.apply(void 0,Pr([],ot(e.concat([s])),!1)),y:i.apply(void 0,Pr([],ot(t.concat([s])),!1))}}function Sne(e,t,n,r){return By(e,t,n,r)}function Cne(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}}function g4e(e,t,n,r,i,a){var s=[n-e,r-t];if(SLe(s,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t));var o=[-s[1],s[0]];xLe(o,o);var l=[i-e,a-t];return Math.abs(wLe(l,o))}function u5(e,t,n,r,i){var a=1-i;return a*a*a*e+3*t*i*a*a+3*n*i*i*a+r*i*i*i}function _V(e,t,n,r){var i=-3*e+9*t-9*n+3*r,a=6*e-12*t+6*n,s=3*t-3*e,o=[],l,c,u;if(sE(i,0))sE(a,0)||(l=-s/a,l>=0&&l<=1&&o.push(l));else{var d=a*a-4*i*s;sE(d,0)?o.push(-a/(2*i)):d>0&&(u=Math.sqrt(d),l=(-a+u)/(2*i),c=(-a-u)/(2*i),l>=0&&l<=1&&o.push(l),c>=0&&c<=1&&o.push(c))}return o}function m4e(e,t,n,r,i,a,s,o){for(var l=[e,s],c=[t,o],u=_V(e,n,i,s),d=_V(t,r,a,o),h=0;h<u.length;h++)l.push(u5(e,n,i,s,u[h]));for(var h=0;h<d.length;h++)c.push(u5(t,r,a,o,d[h]));return xne(l,c)}function v4e(e,t,n,r,i,a,s,o,l,c,u){return wne([e,n,i,s],[t,r,a,o],l,c,u5,u)}function xV(e,t,n,r,i,a,s,o,l,c,u){var d=v4e(e,t,n,r,i,a,s,o,l,c,u);return By(d.x,d.y,l,c)}function y4e(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=By(r[0],r[1],i[0],i[1])}return t}function b4e(e){return y4e(e)}function f5(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function wV(e,t,n){var r=e+n-2*t;if(sE(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function _4e(e,t,n,r,i,a){var s=wV(e,n,i)[0],o=wV(t,r,a)[0],l=[e,i],c=[t,a];return s!==void 0&&l.push(f5(e,n,i,s)),o!==void 0&&c.push(f5(t,r,a,o)),xne(l,c)}function x4e(e,t,n,r,i,a,s,o){return wne([e,n,i],[t,r,a],s,o,f5)}function w4e(e,t,n,r,i,a,s,o){var l=x4e(e,t,n,r,i,a,s,o);return By(l.x,l.y,s,o)}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.2.16
 * @date 1/23/2025, 8:31:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var S4e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ene={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(S4e,function(){function n(L,N,D,H,U){r(L,N,D||0,H||L.length-1,U||a)}function r(L,N,D,H,U){for(;H>D;){if(H-D>600){var q=H-D+1,K=N-D+1,Q=Math.log(q),X=.5*Math.exp(2*Q/3),te=.5*Math.sqrt(Q*X*(q-X)/q)*(K-q/2<0?-1:1),ee=Math.max(D,Math.floor(N-K*X/q+te)),Z=Math.min(H,Math.floor(N+(q-K)*X/q+te));r(L,N,ee,Z,U)}var re=L[N],oe=D,ce=H;for(i(L,D,N),U(L[H],re)>0&&i(L,D,H);oe<ce;){for(i(L,oe,ce),oe++,ce--;U(L[oe],re)<0;)oe++;for(;U(L[ce],re)>0;)ce--}U(L[D],re)===0?i(L,D,ce):(ce++,i(L,ce,H)),ce<=N&&(D=ce+1),N<=ce&&(H=ce-1)}}function i(L,N,D){var H=L[N];L[N]=L[D],L[D]=H}function a(L,N){return L<N?-1:L>N?1:0}var s=function(N){N===void 0&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(N){var D=this.data,H=[];if(!E(N,D))return H;for(var U=this.toBBox,q=[];D;){for(var K=0;K<D.children.length;K++){var Q=D.children[K],X=D.leaf?U(Q):Q;E(N,X)&&(D.leaf?H.push(Q):C(N,X)?this._all(Q,H):q.push(Q))}D=q.pop()}return H},s.prototype.collides=function(N){var D=this.data;if(!E(N,D))return!1;for(var H=[];D;){for(var U=0;U<D.children.length;U++){var q=D.children[U],K=D.leaf?this.toBBox(q):q;if(E(N,K)){if(D.leaf||C(N,K))return!0;H.push(q)}}D=H.pop()}return!1},s.prototype.load=function(N){if(!(N&&N.length))return this;if(N.length<this._minEntries){for(var D=0;D<N.length;D++)this.insert(N[D]);return this}var H=this._build(N.slice(),0,N.length-1,0);if(!this.data.children.length)this.data=H;else if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var U=this.data;this.data=H,H=U}this._insert(H,this.data.height-H.height-1,!0)}return this},s.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},s.prototype.clear=function(){return this.data=M([]),this},s.prototype.remove=function(N,D){if(!N)return this;for(var H=this.data,U=this.toBBox(N),q=[],K=[],Q,X,te;H||q.length;){if(H||(H=q.pop(),X=q[q.length-1],Q=K.pop(),te=!0),H.leaf){var ee=o(N,H.children,D);if(ee!==-1)return H.children.splice(ee,1),q.push(H),this._condense(q),this}!te&&!H.leaf&&C(H,U)?(q.push(H),K.push(Q),Q=0,X=H,H=H.children[0]):X?(Q++,H=X.children[Q],te=!1):H=null}return this},s.prototype.toBBox=function(N){return N},s.prototype.compareMinX=function(N,D){return N.minX-D.minX},s.prototype.compareMinY=function(N,D){return N.minY-D.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(N){return this.data=N,this},s.prototype._all=function(N,D){for(var H=[];N;)N.leaf?D.push.apply(D,N.children):H.push.apply(H,N.children),N=H.pop();return D},s.prototype._build=function(N,D,H,U){var q=H-D+1,K=this._maxEntries,Q;if(q<=K)return Q=M(N.slice(D,H+1)),l(Q,this.toBBox),Q;U||(U=Math.ceil(Math.log(q)/Math.log(K)),K=Math.ceil(q/Math.pow(K,U-1))),Q=M([]),Q.leaf=!1,Q.height=U;var X=Math.ceil(q/K),te=X*Math.ceil(Math.sqrt(K));R(N,D,H,te,this.compareMinX);for(var ee=D;ee<=H;ee+=te){var Z=Math.min(ee+te-1,H);R(N,ee,Z,X,this.compareMinY);for(var re=ee;re<=Z;re+=X){var oe=Math.min(re+X-1,Z);Q.children.push(this._build(N,re,oe,U-1))}}return l(Q,this.toBBox),Q},s.prototype._chooseSubtree=function(N,D,H,U){for(;U.push(D),!(D.leaf||U.length-1===H);){for(var q=1/0,K=1/0,Q=void 0,X=0;X<D.children.length;X++){var te=D.children[X],ee=g(te),Z=x(N,te)-ee;Z<K?(K=Z,q=ee<q?ee:q,Q=te):Z===K&&ee<q&&(q=ee,Q=te)}D=Q||D.children[0]}return D},s.prototype._insert=function(N,D,H){var U=H?N:this.toBBox(N),q=[],K=this._chooseSubtree(U,this.data,D,q);for(K.children.push(N),u(K,U);D>=0&&q[D].children.length>this._maxEntries;)this._split(q,D),D--;this._adjustParentBBoxes(U,q,D)},s.prototype._split=function(N,D){var H=N[D],U=H.children.length,q=this._minEntries;this._chooseSplitAxis(H,q,U);var K=this._chooseSplitIndex(H,q,U),Q=M(H.children.splice(K,H.children.length-K));Q.height=H.height,Q.leaf=H.leaf,l(H,this.toBBox),l(Q,this.toBBox),D?N[D-1].children.push(Q):this._splitRoot(H,Q)},s.prototype._splitRoot=function(N,D){this.data=M([N,D]),this.data.height=N.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(N,D,H){for(var U,q=1/0,K=1/0,Q=D;Q<=H-D;Q++){var X=c(N,0,Q,this.toBBox),te=c(N,Q,H,this.toBBox),ee=w(X,te),Z=g(X)+g(te);ee<q?(q=ee,U=Q,K=Z<K?Z:K):ee===q&&Z<K&&(K=Z,U=Q)}return U||H-D},s.prototype._chooseSplitAxis=function(N,D,H){var U=N.leaf?this.compareMinX:d,q=N.leaf?this.compareMinY:h,K=this._allDistMargin(N,D,H,U),Q=this._allDistMargin(N,D,H,q);K<Q&&N.children.sort(U)},s.prototype._allDistMargin=function(N,D,H,U){N.children.sort(U);for(var q=this.toBBox,K=c(N,0,D,q),Q=c(N,H-D,H,q),X=v(K)+v(Q),te=D;te<H-D;te++){var ee=N.children[te];u(K,N.leaf?q(ee):ee),X+=v(K)}for(var Z=H-D-1;Z>=D;Z--){var re=N.children[Z];u(Q,N.leaf?q(re):re),X+=v(Q)}return X},s.prototype._adjustParentBBoxes=function(N,D,H){for(var U=H;U>=0;U--)u(D[U],N)},s.prototype._condense=function(N){for(var D=N.length-1,H=void 0;D>=0;D--)N[D].children.length===0?D>0?(H=N[D-1].children,H.splice(H.indexOf(N[D]),1)):this.clear():l(N[D],this.toBBox)};function o(L,N,D){if(!D)return N.indexOf(L);for(var H=0;H<N.length;H++)if(D(L,N[H]))return H;return-1}function l(L,N){c(L,0,L.children.length,N,L)}function c(L,N,D,H,U){U||(U=M(null)),U.minX=1/0,U.minY=1/0,U.maxX=-1/0,U.maxY=-1/0;for(var q=N;q<D;q++){var K=L.children[q];u(U,L.leaf?H(K):K)}return U}function u(L,N){return L.minX=Math.min(L.minX,N.minX),L.minY=Math.min(L.minY,N.minY),L.maxX=Math.max(L.maxX,N.maxX),L.maxY=Math.max(L.maxY,N.maxY),L}function d(L,N){return L.minX-N.minX}function h(L,N){return L.minY-N.minY}function g(L){return(L.maxX-L.minX)*(L.maxY-L.minY)}function v(L){return L.maxX-L.minX+(L.maxY-L.minY)}function x(L,N){return(Math.max(N.maxX,L.maxX)-Math.min(N.minX,L.minX))*(Math.max(N.maxY,L.maxY)-Math.min(N.minY,L.minY))}function w(L,N){var D=Math.max(L.minX,N.minX),H=Math.max(L.minY,N.minY),U=Math.min(L.maxX,N.maxX),q=Math.min(L.maxY,N.maxY);return Math.max(0,U-D)*Math.max(0,q-H)}function C(L,N){return L.minX<=N.minX&&L.minY<=N.minY&&N.maxX<=L.maxX&&N.maxY<=L.maxY}function E(L,N){return N.minX<=L.maxX&&N.minY<=L.maxY&&N.maxX>=L.minX&&N.maxY>=L.minY}function M(L){return{children:L,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(L,N,D,H,U){for(var q=[N,D];q.length;)if(D=q.pop(),N=q.pop(),!(D-N<=H)){var K=N+Math.ceil((D-N)/H/2)*H;n(L,K,N,D,U),q.push(N,K,K,D)}}return s})})(Ene);var C4e=Ene.exports,mn=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),pA=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),k1=function(){function e(){En(this,e),this.plugins=[]}return On(e,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var i=n.context.renderingPlugins.indexOf(r);i>=0&&n.context.renderingPlugins.splice(i,1)})}}])}(),E4e=function(){function e(t){En(this,e),this.clipSpaceNearZ=pA.NEGATIVE_ONE,this.plugins=[],this.config=Pe({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return On(e,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])}(),G3=f1,Ow=Bv,O4e=uLe,T4e=cLe,SV=dI,W3=hLe,lc=function(){function e(){En(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return On(e,[{key:"update",value:function(n,r){Ow(this.center,n),Ow(this.halfExtents,r),W3(this.min,this.center,this.halfExtents),G3(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){G3(this.center,r,n),SV(this.center,this.center,.5),W3(this.halfExtents,r,n),SV(this.halfExtents,this.halfExtents,.5),Ow(this.min,n),Ow(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!e.isEmpty(n)){if(e.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,i=r[0],a=r[1],s=r[2],o=this.halfExtents,l=o[0],c=o[1],u=o[2],d=i-l,h=i+l,g=a-c,v=a+c,x=s-u,w=s+u,C=n.center,E=C[0],M=C[1],R=C[2],L=n.halfExtents,N=L[0],D=L[1],H=L[2],U=E-N,q=E+N,K=M-D,Q=M+D,X=R-H,te=R+H;U<d&&(d=U),q>h&&(h=q),K<g&&(g=K),Q>v&&(v=Q),X<x&&(x=X),te>w&&(w=te),r[0]=(d+h)*.5,r[1]=(g+v)*.5,r[2]=(x+w)*.5,o[0]=(h-d)*.5,o[1]=(v-g)*.5,o[2]=(w-x)*.5,this.min[0]=d,this.min[1]=g,this.min[2]=x,this.max[0]=h,this.max[1]=v,this.max[2]=w}}},{key:"setFromTransformedAABB",value:function(n,r){var i=this.center,a=this.halfExtents,s=n.center,o=n.halfExtents,l=r[0],c=r[4],u=r[8],d=r[1],h=r[5],g=r[9],v=r[2],x=r[6],w=r[10],C=Math.abs(l),E=Math.abs(c),M=Math.abs(u),R=Math.abs(d),L=Math.abs(h),N=Math.abs(g),D=Math.abs(v),H=Math.abs(x),U=Math.abs(w);i[0]=r[12]+l*s[0]+c*s[1]+u*s[2],i[1]=r[13]+d*s[0]+h*s[1]+g*s[2],i[2]=r[14]+v*s[0]+x*s[1]+w*s[2],a[0]=C*o[0]+E*o[1]+M*o[2],a[1]=R*o[0]+L*o[1]+N*o[2],a[2]=D*o[0]+H*o[1]+U*o[2],W3(this.min,i,a),G3(this.max,i,a)}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),a=n.getMax(),s=n.getMin();return i[0]<=a[0]&&r[0]>=s[0]&&i[1]<=a[1]&&r[1]>=s[1]&&i[2]<=a[2]&&r[2]>=s[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new e,i=O4e([0,0,0],this.getMin(),n.getMin()),a=T4e([0,0,0],this.getMax(),n.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?Ow([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?Ow([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])}(),M4e=function(){function e(t,n){En(this,e),this.distance=t||0,this.normal=n||vo(0,1,0),this.updatePNVertexFlag()}return On(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return jv(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/bee(this.normal);dI(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var a=this.distanceToPoint(n),s=this.distanceToPoint(r),o=a/(a-s),l=o>=0&&o<=1;return l&&i&&qD(i,n,r,o),l}}])}(),Tw=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),A4e=function(){function e(t){if(En(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new M4e)}return On(e,[{key:"extractFromVPMatrix",value:function(n){var r=mt(n,16),i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],g=r[9],v=r[10],x=r[11],w=r[12],C=r[13],E=r[14],M=r[15];kf(this.planes[0].normal,o-i,d-l,x-h),this.planes[0].distance=M-w,kf(this.planes[1].normal,o+i,d+l,x+h),this.planes[1].distance=M+w,kf(this.planes[2].normal,o+a,d+c,x+g),this.planes[2].distance=M+C,kf(this.planes[3].normal,o-a,d-c,x-g),this.planes[3].distance=M-C,kf(this.planes[4].normal,o-s,d-u,x-v),this.planes[4].distance=M-E,kf(this.planes[5].normal,o+s,d+u,x+v),this.planes[5].distance=M+E,this.planes.forEach(function(R){R.normalize(),R.updatePNVertexFlag()})}}])}(),Ku=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;En(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return On(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])}(),r2=function(){function e(t,n,r,i){En(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.left=t,this.right=t+r,this.top=n,this.bottom=n+i}return On(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new e(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var i=IC(n.x,n.y,0,1),a=IC(n.x+n.width,n.y,0,1),s=IC(n.x,n.y+n.height,0,1),o=IC(n.x+n.width,n.y+n.height,0,1),l=Fv(),c=Fv(),u=Fv(),d=Fv();Hv(l,i,r),Hv(c,a,r),Hv(u,s,r),Hv(d,o,r);var h=Math.min(l[0],c[0],u[0],d[0]),g=Math.min(l[1],c[1],u[1],d[1]),v=Math.max(l[0],c[0],u[0],d[0]),x=Math.max(l[1],c[1],u[1],d[1]);return e.fromRect({x:h,y:g,width:v-h,height:x-g})}}])}(),us="Method not implemented.",Mw="Use document.documentElement instead.",I4e="Cannot append a destroyed element.";function vS(e){return e===void 0?0:e>360||e<-360?e%360:e}var q3=Ca();function bd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?gy(e):Bv(q3,e):qs(e)?r?vo(e,t,n):kf(q3,e,t,n):r?vo(e[0],e[1]||t,e[2]||n):kf(q3,e[0],e[1]||t,e[2]||n)}var P4e=Math.PI/180;function ds(e){return e*P4e}var R4e=180/Math.PI;function eg(e){return e*R4e}function $4e(e){return 360*e}var CI=Math.PI/2;function k4e(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*n,o=r*r,l=i*i,c=a*a,u=s+o+l+c,d=n*a-r*i;return d>.499995*u?(e[0]=CI,e[1]=2*Math.atan2(r,n),e[2]=0):d<-.499995*u?(e[0]=-CI,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*i-a*r)),e[1]=Math.atan2(2*(n*a+r*i),1-2*(l+c)),e[2]=Math.atan2(2*(n*r+i*a),1-2*(o+l))),e}function L4e(e,t){var n,r,i=YS(Ca(),t),a=mt(i,3),s=a[0],o=a[1],l=a[2],c=Math.asin(-t[2]/s);return c<CI?c>-CI?(n=Math.atan2(t[6]/o,t[10]/l),r=Math.atan2(t[1]/s,t[0]/s)):(r=0,n=-Math.atan2(t[4]/o,t[5]/o)):(r=0,n=Math.atan2(t[4]/o,t[5]/o)),e[0]=n,e[1]=c,e[2]=r,e}function K3(e,t){return t.length===16?L4e(e,t):k4e(e,t)}function N4e(e,t,n,r,i){var a=Math.cos(e),s=Math.sin(e);return D3e(r*a,i*s,0,-r*s,i*a,0,t,n,1)}function D4e(e,t,n,r,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,c=n-t,u=r-i,d=l/c,h=l/u,g=(n+t)/c,v=(r+i)/u,x,w,C=s-a,E=s*a;return o?(x=-s/C,w=-E/C):(x=-(s+a)/C,w=-2*E/C),e[0]=d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=g,e[9]=v,e[10]=x,e[11]=-1,e[12]=0,e[13]=0,e[14]=w,e[15]=0,e}function CV(e){var t=e[0],n=e[1],r=e[3],i=e[4],a=Math.sqrt(t*t+n*n),s=Math.sqrt(r*r+i*i),o=t*i-n*r;if(o<0&&(t<i?a=-a:s=-s),a){var l=1/a;t*=l,n*=l}if(s){var c=1/s;r*=c,i*=c}var u=Math.atan2(n,t),d=eg(u);return[e[6],e[7],a,s,d]}var Cv=es(),hm=es(),vC=Fv(),Ti=[Ca(),Ca(),Ca()],EV=Ca();function z4e(e,t,n,r,i,a){if(!B4e(Cv,e)||(KS(hm,Cv),hm[3]=0,hm[7]=0,hm[11]=0,hm[15]=1,Math.abs(iee(hm))<1e-8))return!1;var s=Cv[3],o=Cv[7],l=Cv[11],c=Cv[12],u=Cv[13],d=Cv[14],h=Cv[15];if(s!==0||o!==0||l!==0){vC[0]=s,vC[1]=o,vC[2]=l,vC[3]=h;var g=Sm(hm,hm);if(!g)return!1;ree(hm,hm),Hv(i,vC,hm)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=c,t[1]=u,t[2]=d,j4e(Ti,Cv),n[0]=Oy(Ti[0]),nx(Ti[0],Ti[0]),r[0]=jv(Ti[0],Ti[1]),Y3(Ti[1],Ti[1],Ti[0],1,-r[0]),n[1]=Oy(Ti[1]),nx(Ti[1],Ti[1]),r[0]/=n[1],r[1]=jv(Ti[0],Ti[2]),Y3(Ti[2],Ti[2],Ti[0],1,-r[1]),r[2]=jv(Ti[1],Ti[2]),Y3(Ti[2],Ti[2],Ti[1],1,-r[2]),n[2]=Oy(Ti[2]),nx(Ti[2],Ti[2]),r[1]/=n[2],r[2]/=n[2],uA(EV,Ti[1],Ti[2]),jv(Ti[0],EV)<0)for(var v=0;v<3;v++)n[v]*=-1,Ti[v][0]*=-1,Ti[v][1]*=-1,Ti[v][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+Ti[0][0]-Ti[1][1]-Ti[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-Ti[0][0]+Ti[1][1]-Ti[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-Ti[0][0]-Ti[1][1]+Ti[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+Ti[0][0]+Ti[1][1]+Ti[2][2],0)),Ti[2][1]>Ti[1][2]&&(a[0]=-a[0]),Ti[0][2]>Ti[2][0]&&(a[1]=-a[1]),Ti[1][0]>Ti[0][1]&&(a[2]=-a[2]),!0}function B4e(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}function j4e(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function Y3(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}var ss=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),d5=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),Xp=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),One={UPDATED:"updated"},OV=2e-4,Tne=function(){function e(){En(this,e),this.clipSpaceNearZ=pA.NEGATIVE_ONE,this.eventEmitter=new _ne,this.matrix=es(),this.right=vo(1,0,0),this.up=vo(0,1,0),this.forward=vo(0,0,1),this.position=vo(0,0,1),this.focalPoint=vo(0,0,0),this.distanceVector=vo(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=es(),this.projectionMatrixInverse=es(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=ss.EXPLORING,this.trackingMode=d5.DEFAULT,this.projectionMode=Xp.PERSPECTIVE,this.frustum=new A4e,this.orthoMatrix=es()}return On(e,[{key:"isOrtho",value:function(){return this.projectionMode===Xp.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===ss.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===ss.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==ss.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Sm(es(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var i=Ey(es(),[n,r,0]);this.jitteredProjectionMatrix=Nf(es(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===Xp.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===Xp.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,i,a,s,o){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.projectionMode===Xp.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Xp.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===Xp.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Xp.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,s=i.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(a,s),this.setFocalPoint(a,s),this.setZoom(n),this.rotate(0,0,o);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=l.x,u=l.y,d=vo(c-a,u-s,0),h=jv(d,this.right)/Oy(this.right),g=jv(d,this.up)/Oy(this.up),v=this.getPosition(),x=mt(v,2),w=x[0],C=x[1],E=this.getFocalPoint(),M=mt(E,2),R=M[0],L=M[1];return this.setPosition(w-h,C-g),this.setFocalPoint(R-h,L-g),this}},{key:"setPerspective",value:function(n,r,i,a){var s;this.projectionMode=Xp.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=a;var o=this.near*Math.tan(ds(.5*this.fov))/this.zoom,l=2*o,c=this.aspect*l,u=-.5*c;if((s=this.view)!==null&&s!==void 0&&s.enabled){var d=this.view.fullWidth,h=this.view.fullHeight;u+=this.view.offsetX*c/d,o-=this.view.offsetY*l/h,c*=this.view.width/d,l*=this.view.height/h}return D4e(this.projectionMatrix,u,u+c,o-l,o,n,this.far,this.clipSpaceNearZ===pA.ZERO),Sm(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,i,a,s,o){var l;this.projectionMode=Xp.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=a,this.near=s,this.far=o;var c=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),d=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,g=d-c,v=d+c,x=h+u,w=h-u;if((l=this.view)!==null&&l!==void 0&&l.enabled){var C=(this.rright-this.left)/this.view.fullWidth/this.zoom,E=(this.top-this.bottom)/this.view.fullHeight/this.zoom;g+=C*this.view.offsetX,v=g+C*this.view.width,x-=E*this.view.offsetY,w=x-E*this.view.height}return this.clipSpaceNearZ===pA.NEGATIVE_ONE?pee(this.projectionMatrix,g,v,x,w,s,o):gee(this.projectionMatrix,g,v,x,w,s,o),Sm(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=bd(n,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=vo(0,1,0);if(this.focalPoint=bd(n,r,i),this.trackingMode===d5.CINEMATIC){var s=WD(Ca(),this.focalPoint,this.position);n=s[0],r=s[1],i=s[2];var o=Oy(s),l=eg(Math.asin(r/o)),c=90+eg(Math.atan2(i,n)),u=es();see(u,u,ds(c)),oee(u,u,ds(l)),a=Pl(Ca(),[0,1,0],u)}return Sm(this.matrix,mee(es(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<OV&&(this.distance=OV),this.dollyingStep=this.distance/100;var r=Ca();n=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=n*i[0]+a[0],r[1]=n*i[1]+a[1],r[2]=n*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=vS(n),this.computeMatrix(),this._getAxes(),this.type===ss.ORBITING||this.type===ss.EXPLORING?this._getPosition():this.type===ss.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=vS(n),this.computeMatrix(),this._getAxes(),this.type===ss.ORBITING||this.type===ss.EXPLORING?this._getPosition():this.type===ss.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=vS(n),this.computeMatrix(),this._getAxes(),this.type===ss.ORBITING||this.type===ss.EXPLORING?this._getPosition():this.type===ss.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=o1(qc(),[0,0,1],ds(this.roll));_1(this.matrix);var r=o1(qc(),[1,0,0],ds((this.rotateWorld&&this.type!==ss.TRACKING||this.type===ss.TRACKING?1:-1)*this.elevation)),i=o1(qc(),[0,1,0],ds((this.rotateWorld&&this.type!==ss.TRACKING||this.type===ss.TRACKING?1:-1)*this.azimuth)),a=d1(qc(),i,r);a=d1(qc(),a,n);var s=$B(es(),a);this.type===ss.ORBITING||this.type===ss.EXPLORING?(mS(this.matrix,this.matrix,this.focalPoint),Nf(this.matrix,this.matrix,s),mS(this.matrix,this.matrix,[0,0,this.distance])):this.type===ss.TRACKING&&(mS(this.matrix,this.matrix,this.position),Nf(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(n,r,i){this.position=bd(n,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Bv(this.right,bd(Hv(Fv(),[1,0,0,0],this.matrix))),Bv(this.up,bd(Hv(Fv(),[0,1,0,0],this.matrix))),Bv(this.forward,bd(Hv(Fv(),[0,0,1,0],this.matrix))),nx(this.right,this.right),nx(this.up,this.up),nx(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=Oy(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===ss.TRACKING?(this.elevation=eg(Math.asin(r/a)),this.azimuth=eg(Math.atan2(-n,-i))):this.rotateWorld?(this.elevation=eg(Math.asin(r/a)),this.azimuth=eg(Math.atan2(-n,-i))):(this.elevation=-eg(Math.asin(r/a)),this.azimuth=-eg(Math.atan2(-n,-i)))}},{key:"_getPosition",value:function(){Bv(this.position,bd(Hv(Fv(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){yee(this.distanceVector,[0,0,-this.distance],L3e(j2(),this.matrix)),f1(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=WD(Ca(),this.focalPoint,this.position),this.distance=Oy(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Xp.ORTHOGRAPHIC){var n=this.position,r=o1(qc(),[0,0,1],-this.roll*Math.PI/180);lE(this.orthoMatrix,r,vo((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),vo(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=Nf(es(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(One.UPDATED)}}},{key:"rotate",value:function(n,r,i){throw new Error(us)}},{key:"pan",value:function(n,r){throw new Error(us)}},{key:"dolly",value:function(n){throw new Error(us)}},{key:"createLandmark",value:function(n,r){throw new Error(us)}},{key:"gotoLandmark",value:function(n,r){throw new Error(us)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(us)}}])}(),F4e=function(e){return e[e.Standard=0]="Standard",e}({}),EI=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),Mne={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new r2(0,0,0,0)},ar=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function c6(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ane(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tT(){}var XE=.7,OI=1/XE,yS="\\s*([+-]?\\d+)\\s*",ZE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H4e=/^#([0-9a-f]{3,8})$/,V4e=new RegExp(`^rgb\\(${yS},${yS},${yS}\\)$`),U4e=new RegExp(`^rgb\\(${Xv},${Xv},${Xv}\\)$`),G4e=new RegExp(`^rgba\\(${yS},${yS},${yS},${ZE}\\)$`),W4e=new RegExp(`^rgba\\(${Xv},${Xv},${Xv},${ZE}\\)$`),q4e=new RegExp(`^hsl\\(${ZE},${Xv},${Xv}\\)$`),K4e=new RegExp(`^hsla\\(${ZE},${Xv},${Xv},${ZE}\\)$`),TV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c6(tT,d$,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MV,formatHex:MV,formatHex8:Y4e,formatHsl:X4e,formatRgb:AV,toString:AV});function MV(){return this.rgb().formatHex()}function Y4e(){return this.rgb().formatHex8()}function X4e(){return Ine(this).formatHsl()}function AV(){return this.rgb().formatRgb()}function d$(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H4e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IV(t):n===3?new fh(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?KT(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?KT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=V4e.exec(e))?new fh(t[1],t[2],t[3],1):(t=U4e.exec(e))?new fh(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G4e.exec(e))?KT(t[1],t[2],t[3],t[4]):(t=W4e.exec(e))?KT(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q4e.exec(e))?$V(t[1],t[2]/100,t[3]/100,1):(t=K4e.exec(e))?$V(t[1],t[2]/100,t[3]/100,t[4]):TV.hasOwnProperty(e)?IV(TV[e]):e==="transparent"?new fh(NaN,NaN,NaN,0):null}function IV(e){return new fh(e>>16&255,e>>8&255,e&255,1)}function KT(e,t,n,r){return r<=0&&(e=t=n=NaN),new fh(e,t,n,r)}function Z4e(e){return e instanceof tT||(e=d$(e)),e?(e=e.rgb(),new fh(e.r,e.g,e.b,e.opacity)):new fh}function Q4e(e,t,n,r){return arguments.length===1?Z4e(e):new fh(e,t,n,r??1)}function fh(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}c6(fh,Q4e,Ane(tT,{brighter(e){return e=e==null?OI:Math.pow(OI,e),new fh(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?XE:Math.pow(XE,e),new fh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fh(ix(this.r),ix(this.g),ix(this.b),TI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PV,formatHex:PV,formatHex8:J4e,formatRgb:RV,toString:RV}));function PV(){return`#${K_(this.r)}${K_(this.g)}${K_(this.b)}`}function J4e(){return`#${K_(this.r)}${K_(this.g)}${K_(this.b)}${K_((isNaN(this.opacity)?1:this.opacity)*255)}`}function RV(){const e=TI(this.opacity);return`${e===1?"rgb(":"rgba("}${ix(this.r)}, ${ix(this.g)}, ${ix(this.b)}${e===1?")":`, ${e})`}`}function TI(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ix(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function K_(e){return e=ix(e),(e<16?"0":"")+e.toString(16)}function $V(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xm(e,t,n,r)}function Ine(e){if(e instanceof xm)return new xm(e.h,e.s,e.l,e.opacity);if(e instanceof tT||(e=d$(e)),!e)return new xm;if(e instanceof xm)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new xm(s,o,l,e.opacity)}function eze(e,t,n,r){return arguments.length===1?Ine(e):new xm(e,t,n,r??1)}function xm(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}c6(xm,eze,Ane(tT,{brighter(e){return e=e==null?OI:Math.pow(OI,e),new xm(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?XE:Math.pow(XE,e),new xm(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fh(X3(e>=240?e-240:e+120,i,r),X3(e,i,r),X3(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xm(kV(this.h),YT(this.s),YT(this.l),TI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=TI(this.opacity);return`${e===1?"hsl(":"hsla("}${kV(this.h)}, ${YT(this.s)*100}%, ${YT(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kV(e){return e=(e||0)%360,e<0?e+360:e}function YT(e){return Math.max(0,Math.min(1,e||0))}function X3(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Rc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=t?t.apply(this,a):a[0],l=n.cache;if(l.has(o))return l.get(o);var c=e.apply(this,a);return n.cache=l.set(o,c)||l,c};return n.cache=new(Rc.Cache||Map),Rc.cacheList.push(n.cache),n}Rc.Cache=Map;Rc.cacheList=[];Rc.clearCache=function(){Rc.cacheList.forEach(function(e){return e.clear()})};var cr=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),bm=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),tze=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),nze=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),rze=[{name:"em",unit_type:cr.kEms},{name:"px",unit_type:cr.kPixels},{name:"deg",unit_type:cr.kDegrees},{name:"rad",unit_type:cr.kRadians},{name:"grad",unit_type:cr.kGradians},{name:"ms",unit_type:cr.kMilliseconds},{name:"s",unit_type:cr.kSeconds},{name:"rem",unit_type:cr.kRems},{name:"turn",unit_type:cr.kTurns}],i2=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),ize=function(t){return rze.find(function(n){return n.name===t}).unit_type},aze=function(t){return t?t==="number"?cr.kNumber:t==="percent"||t==="%"?cr.kPercentage:ize(t):cr.kUnknown},oze=function(t){switch(t){case cr.kNumber:case cr.kInteger:return bm.kUNumber;case cr.kPercentage:return bm.kUPercent;case cr.kPixels:return bm.kULength;case cr.kMilliseconds:case cr.kSeconds:return bm.kUTime;case cr.kDegrees:case cr.kRadians:case cr.kGradians:case cr.kTurns:return bm.kUAngle;default:return bm.kUOther}},sze=function(t){switch(t){case bm.kUNumber:return cr.kNumber;case bm.kULength:return cr.kPixels;case bm.kUPercent:return cr.kPercentage;case bm.kUTime:return cr.kSeconds;case bm.kUAngle:return cr.kDegrees;default:return cr.kUnknown}},LV=function(t){var n=1;switch(t){case cr.kPixels:case cr.kDegrees:case cr.kSeconds:break;case cr.kMilliseconds:n=.001;break;case cr.kRadians:n=180/Math.PI;break;case cr.kGradians:n=.9;break;case cr.kTurns:n=360;break}return n},h5=function(t){switch(t){case cr.kNumber:case cr.kInteger:return"";case cr.kPercentage:return"%";case cr.kEms:return"em";case cr.kRems:return"rem";case cr.kPixels:return"px";case cr.kDegrees:return"deg";case cr.kRadians:return"rad";case cr.kGradians:return"grad";case cr.kMilliseconds:return"ms";case cr.kSeconds:return"s";case cr.kTurns:return"turn"}return""},h$=function(){function e(){En(this,e)}return On(e,[{key:"toString",value:function(){return this.buildCSSText(tze.kNo,nze.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=i2.kUnitType&&this.getType()<=i2.kClampType}}],[{key:"isAngle",value:function(n){return n===cr.kDegrees||n===cr.kRadians||n===cr.kGradians||n===cr.kTurns}},{key:"isLength",value:function(n){return n>=cr.kEms&&n<cr.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===cr.kPercentage||n===cr.kEms||n===cr.kRems}},{key:"isTime",value:function(n){return n===cr.kSeconds||n===cr.kMilliseconds}}])}(),lze=function(e){function t(n){var r;return En(this,t),r=ea(this,t),r.colorSpace=n,r}return qr(t,e),On(t,[{key:"getType",value:function(){return i2.kColorType}},{key:"to",value:function(r){return this}}])}(h$),s1=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),XT=function(e){function t(n,r){var i;return En(this,t),i=ea(this,t),i.type=n,i.value=r,i}return qr(t,e),On(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return i2.kColorType}}])}(h$),Cg=function(e){function t(n){var r;return En(this,t),r=ea(this,t),r.value=n,r}return qr(t,e),On(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return i2.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])}(h$),cze=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(t)?r="NaN":t>0?r="infinity":r="-infinity",r+=n},p5=function(t){return sze(oze(t))},fs=function(e){function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr.kNumber;En(this,t),r=ea(this,t);var a;return typeof i=="string"?a=aze(i):a=i,r.unit=a,r.value=n,r}return qr(t,e),On(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return i2.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new t(this.value,this.unit);var i=p5(this.unit);if(i!==p5(r)||i===cr.kUnknown)return null;var a=LV(this.unit)/LV(r);return new t(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var s;switch(this.unit){case cr.kUnknown:break;case cr.kInteger:s=Number(this.value).toFixed(0);break;case cr.kNumber:case cr.kPercentage:case cr.kEms:case cr.kRems:case cr.kPixels:case cr.kDegrees:case cr.kRadians:case cr.kGradians:case cr.kMilliseconds:case cr.kSeconds:case cr.kTurns:{var o=-999999,l=999999,c=this.value,u=h5(this.unit);if(c<o||c>l){var d=h5(this.unit);!Number.isFinite(c)||Number.isNaN(c)?s=cze(c,d):s=c+(d||"")}else s="".concat(c).concat(u)}}return a+=s,a}}])}(h$),pm=new fs(0,"px");new fs(1,"px");var bx=new fs(0,"deg"),u6=function(e){function t(n,r,i){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return En(this,t),a=ea(this,t,["rgb"]),a.r=n,a.g=r,a.b=i,a.alpha=s,a.isNone=o,a}return qr(t,e),On(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(lze),NV=new Cg("unset"),uze=new Cg("initial"),fze=new Cg("inherit"),Z3={"":NV,unset:NV,initial:uze,inherit:fze},dze=function(t){return Z3[t]||(Z3[t]=new Cg(t)),Z3[t]},Pne=new u6(0,0,0,0,!0),Rne=new u6(0,0,0,0),hze=Rc(function(e,t,n,r){return new u6(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),tl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr.kNumber;return new fs(t,n)};new fs(50,"%");function pze(e){var t=e.type,n=e.value;return t==="hex"?"#".concat(n):t==="literal"?n:t==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var gze=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(re){throw new Error("".concat(t,": ").concat(re))}function r(){var re=i();return t.length>0&&n("Invalid input not EOF"),re}function i(){return M(a)}function a(){return s("linear-gradient",e.linearGradient,l)||s("repeating-linear-gradient",e.repeatingLinearGradient,l)||s("radial-gradient",e.radialGradient,d)||s("repeating-radial-gradient",e.repeatingRadialGradient,d)||s("conic-gradient",e.conicGradient,d)}function s(re,oe,ce){return o(oe,function(le){var pe=ce();return pe&&(ee(e.comma)||n("Missing comma before color stops")),{type:re,orientation:pe,colorStops:M(R)}})}function o(re,oe){var ce=ee(re);if(ce){ee(e.startCall)||n("Missing (");var le=oe(ce);return ee(e.endCall)||n("Missing )"),le}}function l(){return c()||u()}function c(){return te("directional",e.sideOrCorner,1)}function u(){return te("angular",e.angleValue,1)}function d(){var re,oe=h(),ce;return oe&&(re=[],re.push(oe),ce=t,ee(e.comma)&&(oe=h(),oe?re.push(oe):t=ce)),re}function h(){var re=g()||v();if(re)re.at=w();else{var oe=x();if(oe){re=oe;var ce=w();ce&&(re.at=ce)}else{var le=C();le&&(re={type:"default-radial",at:le})}}return re}function g(){var re=te("shape",/^(circle)/i,0);return re&&(re.style=X()||x()),re}function v(){var re=te("shape",/^(ellipse)/i,0);return re&&(re.style=K()||x()),re}function x(){return te("extent-keyword",e.extentKeywords,1)}function w(){if(te("position",/^at/,0)){var re=C();return re||n("Missing positioning value"),re}}function C(){var re=E();if(re.x||re.y)return{type:"position",value:re}}function E(){return{x:K(),y:K()}}function M(re){var oe=re(),ce=[];if(oe)for(ce.push(oe);ee(e.comma);)oe=re(),oe?ce.push(oe):n("One extra comma");return ce}function R(){var re=L();return re||n("Expected color definition"),re.length=K(),re}function L(){return D()||U()||H()||N()}function N(){return te("literal",e.literalColor,0)}function D(){return te("hex",e.hexColor,1)}function H(){return o(e.rgbColor,function(){return{type:"rgb",value:M(q)}})}function U(){return o(e.rgbaColor,function(){return{type:"rgba",value:M(q)}})}function q(){return ee(e.number)[1]}function K(){return te("%",e.percentageValue,1)||Q()||X()}function Q(){return te("position-keyword",e.positionKeywords,1)}function X(){return te("px",e.pixelValue,1)||te("em",e.emValue,1)}function te(re,oe,ce){var le=ee(oe);if(le)return{type:re,value:le[ce]}}function ee(re){var oe=/^[\n\r\t\s]+/.exec(t);oe&&Z(oe[0].length);var ce=re.exec(t);return ce&&Z(ce[0].length),ce}function Z(re){t=t.substring(re)}return function(re){return t=re,r()}}();function mze(e,t,n,r){var i=ds(r.value),a=0,s=0,o=a+t/2,l=s+n/2,c=Math.abs(t*Math.cos(i))+Math.abs(n*Math.sin(i)),u=e[0]+o-Math.cos(i)*c/2,d=e[1]+l-Math.sin(i)*c/2,h=e[0]+o+Math.cos(i)*c/2,g=e[1]+l+Math.sin(i)*c/2;return{x1:u,y1:d,x2:h,y2:g}}function vze(e,t,n,r,i,a){var s=r.value,o=i.value;r.unit===cr.kPercentage&&(s=r.value/100*t),i.unit===cr.kPercentage&&(o=i.value/100*n);var l=Math.max(ah([0,0],[s,o]),ah([0,n],[s,o]),ah([t,n],[s,o]),ah([t,0],[s,o]));return a&&(a instanceof fs?l=a.value:a instanceof Cg&&(a.value==="closest-side"?l=Math.min(s,t-s,o,n-o):a.value==="farthest-side"?l=Math.max(s,t-s,o,n-o):a.value==="closest-corner"&&(l=Math.min(ah([0,0],[s,o]),ah([0,n],[s,o]),ah([t,n],[s,o]),ah([t,0],[s,o]))))),{x:s+e[0],y:o+e[1],r:l}}var yze=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,bze=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_ze=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,$ne=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function xze(e){var t,n=e.length;if(e[n-1].length=(t=e[n-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},n>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),s=1;s<n;s++){var o,l=(o=e[s].length)===null||o===void 0?void 0:o.value;if(!ri(l)&&!ri(a)){for(var c=1;c<s-i;c++)e[i+c].length={type:"%",value:"".concat(a+(Number(l)-a)*c/(s-i))};i=s,a=Number(l)}}}var wze={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Sze=Rc(function(e){var t;return e.type==="angular"?t=Number(e.value):t=wze[e.value]||0,tl(t,"deg")}),Cze=Rc(function(e){var t=50,n=50,r="%",i="%";if(e?.type==="position"){var a=e.value,s=a.x,o=a.y;s?.type==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?t=50:s.value==="right"?t=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),o?.type==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?n=50:o.value==="right"?t=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s?.type==="px"||s?.type==="%"||s?.type==="em")&&(r=s?.type,t=Number(s.value)),(o?.type==="px"||o?.type==="%"||o?.type==="em")&&(i=o?.type,n=Number(o.value))}return{cx:tl(t,r),cy:tl(n,i)}}),Eze=Rc(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=gze(e);return t.map(function(o){var l=o.type,c=o.orientation,u=o.colorStops;xze(u);var d=u.map(function(M){return{offset:tl(Number(M.length.value),"%"),color:pze(M)}});if(l==="linear-gradient")return new XT(s1.LinearGradient,{angle:c?Sze(c):bx,steps:d});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var h=Cze(c[0].at),g=h.cx,v=h.cy,x;if(c[0].style){var w=c[0].style,C=w.type,E=w.value;C==="extent-keyword"?x=dze(E):x=tl(E,C)}return new XT(s1.RadialGradient,{cx:g,cy:v,size:x,steps:d})}})}var n=e[0];if(e[1]==="("||e[2]==="("){if(n==="l"){var r=yze.exec(e);if(r){var i,a=((i=r[2].match($ne))===null||i===void 0?void 0:i.map(function(o){return o.split(":")}))||[];return[new XT(s1.LinearGradient,{angle:tl(parseFloat(r[1]),"deg"),steps:a.map(function(o){var l=mt(o,2),c=l[0],u=l[1];return{offset:tl(Number(c)*100,"%"),color:u}})})]}}else if(n==="r"){var s=Oze(e);if(s)if(el(s))e=s;else return[new XT(s1.RadialGradient,s)]}else if(n==="p")return Tze(e)}});function Oze(e){var t=bze.exec(e);if(t){var n,r=((n=t[4].match($ne))===null||n===void 0?void 0:n.map(function(i){return i.split(":")}))||[];return{cx:tl(50,"%"),cy:tl(50,"%"),steps:r.map(function(i){var a=mt(i,2),s=a[0],o=a[1];return{offset:tl(Number(s)*100,"%"),color:o}})}}return null}function Tze(e){var t=_ze.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function _x(e){return e&&!!e.image}function MI(e){return e&&!ri(e.r)&&!ri(e.g)&&!ri(e.b)}var p1=Rc(function(e){if(_x(e))return Pe({repetition:"repeat"},e);if(ri(e)&&(e=""),e==="transparent")return Rne;if(e==="currentColor")e="black";else if(e==="none")return Pne;var t=Eze(e);if(t)return t;var n=d$(e),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),hze.apply(void 0,r)});function Mze(e,t){if(!(!MI(e)||!MI(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(n){var r=n.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round($l(r[i],0,255));return r[3]=$l(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function nT(e,t){if(ri(t))return tl(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return tl(Number(t),"px");if("deg".search(e)>=0)return tl(Number(t),"deg")}var n=[];t=t.replace(e,function(i){return n.push(i),"U".concat(i)});var r="U(".concat(e.source,")");return n.map(function(i){return tl(Number(t.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var kne=function(t){return nT(new RegExp("px","g"),t)},Aze=Rc(kne),Ize=function(t){return nT(new RegExp("%","g"),t)};Rc(Ize);var Lne=function(t){return qs(t)||isFinite(Number(t))?tl(Number(t)||0,"px"):nT(new RegExp("px|%|em|rem","g"),t)},g5=Rc(Lne),Nne=function(t){return nT(new RegExp("deg|rad|grad|turn","g"),t)},Pze=Rc(Nne);function Rze(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",s=e.value||0,o=t.value||0,l=p5(e.unit),c=e.convertTo(l),u=t.convertTo(l);return c&&u?(s=c.value,o=u.value,a=h5(e.unit)):(fs.isLength(e.unit)||fs.isLength(t.unit))&&(s=lp(e,i,n),o=lp(t,i,n),a="px"),[s,o,function(d){return d+a}]}function oh(e){var t=0;return e.unit===cr.kDegrees?t=e.value:e.unit===cr.kRadians?t=eg(Number(e.value)):e.unit===cr.kTurns?t=$4e(Number(e.value)):e.value&&(t=e.value),t}function DV(e,t){var n;return Array.isArray(e)?n=e.map(function(r){return Number(r)}):el(e)?n=e.split(" ").map(function(r){return Number(r)}):qs(e)&&(n=[e]),t===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:t===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:t==="even"&&n.length%2===1?[].concat(_n(n),_n(n)):n}function lp(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===cr.kPixels)return Number(e.value);if(e.unit===cr.kPercentage&&n){var i=n.nodeName===mn.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var $ze=function(t){return nT(/deg|rad|grad|turn|px|%/g,t)},kze=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Lze(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,i=0;r=t.exec(e);){if(r.index!==i)return[];if(i=r.index+r[0].length,kze.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(a){return $ze(a)||p1(a)})}),t.lastIndex===e.length)return n}return[]}function Dne(e){return e.toString()}var zne=function(t){return typeof t=="number"?tl(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?tl(Number(t)):tl(0)},m5=Rc(zne);Rc(function(e){return el(e)?e.split(" ").map(m5):e.map(m5)});function f6(e,t){return[e,t,Dne]}function d6(e,t){return function(n,r){return[n,r,function(i){return Dne($l(i,e,t))}]}}function Bne(e,t){if(e.length===t.length)return[e,t,function(n){return n}]}function v5(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=qLe(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function Nze(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=b4e(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function Dze(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t],i=r[0];if(i==="M"&&n){var a=n[0],s=[r[1],r[2]],o=void 0;a==="L"||a==="M"?o=[n[1],n[2]]:(a==="C"||a==="A"||a==="Q")&&(o=[n[n.length-2],n[n.length-1]]),o&&AI(s,o)&&(e.splice(t,1),t--)}}}function zze(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function Bze(e){for(var t=[],n=[],r=[],i=0;i<e.length;i++){var a=e[i],s=a[0];s==="M"?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):s==="Z"?r.length&&(t.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}function AI(e,t){return e[0]===t[0]&&e[1]===t[1]}function jze(e,t){for(var n=[],r=[],i=[],a=0;a<e.length;a++){var s=e[a],o=s.currentPoint,l=s.params,c=s.prePoint,u=void 0;switch(s.command){case"Q":u=_4e(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=m4e(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=s.arcParams;u=h4e(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(o[0]),r.push(o[1]);break}u&&(s.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(R){return!Number.isNaN(R)&&R!==1/0&&R!==-1/0}),r=r.filter(function(R){return!Number.isNaN(R)&&R!==1/0&&R!==-1/0});var h=lI(n),g=lI(r),v=sI(n),x=sI(r);if(i.length===0)return{x:h,y:g,width:v-h,height:x-g};for(var w=0;w<i.length;w++){var C=i[w],E=C.currentPoint,M=void 0;E[0]===h?(M=ZT(C,t),h-=M.xExtra):E[0]===v&&(M=ZT(C,t),v+=M.xExtra),E[1]===g?(M=ZT(C,t),g-=M.yExtra):E[1]===x&&(M=ZT(C,t),x+=M.yExtra)}return{x:h,y:g,width:v-h,height:x-g}}function ZT(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+s-o)/(2*Math.sqrt(a)*Math.sqrt(s)));if(!l||Math.sin(l)===0||sE(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var d={xExtra:Math.cos(l/2-c)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(u-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return d}function zV(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var BV=function(t,n){var r=t.x*n.x+t.y*n.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),a=t.x*n.y-t.y*n.x<0?-1:1,s=a*Math.acos(r/i);return s},jV=function(t,n,r,i,a,s,o,l){n=Math.abs(n),r=Math.abs(r),i=XJ(i,360);var c=ds(i);if(t.x===o.x&&t.y===o.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(t.x-o.x)/2,d=(t.y-o.y)/2,h={x:Math.cos(c)*u+Math.sin(c)*d,y:-Math.sin(c)*u+Math.cos(c)*d},g=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(r,2);g>1&&(n*=Math.sqrt(g),r*=Math.sqrt(g));var v=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(r,2)*Math.pow(h.x,2),x=Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(r,2)*Math.pow(h.x,2),w=v/x;w=w<0?0:w;var C=(a!==s?1:-1)*Math.sqrt(w),E={x:C*(n*h.y/r),y:C*(-(r*h.x)/n)},M={x:Math.cos(c)*E.x-Math.sin(c)*E.y+(t.x+o.x)/2,y:Math.sin(c)*E.x+Math.cos(c)*E.y+(t.y+o.y)/2},R={x:(h.x-E.x)/n,y:(h.y-E.y)/r},L=BV({x:1,y:0},R),N={x:(-h.x-E.x)/n,y:(-h.y-E.y)/r},D=BV(R,N);!s&&D>0?D-=2*Math.PI:s&&D<0&&(D+=2*Math.PI),D%=2*Math.PI;var H=L+D*l,U=n*Math.cos(H),q=r*Math.sin(H),K={x:Math.cos(c)*U-Math.sin(c)*q+M.x,y:Math.sin(c)*U+Math.cos(c)*q+M.y,ellipticalArcStartAngle:L,ellipticalArcEndAngle:L+D,ellipticalArcAngle:H,ellipticalArcCenter:M,resultantRx:n,resultantRy:r};return K};function Fze(e){for(var t=[],n=null,r=null,i=null,a=0,s=e.length,o=0;o<s;o++){var l=e[o];r=e[o+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[l[1],l[2]],a=o;break;case"A":var d=Hze(n,l);u.arcParams=d;break}if(c==="Z")n=i,r=e[a+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&r[0]==="Z"&&(r=e[a],t[a]&&(t[a].prePoint=n)),u.currentPoint=n,t[a]&&AI(n,t[a].currentPoint)&&(t[a].prePoint=u.prePoint);var g=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=g;var v=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[v[0]-n[0],v[1]-n[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]];else if(c==="Q"){var x=[l[1],l[2]];u.startTangent=[v[0]-x[0],v[1]-x[1]],u.endTangent=[n[0]-x[0],n[1]-x[1]]}else if(c==="T"){var w=t[o-1],C=zV(w.currentPoint,v);w.command==="Q"?(u.command="Q",u.startTangent=[v[0]-C[0],v[1]-C[1]],u.endTangent=[n[0]-C[0],n[1]-C[1]]):(u.command="TL",u.startTangent=[v[0]-n[0],v[1]-n[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]])}else if(c==="C"){var E=[l[1],l[2]],M=[l[3],l[4]];u.startTangent=[v[0]-E[0],v[1]-E[1]],u.endTangent=[n[0]-M[0],n[1]-M[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[E[0]-M[0],E[1]-M[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[M[0]-E[0],M[1]-E[1]])}else if(c==="S"){var R=t[o-1],L=zV(R.currentPoint,v),N=[l[1],l[2]];R.command==="C"?(u.command="C",u.startTangent=[v[0]-L[0],v[1]-L[1]],u.endTangent=[n[0]-N[0],n[1]-N[1]]):(u.command="SQ",u.startTangent=[v[0]-N[0],v[1]-N[1]],u.endTangent=[n[0]-N[0],n[1]-N[1]])}else if(c==="A"){var D=FV(u,0),H=D.x,U=D.y,q=FV(u,1,!1),K=q.x,Q=q.y;u.startTangent=[H,U],u.endTangent=[K,Q]}t.push(u)}return t}function FV(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,i=r.rx,a=i===void 0?0:i,s=r.ry,o=s===void 0?0:s,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,d=jV({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},t),h=jV({x:e.prePoint[0],y:e.prePoint[1]},a,o,l,!!c,!!u,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),g=h.x-d.x,v=h.y-d.y,x=Math.sqrt(g*g+v*v);return{x:-g/x,y:-v/x}}function QT(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function y5(e,t){return QT(e)*QT(t)?(e[0]*t[0]+e[1]*t[1])/(QT(e)*QT(t)):1}function HV(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y5(e,t))}function Hze(e,t){var n=t[1],r=t[2],i=XJ(ds(t[3]),Math.PI*2),a=t[4],s=t[5],o=e[0],l=e[1],c=t[6],u=t[7],d=Math.cos(i)*(o-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(o-c)/2+Math.cos(i)*(l-u)/2,g=d*d/(n*n)+h*h/(r*r);g>1&&(n*=Math.sqrt(g),r*=Math.sqrt(g));var v=n*n*(h*h)+r*r*(d*d),x=v?Math.sqrt((n*n*(r*r)-v)/v):1;a===s&&(x*=-1),isNaN(x)&&(x=0);var w=r?x*n*h/r:0,C=n?x*-r*d/n:0,E=(o+c)/2+Math.cos(i)*w-Math.sin(i)*C,M=(l+u)/2+Math.sin(i)*w+Math.cos(i)*C,R=[(d-w)/n,(h-C)/r],L=[(-1*d-w)/n,(-1*h-C)/r],N=HV([1,0],R),D=HV(R,L);return y5(R,L)<=-1&&(D=Math.PI),y5(R,L)>=1&&(D=0),s===0&&D>0&&(D-=2*Math.PI),s===1&&D<0&&(D+=2*Math.PI),{cx:E,cy:M,rx:AI(e,[c,u])?0:n,ry:AI(e,[c,u])?0:r,startAngle:N,endAngle:N+D,xRotation:i,arcFlag:a,sweepFlag:s}}function Vze(e,t,n){return e.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var s=vo(i[1],i[2],0);n&&Pl(s,s,n),a="".concat(i[0]).concat(s[0],",").concat(s[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var o=vo(i[1],i[2],0),l=vo(i[3],i[4],0),c=vo(i[5],i[6],0);n&&(Pl(o,o,n),Pl(l,l,n),Pl(c,c,n)),a="".concat(i[0]).concat(o[0],",").concat(o[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var u=vo(i[6],i[7],0);n&&Pl(u,u,n),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(u[0],",").concat(u[1])}else if(i[0]==="Q"){var d=vo(i[1],i[2],0),h=vo(i[3],i[4],0);n&&(Pl(d,d,n),Pl(h,h,n)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function Uze(e,t,n,r){return[["M",e,t],["L",n,r]]}function VV(e,t,n,r){var i=(-1+Math.sqrt(2))/3*4,a=e*i,s=t*i,o=n-e,l=n+e,c=r-t,u=r+t;return[["M",o,r],["C",o,r-s,n-a,c,n,c],["C",n+a,c,l,r-s,l,r],["C",l,r+s,n+a,u,n,u],["C",n-a,u,o,r+s,o,r],["Z"]]}function Gze(e,t){var n=e.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return t&&n.push(["Z"]),n}function Wze(e,t,n,r,i){if(i){var a=mt(i,4),s=a[0],o=a[1],l=a[2],c=a[3],u=e>0?1:-1,d=t>0?1:-1,h=u+d!==0?1:0;return[["M",u*s+n,r],["L",e-u*o+n,r],o?["A",o,o,0,0,h,e+n,d*o+r]:null,["L",e+n,t-d*l+r],l?["A",l,l,0,0,h,e+n-u*l,t+r]:null,["L",n+u*c,t+r],c?["A",c,c,0,0,h,n,t+r-d*c]:null,["L",n,d*s+r],s?["A",s,s,0,0,h,u*s+n,r]:null,["Z"]].filter(function(g){return g})}return[["M",n,r],["L",n+e,r],["L",n+e,r+t],["L",n,r+t],["Z"]]}function qze(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLocalTransform(),n=[];switch(e.nodeName){case mn.LINE:var r=e.parsedStyle,i=r.x1,a=i===void 0?0:i,s=r.y1,o=s===void 0?0:s,l=r.x2,c=l===void 0?0:l,u=r.y2,d=u===void 0?0:u;n=Uze(a,o,c,d);break;case mn.CIRCLE:{var h=e.parsedStyle,g=h.r,v=g===void 0?0:g,x=h.cx,w=x===void 0?0:x,C=h.cy,E=C===void 0?0:C;n=VV(v,v,w,E);break}case mn.ELLIPSE:{var M=e.parsedStyle,R=M.rx,L=R===void 0?0:R,N=M.ry,D=N===void 0?0:N,H=M.cx,U=H===void 0?0:H,q=M.cy,K=q===void 0?0:q;n=VV(L,D,U,K);break}case mn.POLYLINE:case mn.POLYGON:var Q=e.parsedStyle.points;n=Gze(Q.points,e.nodeName===mn.POLYGON);break;case mn.RECT:var X=e.parsedStyle,te=X.width,ee=te===void 0?0:te,Z=X.height,re=Z===void 0?0:Z,oe=X.x,ce=oe===void 0?0:oe,le=X.y,pe=le===void 0?0:le,ye=X.radius,_e=ye&&ye.some(function(Re){return Re!==0});n=Wze(ee,re,ce,pe,_e&&ye.map(function(Re){return $l(Re,0,Math.min(Math.abs(ee)/2,Math.abs(re)/2))}));break;case mn.PATH:var Se=e.parsedStyle.d.absolutePath;n=_n(Se);break}if(n.length)return Vze(n,e,t)}var jne=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=pI(t)}catch{n=pI(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}Dze(n);var r=zze(n),i=Bze(n),a=i.polygons,s=i.polylines,o=Fze(n),l=jze(o,0),c=l.x,u=l.y,d=l.width,h=l.height;return{absolutePath:n,hasArc:r,segments:o,polygons:a,polylines:s,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(d)?d:0,height:Number.isFinite(h)?h:0}}},Kze=Rc(jne);function Fne(e){return el(e)?Kze(e):jne(e)}function Yze(e,t,n){var r=e.curve,i=t.curve;(!r||r.length===0)&&(r=YD(e.absolutePath,!1),e.curve=r),(!i||i.length===0)&&(i=YD(t.absolutePath,!1),t.curve=i);var a=[r,i];r.length!==i.length&&(a=Oee(r,i));var s=GH(a[0])!==GH(a[1])?FLe(a[0]):jLe(a[0]);return[s,YLe(a[1],s),function(o){return o}]}function Xze(e,t){var n;return el(e)?n=e.split(" ").map(function(r){var i=r.split(","),a=mt(i,2),s=a[0],o=a[1];return[Number(s),Number(o)]}):n=e,{points:n,totalLength:0,segments:[]}}function Zze(e,t){return[e.points,t.points,function(n){return n}]}var Tl=null,bS=/\s*(\w+)\(([^)]*)\)/g;function rh(e){return function(t){var n=0;return e.map(function(r){return r===Tl?t[n++]:r})}}function k_(e){return e}var QE={matrix:["NNNNNN",[Tl,Tl,0,0,Tl,Tl,0,0,0,0,1,0,Tl,Tl,0,1],k_],matrix3d:["NNNNNNNNNNNNNNNN",k_],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",rh([Tl,Tl,new fs(1)]),k_],scaleX:["N",rh([Tl,new fs(1),new fs(1)]),rh([Tl,new fs(1)])],scaleY:["N",rh([new fs(1),Tl,new fs(1)]),rh([new fs(1),Tl])],scaleZ:["N",rh([new fs(1),new fs(1),Tl])],scale3d:["NNN",k_],skew:["Aa",null,k_],skewX:["A",null,rh([Tl,bx])],skewY:["A",null,rh([bx,Tl])],translate:["Tt",rh([Tl,Tl,pm]),k_],translateX:["T",rh([Tl,pm,pm]),rh([Tl,pm])],translateY:["T",rh([pm,Tl,pm]),rh([pm,Tl])],translateZ:["L",rh([pm,pm,Tl])],translate3d:["TTL",k_]};function Hne(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r],a=i[0],s=i.slice(1);a==="translate"||a==="skew"?s.length===1&&s.push(0):a==="scale"&&s.length===1&&s.push(s[0]);var o=QE[a];if(!o)return[];var l=s.map(function(c){return tl(c)});t.push({t:a,d:l})}return t}function Vne(e){if(Array.isArray(e))return Hne(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(bS.lastIndex=0;n=bS.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=QE[i];if(!a)return[];var s=n[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],c=0;c<o.length;c++){var u=s[c],d=o[c],h=void 0;if(u?h={A:function(v){return v.trim()==="0"?bx:Pze(v)},N:m5,T:g5,L:Aze}[d.toUpperCase()](u):h={a:bx,n:l[0],t:pm}[d],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),bS.lastIndex===e.length)return t}return[]}function Qze(e){if(Array.isArray(e))return Hne(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(bS.lastIndex=0;n=bS.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=QE[i];if(!a)return[];var s=n[2].split(","),o=a[0];if(o.length<s.length)return[];for(var l=[],c=0;c<o.length;c++){var u=s[c],d=o[c],h=void 0;if(u?h={A:function(v){return v.trim()==="0"?bx:Nne(v)},N:zne,T:Lne,L:kne}[d.toUpperCase()](u):h={a:bx,n:l[0],t:pm}[d],h===void 0)return[];l.push(h)}if(t.push({t:i,d:l}),bS.lastIndex===e.length)return t}return[]}function Jze(e){var t,n,r,i;switch(e.t){case"rotateX":return i=ds(oh(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=ds(oh(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=ds(oh(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,i=ds(oh(e.d[3]));var a=t*t+n*n+r*r;if(a===0)t=1,n=0,r=0;else if(a!==1){var s=Math.sqrt(a);t/=s,n/=s,r/=s}var o=Math.sin(i/2),l=o*Math.cos(i/2),c=o*o;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*l),2*(t*r*c-n*l),0,2*(t*n*c-r*l),1-2*(t*t+r*r)*c,2*(n*r*c+t*l),0,2*(t*r*c+n*l),2*(n*r*c-t*l),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var u=ds(oh(e.d[0])),d=ds(oh(e.d[1]));return[1,Math.tan(d),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=ds(oh(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=ds(oh(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=lp(e.d[0],0,null)||0,n=lp(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,0,1];case"translateX":return t=lp(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return n=lp(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=lp(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return t=lp(e.d[0],0,null)||0,n=lp(e.d[1],0,null)||0,r=lp(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1];case"perspective":var h=lp(e.d[0],0,null)||0,g=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,g,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(v){return v.value})}}function eBe(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function tBe(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(Jze).reduce(eBe)}function UV(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return z4e(tBe(e),t,n,r,i,a),[[t,n,r,a,i]]}var nBe=function(){function e(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var o=0;o<4;o++)for(var l=0;l<4;l++)a[s][o]+=i[s][l]*r[l][o];return a}function t(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,i,a,s,o){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=o[c];for(var u=0;u<3;u++)for(var d=0;d<3;d++)l[3][u]+=r[d]*l[d][u];var h=s[0],g=s[1],v=s[2],x=s[3],w=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];w[0][0]=1-2*(g*g+v*v),w[0][1]=2*(h*g-v*x),w[0][2]=2*(h*v+g*x),w[1][0]=2*(h*g+v*x),w[1][1]=1-2*(h*h+v*v),w[1][2]=2*(g*v-h*x),w[2][0]=2*(h*v-g*x),w[2][1]=2*(g*v+h*x),w[2][2]=1-2*(h*h+g*g),l=e(l,w);var C=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(C[2][1]=a[2],l=e(l,C)),a[1]&&(C[2][1]=0,C[2][0]=a[0],l=e(l,C)),a[0]&&(C[2][0]=0,C[1][0]=a[0],l=e(l,C));for(var E=0;E<3;E++)for(var M=0;M<3;M++)l[E][M]*=i[E];return t(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n}();function rBe(e){return e.toFixed(6).replace(".000000","")}function Q3(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=UV(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=UV(t)),n[0]===null||r[0]===null?[[!1],[!0],function(i){return i?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(i){var a=aBe(n[0][3],r[0][3],i[5]),s=nBe(i[0],i[1],i[2],a,i[4]),o=s.map(rBe).join(",");return o}])}function iBe(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function aBe(e,t,n){var r=iBe(e,t);r=$l(r,-1,1);var i=[];if(r===1)i=e;else for(var a=Math.acos(r),s=Math.sin(n*a)*1/Math.sqrt(1-r*r),o=0;o<4;o++)i.push(e[o]*(Math.cos(n*a)-r*s)+t[o]*s);return i}function J3(e){return e.replace(/[XY]/,"")}function eL(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var oBe=function(t,n){return t==="perspective"&&n==="perspective"||(t==="matrix"||t==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function sBe(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var i=function(){var K=e[a],Q=K.t,X=K.d,te=Q.substring(0,5)==="scale"?1:0;t.push({t:Q,d:X.map(function(ee){return typeof ee=="number"?tl(te):tl(te,ee.unit)})})},a=0;a<e.length;a++)i()}var s=[],o=[],l=[];if(e.length!==t.length){var c=Q3(e,t);s=[c[0]],o=[c[1]],l=[["matrix",[c[2]]]]}else for(var u=0;u<e.length;u++){var d=e[u].t,h=t[u].t,g=e[u].d,v=t[u].d,x=QE[d],w=QE[h],C=void 0;if(oBe(d,h)){var E=Q3([e[u]],[t[u]]);s.push(E[0]),o.push(E[1]),l.push(["matrix",[E[2]]]);continue}else if(d===h)C=d;else if(x[2]&&w[2]&&J3(d)===J3(h))C=J3(d),g=x[2](g),v=w[2](v);else if(x[1]&&w[1]&&eL(d)===eL(h))C=eL(d),g=x[1](g),v=w[1](v);else{var M=Q3(e,t);s=[M[0]],o=[M[1]],l=[["matrix",[M[2]]]];break}for(var R=[],L=[],N=[],D=0;D<g.length;D++){var H=Rze(g[D],v[D],n,!1,D);R[D]=H[0],L[D]=H[1],N.push(H[2])}s.push(R),o.push(L),l.push([C,N])}if(r){var U=s;s=o,o=U}return[s,o,function(q){return q.map(function(K,Q){var X=K.map(function(te,ee){return l[Q][1][ee](te)}).join(",");return l[Q][0]==="matrix"&&X.split(",").length===16&&(l[Q][0]="matrix3d"),l[Q][0]==="matrix3d"&&X.split(",").length===6&&(l[Q][0]="matrix"),"".concat(l[Q][0],"(").concat(X,")")}).join(" ")}]}var lBe=Rc(function(e){if(el(e)){if(e==="text-anchor")return[tl(0,"px"),tl(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[g5(GV(t[0])),g5(GV(t[1]))]}return[tl(e[0]||0,"px"),tl(e[1]||0,"px")]});function GV(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var h6=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:ar.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:ar.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:ar.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:ar.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:ar.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:ar.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:ar.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:ar.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:ar.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:ar.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:ar.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:ar.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:ar.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:ar.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:ar.FILTER},{n:"clipPath",syntax:ar.DEFINED_PATH},{n:"textPath",syntax:ar.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:ar.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:ar.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:ar.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ar.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:ar.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:ar.COORDINATE},{n:"y1",int:!0,l:!0,syntax:ar.COORDINATE},{n:"z1",int:!0,l:!0,syntax:ar.COORDINATE},{n:"x2",int:!0,l:!0,syntax:ar.COORDINATE},{n:"y2",int:!0,l:!0,syntax:ar.COORDINATE},{n:"z2",int:!0,l:!0,syntax:ar.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:ar.PATH,p:50},{n:"points",int:!0,l:!0,syntax:ar.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:ar.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:ar.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:ar.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:ar.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:ar.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:ar.NUMBER,d:function(t){return t===mn.PATH||t===mn.POLYGON||t===mn.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:ar.MARKER},{n:"markerEnd",syntax:ar.MARKER},{n:"markerMid",syntax:ar.MARKER},{n:"markerStartOffset",syntax:ar.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:ar.LENGTH,l:!0,int:!0,d:"0"}],cBe=new Set(h6.filter(function(e){return!!e.l}).map(function(e){return e.n})),Une={},uBe=function(){function e(t){var n=this;En(this,e),this.runtime=t,h6.forEach(function(r){n.registerMetadata(r)})}return On(e,[{key:"registerMetadata",value:function(n){[n.n].concat(_n(n.a||[])).forEach(function(r){Une[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var a=n.parsedStyle.clipPath,s=n.parsedStyle.offsetPath;fBe(n,r);var o=!!i.forceUpdateGeometry;if(!o){for(var l in r)if(cBe.has(l)){o=!0;break}}var c=Gne(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=p1(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=p1(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=p1(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=Lze(r.filter)),c.has("radius")&&!ri(r.radius)&&(n.parsedStyle.radius=DV(r.radius,4)),c.has("lineDash")&&!ri(r.lineDash)&&(n.parsedStyle.lineDash=DV(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=Xze(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=Pe({},Mne)),c.has("d")&&r.d&&(n.parsedStyle.d=Fne(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[ar.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!Cs(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[ar.DEFINED_PATH].calculator("clipPath",a,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[ar.DEFINED_PATH].calculator("offsetPath",s,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=Vne(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=lBe(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[ar.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[ar.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[ar.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!ri(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[ar.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!ri(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[ar.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[ar.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[ar.TRANSFORM_ORIGIN].postProcessor(n),o&&(n.geometry.dirty=!0,n.renderable.boundsDirty=!0,n.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=n.geometry;a.contentBounds||(a.contentBounds=new lc),a.renderBounds||(a.renderBounds=new lc);var s=n.parsedStyle,o=i.update(s,n),l=o.cx,c=l===void 0?0:l,u=o.cy,d=u===void 0?0:u,h=o.cz,g=h===void 0?0:h,v=o.hwidth,x=v===void 0?0:v,w=o.hheight,C=w===void 0?0:w,E=o.hdepth,M=E===void 0?0:E,R=[Math.abs(x),Math.abs(C),M],L=s.stroke,N=s.lineWidth,D=N===void 0?1:N,H=s.increasedLineWidthForHitTesting,U=H===void 0?0:H,q=s.shadowType,K=q===void 0?"outer":q,Q=s.shadowColor,X=s.filter,te=X===void 0?[]:X,ee=s.transformOrigin,Z=[c,d,g];a.contentBounds.update(Z,R);var re=r===mn.POLYLINE||r===mn.POLYGON||r===mn.PATH?Math.SQRT2:.5,oe=L&&!L.isNone;if(oe){var ce=((D||0)+(U||0))*re;R[0]+=ce,R[1]+=ce}if(a.renderBounds.update(Z,R),Q&&K&&K!=="inner"){var le=a.renderBounds,pe=le.min,ye=le.max,_e=s.shadowBlur,Se=s.shadowOffsetX,Re=s.shadowOffsetY,je=_e||0,Fe=Se||0,ze=Re||0,Ze=pe[0]-je+Fe,st=ye[0]+je+Fe,Ue=pe[1]-je+ze,Ne=ye[1]+je+ze;pe[0]=Math.min(pe[0],Ze),ye[0]=Math.max(ye[0],st),pe[1]=Math.min(pe[1],Ue),ye[1]=Math.max(ye[1],Ne),a.renderBounds.setMinMax(pe,ye)}te.forEach(function(ft){var Rt=ft.name,Yt=ft.params;if(Rt==="blur"){var Jt=Yt[0].value;a.renderBounds.update(a.renderBounds.center,f1(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[Jt,Jt,0]))}else if(Rt==="drop-shadow"){var xt=Yt[0].value,Ft=Yt[1].value,Lt=Yt[2].value,Kt=a.renderBounds,hn=Kt.min,dn=Kt.max,Cn=hn[0]-Lt+xt,kn=dn[0]+Lt+xt,sn=hn[1]-Lt+Ft,un=dn[1]+Lt+Ft;hn[0]=Math.min(hn[0],Cn),dn[0]=Math.max(dn[0],kn),hn[1]=Math.min(hn[1],sn),dn[1]=Math.max(dn[1],un),a.renderBounds.setMinMax(hn,dn)}}),n.geometry.dirty=!1;var qe=x<0,We=C<0,rt=(qe?-1:1)*(ee?lp(ee[0],0,n,!0):0),ht=(We?-1:1)*(ee?lp(ee[1],1,n,!0):0);(rt||ht)&&n.setOrigin(rt,ht)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===mn.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===mn.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])}();function fBe(e,t){var n=Gne(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}function Gne(e){return e.constructor.PARSED_STYLE_LIST}var dBe=function(){function e(){En(this,e),this.mixer=f6}return On(e,[{key:"calculator",value:function(n,r,i,a){return oh(i)}}])}(),hBe=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i,a,s){return i instanceof Cg&&(i=null),s.sceneGraphService.updateDisplayObjectDependency(n,r,i,a),n==="clipPath"&&a.forEach(function(o){o.childNodes.length===0&&s.sceneGraphService.dirtifyToRoot(o)}),i}}])}(),pBe=function(){function e(){En(this,e),this.parser=p1,this.mixer=Mze}return On(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof Cg?i.value==="none"?Pne:Rne:i}}])}(),gBe=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i){return i instanceof Cg?[]:i}}])}();function WV(e){var t=e.parsedStyle,n=t.fontSize;return ri(n)?null:n}var b5=function(){function e(){En(this,e),this.mixer=f6}return On(e,[{key:"calculator",value:function(n,r,i,a,s){if(qs(i))return i;if(fs.isRelativeUnit(i.unit)){if(i.unit===cr.kPercentage)return 0;if(i.unit===cr.kEms){if(a.parentNode){var o=WV(a.parentNode);if(o)return o*=i.value,o}return 0}if(i.unit===cr.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var c=WV(a.ownerDocument.documentElement);if(c)return c*=i.value,c}return 0}}else return i.value}}])}(),mBe=function(){function e(){En(this,e),this.mixer=Bne}return On(e,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),vBe=function(){function e(){En(this,e),this.mixer=Bne}return On(e,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),yBe=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i,a){var s;i instanceof Cg&&(i=null);var o=(s=i)===null||s===void 0?void 0:s.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),bBe=function(){function e(){En(this,e),this.mixer=f6}return On(e,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),_Be=function(){function e(){En(this,e),this.mixer=d6(0,1)}return On(e,[{key:"calculator",value:function(n,r,i){return i.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var s=i.nodeName;if(s===mn.LINE||s===mn.PATH||s===mn.POLYLINE){var o=i.getPoint(a);o&&n.setLocalPosition(o.x,o.y)}}}}])}(),xBe=function(){function e(){En(this,e),this.mixer=d6(0,1)}return On(e,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),wBe=function(){function e(){En(this,e),this.parser=Fne,this.mixer=Yze}return On(e,[{key:"calculator",value:function(n,r,i){return i instanceof Cg&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new r2(0,0,0,0)}:i}}])}(),SBe=On(function e(){En(this,e),this.mixer=Zze}),CBe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.mixer=d6(0,1/0),n}return qr(t,e),On(t)}(b5),EBe=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof Cg?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])}(),OBe=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i,a){var s=a.getAttribute("text");if(s){var o=s;i.value==="capitalize"?o=s.charAt(0).toUpperCase()+s.slice(1):i.value==="lowercase"?o=s.toLowerCase():i.value==="uppercase"&&(o=s.toUpperCase()),a.parsedStyle.text=o}return i.value}}])}(),tL=new WeakMap;function TBe(e,t,n){if(e){var r=typeof e=="string"?document.getElementById(e):e;tL.has(r)&&tL.get(r).destroy(n),tL.set(r,t)}}var p6=typeof window<"u"&&typeof window.document<"u";function MBe(e){return!!e.getAttribute}function ABe(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;Wne(e[i],t)<0?n=i+1:r=i}return n}function Wne(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var i=e.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(e)-a.indexOf(t)}}return n-r}function qne(e){var t=e;do{var n,r=(n=t.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}var qV="px";function IBe(e,t,n){p6&&e.style&&(e.style.width=t+qV,e.style.height=n+qV)}function Kne(e,t){if(p6)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function PBe(e){var t=Kne(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function RBe(e){var t=Kne(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var $Be=1,kBe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},_5=typeof performance=="object"&&performance.now?performance:Date;function II(e){return e.nodeName===mn.FRAGMENT?!0:e.getRootNode().nodeName===mn.FRAGMENT}function zx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!t&&!t.isNone,s=!!n&&!n.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(r=a,i=s):e==="visiblefill"||e==="fill"?r=!0:e==="visiblestroke"||e==="stroke"?i=!0:(e==="visible"||e==="all")&&(r=!0,i=!0),[r,i]}var LBe=1,NBe=function(){return LBe++},Zv=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},DBe=Date.now(),zBe=function(){return Zv.performance&&typeof Zv.performance.now=="function"?Zv.performance.now():Date.now()-DBe},RC={},KV=Date.now(),BBe=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var n=Date.now(),r=n-KV,i=r>16?0:16-r,a=NBe();return RC[a]=t,Object.keys(RC).length>1||setTimeout(function(){KV=n;var s=RC;RC={},Object.keys(s).forEach(function(o){return s[o](zBe())})},i),a},jBe=function(t){delete RC[t]},FBe=["","webkit","moz","ms","o"],Yne=function(t){return typeof t!="string"?BBe:t===""?Zv.requestAnimationFrame:Zv["".concat(t,"RequestAnimationFrame")]},HBe=function(t){return typeof t!="string"?jBe:t===""?Zv.cancelAnimationFrame:Zv["".concat(t,"CancelAnimationFrame")]||Zv["".concat(t,"CancelRequestAnimationFrame")]},VBe=function(t,n){for(var r=0;t[r]!==void 0;){if(n(t[r]))return t[r];r+=1}},Xne=VBe(FBe,function(e){return!!Yne(e)}),g6=Yne(Xne),Zne=HBe(Xne);Zv.requestAnimationFrame=g6;Zv.cancelAnimationFrame=Zne;var UBe=function(){function e(){En(this,e),this.callbacks=[]}return On(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])}(),GBe=function(){function e(){En(this,e),this.callbacks=[]}return On(e,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){var t=Cd(Vo().mark(function r(){var i,a,s,o,l=arguments;return Vo().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.callbacks.length){u.next=14;break}return u.next=3,(i=this.callbacks)[0].apply(i,l);case 3:a=u.sent,s=0;case 5:if(!(s<this.callbacks.length-1)){u.next=13;break}return o=this.callbacks[s],u.next=9,o(a);case 9:a=u.sent;case 10:s++,u.next=5;break;case 13:return u.abrupt("return",a);case 14:return u.abrupt("return",null);case 15:case"end":return u.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),yd=function(){function e(){En(this,e),this.callbacks=[]}return On(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(s){s.apply(void 0,a)})}}])}(),nL=function(){function e(){En(this,e),this.callbacks=[]}return On(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,s=this.callbacks[0].apply(void 0,a),o=0;o<this.callbacks.length-1;o++){var l=this.callbacks[o];s=l(s)}return s}return null}}])}(),WBe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],qBe=/([\"\'])[^\'\"]+\1/;function KBe(e){for(var t=e.fontSize,n=t===void 0?16:t,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontStyle,s=a===void 0?"normal":a,o=e.fontVariant,l=o===void 0?"normal":o,c=e.fontWeight,u=c===void 0?"normal":c,d=qs(n)&&"".concat(n,"px")||"16px",h=i.split(","),g=h.length-1;g>=0;g--){var v=h[g].trim();!qBe.test(v)&&WBe.indexOf(v)<0&&(v='"'.concat(v,'"')),h[g]=v}return"".concat(s," ").concat(l," ").concat(u," ").concat(d," ").concat(h.join(","))}function rL(e,t,n){return _1(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var oc=es(),YBe=es(),XBe={scale:function(t){Jb(oc,[t[0].value,t[1].value,1])},scaleX:function(t){Jb(oc,[t[0].value,1,1])},scaleY:function(t){Jb(oc,[1,t[0].value,1])},scaleZ:function(t){Jb(oc,[1,1,t[0].value])},scale3d:function(t){Jb(oc,[t[0].value,t[1].value,t[2].value])},translate:function(t){Ey(oc,[t[0].value,t[1].value,0])},translateX:function(t){Ey(oc,[t[0].value,0,0])},translateY:function(t){Ey(oc,[0,t[0].value,0])},translateZ:function(t){Ey(oc,[0,0,t[0].value])},translate3d:function(t){Ey(oc,[t[0].value,t[1].value,t[2].value])},rotate:function(t){UD(oc,ds(oh(t[0])))},rotateX:function(t){cee(oc,ds(oh(t[0])))},rotateY:function(t){uee(oc,ds(oh(t[0])))},rotateZ:function(t){UD(oc,ds(oh(t[0])))},rotate3d:function(t){lee(oc,ds(oh(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){rL(oc,ds(t[0].value),ds(t[1].value))},skewX:function(t){rL(oc,ds(t[0].value),0)},skewY:function(t){rL(oc,0,ds(t[0].value))},matrix:function(t){VD(oc,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){VD.apply(sLe,[oc].concat(_n(t.map(function(n){return n.value}))))}},ZBe=vo(1,1,1),QBe=Ca(),YV={translate:function(t,n){Qn.sceneGraphService.setLocalScale(t,ZBe,!1),Qn.sceneGraphService.setLocalEulerAngles(t,QBe,void 0,void 0,!1),Qn.sceneGraphService.setLocalPosition(t,[n[0].value,n[1].value,0],!1),Qn.sceneGraphService.dirtifyLocal(t,t.transformable)}};function Qne(e,t){if(e.length){if(e.length===1&&YV[e[0].t]){YV[e[0].t](t,e[0].d);return}for(var n=_1(YBe),r=0;r<e.length;r++){var i=e[r],a=i.t,s=i.d,o=XBe[a];o&&(o(s),kB(n,n,oc))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var JBe=function(){function e(){En(this,e),this.parser=Qze,this.mixer=sBe}return On(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof Cg?[]:i}},{key:"postProcessor",value:function(n){Qne(n.parsedStyle.transform,n)}}])}(),e6e=function(){function e(){En(this,e)}return On(e,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===cr.kPixels&&r[1].unit===cr.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])}(),t6e=function(){function e(){En(this,e)}return On(e,[{key:"calculator",value:function(n,r,i,a){return i.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,i=r.renderable,a=r.sortable;i&&(i.dirty=!0),a&&(a.dirty=!0,a.dirtyReason=EI.Z_INDEX_CHANGED)}}}])}(),n6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.r,c=l===void 0?0:l;return{cx:a,cy:o,hwidth:c,hheight:c}}}])}(),r6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,s=n.cy,o=s===void 0?0:s,l=n.rx,c=l===void 0?0:l,u=n.ry,d=u===void 0?0:u;return{cx:a,cy:o,hwidth:c,hheight:d}}}])}(),i6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n){var r=n.x1,i=n.y1,a=n.x2,s=n.y2,o=Math.min(r,a),l=Math.max(r,a),c=Math.min(i,s),u=Math.max(i,s),d=l-o,h=u-c,g=d/2,v=h/2;return{cx:o+g,cy:c+v,hwidth:g,hheight:v}}}])}(),a6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n){var r=n.d,i=r.rect,a=i.x,s=i.y,o=i.width,l=i.height,c=o/2,u=l/2;return{cx:a+c,cy:s+u,hwidth:c,hheight:u}}}])}(),o6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n){if(n.points&&Qc(n.points.points)){var r=n.points.points,i=Math.min.apply(Math,_n(r.map(function(h){return h[0]}))),a=Math.max.apply(Math,_n(r.map(function(h){return h[0]}))),s=Math.min.apply(Math,_n(r.map(function(h){return h[1]}))),o=Math.max.apply(Math,_n(r.map(function(h){return h[1]}))),l=a-i,c=o-s,u=l/2,d=c/2;return{cx:i+u,cy:s+d,hwidth:u,hheight:d}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),s6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,s=n.y,o=s===void 0?0:s,l=n.src,c=n.width,u=c===void 0?0:c,d=n.height,h=d===void 0?0:d,g=u,v=h;return l&&!el(l)&&(g||(g=l.width,n.width=g),v||(v=l.height,n.height=v)),{cx:a+g/2,cy:o+v/2,hwidth:g/2,hheight:v/2}}}])}(),l6e=function(){function e(t){En(this,e),this.globalRuntime=t}return On(e,[{key:"isReadyToMeasure",value:function(n,r){var i=n.text;return i}},{key:"update",value:function(n,r){var i,a=n.text,s=n.textAlign,o=s===void 0?"start":s,l=n.lineWidth,c=l===void 0?1:l,u=n.textBaseline,d=u===void 0?"alphabetic":u,h=n.dx,g=h===void 0?0:h,v=n.dy,x=v===void 0?0:v,w=n.x,C=w===void 0?0:w,E=n.y,M=E===void 0?0:E;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var R=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},L=R.offscreenCanvas,N=this.globalRuntime.textService.measureText(a,n,L);n.metrics=N;var D=N.width,H=N.height,U=D/2,q=H/2,K=C+U;o==="center"||o==="middle"?K+=c/2-U:(o==="right"||o==="end")&&(K+=c-U*2);var Q=M-q;return d==="middle"?Q+=q:d==="top"||d==="hanging"?Q+=q*2:d==="alphabetic"||(d==="bottom"||d==="ideographic")&&(Q+=0),g&&(K+=g),x&&(Q+=x),{cx:K,cy:Q,hwidth:U,hheight:q}}}])}(),c6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),u6e=function(){function e(){En(this,e)}return On(e,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,s=n.y,o=s===void 0?0:s,l=n.width,c=l===void 0?0:l,u=n.height,d=u===void 0?0:u;return{cx:a+c/2,cy:o+d/2,hwidth:c/2,hheight:d/2}}}])}(),p$=function(){function e(t){En(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ku,this.page=new Ku,this.canvas=new Ku,this.viewport=new Ku,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return On(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(us)}}])}(),Jne=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.client=new Ku,n.movement=new Ku,n.offset=new Ku,n.global=new Ku,n.screen=new Ku,n}return qr(t,e),On(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(us)}}])}(p$),x5=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.width=0,n.height=0,n.isPrimary=!1,n}return qr(t,e),On(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Jne),w5=function(e){function t(){return En(this,t),ea(this,t,arguments)}return qr(t,e),On(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Jne),hs=function(e){function t(n,r){var i;return En(this,t),i=ea(this,t,[null]),i.type=n,i.detail=r,Object.assign(i,r),i}return qr(t,e),On(t)}(p$),XV=new WeakMap,ere=function(){function e(){En(this,e),this.emitter=new _ne}return On(e,[{key:"on",value:function(n,r,i){return this.addEventListener(n,r,i),this}},{key:"addEventListener",value:function(n,r,i){var a=!1,s=!1;if(DH(i))a=i;else if(i){var o=i.capture;a=o===void 0?!1:o;var l=i.once;s=l===void 0?!1:l}a&&(n+="capture"),r=Yc(r)?r:r.handleEvent;var c=Yc(r)?void 0:r;return s?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,i){return n?this.removeEventListener(n,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,i){var a;if(!this.emitter)return this;var s=DH(i)?i:i?.capture;s&&(n+="capture"),r=Yc(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var o=Yc(r)?void 0:r;return this.emitter.off(n,r,o),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new hs(n,r))}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=XV.get(this);if(!i){var a;this.document?i=this:this.defaultView?i=this.defaultView:i=(a=this.ownerDocument)===null||a===void 0?void 0:a.defaultView,i&&XV.set(this,i)}if(i){if(n.manager=i.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.emitter.emit(n.type,n);return!n.defaultPrevented}}])}(),gl=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n}return qr(t,e),On(t,[{key:"textContent",get:function(){var r="";this.nodeName===mn.TEXT&&(r+=this.style.text);var i=U_(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;s.nodeName===mn.TEXT?r+=s.nodeValue:r+=s.textContent}}catch(o){i.e(o)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===mn.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(us)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(us)}},{key:"lookupPrefix",value:function(r){throw new Error(us)}},{key:"normalize",value:function(){throw new Error(us)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,s=[i],o=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(s.push(i.parentNode),i.parentNode):i,a=a.parentNode?(o.push(a.parentNode),a.parentNode):a}if(i!==a)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var c=s.length>o.length?s:o,u=c===s?o:s;if(c[c.length-u.length]===u[0])return c===s?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var d=c.length-u.length,h=u.length-1;h>=0;h--){var g=u[h],v=c[d+h];if(v!==g){var x=g.parentNode.childNodes;return x.indexOf(g)<x.indexOf(v)?u===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:c===s?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),s=r(a);if(s===!1)break;for(var o=a.childNodes.length-1;o>=0;o--)i.push(a.childNodes[o])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(ere);gl.DOCUMENT_POSITION_DISCONNECTED=1;gl.DOCUMENT_POSITION_PRECEDING=2;gl.DOCUMENT_POSITION_FOLLOWING=4;gl.DOCUMENT_POSITION_CONTAINS=8;gl.DOCUMENT_POSITION_CONTAINED_BY=16;gl.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var f6e=2048,d6e=function(){function e(t,n){var r=this;En(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=es(),this.tmpVec3=Ca(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;r.dispatchEvent(a,s?"rightdown":"mousedown")}var o=r.trackingData(i.pointerId);o.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=_5.now(),s=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(s,"pointerup"),s.pointerType==="touch")r.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;r.dispatchEvent(s,o?"rightup":"mouseup")}var l=r.trackingData(i.pointerId),c=r.findMountedTarget(l.pressTargetsByButton[i.button]),u=c;if(c&&!s.composedPath().includes(c)){for(var d=c;d&&!s.composedPath().includes(d);){if(s.currentTarget=d,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")r.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;r.notifyTarget(s,h?"rightupoutside":"mouseupoutside")}gl.isNode(d)&&(d=d.parentNode)}delete l.pressTargetsByButton[i.button],u=d}if(u){var g,v=r.clonePointerEvent(s,"click");v.target=u,v.path=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:v.target,timeStamp:a});var x=r.context.renderingContext.root.ownerDocument.defaultView,w=l.clicksByButton[i.button];w.target===v.target&&a-w.timeStamp<x.getConfig().dblClickSpeed?++w.clickCount:w.clickCount=1,w.target=v.target,w.timeStamp=a,v.detail=w.clickCount,(g=s.detail)!==null&&g!==void 0&&g.preventClick||(!r.context.config.useNativeClickEvent&&(v.pointerType==="mouse"||v.pointerType==="touch")&&r.dispatchEvent(v,"click"),r.dispatchEvent(v,"pointertap")),r.freeEvent(v)}r.freeEvent(s)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),s=a.pointerType==="mouse"||a.pointerType==="pen",o=r.trackingData(i.pointerId),l=r.findMountedTarget(o.overTargets);if(o.overTargets&&l!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",u=r.createPointerEvent(i,c,l||void 0);if(r.dispatchEvent(u,"pointerout"),s&&r.dispatchEvent(u,"mouseout"),!a.composedPath().includes(l)){var d=r.createPointerEvent(i,"pointerleave",l||void 0);for(d.eventPhase=d.AT_TARGET;d.target&&!a.composedPath().includes(d.target);)d.currentTarget=d.target,r.notifyTarget(d),s&&r.notifyTarget(d,"mouseleave"),gl.isNode(d.target)&&(d.target=d.target.parentNode);r.freeEvent(d)}r.freeEvent(u)}if(l!==a.target){var h=i.type==="mousemove"?"mouseover":"pointerover",g=r.clonePointerEvent(a,h);r.dispatchEvent(g,"pointerover"),s&&r.dispatchEvent(g,"mouseover");for(var v=l&&gl.isNode(l)&&l.parentNode;v&&v!==(gl.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&v!==a.target;)v=v.parentNode;var x=!v||v===(gl.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(x){var w=r.clonePointerEvent(a,"pointerenter");for(w.eventPhase=w.AT_TARGET;w.target&&w.target!==l&&w.target!==(gl.isNode(r.rootTarget)&&r.rootTarget.parentNode);)w.currentTarget=w.target,r.notifyTarget(w),s&&r.notifyTarget(w,"mouseenter"),gl.isNode(w.target)&&(w.target=w.target.parentNode);r.freeEvent(w)}r.freeEvent(g)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),s&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),o.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var s=i.pointerType==="mouse"||i.pointerType==="pen",o=r.findMountedTarget(a.overTargets),l=r.createPointerEvent(i,"pointerout",o||void 0);r.dispatchEvent(l),s&&r.dispatchEvent(l,"mouseout");var c=r.createPointerEvent(i,"pointerleave",o||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(gl.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),s&&r.notifyTarget(c,"mouseleave"),gl.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(l),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),s=r.createPointerEvent(i),o=s.pointerType==="mouse"||s.pointerType==="pen";r.dispatchEvent(s,"pointerover"),o&&r.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(r.cursor=r.getCursor(s.target));var l=r.clonePointerEvent(s,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(gl.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),o&&r.notifyTarget(l,"mouseenter"),gl.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=s.composedPath(),r.freeEvent(s),r.freeEvent(l)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),s=r.findMountedTarget(a.pressTargetsByButton[i.button]),o=r.createPointerEvent(i);if(s){for(var l=s;l;)o.currentTarget=l,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"||(o.pointerType==="mouse"||o.pointerType==="pen")&&r.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),gl.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(o)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=t,this.context=n}return On(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&n){var s=a.offsetWidth,o=a.offsetHeight;s&&o&&(r=n.width/s,i=n.height/o)}return{scaleX:r,scaleY:i,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,s=r.bbox;return new Ku((n.x-(s?.left||0))/i,(n.y-(s?.top||0))/a)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,s=r.bbox;return new Ku((n.x+(s?.left||0))*i,(n.y+(s?.top||0))*a)}},{key:"viewport2Canvas",value:function(n){var r=n.x,i=n.y,a=this.rootTarget.defaultView,s=a.getCamera(),o=this.context.config,l=o.width,c=o.height,u=s.getPerspectiveInverse(),d=s.getWorldTransform(),h=Nf(this.tmpMatrix,d,u),g=kf(this.tmpVec3,r/l*2-1,(1-i/c)*2-1,0);return Pl(g,g,h),new Ku(g[0],g[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),s=i.getViewTransform(),o=Nf(this.tmpMatrix,a,s),l=kf(this.tmpVec3,n.x,n.y,0);Pl(this.tmpVec3,this.tmpVec3,o);var c=this.context.config,u=c.width,d=c.height;return new Ku((l[0]+1)/2*u,(1-(l[1]+1)/2)*d)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,i){if(!i)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var a=this.rootTarget.defaultView||null;n.currentTarget=a,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var i=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(n.currentTarget=i[a],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var s=i.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var o=s+1;o<i.length;o++)if(n.currentTarget=i[o],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],i=this.rootTarget.defaultView||null;if(i&&i===n)return r.unshift(i.document),r;for(var a=0;a<f6e&&n!==this.rootTarget;a++)gl.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(n){var r=n.viewportX,i=n.viewportY,a=this.context.config,s=a.width,o=a.height,l=a.disableHitTesting;return r<0||i<0||r>s||i>o?null:!l&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var i,a=r?.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===n)return!0;if(n&&n.contains)return n.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,i=n.nativeEvent.composedPath();r<i.length;r++){var a=i[r],s=this.nativeHTMLMap.get(a);if(s)return s}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,i,a){var s=this.allocateEvent(x5);this.copyPointerData(n,s),this.copyMouseData(n,s),this.copyData(n,s),s.nativeEvent=n.nativeEvent,s.originalEvent=n;var o=this.getExistedHTML(s),l=this.context.contextService.getDomElement();return s.target=i??(o||this.isNativeEventFromCanvas(l,s.nativeEvent)&&this.pickTarget(s)||a),typeof r=="string"&&(s.type=r),s}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(w5);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(w5);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var i=this.allocateEvent(x5);return i.nativeEvent=n.nativeEvent,i.originalEvent=n.originalEvent,this.copyPointerData(n,i),this.copyMouseData(n,i),this.copyData(n,i),i.target=n.target,i.path=n.composedPath().slice(),i.type=r??i.type,i}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=_5.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r??n.type;var i=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,i),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var i=n.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(n.currentTarget||a.context,n);else for(var s=0;s<a.length&&!n.propagationImmediatelyStopped;s++)a[s].once&&i.removeListener(r,a[s].fn,void 0,!0),a[s].fn.call(n.currentTarget||a[s].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],i=n.length-2;i>=0;i--){var a=n[i];if(a===this.rootTarget||gl.isNode(a)&&a.parentNode===r)r=n[i];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var i=MBe(r)&&r.getAttribute("cursor");if(i)return i;r=gl.isNode(r)&&r.parentNode}}}])}(),m6=function(){function e(){En(this,e)}return On(e,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||Qn.offscreenCanvas)this.canvas=n||Qn.offscreenCanvas,this.context=this.canvas.getContext("2d",Pe({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Pe({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Pe({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),_S=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),h6e=function(){function e(t,n){En(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new yd,initAsync:new UBe,dirtycheck:new nL,cull:new nL,beginFrame:new yd,beforeRender:new yd,render:new yd,afterRender:new yd,endFrame:new yd,destroy:new yd,pick:new GBe,pickSync:new nL,pointerDown:new yd,pointerUp:new yd,pointerMove:new yd,pointerOut:new yd,pointerOver:new yd,pointerWheel:new yd,pointerCancel:new yd,click:new yd},this.globalRuntime=t,this.context=n}return On(e,[{key:"init",value:function(n){var r=this,i=Pe(Pe({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(_S.CAMERA_CHANGED)}},{key:"render",value:function(n,r,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var s=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=s.renderReasons.size===1&&s.renderReasons.has(_S.CAMERA_CHANGED),l=!n.disableRenderHooks||!(n.disableRenderHooks&&o);l&&this.renderDisplayObject(s.root,n,s),this.hooks.beginFrame.call(r),l&&s.renderListCurrentFrame.forEach(function(c){a.hooks.beforeRender.call(c),a.hooks.render.call(c),a.hooks.afterRender.call(c)}),this.hooks.endFrame.call(r),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(n,r,i){var a=this,s=r.renderer.getConfig(),o=s.enableDirtyCheck,l=s.enableCulling;function c(v){var x=v.renderable,w=v.sortable,C=o?x.dirty||i.dirtyRectangleRenderingDisabled?v:null:v;if(C){var E=l?a.hooks.cull.call(C,a.context.camera):C;E&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(E))}x.dirty=!1,w.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,w.dirty&&(a.sort(v,w),w.dirty=!1,w.dirtyChildren=[],w.dirtyReason=void 0)}for(var u=[n];u.length>0;){var d=u.pop();c(d);for(var h=d.sortable.sorted||d.childNodes,g=h.length-1;g>=0;g--)u.push(h[g])}}},{key:"sort",value:function(n,r){r.sorted&&r.dirtyReason!==EI.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(i){var a=n.childNodes.indexOf(i);if(a===-1){var s=r.sorted.indexOf(i);s>=0&&r.sorted.splice(s,1)}else if(r.sorted.length===0)r.sorted.push(i);else{var o=ABe(r.sorted,i);r.sorted.splice(o,0,i)}}):r.sorted=n.childNodes.slice().sort(Wne)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(_S.DISPLAY_OBJECT_CHANGED)}}])}(),p6e=/\[\s*(.*)=(.*)\s*\]/,g6e=function(){function e(){En(this,e)}return On(e,[{key:"selectOne",value:function(n,r){var i=this;if(n.startsWith("."))return r.find(function(l){return(l?.classList||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(l){return l.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),s=a.name,o=a.value;return s?r.find(function(l){return r!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):null}return r.find(function(l){return r!==l&&l.nodeName===n})}},{key:"selectAll",value:function(n,r){var i=this;if(n.startsWith("."))return r.findAll(function(l){return r!==l&&(l?.classList||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),s=a.name,o=a.value;return s?r.findAll(function(l){return r!==l&&(s==="name"?l.name===o:i.attributeToString(l,s)===o)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var i=this.getAttribute(n),a=i.name,s=i.value;return a==="name"?r.name===s:this.attributeToString(r,a)===s}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(p6e),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var i=n.getAttribute(r);return ri(i)?"":i.toString?i.toString():""}}])}(),ia=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),c0=function(e){function t(n,r,i,a,s,o,l,c){var u;return En(this,t),u=ea(this,t,[null]),u.relatedNode=r,u.prevValue=i,u.newValue=a,u.attrName=s,u.attrChange=o,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return qr(t,e),On(t)}(p$);c0.ADDITION=2;c0.MODIFICATION=1;c0.REMOVAL=3;function ZV(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}var m6e=new c0(ia.REPARENT,null,"","","",0,"",""),v6e=LB(),JT=Ca(),y6e=vo(1,1,1),b6e=es(),_6e=LB(),Vb=Ca(),Aw=es(),Ub=qc(),x6e=Ca(),w6e=qc(),S6e=Ca(),yC=Ca(),L_=Ca(),eM=es(),QV=qc(),JV=qc(),tM=qc(),iL={affectChildren:!0},C6e=function(){function e(t){En(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new hs(ia.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return On(e,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,i){var a,s=!1;n.parentNode&&(s=n.parentNode!==r,this.detach(n));var o=n.nodeName===mn.FRAGMENT,l=II(r);n.parentNode=r;var c=o?n.childNodes:[n];qs(i)?c.forEach(function(g){r.childNodes.splice(i,0,g),g.parentNode=r}):c.forEach(function(g){r.childNodes.push(g),g.parentNode=r});var u=r,d=u.sortable;if((d!=null&&(a=d.sorted)!==null&&a!==void 0&&a.length||n.parsedStyle.zIndex)&&(d.dirtyChildren.indexOf(n)===-1&&d.dirtyChildren.push(n),d.dirty=!0,d.dirtyReason=EI.ADDED),!l){if(o)this.dirtifyFragment(n);else{var h=n.transformable;h&&this.dirtifyWorld(n,h)}s&&n.dispatchEvent(m6e)}}},{key:"detach",value:function(n){if(n.parentNode){var r,i,a=n.transformable,s=n.parentNode,o=s.sortable;(o!=null&&(r=o.sorted)!==null&&r!==void 0&&r.length||(i=n.style)!==null&&i!==void 0&&i.zIndex)&&(o.dirtyChildren.indexOf(n)===-1&&o.dirtyChildren.push(n),o.dirty=!0,o.dirtyReason=EI.REMOVED);var l=n.parentNode.childNodes.indexOf(n);l>-1&&n.parentNode.childNodes.splice(l,1),a&&this.dirtifyWorld(n,a),n.parentNode=null}}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"setOrigin",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var s=n.transformable;if(!(r[0]===s.origin[0]&&r[1]===s.origin[1]&&r[2]===s.origin[2])){var o=s.origin;o[0]=r[0],o[1]=r[1],o[2]=r[2]||0,this.dirtifyLocal(n,s)}}},{key:"rotate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vo(r,i,a));var s=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var o=Ub;VT(o,r[0],r[1],r[2]);var l=this.getRotation(n),c=this.getRotation(n.parentNode);UT(tM,c),$3(tM,tM),d1(o,tM,o),d1(s.localRotation,o,l),hI(s.localRotation,s.localRotation),this.dirtifyLocal(n,s)}}},{key:"rotateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vo(r,i,a));var s=n.transformable;VT(JV,r[0],r[1],r[2]),FH(s.localRotation,s.localRotation,JV),this.dirtifyLocal(n,s)}},{key:"setEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vo(r,i,a));var s=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{VT(s.localRotation,r[0],r[1],r[2]);var o=this.getRotation(n.parentNode);UT(QV,$3(Ub,o)),FH(s.localRotation,s.localRotation,QV),this.dirtifyLocal(n,s)}}},{key:"setLocalEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=vo(r,i,a));var o=n.transformable;VT(o.localRotation,r[0],r[1],r[2]),s&&this.dirtifyLocal(n,o)}},{key:"translateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vo(r,i,a));var s=n.transformable;hC(r,JT)||(dLe(r,r,s.localRotation),f1(s.localPosition,s.localPosition,r),this.dirtifyLocal(n,s))}},{key:"setPosition",value:function(n,r){var i,a=n.transformable;if(L_[0]=r[0],L_[1]=r[1],L_[2]=(i=r[2])!==null&&i!==void 0?i:0,!hC(this.getPosition(n),L_)){if(Bv(a.position,L_),n.parentNode===null||!n.parentNode.transformable)Bv(a.localPosition,L_);else{var s=n.parentNode.transformable;KS(eM,s.worldTransform),Sm(eM,eM),Pl(a.localPosition,L_,eM)}this.dirtifyLocal(n,a)}}},{key:"setLocalPosition",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=n.transformable;yC[0]=r[0],yC[1]=r[1],yC[2]=(i=r[2])!==null&&i!==void 0?i:0,!hC(s.localPosition,yC)&&(Bv(s.localPosition,yC),a&&this.dirtifyLocal(n,s))}},{key:"scaleLocal",value:function(n,r){var i,a=n.transformable;lLe(a.localScale,a.localScale,kf(Vb,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtifyLocal(n,a)}},{key:"setLocalScale",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=n.transformable;kf(Vb,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:s.localScale[2]),!hC(Vb,s.localScale)&&(Bv(s.localScale,Vb),a&&this.dirtifyLocal(n,s))}},{key:"translate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=kf(Vb,r,i,a)),!hC(r,JT)&&(f1(Vb,this.getPosition(n),r),this.setPosition(n,Vb))}},{key:"setRotation",value:function(n,r,i,a,s){var o=n.transformable;if(typeof r=="number"&&(r=yLe(r,i,a,s)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var l=this.getRotation(n.parentNode);UT(Ub,l),$3(Ub,Ub),d1(o.localRotation,Ub,r),hI(o.localRotation,o.localRotation),this.dirtifyLocal(n,o)}}},{key:"setLocalRotation",value:function(n,r,i,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=jH(Ub,r,i,a,s));var l=n.transformable;UT(l.localRotation,r),o&&this.dirtifyLocal(n,l)}},{key:"setLocalSkew",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=_Le(_6e,r,i));var s=n.transformable;bLe(s.localSkew,r),a&&this.dirtifyLocal(n,s)}},{key:"dirtifyLocal",value:function(n,r){II(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtifyWorld(n,r))}},{key:"dirtifyWorld",value:function(n,r){r.dirtyFlag||this.unfreezeParentToRoot(n),this.dirtifyWorldInternal(n,r),this.dirtifyToRoot(n,!0)}},{key:"dirtifyFragment",value:function(n){var r=n.transformable;r&&(r.frozen=!1,r.dirtyFlag=!0,r.localDirtyFlag=!0);var i=n.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var a=n.childNodes.length,s=0;s<a;s++)this.dirtifyFragment(n.childNodes[s]);n.nodeName===mn.FRAGMENT&&this.pendingEvents.set(n,!1)}},{key:"triggerPendingEvents",value:function(){var n=this,r=new Set,i=function(s,o){!s.isConnected||r.has(s)||s.nodeName===mn.FRAGMENT||(n.boundsChangedEvent.detail=o,n.boundsChangedEvent.target=s,s.isMutationObserved?s.dispatchEvent(n.boundsChangedEvent):s.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0),r.add(s))};this.pendingEvents.forEach(function(a,s){s.nodeName!==mn.FRAGMENT&&(iL.affectChildren=a,a?s.forEach(function(o){i(o,iL)}):i(s,iL))}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n;for(i.renderable&&(i.renderable.dirty=!0);i;)ZV(i),i=i.parentNode;r&&n.forEach(function(a){ZV(a)}),this.informDependentDisplayObjects(n),this.pendingEvents.set(n,r)}},{key:"updateDisplayObjectDependency",value:function(n,r,i,a){if(r&&r!==i){var s=this.displayObjectDependencyMap.get(r);if(s&&s[n]){var o=s[n].indexOf(a);s[n].splice(o,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[n]||(l[n]=[]),l[n].push(a)}}},{key:"informDependentDisplayObjects",value:function(n){var r=this,i=this.displayObjectDependencyMap.get(n);i&&Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.dirtifyToRoot(s,!0),s.dispatchEvent(new c0(ia.ATTR_MODIFIED,s,r,r,a,c0.MODIFICATION,r,r)),s.isCustomElement&&s.isConnected&&s.attributeChangedCallback&&s.attributeChangedCallback(a,r,r)})})}},{key:"getPosition",value:function(n){var r=n.transformable;return uI(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return fI(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return YS(r.scaling,this.getWorldTransform(n,r))}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.sync(n,r)),r.worldTransform}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"calcLocalTransform",value:function(n){var r=n.localSkew[0]!==0||n.localSkew[1]!==0;if(r){lE(n.localTransform,n.localRotation,n.localPosition,vo(1,1,1),n.origin),(n.localSkew[0]!==0||n.localSkew[1]!==0)&&(_1(Aw),Aw[4]=Math.tan(n.localSkew[0]),Aw[1]=Math.tan(n.localSkew[1]),Nf(n.localTransform,n.localTransform,Aw));var i=lE(Aw,jH(Ub,0,0,0,1),kf(Vb,1,1,1),n.localScale,n.origin);Nf(n.localTransform,n.localTransform,i)}else{var a=n.localTransform,s=n.localPosition,o=n.localRotation,l=n.localScale,c=n.origin,u=s[0]!==0||s[1]!==0||s[2]!==0,d=o[3]!==1||o[0]!==0||o[1]!==0||o[2]!==0,h=l[0]!==1||l[1]!==1||l[2]!==1,g=c[0]!==0||c[1]!==0||c[2]!==0;!d&&!h&&!g?u?Ey(a,s):_1(a):lE(a,o,s,l,c)}}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.localTransform}},{key:"setLocalTransform",value:function(n,r){var i=uI(x6e,r),a=fI(w6e,r),s=YS(S6e,r);this.setLocalScale(n,s,!1),this.setLocalPosition(n,i,!1),this.setLocalRotation(n,a,void 0,void 0,void 0,!1),this.dirtifyLocal(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,y6e,!1),this.setLocalPosition(n,JT,!1),this.setLocalEulerAngles(n,JT,void 0,void 0,!1),this.setLocalSkew(n,v6e,void 0,!1),this.dirtifyLocal(n,n.transformable)}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(n,r);if(!lc.isEmpty(a)){var s=i||new lc;return s.setFromTransformedAABB(a,this.getWorldTransform(n)),s}return null}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,a=i.geometry;a.dirty&&Qn.styleValueRegistry.updateGeometry(n);var s=r?a.renderBounds:a.contentBounds||null;return s||new lc}},{key:"getBounds",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,s=a.renderable;if(!s.boundsDirty&&!i&&s.bounds)return s.bounds;if(!s.renderBoundsDirty&&i&&s.renderBounds)return s.renderBounds;var o=i?s.renderBounds:s.bounds,l=this.getTransformedGeometryBounds(n,i,o),c=n.childNodes;if(c.forEach(function(h){var g=r.getBounds(h,i);g&&(l?l.add(g):(l=o||new lc,l.update(g.center,g.halfExtents)))}),l||(l=new lc),i){var u=qne(n);if(u){var d=u.parsedStyle.clipPath.getBounds(i);l?d&&(l=d.intersection(l)):l.update(d.center,d.halfExtents)}}return i?(s.renderBounds=l,s.renderBoundsDirty=!1):(s.bounds=l,s.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=b6e;n.parentNode.transformable&&(r=Sm(Aw,this.getWorldTransform(n.parentNode)));var i=this.getBounds(n);if(!lc.isEmpty(i)){var a=new lc;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,i,a=this.getGeometryBounds(n);lc.isEmpty(a)||(i=new lc,i.setFromTransformedAABB(a,this.getWorldTransform(n)));var s=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var o=i.getMin(),l=mt(o,2),c=l[0],u=l[1],d=i.getMax(),h=mt(d,2),g=h[0],v=h[1];return new r2(c+(s?.left||0),u+(s?.top||0),g-c,v-u)}return new r2(s?.left||0,s?.top||0,0,0)}},{key:"dirtifyWorldInternal",value:function(n,r){var i=this;if(!r.dirtyFlag){r.dirtyFlag=!0,r.frozen=!1,n.childNodes.forEach(function(o){var l=o.transformable;l.dirtyFlag||i.dirtifyWorldInternal(o,l)});var a=n,s=a.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}}},{key:"syncHierarchy",value:function(n){var r=n.transformable;if(!r.frozen){r.frozen=!0,(r.localDirtyFlag||r.dirtyFlag)&&this.sync(n,r);for(var i=n.childNodes,a=0;a<i.length;a++)this.syncHierarchy(i[a])}}},{key:"sync",value:function(n,r){if(r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.dirtyFlag){var i=n.parentNode,a=i&&i.transformable;i===null||!a?KS(r.worldTransform,r.localTransform):Nf(r.worldTransform,a.worldTransform,r.localTransform),r.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(n){for(var r=n.parentNode;r;){var i=r.transformable;i&&(i.frozen=!1),r=r.parentNode}}}])}(),N_={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},eU=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,E6e=/[!%),.:;?\]}'""]/,O6e=/[$('"]/,T6e=/[!),.:;?\]}'""]/,M6e=/[([{'"]/,A6e=/[)\]'"?!:;,.]/,I6e=/[(['"...]/,P6e=/[!%),.:;?\]}'"]/,R6e=/[$([{'"#]/,$6e=new RegExp("".concat(E6e.source,"|").concat(T6e.source,"|").concat(A6e.source,"|").concat(P6e.source)),k6e=new RegExp("".concat(O6e.source,"|").concat(M6e.source,"|").concat(I6e.source,"|").concat(R6e.source)),L6e=function(){function e(t){var n=this;En(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return n.isBreakingSpace(i)?!1:!!(r&&(k6e.exec(i)||$6e.exec(r)))},this.trimByKinsokuShorui=function(r){var i=_n(r),a=i[i.length-2];if(!a)return r;var s=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=s+i[i.length-1],i},this.runtime=t}return On(e,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),s=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});s.font=n;var o=N_.MetricsString+N_.BaselineSymbol,l=Math.ceil(s.measureText(o).width),c=Math.ceil(s.measureText(N_.BaselineSymbol).width),u=N_.HeightMultiplier*c;c=c*N_.BaselineMultiplier|0,a.width=l,a.height=u,s.fillStyle="#f00",s.fillRect(0,0,l,u),s.font=n,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,c);var d=s.getImageData(0,0,l||1,u||1).data,h=d.length,g=l*4,v=0,x=0,w=!1;for(v=0;v<c;++v){for(var C=0;C<g;C+=4)if(d[x+C]!==255){w=!0;break}if(!w)x+=g;else break}for(i.ascent=c-v,x=h-g,w=!1,v=u;v>c;--v){for(var E=0;E<g;E+=4)if(d[x+E]!==255){w=!0;break}if(!w)x-=g;else break}return i.descent=v-c,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[n]=i,i}},{key:"measureText",value:function(n,r,i){var a=r.fontSize,s=a===void 0?16:a,o=r.wordWrap,l=o===void 0?!1:o,c=r.lineHeight,u=r.lineWidth,d=u===void 0?1:u,h=r.textBaseline,g=h===void 0?"alphabetic":h,v=r.textAlign,x=v===void 0?"start":v,w=r.letterSpacing,C=w===void 0?0:w,E=r.textPath;r.textPathSide,r.textPathStartOffset;var M=r.leading,R=M===void 0?0:M,L=KBe(r),N=this.measureFont(L,i);N.fontSize===0&&(N.fontSize=s,N.ascent=s);var D=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);D.font=L,r.isOverflowing=!1;var H=l?this.wordWrap(n,r,i):n,U=H.split(/(?:\r\n|\r|\n)/),q=new Array(U.length),K=0;if(E){E.getTotalLength();for(var Q=0;Q<U.length;Q++)D.measureText(U[Q]).width+(U[Q].length-1)*C}else{for(var X=0;X<U.length;X++){var te=D.measureText(U[X]).width+(U[X].length-1)*C;q[X]=te,K=Math.max(K,te)}var ee=K+d,Z=c||N.fontSize+d,re=Math.max(Z,N.fontSize+d)+(U.length-1)*(Z+R);Z+=R;var oe=0;return g==="middle"?oe=-re/2:g==="bottom"||g==="alphabetic"||g==="ideographic"?oe=-re:(g==="top"||g==="hanging")&&(oe=0),{font:L,width:ee,height:re,lines:U,lineWidths:q,lineHeight:Z,maxLineWidth:K,fontProperties:N,lineMetrics:q.map(function(ce,le){var pe=0;return x==="center"||x==="middle"?pe-=ce/2:(x==="right"||x==="end")&&(pe-=ce),new r2(pe-d/2,oe+le*Z,ce+d,Z)})}}}},{key:"wordWrap",value:function(n,r,i){var a=this,s=this,o=r.wordWrapWidth,l=o===void 0?0:o,c=r.letterSpacing,u=c===void 0?0:c,d=r.maxLines,h=d===void 0?1/0:d,g=r.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),x=l+u,w="";g==="ellipsis"?w="...":g&&g!=="clip"&&(w=g);var C=Array.from(n),E=[],M=0,R=0,L=0,N={},D=function(oe){return a.getFromCache(oe,u,N,v)},H=D(w);function U(re,oe,ce,le){for(;D(re)<le&&oe<C.length-1&&!s.isNewline(C[oe+1]);)oe+=1,re+=C[oe];for(;D(re)>le&&oe>ce;)oe-=1,re=re.slice(0,-1);return{lineTxt:re,txtLastCharIndex:oe}}function q(re,oe){if(!(H<=0||H>x)){if(!E[re]){E[re]=w;return}var ce=U(E[re],oe,L+1,x-H);E[re]=ce.lineTxt+w}}for(var K=0;K<C.length;K++){var Q=C[K],X=C[K-1],te=C[K+1],ee=D(Q);if(this.isNewline(Q)){if(M+1>=h){r.isOverflowing=!0,K<C.length-1&&q(M,K-1);break}L=K-1,M+=1,R=0,E[M]="";continue}if(R>0&&R+ee>x){var Z=U(E[M],K-1,L+1,x);if(Z.txtLastCharIndex!==K-1){if(E[M]=Z.lineTxt,Z.txtLastCharIndex===C.length-1)break;K=Z.txtLastCharIndex+1,Q=C[K],X=C[K-1],te=C[K+1],ee=D(Q)}if(M+1>=h){r.isOverflowing=!0,q(M,K-1);break}if(L=K-1,M+=1,R=0,E[M]="",this.isBreakingSpace(Q))continue;this.canBreakInLastChar(Q)||(E=this.trimToBreakable(E),R=this.sumTextWidthByCache(E[M]||"",D)),this.shouldBreakByKinsokuShorui(Q,te)&&(E=this.trimByKinsokuShorui(E),R+=D(X||""))}R+=ee,E[M]=(E[M]||"")+Q}return E.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:N_.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:N_.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=_n(n),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var s=i.slice(a,a+1),o=this.isBreakingSpace(s),l=a+1,c=a+(o?0:1);return r[r.length-1]+=i.slice(l,i.length),r[r.length-2]=i.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&eU.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!eU.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,i,a){var s=i[n];if(typeof s!="number"){var o=n.length*r,l=a.measureText(n);s=l.width+o,i[n]=s}return s}}])}(),Qn={},N6e=function(e){var t=new s6e,n=new o6e;return e={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(e,mn.FRAGMENT,null),mn.CIRCLE,new n6e),mn.ELLIPSE,new r6e),mn.RECT,t),mn.IMAGE,t),mn.GROUP,new c6e),mn.LINE,new i6e),mn.TEXT,new l6e(Qn)),mn.POLYLINE,n),mn.POLYGON,n),Te(Te(Te(e,mn.PATH,new a6e),mn.HTML,new u6e),mn.MESH,null)}(),D6e=function(e){var t=new pBe,n=new b5;return e={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(e,ar.PERCENTAGE,null),ar.NUMBER,new bBe),ar.ANGLE,new dBe),ar.DEFINED_PATH,new hBe),ar.PAINT,t),ar.COLOR,t),ar.FILTER,new gBe),ar.LENGTH,n),ar.LENGTH_PERCENTAGE,n),ar.LENGTH_PERCENTAGE_12,new mBe),Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(e,ar.LENGTH_PERCENTAGE_14,new vBe),ar.COORDINATE,new b5),ar.OFFSET_DISTANCE,new _Be),ar.OPACITY_VALUE,new xBe),ar.PATH,new wBe),ar.LIST_OF_POINTS,new SBe),ar.SHADOW_BLUR,new CBe),ar.TEXT,new EBe),ar.TEXT_TRANSFORM,new OBe),ar.TRANSFORM,new JBe),Te(Te(Te(e,ar.TRANSFORM_ORIGIN,new e6e),ar.Z_INDEX,new t6e),ar.MARKER,new yBe)}(),z6e=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Qn.CameraContribution=Tne;Qn.AnimationTimeline=null;Qn.EasingFunction=null;Qn.offscreenCanvasCreator=new m6;Qn.sceneGraphSelector=new g6e;Qn.sceneGraphService=new C6e(Qn);Qn.textService=new L6e(Qn);Qn.geometryUpdaterFactory=N6e;Qn.CSSPropertySyntaxFactory=D6e;Qn.styleValueRegistry=new uBe(Qn);Qn.layoutRegistry=null;Qn.globalThis=z6e();Qn.enableStyleSyntax=!0;Qn.enableSizeAttenuation=!1;var B6e=0,S5=new c0(ia.INSERTED,null,"","","",0,"",""),C5=new c0(ia.REMOVED,null,"","","",0,"",""),tre=new hs(ia.DESTROY),j6e=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.entity=B6e++,n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.cullable={strategy:F4e.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.destroyed=!1,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return qr(t,e),On(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(us)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(I4e);return Qn.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!II(this)&&r.nodeName===mn.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(S5.relatedNode=this,r.dispatchEvent(S5)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i;return C5.relatedNode=this,r.dispatchEvent(C5),(i=r.ownerDocument)!==null&&i!==void 0&&i.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),Qn.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return Qn.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return Qn.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return Qn.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return Qn.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return Qn.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return Qn.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return Qn.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(Qn.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(s){return s!==i&&r(s)?(a=s,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(s){s!==i&&r(s)&&a.push(s)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];s.forEach(function(l,c){var u;return(u=r.parentNode)===null||u===void 0?void 0:u.appendChild(l,i+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s[0],c=s.slice(1);this.parentNode.appendChild(l,i),(r=l).after.apply(r,_n(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o){return r.appendChild(o)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.forEach(function(o,l){return r.appendChild(o,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(tre),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Qn.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Qn.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Qn.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Qn.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Qn.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i,a,s){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(us)}},{key:"getAttributeNode",value:function(r){throw new Error(us)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(us)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(us)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(us)}},{key:"removeAttributeNode",value:function(r){throw new Error(us)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(us)}},{key:"setAttributeNode",value:function(r){throw new Error(us)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(us)}},{key:"toggleAttribute",value:function(r,i){throw new Error(us)}}])}(gl);function co(e){return!!(e!=null&&e.nodeName)}var F6e=Qn.globalThis.Proxy?Qn.globalThis.Proxy:function(){},Mv=new c0(ia.ATTR_MODIFIED,null,null,null,null,c0.MODIFICATION,null,null),bC=Ca(),H6e=qc(),Ls=function(e){function t(n){var r;return En(this,t),r=ea(this,t),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||mn.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),Qn.enableStyleSyntax&&(r.style=new F6e({setProperty:function(a,s){r.setAttribute(a,s)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,s){return a[s]!==void 0?a[s]:r.getAttribute(s)},set:function(a,s,o){return r.setAttribute(s,o),!0}})),r}return qr(t,e),On(t,[{key:"destroy",value:function(){bV(t,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Pe({},this.attributes);for(var s in a){var o=a[s];co(o)&&s!=="clipPath"&&s!=="offsetPath"&&s!=="textPath"&&(a[s]=o.cloneNode(r)),i&&(a[s]=i(s,o))}var l=new this.constructor(Pe(Pe({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var u=c.cloneNode(r);l.appendChild(u)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Qn.styleValueRegistry.processProperties(this,r,i),this.renderable.dirty=!0}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;Cs(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:s}),bV(t,"setAttribute",this)([r,i]))}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.renderable,o=this.attributes[r],l=this.parsedStyle[r];Qn.styleValueRegistry.processProperties(this,Te({},r,i),a),s.dirty=!0;var c=this.parsedStyle[r];if(this.isConnected&&(Mv.relatedNode=this,Mv.prevValue=o,Mv.newValue=i,Mv.attrName=r,Mv.prevParsedValue=l,Mv.newParsedValue=c,this.isMutationObserved?this.dispatchEvent(Mv):(Mv.target=this,this.ownerDocument.defaultView.dispatchEvent(Mv,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var u,d;(u=(d=this).attributeChangedCallback)===null||u===void 0||u.call(d,r,o,i,l,c)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=mt(i,2),s=a[0],o=a[1],l=r.getMax(),c=mt(l,2),u=c[0],d=c[1];return new r2(s,o,u-s,d-o)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Qn.sceneGraphService.setOrigin(this,bd(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return Qn.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Qn.sceneGraphService.setPosition(this,bd(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Qn.sceneGraphService.setLocalPosition(this,bd(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Qn.sceneGraphService.translate(this,bd(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Qn.sceneGraphService.translateLocal(this,bd(r,i,a,!1)),this}},{key:"getPosition",value:function(){return Qn.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Qn.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=bd(r,i,a,!1)),Qn.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=bd(r,i,a,!1)),Qn.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return Qn.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Qn.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=K3(bC,Qn.sceneGraphService.getWorldTransform(this)),i=mt(r,3),a=i[2];return eg(a)}},{key:"getLocalEulerAngles",value:function(){var r=K3(bC,Qn.sceneGraphService.getLocalRotation(this)),i=mt(r,3),a=i[2];return eg(a)}},{key:"setEulerAngles",value:function(r){return Qn.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return Qn.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return ri(i)&&ri(a)?Qn.sceneGraphService.rotateLocal(this,0,0,r):Qn.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return ri(i)&&ri(a)?Qn.sceneGraphService.rotate(this,0,0,r):Qn.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,s){return Qn.sceneGraphService.setRotation(this,r,i,a,s),this}},{key:"setLocalRotation",value:function(r,i,a,s){return Qn.sceneGraphService.setLocalRotation(this,r,i,a,s),this}},{key:"setLocalSkew",value:function(r,i){return Qn.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return Qn.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Qn.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Qn.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Qn.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Qn.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return Qn.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){Qn.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,s=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return s?s.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,_n(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,_n(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=a[0],l=a[1];return o?GO(o)?(Object.keys(o).forEach(function(c){r.setAttribute(c,o[c])}),this):a.length===2?(this.setAttribute(o,l),this):this.attributes[o]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=uI(bC,i),s=mt(a,2),o=s[0],l=s[1],c=YS(bC,i),u=mt(c,2),d=u[0],h=u[1],g=fI(H6e,i),v=K3(bC,g),x=mt(v,3),w=x[0],C=x[2];return N4e(w||C,o,l,d,h)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=CV(r),a=mt(i,5),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4];this.setEulerAngles(u).setPosition(s,o).setLocalScale(l,c)}},{key:"setLocalMatrix",value:function(r){var i=CV(r),a=mt(i,5),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4];this.setLocalEulerAngles(u).setLocalPosition(s,o).setLocalScale(l,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(j6e);Ls.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Uy=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),ea(this,t,[Pe({type:mn.CIRCLE},n)])}return qr(t,e),On(t)}(Ls);Uy.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var V6e=["style"],rT=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=zr(r,V6e);return En(this,t),n=ea(this,t,[Pe({style:i},a)]),n.isCustomElement=!0,n}return qr(t,e),On(t)}(Ls);rT.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var g$=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),ea(this,t,[Pe({type:mn.ELLIPSE},n)])}return qr(t,e),On(t)}(Ls);g$.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var U6e=function(e){function t(){return En(this,t),ea(this,t,[{type:mn.FRAGMENT}])}return qr(t,e),On(t)}(Ls);U6e.PARSED_STYLE_LIST=new Set(["class","className"]);var Jc=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),ea(this,t,[Pe({type:mn.GROUP},n)])}return qr(t,e),On(t)}(Ls);Jc.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var G6e=["style"],iT=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=zr(r,G6e);return En(this,t),n=ea(this,t,[Pe({type:mn.HTML,style:i},a)]),n.cullable.enable=!1,n}return qr(t,e),On(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Sm(es(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!lc.isEmpty(i)){var a=new lc;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])}(Ls);iT.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var m$=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),ea(this,t,[Pe({type:mn.IMAGE},n)])}return qr(t,e),On(t)}(Ls);m$.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var W6e=["style"],Bx=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=zr(r,W6e);En(this,t),n=ea(this,t,[Pe({type:mn.LINE,style:Pe({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),n.markerStartAngle=0,n.markerEndAngle=0;var s=n.parsedStyle,o=s.markerStart,l=s.markerEnd;return o&&co(o)&&(n.markerStartAngle=o.getLocalEulerAngles(),n.appendChild(o)),l&&co(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return qr(t,e),On(t,[{key:"attributeChangedCallback",value:function(r,i,a,s,o){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(s&&co(s)&&(this.markerStartAngle=0,s.remove()),o&&co(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):r==="markerEnd"&&(s&&co(s)&&(this.markerEndAngle=0,s.remove()),o&&co(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,c=i.x1,u=i.x2,d=i.y1,h=i.y2,g=r?a:s;if(!(!g||!co(g))){var v=0,x,w,C,E,M,R;r?(C=c,E=d,x=u-c,w=h-d,M=o||0,R=this.markerStartAngle):(C=u,E=h,x=c-u,w=d-h,M=l||0,R=this.markerEndAngle),v=Math.atan2(w,x),g.setLocalEulerAngles(v*180/Math.PI+R),g.setLocalPosition(C+Math.cos(v)*M,E+Math.sin(v)*M)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,s=a.x1,o=a.y1,l=a.x2,c=a.y2,u=Cne(s,o,l,c,r),d=u.x,h=u.y,g=Pl(Ca(),vo(d,h,0),i?this.getWorldTransform():this.getLocalTransform());return new Ku(g[0],g[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,s=r.x2,o=r.y2;return Sne(i,a,s,o)}}])}(Ls);Bx.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var q6e=["style"],Td=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=zr(r,q6e);En(this,t),n=ea(this,t,[Pe({type:mn.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Pe({},Mne)}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var s=n.parsedStyle,o=s.markerStart,l=s.markerEnd,c=s.markerMid;return o&&co(o)&&(n.markerStartAngle=o.getLocalEulerAngles(),n.appendChild(o)),c&&co(c)&&n.placeMarkerMid(c),l&&co(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return qr(t,e),On(t,[{key:"attributeChangedCallback",value:function(r,i,a,s,o){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(s&&co(s)&&(this.markerStartAngle=0,s.remove()),o&&co(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):r==="markerEnd"?(s&&co(s)&&(this.markerEndAngle=0,s.remove()),o&&co(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,c=r?a:s;if(!(!c||!co(c))){var u=0,d,h,g,v,x,w;if(r){var C=this.getStartTangent(),E=mt(C,2),M=E[0],R=E[1];g=R[0],v=R[1],d=M[0]-R[0],h=M[1]-R[1],x=o||0,w=this.markerStartAngle}else{var L=this.getEndTangent(),N=mt(L,2),D=N[0],H=N[1];g=H[0],v=H[1],d=D[0]-H[0],h=D[1]-H[1],x=l||0,w=this.markerEndAngle}u=Math.atan2(h,d),c.setLocalEulerAngles(u*180/Math.PI+w),c.setLocalPosition(g+Math.cos(u)*x,v+Math.sin(u)*x)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),r&&co(r))for(var a=1;a<i.length-1;a++){var s=mt(i[a].currentPoint,2),o=s[0],l=s[1],c=a===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(o,l)}}},{key:"getTotalLength",value:function(){return v5(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,s=QLe(a,r),o=s.x,l=s.y,c=Pl(Ca(),vo(o,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Ku(c[0],c[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*v5(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,s=r[1].currentPoint,o=r[1].startTangent;i=[],o?(i.push([a[0]-o[0],a[1]-o[1]]),i.push([a[0],a[1]])):(i.push([s[0],s[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var s=r[i-2].currentPoint,o=r[i-1].currentPoint,l=r[i-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([s[0],s[1]]),a.push([o[0],o[1]]))}return a}}])}(Ls);Td.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var K6e=["style"],jx=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=zr(r,K6e);En(this,t),n=ea(this,t,[Pe({type:mn.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var s=n.parsedStyle,o=s.markerStart,l=s.markerEnd,c=s.markerMid;return o&&co(o)&&(n.markerStartAngle=o.getLocalEulerAngles(),n.appendChild(o)),c&&co(c)&&n.placeMarkerMid(c),l&&co(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return qr(t,e),On(t,[{key:"attributeChangedCallback",value:function(r,i,a,s,o){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(s&&co(s)&&(this.markerStartAngle=0,s.remove()),o&&co(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):r==="markerEnd"?(s&&co(s)&&(this.markerEndAngle=0,s.remove()),o&&co(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(o)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,s=i.markerEnd,o=i.markerStartOffset,l=i.markerEndOffset,c=i.points,u=c||{},d=u.points,h=r?a:s;if(!(!h||!co(h)||!d)){var g=0,v,x,w,C,E,M;if(w=d[0][0],C=d[0][1],r)v=d[1][0]-d[0][0],x=d[1][1]-d[0][1],E=o||0,M=this.markerStartAngle;else{var R=d.length;this.parsedStyle.isClosed?(v=d[R-1][0]-d[0][0],x=d[R-1][1]-d[0][1]):(w=d[R-1][0],C=d[R-1][1],v=d[R-2][0]-d[R-1][0],x=d[R-2][1]-d[R-1][1]),E=l||0,M=this.markerEndAngle}g=Math.atan2(x,v),h.setLocalEulerAngles(g*180/Math.PI+M),h.setLocalPosition(w+Math.cos(g)*E,C+Math.sin(g)*E)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},s=a.points;if(this.markerMidList.forEach(function(d){d.remove()}),this.markerMidList=[],r&&co(r)&&s)for(var o=1;o<(this.parsedStyle.isClosed?s.length:s.length-1);o++){var l=s[o][0],c=s[o][1],u=o===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(l,c)}}}])}(Ls);jx.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Y6e=["style"],v$=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=zr(n,Y6e);return En(this,t),ea(this,t,[Pe({type:mn.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return qr(t,e),On(t,[{key:"getTotalLength",value:function(){return Nze(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var s=[],o=0,l,c,u=this.getTotalLength();a.forEach(function(C,E){a[E+1]&&(l=[0,0],l[0]=o/u,c=Sne(C[0],C[1],a[E+1][0],a[E+1][1]),o+=c,l[1]=o/u,s.push(l))}),this.parsedStyle.points.segments=s}var d=0,h=0;this.parsedStyle.points.segments.forEach(function(C,E){r>=C[0]&&r<=C[1]&&(d=(r-C[0])/(C[1]-C[0]),h=E)});var g=Cne(a[h][0],a[h][1],a[h+1][0],a[h+1][1],d),v=g.x,x=g.y,w=Pl(Ca(),vo(v,x,0),i?this.getWorldTransform():this.getLocalTransform());return new Ku(w[0],w[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])}(jx);v$.PARSED_STYLE_LIST=new Set([].concat(_n(jx.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var L1=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),ea(this,t,[Pe({type:mn.RECT},n)])}return qr(t,e),On(t)}(Ls);L1.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var X6e=["style"],vg=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=zr(n,X6e);return En(this,t),ea(this,t,[Pe({type:mn.TEXT,style:Pe({fill:"black"},r)},i)])}return qr(t,e),On(t,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Ls);vg.PARSED_STYLE_LIST=new Set([].concat(_n(Ls.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Z6e=function(){function e(){En(this,e),this.registry={},this.define(mn.CIRCLE,Uy),this.define(mn.ELLIPSE,g$),this.define(mn.RECT,L1),this.define(mn.IMAGE,m$),this.define(mn.LINE,Bx),this.define(mn.GROUP,Jc),this.define(mn.PATH,Td),this.define(mn.POLYGON,jx),this.define(mn.POLYLINE,v$),this.define(mn.TEXT,vg),this.define(mn.HTML,iT)}return On(e,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])}(),nre={number:function(t){return new fs(t)},percent:function(t){return new fs(t,"%")},px:function(t){return new fs(t,"px")},em:function(t){return new fs(t,"em")},rem:function(t){return new fs(t,"rem")},deg:function(t){return new fs(t,"deg")},grad:function(t){return new fs(t,"grad")},rad:function(t){return new fs(t,"rad")},turn:function(t){return new fs(t,"turn")},s:function(t){return new fs(t,"s")},ms:function(t){return new fs(t,"ms")},registerProperty:function(t){var n=t.name,r=t.inherits,i=t.interpolable,a=t.initialValue,s=t.syntax;Qn.styleValueRegistry.registerMetadata({n,inh:r,int:i,d:a,syntax:s})},registerLayout:function(t,n){Qn.layoutRegistry.registerLayout(t,n)}},Q6e=function(e){function t(){var n;En(this,t),n=ea(this,t),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new Qn.AnimationTimeline(n)}catch{}var r={};return h6.forEach(function(i){var a=i.n,s=i.inh,o=i.d;s&&o&&(r[a]=Yc(o)?o(mn.GROUP):o)}),n.documentElement=new Jc({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return qr(t,e),On(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?vg:Jc);var s=new a(i);return s.ownerDocument=this,s}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(us)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,i,a,s){var o=this.defaultView.context.rBushRoot,l=o.search({minX:r,minY:i,maxX:a,maxY:s}),c=[];return l.forEach(function(u){var d=u.displayObject,h=d.parsedStyle.pointerEvents,g=h===void 0?"auto":h,v=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(g);(!v||v&&d.isVisible())&&!d.isCulled()&&d.isInteractive()&&c.push(d)}),c.sort(function(u,d){return d.sortable.renderOrder-u.sortable.renderOrder}),c}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(s<0||o<0||s>c||o>u)return null;var d=this.defaultView.viewport2Client({x:s,y:o}),h=d.x,g=d.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:s,viewportY:o,clientX:h,clientY:g},picked:[]}),x=v.picked;return x&&x[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var n=Cd(Vo().mark(function i(a,s){var o,l,c,u,d,h,g,v,x,w,C;return Vo().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,c=o.y,u=this.defaultView.getConfig(),d=u.width,h=u.height,!(l<0||c<0||l>d||c>h)){M.next=4;break}return M.abrupt("return",null);case 4:return g=this.defaultView.viewport2Client({x:l,y:c}),v=g.x,x=g.y,M.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:s,viewportX:l,viewportY:c,clientX:v,clientY:x},picked:[]});case 7:return w=M.sent,C=w.picked,M.abrupt("return",C&&C[0]||this.documentElement);case 10:case"end":return M.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),s=a.x,o=a.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(s<0||o<0||s>c||o>u)return[];var d=this.defaultView.viewport2Client({x:s,y:o}),h=d.x,g=d.y,v=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:s,viewportY:o,clientX:h,clientY:g},picked:[]}),x=v.picked;return x[x.length-1]!==this.documentElement&&x.push(this.documentElement),x}},{key:"elementsFromPoint",value:function(){var n=Cd(Vo().mark(function i(a,s){var o,l,c,u,d,h,g,v,x,w,C;return Vo().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(o=this.defaultView.canvas2Viewport({x:a,y:s}),l=o.x,c=o.y,u=this.defaultView.getConfig(),d=u.width,h=u.height,!(l<0||c<0||l>d||c>h)){M.next=4;break}return M.abrupt("return",[]);case 4:return g=this.defaultView.viewport2Client({x:l,y:c}),v=g.x,x=g.y,M.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:s,viewportX:l,viewportY:c,clientX:v,clientY:x},picked:[]});case 7:return w=M.sent,C=w.picked,C[C.length-1]!==this.documentElement&&C.push(this.documentElement),M.abrupt("return",C);case 11:case"end":return M.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"appendChild",value:function(r,i){throw new Error(Mw)}},{key:"insertBefore",value:function(r,i){throw new Error(Mw)}},{key:"removeChild",value:function(r,i){throw new Error(Mw)}},{key:"replaceChild",value:function(r,i,a){throw new Error(Mw)}},{key:"append",value:function(){throw new Error(Mw)}},{key:"prepend",value:function(){throw new Error(Mw)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])}(gl),rre=function(){function e(t){En(this,e),this.strategies=t}return On(e,[{key:"apply",value:function(n){var r=n.camera,i=n.renderingService,a=n.renderingContext,s=this.strategies;i.hooks.cull.tap(e.tag,function(o){if(o){var l=o.cullable;return s.length===0?l.visible=a.unculledEntities.indexOf(o.entity)>-1:l.visible=s.every(function(c){return c.isVisible(r,o)}),!o.isCulled()&&o.isVisible()?o:(o.dispatchEvent(new hs(ia.CULLED)),null)}return o}),i.hooks.afterRender.tap(e.tag,function(o){o.cullable.visibilityPlaneMask=-1})}}])}();rre.tag="Culling";var ire=function(){function e(){var t=this;En(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new x5(null),this.rootWheelEvent=new w5(null),this.onPointerMove=function(n){var r,i=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&n.pointerType==="touch")){var a=t.normalizeToPointerEvent(n,i),s=U_(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,c=t.bootstrapEvent(t.rootPointerEvent,l,i,n);t.context.eventService.mapEvent(c)}}catch(u){s.e(u)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(n){var r,i=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=t.normalizeToPointerEvent(n,i),s=U_(a),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,c=t.bootstrapEvent(t.rootPointerEvent,l,i,n);t.context.eventService.mapEvent(c)}}catch(u){s.e(u)}finally{s.f()}t.setCursor(t.context.eventService.cursor)}}return On(e,[{key:"apply",value:function(n){var r=this;this.context=n;var i=n.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(s){var o=r.context.renderingService.hooks.pickSync.call({position:s,picked:[],topmost:!0}),l=o.picked;return l[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(s){var o=r.normalizeWheelEvent(s);r.context.eventService.mapEvent(o)}),i.hooks.pointerDown.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=r.normalizeToPointerEvent(s,a);if(r.autoPreventDefault&&o[0].isNormalized){var l=s.cancelable||!("cancelable"in s);l&&s.preventDefault()}var c=U_(o),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=r.bootstrapEvent(r.rootPointerEvent,d,a,s);r.context.eventService.mapEvent(h)}}catch(g){c.e(g)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(s){if(!(a.supportsTouchEvents&&s.pointerType==="touch")){var o=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(o,s),c=l?"":"outside",u=r.normalizeToPointerEvent(s,a),d=U_(u),h;try{for(d.s();!(h=d.n()).done;){var g=h.value,v=r.bootstrapEvent(r.rootPointerEvent,g,a,s);v.type+=c,r.context.eventService.mapEvent(v)}}catch(x){d.e(x)}finally{d.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(s){var o=r.normalizeToPointerEvent(s,a),l=U_(o),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=r.bootstrapEvent(r.rootPointerEvent,u,a,s);r.context.eventService.mapEvent(d)}}catch(h){l.e(h)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,i,a){n.view=i,n.originalEvent=null,n.nativeEvent=a,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var s=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),o=s.x,l=s.y;n.viewport.x=o,n.viewport.y=l;var c=this.context.eventService.viewport2Canvas(n.viewport),u=c.x,d=c.y;return n.canvas.x=u,n.canvas.y=d,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=a.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=kBe[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var i=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),a=i.x,s=i.y;r.viewport.x=a,r.viewport.y=s;var o=this.context.eventService.viewport2Canvas(r.viewport),l=o.x,c=o.y;return r.canvas.x=l,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=_5.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var i=[];if(r.isTouchEvent(n))for(var a=0;a<n.changedTouches.length;a++){var s=n.changedTouches[a];Cs(s.button)&&(s.button=0),Cs(s.buttons)&&(s.buttons=1),Cs(s.isPrimary)&&(s.isPrimary=n.touches.length===1&&n.type==="touchstart"),Cs(s.width)&&(s.width=s.radiusX||1),Cs(s.height)&&(s.height=s.radiusY||1),Cs(s.tiltX)&&(s.tiltX=0),Cs(s.tiltY)&&(s.tiltY=0),Cs(s.pointerType)&&(s.pointerType="touch"),Cs(s.pointerId)&&(s.pointerId=s.identifier||0),Cs(s.pressure)&&(s.pressure=s.force||.5),Cs(s.twist)&&(s.twist=0),Cs(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=n.type,i.push(s)}else if(r.isMouseEvent(n)){var o=n;Cs(o.isPrimary)&&(o.isPrimary=!0),Cs(o.width)&&(o.width=1),Cs(o.height)&&(o.height=1),Cs(o.tiltX)&&(o.tiltX=0),Cs(o.tiltY)&&(o.tiltY=0),Cs(o.pointerType)&&(o.pointerType="mouse"),Cs(o.pointerId)&&(o.pointerId=$Be),Cs(o.pressure)&&(o.pressure=.5),Cs(o.twist)&&(o.twist=0),Cs(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,i.push(o)}else i.push(n);return i}}])}();ire.tag="Event";var J6e=[mn.CIRCLE,mn.ELLIPSE,mn.IMAGE,mn.RECT,mn.LINE,mn.POLYLINE,mn.POLYGON,mn.TEXT,mn.PATH,mn.HTML],e8e=function(){function e(){En(this,e)}return On(e,[{key:"isVisible",value:function(n,r){var i,a=r.cullable;if(!a.enable)return!0;var s=r.getRenderBounds();if(lc.isEmpty(s))return!1;var o=n.getFrustum(),l=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,s,l||Tw.INDETERMINATE,o.planes),a.visible=a.visibilityPlaneMask!==Tw.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i,a){if(i===Tw.OUTSIDE||i===Tw.INSIDE)return i;for(var s=Tw.INSIDE,o=J6e.indexOf(n.nodeName)>-1,l=0,c=a.length;l<c;++l){var u=1<<l;if((i&u)!==0&&!(o&&(l===4||l===5))){var d=a[l],h=d.normal,g=d.distance;if(jv(h,r.getPositiveFarPoint(a[l]))+g<0)return Tw.OUTSIDE;jv(h,r.getNegativeFarPoint(a[l]))+g<0&&(s|=u)}}return s}}])}(),are=function(){function e(){En(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return On(e,[{key:"apply",value:function(n){var r=this,i,a=n.renderingService,s=n.renderingContext,o=n.rBushRoot,l=s.root.ownerDocument.defaultView;this.rBush=o;var c=function(x){var w=x.target;w.renderable.dirty=!0,a.dirtify()},u=function(x){r.syncTasks.set(x.target,x.detail.affectChildren),a.dirtify()},d=function(x){var w=x.target;Qn.enableSizeAttenuation&&Qn.styleValueRegistry.updateSizeAttenuation(w,l.getCamera().getZoom())},h=function(x){var w=x.target,C=w.rBushNode;C.aabb&&r.rBush.remove(C.aabb),r.syncTasks.delete(w),Qn.sceneGraphService.dirtifyToRoot(w),a.dirtify()};a.hooks.init.tap(e.tag,function(){l.addEventListener(ia.MOUNTED,d),l.addEventListener(ia.UNMOUNTED,h),l.addEventListener(ia.ATTR_MODIFIED,c),l.addEventListener(ia.BOUNDS_CHANGED,u)}),a.hooks.destroy.tap(e.tag,function(){l.removeEventListener(ia.MOUNTED,d),l.removeEventListener(ia.UNMOUNTED,h),l.removeEventListener(ia.ATTR_MODIFIED,c),l.removeEventListener(ia.BOUNDS_CHANGED,u),r.syncTasks.clear()});var g=(i=Qn.globalThis.requestIdleCallback)!==null&&i!==void 0?i:g6.bind(Qn.globalThis);a.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,g(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):r.syncRTree()})}},{key:"syncNode",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.isConnected){var i=n.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=n.getRenderBounds();if(a){var s=n.renderable;r&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new lc),s.dirtyRenderBounds.update(a.center,a.halfExtents));var o=a.getMin(),l=mt(o,2),c=l[0],u=l[1],d=a.getMax(),h=mt(d,2),g=h[0],v=h[1];i.aabb||(i.aabb={}),i.aabb.displayObject=n,i.aabb.minX=c,i.aabb.minY=u,i.aabb.maxX=g,i.aabb.maxY=v}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,s=function(l){if(!a.has(l)&&l.renderable){var c=n.syncNode(l,r);c&&(i.push(c),a.add(l))}};this.syncTasks.forEach(function(o,l){o&&l.forEach(s);for(var c=l;c;)s(c),c=c.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();are.tag="Prepare";var rg=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),tU=500,t8e=.1,n8e=1e3,nM=new hs(ia.MOUNTED),rM=new hs(ia.UNMOUNTED),aL=new hs(rg.BEFORE_RENDER),nU=new hs(rg.RERENDER),oL=new hs(rg.AFTER_RENDER),ore=function(e){function t(n){var r;En(this,t),r=ea(this,t),r.Element=Ls,r.inited=!1,r.context={};var i=n.container,a=n.canvas,s=n.renderer,o=n.width,l=n.height,c=n.background,u=n.cursor,d=n.supportsMutipleCanvasesInOneContainer,h=n.cleanUpOnDestroy,g=h===void 0?!0:h,v=n.offscreenCanvas,x=n.devicePixelRatio,w=n.requestAnimationFrame,C=n.cancelAnimationFrame,E=n.createImage,M=n.supportsTouchEvents,R=n.supportsPointerEvents,L=n.isTouchEvent,N=n.isMouseEvent,D=n.dblClickSpeed,H=o,U=l,q=x||p6&&window.devicePixelRatio||1;return q=q>=1?Math.ceil(q):1,a&&(H=o||PBe(a)||a.width/q,U=l||RBe(a)||a.height/q),r.customElements=new Z6e,r.devicePixelRatio=q,r.requestAnimationFrame=w??g6.bind(Qn.globalThis),r.cancelAnimationFrame=C??Zne.bind(Qn.globalThis),r.supportsTouchEvents=M??"ontouchstart"in Qn.globalThis,r.supportsPointerEvents=R??!!Qn.globalThis.PointerEvent,r.isTouchEvent=L??function(K){return r.supportsTouchEvents&&K instanceof Qn.globalThis.TouchEvent},r.isMouseEvent=N??function(K){return!Qn.globalThis.MouseEvent||K instanceof Qn.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(K instanceof Qn.globalThis.PointerEvent))},v&&(Qn.offscreenCanvas=v),r.document=new Q6e,r.document.defaultView=r,d||TBe(i,r,g),r.initRenderingContext(Pe(Pe({},n),{},{width:H,height:U,background:c??"transparent",cursor:u??"default",cleanUpOnDestroy:g,devicePixelRatio:q,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:D??200,createImage:E??function(){return new window.Image}})),r.initDefaultCamera(H,U,s.clipSpaceNearZ),r.initRenderer(s,!0),r}return qr(t,e),On(t,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var s=this,o=new Qn.CameraContribution;o.clipSpaceNearZ=a,o.setType(ss.EXPLORING,d5.DEFAULT).setPosition(r/2,i/2,tU).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,t8e,n8e),o.canvas=this,o.eventEmitter.on(One.UPDATED,function(){s.context.renderingContext.renderReasons.add(_S.CAMERA_CHANGED),Qn.enableSizeAttenuation&&s.getConfig().renderer.getConfig().enableSizeAttenuation&&s.updateSizeAttenuation()}),this.context.camera=o}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Qn.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;Rc.clearCache(),i||this.dispatchEvent(new hs(rg.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var a=this.getRoot();r&&(this.unmountChildren(a),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),i||this.dispatchEvent(new hs(rg.AFTER_DESTROY));var s=function(l){l.currentTarget=null,l.manager=null,l.target=null,l.relatedNode=null};s(nM),s(rM),s(aL),s(nU),s(oL),s(Mv),s(S5),s(C5),s(tre)}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a=this.context.config;a.width=r,a.height=i,this.getContextService().resize(r,i);var s=this.context.camera,o=s.getProjectionMode();s.setPosition(r/2,i/2,tU).setFocalPoint(r/2,i/2,0),o===Xp.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i),this.dispatchEvent(new hs(rg.RESIZE,{width:r,height:i}))}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i=this;r&&(aL.detail=r,oL.detail=r),this.dispatchEvent(aL);var a=this.getRenderingService();a.render(this.getConfig(),r,function(){i.dispatchEvent(nU)}),this.dispatchEvent(oL)}},{key:"run",value:function(){var r=this,i=function(s,o){r.render(o),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new C4e,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new ire,new are,new rre([new e8e])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(Pe(Pe({},Qn),this.context)),this.context.renderingService=new h6e(Qn,this.context),this.context.eventService=new d6e(Qn,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(s){console.error(s)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){i.inited=!0,a?s?i.requestAnimationFrame(function(){i.dispatchEvent(new hs(rg.READY))}):i.dispatchEvent(new hs(rg.READY)):i.dispatchEvent(new hs(rg.RENDERER_CHANGED)),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(o){var l=o,c=l.renderable;c&&(c.renderBoundsDirty=!0,c.boundsDirty=!0,c.dirty=!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(s){s.context=i.context,s.init(Qn)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),_n(a?.getPlugins()||[]).reverse().forEach(function(s){s.destroy(Qn)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;r.childNodes.forEach(function(a){i.unmountChildren(a)}),this.inited&&(r.isMutationObserved?r.dispatchEvent(rM):(rM.target=r,this.dispatchEvent(rM,!0)),r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1),r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:II(r);this.inited?r.isConnected||(r.ownerDocument=this.document,r.isConnected=!0,a||(r.isMutationObserved?r.dispatchEvent(nM):(nM.target=r,this.dispatchEvent(nM,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName),r.childNodes.forEach(function(s){i.mountChildren(s,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])}(ere);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.35
 * @date 1/23/2025, 8:32:08 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var r8e=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.landmarks=[],n}return qr(t,e),On(t,[{key:"rotate",value:function(r,i,a){if(this.relElevation=vS(i),this.relAzimuth=vS(r),this.relRoll=vS(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===ss.EXPLORING){var s=o1(qc(),[1,0,0],ds((this.rotateWorld?1:-1)*this.relElevation)),o=o1(qc(),[0,1,0],ds((this.rotateWorld?1:-1)*this.relAzimuth)),l=o1(qc(),[0,0,1],ds(this.relRoll)),c=d1(qc(),o,s);c=d1(qc(),c,l);var u=$B(es(),c);mS(this.matrix,this.matrix,[0,0,-this.distance]),Nf(this.matrix,this.matrix,u),mS(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===ss.ORBITING||this.type===ss.EXPLORING?this._getPosition():this.type===ss.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=bd(r,i,0),s=gy(this.position);return f1(s,s,dI(Ca(),this.right,a[0])),f1(s,s,dI(Ca(),this.up,a[1])),this._setPosition(s),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=gy(this.position),s=r*this.dollyingStep,o=this.distance+r*this.dollyingStep;return s=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,a[0]+=s*i[0],a[1]+=s*i[1],a[2]+=s*i[2],this._setPosition(a),this.type===ss.ORBITING||this.type===ss.EXPLORING?this._getDistance():this.type===ss.TRACKING&&f1(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,s,o,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.position,u=c===void 0?this.position:c,d=l.focalPoint,h=d===void 0?this.focalPoint:d,g=l.roll,v=l.zoom,x=new Qn.CameraContribution;x.setType(this.type,void 0),x.setPosition(u[0],(i=u[1])!==null&&i!==void 0?i:this.position[1],(a=u[2])!==null&&a!==void 0?a:this.position[2]),x.setFocalPoint(h[0],(s=h[1])!==null&&s!==void 0?s:this.focalPoint[1],(o=h[2])!==null&&o!==void 0?o:this.focalPoint[2]),x.setRoll(g??this.roll),x.setZoom(v??this.zoom);var w={name:r,matrix:RB(x.getWorldTransform()),right:gy(x.right),up:gy(x.up),forward:gy(x.forward),position:gy(x.getPosition()),focalPoint:gy(x.getFocalPoint()),distanceVector:gy(x.getDistanceVector()),distance:x.getDistance(),dollyingStep:x.getDollyingStep(),azimuth:x.getAzimuth(),elevation:x.getElevation(),roll:x.getRoll(),relAzimuth:x.relAzimuth,relElevation:x.relElevation,relRoll:x.relRoll,zoom:x.getZoom()};return this.landmarks.push(w),w}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=el(r)?this.landmarks.find(function(K){return K.name===r}):r;if(s){var o=qs(a)?{duration:a}:a,l=o.easing,c=l===void 0?"linear":l,u=o.duration,d=u===void 0?100:u,h=o.easingFunction,g=h===void 0?void 0:h,v=o.onfinish,x=v===void 0?void 0:v,w=o.onframe,C=w===void 0?void 0:w,E=.01;this.cancelLandmarkAnimation();var M=s.position,R=s.focalPoint,L=s.zoom,N=s.roll,D=g||Qn.EasingFunction(c),H,U=function(){i.setFocalPoint(R),i.setPosition(M),i.setRoll(N),i.setZoom(L),i.computeMatrix(),i.triggerUpdate(),x?.()};if(d===0)return U();var q=function(Q){H===void 0&&(H=Q);var X=Q-H;if(X>=d){U();return}var te=D(X/d),ee=Ca(),Z=Ca(),re=1,oe=0;qD(ee,i.focalPoint,R,te),qD(Z,i.position,M,te),oe=i.roll*(1-te)+N*te,re=i.zoom*(1-te)+L*te,i.setFocalPoint(ee),i.setPosition(Z),i.setRoll(oe),i.setZoom(re);var ce=BH(ee,R)+BH(Z,M);if(ce<=E&&L===void 0&&N===void 0)return U();i.computeMatrix(),i.triggerUpdate(),X<d&&(C?.(te),i.landmarkAnimationID=i.canvas.requestAnimationFrame(q))};this.canvas.requestAnimationFrame(q)}}}])}(Tne);Qn.CameraContribution=r8e;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.21
 * @date 1/23/2025, 8:33:55 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var sL=function(e){function t(n,r,i,a){var s;return En(this,t),s=ea(this,t,[n]),s.currentTime=i,s.timelineTime=a,s.target=r,s.type="finish",s.bubbles=!1,s.currentTarget=r,s.defaultPrevented=!1,s.eventPhase=s.AT_TARGET,s.timeStamp=Date.now(),s.currentTime=i,s.timelineTime=a,s}return qr(t,e),On(t)}(p$),i8e=0,a8e=function(){function e(t,n){var r;En(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(i8e++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return On(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n=this.oldPlayState,r=this.pending?"pending":this.playState;return this.readyPromise&&r!==n&&(r==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):n==="pending"?this.resolveReadyPromise():r==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&r!==n&&(r==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):r==="finished"?this.resolveFinishedPromise():n==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=r,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new sL(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(us)}},{key:"addEventListener",value:function(n,r,i){throw new Error(us)}},{key:"removeEventListener",value:function(n,r,i){throw new Error(us)}},{key:"dispatchEvent",value:function(n){throw new Error(us)}},{key:"commitStyles",value:function(){throw new Error(us)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new sL(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new sL(null,this,this.currentTime,n);this.onframe(a)}this._finishedFlag=!1}}}])}(),o8e=4,s8e=.001,l8e=1e-7,c8e=10,$C=11,iM=1/($C-1),u8e=typeof Float32Array=="function",sre=function(t,n){return 1-3*n+3*t},lre=function(t,n){return 3*n-6*t},cre=function(t){return 3*t},PI=function(t,n,r){return((sre(n,r)*t+lre(n,r))*t+cre(n))*t},ure=function(t,n,r){return 3*sre(n,r)*t*t+2*lre(n,r)*t+cre(n)},f8e=function(t,n,r,i,a){var s,o,l=0;do o=n+(r-n)/2,s=PI(o,i,a)-t,s>0?r=o:n=o;while(Math.abs(s)>l8e&&++l<c8e);return o},d8e=function(t,n,r,i){for(var a=0;a<o8e;++a){var s=ure(n,r,i);if(s===0)return n;var o=PI(n,r,i)-t;n-=o/s}return n},v6=function(t,n,r,i){if(!(t>=0&&t<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===i)return function(l){return l};for(var a=u8e?new Float32Array($C):new Array($C),s=0;s<$C;++s)a[s]=PI(s*iM,t,r);var o=function(c){for(var u=0,d=1,h=$C-1;d!==h&&a[d]<=c;++d)u+=iM;--d;var g=(c-a[d])/(a[d+1]-a[d]),v=u+g*iM,x=ure(v,t,r);return x>=s8e?d8e(c,v,t,r):x===0?v:f8e(c,u,u+iM,t,r)};return function(l){return l===0||l===1?l:PI(o(l),n,i)}},h8e=function(t){return t=t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},aM=function(t){return Math.pow(t,2)},oM=function(t){return Math.pow(t,3)},sM=function(t){return Math.pow(t,4)},lM=function(t){return Math.pow(t,5)},cM=function(t){return Math.pow(t,6)},uM=function(t){return 1-Math.cos(t*Math.PI/2)},fM=function(t){return 1-Math.sqrt(1-t*t)},dM=function(t){return t*t*(3*t-2)},hM=function(t){for(var n,r=4;t<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-t,2)},pM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=mt(n,2),i=r[0],a=i===void 0?1:i,s=r[1],o=s===void 0?.5:s,l=$l(Number(a),1,10),c=$l(Number(o),.1,2);return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-c/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/c)},_C=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=mt(n,4),a=i[0],s=a===void 0?1:a,o=i[1],l=o===void 0?100:o,c=i[2],u=c===void 0?10:c,d=i[3],h=d===void 0?0:d;s=$l(s,.1,1e3),l=$l(l,.1,1e3),u=$l(u,.1,1e3),h=$l(h,.1,1e3);var g=Math.sqrt(l/s),v=u/(2*Math.sqrt(l*s)),x=v<1?g*Math.sqrt(1-v*v):0,w=1,C=v<1?(v*g+-h)/x:-h+g,E=r?r*t/1e3:t;return v<1?E=Math.exp(-E*v*g)*(w*Math.cos(x*E)+C*Math.sin(x*E)):E=(w+C*E)*Math.exp(-E*g),t===0||t===1?t:1-E},lL=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,i=mt(r,2),a=i[0],s=a===void 0?10:a,o=i[1],l=o==="start"?Math.ceil:Math.floor;return l($l(t,0,1)*s)/s},rU=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=mt(n,4),i=r[0],a=r[1],s=r[2],o=r[3];return v6(i,a,s,o)(t)},gM=v6(.42,0,1,1),Wp=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-t(1-n,r,i)}},qp=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?t(n*2,r,i)/2:1-t(n*-2+2,r,i)/2}},Kp=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?(1-t(1-n*2,r,i))/2:(t(n*2-1,r,i)+1)/2}},iU={steps:lL,"step-start":function(t){return lL(t,[1,"start"])},"step-end":function(t){return lL(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":rU,ease:function(t){return rU(t,[.25,.1,.25,1])},in:gM,out:Wp(gM),"in-out":qp(gM),"out-in":Kp(gM),"in-quad":aM,"out-quad":Wp(aM),"in-out-quad":qp(aM),"out-in-quad":Kp(aM),"in-cubic":oM,"out-cubic":Wp(oM),"in-out-cubic":qp(oM),"out-in-cubic":Kp(oM),"in-quart":sM,"out-quart":Wp(sM),"in-out-quart":qp(sM),"out-in-quart":Kp(sM),"in-quint":lM,"out-quint":Wp(lM),"in-out-quint":qp(lM),"out-in-quint":Kp(lM),"in-expo":cM,"out-expo":Wp(cM),"in-out-expo":qp(cM),"out-in-expo":Kp(cM),"in-sine":uM,"out-sine":Wp(uM),"in-out-sine":qp(uM),"out-in-sine":Kp(uM),"in-circ":fM,"out-circ":Wp(fM),"in-out-circ":qp(fM),"out-in-circ":Kp(fM),"in-back":dM,"out-back":Wp(dM),"in-out-back":qp(dM),"out-in-back":Kp(dM),"in-bounce":hM,"out-bounce":Wp(hM),"in-out-bounce":qp(hM),"out-in-bounce":Kp(hM),"in-elastic":pM,"out-elastic":Wp(pM),"in-out-elastic":qp(pM),"out-in-elastic":Kp(pM),spring:_C,"spring-in":_C,"spring-out":Wp(_C),"spring-in-out":qp(_C),"spring-out-in":Kp(_C)},p8e=function(t){return h8e(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},g8e=function(t){return iU[p8e(t)]||iU.linear},m8e=function(t){return t},v8e=1,y8e=.5,aU=0;function oU(e,t){return function(n){if(n>=1)return 1;var r=1/e;return n+=t*r,n-n%r}}var mM="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",b8e=new RegExp("cubic-bezier\\(".concat(mM,",").concat(mM,",").concat(mM,",").concat(mM,"\\)")),_8e=/steps\(\s*(\d+)\s*\)/,x8e=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function y6(e){var t=b8e.exec(e);if(t)return v6.apply(void 0,_n(t.slice(1).map(Number)));var n=_8e.exec(e);if(n)return oU(Number(n[1]),aU);var r=x8e.exec(e);return r?oU(Number(r[1]),{start:v8e,middle:y8e,end:aU}[r[2]]):g8e(e)}function w8e(e){return Math.abs(S8e(e)/(e.playbackRate||1))}function S8e(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var fre=0,b6=1,y$=2,dre=3;function C8e(e,t,n){if(t===null)return fre;var r=n.endTime;return t<Math.min(n.delay,r)?b6:t>=Math.min(n.delay+e+n.endDelay,r)?y$:dre}function E8e(e,t,n,r,i){switch(r){case b6:return t==="backwards"||t==="both"?0:null;case dre:return n-i;case y$:return t==="forwards"||t==="both"?e:null;case fre:return null}}function O8e(e,t,n,r,i){var a=i;return e===0?t!==b6&&(a+=n):a+=r/e,a}function T8e(e,t,n,r,i,a){var s=e===1/0?t%1:e%1;return s===0&&n===y$&&r!==0&&(i!==0||a===0)&&(s=1),s}function M8e(e,t,n,r){return e===y$&&t===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function A8e(e,t,n){var r=e;if(e!=="normal"&&e!=="reverse"){var i=t;e==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function I8e(e,t,n){var r=C8e(e,t,n),i=E8e(e,n.fill,t,r,n.delay);if(i===null)return null;var a=n.duration==="auto"?0:n.duration,s=O8e(a,r,n.iterations,i,n.iterationStart),o=T8e(s,n.iterationStart,r,n.iterations,i,a),l=M8e(r,n.iterations,o,s),c=A8e(n.direction,l,o);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function P8e(e,t,n){var r=R8e(e,t),i=$8e(r,n);return function(a,s){if(s!==null)i.filter(function(l){return s>=l.applyFrom&&s<l.applyTo}).forEach(function(l){var c=s-l.startOffset,u=l.endOffset-l.startOffset,d=u===0?0:c/u;a.setAttribute(l.property,l.interpolation(d),!1,!1)});else for(var o in r)hre(o)&&a.setAttribute(o,null)}}function hre(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function R8e(e,t){for(var n={},r=0;r<e.length;r++)for(var i in e[r])if(hre(i)){var a={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:y6(e[r].easing)||t.easingFunction,value:e[r][i]};n[i]=n[i]||[],n[i].push(a)}return n}function $8e(e,t){var n=[];for(var r in e)for(var i=e[r],a=0;a<i.length-1;a++){var s=a,o=a+1,l=i[s].computedOffset,c=i[o].computedOffset,u=l,d=c;a===0&&(u=-1/0,c===0&&(o=s)),a===i.length-2&&(d=1/0,l===1&&(s=o)),n.push({applyFrom:u,applyTo:d,startOffset:i[s].computedOffset,endOffset:i[o].computedOffset,easingFunction:i[s].easingFunction,property:r,interpolation:k8e(r,i[s].value,i[o].value,t)})}return n.sort(function(h,g){return h.startOffset-g.startOffset}),n}var sU=function(t,n,r){return function(i){var a=pre(t,n,i);return qs(a)?a:r(a)}};function k8e(e,t,n,r){var i=Une[e];if(i&&i.syntax&&i.int){var a=Qn.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var s=a.parser,o=s?s(t,r):t,l=s?s(n,r):n,c=a.mixer(o,l,r);if(c){var u=sU.apply(void 0,_n(c));return function(d){return d===0?t:d===1?n:u(d)}}}}return sU(!1,!0,function(d){return d?n:t})}function pre(e,t,n){if(typeof e=="number"&&typeof t=="number")return e*(1-n)+t*n;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,i=t.length,a=Math.max(r,i),s=[],o=0;o<a;o++)s.push(pre(e[o<r?o:r-1],t[o<i?o:i-1],n));return s}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var L8e=function(){function e(){En(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=m8e,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return On(e,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=y6(n),this._easing=n}}])}();function N8e(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!t[a]){var s={};"offset"in e&&(s.offset=Number(e.offset)),"easing"in e&&(s.easing=e.easing),"composite"in e&&(s.composite=e.composite),t[a]=s}r[a]!==void 0&&r[a]!==null&&(t[a][n]=r[a])}}return t.sort(function(o,l){return(o.computedOffset||0)-(l.computedOffset||0)}),t}function lU(e,t){if(e===null)return[];Array.isArray(e)||(e=N8e(e));for(var n=e.map(function(l){var c={};t!=null&&t.composite&&(c.composite="auto");for(var u in l){var d=l[u];if(u==="offset"){if(d!==null){if(d=Number(d),!isFinite(d))throw new Error("Keyframe offsets must be numbers.");if(d<0||d>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=d}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(d)===-1)throw new Error("".concat(d," compositing is not supported"));c[u]=d}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=t?.easing||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<n.length;a++){var s=n[a].offset;if(ri(s))r=!1;else{if(s<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=s}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function o(){var l,c=n,u=c.length;if(n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1){var d;n[0].computedOffset=Number((d=n[0].offset)!==null&&d!==void 0?d:0)}for(var h=0,g=Number(n[0].computedOffset),v=1;v<u;v++){var x=n[v].computedOffset;if(!ri(x)&&!ri(g)){for(var w=1;w<v-h;w++)n[h+w].computedOffset=g+(Number(x)-g)*w/(v-h);h=v,g=Number(x)}}}return r||o(),n}var D8e="backwards|forwards|both|none".split("|"),z8e="reverse|alternate|alternate-reverse".split("|");function B8e(e,t){var n=new L8e;return typeof e=="number"&&!isNaN(e)?n.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&D8e.indexOf(e[r])===-1||r==="direction"&&z8e.indexOf(e[r])===-1)return;n[r]=e[r]}}),n}function j8e(e,t){return e=F8e(e??{duration:"auto"}),B8e(e)}function F8e(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var H8e=function(){function e(t,n,r){var i=this;En(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=j8e(r),this.timing.effect=this,this.timing.activeDuration=w8e(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=lU(n,this.timing),this.interpolations=P8e(this.normalizedKeyframes,this.timing,this.target);var a=Qn.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(o,l){return l==="duration"?o.duration==="auto"?0:o.duration:l==="fill"?o.fill==="auto"?"none":o.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:o.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:o.progress||0:o[l]},set:function(){return!0}}):this.timing}return On(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=I8e(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=lU(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(i){r.timing[i]=n[i]})}}])}();function cU(e,t){return Number(e.id)-Number(t.id)}var V8e=function(){function e(t){var n=this;En(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(cU),n.animations=n.tick(r,!0,n.animations)[0],i.forEach(function(a){a[1](r)}),n.applyPendingEffects()},this.document=t}return On(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,i){var a=new H8e(n,r,i),s=new a8e(a,this);return this.animations.push(s),this.restartWebAnimationsNextTick(),s.updatePromises(),s.play(),s.updatePromises(),s}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var i=n.targetAnimations();i.sort(cU);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(s){var o=r.animations.indexOf(s);o!==-1&&r.animations.splice(o,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),n(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,i){var a=this,s,o;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],c=[],u=[],d=[];return i.forEach(function(h){h.tick(n,r),h._inEffect?(c.push(h.effect),h.markTarget()):(l.push(h.effect),h.unmarkTarget()),h._needsTick&&(a.ticking=!0);var g=h._inEffect||h._needsTick;h._inTimeline=g,g?u.push(h):d.push(h)}),(s=this.pendingEffects).push.apply(s,l),(o=this.pendingEffects).push.apply(o,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,d]}}])}();Qn.EasingFunction=y6;Qn.AnimationTimeline=V8e;function Jr(e){return new RI([e],null,e,e.ownerDocument)}let RI=class Gu{constructor(t=null,n=null,r=null,i=null,a=[null,null,null,null,null],s=[],o=[]){this._elements=Array.from(t),this._data=n,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=s,this._facetElements=o}selectAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new Gu(n,null,this._elements[0],this._document)}selectFacetAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new Gu(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(t){const n=typeof t=="string"?this._parent.querySelectorAll(t)[0]||null:t;return new Gu([n],null,n,this._document)}append(t){const n=typeof t=="function"?t:()=>this.createElement(t),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[s,o]=Array.isArray(a)?a:[a,null],l=n(s,i);l.__data__=s,o!==null&&(l.__fromElements__=o),this._parent.appendChild(l),r.push(l)}return new Gu(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],s=a.__data__,o=n(s,i);a.appendChild(o),r.push(o)}return new Gu(r,null,r[0],this._document)}}maybeAppend(t,n,r){const i=this._elements[0],a=i.getElementById(t);if(a)return new Gu([a],null,this._parent,this._document);const s=typeof n=="string"?this.createElement(n):n();return s.id=t,r&&(s.className=r),i.appendChild(s),new Gu([s],null,this._parent,this._document)}data(t,n=i=>i,r=()=>null){const i=[],a=[],s=new Set(this._elements),o=[],l=new Set,c=new Map(this._elements.map((g,v)=>[n(g.__data__,v),g])),u=new Map(this._facetElements.map((g,v)=>[n(g.__data__,v),g])),d=Rs(this._elements,g=>r(g.__data__));for(let g=0;g<t.length;g++){const v=t[g],x=n(v,g),w=r(v,g);if(c.has(x)){const C=c.get(x);C.__data__=v,C.__facet__=!1,a.push(C),s.delete(C),c.delete(x)}else if(u.has(x)){const C=u.get(x);C.__data__=v,C.__facet__=!0,a.push(C),u.delete(x)}else if(d.has(x)){const C=d.get(x);o.push([v,C]);for(const E of C)s.delete(E);d.delete(x)}else if(c.has(w)){const C=c.get(w);C.__toData__?C.__toData__.push(v):C.__toData__=[v],l.add(C),s.delete(C)}else i.push(v)}const h=[new Gu([],i,this._parent,this._document),new Gu(a,null,this._parent,this._document),new Gu(s,null,this._parent,this._document),new Gu([],o,this._parent,this._document),new Gu(l,null,this._parent,this._document)];return new Gu(this._elements,null,this._parent,this._document,h)}merge(t){const n=[...this._elements,...t._elements],r=[...this._transitions,...t._transitions];return new Gu(n,null,this._parent,this._document,void 0,r)}createElement(t){if(this._document)return this._document.createElement(t,{});const n=Gu.registry[t];return n?new n:JS(`Unknown node type: ${t}`)}join(t=s=>s,n=s=>s,r=s=>s.remove(),i=s=>s,a=s=>s.remove()){const s=t(this._enter),o=n(this._update),l=r(this._exit),c=i(this._merge),u=a(this._split);return o.merge(s).merge(l).merge(c).merge(u)}remove(){for(let t=0;t<this._elements.length;t++){const n=this._transitions[t];if(n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(i=>i.finished)).then(()=>{this._elements[t].remove()})}else this._elements[t].remove()}return new Gu([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],i=r.__data__;t(i,n,r)}return this}attr(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,s){n!==void 0&&(s[t]=r(i,a,s))})}style(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,s){n!==void 0&&(s.style[t]=r(i,a,s))})}transition(t){const n=typeof t!="function"?()=>t:t,{_transitions:r}=this;return this.each(function(i,a,s){r[a]=n(i,a,s)})}on(t,n){return this.each(function(r,i,a){a.addEventListener(t,n)}),this}call(t,...n){return t(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};RI.registry={g:Jc,rect:L1,circle:Uy,path:Td,text:vg,ellipse:g$,image:m$,line:Bx,polygon:jx,polyline:v$,html:iT};function vM(e,t,n){return Math.max(t,Math.min(e,n))}function $I(e,t=10){return typeof e!="number"||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(t))}function Dr(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function U8e(e,t){return t.forEach((n,r)=>r===0?e.moveTo(n[0],n[1]):e.lineTo(n[0],n[1])),e.closePath(),e}function G8e(e,t,n){const{arrowSize:r}=n,i=typeof r=="string"?+parseFloat(r)/100*ml(e,t):r,a=Math.PI/6,s=Math.atan2(t[1]-e[1],t[0]-e[0]),o=Math.PI/2-s-a,l=[t[0]-i*Math.sin(o),t[1]-i*Math.cos(o)],c=s-a,u=[t[0]-i*Math.cos(c),t[1]-i*Math.sin(c)];return[l,u]}function JE(e,t,n,r,i){const a=mg(Rl(r,t))+Math.PI,s=mg(Rl(r,n))+Math.PI;return e.arc(r[0],r[1],i,a,s,s-a<0),e}function gre(e,t,n,r="y",i="between",a=!1){const s=(w,C)=>w==="y"||w===!0?C?180:90:C?90:0,o=r==="y"||r===!0?n:t,l=s(r,a),c=Lx(o),[u,d]=zy(c,w=>o[w]),h=new ks({domain:[u,d],range:[0,100]}),g=w=>qs(o[w])&&!Number.isNaN(o[w])?h.map(o[w]):0,v={between:w=>`${e[w]} ${g(w)}%`,start:w=>w===0?`${e[w]} ${g(w)}%`:`${e[w-1]} ${g(w)}%, ${e[w]} ${g(w)}%`,end:w=>w===e.length-1?`${e[w]} ${g(w)}%`:`${e[w]} ${g(w)}%, ${e[w+1]} ${g(w)}%`},x=c.sort((w,C)=>g(w)-g(C)).map(v[i]||v.between).join(",");return`linear-gradient(${l}deg, ${x})`}function b$(e){const[t,n,r,i]=e;return[i,t,n,r]}function Fx(e,t,n){const[r,i,,a]=Gs(e)?b$(t):t,[s,o]=n,l=e.getCenter(),c=t2(Rl(r,l)),u=t2(Rl(i,l)),d=u===c&&s!==o?u+Math.PI*2:u;return{startAngle:c,endAngle:d-c>=0?d:Math.PI*2+d,innerRadius:ml(a,l),outerRadius:ml(r,l)}}function _6(e){const{colorAttribute:t,opacityAttribute:n=t}=e;return`${n}Opacity`}function mre(e,t){if(!gs(e))return"";const n=e.getCenter(),{transform:r}=t;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function x6(e){if(e.length===1)return e[0];const[[t,n,r=0],[i,a,s=0]]=e;return[(t+i)/2,(n+a)/2,(r+s)/2]}var gA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function vre(e,t,n,r,i={}){const{inset:a=0,radius:s=0,insetLeft:o=a,insetTop:l=a,insetRight:c=a,insetBottom:u=a,radiusBottomLeft:d=s,radiusBottomRight:h=s,radiusTopLeft:g=s,radiusTopRight:v=s,minWidth:x=-1/0,maxWidth:w=1/0,minHeight:C=-1/0}=i,E=gA(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!gs(r)&&!yne(r)){const H=!!Gs(r),[U,,q]=H?b$(t):t,[K,Q]=U,[X,te]=Rl(q,U),ee=X>0?K:K+X,Z=te>0?Q:Q+te,re=Math.abs(X),oe=Math.abs(te),ce=ee+o,le=Z+l,pe=re-(o+c),ye=oe-(l+u),_e=H?vM(pe,C,1/0):vM(pe,x,w),Se=H?vM(ye,x,w):vM(ye,C,1/0),Re=H?ce:ce-(_e-pe)/2,je=H?le-(Se-ye)/2:le-(Se-ye);return Jr(e.createElement("rect",{})).style("x",Re).style("y",je).style("width",_e).style("height",Se).style("radius",[g,v,h,d]).call(Dr,E).node()}const{y:M,y1:R}=n,L=r.getCenter(),N=Fx(r,t,[M,R]),D=r6().cornerRadius(s).padAngle(a*Math.PI/180);return Jr(e.createElement("path",{})).style("d",D(N)).style("transform",`translate(${L[0]}, ${L[1]})`).style("radius",s).style("inset",a).call(Dr,E).node()}const aT=(e,t)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:a=!0}=e,s=gA(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:o,document:l}=t;return(c,u,d)=>{const{color:h,radius:g=0}=d,v=gA(d,["color","radius"]),x=v.lineWidth||1,{stroke:w,radius:C=g,radiusTopLeft:E=C,radiusTopRight:M=C,radiusBottomRight:R=C,radiusBottomLeft:L=C,innerRadius:N=0,innerRadiusTopLeft:D=N,innerRadiusTopRight:H=N,innerRadiusBottomRight:U=N,innerRadiusBottomLeft:q=N,lineWidth:K=n==="stroke"||w?x:0,inset:Q=0,insetLeft:X=Q,insetRight:te=Q,insetBottom:ee=Q,insetTop:Z=Q,minWidth:re,maxWidth:oe,minHeight:ce}=s,le=gA(s,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:pe=h,opacity:ye}=u,_e=[i?E:D,i?M:H,a?R:U,a?L:q],Se=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];Gs(o)&&Se.push(Se.shift());const Re=Object.assign(Object.assign({radius:C},Object.fromEntries(Se.map((je,Fe)=>[je,_e[Fe]]))),{inset:Q,insetLeft:X,insetRight:te,insetBottom:ee,insetTop:Z,minWidth:re,maxWidth:oe,minHeight:ce});return Jr(vre(l,c,u,o,Re)).call(Dr,v).style("fill","transparent").style(n,pe).style(_6(e),ye).style("lineWidth",K).style("stroke",w===void 0?pe:w).call(Dr,le).node()}};aT.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Hx=(e,t)=>aT(Object.assign({colorAttribute:"fill"},e),t);Hx.props=Object.assign(Object.assign({},aT.props),{defaultMarker:"square"});const _$=(e,t)=>aT(Object.assign({colorAttribute:"stroke"},e),t);_$.props=Object.assign(Object.assign({},aT.props),{defaultMarker:"hollowSquare"});var uU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function W8e(e,t,n){const[r,i,a,s]=e;if(Gs(n)){const c=[t?t[0][0]:i[0],i[1]],u=[t?t[3][0]:a[0],a[1]];return[r,c,u,s]}const o=[i[0],t?t[0][1]:i[1]],l=[a[0],t?t[3][1]:a[1]];return[r,o,l,s]}const w6=(e,t)=>{const{adjustPoints:n=W8e}=e,r=uU(e,["adjustPoints"]),{coordinate:i,document:a}=t;return(s,o,l,c)=>{const{index:u}=o,{color:d}=l,h=uU(l,["color"]),g=c[u+1],v=n(s,g,i),x=!!Gs(i),[w,C,E,M]=x?b$(v):v,{color:R=d,opacity:L}=o,N=Dx().curve(s6)([w,C,E,M]);return Jr(a.createElement("path",{})).call(Dr,h).style("d",N).style("fill",R).style("fillOpacity",L).call(Dr,r).node()}};w6.props={defaultMarker:"square"};function q8e(e,t,n){const[r,i,a,s]=e;if(Gs(n)){const c=[t?t[0][0]:(i[0]+a[0])/2,i[1]],u=[t?t[3][0]:(i[0]+a[0])/2,a[1]];return[r,c,u,s]}const o=[i[0],t?t[0][1]:(i[1]+a[1])/2],l=[a[0],t?t[3][1]:(i[1]+a[1])/2];return[r,o,l,s]}const yre=(e,t)=>w6(Object.assign({adjustPoints:q8e},e),t);yre.props={defaultMarker:"square"};function a2(e){const t=typeof e=="function"?e:e.render;return class extends rT{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}var fU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const K8e=a2(e=>{const{d1:t,d2:n,style1:r,style2:i}=e.attributes,a=e.ownerDocument;Jr(e).maybeAppend("line",()=>a.createElement("path",{})).style("d",t).call(Dr,r),Jr(e).maybeAppend("line1",()=>a.createElement("path",{})).style("d",n).call(Dr,i)});function Y8e(e,t){const n=[],r=[];let i=!1,a=null;for(const s of e)!t(s[0])||!t(s[1])?i=!0:(n.push(s),i&&(i=!1,r.push([a,s])),a=s);return[n,r]}const Eg=(e,t)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:a=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:s=!1}=e,o=fU(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=t;return(u,d,h)=>{const{color:g,lineWidth:v}=h,x=fU(h,["color","lineWidth"]),{color:w=g,size:C=v,seriesColor:E,seriesX:M,seriesY:R}=d,L=mre(l,d),N=Gs(l),D=r&&E?gre(E,M,R,r,i,N):w,H=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},x),D&&{stroke:D}),C&&{lineWidth:C}),L&&{transform:L}),o);let U;if(gs(l)){const ee=l.getCenter();U=Z=>e4e().angle((re,oe)=>t2(Rl(Z[oe],ee))).radius((re,oe)=>ml(Z[oe],ee)).defined(([re,oe])=>a(re)&&a(oe)).curve(n)(Z)}else U=Dx().x(ee=>ee[0]).y(ee=>ee[1]).defined(([ee,Z])=>a(ee)&&a(Z)).curve(n);const[q,K]=Y8e(u,a),Q=or(H,"connect"),X=!!K.length;if(!X||s&&!Object.keys(Q).length)return Jr(c.createElement("path",{})).style("d",U(q)||[]).call(Dr,H).node();if(X&&!s)return Jr(c.createElement("path",{})).style("d",U(u)).call(Dr,H).node();const te=ee=>ee.map(U).join(",");return Jr(new K8e).style("style1",Object.assign(Object.assign({},H),Q)).style("style2",H).style("d1",te(K)).style("d2",U(u)).node()}};Eg.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bre=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const i=gs(n)?s6:eT;return Eg(Object.assign({curve:i},e),t)(...r)}};bre.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"line"});var X8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _re=(e,t)=>{const n=X8e(e,[]),{coordinate:r}=t;return(...i)=>{const a=gs(r)?cne:Gs(r)?pne:hne;return Eg(Object.assign({curve:a},n),t)(...i)}};_re.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"smooth"});const xre=(e,t)=>Eg(Object.assign({curve:vne},e),t);xre.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"hv"});const wre=(e,t)=>Eg(Object.assign({curve:mne},e),t);wre.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"vh"});const Sre=(e,t)=>Eg(Object.assign({curve:gne},e),t);Sre.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"hvh"});var Z8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Q8e(e,t,n,r,i){const a=Rl(n,t),s=mg(a),o=s+Math.PI/2,l=[r/2*Math.cos(o),r/2*Math.sin(o)],c=[i/2*Math.cos(o),i/2*Math.sin(o)],u=[i/2*Math.cos(s),i/2*Math.sin(s)],d=[r/2*Math.cos(s),r/2*Math.sin(s)],h=WT(t,l),g=WT(n,c),v=WT(g,u),x=WT(n,u),w=Rl(x,c),C=Rl(n,c),E=Rl(t,l),M=Rl(E,d),R=Rl(t,d),L=Rl(h,d);e.moveTo(...h),e.lineTo(...g),e.arcTo(...v,...x,i/2),e.arcTo(...w,...C,i/2),e.lineTo(...E),e.arcTo(...M,...R,r/2),e.arcTo(...L,...h,r/2),e.closePath()}const Cre=(e,t)=>{const{document:n}=t;return(r,i,a)=>{const{seriesSize:s,color:o}=i,{color:l}=a,c=Z8e(a,["color"]),u=Sg();for(let d=0;d<r.length-1;d++){const h=r[d],g=r[d+1],v=s[d],x=s[d+1];[...h,...g].every(Es)&&Q8e(u,h,g,v,x)}return Jr(n.createElement("path",{})).call(Dr,c).style("fill",o||l).style("d",u.toString()).call(Dr,e).node()}};Cre.props=Object.assign(Object.assign({},Eg.props),{defaultMarker:"line"});var J8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const S6=(e,t,n)=>[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]];S6.style=["fill"];const Ere=S6.bind(void 0);Ere.style=["stroke","lineWidth"];const x$=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]];x$.style=["fill"];const Ore=x$.bind(void 0);Ore.style=["fill"];const Tre=x$.bind(void 0);Tre.style=["stroke","lineWidth"];const C6=(e,t,n)=>{const r=n*.618;return[["M",e-r,t],["L",e,t-n],["L",e+r,t],["L",e,t+n],["Z"]]};C6.style=["fill"];const Mre=C6.bind(void 0);Mre.style=["stroke","lineWidth"];const E6=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]};E6.style=["fill"];const Are=E6.bind(void 0);Are.style=["stroke","lineWidth"];const O6=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]};O6.style=["fill"];const Ire=O6.bind(void 0);Ire.style=["stroke","lineWidth"];const T6=(e,t,n)=>{const r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]};T6.style=["fill"];const Pre=T6.bind(void 0);Pre.style=["stroke","lineWidth"];const M6=(e,t,n)=>{const r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]};M6.style=["fill"];const Rre=M6.bind(void 0);Rre.style=["stroke","lineWidth"];const $re=(e,t,n)=>[["M",e,t+n],["L",e,t-n]];$re.style=["stroke","lineWidth"];const kre=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]];kre.style=["stroke","lineWidth"];const Lre=(e,t,n)=>[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]];Lre.style=["stroke","lineWidth"];const Nre=(e,t,n)=>[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]];Nre.style=["stroke","lineWidth"];const Dre=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];Dre.style=["stroke","lineWidth"];const A6=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];A6.style=["stroke","lineWidth"];const zre=A6.bind(void 0);zre.style=["stroke","lineWidth"];const Bre=(e,t,n)=>[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]];Bre.style=["stroke","lineWidth"];const jre=(e,t,n)=>[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]];jre.style=["stroke","lineWidth"];const Fre=(e,t,n)=>[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]];Fre.style=["stroke","lineWidth"];const Hre=(e,t,n)=>[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]];Hre.style=["stroke","lineWidth"];const Vre=(e,t,n)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];Vre.style=["stroke","lineWidth"];const eO=new Map([["bowtie",M6],["cross",kre],["dash",zre],["diamond",C6],["dot",A6],["hexagon",T6],["hollowBowtie",Rre],["hollowDiamond",Mre],["hollowHexagon",Pre],["hollowPoint",Ere],["hollowSquare",Tre],["hollowTriangle",Are],["hollowTriangleDown",Ire],["hv",jre],["hvh",Hre],["hyphen",Dre],["line",$re],["plus",Nre],["point",S6],["rect",Ore],["smooth",Bre],["square",x$],["tick",Lre],["triangleDown",O6],["triangle",E6],["vh",Fre],["vhv",Vre]]);function eje(e,t){var{d:n,fill:r,lineWidth:i,path:a,stroke:s,color:o}=t,l=J8e(t,["d","fill","lineWidth","path","stroke","color"]);const c=eO.get(e)||eO.get("point");return(...u)=>new Td({style:Object.assign(Object.assign({},l),{d:c(...u),stroke:c.style.includes("stroke")?o||s:"",fill:c.style.includes("fill")?o||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}function tje(e,t){eO.set(e,t)}function I6(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}function nje(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var rje=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ure(e,t,n,r){if(t.length===1)return;const{size:i}=n;if(e==="fixed")return i;if(e==="normal"||bne(r)){const[[a,s],[o,l]]=t,c=Math.abs((o-a)/2),u=Math.abs((l-s)/2);return Math.max(0,(c+u)/2)}return i}const Ea=(e,t)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=e,a=rje(e,["colorAttribute","symbol","mode"]),s=eO.get(I6(r))||eO.get("point"),{coordinate:o,document:l}=t;return(c,u,d)=>{const{lineWidth:h,color:g}=d,v=a.stroke?h||1:h,{color:x=g,transform:w,opacity:C}=u,[E,M]=x6(c),L=Ure(i,c,u,o)||a.r||d.r;return Jr(l.createElement("path",{})).call(Dr,d).style("fill","transparent").style("d",s(E,M,L)).style("lineWidth",v).style("transform",w).style("transformOrigin",`${E-L} ${M-L}`).style("stroke",x).style(_6(e),C).style(n,x).call(Dr,a).node()}};Ea.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Gre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);Gre.props=Object.assign({defaultMarker:"hollowBowtie"},Ea.props);const Wre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);Wre.props=Object.assign({defaultMarker:"hollowDiamond"},Ea.props);const qre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);qre.props=Object.assign({defaultMarker:"hollowHexagon"},Ea.props);const Kre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);Kre.props=Object.assign({defaultMarker:"hollowPoint"},Ea.props);const Yre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);Yre.props=Object.assign({defaultMarker:"hollowSquare"},Ea.props);const Xre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);Xre.props=Object.assign({defaultMarker:"hollowTriangle"},Ea.props);const Zre=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);Zre.props=Object.assign({defaultMarker:"hollowTriangleDown"},Ea.props);var ije=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Qre=(e,t)=>{const{colorAttribute:n,mode:r="auto"}=e,i=ije(e,["colorAttribute","mode"]),{coordinate:a,document:s}=t;return(o,l,c)=>{const{lineWidth:u,color:d}=c,h=i.stroke?u||1:u,{color:g=d,transform:v,opacity:x}=l,[w,C]=x6(o),M=Ure(r,o,l,a)||i.r||c.r;return Jr(s.createElement("circle",{})).call(Dr,c).style("fill","transparent").style("cx",w).style("cy",C).style("r",M).style("lineWidth",h).style("transform",v).style("transformOrigin",`${w} ${C}`).style("stroke",g).style(_6(e),x).style(n,g).call(Dr,i).node()}},P6=(e,t)=>Qre(Object.assign({colorAttribute:"fill"},e),t);P6.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const Jre=(e,t)=>Qre(Object.assign({colorAttribute:"stroke"},e),t);Jre.props=Object.assign({defaultMarker:"hollowPoint"},P6.props);const eie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);eie.props=Object.assign({defaultMarker:"bowtie"},Ea.props);const tie=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);tie.props=Object.assign({defaultMarker:"cross"},Ea.props);const nie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);nie.props=Object.assign({defaultMarker:"diamond"},Ea.props);const rie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);rie.props=Object.assign({defaultMarker:"hexagon"},Ea.props);const iie=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);iie.props=Object.assign({defaultMarker:"hyphen"},Ea.props);const aie=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);aie.props=Object.assign({defaultMarker:"line"},Ea.props);const oie=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);oie.props=Object.assign({defaultMarker:"plus"},Ea.props);const sie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);sie.props=Object.assign({defaultMarker:"point"},Ea.props);const lie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);lie.props=Object.assign({defaultMarker:"square"},Ea.props);const cie=(e,t)=>Ea(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);cie.props=Object.assign({defaultMarker:"tick"},Ea.props);const uie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);uie.props=Object.assign({defaultMarker:"triangle"},Ea.props);const fie=(e,t)=>Ea(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);fie.props=Object.assign({defaultMarker:"triangleDown"},Ea.props);var dU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const R6=(e,t)=>{const{arrow:n=!0,arrowSize:r="40%"}=e,i=dU(e,["arrow","arrowSize"]),{document:a}=t;return(s,o,l)=>{const{defaultColor:c}=l,u=dU(l,["defaultColor"]),{color:d=c,transform:h}=o,[g,v]=s,x=Sg();if(x.moveTo(...g),x.lineTo(...v),n){const[w,C]=G8e(g,v,{arrowSize:r});x.moveTo(...w),x.lineTo(...v),x.lineTo(...C)}return Jr(a.createElement("path",{})).call(Dr,u).style("d",x.toString()).style("stroke",d).style("transform",h).call(Dr,i).node()}};R6.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function die(e,t){t(e),e.children&&e.children.forEach(function(n){n&&die(n,t)})}function oT(e){w$(e,!0)}function N1(e){w$(e,!1)}function w$(e,t){var n=t?"visible":"hidden";die(e,function(r){r.attr("visibility",n)})}var aje=function(e){yl(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,Pr([],ot(n),!1))||this;return i.isMutationObserved=!0,i.addEventListener(ia.INSERTED,function(){N1(i)}),i}return t}(Jc);function hie(e){var t=e.appendChild(new aje({class:"offscreen"}));return N1(t),t}function oje(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var $6=function(e){yl(t,e);function t(n){n===void 0&&(n={});var r=n.style,i=wu(n,["style"]);return e.call(this,Xn({style:Xn({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=hie(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t}(vg);function o2(e){return e*Math.PI/180}function pie(e){return Number((e*180/Math.PI).toPrecision(5))}var Js=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=n,this.width=r,this.height=i}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,n){return t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom},e}();function yg(e,t){return Yc(e)?e.apply(void 0,Pr([],ot(t),!1)):e}var Og=function(e,t){var n=function(i){return"".concat(t,"-").concat(i)},r=Object.fromEntries(Object.entries(e).map(function(i){var a=ot(i,2),s=a[0],o=a[1],l=n(o);return[s,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:n}),r},sje=5,gie=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=sje),Object.entries(t).forEach(function(i){var a=ot(i,2),s=a[0],o=a[1],l=e;Object.prototype.hasOwnProperty.call(t,s)&&(o?Hy(o)?(Hy(e[s])||(l[s]={}),n<r?gie(e[s],o,n+1,r):l[s]=t[s]):Qc(o)?(l[s]=[],l[s]=l[s].concat(o)):l[s]=o:l[s]=o)})},Gy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)gie(e,t[r]);return e},mie=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},yM,lje=M3e(function(e,t){var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return yM||(yM=Qn.offscreenCanvasCreator.getOrCreateContext(void 0)),yM.font=[a,s,i,"".concat(n,"px"),r].join(" "),yM.measureText(e).width},function(e,t){return[e,Object.values(t||vie(e)).join()].join("")},4096),vie=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",i=e.style.fontVariant,a=e.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:i}};function yie(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function bie(e,t){var n=yie(e);n&&n.attr(t)}function E5(e,t,n){n===void 0&&(n="..."),bie(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function cje(e,t,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),bie(e,{wordWrap:!0,wordWrapWidth:t,maxLines:n,textBaseline:r})}function kI(e){var t=e.canvas,n=e.touches,r=e.offsetX,i=e.offsetY;if(t){var a=t.x,s=t.y;return[a,s]}if(n){var o=n[0],l=o.clientX,c=o.clientY;return[l,c]}return r&&i?[r,i]:[0,0]}function xx(e){return typeof e=="function"?e():el(e)||qs(e)?new $6({style:{text:String(e)}}):e}function uje(e,t){return e.reduce(function(n,r){return(n[r[t]]=n[r[t]]||[]).push(r),n},{})}function dh(e,t,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),e?n(t):(r&&i(t),null)}function Wu(e,t,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&e===t||i&&e===n?!0:e>t&&e<n}var fje=function(e,t){return function(n){return e*(1-n)+t*n}};function dje(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(i){var a=new Array(r),s=new Array(n),o=0;for(o=0;o<r;++o)a[o]=k6(e[o],t[o]);for(;o<n;++o)s[o]=t[o];for(o=0;o<r;++o)s[o]=a[o](i);return s}}function hje(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},r={};return Object.entries(t).forEach(function(i){var a=ot(i,2),s=a[0],o=a[1];s in e?n[s]=k6(e[s],o):r[s]=o}),function(i){return Object.entries(n).forEach(function(a){var s=ot(a,2),o=s[0],l=s[1];return r[o]=l(i)}),r}}function k6(e,t){return typeof e=="number"&&typeof t=="number"?fje(e,t):Array.isArray(e)&&Array.isArray(t)?dje(e,t):typeof e=="object"&&typeof t=="object"?hje(e,t):function(n){return e}}function pje(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var i=r.duration,a=i===void 0?0:i,s=k6(t,n),o=Math.ceil(+a/16),l=new Array(o).fill(0).map(function(c,u,d){return{__keyframe_data__:s(u/(d.length-1))}});return e.animate(l,Xn({fill:"both"},r))}function hU(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<e.length;a++){var s=e[a],o=s.x,l=s.y,c=s.width,u=s.height,d=ot([o+c,l+u],2),h=d[0],g=d[1];o<t&&(t=o),l<n&&(n=l),h>r&&(r=h),g>i&&(i=g)}return new Js(t,n,r-t,i-n)}var gje=function(e,t,n){var r=e.width,i=e.height,a=n.flexDirection,s=a===void 0?"row":a;n.flexWrap;var o=n.justifyContent,l=o===void 0?"flex-start":o;n.alignContent;var c=n.alignItems,u=c===void 0?"flex-start":c,d=s==="row",h=s==="row"||s==="column",g=d?h?[1,0]:[-1,0]:h?[0,1]:[0,-1],v=ot([0,0],2),x=v[0],w=v[1],C=t.map(function(H){var U,q=H.width,K=H.height,Q=ot([x,w],2),X=Q[0],te=Q[1];return U=ot([x+q*g[0],w+K*g[1]],2),x=U[0],w=U[1],new Js(X,te,q,K)}),E=hU(C),M={"flex-start":0,"flex-end":d?r-E.width:i-E.height,center:d?(r-E.width)/2:(i-E.height)/2},R=C.map(function(H){var U=H.x,q=H.y,K=Js.fromRect(H);return K.x=d?U+M[l]:U,K.y=d?q:q+M[l],K});hU(R);var L=function(H){var U=ot(d?["height",i]:["width",r],2),q=U[0],K=U[1];switch(u){case"flex-start":return 0;case"flex-end":return K-H[q];case"center":return K/2-H[q]/2;default:return 0}},N=R.map(function(H){var U=H.x,q=H.y,K=Js.fromRect(H);return K.x=d?U:U+L(K),K.y=d?q+L(K):q,K}),D=N.map(function(H){var U,q,K=Js.fromRect(H);return K.x+=(U=e.x)!==null&&U!==void 0?U:0,K.y+=(q=e.y)!==null&&q!==void 0?q:0,K});return D},mje=function(e,t,n){return[]};const vje=function(e,t,n){if(t.length===0)return[];var r={flex:gje,grid:mje},i=n.display in r?r[n.display]:null;return i?.call(null,e,t,n)||[]};function Ty(e,t){return[e[0]*t,e[1]*t]}function kC(e,t){return[e[0]+t[0],e[1]+t[1]]}function cL(e,t){return[e[0]-t[0],e[1]-t[1]]}function D_(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function z_(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function tO(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function _ie(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function yje(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function O5(e,t){return+e.toPrecision(t)}function pU(e,t){var n={},r=Array.isArray(t)?t:[t];for(var i in e)r.includes(i)||(n[i]=e[i]);return n}function bje(e,t,n,r){var i,a=[],s=!!r,o,l,c=[1/0,1/0],u=[-1/0,-1/0],d,h,g;if(s){i=ot(r,2),c=i[0],u=i[1];for(var v=0,x=e.length;v<x;v+=1){var w=e[v];c=D_(c,w),u=z_(u,w)}}for(var v=0,C=e.length;v<C;v+=1){var w=e[v];if(v===0)g=w;else if(v===C-1)h=w,a.push(g),a.push(h);else{var E=[v?v-1:C-1,v-1][1];o=e[E],l=e[v+1];var M=[0,0];M=cL(l,o),M=Ty(M,t);var R=tO(w,o),L=tO(w,l),N=R+L;N!==0&&(R/=N,L/=N);var D=Ty(M,-R),H=Ty(M,L);h=kC(w,D),d=kC(w,H),d=D_(d,z_(l,w)),d=z_(d,D_(l,w)),D=cL(d,w),D=Ty(D,-R/L),h=kC(w,D),h=D_(h,z_(o,w)),h=z_(h,D_(o,w)),H=cL(w,h),H=Ty(H,L/R),d=kC(w,H),s&&(h=z_(h,c),h=D_(h,u),d=z_(d,c),d=D_(d,u)),a.push(g),a.push(h),g=d}}return a}function _je(e,t,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!1,i=[],a=0,s=e.length;a<s;a+=2)i.push([e[a],e[a+1]]);for(var o=bje(i,.4,r,n),l=i.length,c=[],u,d,h,a=0;a<l-1;a+=1)u=o[a*2],d=o[a*2+1],h=i[a+1],c.push(["C",u[0],u[1],d[0],d[1],h[0],h[1]]);return c}var xje=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function wje(e){return xje.includes(e)}function gU(e){var t={};for(var n in e)wje(n)&&(t[n]=e[n]);return t}function Sje(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],i=0;i<e.length;i+=n)r.push(e[i]);return r}function L6(e,t,n){var r=e.getBBox(),i=r.width,a=r.height,s=t/Math.max(i,a);return e.style.transform="scale(".concat(s,")"),s}function Cje(e,t){var n=new Map;return e.forEach(function(r){var i=t(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}),n}function Eje(e){throw new Error(e)}var Oje=function(){function e(i,a,s,o,l,c,u){i===void 0&&(i=null),a===void 0&&(a=null),s===void 0&&(s=null),o===void 0&&(o=null),l===void 0&&(l=[null,null,null,null,null]),c===void 0&&(c=[]),u===void 0&&(u=[]),t.add(this),this._elements=Array.from(i),this._data=a,this._parent=s,this._document=o,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=c,this._facetElements=u}e.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(a,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(this._elements,null,this._parent,this._document,void 0,void 0,a)},e.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new n([a],null,a,this._document)},e.prototype.append=function(i){var a=this,s=typeof i=="function"?i:function(){return a.createElement(i)},o=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var c=this._data[l],u=ot(Array.isArray(c)?c:[c,null],2),d=u[0],h=u[1],g=s(d,l);g.__data__=d,h!==null&&(g.__fromElements__=h),this._parent.appendChild(g),o.push(g)}return new n(o,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var v=this._elements[l],d=v.__data__,g=s(d,l);v.appendChild(g),o.push(g)}return new n(o,null,o[0],this._document)},e.prototype.maybeAppend=function(i,a){var s=k3(this,t,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return s.attr("id",i),s},e.prototype.maybeAppendByClassName=function(i,a){var s=i.toString(),o=k3(this,t,"m",r).call(this,s[0]==="."?s:".".concat(s),a);return o.attr("className",s),o},e.prototype.maybeAppendByName=function(i,a){var s=k3(this,t,"m",r).call(this,'[name="'.concat(i,'"]'),a);return s.attr("name",i),s},e.prototype.data=function(i,a,s){var o,l;a===void 0&&(a=function(q){return q}),s===void 0&&(s=function(){return null});for(var c=[],u=[],d=new Set(this._elements),h=[],g=new Set,v=new Map(this._elements.map(function(q,K){return[a(q.__data__,K),q]})),x=new Map(this._facetElements.map(function(q,K){return[a(q.__data__,K),q]})),w=Cje(this._elements,function(q){return s(q.__data__)}),C=0;C<i.length;C++){var E=i[C],M=a(E,C),R=s(E,C);if(v.has(M)){var L=v.get(M);L.__data__=E,L.__facet__=!1,u.push(L),d.delete(L),v.delete(M)}else if(x.has(M)){var L=x.get(M);L.__data__=E,L.__facet__=!0,u.push(L),x.delete(M)}else if(w.has(M)){var N=w.get(M);h.push([E,N]);try{for(var D=(o=void 0,px(N)),H=D.next();!H.done;H=D.next()){var L=H.value;d.delete(L)}}catch(q){o={error:q}}finally{try{H&&!H.done&&(l=D.return)&&l.call(D)}finally{if(o)throw o.error}}w.delete(M)}else if(v.has(R)){var L=v.get(R);L.__toData__?L.__toData__.push(E):L.__toData__=[E],g.add(L),d.delete(L)}else c.push(E)}var U=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(d,null,this._parent,this._document),new n([],h,this._parent,this._document),new n(g,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,U)},e.prototype.merge=function(i){var a=Pr(Pr([],ot(this._elements),!1),ot(i._elements),!1),s=Pr(Pr([],ot(this._transitions),!1),ot(i._transitions),!1);return new n(a,null,this._parent,this._document,void 0,s)},e.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=n.registry[i];return a?new a:Eje("Unknown node type: ".concat(i))},e.prototype.join=function(i,a,s,o,l){i===void 0&&(i=function(v){return v}),a===void 0&&(a=function(v){return v}),s===void 0&&(s=function(v){return v.remove()}),o===void 0&&(o=function(v){return v}),l===void 0&&(l=function(v){return v.remove()});var c=i(this._enter),u=a(this._update),d=s(this._exit),h=o(this._merge),g=l(this._split);return u.merge(c).merge(d).merge(h).merge(g)},e.prototype.remove=function(){for(var i=function(o){var l=a._elements[o],c=a._transitions[o];c?c.then(function(){return l.remove()}):l.remove()},a=this,s=0;s<this._elements.length;s++)i(s);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var s=this._elements[a],o=s.__data__;i.call(s,o,a)}return this},e.prototype.attr=function(i,a){var s=typeof a!="function"?function(){return a}:a;return this.each(function(o,l){a!==void 0&&(this[i]=s.call(this,o,l))})},e.prototype.style=function(i,a,s){s===void 0&&(s=!0);var o=typeof a!="function"||!s?function(){return a}:a;return this.each(function(l,c){a!==void 0&&(this.style[i]=o.call(this,l,c))})},e.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(s,o){var l=this;Object.entries(i).forEach(function(c){var u=ot(c,2),d=u[0],h=u[1],g=typeof h!="function"||!a?function(){return h}:h;h!==void 0&&l.attr(d,g.call(l,s,o))})})},e.prototype.update=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var s=typeof i!="function"||!a?function(){return i}:i;return this.each(function(o,l){i&&this.update&&this.update(s.call(this,o,l))})},e.prototype.transition=function(i){var a=this._transitions;return this.each(function(s,o){a[o]=i.call(this,s,o)})},e.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},e.prototype.call=function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return i.call.apply(i,Pr([this._parent,this],ot(a),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},e.prototype.parent=function(){return this._parent};var t,n,r;return n=e,t=new WeakSet,r=function(a,s){var o=this._elements[0],l=o.querySelector(a);if(l)return new n([l],null,this._parent,this._document);var c=typeof s=="string"?this.createElement(s):s();return o.appendChild(c),new n([c],null,this._parent,this._document)},e.registry={g:Jc,rect:L1,circle:Uy,path:Td,text:$6,ellipse:g$,image:m$,line:Bx,polygon:jx,polyline:v$,html:iT},e}();function zi(e){return new Oje([e],null,e,e.ownerDocument)}function Tje(e,t,n){return e.querySelector(t)?zi(e).select(t):zi(e).append(n)}function Yu(e){if(qs(e))return[e,e,e,e];if(Qc(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function mU(e){var t=e.getLocalBounds(),n=t.min,r=t.max,i=ot([n,r],2),a=ot(i[0],2),s=a[0],o=a[1],l=ot(i[1],2),c=l[0],u=l[1];return{x:s,y:o,width:c-s,height:u-o,left:s,bottom:u,top:o,right:c}}function Mje(e,t){var n=ot(e,2),r=n[0],i=n[1],a=ot(t,2),s=a[0],o=a[1];return r!==s&&i===o}function Aje(e,t){var n,r,i=t.attributes;try{for(var a=px(Object.entries(i)),s=a.next();!s.done;s=a.next()){var o=ot(s.value,2),l=o[0],c=o[1];l!=="id"&&l!=="className"&&e.attr(l,c)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function N6(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function Ije(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function Pje(e,t){return"".concat(t).concat(N6(e))}function vU(e,t,n){var r;n===void 0&&(n=!0);var i=t||((r=e.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=e.replace(new RegExp("^(".concat(i,")")),"");return n?Ije(a):a}function Rje(e,t){Object.entries(t).forEach(function(n){var r=ot(n,2),i=r[0],a=r[1];Pr([e],ot(e.querySelectorAll(i)),!1).filter(function(s){return s.matches(i)}).forEach(function(s){if(s){var o=s;o.style.cssText+=Object.entries(a).reduce(function(l,c){return"".concat(l).concat(c.join(":"),";")},"")}})})}var bM=function(e,t){if(!e?.startsWith(t))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function pa(e,t,n){n===void 0&&(n=!1);var r={};return Object.entries(e).forEach(function(i){var a=ot(i,2),s=a[0],o=a[1];if(!(s==="className"||s==="class")){if(bM(s,"show")&&bM(vU(s,"show"),t)!==n)s===Pje(t,"show")?r[s]=o:r[s.replace(new RegExp(N6(t)),"")]=o;else if(!bM(s,"show")&&bM(s,t)!==n){var l=vU(s,t);l==="filter"&&typeof o=="function"||(r[l]=o)}}}),r}function $v(e,t){return Object.entries(e).reduce(function(n,r){var i=ot(r,2),a=i[0],s=i[1];return a.startsWith("show")?n["show".concat(t).concat(a.slice(4))]=s:n["".concat(t).concat(N6(a))]=s,n},{})}function Wy(e,t){t===void 0&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(e).forEach(function(a){var s=ot(a,2),o=s[0],l=s[1];t.includes(o)||(n.indexOf(o)!==-1?i[o]=l:r[o]=l)}),[r,i]}function $je(e,t,n){var r=e.getBBox(),i=r.width,a=r.height,s=ot([t,n].map(function(c,u){var d;return c.includes("%")?parseFloat(((d=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||d===void 0?void 0:d[0])||"0")/100*(u===0?i:a):c}),2),o=s[0],l=s[1];return[o,l]}function xie(e,t){if(t)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=t.replace(n,function(i,a,s){return"translate(".concat($je(e,a,s),")")});e.attr("transform",r)}catch{}}function kje(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(n,r){return e.map(function(i){return i[r]})}))||[]}var yU=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,Pr([],ot(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(n){return e.appendChild(n)}):e.appendChild(t))};function Lje(){w$(this,this.attributes.visibility!=="hidden")}var Su=function(e){yl(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this,Gy({},{style:r},n))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=hie(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t.prototype.attributeChangedCallback=function(n){n==="visibility"&&Lje.call(this)},t.prototype.update=function(n,r){var i;return this.attr(Gy({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(n,r){},t.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=wu(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},t}(rT),wie=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},Nje=wie,Dje=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},zje=function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},Bje=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},jje=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]},Fje=function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]},Hje=function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]},Sie=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},Vje=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]},Uje=function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]},Gje=function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]},Wje=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},Cie=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},qje=Cie,Kje=function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]},Yje=function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]},Xje=function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]},Zje=function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]};function Qje(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var Jje=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]};function eFe(e){var t="default";if(GO(e)&&e instanceof Image)t="image";else if(Yc(e))t="symbol";else if(el(e)){var n=new RegExp("data:(image|text)");e.match(n)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function tFe(e){var t=eFe(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var Ro=function(e){yl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,s=n.y,o=s===void 0?0:s,l=this.getSubShapeStyle(n),c=l.symbol,u=l.size,d=u===void 0?16:u,h=wu(l,["symbol","size"]),g=tFe(c);dh(!!g,zi(r),function(v){v.maybeAppendByClassName("marker",g).attr("className","marker ".concat(g,"-marker")).call(function(x){if(g==="image"){var w=d*2;x.styles({img:c,width:w,height:w,x:a-d,y:o-d})}else{var w=d/2,C=Yc(c)?c:t.getSymbol(c);x.styles(Xn({d:C?.(a,o,w)},h))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(n,r){t.MARKER_SYMBOL_MAP.set(n,r)},t.getSymbol=function(n){return t.MARKER_SYMBOL_MAP.get(n)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(Su);Ro.registerSymbol("cross",Vje);Ro.registerSymbol("hyphen",Wje);Ro.registerSymbol("line",Sie);Ro.registerSymbol("plus",Gje);Ro.registerSymbol("tick",Uje);Ro.registerSymbol("circle",wie);Ro.registerSymbol("point",Nje);Ro.registerSymbol("bowtie",Hje);Ro.registerSymbol("hexagon",Fje);Ro.registerSymbol("square",Dje);Ro.registerSymbol("diamond",zje);Ro.registerSymbol("triangle",Bje);Ro.registerSymbol("triangle-down",jje);Ro.registerSymbol("line",Sie);Ro.registerSymbol("dot",Cie);Ro.registerSymbol("dash",qje);Ro.registerSymbol("smooth",Kje);Ro.registerSymbol("hv",Yje);Ro.registerSymbol("vh",Xje);Ro.registerSymbol("hvh",Zje);Ro.registerSymbol("vhv",Qje);var nFe=function(e){yl(t,e);function t(n){var r=this,i=n.style,a=wu(n,["style"]);return r=e.call(this,Pn({},{type:"column"},Xn({style:i},a)))||this,r.columnsGroup=new Jc({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.columns,i=n.x,a=n.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),zi(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(s){return s.append("rect").attr("className","column").each(function(o){this.attr(o)})},function(s){return s.each(function(o){this.attr(o)})},function(s){return s.remove()})},t.prototype.update=function(n){this.attr(Gy({},this.attributes,n)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Ls),rFe=function(e){yl(t,e);function t(n){var r=this,i=n.style,a=wu(n,["style"]);return r=e.call(this,Pn({},{type:"lines"},Xn({style:i},a)))||this,r.linesGroup=r.appendChild(new Jc),r.areasGroup=r.appendChild(new Jc),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.lines,i=n.areas,a=n.x,s=n.y;this.style.transform="translate(".concat(a,", ").concat(s,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(n){this.attr(Gy({},this.attributes,n)),this.render()},t.prototype.renderLines=function(n){zi(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},t.prototype.renderAreas=function(n){zi(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},t}(Ls);function iFe(e,t){var n,r=t.x,i=t.y,a=ot(i.getOptions().range||[0,0],2),s=a[0],o=a[1];return o>s&&(n=ot([s,o],2),o=n[0],s=n[1]),e.map(function(l){var c=l.map(function(u,d){return[r.map(d),$l(i.map(u),o,s)]});return c})}function nO(e,t){t===void 0&&(t=!1);var n=t?e.length-1:0,r=e.map(function(i,a){return Pr([a===n?"M":"L"],ot(i),!1)});return t?r.reverse():r}function LI(e,t){if(t===void 0&&(t=!1),e.length<=2)return nO(e);for(var n=[],r=e.length,i=0;i<r;i+=1){var a=t?e[r-i-1]:e[i];cI(a,n.slice(-2))||n.push.apply(n,Pr([],ot(a),!1))}var s=_je(n);return t?s.unshift(Pr(["M"],ot(e[r-1]),!1)):s.unshift(Pr(["M"],ot(e[0]),!1)),s}function D6(e,t,n){var r=jE(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function aFe(e,t,n,r){return e.map(function(i){return D6(t?LI(i):nO(i),n,r)})}function oFe(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=nO(a),o=void 0;if(i===0)o=D6(s,t,n);else{var l=e[i-1],c=nO(l,!0);c[0][0]="L",o=Pr(Pr(Pr([],ot(s),!1),ot(c),!1),[["Z"]],!1)}r.push(o)}return r}function sFe(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],s=LI(a),o=void 0;if(i===0)o=D6(s,t,n);else{var l=e[i-1],c=LI(l,!0),u=a[0];c[0][0]="L",o=Pr(Pr(Pr([],ot(s),!1),ot(c),!1),[Pr(["M"],ot(u),!1),["Z"]],!1)}r.push(o)}return r}function bU(e){return e.length===0?[0,0]:[lI(S3e(e,function(t){return lI(t)||0})),sI(w3e(e,function(t){return sI(t)||0}))]}function _U(e){for(var t=jE(e),n=t[0].length,r=ot([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],a=r[1],s=0;s<t.length;s+=1)for(var o=t[s],l=0;l<n;l+=1)o[l]>=0?(o[l]+=i[l],i[l]=o[l]):(o[l]+=a[l],a[l]=o[l]);return t}var lFe=function(e){yl(t,e);function t(n){return e.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||n?.length===0)return[[]];var r=jE(n);return qs(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?_U(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var n=this.scales.y,r=ot(n.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?n.map(a):n.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,i=n.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,i=r.type,a=r.isStack,s=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var o=pa(this.attributes,"area"),l=pa(this.attributes,"line"),c=this.containerShape.width,u=this.data;if(u[0].length===0)return{lines:[],areas:[]};var d=this.scales,h=d.x,g=d.y,v=iFe(u,{x:h,y:g}),x=[];if(o){var w=this.baseline;a?x=s?sFe(v,c,w):oFe(v,c,w):x=aFe(v,s,c,w)}return{lines:v.map(function(C,E){return Xn({stroke:n.getColor(E),d:s?LI(C):nO(C)},l)}),areas:x.map(function(C,E){return Xn({d:C,fill:n.getColor(E)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var n=this,r=pa(this.attributes,"column"),i=this.attributes,a=i.isStack,s=i.type,o=i.scale;if(s!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=_U(c));var u=this.createScales(c),d=u.x,h=u.y,g=ot(bU(c),2),v=g[0],x=g[1],w=new ks({domain:[0,x-(v>0?0:v)],range:[0,l*o]}),C=d.getBandWidth(),E=this.rawData;return{columns:c.map(function(M,R){return M.map(function(L,N){var D=C/c.length,H=function(){return{x:d.map(N)+D*R,y:L>=0?h.map(L):h.map(0),width:D,height:w.map(Math.abs(L))}},U=function(){return{x:d.map(N),y:h.map(L),width:C,height:w.map(E[R][N])}};return Xn(Xn({fill:n.getColor(R)},r),a?U():H())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){Tje(r,".container","rect").attr("className","container").node();var i=n.type,a=n.x,s=n.y,o="spark".concat(i),l=Xn({x:a,y:s},i==="line"?this.linesStyle:this.columnsStyle);zi(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(u){return u==="line"?new rFe({className:o,style:l}):new nFe({className:o,style:l})}).attr("className","spark ".concat(o))},function(c){return c.update(l)},function(c){return c.remove()})},t.prototype.getColor=function(n){var r=this.attributes.color;return Qc(r)?r[n%r.length]:Yc(r)?r.call(null,n):r},t.prototype.createScales=function(n){var r,i,a=this.attributes,s=a.type,o=a.scale,l=a.range,c=l===void 0?[]:l,u=a.spacing,d=this.containerShape,h=d.width,g=d.height,v=ot(bU(n),2),x=v[0],w=v[1],C=new ks({domain:[(r=c[0])!==null&&r!==void 0?r:x,(i=c[1])!==null&&i!==void 0?i:w],range:[g,g*(1-o)]});return s==="line"?{type:s,x:new ks({domain:[0,n[0].length-1],range:[0,h]}),y:C}:{type:s,x:new QS({domain:n[0].map(function(E,M){return M}),range:[0,h],paddingInner:u,paddingOuter:u/2,align:.5}),y:C}},t.tag="sparkline",t}(Su);function cFe(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function xU(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(r){var i=ot(r,1),a=i[0];return!t.includes(a)}));return Object.fromEntries(t.map(function(r){return cFe(e)?e[r]===!1?[r,!1]:[r,Xn(Xn({},e[r]),n)]:[r,n]}))}function V2(e,t){e?e.finished.then(t):t()}function uFe(e,t){e.length===0?t():Promise.all(e.map(function(n){return n?.finished})).then(t)}function Eie(e,t){"update"in e?e.update(t):e.attr(t)}function Oie(e,t,n){if(t.length===0)return null;if(!n){var r=t.slice(-1)[0];return Eie(e,{style:r}),null}return e.animate(t,n)}function fFe(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function dFe(e,t,n,r){if(r===void 0&&(r="destroy"),fFe(e,t))return e.remove(),[null];var i=function(){r==="destroy"?e.destroy():r==="hide"&&N1(e),t.isVisible()&&oT(t)};if(!n)return i(),[null];var a=n.duration,s=a===void 0?0:a,o=n.delay,l=o===void 0?0:o,c=Math.ceil(+s/2),u=+s/4,d=ot(e.getGeometryBounds().center,2),h=d[0],g=d[1],v=ot(t.getGeometryBounds().center,2),x=v[0],w=v[1],C=ot([(h+x)/2-h,(g+w)/2-g],2),E=C[0],M=C[1],R=e.style.opacity,L=R===void 0?1:R,N=t.style.opacity,D=N===void 0?1:N,H=e.style.transform||"",U=t.style.transform||"",q=e.animate([{opacity:L,transform:"translate(0, 0) ".concat(H)},{opacity:0,transform:"translate(".concat(E,", ").concat(M,") ").concat(H)}],Xn(Xn({fill:"both"},n),{duration:l+c+u})),K=t.animate([{opacity:0,transform:"translate(".concat(-E,", ").concat(-M,") ").concat(U),offset:.01},{opacity:D,transform:"translate(0, 0) ".concat(U)}],Xn(Xn({fill:"both"},n),{duration:c+u,delay:l+c-u}));return V2(K,i),[q,K]}function Mm(e,t,n){var r={},i={};return Object.entries(t).forEach(function(a){var s=ot(a,2),o=s[0],l=s[1];if(!ri(l)){var c=e.style[o]||e.parsedStyle[o]||0;c!==l&&(r[o]=c,i[o]=l)}}),n?Oie(e,[r,i],Xn({fill:"both"},n)):(Eie(e,i),null)}function S$(e,t){return e.style.opacity||(e.style.opacity=1),Mm(e,{opacity:0},t)}var Tie={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Mie={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},Aie={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Ev=Og({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),e1=Og({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),hFe=function(e){yl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var i=n.x,a=n.y,s=n.size,o=s===void 0?10:s,l=n.radius,c=l===void 0?o/4:l,u=n.orientation,d=wu(n,["x","y","size","radius","orientation"]),h=o,g=h*2.4,v=zi(r).maybeAppendByClassName(e1.iconRect,"rect").styles(Xn(Xn({},d),{width:h,height:g,radius:c,x:i-h/2,y:a-g/2,transformOrigin:"center"})),x=i+1/3*h-h/2,w=i+2/3*h-h/2,C=a+1/4*g-g/2,E=a+3/4*g-g/2;v.maybeAppendByClassName("".concat(e1.iconLine,"-1"),"line").styles(Xn({x1:x,x2:x,y1:C,y2:E},d)),v.maybeAppendByClassName("".concat(e1.iconLine,"-2"),"line").styles(Xn({x1:w,x2:w,y1:C,y2:E},d)),u==="vertical"&&(v.node().style.transform="rotate(90)")},t}(Su),Iie=function(e){yl(t,e);function t(n){return e.call(this,n,Aie)||this}return t.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.x,s=i.y,o=i.showLabel,l=pa(this.attributes,"label"),c=l.x,u=c===void 0?0:c,d=l.y,h=d===void 0?0:d,g=l.transform,v=l.transformOrigin,x=wu(l,["x","y","transform","transformOrigin"]),w=ot(Wy(x,[]),2),C=w[0],E=w[1],M=zi(n).maybeAppendByClassName(e1.labelGroup,"g").styles(E),R=Xn(Xn({},Mie),C),L=R.text,N=wu(R,["text"]);dh(!!o,M,function(D){r.label=D.maybeAppendByClassName(e1.label,"text").styles(Xn(Xn({},N),{x:a+u,y:s+h,transform:g,transformOrigin:v,text:"".concat(L)})),r.label.on("mousedown",function(H){H.stopPropagation()}),r.label.on("touchstart",function(H){H.stopPropagation()})})},t.prototype.renderIcon=function(n){var r=this.attributes,i=r.x,a=r.y,s=r.orientation,o=r.type,l=Xn(Xn({x:i,y:a,orientation:s},Tie),pa(this.attributes,"icon")),c=this.attributes.iconShape,u=c===void 0?function(){return new hFe({style:l})}:c,d=zi(n).maybeAppendByClassName(e1.iconGroup,"g");d.selectAll(e1.icon.class).data([u]).join(function(h){return h.append(typeof u=="string"?u:function(){return u(o)}).attr("className",e1.icon.name)},function(h){return h.update(l)},function(h){return h.remove()})},t.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},t}(Su),Pie=function(e){yl(t,e);function t(n){var r=e.call(this,n,Xn(Xn(Xn({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},$v(Aie,"handle")),$v(Tie,"handleIcon")),$v(Mie,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(kI(a));var s=r.availableSpace,o=s.x,l=s.y,c=r.getBBox(),u=c.x,d=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([o,l])-r.getOrientVal([+u,+d])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,s=a.slidable,o=a.brushable,l=a.type;i.stopPropagation();var c=r.getOrientVal(kI(i)),u=c-r.prevPos;if(u){var d=r.getRatio(u);switch(r.target){case"start":s&&r.setValuesOffset(d);break;case"end":s&&r.setValuesOffset(0,d);break;case"selection":s&&r.setValuesOffset(d,d);break;case"track":if(!o)return;r.selectionWidth+=d,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,s=a.onChange,o=a.type,l=o==="range"?i:i[1],c=o==="range"?r.getValues():r.getValues()[1],u=new hs("valuechange",{detail:{oldValue:l,value:c}});r.dispatchEvent(u),s?.(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=pa(this.attributes,"sparkline");return Xn(Xn({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,i=n.trackSize,a=ot(this.getOrientVal([[r,i],[i,r]]),2),s=a[0],o=a[1];return{width:s,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,i=ot(Yu(r),4),a=i[0],s=i[1],o=i[2],l=i[3],c=this.shape,u=c.width,d=c.height;return{x:l,y:a,width:u-(l+s),height:d-(a+o)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},t.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(Ev.selection.class).each(function(i,a){Mm(this,r[a],n)})},t.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&Mm(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&Mm(this.endHandle,this.getHandleStyle("end"),n))},t.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(n);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},t.prototype.renderTrack=function(n){var r=this.attributes,i=r.x,a=r.y,s=pa(this.attributes,"track");this.trackShape=zi(n).maybeAppendByClassName(Ev.track,"rect").styles(Xn(Xn({x:i,y:a},this.shape),s))},t.prototype.renderBrushArea=function(n){var r=this.attributes,i=r.x,a=r.y,s=r.brushable;this.brushArea=zi(n).maybeAppendByClassName(Ev.brushArea,"rect").styles(Xn({x:i,y:a,fill:"transparent",cursor:s?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(n){var r=this,i=this.attributes,a=i.x,s=i.y,o=i.orientation,l=zi(n).maybeAppendByClassName(Ev.sparklineGroup,"g");dh(o==="horizontal",l,function(c){var u=Xn(Xn({},r.sparklineStyle),{x:a,y:s});c.maybeAppendByClassName(Ev.sparkline,function(){return new lFe({style:u})}).update(u)})},t.prototype.renderHandles=function(){var n=this,r,i=this.attributes,a=i.showHandle,s=i.type,o=s==="range"?["start","end"]:["end"],l=a?o:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(Ev.handle.class).data(l.map(function(u){return{type:u}}),function(u){return u.type}).join(function(u){return u.append(function(d){var h=d.type;return new Iie({style:n.getHandleStyle(h)})}).each(function(d){var h=d.type;this.attr("class","".concat(Ev.handle.name," ").concat(h,"-handle"));var g="".concat(h,"Handle");c[g]=this,this.addEventListener("pointerdown",c.onDragStart(h))})},function(u){return u.each(function(d){var h=d.type;this.update(c.getHandleStyle(h))})},function(u){return u.each(function(d){var h=d.type,g="".concat(h,"Handle");c[g]=void 0}).remove()})},t.prototype.renderSelection=function(n){var r=this.attributes,i=r.x,a=r.y,s=r.type,o=r.selectionType;this.foregroundGroup=zi(n).maybeAppendByClassName(Ev.foreground,"g");var l=pa(this.attributes,"selection"),c=function(d){return d.style("visibility",function(h){return h.show?"visible":"hidden"}).style("cursor",function(h){return o==="select"?"grab":o==="invert"?"crosshair":"default"}).styles(Xn(Xn({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},u=this;this.foregroundGroup.selectAll(Ev.selection.class).data(s==="value"?[]:this.calcSelectionArea().map(function(d,h){return{style:Xn({},d),index:h,show:o==="select"?h===1:h!==1}}),function(d){return d.index}).join(function(d){return d.append("rect").attr("className",Ev.selection.name).call(c).each(function(h,g){var v=this;g===1?(u.selectionShape=zi(this),this.on("pointerdown",function(x){v.attr("cursor","grabbing"),u.onDragStart("selection")(x)}),u.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),u.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),u.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){v.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){v.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){v.attr("cursor","pointer")})):this.on("pointerdown",u.onDragStart("track"))})},function(d){return d.call(c)},function(d){return d.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},t.prototype.clampValues=function(n,r){var i;r===void 0&&(r=4);var a=ot(this.range,2),s=a[0],o=a[1],l=ot(this.getValues().map(function(w){return O5(w,r)}),2),c=l[0],u=l[1],d=Array.isArray(n)?n:[c,n??u],h=ot((d||[c,u]).map(function(w){return O5(w,r)}),2),g=h[0],v=h[1];if(this.attributes.type==="value")return[0,$l(v,s,o)];g>v&&(i=ot([v,g],2),g=i[0],v=i[1]);var x=v-g;return x>o-s?[s,o]:g<s?c===s&&u===v?[s,v]:[s,x+s]:v>o?u===o&&c===g?[g,o]:[o-x,o]:[g,v]},t.prototype.calcSelectionArea=function(n){var r=ot(this.clampValues(n),2),i=r[0],a=r[1],s=this.availableSpace,o=s.x,l=s.y,c=s.width,u=s.height;return this.getOrientVal([[{y:l,height:u,x:o,width:i*c},{y:l,height:u,x:i*c+o,width:(a-i)*c},{y:l,height:u,x:a*c,width:(1-a)*c}],[{x:o,width:c,y:l,height:i*u},{x:o,width:c,y:i*u+l,height:(a-i)*u},{x:o,width:c,y:a*u,height:(1-a)*u}]])},t.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,s=i.y,o=i.width,l=i.height,c=ot(this.clampValues(),2),u=c[0],d=c[1],h=n==="start"?-r:r,g=(n==="start"?u:d)*this.getOrientVal([o,l])+h;return{x:a+this.getOrientVal([g,o/2]),y:s+this.getOrientVal([l/2,g])}},t.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(n){var r,i=this.attributes,a=i.type,s=i.orientation,o=i.formatter,l=i.autoFitLabel,c=pa(this.attributes,"handle"),u=pa(c,"label"),d=c.spacing,h=this.getHandleSize(),g=this.clampValues(),v=n==="start"?g[0]:g[1],x=o(v),w=new $6({style:Xn(Xn(Xn({},u),this.inferTextStyle(n)),{text:x})}),C=w.getBBox(),E=C.width,M=C.height;if(w.destroy(),!l){if(a==="value")return{text:x,x:0,y:-M-d};var R=d+h+(s==="horizontal"?E/2:0);return r={text:x},r[s==="horizontal"?"x":"y"]=n==="start"?-R:R,r}var L=0,N=0,D=this.availableSpace,H=D.width,U=D.height,q=this.calcSelectionArea()[1],K=q.x,Q=q.y,X=q.width,te=q.height,ee=d+h;if(s==="horizontal"){var Z=ee+E/2;if(n==="start"){var re=K-ee-E;L=re>0?-Z:Z}else{var oe=H-K-X-ee>E;L=oe?Z:-Z}}else{var ce=ee,le=M+ee;n==="start"?N=Q-h>M?-le:ce:N=U-(Q+te)-h>M?le:-ce}return{x:L,y:N,text:x}},t.prototype.getHandleLabelStyle=function(n){var r=pa(this.attributes,"handleLabel");return Xn(Xn(Xn({},r),this.calcHandleText(n)),this.inferTextStyle(n))},t.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=pa(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Xn({cursor:i,shape:n,size:a},r)},t.prototype.getHandleStyle=function(n){var r=this.attributes,i=r.x,a=r.y,s=r.showLabel,o=r.showLabelOnInteraction,l=r.orientation,c=this.calcHandlePosition(n),u=c.x,d=c.y,h=this.calcHandleText(n),g=s;return!s&&o&&(this.target?g=!0:g=!1),Xn(Xn(Xn({},$v(this.getHandleIconStyle(),"icon")),$v(Xn(Xn({},this.getHandleLabelStyle(n)),h),"label")),{transform:"translate(".concat(u+i,", ").concat(d+a,")"),orientation:l,showLabel:g,type:n,zIndex:3})},t.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,i=n.width,a=n.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},t.prototype.getOrientVal=function(n){var r=ot(n,2),i=r[0],a=r[1],s=this.attributes.orientation;return s==="horizontal"?i:a},t.prototype.setValuesOffset=function(n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=this.attributes.type,s=ot(this.getValues(),2),o=s[0],l=s[1],c=a==="range"?n:0,u=[o+c,l+r].sort();i?this.setValues(u):this.innerSetValues(u,!0)},t.prototype.getRatio=function(n){var r=this.availableSpace,i=r.width,a=r.height;return n/this.getOrientVal([i,a])},t.prototype.dispatchCustomEvent=function(n,r,i){var a=this;n.on(r,function(s){s.stopPropagation(),a.dispatchEvent(new hs(i,{detail:s}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var i=n.deltaX,a=n.deltaY,s=a||i,o=this.getRatio(s);this.setValuesOffset(o,o,!0)}},t.tag="slider",t}(Su),pFe=function(e){yl(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var s={detail:{oldValue:i,value:a}};r.dispatchEvent(new hs("scroll",s)),r.dispatchEvent(new hs("valuechange",s))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var s=ot(r.getLocalPosition(),2),o=s[0],l=s[1],c=ot(r.padding,4),u=c[0],d=c[3],h=r.getOrientVal([o+d,l+u]),g=r.getOrientVal(kI(i)),v=(g-h)/r.trackLength;r.setValue(v,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new hs("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new hs("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new hs("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new hs("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(t.prototype,"padding",{get:function(){var n=this.attributes.padding;return Yu(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var n=this.attributes.value,r=ot(this.range,2),i=r[0],a=r[1];return $l(n,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,i=n.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,i=ot(this.padding,4),a=i[0],s=i[1],o=i[2],l=i[3],c=ot(this.getOrientVal([[r,n],[n,r]]),2),u=c[0],d=c[1];return{x:l,y:a,width:+u-(l+s),height:+d-(a+o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.thumbRadius;if(!r)return 0;var a=this.availableSpace,s=a.width,o=a.height;return i||this.getOrientVal([o,s])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,s=i/a,o=ot(this.range,2),l=o[0],c=o[1],u=n*(c-l-s);return[u,u+s]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(n){var r=this.attributes,i=r.x,a=r.y,s=r.orientation,o=r.trackSize,l=r.padding,c=r.slidable,u=pa(this.attributes,"track"),d=pa(this.attributes,"thumb"),h=Xn(Xn({x:i,y:a,brushable:!1,orientation:s,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:o,values:this.getValues()},$v(u,"track")),$v(d,"selection"));this.slider=zi(n).maybeAppendByClassName("scrollbar",function(){return new Pie({style:h})}).update(h).node()},t.prototype.render=function(n,r){this.renderSlider(r)},t.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.attributes.value,a=ot(this.range,2),s=a[0],o=a[1];this.slider.setValues(this.getValues($l(n,s,o)),r),this.onValueChange(i)},t.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},t.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t}(Su),z6={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Td({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};Pn({},z6,{style:{type:"arc"}});Pn({},z6,{style:{}});var rs=Og({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),s2=Og({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Rie(e){return e.reduce(function(t,n,r){return t.push(Pr([r===0?"M":"L"],ot(n),!1)),t},[])}function gFe(e,t,n){var r=t.connect,i=r===void 0?"line":r,a=t.center;if(i==="line")return Rie(e);if(!a)return[];var s=tO(e[0],a),o=n?0:1;return e.reduce(function(l,c,u){return u===0?l.push(Pr(["M"],ot(c),!1)):l.push(Pr(["A",s,s,0,0,o],ot(c),!1)),l},[])}function T5(e,t,n){return t.type==="surround"?gFe(e,t,n):Rie(e)}function mFe(e,t,n){var r=n.type,i=n.connect,a=n.center,s=n.closed,o=s?[["Z"]]:[],l=ot([T5(e,n),T5(t.slice().reverse(),n,!0)],2),c=l[0],u=l[1],d=ot([e[0],t.slice(-1)[0]],2),h=d[0],g=d[1],v=function(E,M){return[c,E,u,M,o].flat()};if(i==="line"||r==="surround")return v([Pr(["L"],ot(g),!1)],[Pr(["L"],ot(h),!1)]);if(!a)throw new Error("Arc grid need to specified center");var x=ot([tO(g,a),tO(h,a)],2),w=x[0],C=x[1];return v([Pr(["A",w,w,0,0,1],ot(g),!1),Pr(["L"],ot(g),!1)],[Pr(["A",C,C,0,0,0],ot(h),!1),Pr(["L"],ot(h),!1)])}function vFe(e,t,n,r){var i=n.animate,a=n.isBillboard,s=t.map(function(o,l){return{id:o.id||"grid-line-".concat(l),d:T5(o.points,n)}});return e.selectAll(s2.line.class).data(s,function(o){return o.id}).join(function(o){return o.append("path").each(function(l,c){var u=yg(gU(Xn({d:l.d},r)),[l,c,s]);this.attr(Xn({class:s2.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},u))})},function(o){return o.transition(function(l,c){var u=yg(gU(Xn({d:l.d},r)),[l,c,s]);return Mm(this,u,i.update)})},function(o){return o.transition(function(){var l=this,c=S$(this,i.exit);return V2(c,function(){return l.remove()}),c})}).transitions()}function yFe(e,t,n){var r=n.animate,i=n.connect,a=n.areaFill;if(t.length<2||!a||!i)return[];for(var s=Array.isArray(a)?a:[a,"transparent"],o=function(v){return s[v%s.length]},l=[],c=0;c<t.length-1;c++){var u=ot([t[c].points,t[c+1].points],2),d=u[0],h=u[1],g=mFe(d,h,n);l.push({d:g,fill:o(c)})}return e.selectAll(s2.region.class).data(l,function(v,x){return x}).join(function(v){return v.append("path").each(function(x,w){var C=yg(x,[x,w,l]);this.attr(C)}).attr("className",s2.region.name)},function(v){return v.transition(function(x,w){var C=yg(x,[x,w,l]);return Mm(this,C,r.update)})},function(v){return v.transition(function(){var x=this,w=S$(this,r.exit);return V2(w,function(){return x.remove()}),w})}).transitions()}function bFe(e){var t=e.data,n=t===void 0?[]:t,r=e.closed;return r?n.map(function(i){var a=i.points,s=ot(a,1),o=s[0];return Xn(Xn({},i),{points:Pr(Pr([],ot(a),!1),[o],!1)})}):n}var _Fe=function(e){yl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var i=wu(n,["type","center","areaFill","closed"]),a=bFe(n),s=zi(r).maybeAppendByClassName(s2.lineGroup,"g"),o=zi(r).maybeAppendByClassName(s2.regionGroup,"g"),l=vFe(s,a,n,i),c=yFe(o,a,n);return Pr(Pr([],ot(l),!1),ot(c),!1)},t}(Su);function $ie(e,t){return Object.fromEntries(Object.entries(e).map(function(n){var r=ot(n,2),i=r[0],a=r[1];return[i,yg(a,t)]}))}function B6(e,t){return t&&Yc(t)?e.filter(t):e}function kie(e,t){var n=t.startAngle,r=t.endAngle;return(r-n)*e+n}function C$(e,t){if(t.type==="linear"){var n=ot(t.startPos,2),r=n[0],i=n[1],a=ot(t.endPos,2),s=a[0],o=a[1],l=ot([s-r,o-i],2),c=l[0],u=l[1];return _ie([c,u])}var d=o2(kie(e,t));return[-Math.sin(d),Math.cos(d)]}function j6(e,t,n){var r=C$(e,n);return yje(r,t!=="positive")}function sT(e,t){return j6(e,t.labelDirection,t)}function xFe(e,t){var n=ot(t.startPos,2),r=n[0],i=n[1],a=ot(t.endPos,2),s=a[0],o=a[1],l=ot([s-r,o-i],2),c=l[0],u=l[1];return[r+c*e,i+u*e]}function wFe(e,t){var n=t.radius,r=ot(t.center,2),i=r[0],a=r[1],s=o2(kie(e,t));return[i+n*Math.cos(s),a+n*Math.sin(s)]}function E$(e,t){return t.type==="linear"?xFe(e,t):wFe(e,t)}function Lie(e){return C$(0,e)[1]===0}function Nie(e){return C$(0,e)[0]===0}function Die(e,t){return t-e===360}function wU(e,t,n,r,i){var a=t-e,s=ot([i,i],2),o=s[0],l=s[1],c=ot([o2(e),o2(t)],2),u=c[0],d=c[1],h=function(U){return[n+i*Math.cos(U),r+i*Math.sin(U)]},g=ot(h(u),2),v=g[0],x=g[1],w=ot(h(d),2),C=w[0],E=w[1];if(Die(e,t)){var M=(d+u)/2,R=ot(h(M),2),L=R[0],N=R[1];return[["M",v,x],["A",o,l,0,1,0,L,N],["A",o,l,0,1,0,C,E]]}var D=a>180?1:0,H=e>t?0:1;return"M".concat(v,",").concat(x,",A").concat(o,",").concat(l,",0,").concat(D,",").concat(H,",").concat(C,",").concat(E)}function SFe(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,i=t.center,a=t.radius;return Pr(Pr([n,r],ot(i),!1),[a],!1)}function CFe(e,t,n,r){var i=t.startAngle,a=t.endAngle,s=t.center,o=t.radius;return e.selectAll(rs.line.class).data([{d:wU.apply(void 0,Pr(Pr([i,a],ot(s),!1),[o],!1))}],function(l,c){return c}).join(function(l){return l.append("path").attr("className",rs.line.name).styles(t).styles({d:function(c){return c.d}})},function(l){return l.transition(function(){var c=this,u=pje(this,SFe(this),Pr(Pr([i,a],ot(s),!1),[o],!1),r.update);if(u){var d=function(){var h=Ua(c.attributes,"__keyframe_data__");c.style.d=wU.apply(void 0,Pr([],ot(h),!1))};u.onframe=d,u.onfinish=d}return u}).styles(t)},function(l){return l.remove()}).styles(n).transitions()}function EFe(e,t){t.truncRange,t.truncShape,t.lineExtension}function OFe(e,t,n){n===void 0&&(n=[0,0]);var r=ot([e,t,n],3),i=ot(r[0],2),a=i[0],s=i[1],o=ot(r[1],2),l=o[0],c=o[1],u=ot(r[2],2),d=u[0],h=u[1],g=ot([l-a,c-s],2),v=g[0],x=g[1],w=Math.sqrt(Math.pow(v,2)+Math.pow(x,2)),C=ot([-d/w,h/w],2),E=C[0],M=C[1];return[E*v,E*x,M*v,M*x]}function SU(e){var t=ot(e,2),n=ot(t[0],2),r=n[0],i=n[1],a=ot(t[1],2),s=a[0],o=a[1];return{x1:r,y1:i,x2:s,y2:o}}function TFe(e,t,n,r){var i=t.showTrunc,a=t.startPos,s=t.endPos,o=t.truncRange,l=t.lineExtension,c=ot([a,s],2),u=ot(c[0],2),d=u[0],h=u[1],g=ot(c[1],2),v=g[0],x=g[1],w=ot(l?OFe(a,s,l):new Array(4).fill(0),4),C=w[0],E=w[1],M=w[2],R=w[3],L=function(oe){return e.selectAll(rs.line.class).data(oe,function(ce,le){return le}).join(function(ce){return ce.append("line").attr("className",function(le){return"".concat(rs.line.name," ").concat(le.className)}).styles(n).transition(function(le){return Mm(this,SU(le.line),!1)})},function(ce){return ce.styles(n).transition(function(le){var pe=le.line;return Mm(this,SU(pe),r.update)})},function(ce){return ce.remove()}).transitions()};if(!i||!o)return L([{line:[[d+C,h+E],[v+M,x+R]],className:rs.line.name}]);var N=ot(o,2),D=N[0],H=N[1],U=v-d,q=x-h,K=ot([d+U*D,h+q*D],2),Q=K[0],X=K[1],te=ot([d+U*H,h+q*H],2),ee=te[0],Z=te[1],re=L([{line:[[d+C,h+E],[Q,X]],className:rs.lineFirst.name},{line:[[ee,Z],[v+M,x+R]],className:rs.lineSecond.name}]);return EFe(e,t),re}function MFe(e,t,n,r){var i=n.showArrow,a=n.showTrunc,s=n.lineArrow,o=n.lineArrowOffset,l=n.lineArrowSize,c;if(t==="arc"?c=e.select(rs.line.class):a?c=e.select(rs.lineSecond.class):c=e.select(rs.line.class),!i||!s||n.type==="arc"&&Die(n.startAngle,n.endAngle)){var u=c.node();u&&(u.style.markerEnd=void 0);return}var d=xx(s);d.attr(r),L6(d,l),c.style("markerEnd",d).style("markerEndOffset",-o)}function AFe(e,t,n){var r=t.type,i,a=pa(t,"line");return r==="linear"?i=TFe(e,t,pU(a,"arrow"),n):i=CFe(e,t,pU(a,"arrow"),n),MFe(e,r,t,a),i}function IFe(e,t){return j6(e,t.gridDirection,t)}function zie(e){var t=e.type,n=e.gridCenter;return t==="linear"?n:n||e.center}function PFe(e,t){var n=t.gridLength;return e.map(function(r,i){var a=r.value,s=ot(E$(a,t),2),o=s[0],l=s[1],c=ot(Ty(IFe(a,t),n),2),u=c[0],d=c[1];return{id:i,points:[[o,l],[o+u,l+d]]}})}function RFe(e,t){var n=t.gridControlAngles,r=zie(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var i=ot(r,2),a=i[0],s=i[1];return e.map(function(o,l){var c=o.value,u=ot(E$(c,t),2),d=u[0],h=u[1],g=ot([d-a,h-s],2),v=g[0],x=g[1],w=[];return n.forEach(function(C){var E=o2(C),M=ot([Math.cos(E),Math.sin(E)],2),R=M[0],L=M[1],N=v*R-x*L+a,D=v*L+x*R+s;w.push([N,D])}),{points:w,id:l}})}function $Fe(e,t,n,r){var i=pa(n,"grid"),a=i.type,s=i.areaFill,o=zie(n),l=B6(t,n.gridFilter),c=a==="segment"?PFe(l,n):RFe(l,n),u=Xn(Xn({},i),{center:o,areaFill:Yc(s)?l.map(function(d,h){return yg(s,[d,h,l])}):s,animate:r,data:c});return e.selectAll(rs.grid.class).data([1]).join(function(d){return d.append(function(){return new _Fe({style:u})}).attr("className",rs.grid.name)},function(d){return d.transition(function(){return this.update(u)})},function(d){return d.remove()}).transitions()}var M5=function(){function e(t,n,r,i){this.set(t,n,r,i)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,n,r){var i=this,a=i.x1,s=i.y1,o=i.x2,l=i.y2,c=Math.cos(t),u=Math.sin(t),d=n-n*c+r*u,h=r-n*u-r*c,g=[[c*a-u*l+d,u*a+c*l+h],[c*o-u*l+d,u*o+c*l+h],[c*a-u*s+d,u*a+c*s+h],[c*o-u*s+d,u*o+c*s+h]];return g},e.prototype.set=function(t,n,r,i){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),i<n?(this.y2=n,this.y1=i):(this.y1=n,this.y2=i),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e}();function A5(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),i=ot(r.min,2),a=i[0],s=i[1],o=ot(r.max,2),l=o[0],c=o[1],u=e.getBBox(),d=u.width,h=u.height,g=h,v=0,x=0,w=a,C=s,E=yie(e);if(E){g-=1.5;var M=E.style.textAlign,R=E.style.textBaseline;M==="center"?w=(a+l)/2:(M==="right"||M==="end")&&(w=l),R==="middle"?C=(s+c)/2:R==="bottom"&&(C=c)}var L=ot(Yu(t),4),N=L[0],D=N===void 0?0:N,H=L[1],U=H===void 0?0:H,q=L[2],K=q===void 0?D:q,Q=L[3],X=Q===void 0?U:Q,te=new M5((v+=a)-X,(x+=s)-D,v+d+U,x+g+K);return e.setEulerAngles(n),te.rotatedPoints(o2(n),w,C)}function LC(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function NC(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r<0?2:1}function kFe(e,t){var n=NC(e[0],e[1],t[0]),r=NC(e[0],e[1],t[1]),i=NC(t[0],t[1],e[0]),a=NC(t[0],t[1],e[1]);return!!(n!==r&&i!==a||n===0&&LC(e,t[0])||r===0&&LC(e,t[1])||i===0&&LC(t,e[0])||a===0&&LC(t,e[1]))}function LFe(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],i=0,a=0;do{var s=[e[a],e[(a+1)%n]];if(kFe(s,r)){if(NC(s[0],t,s[1])===0)return LC(s,t);i++}a=(a+1)%n}while(a!==0);return!!(i&1)}function NFe(e,t){return t.every(function(n){return LFe(e,n)})}function DFe(e,t,n){var r=e.x1,i=e.x2,a=e.y1,s=e.y2,o=[[r,a],[i,a],[i,s],[r,s]],l=A5(t,n);return NFe(o,l)}function zFe(e,t){var n=ot(e,4),r=n[0],i=n[1],a=n[2],s=n[3],o=ot(t,4),l=o[0],c=o[1],u=o[2],d=o[3],h=a-r,g=s-i,v=u-l,x=d-c,w=h*x-v*g;if(w===0)return!1;var C=w>0,E=r-l,M=i-c,R=h*M-g*E;if(R<0===C)return!1;var L=v*M-x*E;return!(L<0===C||R>w===C||L>w===C)}function BFe(e,t){var n=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return n.some(function(r){return zFe(t,r)})}function jFe(e,t,n){var r,i,a=A5(e,n).flat(1),s=A5(t,n).flat(1),o=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=px(o),c=l.next();!c.done;c=l.next()){var u=c.value;if(BFe(s,u))return!0}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function FFe(e,t){var n=e.type,r=e.labelDirection,i=e.crossSize;if(!i)return!1;if(n==="arc"){var a=e.center,s=e.radius,o=ot(a,2),l=o[0],c=o[1],u=r==="negative"?0:i,d=-s-u,h=s+u,g=ot(Yu(t),4),v=g[0],x=g[1],w=g[2],C=g[3];return new M5(l+d-C,c+d-v,l+h+x,c+h+w)}var E=ot(e.startPos,2),M=E[0],R=E[1],L=ot(e.endPos,2),N=L[0],D=L[1],H=ot(Nie(e)?[-t,0,t,0]:[0,t,0,-t],4),U=H[0],q=H[1],K=H[2],Q=H[3],X=sT(0,e),te=Ty(X,i),ee=new M5(M,R,N,D);return ee.x1+=Q,ee.y1+=U,ee.x2+=q+te[0],ee.y2+=K+te[1],ee}function O$(e,t,n){var r,i,a=t.crossPadding,s=new Set,o=null,l=FFe(t,a),c=function(v){return l?DFe(l,v):!0},u=function(v,x){return!v||!v.firstChild?!0:!jFe(v.firstChild,x.firstChild,Yu(n))};try{for(var d=px(e),h=d.next();!h.done;h=d.next()){var g=h.value;c(g)?!o||u(o,g)?o=g:(s.add(o),s.add(g)):s.add(g)}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return Array.from(s)}function uL(e,t){return t===void 0&&(t={}),ri(e)?0:typeof e=="number"?e:Math.floor(lje(e,t))}function HFe(e,t,n,r){if(!(e.length<=1)){var i=t.suffix,a=i===void 0?"...":i,s=t.minLength,o=t.maxLength,l=o===void 0?1/0:o,c=t.step,u=c===void 0?" ":c,d=t.margin,h=d===void 0?[0,0,0,0]:d,g=vie(r.getTextShape(e[0])),v=uL(u,g),x=s?uL(s,g):v,w=uL(l,g);(ri(w)||w===1/0)&&(w=Math.max.apply(null,e.map(function(N){return N.getBBox().width})));var C=e.slice(),E=ot(h,4);E[0],E[1],E[2],E[3];for(var M=function(N){if(C.forEach(function(D){r.ellipsis(r.getTextShape(D),N,a)}),C=O$(e,n,h),C.length<1)return{value:void 0}},R=w;R>x+v;R-=v){var L=M(R);if(typeof L=="object")return L.value}}}var VFe={parity:function(e,t){var n=t.seq,r=n===void 0?2:n;return e.filter(function(i,a){return a%r?(N1(i),!1):!0})}},UFe=function(e){return e.filter(mie)};function GFe(e,t,n,r){var i=e.length,a=t.keepHeader,s=t.keepTail;if(!(i<=1||i===2&&a&&s)){var o=VFe.parity,l=function(M){return M.forEach(r.show),M},c=2,u=e.slice(),d=e.slice(),h=Math.min.apply(Math,Pr([1],ot(e.map(function(M){return M.getBBox().width})),!1));if(n.type==="linear"&&(Lie(n)||Nie(n))){var g=mU(e[0]).left,v=mU(e[i-1]).right,x=Math.abs(v-g)||1;c=Math.max(Math.floor(i*h/x),c)}var w,C;for(a&&(w=u.splice(0,1)[0]),s&&(C=u.splice(-1,1)[0],u.reverse()),l(u);c<e.length&&O$(UFe(C?Pr(Pr([C],ot(d),!1),[w],!1):Pr([w],ot(d),!1)),n,t?.margin).length;){if(C&&!w&&c%2===0){var E=u.splice(0,1);E.forEach(r.hide)}else if(C&&w){var E=u.splice(0,1);E.forEach(r.hide)}d=o(l(u),{seq:c}),c++}}}function WFe(e,t,n,r){var i,a,s=t.optionalAngles,o=s===void 0?[0,45,90]:s,l=t.margin,c=t.recoverWhenFailed,u=c===void 0?!0:c,d=e.map(function(C){return C.getLocalEulerAngles()}),h=function(){return O$(e,n,l).length<1},g=function(C){return e.forEach(function(E,M){var R=Array.isArray(C)?C[M]:C;r.rotate(E,+R)})};try{for(var v=px(o),x=v.next();!x.done;x=v.next()){var w=x.value;if(g(w),h())return}}catch(C){i={error:C}}finally{try{x&&!x.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}u&&g(d)}function qFe(e){var t=e.type,n=e.labelDirection;return t==="linear"&&Lie(e)?n==="negative"?"bottom":"top":"middle"}function KFe(e,t,n,r){var i=t.wordWrapWidth,a=i===void 0?50:i,s=t.maxLines,o=s===void 0?3:s,l=t.recoverWhenFailed,c=l===void 0?!0:l,u=t.margin,d=u===void 0?[0,0,0,0]:u,h=e.map(function(E){return E.attr("maxLines")||1}),g=Math.min.apply(Math,Pr([],ot(h),!1)),v=function(){return O$(e,n,d).length<1},x=qFe(n),w=function(E){return e.forEach(function(M,R){var L=Array.isArray(E)?E[R]:E;r.wrap(M,a,L,x)})};if(!(g>o)){for(var C=g;C<=o;C++)if(w(C),v())return;c&&w(h)}}var YFe=new Map([["hide",GFe],["rotate",WFe],["ellipsis",HFe],["wrap",KFe]]);function XFe(e,t,n){return t.labelOverlap.length<1?!1:n==="hide"?!oje(e[0]):n==="rotate"?!e.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):n==="ellipsis"||n==="wrap"?e.filter(function(r){return r.querySelector("text")}).length>1:!0}function ZFe(e,t,n){var r=t.labelOverlap,i=r===void 0?[]:r;i.length&&i.forEach(function(a){var s=a.type,o=YFe.get(s);XFe(e,t,s)&&o?.(e,a,t,n)})}function QFe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r==="positive"?-1:1};return e.reduce(function(r,i){return r*n(i)},1)}function CU(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function I5(e,t){var n=ot(e,2),r=n[0],i=n[1],a=ot(t,2),s=a[0],o=a[1],l=ot([r*s+i*o,r*o-i*s],2),c=l[0],u=l[1];return Math.atan2(u,c)}function JFe(e){var t=(e+360)%180;return Wu(t,-90,90)||(t+=180),t}function e7e(e,t,n){var r,i=n.labelAlign,a=(r=t.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return t.getLocalEulerAngles();var s=0,o=sT(e.value,n),l=C$(e.value,n);return i==="horizontal"?0:(i==="perpendicular"?s=I5([1,0],o):s=I5([l[0]<0?-1:1,0],l),JFe(pie(s)))}function Bie(e,t,n){var r=n.type,i=n.labelAlign,a=sT(e,n),s=CU(t),o=CU(pie(I5([1,0],a))),l="center",c="middle";return r==="linear"?[90,270].includes(o)&&s===0?(l="center",c=a[1]===1?"top":"bottom"):!(o%180)&&[90,270].includes(s)?l="center":o===0?(Wu(s,0,90,!1,!0)||Wu(s,0,90)||Wu(s,270,360))&&(l="start"):o===90?Wu(s,0,90,!1,!0)?l="start":(Wu(s,90,180)||Wu(s,270,360))&&(l="end"):o===270?Wu(s,0,90,!1,!0)?l="end":(Wu(s,90,180)||Wu(s,270,360))&&(l="start"):o===180&&(s===90?l="start":(Wu(s,0,90)||Wu(s,270,360))&&(l="end")):i==="parallel"?Wu(o,0,180,!0)?c="top":c="bottom":i==="horizontal"?Wu(o,90,270,!1)?l="end":(Wu(o,270,360,!1)||Wu(o,0,90))&&(l="start"):i==="perpendicular"&&(Wu(o,90,270)?l="end":l="start"),{textAlign:l,textBaseline:c}}function t7e(e,t,n){t.setLocalEulerAngles(e);var r=t.__data__.value,i=Bie(r,e,n),a=t.querySelector(rs.labelItem.class);a&&jie(a,i)}function EU(e,t,n){var r=n.showTick,i=n.tickLength,a=n.tickDirection,s=n.labelDirection,o=n.labelSpacing,l=t.indexOf(e),c=yg(o,[e,l,t]),u=ot([sT(e.value,n),QFe(s,a)],2),d=u[0],h=u[1],g=h===1?yg(r?i:0,[e,l,t]):0,v=ot(kC(Ty(d,c+g),E$(e.value,n)),2),x=v[0],w=v[1];return{x,y:w}}function n7e(e,t,n,r){var i=r.labelFormatter,a=Yc(i)?function(){return xx(yg(i,[e,t,n,sT(e.value,r)]))}:function(){return xx(e.label||"")};return a}function jie(e,t){e.nodeName==="text"&&e.attr(t)}function OU(e){ZFe(this.node().childNodes,e,{hide:N1,show:oT,rotate:function(t,n){t7e(+n,t,e)},ellipsis:function(t,n,r){t&&E5(t,n||1/0,r)},wrap:function(t,n,r){t&&cje(t,n,r)},getTextShape:function(t){return t.querySelector("text")}})}function TU(e,t,n,r,i){var a=n.indexOf(t),s=zi(e).append(n7e(t,a,n,i)).attr("className",rs.labelItem.name).node(),o=ot(Wy($ie(r,[t,a,n])),2),l=o[0],c=o[1],u=c.transform,d=wu(c,["transform"]);xie(s,u);var h=e7e(t,s,i);return s.getLocalEulerAngles()||s.setLocalEulerAngles(h),jie(s,Xn(Xn({},Bie(t.value,h,i)),l)),e.attr(d),s}function r7e(e,t,n,r){var i=B6(t,n.labelFilter),a=pa(n,"label");return e.selectAll(rs.label.class).data(i,function(s,o){return o}).join(function(s){return s.append("g").attr("className",rs.label.name).transition(function(o){TU(this,o,t,a,n);var l=EU(o,t,n),c=l.x,u=l.y;return this.style.transform="translate(".concat(c,", ").concat(u,")"),null}).call(function(){OU.call(e,n)})},function(s){return s.transition(function(o){var l=this.querySelector(rs.labelItem.class),c=TU(this,o,t,a,n),u=dFe(l,c,r.update),d=EU(o,t,n),h=d.x,g=d.y,v=Mm(this,{transform:"translate(".concat(h,", ").concat(g,")")},r.update);return Pr(Pr([],ot(u),!1),[v],!1)}).call(function(o){var l=Ua(o,"_transitions").flat().filter(mie);uFe(l,function(){OU.call(e,n)})})},function(s){return s.transition(function(){var o=this,l=S$(this.childNodes[0],r.exit);return V2(l,function(){return zi(o).remove()}),l})}).transitions()}function Fie(e,t){return j6(e,t.tickDirection,t)}function i7e(e,t){var n=ot(e,2),r=n[0],i=n[1];return[[0,0],[r*t,i*t]]}function a7e(e,t,n,r,i){var a=i.tickLength,s=ot(i7e(r,yg(a,[e,t,n])),2),o=ot(s[0],2),l=o[0],c=o[1],u=ot(s[1],2),d=u[0],h=u[1];return{x1:l,x2:d,y1:c,y2:h}}function o7e(e,t,n,r,i){var a=i.tickFormatter,s=Fie(t.value,i),o="line";return Yc(a)&&(o=function(){return yg(a,[t,n,r,s])}),e.append(o).attr("className",rs.tickItem.name)}function s7e(e,t,n,r,i,a,s){var o=Fie(e.value,a),l=a7e(e,t,n,o,a),c=l.x1,u=l.x2,d=l.y1,h=l.y2,g=ot(Wy($ie(s,[e,t,n,o])),2),v=g[0],x=g[1];r.node().nodeName==="line"&&r.styles(Xn({x1:c,x2:u,y1:d,y2:h},v)),i.attr(x),r.styles(v)}function MU(e,t,n,r,i,a){var s=o7e(zi(this),e,t,n,r);s7e(e,t,n,s,this,r,i);var o=ot(E$(e.value,r),2),l=o[0],c=o[1];return Mm(this,{transform:"translate(".concat(l,", ").concat(c,")")},a)}function l7e(e,t,n,r){var i=B6(t,n.tickFilter),a=pa(n,"tick");return e.selectAll(rs.tick.class).data(i,function(s){return s.id||s.label}).join(function(s){return s.append("g").attr("className",rs.tick.name).transition(function(o,l){return MU.call(this,o,l,i,n,a,!1)})},function(s){return s.transition(function(o,l){return this.removeChildren(),MU.call(this,o,l,i,n,a,r.update)})},function(s){return s.transition(function(){var o=this,l=S$(this.childNodes[0],r.exit);return V2(l,function(){return o.remove()}),l})}).transitions()}var AU=Og({text:"text"},"title");function T$(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}function c7e(e,t){var n=e.attributes,r=n.position,i=n.spacing,a=n.inset,s=n.text,o=e.getBBox(),l=t.getBBox(),c=T$(r),u=ot(Yu(s?i:0),4),d=u[0],h=u[1],g=u[2],v=u[3],x=ot(Yu(a),4),w=x[0],C=x[1],E=x[2],M=x[3],R=ot([v+h,d+g],2),L=R[0],N=R[1],D=ot([M+C,w+E],2),H=D[0],U=D[1];if(c[0]==="l")return new Js(o.x,o.y,l.width+o.width+L+H,Math.max(l.height+U,o.height));if(c[0]==="t")return new Js(o.x,o.y,Math.max(l.width+H,o.width),l.height+o.height+N+U);var q=ot([t.attributes.width||l.width,t.attributes.height||l.height],2),K=q[0],Q=q[1];return new Js(l.x,l.y,K+o.width+L+H,Q+o.height+N+U)}function u7e(e,t){var n=Object.entries(t).reduce(function(r,i){var a=ot(i,2),s=a[0],o=a[1],l=e.node().attr(s);return l||(r[s]=o),r},{});e.styles(n)}function f7e(e){var t,n,r,i,a=e,s=a.width,o=a.height,l=a.position,c=ot([+s/2,+o/2],2),u=c[0],d=c[1],h=ot([+u,+d,"center","middle"],4),g=h[0],v=h[1],x=h[2],w=h[3],C=T$(l);return C.includes("l")&&(t=ot([0,"start"],2),g=t[0],x=t[1]),C.includes("r")&&(n=ot([+s,"end"],2),g=n[0],x=n[1]),C.includes("t")&&(r=ot([0,"top"],2),v=r[0],w=r[1]),C.includes("b")&&(i=ot([+o,"bottom"],2),v=i[0],w=i[1]),{x:g,y:v,textAlign:x,textBaseline:w}}var Hie=function(e){yl(t,e);function t(n){return e.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,i=r.width,a=r.height,s=r.position,o=r.spacing,l=r.inset,c=n.querySelector(AU.text.class);if(!c)return new Js(0,0,+i,+a);var u=c.getBBox(),d=u.width,h=u.height,g=ot(Yu(o),4),v=g[0],x=g[1],w=g[2],C=g[3],E=ot([0,0,+i,+a],4),M=E[0],R=E[1],L=E[2],N=E[3],D=T$(s);if(D.includes("i"))return new Js(M,R,L,N);D.forEach(function(Z,re){var oe,ce,le,pe;Z==="t"&&(oe=ot(re===0?[h+w,+a-h-w]:[0,+a],2),R=oe[0],N=oe[1]),Z==="r"&&(ce=ot([+i-d-C],1),L=ce[0]),Z==="b"&&(le=ot([+a-h-v],1),N=le[0]),Z==="l"&&(pe=ot(re===0?[d+x,+i-d-x]:[0,+i],2),M=pe[0],L=pe[1])});var H=ot(Yu(l),4),U=H[0],q=H[1],K=H[2],Q=H[3],X=ot([Q+q,U+K],2),te=X[0],ee=X[1];return new Js(M+Q,R+U,L-te,N-ee)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new Js(0,0,0,0)},t.prototype.render=function(n,r){var i=this;n.width,n.height,n.position,n.spacing;var a=wu(n,["width","height","position","spacing"]),s=ot(Wy(a),1),o=s[0],l=f7e(n),c=l.x,u=l.y,d=l.textAlign,h=l.textBaseline;dh(!!a.text,zi(r),function(g){i.title=g.maybeAppendByClassName(AU.text,"text").styles(o).call(u7e,{x:c,y:u,textAlign:d,textBaseline:h}).node()})},t}(Su);function d7e(e,t,n){var r=n.titlePosition,i=r===void 0?"lb":r,a=n.titleSpacing,s=T$(i),o=e.node().getLocalBounds(),l=ot(o.min,2),c=l[0],u=l[1],d=ot(o.halfExtents,2),h=d[0],g=d[1],v=ot(t.node().getLocalBounds().halfExtents,2),x=v[0],w=v[1],C=ot([c+h,u+g],2),E=C[0],M=C[1],R=ot(Yu(a),4),L=R[0],N=R[1],D=R[2],H=R[3];if(["start","end"].includes(i)&&n.type==="linear"){var U=n.startPos,q=n.endPos,K=ot(i==="start"?[U,q]:[q,U],2),Q=K[0],X=K[1],te=_ie([-X[0]+Q[0],-X[1]+Q[1]]),ee=ot(Ty(te,L),2),Z=ee[0],re=ee[1];return{x:Q[0]+Z,y:Q[1]+re}}return s.includes("t")&&(M-=g+w+L),s.includes("r")&&(E+=h+x+N),s.includes("l")&&(E-=h+x+H),s.includes("b")&&(M+=g+w+D),{x:E,y:M}}function h7e(e,t,n){var r=e.getGeometryBounds().halfExtents,i=r[1]*2;if(t==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function IU(e,t,n,r,i){var a=pa(r,"title"),s=ot(Wy(a),2),o=s[0],l=s[1],c=l.transform,u=l.transformOrigin,d=wu(l,["transform","transformOrigin"]);t.styles(d);var h=c||h7e(e.node(),o.direction,o.position);e.styles(Xn(Xn({},o),{transformOrigin:u})),xie(e.node(),h);var g=d7e(zi(n._offscreen||n.querySelector(rs.mainGroup.class)),t,r),v=g.x,x=g.y,w=Mm(t.node(),{transform:"translate(".concat(v,", ").concat(x,")")},i);return w}function p7e(e,t,n,r){var i=n.titleText;return e.selectAll(rs.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,s){return a.title}).join(function(a){return a.append(function(){return xx(i)}).attr("className",rs.title.name).transition(function(){return IU(zi(this),e,t,n,r.enter)})},function(a){return a.transition(function(){return IU(zi(this),e,t,n,r.update)})},function(a){return a.remove()}).transitions()}function PU(e,t,n,r){var i=e.showLine,a=e.showTick,s=e.showLabel,o=t.maybeAppendByClassName(rs.lineGroup,"g"),l=dh(i,o,function(g){return AFe(g,e,r)})||[],c=t.maybeAppendByClassName(rs.tickGroup,"g"),u=dh(a,c,function(g){return l7e(g,n,e,r)})||[],d=t.maybeAppendByClassName(rs.labelGroup,"g"),h=dh(s,d,function(g){return r7e(g,n,e,r)})||[];return Pr(Pr(Pr([],ot(l),!1),ot(u),!1),ot(h),!1).filter(function(g){return!!g})}var F6=function(e){yl(t,e);function t(n){return e.call(this,n,z6)||this}return t.prototype.render=function(n,r,i){var a=this,s=n.titleText,o=n.data,l=n.animate,c=n.showTitle,u=n.showGrid,d=n.dataThreshold,h=n.truncRange,g=Sje(o,d).filter(function(L){var N=L.value;return!(h&&N>h[0]&&N<h[1])}),v=xU(i===void 0?l:i),x=zi(r).maybeAppendByClassName(rs.gridGroup,"g"),w=dh(u,x,function(L){return $Fe(L,g,n,v)})||[],C=zi(r).maybeAppendByClassName(rs.mainGroup,"g");s&&(!this.initialized&&v.enter||this.initialized&&v.update)&&PU(n,zi(this.offscreenGroup),g,xU(!1));var E=PU(n,zi(C.node()),g,v),M=zi(r).maybeAppendByClassName(rs.titleGroup,"g"),R=dh(c,M,function(L){return p7e(L,a,n,v)})||[];return Pr(Pr(Pr([],ot(w),!1),ot(E),!1),ot(R),!1).flat().filter(function(L){return!!L})},t}(Su),Yp=Og({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),g7e=function(e){yl(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Jje(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new Jc({class:Yp.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new Jc({class:Yp.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return $l(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var n=this.pageViews,r=ot(kje(n.map(function(d){var h=d.getBBox(),g=h.width,v=h.height;return[g,v]})).map(function(d){return Math.max.apply(Math,Pr([],ot(d),!1))}),2),i=r[0],a=r[1],s=this.attributes,o=s.pageWidth,l=o===void 0?i:o,c=s.pageHeight,u=c===void 0?a:c;return{pageWidth:l,pageHeight:u}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),r=n.x,i=n.y,a=this.controllerShape,s=this.pageShape,o=s.pageWidth,l=s.pageHeight;return new Js(r,i,o+a.width,l)},t.prototype.goTo=function(n){var r=this,i=this.attributes.animate,a=this,s=a.currPage,o=a.playState,l=a.playWindow,c=a.pageViews;if(o!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[s].setLocalPosition(0,0),this.prepareFollowingPage(n);var u=ot(this.getFollowingPageDiff(n),2),d=u[0],h=u[1];this.playState="running";var g=Oie(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-d,", ").concat(-h,")")}],i);return V2(g,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),g},t.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i<=0)return null;var a=n?(i-1+r)%r:$l(i-1,0,r);return this.goTo(a)},t.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i>=r-1)return null;var a=n?(i+1)%r:$l(i+1,0,r);return this.goTo(a)},t.prototype.renderClipPath=function(n){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(Yp.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,i){n.includes(i)?oT(r):N1(r)})},t.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,i=n.nextBtnGroup,a=n.pageInfoGroup,s=this.attributes,o=s.orientation,l=s.controllerPadding,c=a.getBBox(),u=c.width;c.height;var d=ot(o==="horizontal"?[-180,0]:[-90,90],2),h=d[0],g=d[1];r.setLocalEulerAngles(h),i.setLocalEulerAngles(g);var v=r.getBBox(),x=v.width,w=v.height,C=i.getBBox(),E=C.width,M=C.height,R=Math.max(x,u,E),L=o==="horizontal"?{offset:[[0,0],[x/2+l,0],[x+u+l*2,0]],textAlign:"start"}:{offset:[[R/2,-w-l],[R/2,0],[R/2,M+l]],textAlign:"center"},N=ot(L.offset,3),D=ot(N[0],2),H=D[0],U=D[1],q=ot(N[1],2),K=q[0],Q=q[1],X=ot(N[2],2),te=X[0],ee=X[1],Z=L.textAlign,re=a.querySelector("text");re&&(re.style.textAlign=Z),r.setLocalPosition(H,U),a.setLocalPosition(K,Q),i.setLocalPosition(te,ee)},t.prototype.updatePageInfo=function(){var n,r=this,i=r.currPage,a=r.pageViews,s=r.attributes.formatter;a.length<2||((n=this.pageInfoGroup.querySelector(Yp.pageInfo.class))===null||n===void 0||n.attr("text",s(i+1,a.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var i=this.attributes.orientation,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=n<r?-1:1;return i==="horizontal"?[l*s,0]:[0,l*o]},t.prototype.prepareFollowingPage=function(n){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([n,i]),n!==i){var s=ot(this.getFollowingPageDiff(n),2),o=s[0],l=s[1];a[n].setLocalPosition(o,l)}},t.prototype.renderController=function(n){var r=this,i=this.attributes.controllerSpacing,a=this.pageShape,s=a.pageWidth,o=a.pageHeight,l=this.pageViews.length>=2,c=n.maybeAppendByClassName(Yp.controller,"g");if(w$(c.node(),l),!!l){var u=pa(this.attributes,"button"),d=pa(this.attributes,"pageNum"),h=ot(Wy(u),2),g=h[0],v=h[1],x=g.size,w=wu(g,["size"]),C=!c.select(Yp.prevBtnGroup.class).node(),E=c.maybeAppendByClassName(Yp.prevBtnGroup,"g").styles(v);this.prevBtnGroup=E.node();var M=E.maybeAppendByClassName(Yp.prevBtn,"path"),R=c.maybeAppendByClassName(Yp.nextBtnGroup,"g").styles(v);this.nextBtnGroup=R.node();var L=R.maybeAppendByClassName(Yp.nextBtn,"path");[M,L].forEach(function(D){D.styles(Xn(Xn({},w),{transformOrigin:"center"})),L6(D.node(),x)});var N=c.maybeAppendByClassName(Yp.pageInfoGroup,"g");this.pageInfoGroup=N.node(),N.maybeAppendByClassName(Yp.pageInfo,"text").styles(d),this.updatePageInfo(),c.node().setLocalPosition(s+i,o/2),C&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},t.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,s=n.y,o=s===void 0?0:s;this.attr("transform","translate(".concat(a,", ").concat(o,")"));var l=zi(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var n=this,r=JJ(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(ia.INSERTED,r),this.playWindow.addEventListener(ia.REMOVED,r)},t}(Su);function m7e(e,t,n){var r=Math.round((e-n)/t);return n+r*t}function v7e(e,t,n){var r=1.4,i=r*n;return[["M",e-n,t-i],["L",e+n,t-i],["L",e+n,t+i],["L",e-n,t+i],["Z"]]}var Vie=1.4,Uie=.4;function y7e(e,t,n){var r=n,i=r*Vie,a=r/2,s=r/6,o=e+i*Uie;return[["M",e,t],["L",o,t+a],["L",e+i,t+a],["L",e+i,t-a],["L",o,t-a],["Z"],["M",o,t+s],["L",e+i-2,t+s],["M",o,t-s],["L",e+i-2,t-s]]}function b7e(e,t,n){var r=n,i=r*Vie,a=r/2,s=r/6,o=t+i*Uie;return[["M",e,t],["L",e-a,o],["L",e-a,t+i],["L",e+a,t+i],["L",e+a,o],["Z"],["M",e-s,o],["L",e-s,t+i-2],["M",e+s,o],["L",e+s,t+i-2]]}Ro.registerSymbol("hiddenHandle",v7e);Ro.registerSymbol("verticalHandle",y7e);Ro.registerSymbol("horizontalHandle",b7e);function _7e(e,t,n,r){var i,a=ot(e,2),s=a[0],o=a[1],l=ot(t,2),c=l[0],u=l[1],d=ot(n,2),h=d[0],g=d[1],v=ot([c,u],2),x=v[0],w=v[1],C=w-x;return x>w&&(i=ot([w,x],2),x=i[0],w=i[1]),C>o-s?[s,o]:x<s?h===s&&g===w?[s,w]:[s,C+s]:w>o?g===o&&h===x?[x,o]:[o-C,o]:[x,w]}function Uv(e,t,n){return e===void 0&&(e="horizontal"),e==="horizontal"?t:n}var ap=Og({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function x7e(e){var t=e.querySelector(ap.marker.class);return t?t.style:{}}var w7e=function(e){yl(t,e);function t(n){return e.call(this,n,{span:[1,1],marker:function(){return new Uy({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(t.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,i=this.attributes.markerSize,a=n.node().getBBox(),s=a.width,o=a.height,l=r.node().getBBox(),c=l.width,u=l.height;return{markerWidth:i,labelWidth:s,valueWidth:c,height:Math.max(i,o,u)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=ot(Yu(n),2),i=r[0],a=r[1],s=this.showValue?a:0,o=i+s;return[i/o,s/o]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n,r=this.attributes,i=r.markerSize,a=r.width,s=this.actualSpace,o=s.markerWidth,l=s.height,c=this.actualSpace,u=c.labelWidth,d=c.valueWidth,h=ot(this.spacing,2),g=h[0],v=h[1];if(a){var x=a-i-g-v,w=ot(this.span,2),C=w[0],E=w[1];n=ot([C*x,E*x],2),u=n[0],d=n[1]}var M=o+u+d+g+v;return{width:M,height:l,markerWidth:o,labelWidth:u,valueWidth:d}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var n=this.attributes.spacing;if(!n)return[0,0];var r=ot(Yu(n),2),i=r[0],a=r[1];return this.showValue?[i,a]:[i,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,i=n.labelWidth,a=n.valueWidth,s=n.width,o=n.height,l=ot(this.spacing,2),c=l[0],u=l[1];return{height:o,width:s,markerWidth:r,labelWidth:i,valueWidth:a,position:[r/2,r+c,r+i+c+u]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var n=x7e(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,s=a===void 0?n.strokeWidth:a,o=r.markerLineWidth,l=o===void 0?n.lineWidth:o,c=r.markerStroke,u=c===void 0?n.stroke:c,d=+(s||l||(u?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox(),g=h.width,v=h.height;return(1-d/Math.max(g,v))*i},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(n){var r=this,i=this.attributes.marker,a=pa(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(ap.markerGroup,"g").style("zIndex",0),dh(!!i,this.markerGroup,function(){var s,o=r.markerGroup.node(),l=(s=o.childNodes)===null||s===void 0?void 0:s[0],c=typeof i=="string"?new Ro({style:{symbol:i},className:ap.marker.name}):i();l?c.nodeName===l.nodeName?l instanceof Ro?l.update(Xn(Xn({},a),{symbol:i})):(Aje(l,c),zi(l).styles(a)):(l.remove(),zi(c).attr("className",ap.marker.name).styles(a),o.appendChild(c)):(c instanceof Ro||zi(c).attr("className",ap.marker.name).styles(a),o.appendChild(c)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var u=L6(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(u,")")})},t.prototype.renderLabel=function(n){var r=pa(this.attributes,"label"),i=r.text,a=wu(r,["text"]);this.labelGroup=n.maybeAppendByClassName(ap.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(ap.label,function(){return xx(i)}).styles(a)},t.prototype.renderValue=function(n){var r=this,i=pa(this.attributes,"value"),a=i.text,s=wu(i,["text"]);this.valueGroup=n.maybeAppendByClassName(ap.valueGroup,"g").style("zIndex",0),dh(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(ap.value,function(){return xx(a)}).styles(s)})},t.prototype.renderBackground=function(n){var r=this.shape,i=r.width,a=r.height,s=pa(this.attributes,"background");this.background=n.maybeAppendByClassName(ap.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(ap.background,"rect").styles(Xn({width:i,height:a},s))},t.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,i=n.valueWidth,a=n.height,s=ot(n.position,3),o=s[0],l=s[1],c=s[2],u=a/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),E5(this.labelGroup.select(ap.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),E5(this.valueGroup.select(ap.value.class).node(),Math.ceil(i)))},t.prototype.render=function(n,r){var i=zi(r),a=n.x,s=a===void 0?0:a,o=n.y,l=o===void 0?0:o;i.styles({transform:"translate(".concat(s,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.adjustLayout()},t}(Su),B_=Og({page:"item-page",navigator:"navigator",item:"item"},"items"),RU=function(e,t,n){return n===void 0&&(n=!0),e?t(e):n},S7e=function(e){yl(t,e);function t(n){var r=e.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:P3,mouseenter:P3,mouseleave:P3})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,i=n.gridCol,a=n.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,i=n.layout,a=pa(this.attributes,"item"),s=r.map(function(o,l){var c=o.id,u=c===void 0?l:c,d=o.label,h=o.value;return{id:"".concat(u),index:l,style:Xn({layout:i,labelText:d,valueText:h},Object.fromEntries(Object.entries(a).map(function(g){var v=ot(g,2),x=v[0],w=v[1];return[x,yg(w,[o,l,r])]})))}});return s},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var n=this,r=this.attributes,i=r.orientation,a=r.width,s=r.rowPadding,o=r.colPadding,l=ot(this.navigatorShape,1),c=l[0],u=ot(this.grid,2),d=u[0],h=u[1],g=h*d,v=0;return this.pageViews.children.map(function(x,w){var C,E,M=Math.floor(w/g),R=w%g,L=n.ifHorizontal(h,d),N=[Math.floor(R/L),R%L];i==="vertical"&&N.reverse();var D=ot(N,2),H=D[0],U=D[1],q=(a-c-(h-1)*o)/h,K=x.getBBox().height,Q=ot([0,0],2),X=Q[0],te=Q[1];return i==="horizontal"?(C=ot([v,H*(K+s)],2),X=C[0],te=C[1],v=U===h-1?0:v+q+o):(E=ot([U*(q+o),v],2),X=E[0],te=E[1],v=H===d-1?0:v+K+s),{page:M,index:w,row:H,col:U,pageIndex:R,width:q,height:K,x:X,y:te}})},t.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,i=n.height,a=n.rowPadding,s=n.colPadding,o=ot(this.navigatorShape,1),l=o[0],c=ot(this.grid,2),u=c[0],d=c[1],h=ot([r-l,i],2),g=h[0],v=h[1],x=ot([0,0,0,0,0,0,0,0],8),w=x[0],C=x[1],E=x[2],M=x[3],R=x[4],L=x[5],N=x[6],D=x[7];return this.pageViews.children.map(function(H,U){var q,K,Q,X,te=H.getBBox(),ee=te.width,Z=te.height,re=N===0?0:s,oe=N+re+ee;if(oe<=g&&RU(R,function(le){return le<d}))return q=ot([N+re,D,oe],3),w=q[0],C=q[1],N=q[2],{width:ee,height:Z,x:w,y:C,page:E,index:U,pageIndex:M++,row:L,col:R++};K=ot([L+1,0,0,D+Z+a],4),L=K[0],R=K[1],N=K[2],D=K[3];var ce=D+Z;return ce<=v&&RU(L,function(le){return le<u})?(Q=ot([N,D,ee],3),w=Q[0],C=Q[1],N=Q[2],{width:ee,height:Z,x:w,y:C,page:E,index:U,pageIndex:M++,row:L,col:R++}):(X=ot([0,0,ee,0,E+1,0,0,0],8),w=X[0],C=X[1],N=X[2],D=X[3],E=X[4],M=X[5],L=X[6],R=X[7],{width:ee,height:Z,x:w,y:C,page:E,index:U,pageIndex:M++,row:L,col:R++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){var i=this.attributes.orientation;return Uv(i,n,r)},t.prototype.flattenPage=function(n){n.querySelectorAll(B_.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(B_.page.class).forEach(function(r){var i=n.removeChild(r);i.destroy()})},t.prototype.renderItems=function(n){var r=this.attributes,i=r.click,a=r.mouseenter,s=r.mouseleave;this.flattenPage(n);var o=this.dispatchCustomEvent.bind(this);zi(n).selectAll(B_.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(c){var u=c.style;return new w7e({style:u})}).attr("className",B_.item.name).on("click",function(){i?.(this),o("itemClick",{item:this})}).on("pointerenter",function(){a?.(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){s?.(this),o("itemMouseleave",{item:this})})},function(l){return l.each(function(c){var u=c.style;this.update(u)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var n,r=this.attributes,i=r.layout,a=r.width,s=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,o=ot(this.navigatorShape,2),l=o[0],c=o[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:s-c}:{})},t.prototype.adjustLayout=function(){var n=this,r=Object.entries(uje(this.itemsLayout,"page")).map(function(a){var s=ot(a,2),o=s[0],l=s[1];return{page:o,layouts:l}}),i=Pr([],ot(this.navigator.getContainer().children),!1);r.forEach(function(a){var s=a.layouts,o=n.pageViews.appendChild(new Jc({className:B_.page.name}));s.forEach(function(l){var c=l.x,u=l.y,d=l.index,h=l.width,g=l.height,v=i[d];o.appendChild(v),$3e(v,"__layout__",l),v.update({x:c,y:u,width:h,height:g})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(n){var r=this.attributes.orientation,i=pa(this.attributes,"nav"),a=Gy({orientation:r},i),s=this;return n.selectAll(B_.navigator.class).data(["nav"]).join(function(o){return o.append(function(){return new g7e({style:a})}).attr("className",B_.navigator.name).each(function(){s.navigator=this})},function(o){return o.each(function(){this.update(a)})},function(o){return o.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(n,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(zi(r));this.renderItems(a.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(n,r){var i=new hs(n,{detail:r});this.dispatchEvent(i)},t}(Su),xC=Og({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Gie={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},C7e=function(e){yl(t,e);function t(n){return e.call(this,n,Gie)||this}return t.prototype.render=function(n,r){var i=zi(r).maybeAppendByClassName(xC.markerGroup,"g");this.renderMarker(i);var a=zi(r).maybeAppendByClassName(xC.labelGroup,"g");this.renderLabel(a)},t.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.orientation,s=i.markerSymbol,o=s===void 0?Uv(a,"horizontalHandle","verticalHandle"):s;dh(!!o,n,function(l){var c=pa(r.attributes,"marker"),u=Xn({symbol:o},c);r.marker=l.maybeAppendByClassName(xC.marker,function(){return new Ro({style:u})}).update(u)})},t.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.showLabel,s=i.orientation,o=i.spacing,l=o===void 0?0:o,c=i.formatter;dh(a,n,function(u){var d,h=pa(r.attributes,"label"),g=h.text,v=wu(h,["text"]),x=((d=u.select(xC.marker.class))===null||d===void 0?void 0:d.node().getBBox())||{},w=x.width,C=w===void 0?0:w,E=x.height,M=E===void 0?0:E,R=ot(Uv(s,[0,M+l,"center","top"],[C+l,0,"start","middle"]),4),L=R[0],N=R[1],D=R[2],H=R[3];u.maybeAppendByClassName(xC.label,"text").styles(Xn(Xn({},v),{x:L,y:N,text:c(g).toString(),textAlign:D,textBaseline:H}))})},t}(Su),Wie={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},E7e=Gy({},Wie,{}),O7e=Gy({},Wie,$v(Gie,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),T7e=.01,qu=Og({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),M7e=function(e){yl(t,e);function t(n){return e.call(this,n,E7e)||this}return t.prototype.renderTitle=function(n,r,i){var a=this.attributes,s=a.showTitle,o=a.titleText,l=pa(this.attributes,"title"),c=ot(Wy(l),2),u=c[0],d=c[1];this.titleGroup=n.maybeAppendByClassName(qu.titleGroup,"g").styles(d);var h=Xn(Xn({width:r,height:i},u),{text:s?o:""});this.title=this.titleGroup.maybeAppendByClassName(qu.title,function(){return new Hie({style:h})}).update(h)},t.prototype.renderItems=function(n,r){var i=r.x,a=r.y,s=r.width,o=r.height,l=pa(this.attributes,"title",!0),c=ot(Wy(l),2),u=c[0],d=c[1],h=Xn(Xn({},u),{width:s,height:o,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(qu.itemsGroup,"g").styles(Xn(Xn({},d),{transform:"translate(".concat(i,", ").concat(a,")")}));var g=this;this.itemsGroup.selectAll(qu.items.class).data(["items"]).join(function(v){return v.append(function(){return new S7e({style:h})}).attr("className",qu.items.name).each(function(){g.items=zi(this)})},function(v){return v.update(h)},function(v){return v.remove()})},t.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,i=n.width,a=n.height;return r?this.title.node().getAvailableSpace():new Js(0,0,i,a)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n,r,i=(n=this.title)===null||n===void 0?void 0:n.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?e.prototype.getBBox.call(this):c7e(i,a)},t.prototype.render=function(n,r){var i=this.attributes,a=i.width,s=i.height,o=i.x,l=o===void 0?0:o,c=i.y,u=c===void 0?0:c,d=zi(r);r.style.transform="translate(".concat(l,", ").concat(u,")"),this.renderTitle(d,a,s),this.renderItems(d,this.availableSpace),this.adjustLayout()},t}(Su),A7e={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},fL=Og({background:"background",labelGroup:"label-group",label:"label"},"indicator"),I7e=function(e){yl(t,e);function t(n){var r=e.call(this,n,A7e)||this;return r.point=[0,0],r.group=r.appendChild(new Jc({})),r.isMutationObserved=!0,r}return t.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,i=n.padding,a=ot(Yu(i),4),s=a[0],o=a[1],l=a[2],c=a[3],u=this.label.node().getLocalBounds(),d=u.min,h=u.max,g=new Js(d[0]-c,d[1]-s,h[0]+o-d[0]+c,h[1]+l-d[1]+s),v=this.getPath(r,g),x=pa(this.attributes,"background");this.background=zi(this.group).maybeAppendByClassName(fL.background,"path").styles(Xn(Xn({},x),{d:v})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,i=n.labelText,a=pa(this.attributes,"label"),s=ot(Wy(a),2),o=s[0],l=s[1];o.text;var c=wu(o,["text"]);if(this.label=zi(this.group).maybeAppendByClassName(fL.labelGroup,"g").styles(l),!!i){var u=this.label.maybeAppendByClassName(fL.label,function(){return xx(r(i))}).style("text",r(i).toString());u.selectAll("text").styles(c)}},t.prototype.adjustLayout=function(){var n=ot(this.point,2),r=n[0],i=n[1],a=this.attributes,s=a.x,o=a.y;this.group.attr("transform","translate(".concat(s-r,", ").concat(o-i,")"))},t.prototype.getPath=function(n,r){var i=this.attributes.radius,a=r.x,s=r.y,o=r.width,l=r.height,c=[["M",a+i,s],["L",a+o-i,s],["A",i,i,0,0,1,a+o,s+i],["L",a+o,s+l-i],["A",i,i,0,0,1,a+o-i,s+l],["L",a+i,s+l],["A",i,i,0,0,1,a,s+l-i],["L",a,s+i],["A",i,i,0,0,1,a+i,s],["Z"]],u={top:4,right:6,bottom:0,left:2},d=u[n],h=this.createCorner([c[d].slice(-2),c[d+1].slice(-2)]);return c.splice.apply(c,Pr([d+1,1],ot(h),!1)),c[0][0]="M",c},t.prototype.createCorner=function(n,r){r===void 0&&(r=10);var i=.8,a=Mje.apply(void 0,Pr([],ot(n),!1)),s=ot(n,2),o=ot(s[0],2),l=o[0],c=o[1],u=ot(s[1],2),d=u[0],h=u[1],g=ot(a?[d-l,[l,d]]:[h-c,[c,h]],2),v=g[0],x=ot(g[1],2),w=x[0],C=x[1],E=v/2,M=v/Math.abs(v),R=r*M,L=R/2,N=R*Math.sqrt(3)/2*i,D=ot([w,w+E-L,w+E,w+E+L,C],5),H=D[0],U=D[1],q=D[2],K=D[3],Q=D[4];return a?(this.point=[q,c-N],[["L",H,c],["L",U,c],["L",q,c-N],["L",K,c],["L",Q,c]]):(this.point=[l+N,q],[["L",l,H],["L",l,U],["L",l+N,q],["L",l,K],["L",l,Q]])},t.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?N1(this):oT(this)},t.prototype.bindEvents=function(){this.label.on(ia.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(Su);function P7e(e,t){for(var n=1;n<e.length;n+=1){var r=e[n-1],i=e[n];if(t>=r&&t<=i)return[r,i]}return[t,t]}function R7e(e,t,n){var r=Array.from(t),i=e.length;return new Array(i).fill(0).reduce(function(a,s,o){var l=r[o%r.length];return a+=" ".concat(e[o],":").concat(l).concat(o<i-1?" ".concat(e[o+1],":").concat(l):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function $U(e,t){var n=ot(P7e(e,t),2),r=n[0],i=n[1];return{tick:t>(r+i)/2?i:r,range:[r,i]}}var rO=Og({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function qie(e){var t=e.orientation,n=e.size,r=e.length;return Uv(t,[r,n],[n,r])}function Kie(e){var t=e.type,n=ot(qie(e),2),r=n[0],i=n[1];return t==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function $7e(e){return Kie(e)}function k7e(e){var t=e.orientation,n=e.color,r=e.block,i=e.partition,a;if(Yc(n)){var s=20;a=new Array(s).fill(0).map(function(c,u,d){return n(u/(d.length-1))})}else a=n;var o=a.length,l=a.map(function(c){return p1(c).toString()});return o?o===1?l[0]:r?R7e(i,l,t):l.reduce(function(c,u,d){return c+=" ".concat(d/(o-1),":").concat(u)},"l(".concat(Uv(t,"0","270"),")")):""}function L7e(e){var t=e.orientation,n=e.range;if(!n)return[];var r=ot(qie(e),2),i=r[0],a=r[1],s=ot(n,2),o=s[0],l=s[1],c=Uv(t,o*i,0),u=Uv(t,0,o*a),d=Uv(t,l*i,i),h=Uv(t,a,l*a);return[["M",c,u],["L",c,h],["L",d,h],["L",d,u],["Z"]]}function N7e(e,t){var n=pa(t,"track");e.maybeAppendByClassName(rO.track,"path").styles(Xn({d:Kie(t)},n))}function D7e(e,t){var n=pa(t,"selection"),r=k7e(t),i=e.maybeAppendByClassName(rO.selection,"path").styles(Xn({d:$7e(t),fill:r},n)),a=i.maybeAppendByClassName(rO.clipPath,"path").styles({d:L7e(t)}).node();i.style("clipPath",a)}var z7e=function(e){yl(t,e);function t(n){return e.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return t.prototype.render=function(n,r){var i=zi(r).maybeAppendByClassName(rO.trackGroup,"g");N7e(i,n);var a=zi(r).maybeAppendByClassName(rO.selectionGroup,"g");D7e(a,n)},t}(Su);function B7e(e){return{min:Math.min.apply(Math,Pr([],ot(e.map(function(t){return t.value})),!1)),max:Math.max.apply(Math,Pr([],ot(e.map(function(t){return t.value})),!1))}}var j7e=function(e){yl(t,e);function t(n){var r=e.call(this,n,O7e)||this;return r.eventToOffsetScale=new ks({}),r.innerRibbonScale=new ks({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,s=a.data,o=a.block;i.stopPropagation();var l=r.getValueByCanvasPoint(i);if(o){var c=$U(s.map(function(h){var g=h.value;return g}),l).range,u=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(u[0],"-").concat(u[1])),r.dispatchIndicated(l,c)}else{var d=r.getTickValue(l);r.showIndicator(d,"".concat(r.getRealValue(d))),r.dispatchIndicated(d)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var s=ot(r.selection,2),o=s[0],l=s[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),u=c-r.prevValue;a==="start"?o!==c&&r.updateSelection(c,l):a==="end"?l!==c&&r.updateSelection(o,c):a==="ribbon"&&u!==0&&(r.prevValue=c,r.updateSelection(u,u,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.width,i=n.height;return new Js(0,0,r,i)},t.prototype.render=function(n,r){var i=this,a=n.showLabel;this.renderTitle(zi(r));var s=this.availableSpace,o=s.x,l=s.y,c=zi(r).maybeAppendByClassName(qu.contentGroup,"g").styles({transform:"translate(".concat(o,", ").concat(l,")")}),u=c.maybeAppendByClassName(qu.labelGroup,"g").styles({zIndex:1});dh(!!a,u,function(h){i.renderLabel(h)});var d=c.maybeAppendByClassName(qu.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=c.maybeAppendByClassName(qu.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(d),this.renderIndicator(c),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var n=this.attributes,r=n.data,i=n.domain;return i?{min:i[0],max:i[1]}:B7e(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,i=n.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var n=ot(this.selection,2),r=n[0],i=n[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var n=this.range,r=n.min,i=n.max,a=this.attributes.defaultValue,s=a===void 0?[r,i]:a,o=ot(s,2),l=o[0],c=o[1];return[l,c]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){return Uv(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},t.prototype.renderTitle=function(n){var r=this.attributes,i=r.showTitle,a=r.titleText,s=r.width,o=r.height,l=pa(this.attributes,"title"),c=Xn(Xn({},l),{width:s,height:o,text:a}),u=this;n.selectAll(qu.title.class).data(i?[a]:[]).join(function(d){return d.append(function(){return new Hie({style:c})}).attr("className",qu.title.name).each(function(){u.title=this})},function(d){return d.update(c)},function(d){return d.each(function(){u.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,i=n.height;return new Js(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,i=n.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new Js(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((n=this.label.querySelector(rs.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),a=i.width,s=i.height;return this.cacheLabelBBox=new Js(0,0,a,s),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,i=n.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var s=this.labelBBox,o=s.width,l=s.height,c=this.ifHorizontal(l,o)+a+this.labelFixedSpacing,u=this.ifHorizontal(o,l);return{width:o,height:l,size:c,length:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,i=n.ribbonSize,a=this.availableSpace,s=a.width,o=a.height,l=this.labelShape,c=l.size,u=l.length,d=ot(this.ifHorizontal([o,s],[s,o]),2),h=d[0],g=d[1],v=r?this.handleShape:{size:0,length:0},x=v.size,w=v.length,C=this.handleOffsetRatio,E=0,M=this.labelPosition;i?E=i:["bottom","right"].includes(M)?E=Math.min(h-c,(h-x)/C):h*(1-C)>x?E=Math.max(h-c,0):E=Math.max((h-c-x)/C,0);var R=Math.max(w,u),L=g-R,N=ot(this.ifHorizontal([L,E],[E,L]),2),D=N[0],H=N[1],U=["top","left"].includes(M)?c:0,q=ot(this.ifHorizontal([R/2,U],[U,R/2]),2),K=q[0],Q=q[1];return new Js(K,Q,D,H)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,i=n.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(n){var r=this.attributes,i=r.data,a=r.type,s=r.orientation,o=r.color,l=r.block,c=pa(this.attributes,"ribbon"),u=this.range,d=u.min,h=u.max,g=this.ribbonBBox,v=g.x,x=g.y,w=this.ribbonShape,C=w.length,E=w.size,M=Gy({transform:"translate(".concat(v,", ").concat(x,")"),length:C,size:E,type:a,orientation:s,color:o,block:l,partition:i.map(function(R){return(R.value-d)/(h-d)}),range:this.ribbonRange},c);this.ribbon=n.maybeAppendByClassName(qu.ribbon,function(){return new z7e({style:M})}).update(M)},t.prototype.getHandleClassName=function(n){return"".concat(qu.prefix("".concat(n,"-handle")))},t.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,i=n.orientation,a=pa(this.attributes,"handle"),s=ot(this.selection,2),o=s[0],l=s[1],c=Xn(Xn({},a),{orientation:i}),u=a.shape,d=u===void 0?"slider":u,h=d==="basic"?C7e:Iie,g=this;this.handlesGroup.selectAll(qu.handle.class).data(r?[{value:o,type:"start"},{value:l,type:"end"}]:[],function(v){return v.type}).join(function(v){return v.append(function(){return new h({style:c})}).attr("className",function(x){var w=x.type;return"".concat(qu.handle," ").concat(g.getHandleClassName(w))}).each(function(x){var w=x.type,C=x.value;this.update({labelText:C});var E="".concat(w,"Handle");g[E]=this,this.addEventListener("pointerdown",g.onDragStart(w))})},function(v){return v.update(c).each(function(x){var w=x.value;this.update({labelText:w})})},function(v){return v.each(function(x){var w=x.type,C="".concat(w,"Handle");g[C]=void 0}).remove()})},t.prototype.adjustHandles=function(){var n=ot(this.selection,2),r=n[0],i=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i)},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Js(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,i=n.height,a=this.endHandle.getBBox(),s=a.width,o=a.height,l=ot([Math.max(r,s),Math.max(i,o)],2),c=l[0],u=l[1];return this.cacheHandleBBox=new Js(0,0,c,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,i=n.height,a=ot(this.ifHorizontal([i,r],[r,i]),2),s=a[0],o=a[1];return{width:r,height:i,size:s,length:o}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(n,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,s=a.x,o=a.y,l=this.ribbonShape.size,c=this.getOffset(r),u=ot(this.ifHorizontal([s+c,o+l*this.handleOffsetRatio],[s+l*this.handleOffsetRatio,o+c]),2),d=u[0],h=u[1],g=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();g?.update({transform:"translate(".concat(d,", ").concat(h,")"),formatter:i})},t.prototype.renderIndicator=function(n){var r=pa(this.attributes,"indicator");this.indicator=n.maybeAppendByClassName(qu.indicator,function(){return new I7e({})}).update(r)},Object.defineProperty(t.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(i,a,s,o){var l,c,u=(l=a?.id)!==null&&l!==void 0?l:s.toString();if(i.push(Xn(Xn({},a),{id:u,index:s,type:"value",label:(c=a?.label)!==null&&c!==void 0?c:a.value.toString(),value:n.ribbonScale.map(a.value)})),s<o.length-1){var d=o[s+1],h=ot([a.value,d.value],2),g=h[0],v=h[1],x=(g+v)/2;i.push(Xn(Xn({},a),{id:u,index:s,type:"range",range:[g,v],label:[g,v].join("~"),value:n.ribbonScale.map(x)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var n=ot(["center","middle"],2),r=n[0],i=n[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(n){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,s=r.labelFilter,o=r.labelFormatter,l=pa(this.attributes,"tick"),c=pa(this.attributes,"label"),u=c.align,d=Gy(Xn({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),$v(l,"tick"),$v(c,"label"),{data:this.labelData}),h={tickFilter:function(v,x,w){return v?.type!=="value"?!1:s?s(v,v.index,w.filter(function(C){return C.type!=="value"})):!0},labelFilter:function(v,x,w){return v?.type!==u?!1:s?s(v,v.index,w.filter(function(C){return C.type===u})):!0},labelFormatter:o},g=Xn(Xn(Xn({},d),h),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(qu.label,function(){return new F6({style:g})}).node(),this.label.update(g,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,i=n.labelDirection,a=n.labelSpacing,s=n.tickLength,o=this.ribbonShape.size,l=this.labelPosition,c=this.labelFixedSpacing,u=ot([0,0,0],3),d=u[0],h=u[1],g=u[2],v=s??o;return r?(g=v,h=c,i==="positive"?l==="right"?(d=v,g=v):l==="bottom"&&(d=g):i==="negative"&&(l==="top"||l==="left")&&(d=o)):i==="positive"?l==="right"?h=v:l==="bottom"&&(d=o+c,h=a):i==="negative"&&(l==="left"||l==="top")&&(h=a),{offset:d,spacing:h,tickLength:g}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,i=r.x,a=r.y,s=r.width,o=r.height,l=this.labelAxisStyle,c=l.offset,u=l.spacing,d=l.tickLength,h=ot(this.ifHorizontal([[i,a+c],[i+s,a+c]],[[i+c,a+o],[i+c,a]]),2),g=h[0],v=h[1];this.label.update({startPos:g,endPos:v,tickLength:d,labelSpacing:u},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var i=this.attributes.showIndicator;if(!i||typeof n!="number"){this.hideIndicator();return}var a=this.range,s=a.min,o=a.max,l=this.ribbonBBox,c=l.x,u=l.y,d=$l(n,s,o),h=this.getOffset(d),g=this.ifHorizontal([h+c,u],[c,h+u]);this.indicator.update({x:g[0],y:g[1],position:this.ifHorizontal("top","left"),labelText:r}),oT(this.indicator.node())},t.prototype.hideIndicator=function(){N1(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(n,r){this.updateSelection(n,r)},t.prototype.updateSelection=function(n,r,i){var a;i===void 0&&(i=!1);var s=ot(this.selection,2),o=s[0],l=s[1],c=ot([n,r],2),u=c[0],d=c[1];i&&(u+=o,d+=l);var h=this.range,g=h.min,v=h.max;a=ot(_7e([g,v],[u,d],this.selection),2),u=a[0],d=a[1],this.update({defaultValue:[u,d]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,i=this.range,a=i.min,s=i.max;return Cs(r)?O5((s-a)*T7e,0):r},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(n){var r=this.attributes,i=r.data,a=r.block,s=this.range.min;return a?$U(i.map(function(o){var l=o.value;return l}),n).tick:m7e(n,this.step,s)},t.prototype.getValueByCanvasPoint=function(n){var r=this.range,i=r.min,a=r.max,s=ot(this.ribbon.node().getPosition(),2),o=s[0],l=s[1],c=this.ifHorizontal(o,l),u=this.ifHorizontal.apply(this,Pr([],ot(kI(n)),!1)),d=u-c,h=$l(this.getOffset(d,!0),i,a);return h},t.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var i=this.range,a=i.min,s=i.max,o=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[a,s],range:[0,o]}),r?l.invert(n):l.map(n)},t.prototype.getRealSelection=function(n){var r=this.range.max,i=ot(n,2),a=i[0],s=i[1];return this.ifHorizontal([a,s],[r-s,r-a])},t.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},t.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new hs("valuechange",{detail:{value:n}});this.dispatchEvent(r)},t.prototype.dispatchIndicated=function(n,r){var i=this,a=this.range.max,s=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:a-n,range:r?i.getRealSelection(r):void 0}}),o=new hs("indicate",{detail:s});this.dispatchEvent(o)},t}(Su);function P5(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var kU={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function F7e(e){var t;e===void 0&&(e="");var n=P5(e);return t={},t[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=Xn({flex:1},kU),t[".".concat(n.VALUE)]=Xn({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},kU),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var H7e=function(e){yl(t,e);function t(n){var r=this,i,a,s=(a=(i=n.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,o=P5(s);return r=e.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(o.CONTAINER,'"></div>'),title:'<div class="'.concat(o.TITLE,'"></div>'),item:'<li class="'.concat(o.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(o.NAME,`">
          <span class="`).concat(o.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(o.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(o.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:F7e(s)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,i=n.template;return r.map(function(a,s){var o=a.name,l=o===void 0?"":o,c=a.color,u=c===void 0?"black":c,d=a.index,h=wu(a,["name","color","index"]),g=Xn({name:l,color:u,index:d??s},h);return qH(C3e(i.item,g))})},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(n,r){var i=this;if(n!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",s=function(){i.attributes.x=n??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(s):s()}this.element.style.visibility="visible"},t.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var n=this.attributes.template;this.element=qH(n.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:yU(this.element,n))}},t.prototype.renderHTMLTooltipElement=function(){var n,r,i=this.attributes,a=i.template,s=i.title,o=i.enterable,l=i.style,c=i.content,u=P5(a.prefixCls),d=this.element;if(this.element.style.pointerEvents=o?"auto":"none",c)this.renderCustomContent();else{s?(d.innerHTML=a.title,d.getElementsByClassName(u.TITLE)[0].innerHTML=s):(r=(n=d.getElementsByClassName(u.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var h=this.HTMLTooltipItemsElements,g=document.createElement("ul");g.className=u.LIST,yU(g,h);var v=this.element.querySelector(".".concat(u.LIST));v?v.replaceWith(g):d.appendChild(g)}Rje(d,l)},t.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,i=r.position,a=r.offset,s=n||i,o=s.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,u=c.width,d=c.height,h=[-u/2,-d/2];return o.forEach(function(g){var v=ot(h,2),x=v[0],w=v[1],C=ot(l[g],2),E=C[0],M=C[1];h=[x+(u/2+a[0])*E,w+(d/2+a[1])*M]}),h},t.prototype.setOffsetPosition=function(n){var r=ot(n,2),i=r[0],a=r[1],s=this.attributes,o=s.x,l=o===void 0?0:o,c=s.y,u=c===void 0?0:c,d=s.container,h=d.x,g=d.y;this.element.style.left="".concat(+l+h+i,"px"),this.element.style.top="".concat(+u+g+a,"px")},t.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(n){var r=ot(n,2),i=r[0],a=r[1],s=this.attributes,o=s.x,l=s.y,c=s.bounding,u=s.position;if(!c)return[i,a];var d=this.element,h=d.offsetWidth,g=d.offsetHeight,v=ot([+o+i,+l+a],2),x=v[0],w=v[1],C={left:"right",right:"left",top:"bottom",bottom:"top"},E=c.x,M=c.y,R=c.width,L=c.height,N={left:x<E,right:x+h>E+R,top:w<M,bottom:w+g>M+L},D=[];u.split("-").forEach(function(U){N[U]?D.push(C[U]):D.push(U)});var H=D.join("-");return this.getRelativeOffsetFromCursor(H)},t.prototype.isCursorEntered=function(n,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,s=i.y,o=i.width,l=i.height;return new Js(a,s,o,l).isPointIn(n,r)}return!1},t.prototype.closeTransition=function(n){var r=this,i=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=i},10)},t.tag="tooltip",t}(Su),V7e=function(e){yl(t,e);function t(n){var r=e.call(this,n)||this;r.layoutEvents=[ia.BOUNDS_CHANGED,ia.INSERTED,ia.REMOVED],r.$margin=Yu(0),r.$padding=Yu(0);var i=n.style||{},a=i.margin,s=a===void 0?0:a,o=i.padding,l=o===void 0?0:o;return r.margin=s,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=Yu(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=Yu(n)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.x,i=r===void 0?0:r,a=n.y,s=a===void 0?0:a,o=n.width,l=n.height,c=ot(this.$margin,4),u=c[0],d=c[1],h=c[2],g=c[3];return new Js(i-g,s-u,o+g+d,l+u+h)},t.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,e.prototype.appendChild.call(this,n,r),n},t.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,i=n.height,a=ot(this.$padding,4),s=a[0],o=a[1],l=a[2],c=a[3],u=ot(this.$margin,4),d=u[0],h=u[3];return new Js(c+h,s+d,r-c-o,i-s-l)},t.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(s){return!s.isConnected}))try{var n=this.attributes,r=n.x,i=n.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=vje(this.getAvailableSpace(),this.children.map(function(s){return s.getBBox()}),this.attributes);this.children.forEach(function(s,o){var l=a[o],c=l.x,u=l.y;s.style.transform="translate(".concat(c,", ").concat(u,")")})}catch{}},t.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,n.layout())})})},t.prototype.attributeChangedCallback=function(n,r,i){n==="margin"?this.margin=i:n==="padding"&&(this.padding=i),this.layout()},t}(Jc),dL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function U7e(e){const{min:[t,n],max:[r,i]}=e.getLocalBounds();let a=0,s=0;return t>0&&(a=t),r<0&&(a=r),n>0&&(s=n),i<0&&(s=i),[a,s]}function G7e(e,t=[]){const[n=0,r=0,i=n,a=r]=t,s=e.parentNode,o=s.getEulerAngles();s.setEulerAngles(0);const{min:l,halfExtents:c}=e.getLocalBounds(),[u,d]=l,[h,g]=c;return s.setEulerAngles(o),{x:u-a,y:d-n,width:h*2+a+r,height:g*2+n+i}}function W7e(e,t,n,r,i=!0,a=!0){const s=d=>Dx()(d);if(!t[0]&&!t[1])return s([U7e(e),t]);if(!n.length)return s([[0,0],t]);const[o,l]=n,c=[...l],u=[...o];if(l[0]!==o[0]){const d=i?-4:4;c[1]=l[1],a&&!i&&(c[0]=Math.max(o[0],l[0]-d),l[1]<o[1]?u[1]=c[1]:(u[1]=o[1],u[0]=Math.max(u[0],c[0]-d))),!a&&!i&&(c[0]=Math.max(o[0],l[0]-d),l[1]>o[1]?u[1]=c[1]:(u[1]=o[1],u[0]=Math.max(u[0],c[0]-d))),!a&&i&&(c[0]=Math.min(o[0],l[0]-d),l[1]>o[1]?u[1]=c[1]:(u[1]=o[1],u[0]=Math.min(u[0],c[0]-d))),a&&i&&(c[0]=Math.min(o[0],l[0]-d),l[1]<o[1]?u[1]=c[1]:(u[1]=o[1],u[0]=Math.min(u[0],c[0]-d)))}return s([l,c,u,o,t])}const Yie=a2(e=>{const t=e.attributes,{className:n,class:r,transform:i,rotate:a,labelTransform:s,labelTransformOrigin:o,x:l,y:c,x0:u=l,y0:d=c,text:h,background:g,connector:v,startMarker:x,endMarker:w,coordCenter:C,innerHTML:E}=t,M=dL(t,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${l}, ${c})`,[l,c,u,d].some(oe=>!qs(oe))){e.children.forEach(oe=>oe.remove());return}const R=or(M,"background"),{padding:L}=R,N=dL(R,["padding"]),D=or(M,"connector"),{points:H=[]}=D,U=dL(D,["points"]);let q;E?q=Jr(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",E).call(Dr,Object.assign({transform:s,transformOrigin:o},M)).node():q=Jr(e).maybeAppend("text","text").style("zIndex",0).style("text",h).call(Dr,Object.assign({textBaseline:"middle",transform:s,transformOrigin:o},M)).node();const K=Jr(e).maybeAppend("background","rect").style("zIndex",-1).call(Dr,G7e(q,L)).call(Dr,g?N:{}).node(),Q=+u<C[0],X=+d<C[1],te=[+u-+l,+d-+c],ee=W7e(K,te,H,C,Q,X),Z=x&&new Ro({id:"startMarker",style:Object.assign({x:0,y:0},or(M,"startMarker"))}),re=w&&new Ro({id:"endMarker",style:Object.assign({x:0,y:0},or(M,"endMarker"))});Jr(e).maybeAppend("connector","path").style("zIndex",0).style("d",ee).style("markerStart",Z).style("markerEnd",re).call(Dr,v?U:{})}),Xie=(e,t)=>{const{coordinate:n}=t;return(r,i,a)=>{const{color:s,text:o="",fontSize:l,rotate:c=0,transform:u=""}=i,d={text:String(o),stroke:s,fill:s,fontSize:l},[[h,g]]=r;return Jr(new Yie).style("x",h).style("y",g).call(Dr,a).style("transform",`${u}rotate(${+c})`).style("coordCenter",n.getCenter()).call(Dr,d).call(Dr,e).node()}};Xie.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var R5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function q7e(e){const t=e/Math.sqrt(2),n=e*Math.sqrt(2),[r,i]=[-t,t-n],[a,s]=[0,0],[o,l]=[t,t-n];return[["M",r,i],["A",e,e,0,1,1,o,l],["L",a,s],["Z"]]}function K7e(e){const{min:t,max:n}=e.getLocalBounds();return[(t[0]+n[0])*.5,(t[1]+n[1])*.5]}const Y7e=a2(e=>{const t=e.attributes,{class:n,x:r,y:i,transform:a}=t,s=R5(t,["class","x","y","transform"]),o=or(s,"marker"),{size:l=24}=o,c=()=>q7e(l/2),u=Jr(e).maybeAppend("marker",()=>new Ro({})).call(g=>g.node().update(Object.assign({symbol:c},o))).node(),[d,h]=K7e(u);Jr(e).maybeAppend("text","text").style("x",d).style("y",h).call(Dr,s)}),Zie=(e,t)=>{const n=R5(e,[]);return(r,i,a)=>{const{color:s}=a,o=R5(a,["color"]),{color:l=s,text:c=""}=i,u={text:String(c),stroke:l,fill:l},[[d,h]]=r;return Jr(new Y7e).call(Dr,o).style("transform",`translate(${d},${h})`).call(Dr,u).call(Dr,n).node()}};Zie.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Qie=(e,t)=>{const{coordinate:n}=t;return(r,i,a)=>{const{color:s,text:o="",fontSize:l,rotate:c=0,transform:u=""}=i,d={text:String(o),stroke:s,fill:s,fontSize:l,textAlign:"center",textBaseline:"middle"},[[h,g]]=r;return Jr(new vg).style("x",h).style("y",g).call(Dr,a).style("transformOrigin","center center").style("transform",`${u}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(Dr,d).call(Dr,e).node()}};Qie.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var X7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Z7e(e,t){const n=[],r=[],i=[];let a=!1,s=null;const o=e.length/2;for(let l=0;l<o;l++){const c=e[l],u=e[l+o];if([...c,...u].some(d=>!t(d)))a=!0;else{if(n.push(c),r.push(u),a&&s){a=!1;const[d,h]=s;i.push([d,c,h,u])}s=[c,u]}}return[n.concat(r),i]}const LU=a2(e=>{const{areaPath:t,connectPath:n,areaStyle:r,connectStyle:i}=e.attributes,a=e.ownerDocument;Jr(e).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",n).call(Dr,i),Jr(e).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",t).call(Dr,r)}),km=(e,t)=>{const{curve:n,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=e,s=X7e(e,["curve","gradient","defined","connect"]),{coordinate:o,document:l}=t;return(c,u,d)=>{const{color:h}=d,{color:g=h,seriesColor:v,seriesX:x,seriesY:w}=u,C=Gs(o),E=mre(o,u),M=r&&v?gre(v,x,w,r,void 0,C):g,R=Object.assign(Object.assign(Object.assign(Object.assign({},d),{stroke:M,fill:M}),E&&{transform:E}),s),[L,N]=Z7e(c,i),D=or(R,"connect"),H=!!N.length,U=q=>Jr(l.createElement("path",{})).style("d",q||"").call(Dr,R).node();if(gs(o)){const q=K=>{const Q=o.getCenter(),X=K.slice(0,K.length/2),te=K.slice(K.length/2);return t4e().angle((ee,Z)=>t2(Rl(X[Z],Q))).outerRadius((ee,Z)=>ml(X[Z],Q)).innerRadius((ee,Z)=>ml(te[Z],Q)).defined((ee,Z)=>[...X[Z],...te[Z]].every(i)).curve(n)(te)};return!H||a&&!Object.keys(D).length?U(q(L)):H&&!a?U(q(c)):Jr(new LU).style("areaStyle",R).style("connectStyle",Object.assign(Object.assign({},D),s)).style("areaPath",q(c)).style("connectPath",N.map(q).join("")).node()}else{const q=K=>{const Q=K.slice(0,K.length/2),X=K.slice(K.length/2);return C?s5().y((te,ee)=>Q[ee][1]).x1((te,ee)=>Q[ee][0]).x0((te,ee)=>X[ee][0]).defined((te,ee)=>[...Q[ee],...X[ee]].every(i)).curve(n)(Q):s5().x((te,ee)=>Q[ee][0]).y1((te,ee)=>Q[ee][1]).y0((te,ee)=>X[ee][1]).defined((te,ee)=>[...Q[ee],...X[ee]].every(i)).curve(n)(Q)};return!H||a&&!Object.keys(D).length?U(q(L)):H&&!a?U(q(c)):Jr(new LU).style("areaStyle",R).style("connectStyle",Object.assign(Object.assign({},D),s)).style("areaPath",q(c)).style("connectPath",N.map(q).join("")).node()}}};km.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Jie=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const i=gs(n)?s6:eT;return km(Object.assign({curve:i},e),t)(...r)}};Jie.props=Object.assign(Object.assign({},km.props),{defaultMarker:"square"});var Q7e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const eae=(e,t)=>{const n=Q7e(e,[]),{coordinate:r}=t;return(...i)=>{const a=gs(r)?cne:Gs(r)?pne:hne;return km(Object.assign({curve:a},n),t)(...i)}};eae.props=Object.assign(Object.assign({},km.props),{defaultMarker:"smooth"});const tae=(e,t)=>(...n)=>km(Object.assign({curve:gne},e),t)(...n);tae.props=Object.assign(Object.assign({},km.props),{defaultMarker:"hvh"});const nae=(e,t)=>(...n)=>km(Object.assign({curve:mne},e),t)(...n);nae.props=Object.assign(Object.assign({},km.props),{defaultMarker:"vh"});const rae=(e,t)=>(...n)=>km(Object.assign({curve:vne},e),t)(...n);rae.props=Object.assign(Object.assign({},km.props),{defaultMarker:"hv"});const iae=(e,t)=>{const{arrow:n=!1}=e;return(...r)=>R6(Object.assign(Object.assign({},e),{arrow:n}),t)(...r)};iae.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var NU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const aae=(e,t)=>{const n=NU(e,[]),{document:r}=t;return(i,a,s)=>{const{color:o}=s,l=NU(s,["color"]),{color:c=o,transform:u}=a,[d,h]=i,g=Sg();return g.moveTo(d[0],d[1]),g.bezierCurveTo(d[0]/2+h[0]/2,d[1],d[0]/2+h[0]/2,h[1],h[0],h[1]),Jr(r.createElement("path",{})).call(Dr,l).style("d",g.toString()).style("stroke",c).style("transform",u).call(Dr,n).node()}};aae.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var DU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function J7e(e,t,n,r){const i=Sg();if(gs(n)){const a=n.getCenter(),s=ml(e,a),l=(ml(t,a)-s)*r+s;return i.moveTo(e[0],e[1]),JE(i,e,t,a,l),i.lineTo(t[0],t[1]),i}return Gs(n)?(i.moveTo(e[0],e[1]),i.lineTo(e[0]+(t[0]-e[0])*r,e[1]),i.lineTo(e[0]+(t[0]-e[0])*r,t[1]),i.lineTo(t[0],t[1]),i):(i.moveTo(e[0],e[1]),i.lineTo(e[0],e[1]+(t[1]-e[1])*r),i.lineTo(t[0],e[1]+(t[1]-e[1])*r),i.lineTo(t[0],t[1]),i)}const oae=(e,t)=>{const{cornerRatio:n=1/3}=e,r=DU(e,["cornerRatio"]),{coordinate:i,document:a}=t;return(s,o,l)=>{const{defaultColor:c}=l,u=DU(l,["defaultColor"]),{color:d=c,transform:h}=o,[g,v]=s,x=J7e(g,v,i,n);return Jr(a.createElement("path",{})).call(Dr,u).style("d",x.toString()).style("stroke",d).style("transform",h).call(Dr,r).node()}};oae.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var zU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sae=(e,t)=>{const n=zU(e,[]),{coordinate:r,document:i}=t;return(a,s,o)=>{const{color:l}=o,c=zU(o,["color"]),{color:u=l,transform:d}=s,[h,g]=a,v=Sg();if(v.moveTo(h[0],h[1]),gs(r)){const x=r.getCenter();v.quadraticCurveTo(x[0],x[1],g[0],g[1])}else{const x=Kte(h,g),w=ml(h,g)/2;JE(v,h,g,x,w)}return Jr(i.createElement("path",{})).call(Dr,c).style("d",v.toString()).style("stroke",u).style("transform",d).call(Dr,n).node()}};sae.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function lae(e={}){const{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Md(e={}){return[...lae(e),{name:"title",scale:"identity"}]}function D1(){return[{type:t$,channel:"color"},{type:r$,channel:["x","y"]}]}function U2(){return[{type:t$,channel:"x"},{type:r$,channel:["y"]}]}function e9e(){return[{type:t$,channel:"color"},{type:r$,channel:["position"]}]}function G2(e={}){return lae(e)}function Gl(){return[{type:xte}]}function fc(){return[]}function hL(e,t){return e.getBandWidth(e.invert(t))}function Vx(e,t,n={}){const{x:r,y:i,series:a}=t,{x:s,y:o,series:l}=e,{style:{bandOffset:c=l?0:.5,bandOffsetX:u=c,bandOffsetY:d=c}={}}=n,h=!!s?.getBandWidth,g=!!o?.getBandWidth,v=!!l?.getBandWidth;return!h&&!g?x=>x:(x,w)=>{const C=h?hL(s,r[w]):0,E=g?hL(o,i[w]):0,R=v&&a?(hL(l,a[w])/2+ +a[w])*C:0,[L,N]=x;return[L+u*C+R,N+d*E]}}function NI(e){return parseFloat(e)/100}function H6(e,t,n,r){const{x:i,y:a}=n,{innerWidth:s,innerHeight:o}=r.getOptions(),l=Array.from(e,c=>{const u=i[c],d=a[c],h=typeof u=="string"?NI(u)*s:+u,g=typeof d=="string"?NI(d)*o:+d;return[[h,g]]});return[e,l]}function Qv(e){return typeof e=="function"?e:t=>t[e]}function pL(e,t){return Array.from(e,Qv(t))}function V6(e,t){const{source:n=u=>u.source,target:r=u=>u.target,value:i=u=>u.value}=t,{links:a,nodes:s}=e,o=pL(a,n),l=pL(a,r),c=pL(a,i);return{links:a.map((u,d)=>({target:l[d],source:o[d],value:c[d]})),nodes:s||Array.from(new Set([...o,...l]),u=>({key:u}))}}var t9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cae=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,s)=>{const{color:o}=s,l=t9e(s,["color"]),{color:c=o,src:u="",size:d=32,transform:h=""}=a;let{width:g=d,height:v=d}=e;const[[x,w]]=i,[C,E]=n.getSize();g=typeof g=="string"?NI(g)*C:g,v=typeof v=="string"?NI(v)*E:v;const M=x-Number(g)/2,R=w-Number(v)/2;return Jr(r.createElement("image",{})).call(Dr,l).style("x",M).style("y",R).style("src",u).style("stroke",c).style("transform",h).call(Dr,e).style("width",g).style("height",v).node()}};cae.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var n9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function r9e(e,t){const n=Sg();if(gs(t)){const r=t.getCenter(),i=[...e,e[0]],a=i.map(s=>ml(s,r));return i.forEach((s,o)=>{if(o===0){n.moveTo(s[0],s[1]);return}const l=a[o],c=e[o-1],u=a[o-1];u!==void 0&&Math.abs(l-u)<1e-10?JE(n,c,s,r,l):n.lineTo(s[0],s[1])}),n.closePath(),n}return U8e(n,e)}const uae=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,s)=>{const{color:o}=s,l=n9e(s,["color"]),{color:c=o,transform:u}=a,d=r9e(i,n);return Jr(r.createElement("path",{})).call(Dr,l).style("d",d.toString()).style("stroke",c).style("fill",c).style("transform",u).call(Dr,e).node()}};uae.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var BU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function i9e(e,t){const[n,r,i,a]=e,s=Sg();if(gs(t)){const o=t.getCenter(),l=ml(o,n);return s.moveTo(n[0],n[1]),s.quadraticCurveTo(o[0],o[1],i[0],i[1]),JE(s,i,a,o,l),s.quadraticCurveTo(o[0],o[1],r[0],r[1]),JE(s,r,n,o,l),s.closePath(),s}return s.moveTo(n[0],n[1]),s.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),s.lineTo(a[0],a[1]),s.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),s.lineTo(n[0],n[1]),s.closePath(),s}const fae=(e,t)=>{const n=BU(e,[]),{coordinate:r,document:i}=t;return(a,s,o)=>{const{color:l}=o,c=BU(o,["color"]),{color:u=l,transform:d}=s,h=i9e(a,r);return Jr(i.createElement("path",{})).call(Dr,c).style("d",h.toString()).style("fill",u||l).style("stroke",u||l).style("transform",d).call(Dr,n).node()}};fae.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var a9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function o9e(e,t){const n=Sg();if(!gs(t))n.moveTo(...e[0]),n.lineTo(...e[1]),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.lineTo(...e[5]),n.lineTo(...e[6]),n.lineTo(...e[7]),n.closePath(),n.moveTo(...e[8]),n.lineTo(...e[9]),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.lineTo(...e[13]);else{const r=t.getCenter(),[i,a]=r,s=mg(Rl(e[0],r)),o=mg(Rl(e[1],r)),l=ml(r,e[2]),c=ml(r,e[3]),u=ml(r,e[8]),d=ml(r,e[10]),h=ml(r,e[11]);n.moveTo(...e[0]),n.arc(i,a,l,s,o),n.arc(i,a,l,o,s,!0),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.arc(i,a,c,s,o),n.lineTo(...e[6]),n.arc(i,a,d,o,s,!0),n.closePath(),n.moveTo(...e[8]),n.arc(i,a,u,s,o),n.arc(i,a,u,o,s,!0),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.arc(i,a,h,s,o),n.arc(i,a,h,o,s,!0)}return n}const dae=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,s)=>{const{color:o,transform:l}=a,{color:c,fill:u=c,stroke:d=c}=s,h=a9e(s,["color","fill","stroke"]),g=o9e(i,n);return Jr(r.createElement("path",{})).call(Dr,h).style("d",g.toString()).style("stroke",d).style("fill",o||u).style("transform",l).call(Dr,e).node()}};dae.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var s9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function l9e(e,t,n=4){const r=Sg();if(!gs(t))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-n,e[3][1]),r.lineTo(e[10][0]-n,e[10][1]),r.lineTo(e[10][0]+n,e[10][1]),r.lineTo(e[3][0]+n,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+n/2,e[8][1]),r.arc(e[3][0],e[8][1],n/2,0,Math.PI*2),r.closePath(),r;const i=t.getCenter(),[a,s]=i,o=ml(i,e[3]),l=ml(i,e[8]),c=ml(i,e[10]),u=mg(Rl(e[2],i)),d=Math.asin(n/l),h=u-d,g=u+d;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(h)*o+a,Math.sin(h)*o+s),r.arc(a,s,o,h,g),r.lineTo(Math.cos(g)*c+a,Math.sin(g)*c+s),r.arc(a,s,c,g,h,!0),r.lineTo(Math.cos(h)*o+a,Math.sin(h)*o+s),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const v=(h+g)/2;return r.moveTo(Math.cos(v)*(l+n/2)+a,Math.sin(v)*(l+n/2)+s),r.arc(Math.cos(v)*l+a,Math.sin(v)*l+s,n/2,v,Math.PI*2+v),r.closePath(),r}const hae=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,s)=>{const{color:o,transform:l}=a,c=4,{color:u,fill:d=u,stroke:h=u}=s,g=s9e(s,["color","fill","stroke"]),v=l9e(i,n,c);return Jr(r.createElement("path",{})).call(Dr,g).style("d",v.toString()).style("stroke",h).style("fill",o||d).style("transform",l).call(Dr,e).node()}};hae.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var jU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function c9e(e,t,n){return e.createElement("path",{style:Object.assign({d:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,transformOrigin:"center"},n)})}function u9e(e,t){if(!gs(t))return Dx().x(r=>r[0]).y(r=>r[1])(e);const n=t.getCenter();return r6()({startAngle:0,endAngle:Math.PI*2,outerRadius:ml(e[0],n),innerRadius:ml(e[1],n)})}function f9e(e,t){if(!gs(e))return t;const[n,r]=e.getCenter();return`translate(${n}, ${r}) ${t||""}`}const U6=(e,t)=>{const{arrow:n,arrowSize:r=4}=e,i=jU(e,["arrow","arrowSize"]),{coordinate:a,document:s}=t;return(o,l,c)=>{const{color:u,lineWidth:d}=c,h=jU(c,["color","lineWidth"]),{color:g=u,size:v=d}=l,x=n?c9e(s,r,Object.assign({fill:i.stroke||g,stroke:i.stroke||g},or(i,"arrow"))):null,w=u9e(o,a),C=f9e(a,l.transform);return Jr(s.createElement("path",{})).call(Dr,h).style("d",w).style("stroke",g).style("lineWidth",v).style("transform",C).style("markerEnd",x).call(Dr,i).node()}};U6.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var FU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function d9e(e,t,n){return[["M",e,t],["L",e+2*n,t-n],["L",e+2*n,t+n],["Z"]]}function h9e(e){return Dx().x(t=>t[0]).y(t=>t[1])(e)}function p9e(e,t,n,r,i=0){const[[a,s],[o,l]]=t;if(Gs(e)){const h=a+n,g=o+r,v=h+i;return[[h,s],[v,s],[v,l],[g,l]]}const c=s-n,u=l-r,d=c-i;return[[a,c],[a,d],[o,d],[o,u]]}const pae=(e,t)=>{const{offset:n=0,offset1:r=n,offset2:i=n,connectLength1:a,endMarker:s=!0}=e,o=FU(e,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:l}=t;return(c,u,d)=>{const{color:h,connectLength1:g}=d,v=FU(d,["color","connectLength1"]),{color:x,transform:w}=u,C=p9e(l,c,r,i,a??g),E=or(Object.assign(Object.assign({},o),d),"endMarker");return Jr(new Td).call(Dr,v).style("d",h9e(C)).style("stroke",x||h).style("transform",w).style("markerEnd",s?new Ro({className:"marker",style:Object.assign(Object.assign({},E),{symbol:d9e})}):null).call(Dr,o).node()}};pae.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function g9e(e,t,n,r){const i=t.length/2,a=t.slice(0,i),s=t.slice(i);let o=F2(a,(g,v)=>Math.abs(g[1]-s[v][1]));o=Math.max(Math.min(o,i-2),1);const l=g=>[a[g][0],(a[g][1]+s[g][1])/2],c=l(o),u=l(o-1),d=l(o+1),h=mg(Rl(d,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${h})`,textAlign:"center",textBaseline:"middle"}}function gae(e,t,n,r){const{bounds:i}=n,[[a,s],[o,l]]=i,c=o-a,u=l-s,d=h=>{const{x:g,y:v}=h,x=cV(n.x,c),w=cV(n.y,u);return Object.assign(Object.assign({},h),{x:(x||g)+a,y:(w||v)+s})};return d(e==="left"?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:e==="right"?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:e==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:e==="bottom"?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:e==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:e==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:e==="bottom-left"?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:e==="bottom-right"?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function mae(e,t,n,r){const{y:i,y1:a,autoRotate:s,rotateToAlignArc:o}=n,l=r.getCenter(),c=Fx(r,t,[i,a]),{innerRadius:u,outerRadius:d,startAngle:h,endAngle:g}=c,v=e==="inside"?(h+g)/2:g,x=G6(v,s,o),w=(()=>{const[C,E]=t,M=u+(d-u)*.5,[R,L]=e==="inside"?iO(l,v,M):Kte(C,E);return{x:R,y:L}})();return Object.assign(Object.assign({},w),{textAlign:e==="inside"?"center":"start",textBaseline:"middle",rotate:x})}function iO(e,t,n){return[e[0]+Math.sin(t)*n,e[1]-Math.cos(t)*n]}function G6(e,t,n){if(!t)return 0;const r=n?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function m9e(e,t,n,r){const{y:i,y1:a,autoRotate:s,rotateToAlignArc:o,radius:l=.5,offset:c=0}=n,u=Fx(r,t,[i,a]),{startAngle:d,endAngle:h}=u,g=r.getCenter(),v=(d+h)/2,w={textAlign:"center",textBaseline:"middle",rotate:G6(v,s,o)},{innerRadius:C,outerRadius:E}=u,R=C+(E-C)*l+c,[L,N]=iO(g,v,R);return Object.assign({x:L,y:N},w)}function HU(e){return e===void 0?null:e}function vae(e,t,n,r){const{bounds:i}=n,[a]=i;return{x:HU(a[0]),y:HU(a[1])}}function uy(e,t,n,r){const{bounds:i}=n;return i.length===1?vae(e,t,n):(c$(r)?mae:H2(r)?m9e:gae)(e,t,n,r)}function v9e(e,t,n,r,i){const[a,s]=iO(e,t,n),[o,l]=iO(e,t,r),c=Math.sin(t)>0?1:-1;return[[a,s],[o,l],[o+c*i,l]]}function yae(e,t,n){const r=Fx(n,e,[t.y,t.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function bae(e,t,n){const r=Fx(n,e,[t.y,t.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function W6(e,t,n,r){const{autoRotate:i,rotateToAlignArc:a,offset:s=0,connector:o=!0,connectorLength:l=s,connectorLength2:c=0,connectorDistance:u=0}=n,d=r.getCenter(),h=bae(t,n,r),g=Math.sin(h)>0?1:-1,v=G6(h,i,a),x={textAlign:g>0||c$(r)?"start":"end",textBaseline:"middle",rotate:v},w=yae(t,n,r),C=w+(o?l:s),[[E,M],[R,L],[N,D]]=v9e(d,h,w,C,o?c:0),H=o?+u*g:0,U=N+H,q=D,K={connector:o,connectorPoints:[[R-U,L-q],[N-U,D-q]]};return Object.assign(Object.assign({x0:E,y0:M,x:N+H,y:D},x),K)}function y9e(e,t,n,r){const{bounds:i}=n;return i.length===1?vae(e,t,n):(c$(r)?mae:H2(r)?W6:gae)(e,t,n,r)}function VU(e,t={}){const{labelHeight:n=14,height:r}=t,i=Tm(e,c=>c.y),a=i.length,s=new Array(a);for(let c=0;c<a;c++){const u=i[c],{y:d}=u;s[c]={y:d,y1:d+n,labels:[d]}}let o=!0;for(;o;){o=!1;for(let c=s.length-1;c>0;c--){const u=s[c],d=s[c-1];if(d.y1>u.y){o=!0,d.labels.push(...u.labels),s.splice(c,1),d.y1+=u.y1-u.y;const h=d.y1-d.y;d.y1=Math.max(Math.min(d.y1,r),h),d.y=d.y1-h}}}let l=0;for(const c of s){const{y:u,labels:d}=c;let h=u-n;for(const g of d){const v=i[l++],w=h+n-g;v.connectorPoints[0][1]-=w,v.y=h+n,h+=n}}}function UU(e,t){const n=Tm(e,o=>o.y),{height:r,labelHeight:i=14}=t,a=Math.ceil(r/i);if(n.length<=a)return VU(n,t);const s=[];for(let o=0;o<n.length;o++)o<n.length-a?(n[o].opacity=0,n[o].connector=!1):s.push(n[o]);VU(s,t)}var b9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _M=new WeakMap;function _9e(e,t,n){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=t,s=b9e(W6("outside",e,t,n),[]),o=n.getCenter(),l=yae(e,t,n),c=bae(e,t,n),u=l+r+i,d=Math.sin(c)>0?1:-1,h=o[0]+(u+ +a)*d,{x:g}=s,v=h-g;return s.x+=v,s.connectorPoints[0][0]-=v,s}function x9e(e,t,n,r,i,a){if(!H2(r))return{};if(_M.has(t))return _M.get(t);const s=a.map(h=>_9e(h,n,r)),{width:o,height:l}=r.getOptions(),c=s.filter(h=>h.x<o/2),u=s.filter(h=>h.x>=o/2),d=Object.assign(Object.assign({},i),{height:l});return UU(c,d),UU(u,d),s.forEach((h,g)=>_M.set(a[g],h)),_M.get(t)}var w9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function S9e(e,t,n,r){if(!H2(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:s}=n,o=w9e(W6("outside",t,n,r),[]),{x0:l,y0:c}=o,u=r.getCenter(),h=i4e(r)+i,g=t2([l-u[0],c-u[1]]),v=Math.sin(g)>0?1:-1,[x,w]=iO(u,g,h);return o.x=x+(a+s)*v,o.y=w,o}const C9e=Object.freeze(Object.defineProperty({__proto__:null,area:g9e,bottom:uy,bottomLeft:uy,bottomRight:uy,inside:uy,left:uy,outside:y9e,right:uy,spider:x9e,surround:S9e,top:uy,topLeft:uy,topRight:uy},Symbol.toStringTag,{value:"Module"}));var GU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function E9e(e,t){return e!==void 0?e:H2(t)?"inside":Gs(t)?"right":"top"}function O9e(e,t,n,r,i,a){const{position:s}=t,{render:o}=i,l=E9e(s,n),u=r[o?"htmlLabel":l==="inside"?"innerLabel":"label"],d=Object.assign({},u,t),h=C9e[I6(l)];if(!h)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},u),h(l,e,d,n,i,a))}const _ae=(e,t)=>{const{coordinate:n,theme:r}=t,{render:i}=e;return(a,s,o,l)=>{const{text:c,x:u,y:d,transform:h="",transformOrigin:g,className:v=""}=s,x=GU(s,["text","x","y","transform","transformOrigin","className"]),w=O9e(a,s,n,r,e,l),{rotate:C=0,transform:E=""}=w,M=GU(w,["rotate","transform"]);return Jr(new Yie).call(Dr,M).style("text",`${c}`).style("className",`${v} g2-label`).style("innerHTML",i?i(c,s.datum,s.index):void 0).style("labelTransform",`${E} rotate(${+C}) ${h}`.trim()).style("labelTransformOrigin",g).style("coordCenter",n.getCenter()).call(Dr,x).node()}};_ae.props={defaultMarker:"point"};var WU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const q6=(e,t)=>{const{arrow:n,colorAttribute:r}=e,i=WU(e,["arrow","colorAttribute"]),{coordinate:a,document:s}=t;return(o,l,c)=>{const{color:u,stroke:d}=c,h=WU(c,["color","stroke"]),{d:g,color:v=u}=l,[x,w]=a.getSize();return Jr(s.createElement("path",{})).call(Dr,h).style("d",typeof g=="function"?g({width:x,height:w}):g).style(r,v).call(Dr,i).node()}};q6.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xae=(e,t)=>q6(Object.assign({colorAttribute:"fill"},e),t);xae.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const wae=(e,t)=>q6(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);wae.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var T9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Sae=(e,t)=>{const{document:n}=t;return(r,i,a)=>{const{transform:s}=i,{color:o}=a,l=T9e(a,["color"]),{color:c=o}=i,[u,...d]=r,h=Sg();return h.moveTo(...u),d.forEach(([g,v])=>{h.lineTo(g,v)}),h.closePath(),Jr(n.createElement("path",{})).call(Dr,l).style("d",h.toString()).style("stroke",c||o).style("fill",c||o).style("fillOpacity",.4).style("transform",s).call(Dr,e).node()}};Sae.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function Cae(e){var t,n,r,i=e||1;function a(o,l){++t>i&&(r=n,s(1),++t),n[o]=l}function s(o){t=0,n=Object.create(null),o||(r=Object.create(null))}return s(),{clear:s,has:function(o){return n[o]!==void 0||r[o]!==void 0},get:function(o){var l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return a(o,l),l},set:function(o,l){n[o]!==void 0?n[o]=l:a(o,l)}}}Cae(3);function Eae(e,t=(...r)=>`${r[0]}`,n=16){const r=Cae(n);return(...i)=>{const a=t(...i);let s=r.get(a);return r.has(a)?r.get(a):(s=e(...i),r.set(a,s),s)}}function M9e(e){return typeof e=="string"?e.split(" ").map(t=>{const[n,r]=t.split(":");return[+n,r]}):e}function DI(e,t,n){const r=e?e():document.createElement("canvas");return r.width=t,r.height=n,r}const A9e=Eae((e,t,n)=>{const r=DI(n,e*2,e*2),i=r.getContext("2d"),a=e,s=e;if(t===1)i.beginPath(),i.arc(a,s,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const o=i.createRadialGradient(a,s,e*t,a,s,e);o.addColorStop(0,"rgba(0,0,0,1)"),o.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=o,i.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function I9e(e,t){const r=DI(t,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return M9e(e).forEach(([a,s])=>{i.addColorStop(a,s)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function P9e(e,t,n,r,i,a){const{blur:s}=i;let o=r.length;for(;o--;){const{x:l,y:c,value:u,radius:d}=r[o],h=Math.min(u,n),g=l-d,v=c-d,x=A9e(d,1-s,a),w=(h-t)/(n-t);e.globalAlpha=Math.max(w,.001),e.drawImage(x,g,v)}return e}function R9e(e,t,n,r,i){const{minOpacity:a,opacity:s,maxOpacity:o,useGradientOpacity:l}=i,c=0,u=0,d=t,h=n,g=e.getImageData(c,u,d,h),v=g.data,x=v.length;for(let w=3;w<x;w+=4){const C=v[w],E=C*4;if(!E)continue;const M=s||Math.max(0,Math.min(o,Math.max(a,C)));v[w-3]=r[E],v[w-2]=r[E+1],v[w-1]=r[E+2],v[w]=l?r[E+3]:M}return g}function $9e(e,t,n,r,i,a,s){const o=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);o.minOpacity*=255,o.opacity*=255,o.maxOpacity*=255;const c=DI(s,e,t).getContext("2d"),u=I9e(o.gradient,s);c.clearRect(0,0,e,t),P9e(c,n,r,i,o,s);const d=R9e(c,e,t,u,o),g=DI(s,e,t).getContext("2d");return g.putImageData(d,0,0),g}var k9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function L9e(e,t){return Object.keys(e).reduce((n,r)=>{const i=e[r];return t(i,r)||(n[r]=i),n},{})}const Oae=(e,t)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:a,blur:s,useGradientOpacity:o}=e,l=k9e(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:d}=t;return(h,g,v)=>{const{transform:x}=g,[w,C]=c.getSize(),E=h.map(D=>({x:D[0],y:D[1],value:D[2],radius:D[3]})),M=hp(h,D=>D[2]),R=Uo(h,D=>D[2]),N=w&&C?$9e(w,C,M,R,E,L9e({gradient:n,opacity:r,minOpacity:a,maxOpacity:i,blur:s,useGradientOpacity:o},D=>D===void 0),u):{canvas:null};return Jr(d.createElement("image",{})).call(Dr,v).style("x",0).style("y",0).style("width",w).style("height",C).style("src",N.canvas.toDataURL()).style("transform",x).call(Dr,l).node()}};Oae.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var N9e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Tae=(e,t)=>{const{render:n}=e,r=N9e(e,["render"]);return i=>{const[[a,s]]=i;return n(Object.assign(Object.assign({},r),{x:a,y:s}),t)}};Tae.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qU=5e3;function KU(e,t,n){return e+(t-e)*n}function D9e(e,t,n,r){return t===0?[[e+1/2*n/Math.PI/2,r/2],[e+1/2*n/Math.PI,r],[e+n/4,r]]:t===1?[[e+1/2*n/Math.PI/2*(Math.PI-2),r],[e+1/2*n/Math.PI/2*(Math.PI-1),r/2],[e+n/4,0]]:t===2?[[e+1/2*n/Math.PI/2,-r/2],[e+1/2*n/Math.PI,-r],[e+n/4,-r]]:[[e+1/2*n/Math.PI/2*(Math.PI-2),-r],[e+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[e+n/4,0]]}function z9e(e,t,n,r,i,a,s){const o=Math.ceil(2*e/n*4)*4,l=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const u=a-e+c-e*2;l.push(["M",u,t]);let d=0;for(let h=0;h<o;++h){const g=h%4,v=D9e(h*n/4,g,n,i);l.push(["C",v[0][0]+u,-v[0][1]+t,v[1][0]+u,-v[1][1]+t,v[2][0]+u,-v[2][1]+t]),h===o-1&&(d=v[2][0])}return l.push(["L",d+u,s+e]),l.push(["L",u,s+e]),l.push(["Z"]),l}function B9e(e,t,n,r,i,a,s,o,l,c,u){const{fill:d,fillOpacity:h,opacity:g}=i;for(let v=0;v<r;v++){const x=r<=1?1:v/(r-1),w=z9e(o,s+o*n,l,0,o/40,e,t),C=u.createElement("path",{style:{d:w,fill:d,opacity:KU(.2,.9,x)*Number(g||h)}});a.appendChild(C);try{const E=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];C.animate(E,{duration:KU(.5*qU,qU,x)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function j9e(e,t,n){return`
      M ${e} ${t-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function F9e(e,t,n){const i=n*.618;return`
      M ${e-i} ${t-n}
      L ${e+i} ${t-n}
      L ${e+i} ${t+n}
      L ${e-i} ${t+n}
      Z
    `}function H9e(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t}
      L ${e} ${t+n}
      L ${e-n} ${t}
      Z
    `}function V9e(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t+n}
      L ${e-n} ${t+n}
      Z
    `}function U9e(e,t,n){const r=n*4/3,i=Math.max(r,n*2),a=r/2,s=e,o=a+t-i/2,l=Math.asin(a/((i-a)*.85)),c=Math.sin(l)*a,u=Math.cos(l)*a,d=s-u,h=o+c,g=e,v=o+a/Math.sin(l);return`
      M ${d} ${h}
      A ${a} ${a} 0 1 1 ${d+u*2} ${h}
      Q ${g} ${v} ${e} ${t+i/2}
      Q ${g} ${v} ${d} ${h}
      Z 
    `}const YU={pin:U9e,rect:F9e,circle:j9e,diamond:H9e,triangle:V9e};var XU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const G9e=(e="circle")=>YU[e]||YU.circle,Mae=(e,t)=>{if(!t)return;const{coordinate:n}=t,{liquidOptions:r,styleOptions:i}=e,{liquidShape:a,percent:s}=r,{background:o,outline:l={},wave:c={}}=i,u=XU(i,["background","outline","wave"]),{border:d=2,distance:h=0}=l,g=XU(l,["border","distance"]),{length:v=192,count:x=3}=c;return(w,C,E)=>{const{document:M}=t.canvas,{color:R,fillOpacity:L}=E,N=Object.assign(Object.assign({fill:R},E),u),D=M.createElement("g",{}),[H,U]=n.getCenter(),q=n.getSize(),K=Math.min(...q)/2,X=(Yc(a)?a:G9e(a))(H,U,K,...q);if(Object.keys(o).length){const Z=M.createElement("path",{style:Object.assign({d:X,fill:"#fff"},o)});D.appendChild(Z)}if(s>0){const Z=M.createElement("path",{style:{d:X}});D.appendChild(Z),D.style.clipPath=Z,B9e(H,U,1-s,x,N,D,Z.getBBox().y,K*2,v,!0,M)}const te=M.createElement("path",{style:{d:X,fill:"transparent",lineWidth:d+2*h,stroke:"#fff"}}),ee=M.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:X,stroke:R,strokeOpacity:L,lineWidth:d},N),g),{fill:"transparent"})});return D.appendChild(te),D.appendChild(ee),D}};Mae.props={};const ZU=(e,t)=>Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))/2,W9e=(e,t)=>{if(!t)return;const{coordinate:n}=t;if(!n?.getCenter)return;const r=n.getCenter();return(i,a,s)=>{const{document:o}=t.canvas,{color:l,index:c}=a,u=o.createElement("g",{}),d=ZU(i[0],i[1]),h=ZU(i[0],r)*2,g=o.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",d,d,0,1,0,...i[1]],["A",h+d*2,h+d*2,0,0,0,...i[2]],["A",d,d,0,1,c===0?0:1,...i[3]],["A",h,h,0,0,1,...i[0]],["Z"]]},s),PB(e,["shape","last","first"])),{fill:l||s.color})});return u.appendChild(g),u}};function QU(e,t){return e.getBandWidth(e.invert(t))}const JU={rect:Hx,hollow:_$,funnel:w6,pyramid:yre},Aae=()=>(e,t,n,r)=>{const{x:i,y:a,y1:s,series:o,size:l}=n,c=t.x,u=t.series,[d]=r.getSize(),h=l?l.map(x=>+x/d):null,g=l?(x,w,C)=>{const E=x+w/2,M=h[C];return[E-M/2,E+M/2]}:(x,w,C)=>[x,x+w],v=Array.from(e,x=>{const w=QU(c,i[x]),C=u?QU(u,o?.[x]):1,E=w*C,M=(+o?.[x]||0)*w,R=+i[x]+M,[L,N]=g(R,E,x),D=+a[x],H=+s[x];return[[L,D],[N,D],[N,H],[L,H]].map(X=>r.map(X))});return[e,v]};Aae.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:JU,channels:[...Md({shapes:Object.keys(JU)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Gl(),{type:KO},{type:Nx}],postInference:[...fc(),...U2()],interaction:{shareTooltip:!0}};const eG={rect:Hx,hollow:_$},Iae=()=>(e,t,n,r)=>{const{x:i,x1:a,y:s,y1:o}=n,l=Array.from(e,c=>{const u=[+i[c],+s[c]],d=[+a[c],+s[c]],h=[+a[c],+o[c]],g=[+i[c],+o[c]];return[u,d,h,g].map(v=>r.map(v))});return[e,l]};Iae.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:eG,channels:[...Md({shapes:Object.keys(eG)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl(),{type:KO}],postInference:[...fc(),...U2()],interaction:{shareTooltip:!0}};const tG={line:bre,smooth:_re,hv:xre,vh:wre,hvh:Sre,trail:Cre},q9e=(e,t,n,r)=>{var i,a;const{series:s,x:o,y:l}=n,{x:c,y:u}=t;if(o===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const d=s?Array.from(Rs(e,w=>s[w]).values()):[e],h=d.map(w=>w[0]).filter(w=>w!==void 0),g=(((i=c?.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,v=(((a=u?.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,x=Array.from(d,w=>w.map(C=>r.map([+o[C]+g,+l[C]+v])));return[h,x,d]},K9e=(e,t,n,r)=>{const i=Object.entries(n).filter(([s])=>s.startsWith("position")).map(([,s])=>s);if(i.length===0)throw new Error("Missing encode for position channel.");const a=Array.from(e,s=>{const o=i.map(u=>+u[s]),l=r.map(o),c=[];for(let u=0;u<l.length;u+=2)c.push([l[u],l[u+1]]);return c});return[e,a]},Pae=()=>(e,t,n,r)=>(u$(r)?K9e:q9e)(e,t,n,r);Pae.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:tG,channels:[...Md({shapes:Object.keys(tG)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Gl(),{type:Ate},{type:XB}],postInference:[...fc(),...U2(),...e9e()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const nG={hollow:Kre,hollowDiamond:Wre,hollowHexagon:qre,hollowSquare:Yre,hollowTriangleDown:Zre,hollowTriangle:Xre,hollowBowtie:Gre,hollowCircle:Jre,point:sie,plus:oie,diamond:nie,square:lie,triangle:uie,hexagon:rie,cross:tie,bowtie:eie,hyphen:iie,line:aie,tick:cie,triangleDown:fie,circle:P6},Rae=e=>(t,n,r,i)=>{const{x:a,y:s,x1:o,y1:l,size:c,dx:u,dy:d}=r,[h,g]=i.getSize(),v=Vx(n,r,e),x=C=>{const E=+(u?.[C]||0),M=+(d?.[C]||0),R=o?(+a[C]+ +o[C])/2:+a[C],L=l?(+s[C]+ +l[C])/2:+s[C],N=R+E,D=L+M;return[N,D]},w=c?Array.from(t,C=>{const[E,M]=x(C),R=+c[C],L=R/h,N=R/g,D=[E-L,M-N],H=[E+L,M+N];return[i.map(v(D,C)),i.map(v(H,C))]}):Array.from(t,C=>[i.map(v(x(C),C))]);return[t,w]};Rae.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:nG,channels:[...Md({shapes:Object.keys(nG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Gl(),{type:Nx},{type:n$}],postInference:[...fc(),{type:_te},...D1()]};const rG={text:Xie,badge:Zie,tag:Qie},$ae=e=>{const{cartesian:t=!1}=e;return t?H6:(n,r,i,a)=>{const{x:s,y:o}=i,l=Vx(r,i,e),c=Array.from(n,u=>{const d=[+s[u],+o[u]];return[a.map(l(d,u))]});return[n,c]}};$ae.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:rG,channels:[...Md({shapes:Object.keys(rG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...Gl(),{type:a$},{type:i$}],postInference:[...fc(),...D1()]};const iG={cell:Hx,hollow:_$},kae=()=>(e,t,n,r)=>{const{x:i,y:a}=n,s=t.x,o=t.y,l=Array.from(e,c=>{const u=s.getBandWidth(s.invert(+i[c])),d=o.getBandWidth(o.invert(+a[c])),h=+i[c],g=+a[c],v=[h,g],x=[h+u,g],w=[h+u,g+d],C=[h,g+d];return[v,x,w,C].map(E=>r.map(E))});return[e,l]};kae.props={defaultShape:"cell",defaultLabelShape:"label",shape:iG,composite:!1,channels:[...Md({shapes:Object.keys(iG)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Gl(),{type:Nx},{type:n$},{type:ZB}],postInference:[...fc(),...D1()]};const aG={area:Jie,smooth:eae,hvh:tae,vh:nae,hv:rae},Lae=()=>(e,t,n,r)=>{var i,a;const{x:s,y:o,y1:l,series:c}=n,{x:u,y:d}=t,h=c?Array.from(Rs(e,C=>c[C]).values()):[e],g=h.map(C=>C[0]).filter(C=>C!==void 0),v=(((i=u?.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,x=(((a=d?.getBandWidth)===null||a===void 0?void 0:a.call(d))||0)/2,w=Array.from(h,C=>{const E=C.length,M=new Array(E*2);for(let R=0;R<C.length;R++){const L=C[R];M[R]=r.map([+s[L]+v,+o[L]+x]),M[E+R]=r.map([+s[L]+v,+l[L]+x])}return M});return[g,w,h]};Lae.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:aG,channels:[...Md({shapes:Object.keys(aG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Gl(),{type:XB},{type:KO},{type:ZB}],postInference:[...fc(),...U2()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const oG={link:iae,arc:sae,smooth:aae,vhv:oae},K6=e=>(t,n,r,i)=>{const{x:a,y:s,x1:o=a,y1:l=s}=r,c=Vx(n,r,e),u=t.map(d=>[i.map(c([+a[d],+s[d]],d)),i.map(c([+o[d],+l[d]],d))]);return[t,u]};K6.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:oG,channels:[...Md({shapes:Object.keys(oG)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl(),{type:Cte},{type:Ete}],postInference:[...fc(),...D1()]};const sG={image:cae},Nae=e=>{const{cartesian:t}=e;return t?H6:(n,r,i,a)=>{const{x:s,y:o}=i,l=Vx(r,i,e),c=Array.from(n,u=>{const d=[+s[u],+o[u]];return[a.map(l(d,u))]});return[n,c]}};Nae.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:sG,channels:[...Md({shapes:Object.keys(sG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Gl(),{type:a$},{type:i$}],postInference:[...fc(),...D1()]};const lG={polygon:uae,ribbon:fae},Dae=()=>(e,t,n,r)=>{const i=Object.entries(n).filter(([o])=>o.startsWith("x")).map(([,o])=>o),a=Object.entries(n).filter(([o])=>o.startsWith("y")).map(([,o])=>o),s=e.map(o=>{const l=[];for(let c=0;c<i.length;c++){const u=i[c][o];if(u===void 0)break;const d=a[c][o];l.push(r.map([+u,+d]))}return l});return[e,s]};Dae.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:lG,channels:[...Md({shapes:Object.keys(lG)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl()],postInference:[...fc(),...D1()]};const cG={box:dae,violin:hae},zae=()=>(e,t,n,r)=>{const{x:i,y:a,y1:s,y2:o,y3:l,y4:c,series:u}=n,d=t.x,h=t.series,g=Array.from(e,v=>{const x=d.getBandWidth(d.invert(+i[v])),w=h?h.getBandWidth(h.invert(+u?.[v])):1,C=x*w,E=(+u?.[v]||0)*x,M=+i[v]+E+C/2,[R,L,N,D,H]=[+a[v],+s[v],+o[v],+l[v],+c[v]];return[[M-C/2,H],[M+C/2,H],[M,H],[M,D],[M-C/2,D],[M+C/2,D],[M+C/2,L],[M-C/2,L],[M-C/2,N],[M+C/2,N],[M,L],[M,R],[M-C/2,R],[M+C/2,R]].map(q=>r.map(q))});return[e,g]};zae.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:cG,channels:[...Md({shapes:Object.keys(cG)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Gl(),{type:Nx}],postInference:[...fc(),...U2()],interaction:{shareTooltip:!0}};const uG={vector:R6},Bae=()=>(e,t,n,r)=>{const{x:i,y:a,size:s,rotate:o}=n,[l,c]=r.getSize(),u=e.map(d=>{const h=+o[d]/180*Math.PI,g=+s[d],v=g/l,x=g/c,w=v*Math.cos(h),C=-x*Math.sin(h);return[r.map([+i[d]-w/2,+a[d]-C/2]),r.map([+i[d]+w/2,+a[d]+C/2])]});return[e,u]};Bae.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:uG,channels:[...Md({shapes:Object.keys(uG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Gl()],postInference:[...fc(),...D1()]};const fG={line:U6},jae=e=>(t,n,r,i)=>{const{y:a}=r,s=Vx(n,r,Pn({style:{bandOffset:0}},e)),o=Array.from(t,l=>{const c=[0,a[l]],u=[1,a[l]];return[c,u].map(d=>i.map(s(d,l)))});return[t,o]};jae.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:fG,channels:[...G2({shapes:Object.keys(fG)}),{name:"y",required:!0}],preInference:[...Gl(),{type:wte}],postInference:[...fc()]};const dG={line:U6},Fae=e=>(t,n,r,i)=>{const{x:a}=r,s=Vx(n,r,Pn({style:{bandOffset:0}},e)),o=Array.from(t,l=>{const c=[a[l],1],u=[a[l],0];return[c,u].map(d=>i.map(s(d,l)))});return[t,o]};Fae.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:dG,channels:[...G2({shapes:Object.keys(dG)}),{name:"x",required:!0}],preInference:[...Gl(),{type:Ste}],postInference:[...fc()]};const hG={connector:pae},Hae=(...e)=>K6(...e);Hae.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:hG,channels:[...G2({shapes:Object.keys(hG)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl()],postInference:[...fc()]};function pG(e,t,n,r){if(t)return()=>[0,1];const{[e]:i,[`${e}1`]:a}=n;return s=>{var o;const l=((o=r.getBandWidth)===null||o===void 0?void 0:o.call(r,r.invert(+a[s])))||0;return[i[s],a[s]+l]}}function Y6(e={}){const{extendX:t=!1,extendY:n=!1}=e;return(r,i,a,s)=>{const o=pG("x",t,a,i.x),l=pG("y",n,a,i.y),c=Array.from(r,u=>{const[d,h]=o(u),[g,v]=l(u);return[[d,g],[h,g],[h,v],[d,v]].map(M=>s.map(M))});return[r,c]}}const gG={range:Hx},Vae=()=>Y6();Vae.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:gG,channels:[...G2({shapes:Object.keys(gG)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl()],postInference:[...fc()]};const mG={range:Hx},Uae=()=>Y6({extendY:!0});Uae.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:mG,channels:[...G2({shapes:Object.keys(mG)}),{name:"x",required:!0}],preInference:[...Gl(),{type:Ote}],postInference:[...fc()]};const vG={range:Hx},Gae=()=>Y6({extendX:!0});Gae.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:vG,channels:[...G2({shapes:Object.keys(vG)}),{name:"y",required:!0}],preInference:[...Gl(),{type:Tte}],postInference:[...fc()]};function Y9e(e){return e.target.depth}function X9e(e){return e.depth}function Z9e(e,t){return t-1-e.height}function zI(e,t){return e.sourceLinks.length?e.depth:t-1}function Q9e(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?hp(e.sourceLinks,Y9e)-1:0}function xM(e){return function(){return e}}function yG(e,t){return BI(e.source,t.source)||e.index-t.index}function bG(e,t){return BI(e.target,t.target)||e.index-t.index}function BI(e,t){return e.y0-t.y0}function gL(e){return e.value}function J9e(e){return e.index}function eHe(e){return e.nodes}function tHe(e){return e.links}function _G(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function xG({nodes:e}){for(const t of e){let n=t.y0,r=n;for(const i of t.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of t.targetLinks)i.y1=r+i.width/2,r+=i.width}}function nHe(){let e=0,t=0,n=1,r=1,i=24,a=8,s,o=J9e,l=zI,c,u,d,h=eHe,g=tHe,v=6;function x(Z){const re={nodes:h(Z),links:g(Z)};return w(re),C(re),E(re),M(re),N(re),xG(re),re}x.update=function(Z){return xG(Z),Z},x.nodeId=function(Z){return arguments.length?(o=typeof Z=="function"?Z:xM(Z),x):o},x.nodeAlign=function(Z){return arguments.length?(l=typeof Z=="function"?Z:xM(Z),x):l},x.nodeDepth=function(Z){return arguments.length?(c=Z,x):c},x.nodeSort=function(Z){return arguments.length?(u=Z,x):u},x.nodeWidth=function(Z){return arguments.length?(i=+Z,x):i},x.nodePadding=function(Z){return arguments.length?(a=s=+Z,x):a},x.nodes=function(Z){return arguments.length?(h=typeof Z=="function"?Z:xM(Z),x):h},x.links=function(Z){return arguments.length?(g=typeof Z=="function"?Z:xM(Z),x):g},x.linkSort=function(Z){return arguments.length?(d=Z,x):d},x.size=function(Z){return arguments.length?(e=t=0,n=+Z[0],r=+Z[1],x):[n-e,r-t]},x.extent=function(Z){return arguments.length?(e=+Z[0][0],n=+Z[1][0],t=+Z[0][1],r=+Z[1][1],x):[[e,t],[n,r]]},x.iterations=function(Z){return arguments.length?(v=+Z,x):v};function w({nodes:Z,links:re}){Z.forEach((ce,le)=>{ce.index=le,ce.sourceLinks=[],ce.targetLinks=[]});const oe=new Map(Z.map(ce=>[o(ce),ce]));if(re.forEach((ce,le)=>{ce.index=le;let{source:pe,target:ye}=ce;typeof pe!="object"&&(pe=ce.source=_G(oe,pe)),typeof ye!="object"&&(ye=ce.target=_G(oe,ye)),pe.sourceLinks.push(ce),ye.targetLinks.push(ce)}),d!=null)for(const{sourceLinks:ce,targetLinks:le}of Z)ce.sort(d),le.sort(d)}function C({nodes:Z}){for(const re of Z)re.value=re.fixedValue===void 0?Math.max(ug(re.sourceLinks,gL),ug(re.targetLinks,gL)):re.fixedValue}function E({nodes:Z}){const re=Z.length;let oe=new Set(Z),ce=new Set,le=0;for(;oe.size;){if(oe.forEach(pe=>{pe.depth=le;for(const{target:ye}of pe.sourceLinks)ce.add(ye)}),++le>re)throw new Error("circular link");oe=ce,ce=new Set}if(c){const pe=Math.max(Uo(Z,_e=>_e.depth)+1,0);let ye;for(let _e=0;_e<Z.length;_e++)ye=Z[_e],ye.depth=c.call(null,ye,pe)}}function M({nodes:Z}){const re=Z.length;let oe=new Set(Z),ce=new Set,le=0;for(;oe.size;){if(oe.forEach(pe=>{pe.height=le;for(const{source:ye}of pe.targetLinks)ce.add(ye)}),++le>re)throw new Error("circular link");oe=ce,ce=new Set}}function R({nodes:Z}){const re=Math.max(Uo(Z,le=>le.depth)+1,0),oe=(n-e-i)/(re-1),ce=new Array(re).fill(0).map(()=>[]);for(const le of Z){const pe=Math.max(0,Math.min(re-1,Math.floor(l.call(null,le,re))));le.layer=pe,le.x0=e+pe*oe,le.x1=le.x0+i,ce[pe]?ce[pe].push(le):ce[pe]=[le]}if(u)for(const le of ce)le.sort(u);return ce}function L(Z){const re=hp(Z,oe=>(r-t-(oe.length-1)*s)/ug(oe,gL));for(const oe of Z){let ce=t;for(const le of oe){le.y0=ce,le.y1=ce+le.value*re,ce=le.y1+s;for(const pe of le.sourceLinks)pe.width=pe.value*re}ce=(r-ce+s)/(oe.length+1);for(let le=0;le<oe.length;++le){const pe=oe[le];pe.y0+=ce*(le+1),pe.y1+=ce*(le+1)}X(oe)}}function N(Z){const re=R(Z);s=Math.min(a,(r-t)/(Uo(re,oe=>oe.length)-1)),L(re);for(let oe=0;oe<v;++oe){const ce=Math.pow(.99,oe),le=Math.max(1-ce,(oe+1)/v);H(re,ce,le),D(re,ce,le)}}function D(Z,re,oe){for(let ce=1,le=Z.length;ce<le;++ce){const pe=Z[ce];for(const ye of pe){let _e=0,Se=0;for(const{source:je,value:Fe}of ye.targetLinks){const ze=Fe*(ye.layer-je.layer);_e+=te(je,ye)*ze,Se+=ze}if(!(Se>0))continue;const Re=(_e/Se-ye.y0)*re;ye.y0+=Re,ye.y1+=Re,Q(ye)}u===void 0&&pe.sort(BI),pe.length&&U(pe,oe)}}function H(Z,re,oe){for(let ce=Z.length,le=ce-2;le>=0;--le){const pe=Z[le];for(const ye of pe){let _e=0,Se=0;for(const{target:je,value:Fe}of ye.sourceLinks){const ze=Fe*(je.layer-ye.layer);_e+=ee(ye,je)*ze,Se+=ze}if(!(Se>0))continue;const Re=(_e/Se-ye.y0)*re;ye.y0+=Re,ye.y1+=Re,Q(ye)}u===void 0&&pe.sort(BI),pe.length&&U(pe,oe)}}function U(Z,re){const oe=Z.length>>1,ce=Z[oe];K(Z,ce.y0-s,oe-1,re),q(Z,ce.y1+s,oe+1,re),K(Z,r,Z.length-1,re),q(Z,t,0,re)}function q(Z,re,oe,ce){for(;oe<Z.length;++oe){const le=Z[oe],pe=(re-le.y0)*ce;pe>1e-6&&(le.y0+=pe,le.y1+=pe),re=le.y1+s}}function K(Z,re,oe,ce){for(;oe>=0;--oe){const le=Z[oe],pe=(le.y1-re)*ce;pe>1e-6&&(le.y0-=pe,le.y1-=pe),re=le.y0-s}}function Q({sourceLinks:Z,targetLinks:re}){if(d===void 0){for(const{source:{sourceLinks:oe}}of re)oe.sort(bG);for(const{target:{targetLinks:oe}}of Z)oe.sort(yG)}}function X(Z){if(d===void 0)for(const{sourceLinks:re,targetLinks:oe}of Z)re.sort(bG),oe.sort(yG)}function te(Z,re){let oe=Z.y0-(Z.sourceLinks.length-1)*s/2;for(const{target:ce,width:le}of Z.sourceLinks){if(ce===re)break;oe+=le+s}for(const{source:ce,width:le}of re.targetLinks){if(ce===Z)break;oe-=le}return oe}function ee(Z,re){let oe=re.y0-(re.targetLinks.length-1)*s/2;for(const{source:ce,width:le}of re.targetLinks){if(ce===Z)break;oe+=le+s}for(const{target:ce,width:le}of Z.sourceLinks){if(ce===re)break;oe-=le}return oe}return x}const rHe={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},iHe={left:X9e,right:Z9e,center:Q9e,justify:zI};function aHe(e){const t=typeof e;return t==="string"?iHe[e]||zI:t==="function"?e:zI}const Wae=e=>t=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:s,nodeDepth:o,nodes:l,links:c,linkSort:u,iterations:d}=Object.assign({},rHe,e),h=nHe().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(a).nodePadding(s).nodeDepth(o).nodeAlign(aHe(i)).iterations(d).extent([[0,0],[1,1]]);typeof n=="function"&&h.nodeId(n);const g=h(t),{nodes:v,links:x}=g,w=v.map(E=>{const{x0:M,x1:R,y0:L,y1:N}=E;return Object.assign(Object.assign({},E),{x:[M,R,R,M],y:[L,L,N,N]})}),C=x.map(E=>{const{source:M,target:R}=E,L=M.x1,N=R.x0,D=E.width/2;return Object.assign(Object.assign({},E),{x:[L,L,N,N],y:[E.y0+D,E.y0-D,E.y1+D,E.y1-D]})});return{nodes:w,links:C}};Wae.props={};function u0(e,t,n={},r=!1){if(Vy(e)||Array.isArray(e)&&r)return e;const i=or(e,t);return Pn(n,i)}function jI(e,t={}){return Vy(e)||Array.isArray(e)||!qae(e)?e:Pn(t,e)}function qae(e){if(Object.keys(e).length===0)return!0;const{title:t,items:n}=e;return t!==void 0||n!==void 0}function f0(e,t){return typeof e=="object"?or(e,t):e}var oHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sHe={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},lHe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},cHe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},uHe={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},Kae=e=>{const{data:t,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:s=[],linkLabels:o=[],animate:l={},tooltip:c={},interaction:u}=e,{links:d,nodes:h}=V6(t,n),g=or(n,"node"),v=or(n,"link"),{key:x=q=>q.key,color:w=x}=g,{links:C,nodes:E}=Wae(Object.assign(Object.assign(Object.assign({},sHe),{nodeId:Qv(x)}),a))({links:d,nodes:h}),M=or(i,"label"),{text:R=x,spacing:L=5}=M,N=oHe(M,["text","spacing"]),D=Qv(x),H=u0(c,"node",{title:D,items:[{field:"value"}]},!0),U=u0(c,"link",{title:"",items:[q=>({name:"source",value:D(q.source)}),q=>({name:"target",value:D(q.target)})]});return[Pn({},lHe,{data:E,encode:Object.assign(Object.assign({},g),{color:w}),scale:r,style:or(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},uHe),{text:R,dx:q=>q.x[0]<.5?L:-L}),N),...s],tooltip:H,animate:f0(l,"node"),axis:!1,interaction:u}),Pn({},cHe,{data:C,encode:v,labels:o,style:Object.assign({fill:v.color?void 0:"#aaa",lineWidth:0},or(i,"link")),tooltip:U,animate:f0(l,"link"),interaction:u})]};Kae.props={};function fHe(e,t){return t.value-e.value}function dHe(e,t){return t.frequency-e.frequency}function hHe(e,t){return`${e.id}`.localeCompare(`${t.id}`)}function pHe(e,t){return`${e.name}`.localeCompare(`${t.name}`)}const gHe=Object.freeze(Object.defineProperty({__proto__:null,frequency:dHe,id:hHe,name:pHe,weight:fHe},Symbol.toStringTag,{value:"Module"})),mHe={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function vHe(e){const{y:t,thickness:n,weight:r,marginRatio:i,id:a,source:s,target:o,sourceWeight:l,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},mHe),e);function d(w){const C=w.nodes.map(M=>Object.assign({},M)),E=w.edges.map(M=>Object.assign({},M));return h(C,E),g(C),v(C,E),x(C,E),{nodes:C,edges:E}}function h(w,C){C.forEach(R=>{R.source=s(R),R.target=o(R),R.sourceWeight=l(R),R.targetWeight=c(R)});const E=Rs(C,R=>R.source),M=Rs(C,R=>R.target);return w.forEach(R=>{R.id=a(R);const L=E.has(R.id)?E.get(R.id):[],N=M.has(R.id)?M.get(R.id):[];R.frequency=L.length+N.length,R.value=ug(L,D=>D.sourceWeight)+ug(N,D=>D.targetWeight)}),{nodes:w,edges:C}}function g(w,C){const E=typeof u=="function"?u:gHe[u];E&&w.sort(E)}function v(w,C){const E=w.length;if(!E)throw JS("Invalid nodes: it's empty!");if(!r){const L=1/E;return w.forEach((N,D)=>{N.x=(D+.5)*L,N.y=t}),{nodes:w,edges:C}}const M=i/(2*E),R=w.reduce((L,N)=>L+=N.value,0);return w.reduce((L,N)=>{N.weight=N.value/R,N.width=N.weight*(1-i),N.height=n;const D=M+L,H=D+N.width,U=t-n/2,q=U+n;return N.x=[D,H,H,D],N.y=[U,U,q,q],L+N.width+2*M},0),{nodes:w,edges:C}}function x(w,C){const E=new Map(w.map(L=>[L.id,L]));if(!r)return C.forEach(L=>{const N=s(L),D=o(L),H=E.get(N),U=E.get(D);H&&U&&(L.x=[H.x,U.x],L.y=[H.y,U.y])}),{nodes:w,edges:C};C.forEach(L=>{L.x=[0,0,0,0],L.y=[t,t,t,t]});const M=Rs(C,L=>L.source),R=Rs(C,L=>L.target);w.forEach(L=>{const{edges:N,width:D,x:H,y:U,value:q,id:K}=L,Q=M.get(K)||[],X=R.get(K)||[];let te=0;Q.map(ee=>{const Z=ee.sourceWeight/q*D;ee.x[0]=H[0]+te,ee.x[1]=H[0]+te+Z,te+=Z}),X.forEach(ee=>{const Z=ee.targetWeight/q*D;ee.x[3]=H[0]+te,ee.x[2]=H[0]+te+Z,te+=Z})})}return d}const X6=e=>t=>vHe(e)(t);X6.props={};var wG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mL={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},yHe={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},bHe={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},_He={position:"outside",fontSize:10},Yae=(e,t)=>{const{data:n,encode:r={},scale:i,style:a={},layout:s={},nodeLabels:o=[],linkLabels:l=[],animate:c={},tooltip:u={}}=e,{nodes:d,links:h}=V6(n,r),g=or(r,"node"),v=or(r,"link"),{key:x=ee=>ee.key,color:w=x}=g,{linkEncodeColor:C=ee=>ee.source}=v,{nodeWidthRatio:E=mL.thickness,nodePaddingRatio:M=mL.marginRatio}=s,R=wG(s,["nodeWidthRatio","nodePaddingRatio"]),{nodes:L,edges:N}=X6(Object.assign(Object.assign(Object.assign(Object.assign({},mL),{id:Qv(x),thickness:E,marginRatio:M}),R),{weight:!0}))({nodes:d,edges:h}),D=or(a,"label"),{text:H=x}=D,U=wG(D,["text"]),q=u0(u,"node",{title:"",items:[ee=>({name:ee.key,value:ee.value})]},!0),K=u0(u,"link",{title:"",items:[ee=>({name:`${ee.source} -> ${ee.target}`,value:ee.value})]}),{height:Q,width:X}=t,te=Math.min(Q,X);return[Pn({},bHe,{data:N,encode:Object.assign(Object.assign({},v),{color:C}),labels:l,style:Object.assign({fill:C?void 0:"#aaa"},or(a,"link")),tooltip:K,animate:f0(c,"link")}),Pn({},yHe,{data:L,encode:Object.assign(Object.assign({},g),{color:w}),scale:i,style:or(a,"node"),coordinate:{type:"polar",outerRadius:(te-20)/te,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},_He),{text:H}),U),...o],tooltip:q,animate:f0(c,"node"),axis:!1})]};Yae.props={};const SG={path:xae,hollow:wae},Xae=e=>(t,n,r,i)=>[t,t.map(()=>[[0,0]])];Xae.props={defaultShape:"path",defaultLabelShape:"label",shape:SG,composite:!1,channels:[...Md({shapes:Object.keys(SG)}),{name:"d",scale:"identity"}],preInference:[...Gl()],postInference:[...fc()]};function xHe(e,t){return e.parent===t.parent?1:2}function wHe(e){return e.reduce(SHe,0)/e.length}function SHe(e,t){return e+t.x}function CHe(e){return 1+e.reduce(EHe,0)}function EHe(e,t){return Math.max(e,t.y)}function OHe(e){for(var t;t=e.children;)e=t[0];return e}function THe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function MHe(){var e=xHe,t=1,n=1,r=!1;function i(a){var s,o=0;a.eachAfter(function(h){var g=h.children;g?(h.x=wHe(g),h.y=CHe(g)):(h.x=s?o+=e(h,s):0,h.y=0,s=h)});var l=OHe(a),c=THe(a),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return a.eachAfter(r?function(h){h.x=(h.x-a.x)*t,h.y=(a.y-h.y)*n}:function(h){h.x=(h.x-u)/(d-u)*t,h.y=(1-(a.y?h.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function AHe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function IHe(){return this.eachAfter(AHe)}function PHe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function RHe(e,t){for(var n=this,r=[n],i,a,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function $He(e,t){for(var n=this,r=[n],i=[],a,s,o,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(s=0,o=a.length;s<o;++s)r.push(a[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function kHe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function LHe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function NHe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function DHe(e){for(var t=this,n=zHe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function zHe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function BHe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function jHe(){return Array.from(this)}function FHe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function HHe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*VHe(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function W2(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=WHe)):t===void 0&&(t=GHe);for(var n=new l2(e),r,i=[n],a,s,o,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,o=l-1;o>=0;--o)i.push(a=s[o]=new l2(s[o])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Zae)}function UHe(){return W2(this).eachBefore(qHe)}function GHe(e){return e.children}function WHe(e){return Array.isArray(e)?e[1]:null}function qHe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Zae(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function l2(e){this.data=e,this.depth=this.height=0,this.parent=null}l2.prototype=W2.prototype={constructor:l2,count:IHe,each:PHe,eachAfter:$He,eachBefore:RHe,find:kHe,sum:LHe,sort:NHe,path:DHe,ancestors:BHe,descendants:jHe,leaves:FHe,links:HHe,copy:UHe,[Symbol.iterator]:VHe};function mA(e){return e==null?null:Qae(e)}function Qae(e){if(typeof e!="function")throw new Error;return e}function G_(){return 0}function Fw(e){return function(){return e}}const KHe=1664525,YHe=1013904223,CG=4294967296;function XHe(){let e=1;return()=>(e=(KHe*e+YHe)%CG)/CG}function ZHe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QHe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function JHe(e,t){for(var n=0,r=(e=QHe(Array.from(e),t)).length,i=[],a,s;n<r;)a=e[n],s&&Jae(s,a)?++n:(s=tVe(i=eVe(i,a)),n=0);return s}function eVe(e,t){var n,r;if(vL(t,e))return[t];for(n=0;n<e.length;++n)if(wM(t,e[n])&&vL(DC(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(wM(DC(e[n],e[r]),t)&&wM(DC(e[n],t),e[r])&&wM(DC(e[r],t),e[n])&&vL(eoe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function wM(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Jae(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vL(e,t){for(var n=0;n<t.length;++n)if(!Jae(e,t[n]))return!1;return!0}function tVe(e){switch(e.length){case 1:return nVe(e[0]);case 2:return DC(e[0],e[1]);case 3:return eoe(e[0],e[1],e[2])}}function nVe(e){return{x:e.x,y:e.y,r:e.r}}function DC(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,l=a-n,c=s-r,u=o-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+o)/2}}function eoe(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,g=r-c,v=i-o,x=i-u,w=l-a,C=d-a,E=r*r+i*i-a*a,M=E-s*s-o*o+l*l,R=E-c*c-u*u+d*d,L=g*v-h*x,N=(v*R-x*M)/(L*2)-r,D=(x*w-v*C)/L,H=(g*M-h*R)/(L*2)-i,U=(h*C-g*w)/L,q=D*D+U*U-1,K=2*(a+N*D+H*U),Q=N*N+H*H-a*a,X=-(Math.abs(q)>1e-6?(K+Math.sqrt(K*K-4*q*Q))/(2*q):Q/K);return{x:r+N+D*X,y:i+H+U*X,r:X}}function EG(e,t,n){var r=e.x-t.x,i,a,s=e.y-t.y,o,l,c=r*r+s*s;c?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),o=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-o*s,n.y=e.y-i*s+o*r):(i=(c+a-l)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x+i*r-o*s,n.y=t.y+i*s+o*r)):(n.x=t.x+n.r,n.y=t.y)}function OG(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function TG(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function SM(e){this._=e,this.next=null,this.previous=null}function rVe(e,t){if(!(a=(e=ZHe(e)).length))return 0;var n,r,i,a,s,o,l,c,u,d,h;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;EG(r,n,i=e[2]),n=new SM(n),r=new SM(r),i=new SM(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){EG(n._,r._,i=e[l]),i=new SM(i),c=r.next,u=n.previous,d=r._.r,h=n._.r;do if(d<=h){if(OG(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(OG(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}h+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=TG(n);(i=i.next)!==r;)(o=TG(i))<s&&(n=i,s=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=JHe(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function iVe(e){return Math.sqrt(e.value)}function aVe(){var e=null,t=1,n=1,r=G_;function i(a){const s=XHe();return a.x=t/2,a.y=n/2,e?a.eachBefore(MG(e)).eachAfter(yL(r,.5,s)).eachBefore(AG(1)):a.eachBefore(MG(iVe)).eachAfter(yL(G_,1,s)).eachAfter(yL(r,a.r/Math.min(t,n),s)).eachBefore(AG(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=mA(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Fw(+a),i):r},i}function MG(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function yL(e,t,n){return function(r){if(i=r.children){var i,a,s=i.length,o=e(r)*t||0,l;if(o)for(a=0;a<s;++a)i[a].r+=o;if(l=rVe(i,n),o)for(a=0;a<s;++a)i[a].r-=o;r.r=l+o}}}function AG(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function toe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function lT(e,t,n,r,i){for(var a=e.children,s,o=-1,l=a.length,c=e.value&&(r-t)/e.value;++o<l;)s=a[o],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function oVe(){var e=1,t=1,n=0,r=!1;function i(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/o,s.eachBefore(a(t,o)),r&&s.eachBefore(toe),s}function a(s,o){return function(l){l.children&&lT(l,l.x0,s*(l.depth+1)/o,l.x1,s*(l.depth+2)/o);var c=l.x0,u=l.y0,d=l.x1-n,h=l.y1-n;d<c&&(c=d=(c+d)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=h}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var sVe={depth:-1},IG={},bL={};function lVe(e){return e.id}function cVe(e){return e.parentId}function $5(){var e=lVe,t=cVe,n;function r(i){var a=Array.from(i),s=e,o=t,l,c,u,d,h,g,v,x,w=new Map;if(n!=null){const C=a.map((R,L)=>uVe(n(R,L,i))),E=C.map(PG),M=new Set(C).add("");for(const R of E)M.has(R)||(M.add(R),C.push(R),E.push(PG(R)),a.push(bL));s=(R,L)=>C[L],o=(R,L)=>E[L]}for(u=0,l=a.length;u<l;++u)c=a[u],g=a[u]=new l2(c),(v=s(c,u,i))!=null&&(v+="")&&(x=g.id=v,w.set(x,w.has(x)?IG:g)),(v=o(c,u,i))!=null&&(v+="")&&(g.parent=v);for(u=0;u<l;++u)if(g=a[u],v=g.parent){if(h=w.get(v),!h)throw new Error("missing: "+v);if(h===IG)throw new Error("ambiguous: "+v);h.children?h.children.push(g):h.children=[g],g.parent=h}else{if(d)throw new Error("multiple roots");d=g}if(!d)throw new Error("no root");if(n!=null){for(;d.data===bL&&d.children.length===1;)d=d.children[0],--l;for(let C=a.length-1;C>=0&&(g=a[C],g.data===bL);--C)g.data=null}if(d.parent=sVe,d.eachBefore(function(C){C.depth=C.parent.depth+1,--l}).eachBefore(Zae),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=mA(i),r):e},r.parentId=function(i){return arguments.length?(t=mA(i),r):t},r.path=function(i){return arguments.length?(n=mA(i),r):n},r}function uVe(e){e=`${e}`;let t=e.length;return k5(e,t-1)&&!k5(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function PG(e){let t=e.length;if(t<2)return"";for(;--t>1&&!k5(e,t););return e.slice(0,t)}function k5(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function fVe(e,t){return e.parent===t.parent?1:2}function _L(e){var t=e.children;return t?t[0]:e.t}function xL(e){var t=e.children;return t?t[t.length-1]:e.t}function dVe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function hVe(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function pVe(e,t,n){return e.a.parent===t.parent?e.a:n}function vA(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}vA.prototype=Object.create(l2.prototype);function gVe(e){for(var t=new vA(e,0),n,r=[t],i,a,s,o;n=r.pop();)if(a=n._.children)for(n.children=new Array(o=a.length),s=o-1;s>=0;--s)r.push(i=n.children[s]=new vA(a[s],s)),i.parent=n;return(t.parent=new vA(null,0)).children=[t],t}function mVe(){var e=fVe,t=1,n=1,r=null;function i(c){var u=gVe(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var d=c,h=c,g=c;c.eachBefore(function(E){E.x<d.x&&(d=E),E.x>h.x&&(h=E),E.depth>g.depth&&(g=E)});var v=d===h?1:e(d,h)/2,x=v-d.x,w=t/(h.x+v+x),C=n/(g.depth||1);c.eachBefore(function(E){E.x=(E.x+x)*w,E.y=E.depth*C})}return c}function a(c){var u=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(u){hVe(c);var g=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-g):c.z=g}else h&&(c.z=h.z+e(c._,h._));c.parent.A=o(c,h,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,u,d){if(u){for(var h=c,g=c,v=u,x=h.parent.children[0],w=h.m,C=g.m,E=v.m,M=x.m,R;v=xL(v),h=_L(h),v&&h;)x=_L(x),g=xL(g),g.a=c,R=v.z+E-h.z-w+e(v._,h._),R>0&&(dVe(pVe(v,c,d),c,R),w+=R,C+=R),E+=v.m,w+=h.m,M+=x.m,C+=g.m;v&&!xL(g)&&(g.t=v,g.m+=E-C),h&&!_L(x)&&(x.t=h,x.m+=w-M,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function M$(e,t,n,r,i){for(var a=e.children,s,o=-1,l=a.length,c=e.value&&(i-n)/e.value;++o<l;)s=a[o],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var noe=(1+Math.sqrt(5))/2;function roe(e,t,n,r,i,a){for(var s=[],o=t.children,l,c,u=0,d=0,h=o.length,g,v,x=t.value,w,C,E,M,R,L,N;u<h;){g=i-n,v=a-r;do w=o[d++].value;while(!w&&d<h);for(C=E=w,L=Math.max(v/g,g/v)/(x*e),N=w*w*L,R=Math.max(E/N,N/C);d<h;++d){if(w+=c=o[d].value,c<C&&(C=c),c>E&&(E=c),N=w*w*L,M=Math.max(E/N,N/C),M>R){w-=c;break}R=M}s.push(l={value:w,dice:g<v,children:o.slice(u,d)}),l.dice?lT(l,n,r,i,x?r+=v*w/x:a):M$(l,n,r,x?n+=g*w/x:i,a),x-=w,u=d}return s}const ioe=function e(t){function n(r,i,a,s,o){roe(t,r,i,a,s,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(noe);function vVe(){var e=ioe,t=!1,n=1,r=1,i=[0],a=G_,s=G_,o=G_,l=G_,c=G_;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(d),i=[0],t&&h.eachBefore(toe),h}function d(h){var g=i[h.depth],v=h.x0+g,x=h.y0+g,w=h.x1-g,C=h.y1-g;w<v&&(v=w=(v+w)/2),C<x&&(x=C=(x+C)/2),h.x0=v,h.y0=x,h.x1=w,h.y1=C,h.children&&(g=i[h.depth+1]=a(h)/2,v+=c(h)-g,x+=s(h)-g,w-=o(h)-g,C-=l(h)-g,w<v&&(v=w=(v+w)/2),C<x&&(x=C=(x+C)/2),e(h,v,x,w,C))}return u.round=function(h){return arguments.length?(t=!!h,u):t},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(e=Qae(h),u):e},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:Fw(+h),u):a},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(s=typeof h=="function"?h:Fw(+h),u):s},u.paddingRight=function(h){return arguments.length?(o=typeof h=="function"?h:Fw(+h),u):o},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:Fw(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c=typeof h=="function"?h:Fw(+h),u):c},u}function yVe(e,t,n,r,i){var a=e.children,s,o=a.length,l,c=new Array(o+1);for(c[0]=l=s=0;s<o;++s)c[s+1]=l+=a[s].value;u(0,o,e.value,t,n,r,i);function u(d,h,g,v,x,w,C){if(d>=h-1){var E=a[d];E.x0=v,E.y0=x,E.x1=w,E.y1=C;return}for(var M=c[d],R=g/2+M,L=d+1,N=h-1;L<N;){var D=L+N>>>1;c[D]<R?L=D+1:N=D}R-c[L-1]<c[L]-R&&d+1<L&&--L;var H=c[L]-M,U=g-H;if(w-v>C-x){var q=g?(v*U+w*H)/g:w;u(d,L,H,v,x,q,C),u(L,h,U,q,x,w,C)}else{var K=g?(x*U+C*H)/g:C;u(d,L,H,v,x,w,K),u(L,h,U,v,K,w,C)}}}function bVe(e,t,n,r,i){(e.depth&1?M$:lT)(e,t,n,r,i)}const _Ve=function e(t){function n(r,i,a,s,o){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,d,h=-1,g,v=l.length,x=r.value;++h<v;){for(c=l[h],u=c.children,d=c.value=0,g=u.length;d<g;++d)c.value+=u[d].value;c.dice?lT(c,i,a,s,x?a+=(o-a)*c.value/x:o):M$(c,i,a,x?i+=(s-i)*c.value/x:s,o),x-=c.value}else r._squarify=l=roe(t,r,i,a,s,o),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(noe);function xVe(e,t){return Array.isArray(e)?typeof t=="function"?$5().path(t)(e):$5()(e):W2(e)}function aoe(e,t=[e.data.name]){e.id=e.id||e.data.name,e.path=t,e.children&&e.children.forEach(n=>{n.id=`${e.id}/${n.data.name}`,n.path=[...t,n.data.name],aoe(n,n.path)})}function ooe(e){const t=Ua(e,["data","name"]);t.replaceAll&&(e.path=t.replaceAll(".","/").split("/")),e.children&&e.children.forEach(n=>{ooe(n)})}function wVe(e,t){const n={treemapBinary:yVe,treemapDice:lT,treemapSlice:M$,treemapSliceDice:bVe,treemapSquarify:ioe,treemapResquarify:_Ve},r=e==="treemapSquarify"?n[e].ratio(t):n[e];if(!r)throw new TypeError("Invalid tile method!");return r}function soe(e,t,n){const{value:r}=n,i=wVe(t.tile,t.ratio),a=xVe(e,t.path);Qc(e)?ooe(a):aoe(a),r?a.sum(l=>t.ignoreParentValue&&l.children?0:Qv(r)(l)).sort(t.sort):a.count(),vVe().tile(i).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(a);const s=a.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[s.filter(typeof t.layer=="function"?t.layer:l=>l.height===t.layer),s]}var SVe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CVe=(e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),EVe=(e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),OVe={fontSize:10,text:e=>WO(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0},TVe={title:e=>{var t,n;return(n=(t=e.path)===null||t===void 0?void 0:t.join)===null||n===void 0?void 0:n.call(t,".")},items:[{field:"value"}]},MVe={title:e=>WO(e.path),items:[{field:"value"}]},loe=(e,t)=>{const{width:n,height:r,options:i}=t,{data:a,encode:s={},scale:o,style:l={},layout:c={},labels:u=[],tooltip:d={}}=e,h=SVe(e,["data","encode","scale","style","layout","labels","tooltip"]),g=Ua(i,["interaction","treemapDrillDown"]),v=Pn({},CVe(n,r),c,{layer:g?E=>E.depth===1:c.layer}),[x,w]=soe(a,v,s),C=or(l,"label");return Pn({},EVe(n,r),Object.assign(Object.assign({data:x,scale:o,style:l,labels:[Object.assign(Object.assign({},OVe),C),...u]},h),{encode:s,tooltip:jI(d,TVe),axis:!1}),g?{interaction:Object.assign(Object.assign({},h.interaction),{treemapDrillDown:g?Object.assign(Object.assign({},g),{originData:w,layout:v}):void 0}),encode:Object.assign({color:E=>WO(E.path)},s),tooltip:jI(d,MVe)}:{})};loe.props={};var AVe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const IVe=(e,t)=>({size:[e,t],padding:0,sort:(n,r)=>r.value-n.value}),PVe=(e,t,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),RVe={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.r*2},$Ve={title:e=>e.data.name,items:[{field:"value"}]},kVe=(e,t,n)=>{const{value:r}=n,i=Qc(e)?$5().path(t.path)(e):W2(e);return r?i.sum(a=>Qv(r)(a)).sort(t.sort):i.count(),aVe().size(t.size).padding(t.padding)(i),i.descendants()},coe=(e,t)=>{const{width:n,height:r}=t,{data:i,encode:a={},scale:s={},style:o={},layout:l={},labels:c=[],tooltip:u={}}=e,d=AVe(e,["data","encode","scale","style","layout","labels","tooltip"]),h=PVe(n,r,a),g=kVe(i,Pn({},IVe(n,r),l),Pn({},h.encode,a)),v=or(o,"label");return Pn({},h,Object.assign(Object.assign({data:g,encode:a,scale:s,style:o,labels:[Object.assign(Object.assign({},RVe),v),...c]},d),{tooltip:jI(u,$Ve),axis:!1}))};coe.props={};var RG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function LVe(e,t){return hp(e,n=>t[n])}function NVe(e,t){return Uo(e,n=>t[n])}function uoe(e,t){const n=Z6(e,t)*2.5-Q6(e,t)*1.5;return hp(e,r=>t[r]>=n?t[r]:NaN)}function Z6(e,t){return ZR(e,.25,n=>t[n])}function DVe(e,t){return ZR(e,.5,n=>t[n])}function Q6(e,t){return ZR(e,.75,n=>t[n])}function foe(e,t){const n=Q6(e,t)*2.5-Z6(e,t)*1.5;return Uo(e,r=>t[r]<=n?t[r]:NaN)}function zVe(){return(e,t)=>{const{encode:n}=t,{y:r,x:i}=n,{value:a}=r,{value:s}=i;return[Array.from(Rs(e,c=>s[+c]).values()).flatMap(c=>{const u=uoe(c,a),d=foe(c,a);return c.filter(h=>a[h]<u||a[h]>d)}),t]}}const doe=e=>{const{data:t,encode:n,style:r={},tooltip:i={},transform:a,animate:s}=e,o=RG(e,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=RG(r,["point"]),{y:u}=n,d={y:u,y1:u,y2:u,y3:u,y4:u},h={y1:Z6,y2:DVe,y3:Q6},g=u0(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),v=u0(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:LVe},h),{y4:NVe})],encode:Object.assign(Object.assign({},n),d),style:c,tooltip:g},o);const x=or(c,"box"),w=or(c,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:uoe},h),{y4:foe})],encode:Object.assign(Object.assign({},n),d),style:x,tooltip:g,animate:f0(s,"box")},o),{type:"point",data:t,transform:[{type:zVe}],encode:n,style:Object.assign({},w),tooltip:v,animate:f0(s,"point")}]};doe.props={};const BVe={shape:Tae},hoe=e=>{const{cartesian:t}=e;return t?H6:(n,r,i,a)=>{const{x:s,y:o}=i,l=Vx(r,i,e),c=Array.from(n,u=>{const d=[+s[u],+o[u]];return[a.map(l(d,u))]});return[n,c]}};hoe.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:BVe,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Gl(),{type:a$},{type:i$},{type:Mte}]};function jVe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=n.length,o,l=0,c=0;for(a=0;a<s;++a)o=n[a],l+=o.x,c+=o.y;for(l=(l/s-e)*r,c=(c/s-t)*r,a=0;a<s;++a)o=n[a],o.x-=l,o.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function FVe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return poe(this.cover(t,n),t,n,e)}function poe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,s={data:r},o=e._x0,l=e._y0,c=e._x1,u=e._y1,d,h,g,v,x,w,C,E;if(!a)return e._root=s,e;for(;a.length;)if((x=t>=(d=(o+c)/2))?o=d:c=d,(w=n>=(h=(l+u)/2))?l=h:u=h,i=a,!(a=a[C=w<<1|x]))return i[C]=s,e;if(g=+e._x.call(null,a.data),v=+e._y.call(null,a.data),t===g&&n===v)return s.next=a,i?i[C]=s:e._root=s,e;do i=i?i[C]=new Array(4):e._root=new Array(4),(x=t>=(d=(o+c)/2))?o=d:c=d,(w=n>=(h=(l+u)/2))?l=h:u=h;while((C=w<<1|x)===(E=(v>=h)<<1|g>=d));return i[E]=a,i[C]=s,e}function HVe(e){var t,n,r=e.length,i,a,s=new Array(r),o=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(s[n]=i,o[n]=a,i<l&&(l=i),i>u&&(u=i),a<c&&(c=a),a>d&&(d=a));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)poe(this,s[n],o[n],e[n]);return this}function VVe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s=i-n||1,o=this._root,l,c;n>e||e>=i||r>t||t>=a;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=o,o=l,s*=2,c){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function UVe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function GVe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function xd(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function WVe(e,t,n){var r,i=this._x0,a=this._y0,s,o,l,c,u=this._x1,d=this._y1,h=[],g=this._root,v,x;for(g&&h.push(new xd(g,i,a,u,d)),n==null?n=1/0:(i=e-n,a=t-n,u=e+n,d=t+n,n*=n);v=h.pop();)if(!(!(g=v.node)||(s=v.x0)>u||(o=v.y0)>d||(l=v.x1)<i||(c=v.y1)<a))if(g.length){var w=(s+l)/2,C=(o+c)/2;h.push(new xd(g[3],w,C,l,c),new xd(g[2],s,C,w,c),new xd(g[1],w,o,l,C),new xd(g[0],s,o,w,C)),(x=(t>=C)<<1|e>=w)&&(v=h[h.length-1],h[h.length-1]=h[h.length-1-x],h[h.length-1-x]=v)}else{var E=e-+this._x.call(null,g.data),M=t-+this._y.call(null,g.data),R=E*E+M*M;if(R<n){var L=Math.sqrt(n=R);i=e-L,a=t-L,u=e+L,d=t+L,r=g.data}}return r}function qVe(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,s=this._x0,o=this._y0,l=this._x1,c=this._y1,u,d,h,g,v,x,w,C;if(!n)return this;if(n.length)for(;;){if((v=u>=(h=(s+l)/2))?s=h:l=h,(x=d>=(g=(o+c)/2))?o=g:c=g,t=n,!(n=n[w=x<<1|v]))return this;if(!n.length)break;(t[w+1&3]||t[w+2&3]||t[w+3&3])&&(r=t,C=w)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[w]=a:delete t[w],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[C]=n:this._root=n),this):(this._root=a,this)}function KVe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function YVe(){return this._root}function XVe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function ZVe(e){var t=[],n,r=this._root,i,a,s,o,l;for(r&&t.push(new xd(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,s=n.y0,o=n.x1,l=n.y1)&&r.length){var c=(a+o)/2,u=(s+l)/2;(i=r[3])&&t.push(new xd(i,c,u,o,l)),(i=r[2])&&t.push(new xd(i,a,u,c,l)),(i=r[1])&&t.push(new xd(i,c,s,o,u)),(i=r[0])&&t.push(new xd(i,a,s,c,u))}return this}function QVe(e){var t=[],n=[],r;for(this._root&&t.push(new xd(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,s=r.x0,o=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,d=(o+c)/2;(a=i[0])&&t.push(new xd(a,s,o,u,d)),(a=i[1])&&t.push(new xd(a,u,o,l,d)),(a=i[2])&&t.push(new xd(a,s,d,u,c)),(a=i[3])&&t.push(new xd(a,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function JVe(e){return e[0]}function eUe(e){return arguments.length?(this._x=e,this):this._x}function tUe(e){return e[1]}function nUe(e){return arguments.length?(this._y=e,this):this._y}function goe(e,t,n){var r=new J6(t??JVe,n??tUe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function J6(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function $G(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ad=goe.prototype=J6.prototype;Ad.copy=function(){var e=new J6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=$G(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=$G(r));return e};Ad.add=FVe;Ad.addAll=HVe;Ad.cover=VVe;Ad.data=UVe;Ad.extent=GVe;Ad.find=WVe;Ad.remove=qVe;Ad.removeAll=KVe;Ad.root=YVe;Ad.size=XVe;Ad.visit=ZVe;Ad.visitAfter=QVe;Ad.x=eUe;Ad.y=nUe;function dp(e){return function(){return e}}function iS(e){return(e()-.5)*1e-6}function rUe(e){return e.index}function kG(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function iUe(e){var t=rUe,n=d,r,i=dp(30),a,s,o,l,c,u=1;e==null&&(e=[]);function d(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function h(w){for(var C=0,E=e.length;C<u;++C)for(var M=0,R,L,N,D,H,U,q;M<E;++M)R=e[M],L=R.source,N=R.target,D=N.x+N.vx-L.x-L.vx||iS(c),H=N.y+N.vy-L.y-L.vy||iS(c),U=Math.sqrt(D*D+H*H),U=(U-a[M])/U*w*r[M],D*=U,H*=U,N.vx-=D*(q=l[M]),N.vy-=H*q,L.vx+=D*(q=1-q),L.vy+=H*q}function g(){if(s){var w,C=s.length,E=e.length,M=new Map(s.map((L,N)=>[t(L,N,s),L])),R;for(w=0,o=new Array(C);w<E;++w)R=e[w],R.index=w,typeof R.source!="object"&&(R.source=kG(M,R.source)),typeof R.target!="object"&&(R.target=kG(M,R.target)),o[R.source.index]=(o[R.source.index]||0)+1,o[R.target.index]=(o[R.target.index]||0)+1;for(w=0,l=new Array(E);w<E;++w)R=e[w],l[w]=o[R.source.index]/(o[R.source.index]+o[R.target.index]);r=new Array(E),v(),a=new Array(E),x()}}function v(){if(s)for(var w=0,C=e.length;w<C;++w)r[w]=+n(e[w],w,e)}function x(){if(s)for(var w=0,C=e.length;w<C;++w)a[w]=+i(e[w],w,e)}return h.initialize=function(w,C){s=w,c=C,g()},h.links=function(w){return arguments.length?(e=w,g(),h):e},h.id=function(w){return arguments.length?(t=w,h):t},h.iterations=function(w){return arguments.length?(u=+w,h):u},h.strength=function(w){return arguments.length?(n=typeof w=="function"?w:dp(+w),v(),h):n},h.distance=function(w){return arguments.length?(i=typeof w=="function"?w:dp(+w),x(),h):i},h}var aUe={value:()=>{}};function moe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yA(n)}function yA(e){this._=e}function oUe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yA.prototype=moe.prototype={constructor:yA,on:function(e,t){var n=this._,r=oUe(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=sUe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=LG(n[i],e.name,t);else if(t==null)for(i in n)n[i]=LG(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yA(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function sUe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function LG(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=aUe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var c2=0,zC=0,wC=0,voe=1e3,FI,BC,HI=0,wx=0,A$=0,aO=typeof performance=="object"&&performance.now?performance:Date,yoe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function boe(){return wx||(yoe(lUe),wx=aO.now()+A$)}function lUe(){wx=0}function L5(){this._call=this._time=this._next=null}L5.prototype=_oe.prototype={constructor:L5,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?boe():+n)+(t==null?0:+t),!this._next&&BC!==this&&(BC?BC._next=this:FI=this,BC=this),this._call=e,this._time=n,N5()},stop:function(){this._call&&(this._call=null,this._time=1/0,N5())}};function _oe(e,t,n){var r=new L5;return r.restart(e,t,n),r}function cUe(){boe(),++c2;for(var e=FI,t;e;)(t=wx-e._time)>=0&&e._call.call(void 0,t),e=e._next;--c2}function NG(){wx=(HI=aO.now())+A$,c2=zC=0;try{cUe()}finally{c2=0,fUe(),wx=0}}function uUe(){var e=aO.now(),t=e-HI;t>voe&&(A$-=t,HI=e)}function fUe(){for(var e,t=FI,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:FI=n);BC=e,N5(r)}function N5(e){if(!c2){zC&&(zC=clearTimeout(zC));var t=e-wx;t>24?(e<1/0&&(zC=setTimeout(NG,e-aO.now()-A$)),wC&&(wC=clearInterval(wC))):(wC||(HI=aO.now(),wC=setInterval(uUe,voe)),c2=1,yoe(NG))}}const dUe=1664525,hUe=1013904223,DG=4294967296;function pUe(){let e=1;return()=>(e=(dUe*e+hUe)%DG)/DG}function gUe(e){return e.x}function mUe(e){return e.y}var vUe=10,yUe=Math.PI*(3-Math.sqrt(5));function bUe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=_oe(d),c=moe("tick","end"),u=pUe();e==null&&(e=[]);function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(x){var w,C=e.length,E;x===void 0&&(x=1);for(var M=0;M<x;++M)for(n+=(a-n)*i,o.forEach(function(R){R(n)}),w=0;w<C;++w)E=e[w],E.fx==null?E.x+=E.vx*=s:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=s:(E.y=E.fy,E.vy=0);return t}function g(){for(var x=0,w=e.length,C;x<w;++x){if(C=e[x],C.index=x,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),isNaN(C.x)||isNaN(C.y)){var E=vUe*Math.sqrt(.5+x),M=x*yUe;C.x=E*Math.cos(M),C.y=E*Math.sin(M)}(isNaN(C.vx)||isNaN(C.vy))&&(C.vx=C.vy=0)}}function v(x){return x.initialize&&x.initialize(e,u),x}return g(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(x){return arguments.length?(e=x,g(),o.forEach(v),t):e},alpha:function(x){return arguments.length?(n=+x,t):n},alphaMin:function(x){return arguments.length?(r=+x,t):r},alphaDecay:function(x){return arguments.length?(i=+x,t):+i},alphaTarget:function(x){return arguments.length?(a=+x,t):a},velocityDecay:function(x){return arguments.length?(s=1-x,t):1-s},randomSource:function(x){return arguments.length?(u=x,o.forEach(v),t):u},force:function(x,w){return arguments.length>1?(w==null?o.delete(x):o.set(x,v(w)),t):o.get(x)},find:function(x,w,C){var E=0,M=e.length,R,L,N,D,H;for(C==null?C=1/0:C*=C,E=0;E<M;++E)D=e[E],R=x-D.x,L=w-D.y,N=R*R+L*L,N<C&&(H=D,C=N);return H},on:function(x,w){return arguments.length>1?(c.on(x,w),t):c.on(x)}}}function _Ue(){var e,t,n,r,i=dp(-30),a,s=1,o=1/0,l=.81;function c(g){var v,x=e.length,w=goe(e,gUe,mUe).visitAfter(d);for(r=g,v=0;v<x;++v)t=e[v],w.visit(h)}function u(){if(e){var g,v=e.length,x;for(a=new Array(v),g=0;g<v;++g)x=e[g],a[x.index]=+i(x,g,e)}}function d(g){var v=0,x,w,C=0,E,M,R;if(g.length){for(E=M=R=0;R<4;++R)(x=g[R])&&(w=Math.abs(x.value))&&(v+=x.value,C+=w,E+=w*x.x,M+=w*x.y);g.x=E/C,g.y=M/C}else{x=g,x.x=x.data.x,x.y=x.data.y;do v+=a[x.data.index];while(x=x.next)}g.value=v}function h(g,v,x,w){if(!g.value)return!0;var C=g.x-t.x,E=g.y-t.y,M=w-v,R=C*C+E*E;if(M*M/l<R)return R<o&&(C===0&&(C=iS(n),R+=C*C),E===0&&(E=iS(n),R+=E*E),R<s&&(R=Math.sqrt(s*R)),t.vx+=C*g.value*r/R,t.vy+=E*g.value*r/R),!0;if(g.length||R>=o)return;(g.data!==t||g.next)&&(C===0&&(C=iS(n),R+=C*C),E===0&&(E=iS(n),R+=E*E),R<s&&(R=Math.sqrt(s*R)));do g.data!==t&&(M=a[g.data.index]*r/R,t.vx+=C*M,t.vy+=E*M);while(g=g.next)}return c.initialize=function(g,v){e=g,n=v,u()},c.strength=function(g){return arguments.length?(i=typeof g=="function"?g:dp(+g),u(),c):i},c.distanceMin=function(g){return arguments.length?(s=g*g,c):Math.sqrt(s)},c.distanceMax=function(g){return arguments.length?(o=g*g,c):Math.sqrt(o)},c.theta=function(g){return arguments.length?(l=g*g,c):Math.sqrt(l)},c}function xUe(e){var t=dp(.1),n,r,i;typeof e!="function"&&(e=dp(e==null?0:+e));function a(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:dp(+o),s(),a):t},a.x=function(o){return arguments.length?(e=typeof o=="function"?o:dp(+o),s(),a):e},a}function wUe(e){var t=dp(.1),n,r,i;typeof e!="function"&&(e=dp(e==null?0:+e));function a(o){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:dp(+o),s(),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:dp(+o),s(),a):e},a}var SUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CUe={joint:!0},EUe={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},OUe={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},TUe={text:""};function MUe(e,t,n){const{nodes:r,links:i}=e,{joint:a,nodeStrength:s,linkStrength:o}=t,{nodeKey:l=v=>v.id,linkKey:c=v=>v.id}=n,u=_Ue(),d=iUe(i).id(Qv(c));typeof s=="function"&&u.strength(s),typeof o=="function"&&d.strength(o);const h=bUe(r).force("link",d).force("charge",u);a?h.force("center",jVe()):h.force("x",xUe()).force("y",wUe()),h.stop();const g=Math.ceil(Math.log(h.alphaMin())/Math.log(1-h.alphaDecay()));for(let v=0;v<g;v++)h.tick();return{nodesData:r,linksData:i}}const xoe=e=>{const{data:t,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:s=[],linkLabels:o=[],animate:l={},tooltip:c={}}=e,{nodeKey:u=N=>N.id,linkKey:d=N=>N.id}=n,h=SUe(n,["nodeKey","linkKey"]),g=Object.assign({nodeKey:u,linkKey:d},h),v=or(g,"node"),x=or(g,"link"),{links:w,nodes:C}=V6(t,g),{nodesData:E,linksData:M}=MUe({links:w,nodes:C},Pn({},CUe,a),g),R=u0(c,"link",{items:[N=>({name:"source",value:Qv(d)(N.source)}),N=>({name:"target",value:Qv(d)(N.target)})]}),L=u0(c,"node",{items:[N=>({name:"key",value:Qv(u)(N)})]},!0);return[Pn({},EUe,{data:M,encode:x,labels:o,style:or(i,"link"),tooltip:R,animate:f0(l,"link")}),Pn({},OUe,{data:E,encode:Object.assign({},v),scale:r,style:or(i,"node"),tooltip:L,labels:[Object.assign(Object.assign({},TUe),or(i,"label")),...s],animate:f0(l,"link")})]};xoe.props={};const woe=e=>t=>n=>{const{field:r="value",nodeSize:i,separation:a,sortBy:s,as:o=["x","y"]}=t,[l,c]=o,u=W2(n,v=>v.children).sum(v=>v[r]).sort(s),d=e();d.size([1,1]),i&&d.nodeSize(i),a&&d.separation(a),d(u);const h=[];u.each(v=>{v[l]=v.x,v[c]=v.y,v.name=v.data.name,h.push(v)});const g=u.links();return g.forEach(v=>{v[l]=[v.source[l],v.target[l]],v[c]=[v.source[c],v.target[c]]}),{nodes:h,edges:g}},Soe=e=>woe(MHe)(e);Soe.props={};const Coe=e=>woe(mVe)(e);Coe.props={};const AUe={sortBy:(e,t)=>t.value-e.value},IUe={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},PUe={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},RUe={text:"",fontSize:10},Eoe=e=>{const{data:t,encode:n={},scale:r={},style:i={},layout:a={},nodeLabels:s=[],linkLabels:o=[],animate:l={},tooltip:c={}}=e,u=n?.value,{nodes:d,edges:h}=Coe(Object.assign(Object.assign(Object.assign({},AUe),a),{field:u}))(t),g=u0(c,"node",{title:"name",items:["value"]},!0),v=u0(c,"link",{title:"",items:[x=>({name:"source",value:x.source.name}),x=>({name:"target",value:x.target.name})]});return[Pn({},PUe,{data:h,encode:or(n,"link"),scale:or(r,"link"),labels:o,style:Object.assign({stroke:"#999"},or(i,"link")),tooltip:v,animate:f0(l,"link")}),Pn({},IUe,{data:d,scale:or(r,"node"),encode:or(n,"node"),labels:[Object.assign(Object.assign({},RUe),or(i,"label")),...s],style:Object.assign({},or(i,"node")),tooltip:g,animate:f0(l,"node")})]};Eoe.props={};var $Ue=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},kUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function LUe(e,t){const{text:n="text",value:r="value"}=t;return e.map(i=>Object.assign(Object.assign({},i),{text:i[n],value:i[r]}))}const NUe=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily}}),e8=(e,t)=>$Ue(void 0,void 0,void 0,function*(){const{width:n,height:r}=t,{data:i,encode:a={},scale:s,style:o={},layout:l={}}=e,c=kUe(e,["data","encode","scale","style","layout"]),u=LUe(i,a);return Pn({},NUe(),Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},l)]},encode:a,scale:s,style:o},c),{axis:!1}))});e8.props={};var fE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DUe=(e,t)=>{const{shape:n,radius:r}=e,i=fE(e,["shape","radius"]),a=or(i,"pointer"),s=or(i,"pin"),{shape:o}=a,l=fE(a,["shape"]),{shape:c}=s,u=fE(s,["shape"]),{coordinate:d,theme:h}=t;return(g,v)=>{const x=g.map(te=>d.invert(te)),[w,C,E]=a4e(d,"polar"),M=d.clone(),{color:R}=v,L=OB({startAngle:w,endAngle:C,innerRadius:E,outerRadius:r});L.push(["cartesian"]),M.update({transformations:L});const N=x.map(te=>M.map(te)),[D,H]=x6(N),[U,q]=d.getCenter(),K=Object.assign(Object.assign({x1:D,y1:H,x2:U,y2:q,stroke:R},l),i),Q=Object.assign(Object.assign({cx:U,cy:q,stroke:R},u),i),X=Jr(new Jc);return Vy(o)||(typeof o=="function"?X.append(()=>o(N,v,M,h)):X.append("line").call(Dr,K).node()),Vy(c)||(typeof c=="function"?X.append(()=>c(N,v,M,h)):X.append("circle").call(Dr,Q).node()),X.node()}},zG={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},zUe={style:{shape:DUe,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},BUe={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function jUe(e){if(qs(e)){const t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}function FUe(e,t){const{name:n="score",target:r,total:i,percent:a,thresholds:s=[]}=jUe(e),o=a||r,l=a?1:i,c=Object.assign({y:{domain:[0,l]}},t);return s.length?{targetData:[{x:n,y:o,color:"target"}],totalData:s.map((u,d)=>({x:n,y:d>=1?u-s[d-1]:u,color:d})),target:o,total:l,scale:c}:{targetData:[{x:n,y:o,color:"target"}],totalData:[{x:n,y:o,color:"target"},{x:n,y:l-o,color:"total"}],target:o,total:l,scale:c}}function HUe(e,{target:t,total:n}){const{content:r}=e;return r?r(t,n):t.toString()}const Ooe=e=>{const{data:t={},scale:n={},style:r={},animate:i={},transform:a=[]}=e,s=fE(e,["data","scale","style","animate","transform"]),{targetData:o,totalData:l,target:c,total:u,scale:d}=FUe(t,n),h=or(r,"text"),{tooltip:g}=h,v=fE(h,["tooltip"]),x=ZDe(r,["pointer","pin"]),w=or(r,"arc"),C=w.shape;return[Pn({},zG,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:d,style:C==="round"?Object.assign(Object.assign({},w),{shape:W9e}):w,animate:typeof i=="object"?or(i,"arc"):i},s)),Pn({},zG,zUe,Object.assign({type:"point",data:o,scale:d,style:x,animate:typeof i=="object"?or(i,"indicator"):i},s)),Pn({},BUe,{style:Object.assign({text:HUe(v,{target:c,total:u})},v),tooltip:g,animate:typeof i=="object"?or(i,"text"):i})]};Ooe.props={};const BG={density:Sae},Toe=()=>(e,t,n,r)=>{const{x:i,series:a}=n,s=Object.entries(n).filter(([d])=>d.startsWith("y")).map(([,d])=>d),o=Object.entries(n).filter(([d])=>d.startsWith("size")).map(([,d])=>d);if(i===void 0||s===void 0||o===void 0)throw new Error("Missing encode for x or y or size channel.");const l=t.x,c=t.series,u=Array.from(e,d=>{const h=l.getBandWidth(l.invert(+i[d])),g=c?c.getBandWidth(c.invert(+a?.[d])):1,v=h*g,x=(+a?.[d]||0)*h,w=+i[d]+x+v/2;return[...s.map((E,M)=>[w+ +o[M][d]/e.length,+s[M][d]]),...s.map((E,M)=>[w-+o[M][d]/e.length,+s[M][d]]).reverse()].map(E=>r.map(E))});return[e,u]};Toe.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:BG,channels:[...Md({shapes:Object.keys(BG)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Gl(),{type:KO},{type:Nx}],postInference:[...fc(),...U2()],interaction:{shareTooltip:!0}};const jG={heatmap:Oae},Moe=e=>(t,n,r,i)=>{const{x:a,y:s,size:o,color:l}=r,c=Array.from(t,u=>{const d=o?+o[u]:40;return[...i.map([+a[u],+s[u]]),l[u],d]});return[[0],[c]]};Moe.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:jG,channels:[...Md({shapes:Object.keys(jG)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Gl(),{type:Nx},{type:n$}],postInference:[...fc(),...D1()]};var VUe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UUe={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:Mae},animate:{enter:{type:"fadeIn"}}},GUe={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},Aoe=e=>{const{data:t={},style:n={},animate:r}=e,i=VUe(e,["data","style","animate"]),a=Math.max(0,qs(t)?t:t?.percent),s=[{percent:a,type:"liquid"}],o=Object.assign(Object.assign({},or(n,"text")),or(n,"content")),l=or(n,"outline"),c=or(n,"wave"),u=or(n,"background");return[Pn({},UUe,Object.assign({type:"interval",data:s,style:{liquidOptions:{percent:a,liquidShape:n?.shape},styleOptions:Object.assign(Object.assign({},n),{outline:l,wave:c,background:u})},animate:r},i)),Pn({},GUe,{style:Object.assign({text:`${$I(a*100)} %`},o),animate:r})]};Aoe.props={};const Ioe=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];Ioe.props={};const Poe=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];Poe.props={};const Roe=e=>new QS(e);Roe.props={};const $oe=e=>new ks(e);$oe.props={};const koe=e=>new Hee(e);koe.props={};const Loe=e=>new Wee(e);Loe.props={};const Noe=e=>new Yee(e);Noe.props={};const Doe=e=>new FDe(e);Doe.props={};const zoe=e=>new MDe(e);zoe.props={};const Boe=e=>new Zee(e);Boe.props={};const joe=e=>new e$(e);joe.props={};const Foe=e=>new ite(e);Foe.props={};const Hoe=e=>new nte(e);Hoe.props={};const Voe=e=>new ODe(e);Voe.props={};const Uoe=e=>new i5(e);Uoe.props={};const Goe=e=>new GB(e);Goe.props={};function t8({colorDefault:e,colorBlack:t,colorWhite:n,colorStroke:r,colorBackground:i,padding1:a,padding2:s,padding3:o,alpha90:l,alpha65:c,alpha45:u,alpha25:d,alpha10:h,category10:g,category20:v,sizeDefault:x=1,padding:w="auto",margin:C=16}){return{padding:w,margin:C,size:x,color:e,category10:g,category20:v,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:h,labelAlign:"horizontal",labelFill:t,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:u,titleFill:t,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[a,a],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:a,colPadding:s,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:t,tickStrokeOpacity:u},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const WUe={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},qUe=t8(WUe),n8=e=>Pn({},qUe,e);n8.props={};const Woe=e=>Pn({},n8(),{category10:"category10",category20:"category20"},e);Woe.props={};const KUe={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},YUe=t8(KUe),qoe=e=>Pn({},YUe,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),Koe=e=>Object.assign({},qoe(),{category10:"category10",category20:"category20"},e);Koe.props={};const XUe={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},ZUe=t8(XUe),Yoe=e=>Pn({},ZUe,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(t,n)=>n!==0},axisRight:{gridFilter:(t,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);Yoe.props={};function QUe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function VI(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function JUe(e){return e=VI(Math.abs(e)),e?e[1]:NaN}function eGe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function tGe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function D5(e){if(!(t=nGe.exec(e)))throw new Error("invalid format: "+e);var t;return new r8({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}D5.prototype=r8.prototype;function r8(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}r8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rGe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Xoe;function iGe(e,t){var n=VI(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Xoe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+VI(e,Math.max(0,t+a-1))[0]}function FG(e,t){var n=VI(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HG={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:QUe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FG(e*100,t),r:FG,s:iGe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VG(e){return e}var UG=Array.prototype.map,GG=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aGe(e){var t=e.grouping===void 0||e.thousands===void 0?VG:eGe(UG.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?VG:tGe(UG.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=D5(d);var h=d.fill,g=d.align,v=d.sign,x=d.symbol,w=d.zero,C=d.width,E=d.comma,M=d.precision,R=d.trim,L=d.type;L==="n"?(E=!0,L="g"):HG[L]||(M===void 0&&(M=12),R=!0,L="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var N=x==="$"?n:x==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",D=x==="$"?r:/[%p]/.test(L)?s:"",H=HG[L],U=/[defgprs%]/.test(L);M=M===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(K){var Q=N,X=D,te,ee,Z;if(L==="c")X=H(K)+X,K="";else{K=+K;var re=K<0||1/K<0;if(K=isNaN(K)?l:H(Math.abs(K),M),R&&(K=rGe(K)),re&&+K==0&&v!=="+"&&(re=!1),Q=(re?v==="("?v:o:v==="-"||v==="("?"":v)+Q,X=(L==="s"?GG[8+Xoe/3]:"")+X+(re&&v==="("?")":""),U){for(te=-1,ee=K.length;++te<ee;)if(Z=K.charCodeAt(te),48>Z||Z>57){X=(Z===46?i+K.slice(te+1):K.slice(te))+X,K=K.slice(0,te);break}}}E&&!w&&(K=t(K,1/0));var oe=Q.length+K.length+X.length,ce=oe<C?new Array(C-oe+1).join(h):"";switch(E&&w&&(K=t(ce+K,ce.length?C-X.length:1/0),ce=""),g){case"<":K=Q+K+X+ce;break;case"=":K=Q+ce+K+X;break;case"^":K=ce.slice(0,oe=ce.length>>1)+Q+K+X+ce.slice(oe);break;default:K=ce+Q+K+X;break}return a(K)}return q.toString=function(){return d+""},q}function u(d,h){var g=c((d=D5(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(JUe(h)/3)))*3,x=Math.pow(10,-v),w=GG[8+v/3];return function(C){return g(x*C)+w}}return{format:c,formatPrefix:u}}var CM,z1;oGe({thousands:",",grouping:[3],currency:["$",""]});function oGe(e){return CM=aGe(e),z1=CM.format,CM.formatPrefix,CM}var sGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function lGe(e){return class extends rT{constructor(t){super(t),this.descriptor=e}connectedCallback(){var t,n;(n=(t=this.descriptor).render)===null||n===void 0||n.call(t,this.attributes,this)}update(t={}){var n,r;this.attr(Pn({},this.attributes,t)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function WG(e,t,n){return e.querySelector(t)?Jr(e).select(t):Jr(e).append(n)}function I$(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function Zoe(e,t){const n={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=n;const s={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in s&&([r,i,a]=s[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},t)}class Qoe extends V7e{get child(){var t;return(t=this.children)===null||t===void 0?void 0:t[0]}update(t){var n;this.attr(t);const{subOptions:r}=t;(n=this.child)===null||n===void 0||n.update(r)}}class cGe extends Qoe{update(t){var n;const{subOptions:r}=t;this.attr(t),(n=this.child)===null||n===void 0||n.update(r)}}function Jv(e,t){var n;return(n=e.filter(r=>r.getOptions().name===t))===null||n===void 0?void 0:n[0]}function uGe(e){return e==="horizontal"||e===0}function fGe(e){return e==="vertical"||e===-Math.PI/2}function Joe(e,t,n){const{bbox:r}=e,{position:i="top",size:a,length:s}=t,o=["top","bottom","center"].includes(i),[l,c]=o?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:d}=n.props,h=a||u||l,g=s||d||c,v=o?"horizontal":"vertical",[x,w]=o?[g,h]:[h,g];return{orientation:v,width:x,height:w,size:h,length:g}}function dGe(e){return e.find(t=>t.getOptions().domain.length>0).getOptions().domain}function P$(e){const t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=e,r=sGe(e,["style"]),i={};return Object.entries(r).forEach(([a,s])=>{t.includes(a)?i[`show${P1(a)}`]=s:i[a]=s}),Object.assign(Object.assign({},i),n)}var ese=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function tse(e,t){const{eulerAngles:n,origin:r}=t;r&&e.setOrigin(r),n&&e.rotate(n[0],n[1],n[2])}function nse(e){const{innerWidth:t,innerHeight:n,depth:r}=e.getOptions();return[t,n,r]}function hGe(e,t){const{width:n,height:r}=t.getOptions();return i=>{if(!bne(t))return i;const a=e==="bottom"?[i,1]:[0,i],s=t.map(a);if(e==="bottom"){const o=s[0];return new ks({domain:[0,n],range:[0,1]}).map(o)}else if(e==="left"){const o=s[1];return new ks({domain:[0,r],range:[0,1]}).map(o)}return i}}function pGe(e,t,n){if(e.getTicks)return e.getTicks();if(!n)return t;const[r,i]=zy(t,s=>+s),{tickCount:a}=e.getOptions();return n(r,i,a)}function gGe(e,t){if(gs(t))return g=>g;const n=t.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:s,insetLeft:o,insetRight:l}=n,[c,u,d]=e==="left"||e==="right"?[a,s,i]:[o,l,r],h=new ks({domain:[0,1],range:[c/d,1-u/d]});return g=>h.map(g)}function rse(e,t,n,r,i,a,s,o){var l;(n!==void 0||a!==void 0)&&e.update(Object.assign(Object.assign({},n&&{tickCount:n}),a&&{tickMethod:a}));const c=pGe(e,t,a),u=i?c.filter(i):c,d=C=>C instanceof Date?String(C):typeof C=="object"&&C?C:String(C),h=r||((l=e.getFormatter)===null||l===void 0?void 0:l.call(e))||d,g=gGe(s,o),v=hGe(s,o),x=C=>["top","bottom","center","outer"].includes(C),w=C=>["left","right"].includes(C);return gs(o)||Gs(o)?u.map((C,E,M)=>{var R,L;const N=((R=e.getBandWidth)===null||R===void 0?void 0:R.call(e,C))/2||0,D=g(e.map(C)+N);return{value:c$(o)&&s==="center"||Gs(o)&&((L=e.getTicks)===null||L===void 0?void 0:L.call(e))&&x(s)||Gs(o)&&w(s)?1-D:D,label:d(h($I(C),E,M)),id:String(E)}}):u.map((C,E,M)=>{var R;const L=((R=e.getBandWidth)===null||R===void 0?void 0:R.call(e,C))/2||0,N=v(g(e.map(C)+L));return{value:w(s)?1-N:N,label:d(h($I(C),E,M)),id:String(E)}})}function mGe(e,t,n="xy"){const[r,i,a]=nse(t);return n==="xy"?e.includes("bottom")||e.includes("top")?i:r:n==="xz"?e.includes("bottom")||e.includes("top")?a:r:e.includes("bottom")||e.includes("top")?i:a}function vGe(e=[],t){if(e.length>0)return e;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=t,s=[],o=(l,c)=>{c&&s.push(Object.assign(Object.assign({},l),c))};return o({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),o({type:"ellipsis",minLength:20},i),o({type:"hide"},r),o({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),s}function yGe(e,t,n,r,i){const{x:a,y:s,width:o,height:l}=t,c=[a+o/2,s+l/2],u=Math.min(o,l)/2,[d,h]=l6(i),[g,v]=nse(i),x=Math.min(g,v)/2,w={center:c,radius:u,startAngle:d,endAngle:h,gridLength:(r-n)*x};if(e==="inner"){const{insetLeft:C,insetTop:E}=i.getOptions();return Object.assign(Object.assign({},w),{center:[c[0]-C,c[1]-E],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},w),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function bGe(e,t,n){return r4e(t)||u$(t)?!1:e===void 0?!!n.getTicks:e}function _Ge(e){const{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function xGe(e,t,n,r,i){const{x:a,y:s,width:o,height:l}=n;if(e==="bottom")return{startPos:[a,s],endPos:[a+o,s]};if(e==="left")return{startPos:[a+o,s+l],endPos:[a+o,s]};if(e==="right")return{startPos:[a,s+l],endPos:[a,s]};if(e==="top")return{startPos:[a,s+l],endPos:[a+o,s+l]};if(e==="center"){if(t==="vertical")return{startPos:[a,s],endPos:[a,s+l]};if(t==="horizontal")return{startPos:[a,s],endPos:[a+o,s]};if(typeof t=="number"){const[c,u]=r.getCenter(),[d,h]=f$(r),[g,v]=l6(r),x=Math.min(o,l)/2,{insetLeft:w,insetTop:C}=r.getOptions(),E=d*x,M=h*x,[R,L]=[c+a-w,u+s-C],[N,D]=[Math.cos(t),Math.sin(t)],H=[R+M*N,L+M*D],U=[R+E*N,L+E*D],q=()=>{const{domain:Q}=i.getOptions();return Q.length},K=gs(r)&&i?q():3;return{startPos:H,endPos:U,gridClosed:Math.abs(v-g-360)<1e-6,gridCenter:[R,L],gridControlAngles:new Array(K).fill(0).map((Q,X,te)=>(v-g)/K*X)}}}return{}}const wGe=e=>{const{order:t,size:n,position:r,orientation:i,labelFormatter:a,tickFilter:s,tickCount:o,tickMethod:l,important:c={},style:u={},indexBBox:d,title:h,grid:g=!1}=e,v=ese(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[x],value:w,coordinate:C,theme:E})=>{const{bbox:M}=w,{domain:R}=x.getOptions(),L=rse(x,R,o,a,s,l,r,C),N=d?L.map((X,te)=>{const ee=d.get(te);return!ee||ee[0]!==X.label?X:Object.assign(Object.assign({},X),{bbox:ee[1]})}):L,[D,H]=f$(C),U=yGe(r,M,D,H,C),{axis:q,axisArc:K={}}=E,Q=P$(Pn({},q,K,U,Object.assign(Object.assign({type:"arc",data:N,titleText:I$(h),grid:g},v),c)));return new F6({style:PB(Q,["transform"])})}};function SGe(e,t,n,r,i,a){const s=n.axis,o=["top","right","bottom","left"].includes(i)?n[`axis${KB(i)}`]:n.axisLinear,l=e.getOptions().name,c=n[`axis${P1(l)}`]||{};return Object.assign({},s,o,c)}function CGe(e,t,n,r,i,a){const s=SGe(e,t,n,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},s),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:fGe(a)?10:0,tick:r==="center"?!1:void 0}):s}const EGe=e=>{const{direction:t="left",important:n={},labelFormatter:r,order:i,orientation:a,actualPosition:s,position:o,size:l,style:c={},title:u,tickCount:d,tickFilter:h,tickMethod:g,transform:v,indexBBox:x}=e,w=ese(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:C,value:E,coordinate:M,theme:R})=>{const{bbox:L}=E,[N]=C,{domain:D,xScale:H}=N.getOptions(),U=CGe(N,M,R,t,o,a),q=Object.assign(Object.assign(Object.assign({},U),c),w),K=mGe(s||o,M,e.plane),Q=xGe(o,a,L,M,H),X=_Ge(M),te=rse(N,D,d,r,h,g,o,M),ee=x?te.map((oe,ce)=>{const le=x.get(ce);return!le||le[0]!==oe.label?oe:Object.assign(Object.assign({},oe),{bbox:le[1]})}):te,Z=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},q),{type:"linear",data:ee,crossSize:l,titleText:I$(u),labelOverlap:vGe(v,q),grid:bGe(q.grid,M,N),gridLength:K,line:!0,indexBBox:x}),q.line?null:{lineOpacity:0}),Q),X),n);return Z.labelOverlap.find(oe=>oe.type==="hide")&&(Z.crossSize=!1),new F6({className:"axis",style:P$(Z)})}},ise=e=>t=>{const{labelFormatter:n,labelFilter:r=()=>!0}=t;return i=>{var a;const{scales:[s]}=i,o=((a=s.getTicks)===null||a===void 0?void 0:a.call(s))||s.getOptions().domain,l=typeof n=="string"?z1(n):n,c=(d,h,g)=>r(o[h],h,o),u=Object.assign(Object.assign({},t),{labelFormatter:l,labelFilter:c,scale:s});return e(u)(i)}},B1=ise(EGe),ase=ise(wGe);B1.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};ase.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const ose=e=>(...t)=>{const n=B1(Object.assign({},{crossPadding:50},e))(...t);return tse(n,e),n};ose.props=Object.assign(Object.assign({},B1.props),{defaultPosition:"bottom"});const sse=e=>(...t)=>{const n=B1(Object.assign({},{crossPadding:10},e))(...t);return tse(n,e),n};sse.props=Object.assign(Object.assign({},B1.props),{defaultPosition:"left"});var OGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function TGe(e){const t=e%(Math.PI*2);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function MGe(e,t,n,r){const{radar:i}=e,[a]=r,s=a.getOptions().name,[o,l]=l6(n),{axisRadar:c={}}=t;return Object.assign(Object.assign({},c),{grid:s==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((u,d)=>(l-o)/i.count*d)})}const lse=e=>{const{important:t={}}=e,n=OGe(e,["important"]);return r=>{const{theme:i,coordinate:a,scales:s}=r;return B1(Object.assign(Object.assign(Object.assign({},n),TGe(e.orientation)),{important:Object.assign(Object.assign({},MGe(e,i,a,s)),t)}))(r)}};lse.props=Object.assign(Object.assign({},B1.props),{defaultPosition:"center"});var AGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function IGe(e,t){const n=Jv(e,"shape"),r=Jv(e,"color"),i=n?n.clone():null,a=[];for(const[o,l]of t){const c=o.type,d=(r?.getOptions().domain.length>0?r?.getOptions().domain:l.data).map((h,g)=>{var v;return i?i.map(h||"point"):((v=o?.style)===null||v===void 0?void 0:v.shape)||l.defaultShape||"point"});typeof c=="string"&&a.push([c,d])}if(a.length===0)return["point",["point"]];if(a.length===1||!n)return a[0];const{range:s}=n.getOptions();return a.map(([o,l])=>{let c=0;for(let u=0;u<a.length;u++){const d=s[u%s.length];l[u]===d&&c++}return[c/l.length,[o,l]]}).sort((o,l)=>l[0]-o[0])[0][1]}function PGe(e,t){const{scales:n,library:r,markState:i}=t,[a,s]=IGe(n,i),{itemMarker:o,itemMarkerSize:l}=e,c=(h,g)=>{var v,x,w;const C=((w=(x=(v=r[`mark.${a}`])===null||v===void 0?void 0:v.props)===null||x===void 0?void 0:x.shape[h])===null||w===void 0?void 0:w.props.defaultMarker)||WO(h.split(".")),E=typeof l=="function"?l(g):l;return()=>eje(C,{color:g.color})(0,0,E)},u=h=>`${s[h]}`;return Jv(n,"shape")&&!o?(h,g)=>c(u(g),h):typeof o=="function"?(h,g)=>{const v=o(h.id,g);return typeof v=="string"?c(v,h):v}:(h,g)=>c(o||u(g),h)}function RGe(e){const t=Jv(e,"opacity");if(t){const{range:n}=t.getOptions();return(r,i)=>n[i]}}function $Ge(e,t){const n=Jv(e,"size");return n instanceof Wee?n.map(NaN)*2:t}function kGe(e,t){const{labelFormatter:n=h=>`${h}`}=e,{scales:r,theme:i}=t,a=i.legendCategory.itemMarkerSize,s=$Ge(r,a),o={itemMarker:PGe(Object.assign(Object.assign({},e),{itemMarkerSize:s}),t),itemMarkerSize:s,itemMarkerOpacity:RGe(r)},l=typeof n=="string"?z1(n):n,c=Jv(r,"color"),u=dGe(r),d=c?h=>c.map(h):()=>t.theme.color;return Object.assign(Object.assign({},o),{data:u.map(h=>({id:h,label:l(h),color:d(h)}))})}function LGe(e,t,n){const{position:r}=t;if(r==="center"){const{bbox:s}=e,{width:o,height:l}=s;return{width:o,height:l}}const{width:i,height:a}=Joe(e,t,n);return{width:i,height:a}}function NGe(e){return Object.assign(Object.assign({},e),{data:e?.data.filter(t=>t.id!=="")||[]})}const i8=e=>{const{labelFormatter:t,layout:n,order:r,orientation:i,position:a,size:s,title:o,cols:l,itemMarker:c}=e,u=AGe(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:d}=u;return h=>{const{value:g,theme:v}=h,{bbox:x}=g,{width:w,height:C}=LGe(g,e,i8),E=Zoe(a,n),M=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:w,height:C,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),d!==void 0&&{gridRow:d}),{titleText:I$(o)}),kGe(e,h)),{legendCategory:R={}}=v,L=P$(Object.assign({},R,NGe(M),u)),N=new cGe({style:Object.assign(Object.assign({x:x.x,y:x.y,width:x.width,height:x.height},E),{subOptions:L})});return N.appendChild(new M7e({className:"legend-category",style:L})),N}};i8.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var DGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zGe(e,t,n){return e.size=t,uGe(n)?e.height=t:e.width=t,e}function BGe(e,t,n){const{size:r}=t,i=Joe(e,t,n);return zGe(i,r,i.orientation)}function jGe(e){return t=>({value:t/e,label:String(t)})}function FGe(e,t,n,r,i){const a=t.thresholds,s=jGe(r);return Object.assign(Object.assign({},e),{color:i,data:[n,...a,r].map(s)})}function HGe(e,t,n){const i=[-1/0,...t.thresholds,1/0].map((a,s)=>({value:s,label:a}));return Object.assign(Object.assign({},e),{data:i,color:n,labelFilter:(a,s)=>s>0&&s<i.length-1})}function z5(e){const{domain:t}=e.getOptions(),[n,r]=[t[0],hte(t)];return[n,r]}function VGe(e,t){const n=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},n),{range:[p1(t).toString()]})),r}function UGe(e,t,n,r,i,a){const{length:s}=e,o=n||r,l=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=t||VGe(o,l),[u,d]=z5(c),[h,g]=z5([t,n,r].filter(v=>v!==void 0).find(v=>!(v instanceof GB)));return Object.assign(Object.assign({},e),{domain:[h,g],data:c.getTicks().map(v=>({value:v})),color:new Array(Math.floor(s)).fill(0).map((v,x)=>{const w=(d-u)/(s-1)*x+u,C=c.map(w)||l,E=r?r.map(w):1;return C.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(M,R,L,N)=>`rgba(${R}, ${L}, ${N}, ${E})`)})})}function GGe(e,t,n,r,i,a){const s=Jv(e,"color"),o=BGe(n,r,i);if(s instanceof e$){const{range:u}=s.getOptions(),[d,h]=z5(s);return s instanceof nte||s instanceof ite?FGe(o,s,d,h,u):HGe(o,s,u)}const l=Jv(e,"size"),c=Jv(e,"opacity");return UGe(o,s,l,c,t,a)}const j1=e=>{const{labelFormatter:t,layout:n,order:r,orientation:i,position:a,size:s,title:o,style:l,crossPadding:c,padding:u}=e,d=DGe(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:h,value:g,theme:v,scale:x})=>{const{bbox:w}=g,{x:C,y:E,width:M,height:R}=w,L=Zoe(a,n),{legendContinuous:N={}}=v,D=P$(Object.assign({},N,Object.assign(Object.assign({titleText:I$(o),labelAlign:"value",labelFormatter:typeof t=="string"?U=>z1(t)(U.label):t},GGe(h,x,g,e,j1,v)),l),d)),H=new Qoe({style:Object.assign(Object.assign({x:C,y:E,width:M,height:R},L),{subOptions:D})});return H.appendChild(new j7e({className:"legend-continuous",style:D})),H}};j1.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const cse=e=>(...t)=>j1(Object.assign({},{block:!0},e))(...t);cse.props=Object.assign(Object.assign({},j1.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const a8=e=>t=>{const{scales:n}=t,r=Jv(n,"size");return j1(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},e))(t)};a8.props=Object.assign(Object.assign({},j1.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const use=e=>a8(Object.assign({},{block:!0},e));use.props=Object.assign(Object.assign({},j1.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var WGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qG(e,t,n,r){switch(r){case"center":return{x:e+n/2,y:t,textAlign:"middle"};case"right":return{x:e+n,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}const qGe=lGe({render(e,t){const{width:n,title:r,subtitle:i,spacing:a=2,align:s="left",x:o,y:l}=e,c=WGe(e,["width","title","subtitle","spacing","align","x","y"]);t.style.transform=`translate(${o}, ${l})`;const u=or(c,"title"),d=or(c,"subtitle"),g=WG(t,".title","text").attr("className","title").call(Dr,Object.assign(Object.assign(Object.assign({},qG(0,0,n,s)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();WG(t,".sub-title","text").attr("className","sub-title").call(v=>{if(!i)return v.node().remove();v.node().attr(Object.assign(Object.assign(Object.assign({},qG(0,g.max[1]+a,n,s)),{fontSize:12,textBaseline:"top",text:i}),d))})}}),fse=e=>({value:t,theme:n})=>{const{x:r,y:i,width:a,height:s}=t.bbox;return new qGe({style:Pn({},n.title,Object.assign({x:r,y:i,width:a,height:s},e))})};fse.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function KGe(e,t,n){return Math.min(n,Math.max(t,e))}function dE(e){return!!e.getBandWidth}function u2(e,t,n){if(!dE(e))return e.invert(t);const{adjustedRange:r}=e,{domain:i}=e.getOptions(),a=n?-1:0,s=e.getStep(),o=n?r:r.map(u=>u+s),l=iNe(o,t),c=KGe(l+a,0,i.length-1);return i[c]}function l1(e,t,n){if(!t)return e.getOptions().domain;if(!dE(e)){const l=Tm(t);if(!n)return l;const[c]=l,{range:u}=e.getOptions(),[d,h]=u,g=d>h?-1:1,v=e.invert(e.map(c)+g*n);return[c,v]}const{domain:r}=e.getOptions(),i=t[0],a=r.indexOf(i);if(n){const l=a+Math.round(r.length*n);return r.slice(a,l)}const s=t[t.length-1],o=r.indexOf(s);return r.slice(a,o+1)}function bA(e,t,n,r,i,a){const{x:s,y:o}=i,l=(g,v)=>{const[x,w]=a.invert(g);return[u2(s,x,v),u2(o,w,v)]},c=l([e,t],!0),u=l([n,r],!1),d=l1(s,[c[0],u[0]]),h=l1(o,[c[1],u[1]]);return[d,h]}function UI(e,t){const[n,r]=e,i=a=>a.getStep?a.getStep():0;return[t.map(n),t.map(r)+i(t)]}function YGe(e,t,n){const{x:r,y:i}=t,[a,s]=e,o=UI(a,r),l=UI(s,i),c=[o[0],l[0]],u=[o[1],l[1]],[d,h]=n.map(c),[g,v]=n.map(u);return[d,h,g,v]}var XGe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ZGe(e,t,n){const{x:r,y:i,width:a,height:s}=e;if(t==="left")return[r+a-n,i];if(t==="right")return[r,i];if(t==="bottom")return[r,i];if(t==="top")return[r,i+s-n]}const cT=e=>{const{orientation:t,labelFormatter:n,size:r,style:i={},position:a}=e,s=XGe(e,["orientation","labelFormatter","size","style","position"]);return o=>{var l;const{scales:[c],value:u,theme:d,coordinate:h}=o,{bbox:g}=u,{width:v,height:x}=g,{slider:w={}}=d,C=((l=c.getFormatter)===null||l===void 0?void 0:l.call(c))||(H=>H+""),E=typeof n=="string"?z1(n):n,M=t==="horizontal",R=Gs(h)&&M,{trackSize:L=w.trackSize}=i,[N,D]=ZGe(g,a,L);return new Pie({className:"slider",style:Object.assign({},w,Object.assign(Object.assign({x:N,y:D,trackLength:M?v:x,orientation:t,formatter:H=>{const U=E||C,q=R?1-H:H,K=u2(c,q,!0);return U(K)},sparklineData:JGe(e,o)},i),s))})}};function QGe(e,t){const[n]=Array.from(e.entries()).filter(([i])=>i.type==="line"||i.type==="area").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:s}=i;if(s?.x){const o=l=>{const c=a[l];return[l,c?c.value:void 0]};return Object.fromEntries(t.map(o))}});if(!n?.series)return n?.y;const r=n.series.reduce((i,a,s)=>(i[a]=i[a]||[],i[a].push(n.y[s]),i),{});return Object.values(r)}function JGe(e,t){const{markState:n}=t;return Qc(e.sparklineData)?e.sparklineData:QGe(n,["y","series"])}cT.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const dse=e=>cT(Object.assign(Object.assign({},e),{orientation:"horizontal"}));dse.props=Object.assign(Object.assign({},cT.props),{defaultPosition:"bottom"});const hse=e=>cT(Object.assign(Object.assign({},e),{orientation:"vertical"}));hse.props=Object.assign(Object.assign({},cT.props),{defaultPosition:"left"});var eWe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const uT=e=>{const{orientation:t,labelFormatter:n,style:r}=e,i=eWe(e,["orientation","labelFormatter","style"]);return({scales:[a],value:s,theme:o})=>{const{bbox:l}=s,{x:c,y:u,width:d,height:h}=l,{scrollbar:g={}}=o,{ratio:v,range:x}=a.getOptions(),w=t==="horizontal"?d:h,C=w/v,[E,M]=x,R=M>E?0:1;return new pFe({className:"g2-scrollbar",style:Object.assign({},g,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:u,trackLength:w,value:R}),i),{orientation:t,contentLength:C,viewportLength:w}))})}};uT.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const pse=e=>uT(Object.assign(Object.assign({},e),{orientation:"horizontal"}));pse.props=Object.assign(Object.assign({},uT.props),{defaultPosition:"bottom"});const gse=e=>uT(Object.assign(Object.assign({},e),{orientation:"vertical"}));gse.props=Object.assign(Object.assign({},uT.props),{defaultPosition:"left"});const mse=e=>()=>new Jc;mse.props={};const o8=(e,t)=>{const{coordinate:r}=t;return(i,a,s)=>{const[o]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=o.style,[h,g]=Gs(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],v=[{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d}];return o.animate(v,Object.assign(Object.assign({},s),e))}},tWe=(e,t)=>{const{coordinate:r}=t;return(i,a,s)=>{const[o]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=o.style,[h,g]=Gs(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],v=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.99},{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(v,Object.assign(Object.assign({},s),e))}},vse=(e,t)=>{const{coordinate:r}=t;return nre.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:ar.NUMBER}),(i,a,s)=>{const[o]=i,l=u=>{const{__data__:d,style:h}=u,{fillOpacity:g=1,strokeOpacity:v=1,opacity:x=1}=h,{points:w,y:C,y1:E}=d,M=Fx(r,w,[C,E]),{innerRadius:R,outerRadius:L}=M,N=[{scaleInYRadius:R+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:R+1e-4,fillOpacity:g,strokeOpacity:v,opacity:x,offset:.01},{scaleInYRadius:L,fillOpacity:g,strokeOpacity:v,opacity:x}];return u.animate(N,Object.assign(Object.assign({},s),e))},c=u=>{const{style:d}=u,{transform:h="",fillOpacity:g=1,strokeOpacity:v=1,opacity:x=1}=d,[w,C]=Gs(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],E=[{transform:`${h} ${C}`.trimStart(),transformOrigin:w,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${h} ${C}`.trimStart(),transformOrigin:w,fillOpacity:g,strokeOpacity:v,opacity:x,offset:.01},{transform:`${h} scale(1, 1)`.trimStart(),transformOrigin:w,fillOpacity:g,strokeOpacity:v,opacity:x}];return u.animate(E,Object.assign(Object.assign({},s),e))};return gs(r)?l(o):c(o)}},nWe=(e,t)=>{const{coordinate:r}=t;return(i,a,s)=>{const[o]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=o.style,[h,g]=Gs(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],v=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.99},{transform:`${l} ${g}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(v,Object.assign(Object.assign({},s),e))}},yse=e=>(t,n,r)=>{const[i]=t,{fillOpacity:a=1,strokeOpacity:s=1,opacity:o=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:s,opacity:o}];return i.animate(l,Object.assign(Object.assign({},r),e))};yse.props={};const bse=e=>(t,n,r)=>{const[i]=t,{fillOpacity:a=1,strokeOpacity:s=1,opacity:o=1}=i.style,l=[{fillOpacity:a,strokeOpacity:s,opacity:o},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),e))};bse.props={};const rWe={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},iWe={[mn.CIRCLE]:["cx","cy","r"],[mn.ELLIPSE]:["cx","cy","rx","ry"],[mn.RECT]:["x","y","width","height"],[mn.IMAGE]:["x","y","width","height"],[mn.LINE]:["x1","y1","x2","y2"],[mn.POLYLINE]:["points"],[mn.POLYGON]:["points"]};function f2(e,t,n=!1){const r={};for(const i of t){const a=e.style[i];a?r[i]=a:n&&(r[i]=rWe[i])}return r}const oO=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function B5(e){const{min:t,max:n}=e.getLocalBounds(),[r,i]=t,[a,s]=n,o=s-i,l=a-r;return[r,i,l,o]}function aWe(e){const[t,n,r,i]=e;return`
    M ${t} ${n}
    L ${t+r} ${n}
    L ${t+r} ${n+i}
    L ${t} ${n+i}
    Z
  `}function oWe(e,t){const[n,r,i,a]=B5(e),s=a/i,o=Math.ceil(Math.sqrt(t/s)),l=Math.ceil(t/o),c=[],u=a/l;let d=0,h=t;for(;h>0;){const g=Math.min(h,o),v=i/g;for(let x=0;x<g;x++){const w=n+x*v,C=r+d*u;c.push(aWe([w,C,v,u]))}h-=g,d+=1}return c}function sWe(e="pack"){return typeof e=="function"?e:oWe}function lWe(e,t,n){let{transform:r}=e.style;const{transform:i}=t.style;_se(t,e);let a=oO;if(e.nodeName===mn.GROUP){const[l,c,u,d]=B5(e),[h,g,v,x]=B5(t),w=l-h,C=c-g,E=u/v,M=d/x;r=`translate(${w}, ${C}) scale(${E}, ${M})`}else a=a.concat(iWe[e.nodeName]||[]);const s=[Object.assign({transform:r??"none"},f2(e,a,!0)),Object.assign({transform:i??"none"},f2(t,a,!0))];return t.animate(s,n)}function _se(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function cWe(e,t){const{nodeName:n}=e;if(n==="path")return e;const r=new Td({style:Object.assign(Object.assign({},f2(e,oO)),{d:t})});return _se(r,e),r}function KG(e,t){const n=e.indexOf(t),r=e.lastIndexOf(t);return n===r}function uWe(e){return!KG(e,"m")||!KG(e,"M")}function YG(e){const t=qze(e);if(t&&!uWe(t))return t}function XG(e){const{nodeName:t}=e;if(t==="path"){const n=Ua(e,"attributes");return n.markerEnd||n.markerStart}return!1}function s8(e,t,n,r){const{nodeName:i}=t,{nodeName:a}=n,s=YG(t),o=YG(n),l=i===a&&i!=="path",c=s===void 0||o===void 0,u=XG(t)||XG(n);if(l||c||u)return lWe(t,n,r);const d=cWe(e,s),h=[Object.assign({},f2(t,oO)),Object.assign({},f2(n,oO))];if(s!==o){h[0].d=s,h[1].d=o;const g=d.animate(h,r);return g.onfinish=()=>{YB(d,n),d.style.d=o,d.style.transform="none"},d.style.transform="none",g}return null}function fWe(e,t,n,r){e.style.visibility="hidden";const i=r(e,t.length);return t.map((a,s)=>{const o=new Td({style:Object.assign({d:i[s]},f2(e,oO))});return s8(a,o,a,n)})}function dWe(e,t,n,r){const i=r(t,e.length),{fillOpacity:a=1,strokeOpacity:s=1,opacity:o=1}=t.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:s,opacity:o}],c=t.animate(l,n);return[...e.map((d,h)=>{const g=new Td({style:{d:i[h],fill:t.style.fill}});return s8(d,d,g,n)}),c]}const xse=e=>(t,n,r)=>{const i=sWe(e.split),a=Object.assign(Object.assign({},r),e),{length:s}=t,{length:o}=n;if(s===1&&o===1||s>1&&o>1){const[l]=t,[c]=n;return s8(l,l,c,a)}if(s===1&&o>1){const[l]=t;return fWe(l,n,a,i)}if(s>1&&o===1){const[l]=n;return dWe(t,l,a,i)}return null};xse.props={};const wse=(e,t)=>{nre.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:ar.NUMBER});const{coordinate:r}=t;return(i,a,s)=>{const[o]=i;if(!gs(r))return o8(e,t)(i,a,s);const{__data__:l,style:c}=o,{radius:u=0,inset:d=0,fillOpacity:h=1,strokeOpacity:g=1,opacity:v=1}=c,{points:x,y:w,y1:C}=l,E=r6().cornerRadius(u).padAngle(d*Math.PI/180),M=Fx(r,x,[w,C]),{startAngle:R,endAngle:L}=M,N=[{waveInArcAngle:R+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:R+1e-4,fillOpacity:h,strokeOpacity:g,opacity:v,offset:.01},{waveInArcAngle:L,fillOpacity:h,strokeOpacity:g,opacity:v}],D=o.animate(N,Object.assign(Object.assign({},s),e));return D.onframe=function(){o.style.d=E(Object.assign(Object.assign({},M),{endAngle:Number(o.style.waveInArcAngle)}))},D.onfinish=function(){o.style.d=E(Object.assign(Object.assign({},M),{endAngle:L}))},D}};wse.props={};const hWe=e=>(n,r,i)=>{const[a]=n,{transform:s="",fillOpacity:o=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",d=[{transform:`${s} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${s} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:o,strokeOpacity:l,opacity:c,offset:.01},{transform:`${s} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:o,strokeOpacity:l,opacity:c}];return a.animate(d,Object.assign(Object.assign({},i),e))},pWe=e=>(n,r,i)=>{const[a]=n,{transform:s="",fillOpacity:o=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",d=[{transform:`${s} scale(1)`.trimStart(),transformOrigin:u},{transform:`${s} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:o,strokeOpacity:l,opacity:c,offset:.99},{transform:`${s} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(d,Object.assign(Object.assign({},i),e))},Sse=e=>(t,n,r)=>{var i,a;const[s]=t,o=((a=(i=s).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,l=[{lineDash:[0,o]},{lineDash:[o,0]}];return s.animate(l,Object.assign(Object.assign({},r),e))};Sse.props={};const Cse=(e,t)=>(n,r,i)=>{const[a]=n,{min:[s,o],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,d=new Td({style:{d:`M${s},${o}L${s+c},${o}L${s+c},${o+u}L${s},${o+u}Z`}});return a.appendChild(d),a.style.clipPath=d,o8(e,t)([d],r,i)};Cse.props={};const Ese=(e,t)=>(n,r,i)=>{const[a]=n,{min:[s,o],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,d=new Td({style:{d:`M${s},${o}L${s+c},${o}L${s+c},${o+u}L${s},${o+u}Z`}});return a.appendChild(d),a.style.clipPath=d,vse(e,t)([d],r,i)};Ese.props={};const ZG="main-layer",j5="label-layer",Sy="element",F5="view",sO="plot",QG="component",H5="label",JG="area";/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.16
 * @date 1/23/2025, 8:32:57 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function gWe(e,t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,s=t.r;e.arc(r,a,s,0,Math.PI*2,!1)}function mWe(e,t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,s=t.rx,o=t.ry;if(e.ellipse)e.ellipse(r,a,s,o,0,0,Math.PI*2,!1);else{var l=s>o?s:o,c=s>o?1:s/o,u=s>o?o/s:1;e.save(),e.scale(c,u),e.arc(r,a,l,0,Math.PI*2)}}function vWe(e,t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2,s=t.markerStart,o=t.markerEnd,l=t.markerStartOffset,c=t.markerEndOffset,u=0,d=0,h=0,g=0,v=0,x,w;s&&co(s)&&l&&(x=i-n,w=a-r,v=Math.atan2(w,x),u=Math.cos(v)*(l||0),d=Math.sin(v)*(l||0)),o&&co(o)&&c&&(x=n-i,w=r-a,v=Math.atan2(w,x),h=Math.cos(v)*(c||0),g=Math.sin(v)*(c||0)),e.moveTo(n+u,r+d),e.lineTo(i+h,a+g)}function yWe(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.d,o=s.absolutePath,l=s.segments,c=0,u=0,d=0,h=0,g=0,v,x;if(n&&co(n)&&i){var w=n.parentNode.getStartTangent(),C=mt(w,2),E=C[0],M=C[1];v=E[0]-M[0],x=E[1]-M[1],g=Math.atan2(x,v),c=Math.cos(g)*(i||0),u=Math.sin(g)*(i||0)}if(r&&co(r)&&a){var R=r.parentNode.getEndTangent(),L=mt(R,2),N=L[0],D=L[1];v=N[0]-D[0],x=N[1]-D[1],g=Math.atan2(x,v),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)}for(var H=0;H<o.length;H++){var U=o[H],q=U[0],K=o[H+1],Q=H===0&&(c!==0||u!==0),X=(H===o.length-1||K&&(K[0]==="M"||K[0]==="Z"))&&d!==0&&h!==0,te=Q?[c,u]:[0,0],ee=mt(te,2),Z=ee[0],re=ee[1],oe=X?[d,h]:[0,0],ce=mt(oe,2),le=ce[0],pe=ce[1];switch(q){case"M":e.moveTo(U[1]+Z,U[2]+re);break;case"L":e.lineTo(U[1]+le,U[2]+pe);break;case"Q":e.quadraticCurveTo(U[1],U[2],U[3]+le,U[4]+pe);break;case"C":e.bezierCurveTo(U[1],U[2],U[3],U[4],U[5]+le,U[6]+pe);break;case"A":{var ye=l[H].arcParams,_e=ye.cx,Se=ye.cy,Re=ye.rx,je=ye.ry,Fe=ye.startAngle,ze=ye.endAngle,Ze=ye.xRotation,st=ye.sweepFlag;if(e.ellipse)e.ellipse(_e,Se,Re,je,Ze,Fe,ze,!!(1-st));else{var Ue=Re>je?Re:je,Ne=Re>je?1:Re/je,qe=Re>je?je/Re:1;e.translate(_e,Se),e.rotate(Ze),e.scale(Ne,qe),e.arc(0,0,Ue,Fe,ze,!!(1-st)),e.scale(1/Ne,1/qe),e.rotate(-Ze),e.translate(-_e,-Se)}X&&e.lineTo(U[6]+d,U[7]+h);break}case"Z":e.closePath();break}}}function bWe(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],c=s[0][1],u=s[o-1][0],d=s[o-1][1],h=0,g=0,v=0,x=0,w=0,C,E;n&&co(n)&&i&&(C=s[1][0]-s[0][0],E=s[1][1]-s[0][1],w=Math.atan2(E,C),h=Math.cos(w)*(i||0),g=Math.sin(w)*(i||0)),r&&co(r)&&a&&(C=s[o-1][0]-s[0][0],E=s[o-1][1]-s[0][1],w=Math.atan2(E,C),v=Math.cos(w)*(a||0),x=Math.sin(w)*(a||0)),e.moveTo(l+(h||v),c+(g||x));for(var M=1;M<o-1;M++){var R=s[M];e.lineTo(R[0],R[1])}e.lineTo(u,d)}function _We(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,s=t.points.points,o=s.length,l=s[0][0],c=s[0][1],u=s[o-1][0],d=s[o-1][1],h=0,g=0,v=0,x=0,w=0,C,E;n&&co(n)&&i&&(C=s[1][0]-s[0][0],E=s[1][1]-s[0][1],w=Math.atan2(E,C),h=Math.cos(w)*(i||0),g=Math.sin(w)*(i||0)),r&&co(r)&&a&&(C=s[o-2][0]-s[o-1][0],E=s[o-2][1]-s[o-1][1],w=Math.atan2(E,C),v=Math.cos(w)*(a||0),x=Math.sin(w)*(a||0)),e.moveTo(l+h,c+g);for(var M=1;M<o-1;M++){var R=s[M];e.lineTo(R[0],R[1])}e.lineTo(u+v,d+x)}function xWe(e,t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.radius,o=t.width,l=t.height,c=o,u=l,d=s&&s.some(function(L){return L!==0});if(!d)e.rect(r,a,c,u);else{var h=o>0?1:-1,g=l>0?1:-1,v=h+g===0,x=s.map(function(L){return $l(L,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),w=mt(x,4),C=w[0],E=w[1],M=w[2],R=w[3];e.moveTo(h*C+r,a),e.lineTo(c-h*E+r,a),E!==0&&e.arc(c-h*E+r,g*E+a,E,-g*Math.PI/2,h>0?0:Math.PI,v),e.lineTo(c+r,u-g*M+a),M!==0&&e.arc(c-h*M+r,u-g*M+a,M,h>0?0:Math.PI,g>0?Math.PI/2:1.5*Math.PI,v),e.lineTo(h*R+r,u+a),R!==0&&e.arc(h*R+r,u-g*R+a,R,g>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,v),e.lineTo(r,g*C+a),C!==0&&e.arc(h*C+r,g*C+a,C,h>0?Math.PI:0,g>0?Math.PI*1.5:Math.PI/2,v)}}var wWe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="canvas-path-generator",n}return qr(t,e),On(t,[{key:"init",value:function(){var r,i=(r={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(r,mn.CIRCLE,gWe),mn.ELLIPSE,mWe),mn.RECT,xWe),mn.LINE,vWe),mn.POLYLINE,_We),mn.POLYGON,bWe),mn.PATH,yWe),mn.TEXT,void 0),mn.GROUP,void 0),mn.IMAGE,void 0),Te(Te(Te(r,mn.HTML,void 0),mn.MESH,void 0),mn.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(k1);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.19
 * @date 2/27/2025, 8:28:58 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var SWe=Ca(),CWe=Ca(),EWe=Ca(),OWe=es(),Ose=function(){function e(){var t=this;En(this,e),this.isHit=function(n,r,i,a){var s=t.context.pointInPathPickerFactory[n.nodeName];if(s){var o=Sm(OWe,i),l=Pl(CWe,kf(EWe,r[0],r[1],0),o);if(s(n,new Ku(l[0],l[1]),a,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(n,r){var i=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),a=t.context.pathGeneratorFactory[n.nodeName];return a&&(i.beginPath(),a(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return On(e,[{key:"apply",value:function(n,r){var i,a=this,s=n.renderingService,o=n.renderingContext;this.context=n,this.runtime=r;var l=(i=o.root)===null||i===void 0?void 0:i.ownerDocument;s.hooks.pick.tapPromise(e.tag,function(){var c=Cd(Vo().mark(function u(d){return Vo().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",a.pick(l,d));case 1:case"end":return g.stop()}},u)}));return function(u){return c.apply(this,arguments)}}()),s.hooks.pickSync.tap(e.tag,function(c){return a.pick(l,c)})}},{key:"pick",value:function(n,r){var i=r.topmost,a=r.position,s=a.x,o=a.y,l=kf(SWe,s,o,0),c=n.elementsFromBBox(l[0],l[1],l[0],l[1]),u=[],d=U_(c),h;try{for(d.s();!(h=d.n()).done;){var g=h.value,v=g.getWorldTransform(),x=this.isHit(g,l,v,!1);if(x){var w=qne(g);if(w){var C=w.parsedStyle.clipPath,E=this.isHit(C,l,C.getWorldTransform(),!0);if(E){if(i)return r.picked=[g],r;u.push(g)}}else{if(i)return r.picked=[g],r;u.push(g)}}}}catch(M){d.e(M)}finally{d.f()}return r.picked=u,r}}])}();Ose.tag="CanvasPicker";function TWe(e,t,n){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.r,c=r.fill,u=r.stroke,d=r.lineWidth,h=d===void 0?1:d,g=r.increasedLineWidthForHitTesting,v=g===void 0?0:g,x=r.pointerEvents,w=x===void 0?"auto":x,C=(h+v)/2,E=By(a,o,t.x,t.y),M=zx(w,c,u),R=mt(M,2),L=R[0],N=R[1];return L&&N||n?E<=l+C:L?E<=l:N?E>=l-C&&E<=l+C:!1}function EM(e,t,n,r){return e/(n*n)+t/(r*r)}function MWe(e,t,n){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,s=r.cy,o=s===void 0?0:s,l=r.rx,c=r.ry,u=r.fill,d=r.stroke,h=r.lineWidth,g=h===void 0?1:h,v=r.increasedLineWidthForHitTesting,x=v===void 0?0:v,w=r.pointerEvents,C=w===void 0?"auto":w,E=t.x,M=t.y,R=zx(C,u,d),L=mt(R,2),N=L[0],D=L[1],H=(g+x)/2,U=(E-a)*(E-a),q=(M-o)*(M-o);return N&&D||n?EM(U,q,l+H,c+H)<=1:N?EM(U,q,l,c)<=1:D?EM(U,q,l-H,c-H)>=1&&EM(U,q,l+H,c+H)<=1:!1}function Y_(e,t,n,r,i,a){return i>=e&&i<=e+n&&a>=t&&a<=t+r}function AWe(e,t,n,r,i,a,s){var o=i/2;return Y_(e-o,t-o,n,i,a,s)||Y_(e+n-o,t-o,i,r,a,s)||Y_(e+o,t+r-o,n,i,a,s)||Y_(e-o,t+o,i,r,a,s)}function OM(e,t,n,r,i,a,s,o){var l=(Math.atan2(o-t,s-e)+Math.PI*2)%(Math.PI*2),c={x:e+n*Math.cos(l),y:t+n*Math.sin(l)};return By(c.x,c.y,s,o)<=a/2}function c1(e,t,n,r,i,a,s){var o=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),u=Math.max(t,r),d=i/2;return a>=o-d&&a<=l+d&&s>=c-d&&s<=u+d?g4e(e,t,n,r,a,s)<=i/2:!1}function Tse(e,t,n,r,i){var a=e.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var o=e[s][0],l=e[s][1],c=e[s+1][0],u=e[s+1][1];if(c1(o,l,c,u,t,n,r))return!0}if(i){var d=e[0],h=e[a-1];if(c1(d[0],d[1],h[0],h[1],t,n,r))return!0}return!1}var IWe=1e-6;function wL(e){return Math.abs(e)<IWe?0:e<0?-1:1}function PWe(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function Mse(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],o=e[(a+1)%i];if(PWe(s,o,[t,n]))return!0;wL(s[1]-n)>0!=wL(o[1]-n)>0&&wL(t-(n-s[1])*(s[0]-o[0])/(s[1]-o[1])-s[0])<0&&(r=!r)}return r}function eW(e,t,n){for(var r=!1,i=0;i<e.length;i++){var a=e[i];if(r=Mse(a,t,n),r)break}return r}function RWe(e,t,n){var r=e.parsedStyle,i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.lineWidth,c=l===void 0?1:l,u=r.increasedLineWidthForHitTesting,d=u===void 0?0:u,h=r.pointerEvents,g=h===void 0?"auto":h,v=r.fill,x=r.stroke,w=zx(g,v,x),C=mt(w,2),E=C[1];return!E&&!n||!c?!1:c1(i,a,s,o,c+d,t.x,t.y)}function $We(e,t,n,r,i){for(var a=!1,s=t/2,o=0;o<e.length;o++){var l=e[o],c=l.currentPoint,u=l.params,d=l.prePoint,h=l.box;if(!(h&&!Y_(h.x-s,h.y-s,h.width+t,h.height+t,n,r)))switch(l.command){case"L":case"Z":if(a=c1(d[0],d[1],c[0],c[1],t,n,r),a)return!0;break;case"Q":var g=w4e(d[0],d[1],u[1],u[2],u[3],u[4],n,r);if(a=g<=t/2,a)return!0;break;case"C":var v=xV(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);if(a=v<=t/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=NB(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var x=l.cubicParams,w=d,C=0;C<x.length;C+=6){var E=xV(w[0],w[1],x[C],x[C+1],x[C+2],x[C+3],x[C+4],x[C+5],n,r,i);if(w=[x[C+4],x[C+5]],a=E<=t/2,a)return!0}break}}return a}function kWe(e,t,n,r,i,a){var s=e.parsedStyle,o=s.lineWidth,l=o===void 0?1:o,c=s.increasedLineWidthForHitTesting,u=c===void 0?0:c,d=s.stroke,h=s.fill,g=s.d,v=s.pointerEvents,x=v===void 0?"auto":v,w=g.segments,C=g.hasArc,E=g.polylines,M=g.polygons,R=zx(x,M?.length&&h,d),L=mt(R,2),N=L[0],D=L[1],H=v5(e),U=!1;return N||n?(C?U=r(e,t):U=eW(M,t.x,t.y)||eW(E,t.x,t.y),U):((D||n)&&(U=$We(w,l+u,t.x,t.y,H)),U)}function LWe(e,t,n){var r=e.parsedStyle,i=r.stroke,a=r.fill,s=r.lineWidth,o=s===void 0?1:s,l=r.increasedLineWidthForHitTesting,c=l===void 0?0:l,u=r.points,d=r.pointerEvents,h=d===void 0?"auto":d,g=zx(h,a,i),v=mt(g,2),x=v[0],w=v[1],C=!1;return(w||n)&&(C=Tse(u.points,o+c,t.x,t.y,!0)),!C&&(x||n)&&(C=Mse(u.points,t.x,t.y)),C}function NWe(e,t,n){var r=e.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,s=r.increasedLineWidthForHitTesting,o=s===void 0?0:s,l=r.points,c=r.pointerEvents,u=c===void 0?"auto":c,d=r.fill,h=r.stroke,g=zx(u,d,h),v=mt(g,2),x=v[1];return!x&&!n||!a?!1:Tse(l.points,a+o,t.x,t.y,!1)}function DWe(e,t,n,r,i){var a=e.parsedStyle,s=a.radius,o=a.fill,l=a.stroke,c=a.lineWidth,u=c===void 0?1:c,d=a.increasedLineWidthForHitTesting,h=d===void 0?0:d,g=a.x,v=g===void 0?0:g,x=a.y,w=x===void 0?0:x,C=a.width,E=a.height,M=a.pointerEvents,R=M===void 0?"auto":M,L=zx(R,o,l),N=mt(L,2),D=N[0],H=N[1],U=s&&s.some(function(X){return X!==0}),q=u+h;if(U){var Q=!1;return(H||n)&&(Q=zWe(v,w,C,E,s.map(function(X){return $l(X,0,Math.min(Math.abs(C)/2,Math.abs(E)/2))}),q,t.x,t.y)),!Q&&(D||n)&&(Q=r(e,t)),Q}else{var K=q/2;if(D&&H||n)return Y_(v-K,w-K,C+K,E+K,t.x,t.y);if(D)return Y_(v,w,C,E,t.x,t.y);if(H)return AWe(v,w,C,E,q,t.x,t.y)}return!1}function zWe(e,t,n,r,i,a,s,o){var l=mt(i,4),c=l[0],u=l[1],d=l[2],h=l[3];return c1(e+c,t,e+n-u,t,a,s,o)||c1(e+n,t+u,e+n,t+r-d,a,s,o)||c1(e+n-d,t+r,e+h,t+r,a,s,o)||c1(e,t+r-h,e,t+c,a,s,o)||OM(e+n-u,t+u,u,1.5*Math.PI,2*Math.PI,a,s,o)||OM(e+n-d,t+r-d,d,0,.5*Math.PI,a,s,o)||OM(e+h,t+r-h,h,.5*Math.PI,Math.PI,a,s,o)||OM(e+c,t+c,c,Math.PI,1.5*Math.PI,a,s,o)}function BWe(e,t,n,r,i,a){var s=e.parsedStyle,o=s.pointerEvents,l=o===void 0?"auto":o,c=s.x,u=c===void 0?0:c,d=s.y,h=d===void 0?0:d,g=s.width,v=s.height;if(l==="non-transparent-pixel"){var x=i.config.offscreenCanvas,w=a.offscreenCanvasCreator.getOrCreateCanvas(x),C=a.offscreenCanvasCreator.getOrCreateContext(x,{willReadFrequently:!0});w.width=g,w.height=v,i.defaultStyleRendererFactory[mn.IMAGE].render(C,Pe(Pe({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var E=C.getImageData(t.x-u,t.y-h,1,1).data;return E.every(function(M){return M!==0})}return!0}function jWe(e,t,n,r){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var FWe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="canvas-picker",n}return qr(t,e),On(t,[{key:"init",value:function(){var r,i=(r={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(r,mn.CIRCLE,TWe),mn.ELLIPSE,MWe),mn.RECT,DWe),mn.LINE,RWe),mn.POLYLINE,NWe),mn.POLYGON,LWe),mn.PATH,kWe),mn.TEXT,jWe),mn.GROUP,null),mn.IMAGE,BWe),Te(Te(r,mn.HTML,null),mn.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new Ose)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(k1);function Ov(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var HWe=0;function VWe(e){return"__private_"+HWe+++"_"+e}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.19
 * @date 2/27/2025, 8:27:22 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var UWe=function(){function e(){En(this,e),this.cacheStore=new Map}return On(e,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,i){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([i])}),this.onRefAdded(i),!0)}},{key:"get",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.has(r)||(i.counter.add(r),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(n,r,i){var a=this.cacheStore.get(n);return a?(a.value=Pe(Pe({},a.value),r),a.counter.has(i)||(a.counter.add(i),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.delete(r),i.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),SL=[],CL=[],V5=function(){function e(){En(this,e)}return On(e,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(n.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;SL.length<=0&&CL.length<=0||(CL.forEach(function(r){return r()}),CL=SL.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=n.requestAnimationFrame(function(){e.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,i,a){for(var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=r-s,d=i-s,h=Math.ceil(l/u),g=Math.ceil(c/d),v={tileSize:[r,i],gridSize:[g,h],tiles:Array(g).fill(null).map(function(){return Array(h).fill(null)})},x=function(E){for(var M=function(N){SL.push(function(){var D=N*u,H=E*d,U=[Math.min(r,l-D),Math.min(i,c-H)],q=U[0],K=U[1],Q=o.createCanvas();Q.width=r,Q.height=i;var X=Q.getContext("2d");X.drawImage(n,D,H,q,K,0,0,q,K),v.tiles[E][N]={x:D,y:H,tileX:N,tileY:E,data:Q},a()})},R=0;R<h;R++)M(R)},w=0;w<g;w++)x(w);return e.stop(),e.executeTask(),v}}])}();V5.TASK_NUM_PER_FRAME=10;var op=new UWe;op.onRefAdded=function(t){var n=this;t.addEventListener(ia.DESTROY,function(){n.releaseRef(t)},{once:!0})};var l8=function(){function e(t,n){En(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n}return On(e,[{key:"getImageSync",value:function(n,r,i){var a=el(n)?n:n.src;if(op.has(a)){var s=op.get(a,r);if(s.img.complete)return i?.(s),s}return this.getOrCreateImage(n,r).then(function(o){i?.(o)}).catch(function(o){console.error(o)}),null}},{key:"getOrCreateImage",value:function(n,r){var i=this,a=el(n)?n:n.src;if(!el(n)&&!op.has(a)){var s={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:TM(n)};op.put(a,s,r)}if(op.has(a)){var o=op.get(a,r);return o.img.complete?Promise.resolve(o):new Promise(function(l,c){o.img.addEventListener("load",function(){o.size=[o.img.naturalWidth||o.img.width,o.img.naturalHeight||o.img.height],o.tileSize=TM(o.img),l(o)}),o.img.addEventListener("error",function(u){c(u)})})}return new Promise(function(l,c){var u=i.context.config.createImage();if(u){var d={img:u,size:[0,0],tileSize:TM(u)};op.put(a,d,r),u.onload=function(){d.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],d.tileSize=TM(d.img),l(d)},u.onerror=function(h){c(h)},u.crossOrigin="Anonymous",u.src=a}})}},{key:"createDownSampledImage",value:function(){var t=Cd(Vo().mark(function r(i,a){var s,o,l,c,u,d,h,g,v,x,w,C,E,M;return Vo().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,this.getOrCreateImage(i,a);case 2:if(s=L.sent,!(typeof s.downSamplingRate<"u")){L.next=5;break}return L.abrupt("return",s);case 5:if(o=this.context.config.enableLargeImageOptimization,l=typeof o=="boolean"?{}:o,c=l.maxDownSampledImageSize,u=c===void 0?2048:c,d=l.downSamplingRateThreshold,h=d===void 0?.5:d,g=this.runtime.globalThis.createImageBitmap,v=mt(s.size,2),x=v[0],w=v[1],C=s.img,E=Math.min((u+u)/(x+w),Math.max(.01,Math.min(h,.5))),M=Pe(Pe({},s),{},{downSamplingRate:E}),op.update(s.img.src,M,a),!g){L.next=25;break}return L.prev=14,L.next=17,g(s.img,{resizeWidth:x*E,resizeHeight:w*E});case 17:C=L.sent,L.next=23;break;case 20:L.prev=20,L.t0=L.catch(14),E=1;case 23:L.next=26;break;case 25:E=1;case 26:return M=Pe(Pe({},this.getImageSync(i,a)),{},{downSampled:C,downSamplingRate:E}),op.update(s.img.src,M,a),L.abrupt("return",M);case 29:case"end":return L.stop()}},r,this,[[14,20]])}));function n(r,i){return t.apply(this,arguments)}return n}()},{key:"createImageTiles",value:function(){var t=Cd(Vo().mark(function r(i,a,s,o){var l,c,u,d,h;return Vo().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.getOrCreateImage(i,o);case 2:return l=v.sent,c=o.ownerDocument.defaultView,u=c.requestAnimationFrame,d=c.cancelAnimationFrame,V5.api={requestAnimationFrame:u,cancelAnimationFrame:d,createCanvas:function(){return m6.createCanvas()}},h=Pe(Pe({},l),V5.sliceImage(l.img,l.tileSize[0],l.tileSize[0],s)),op.update(l.img.src,h,o),v.abrupt("return",h);case 8:case"end":return v.stop()}},r,this)}));function n(r,i,a,s){return t.apply(this,arguments)}return n}()},{key:"releaseImage",value:function(n,r){op.release(el(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){op.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,i,a,s,o,l){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var u=r.image,d=r.repetition,h=r.transform,g,v=!1;if(el(u)){var x=this.getImageSync(u,n,l);g=x?.img}else a?(g=a,v=!0):g=u;var w=g&&i.createPattern(g,d);if(w){var C;h?C=Qne(Vne(h),new Ls({})):C=_1(es()),v&&aee(C,C,[1/s,1/s,1]),w.setTransform({a:C[0],b:C[1],c:C[4],d:C[5],e:C[12]+o[0],f:C[13]+o[1]})}return c&&w&&(this.patternCache[c]=w),w}},{key:"getOrCreateGradient",value:function(n,r){var i=this.generateGradientKey(n),a=n.type,s=n.steps,o=n.min,l=n.width,c=n.height,u=n.angle,d=n.cx,h=n.cy,g=n.size;if(this.gradientCache[i])return this.gradientCache[i];var v=null;if(a===s1.LinearGradient){var x=mze(o,l,c,u),w=x.x1,C=x.y1,E=x.x2,M=x.y2;v=r.createLinearGradient(w,C,E,M)}else if(a===s1.RadialGradient){var R=vze(o,l,c,d,h,g),L=R.x,N=R.y,D=R.r;v=r.createRadialGradient(L,N,0,L,N,D)}return v&&(s.forEach(function(H){var U=H.offset,q=H.color;if(U.unit===cr.kPercentage){var K;(K=v)===null||K===void 0||K.addColorStop(U.value/100,q.toString())}}),this.gradientCache[i]=v),this.gradientCache[i]}},{key:"generateGradientKey",value:function(n){var r=n.type,i=n.min,a=n.width,s=n.height,o=n.steps,l=n.angle,c=n.cx,u=n.cy,d=n.size;return"gradient-".concat(r,"-").concat(l?.toString()||0,"-").concat(c?.toString()||0,"-").concat(u?.toString()||0,"-").concat(d?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(s,"-").concat(o.map(function(h){var g=h.offset,v=h.color;return"".concat(g).concat(v)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,i=n.repetition;if(el(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])}();l8.isSupportTile=!!m6.createCanvas();function TM(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(n/i),s=Math.ceil(t/i);a*s<1e3&&(r=i)}),[r,r]}var Ase=function(){function e(){En(this,e)}return On(e,[{key:"apply",value:function(n){var r=n.renderingService,i=n.renderingContext,a=n.imagePool,s=i.root.ownerDocument.defaultView,o=function(d,h,g){var v=d.parsedStyle,x=v.width,w=v.height;x&&!w?d.setAttribute("height",g/h*x):!x&&w&&d.setAttribute("width",h/g*w)},l=function(d){var h=d.target,g=h.nodeName,v=h.attributes;if(g===mn.IMAGE){var x=v.src,w=v.keepAspectRatio;a.getImageSync(x,h,function(C){var E=C.img,M=E.width,R=E.height;w&&o(h,M,R),h.renderable.dirty=!0,r.dirtify()})}},c=function(d){var h=d.target,g=d.attrName,v=d.prevValue,x=d.newValue;h.nodeName!==mn.IMAGE||g!=="src"||(v!==x&&a.releaseImage(v,h),el(x)&&a.getOrCreateImage(x,h).then(function(w){var C=w.img,E=C.width,M=C.height;h.attributes.keepAspectRatio&&o(h,E,M),h.renderable.dirty=!0,r.dirtify()}).catch(function(){}))};r.hooks.init.tap(e.tag,function(){s.addEventListener(ia.MOUNTED,l),s.addEventListener(ia.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(e.tag,function(){s.removeEventListener(ia.MOUNTED,l),s.removeEventListener(ia.ATTR_MODIFIED,c)})}}])}();Ase.tag="LoadImage";var GWe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="image-loader",n}return qr(t,e),On(t,[{key:"init",value:function(r){this.context.imagePool=new l8(this.context,r),this.addRenderingPlugin(new Ase)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(k1);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.2.19
 * @date 2/27/2025, 8:28:07 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var ac=VWe("renderState"),Ise=function(){function e(t){En(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,ac,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=es(),this.dprMatrix=es(),this.tmpMat4=es(),this.vec3a=Ca(),this.vec3b=Ca(),this.vec3c=Ca(),this.vec3d=Ca(),this.canvasRendererPluginOptions=t}return On(e,[{key:"apply",value:function(n,r){var i=this;this.context=n;var a=this.context,s=a.config,o=a.camera,l=a.renderingService,c=a.renderingContext,u=a.rBushRoot,d=a.pathGeneratorFactory,h=s.renderer.getConfig().enableRenderingOptimization;s.renderer.getConfig().enableDirtyCheck=!1,s.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=d;var g=n.contextService,v=c.root.ownerDocument.defaultView,x=function(M){var R=M.target,L=R.rBushNode;L.aabb&&i.removedRBushNodeAABBs.push(L.aabb)},w=function(M){var R=M.target,L=R.rBushNode;L.aabb&&i.removedRBushNodeAABBs.push(L.aabb)};l.hooks.init.tap(e.tag,function(){v.addEventListener(ia.UNMOUNTED,x),v.addEventListener(ia.CULLED,w);var E=g.getDPR(),M=s.width,R=s.height,L=g.getContext();i.clearRect(L,0,0,M*E,R*E,s.background)}),l.hooks.destroy.tap(e.tag,function(){v.removeEventListener(ia.UNMOUNTED,x),v.removeEventListener(ia.CULLED,w),i.renderQueue=[],i.removedRBushNodeAABBs=[],Ov(i,ac)[ac]={restoreStack:[],prevObject:null,currentContext:null}}),l.hooks.beginFrame.tap(e.tag,function(){var E,M=g.getContext(),R=g.getDPR(),L=s.width,N=s.height,D=i.canvasRendererPluginOptions,H=D.dirtyObjectNumThreshold,U=D.dirtyObjectRatioThreshold,q=l.getStats(),K=q.total,Q=q.rendered,X=Q/K;i.clearFullScreen=i.clearFullScreenLastFrame||!((E=v.context.renderingPlugins[1])!==null&&E!==void 0&&E.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||Q>H&&X>U,M&&(typeof M.resetTransform=="function"?M.resetTransform():M.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(M,0,0,L*R,N*R,s.background))});var C=function(M,R){for(var L=[M];L.length>0;){var N=L.pop();N.isVisible()&&!N.isCulled()&&(h?i.renderDisplayObjectOptimized(N,R,i.context,Ov(i,ac)[ac],r):i.renderDisplayObject(N,R,i.context,Ov(i,ac)[ac],r));for(var D=N.sortable.sorted||N.childNodes,H=D.length-1;H>=0;H--)L.push(D[H])}};l.hooks.endFrame.tap(e.tag,function(){if(c.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}h=s.renderer.getConfig().enableRenderingOptimization,Ov(i,ac)[ac]={restoreStack:[],prevObject:null,currentContext:Ov(i,ac)[ac].currentContext},Ov(i,ac)[ac].currentContext.clear(),i.clearFullScreenLastFrame=!1;var E=g.getContext(),M=g.getDPR();if(Jb(i.dprMatrix,[M,M,1]),Nf(i.vpMatrix,i.dprMatrix,o.getOrthoMatrix()),i.clearFullScreen)h?(E.save(),C(c.root,E),E.restore()):C(c.root,E),i.removedRBushNodeAABBs=[];else{var R=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(_n(i.removedRBushNodeAABBs.map(function(Re){var je=Re.minX,Fe=Re.minY,ze=Re.maxX,Ze=Re.maxY,st=new lc;return st.setMinMax([je,Fe,0],[ze,Ze,0]),st}))));if(i.removedRBushNodeAABBs=[],lc.isEmpty(R)){i.renderQueue=[];return}var L=i.convertAABB2Rect(R),N=L.x,D=L.y,H=L.width,U=L.height,q=Pl(i.vec3a,[N,D,0],i.vpMatrix),K=Pl(i.vec3b,[N+H,D,0],i.vpMatrix),Q=Pl(i.vec3c,[N,D+U,0],i.vpMatrix),X=Pl(i.vec3d,[N+H,D+U,0],i.vpMatrix),te=Math.min(q[0],K[0],X[0],Q[0]),ee=Math.min(q[1],K[1],X[1],Q[1]),Z=Math.max(q[0],K[0],X[0],Q[0]),re=Math.max(q[1],K[1],X[1],Q[1]),oe=Math.floor(te),ce=Math.floor(ee),le=Math.ceil(Z-te),pe=Math.ceil(re-ee);E.save(),i.clearRect(E,oe,ce,le,pe,s.background),E.beginPath(),E.rect(oe,ce,le,pe),E.clip(),E.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var ye=s.renderer.getConfig(),_e=ye.enableDirtyRectangleRenderingDebug;_e&&v.dispatchEvent(new hs(rg.DIRTY_RECTANGLE,{dirtyRect:{x:oe,y:ce,width:le,height:pe}}));var Se=i.searchDirtyObjects(R);Se.sort(function(Re,je){return Re.sortable.renderOrder-je.sortable.renderOrder}).forEach(function(Re){Re&&Re.isVisible()&&!Re.isCulled()&&i.renderDisplayObject(Re,E,i.context,Ov(i,ac)[ac],r)}),E.restore(),i.renderQueue.forEach(function(Re){i.saveDirtyAABB(Re)}),i.renderQueue=[]}Ov(i,ac)[ac].restoreStack.forEach(function(){E.restore()}),Ov(i,ac)[ac].restoreStack=[]}),l.hooks.render.tap(e.tag,function(E){i.clearFullScreen||i.renderQueue.push(E)})}},{key:"clearRect",value:function(n,r,i,a,s,o){n.clearRect(r,i,a,s),o&&(n.fillStyle=o,n.fillRect(r,i,a,s))}},{key:"renderDisplayObjectOptimized",value:function(n,r,i,a,s){var o=n.nodeName,l=!1,c=!1,u=this.context.styleRendererFactory[o],d=this.pathGeneratorFactory[o],h=n.parsedStyle.clipPath;if(h){l=!a.prevObject||!GD(h.getWorldTransform(),a.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(r,h),a.prevObject=null);var g=this.pathGeneratorFactory[h.nodeName];g&&(r.save(),c=!0,r.beginPath(),g(r,h.parsedStyle),r.closePath(),r.clip())}if(u){l=!a.prevObject||!GD(n.getWorldTransform(),a.prevObject.getWorldTransform()),l&&this.applyWorldTransform(r,n);var v=!a.prevObject;if(!v){var x=a.prevObject.nodeName;o===mn.TEXT?v=x!==mn.TEXT:o===mn.IMAGE?v=x!==mn.IMAGE:v=x===mn.TEXT||x===mn.IMAGE}u.applyStyleToContext(r,n,v,a),a.prevObject=n}d&&(r.beginPath(),d(r,n.parsedStyle),o!==mn.LINE&&o!==mn.PATH&&o!==mn.POLYLINE&&r.closePath()),u&&u.drawToContext(r,n,Ov(this,ac)[ac],this,s),c&&r.restore(),n.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(n,r,i,a,s){var o=n.nodeName,l=a.restoreStack[a.restoreStack.length-1];l&&!(n.compareDocumentPosition(l)&gl.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var c=this.context.styleRendererFactory[o],u=this.pathGeneratorFactory[o],d=n.parsedStyle.clipPath;if(d){this.applyWorldTransform(r,d);var h=this.pathGeneratorFactory[d.nodeName];h&&(r.save(),a.restoreStack.push(n),r.beginPath(),h(r,d.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),u&&(r.beginPath(),u(r,n.parsedStyle),o!==mn.LINE&&o!==mn.PATH&&o!==mn.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,i,this,s),r.restore()),n.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(n,r){var i=r.parsedStyle,a=i.stroke,s=i.fill,o=i.opacity,l=i.lineDash,c=i.lineDashOffset;l&&n.setLineDash(l),ri(c)||(n.lineDashOffset=c),ri(o)||(n.globalAlpha*=o),!ri(a)&&!Array.isArray(a)&&!a.isNone&&(n.strokeStyle=r.attributes.stroke),!ri(s)&&!Array.isArray(s)&&!s.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),i=n.getMax(),a=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.ceil(i[0]),l=Math.ceil(i[1]),c=o-a,u=l-s;return{x:a,y:s,width:c,height:u}}},{key:"mergeDirtyAABBs",value:function(n){var r=new lc;return n.forEach(function(i){var a=i.getRenderBounds();r.add(a);var s=i.renderable.dirtyRenderBounds;s&&r.add(s)}),r}},{key:"searchDirtyObjects",value:function(n){var r=n.getMin(),i=mt(r,2),a=i[0],s=i[1],o=n.getMax(),l=mt(o,2),c=l[0],u=l[1],d=this.rBush.search({minX:a,minY:s,maxX:c,maxY:u});return d.map(function(h){var g=h.displayObject;return g})}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new lc);var i=n.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,i){i?(KS(this.tmpMat4,r.getLocalTransform()),Nf(this.tmpMat4,i,this.tmpMat4),Nf(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(KS(this.tmpMat4,r.getWorldTransform()),Nf(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new lc,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(s){n.add(s)}),n}}])}();Ise.tag="CanvasRenderer";function GI(e,t,n,r,i,a,s){var o,l;if(e.image.nodeName==="rect"){var c=e.image.parsedStyle,u=c.width,d=c.height;l=r.contextService.getDPR();var h=r.config.offscreenCanvas;o=a.offscreenCanvasCreator.getOrCreateCanvas(h),o.width=u*l,o.height=d*l;var g=a.offscreenCanvasCreator.getOrCreateContext(h),v={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(w){i.renderDisplayObject(w,g,r,v,a)}),v.restoreStack.forEach(function(){g.restore()})}var x=s.getOrCreatePatternSync(t,e,n,o,l,t.getGeometryBounds().min,function(){t.renderable.dirty=!0,r.renderingService.dirtify()});return x}function WI(e,t,n,r){var i;if(e.type===s1.LinearGradient||e.type===s1.RadialGradient){var a=t.getGeometryBounds(),s=a&&a.halfExtents[0]*2||1,o=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=r.getOrCreateGradient(Pe(Pe({type:e.type},e.value),{},{min:l,width:s,height:o}),n)}return i}var MM=["shadowBlur","shadowOffsetX","shadowOffsetY"],tW=["lineCap","lineJoin","miterLimit"],Mc={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},nW={};function Ol(e,t,n,r){var i=r.has(t)?r.get(t):Mc[t];return i!==n&&(t==="lineDash"?e.setLineDash(n):e[t]=n,r.set(t,n)),i}var WWe=function(){function e(t){En(this,e),this.imagePool=t}return On(e,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,i,a,s,o){}},{key:"applyCommonStyleToContext",value:function(n,r,i,a){var s=i?nW:a.prevObject.parsedStyle,o=r.parsedStyle;(i||o.opacity!==s.opacity)&&Ol(n,"globalAlpha",ri(o.opacity)?Mc.globalAlpha:o.opacity,a.currentContext),(i||o.blend!==s.blend)&&Ol(n,"globalCompositeOperation",ri(o.blend)?Mc.globalCompositeOperation:o.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,i,a){var s=i?nW:a.prevObject.parsedStyle,o=r.parsedStyle,l=o.lineWidth,c=l===void 0?Mc.lineWidth:l,u=o.fill&&!o.fill.isNone,d=o.stroke&&!o.stroke.isNone&&c>0;if(d){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var h=!ri(o.stroke)&&!Array.isArray(o.stroke)&&!o.stroke.isNone?r.attributes.stroke:Mc.strokeStyle;Ol(n,"strokeStyle",h,a.currentContext)}(i||o.lineWidth!==s.lineWidth)&&Ol(n,"lineWidth",ri(o.lineWidth)?Mc.lineWidth:o.lineWidth,a.currentContext),(i||o.lineDash!==s.lineDash)&&Ol(n,"lineDash",o.lineDash||Mc.lineDash,a.currentContext),(i||o.lineDashOffset!==s.lineDashOffset)&&Ol(n,"lineDashOffset",ri(o.lineDashOffset)?Mc.lineDashOffset:o.lineDashOffset,a.currentContext);for(var g=0;g<tW.length;g++){var v=tW[g];(i||o[v]!==s[v])&&Ol(n,v,ri(o[v])?Mc[v]:o[v],a.currentContext)}}if(u&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var x=!ri(o.fill)&&!Array.isArray(o.fill)&&!o.fill.isNone?r.attributes.fill:Mc.fillStyle;Ol(n,"fillStyle",x,a.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,i,a){var s=r.nodeName;this.applyCommonStyleToContext(n,r,i,a),s===mn.IMAGE||this.applyStrokeFillStyleToContext(n,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,i,a){var s=r.parsedStyle;if(i){Ol(n,"shadowColor",s.shadowColor.toString(),a.currentContext);for(var o=0;o<MM.length;o++){var l=MM[o];Ol(n,l,s[l]||Mc[l],a.currentContext)}}s.filter&&s.filter.length&&Ol(n,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Ol(n,"shadowColor",Mc.shadowColor,a.currentContext);for(var o=0;o<MM.length;o++){var l=MM[o];Ol(n,l,Mc[l],a.currentContext)}}if(i)if(r&&s){var c=n.filter;!ri(c)&&c.indexOf("drop-shadow")>-1&&Ol(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||Mc.filter,a.currentContext)}else Ol(n,"filter",Mc.filter,a.currentContext)}},{key:"fillToContext",value:function(n,r,i,a,s){var o=this,l=r.parsedStyle,c=l.fill,u=l.fillRule,d=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(g){var v=Ol(n,"fillStyle",WI(g,r,n,o.imagePool),i.currentContext);d=d??v,u?n.fill(u):n.fill()});else{if(_x(c)){var h=GI(c,r,n,r.ownerDocument.defaultView.context,a,s,this.imagePool);h&&(n.fillStyle=h,d=!0)}u?n.fill(u):n.fill()}d!==null&&Ol(n,"fillStyle",d,i.currentContext)}},{key:"strokeToContext",value:function(n,r,i,a,s){var o=this,l=r.parsedStyle.stroke,c=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(h){var g=Ol(n,"strokeStyle",WI(h,r,n,o.imagePool),i.currentContext);c=c??g,n.stroke()});else{if(_x(l)){var u=GI(l,r,n,r.ownerDocument.defaultView.context,a,s,this.imagePool);if(u){var d=Ol(n,"strokeStyle",u,i.currentContext);c=c??d}}n.stroke()}c!==null&&Ol(n,"strokeStyle",c,i.currentContext)}},{key:"drawToContext",value:function(n,r,i,a,s){var o,l=r.nodeName,c=r.parsedStyle,u=c.opacity,d=u===void 0?Mc.globalAlpha:u,h=c.fillOpacity,g=h===void 0?Mc.fillOpacity:h,v=c.strokeOpacity,x=v===void 0?Mc.strokeOpacity:v,w=c.lineWidth,C=w===void 0?Mc.lineWidth:w,E=c.fill&&!c.fill.isNone,M=c.stroke&&!c.stroke.isNone&&C>0;if(!(!E&&!M)){var R=!ri(c.shadowColor)&&c.shadowBlur>0,L=c.shadowType==="inner",N=((o=c.fill)===null||o===void 0?void 0:o.alpha)===0,D=!!(c.filter&&c.filter.length),H=R&&M&&(l===mn.PATH||l===mn.LINE||l===mn.POLYLINE||N||L),U=null;if(E){H||this.applyShadowAndFilterStyleToContext(n,r,R,i);var q=d*g;U=Ol(n,"globalAlpha",q,i.currentContext),this.fillToContext(n,r,i,a,s),H||this.clearShadowAndFilterStyleForContext(n,R,D,i)}if(M){var K=!1,Q=d*x,X=Ol(n,"globalAlpha",Q,i.currentContext);if(U=E?U:X,H&&(this.applyShadowAndFilterStyleToContext(n,r,R,i),K=!0,L)){var te=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,i,a,s),n.globalCompositeOperation=te,this.clearShadowAndFilterStyleForContext(n,R,D,i,!0)}this.strokeToContext(n,r,i,a,s),K&&this.clearShadowAndFilterStyleForContext(n,R,D,i)}U!==null&&Ol(n,"globalAlpha",U,i.currentContext)}}}])}(),c8=function(e){function t(){return En(this,t),ea(this,t,arguments)}return qr(t,e),On(t,[{key:"render",value:function(r,i,a,s,o,l){var c=i.fill,u=i.fillRule,d=i.opacity,h=d===void 0?1:d,g=i.fillOpacity,v=g===void 0?1:g,x=i.stroke,w=i.strokeOpacity,C=w===void 0?1:w,E=i.lineWidth,M=E===void 0?1:E,R=i.lineCap,L=i.lineJoin,N=i.shadowType,D=i.shadowColor,H=i.shadowBlur,U=i.filter,q=i.miterLimit,K=c&&!c.isNone,Q=x&&!x.isNone&&M>0,X=c?.alpha===0,te=!!(U&&U.length),ee=!ri(D)&&H>0,Z=a.nodeName,re=N==="inner",oe=Q&&ee&&(Z===mn.PATH||Z===mn.LINE||Z===mn.POLYLINE||X||re);K&&(r.globalAlpha=h*v,oe||qI(a,r,ee),Pse(r,a,c,u,s,o,l,this.imagePool),oe||this.clearShadowAndFilter(r,te,ee)),Q&&(r.globalAlpha=h*C,r.lineWidth=M,ri(q)||(r.miterLimit=q),ri(R)||(r.lineCap=R),ri(L)||(r.lineJoin=L),oe&&(re&&(r.globalCompositeOperation="source-atop"),qI(a,r,!0),re&&(U5(r,a,x,s,o,l,this.imagePool),r.globalCompositeOperation=Mc.globalCompositeOperation,this.clearShadowAndFilter(r,te,!0))),U5(r,a,x,s,o,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var s=r.filter;!ri(s)&&s.indexOf("drop-shadow")>-1&&(r.filter=s.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(WWe);function qI(e,t,n){var r=e.parsedStyle,i=r.filter,a=r.shadowColor,s=r.shadowBlur,o=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),n&&(t.shadowColor=a.toString(),t.shadowBlur=s||0,t.shadowOffsetX=o||0,t.shadowOffsetY=l||0)}function Pse(e,t,n,r,i,a,s,o){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){e.fillStyle=WI(c,t,e,o),l||(r?e.fill(r):e.fill())}):(_x(n)&&(e.fillStyle=GI(n,t,e,i,a,s,o)),l||(r?e.fill(r):e.fill()))}function U5(e,t,n,r,i,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(l){e.strokeStyle=WI(l,t,e,s),o||e.stroke()}):(_x(n)&&(e.strokeStyle=GI(n,t,e,r,i,a,s)),o||e.stroke())}function qWe(e,t){var n=mt(e,4),r=n[0],i=n[1],a=n[2],s=n[3],o=mt(t,4),l=o[0],c=o[1],u=o[2],d=o[3],h=Math.max(r,l),g=Math.max(i,c),v=Math.min(r+a,l+u),x=Math.min(i+s,c+d);return v<=h||x<=g?null:[h,g,v-h,x-g]}function KWe(e,t){var n=Pl(Ca(),[e[0],e[1],0],t),r=Pl(Ca(),[e[0]+e[2],e[1],0],t),i=Pl(Ca(),[e[0],e[1]+e[3],0],t),a=Pl(Ca(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0])-Math.min(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])-Math.min(n[1],r[1],i[1],a[1])]}var YWe=function(e){function t(){return En(this,t),ea(this,t,arguments)}return qr(t,e),On(t,[{key:"renderDownSampled",value:function(r,i,a,s){var o=s.src,l=s.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(o,a).then(function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(c){console.error(c)});return}r.drawImage(l.downSampled,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,s){var o=s.src,l=s.imageCache,c=s.imageRect,u=s.drawRect,d=l.size,h=r.getTransform(),g=h.a,v=h.b,x=h.c,w=h.d,C=h.e,E=h.f;if(r.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(o,[],function(){a.ownerDocument&&(a.renderable.dirty=!0,a.ownerDocument.defaultView.context.renderingService.dirtify())},a).catch(function(ee){console.error(ee)});return}for(var M=[d[0]/c[2],d[1]/c[3]],R=[l.tileSize[0]/M[0],l.tileSize[1]/M[1]],L=[Math.floor((u[0]-c[0])/R[0]),Math.ceil((u[0]+u[2]-c[0])/R[0])],N=L[0],D=L[1],H=[Math.floor((u[1]-c[1])/R[1]),Math.ceil((u[1]+u[3]-c[1])/R[1])],U=H[0],q=H[1],K=U;K<=q;K++)for(var Q=N;Q<=D;Q++){var X=l.tiles[K][Q];if(X){var te=[Math.floor(c[0]+X.tileX*R[0]),Math.floor(c[1]+X.tileY*R[1]),Math.ceil(R[0]),Math.ceil(R[1])];r.drawImage(X.data,te[0],te[1],te[2],te[3])}}r.setTransform(g,v,x,w,C,E)}},{key:"render",value:function(r,i,a){var s=i.x,o=s===void 0?0:s,l=i.y,c=l===void 0?0:l,u=i.width,d=i.height,h=i.src,g=i.shadowColor,v=i.shadowBlur,x=this.imagePool.getImageSync(h,a),w=x?.img,C=u,E=d;if(w){C||(C=w.width),E||(E=w.height);var M=!ri(g)&&v>0;qI(a,r,M);try{var R=a.ownerDocument.defaultView.getContextService().getDomElement(),L=R.width,N=R.height,D=r.getTransform(),H=D.a,U=D.b,q=D.c,K=D.d,Q=D.e,X=D.f,te=nee(H,q,0,0,U,K,0,0,0,0,1,0,Q,X,0,1),ee=KWe([o,c,C,E],te),Z=qWe([0,0,L,N],ee);if(!Z)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(r,i,a,{image:w,drawRect:[o,c,C,E]});return}var re=ee[2]/x.size[0];if(re<(x.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:h,imageCache:x,drawRect:[o,c,C,E]});return}if(!l8.isSupportTile){t.renderFull(r,i,a,{image:w,drawRect:[o,c,C,E]});return}this.renderTile(r,i,a,{src:h,imageCache:x,imageRect:ee,drawRect:Z})}catch{}}}},{key:"drawToContext",value:function(r,i,a,s,o){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,s){r.drawImage(s.image,Math.floor(s.drawRect[0]),Math.floor(s.drawRect[1]),Math.ceil(s.drawRect[2]),Math.ceil(s.drawRect[3]))}}])}(c8),XWe=function(e){function t(){return En(this,t),ea(this,t,arguments)}return qr(t,e),On(t,[{key:"render",value:function(r,i,a,s,o,l){a.getBounds();var c=i.lineWidth,u=c===void 0?1:c,d=i.textAlign,h=d===void 0?"start":d,g=i.textBaseline,v=g===void 0?"alphabetic":g,x=i.lineJoin,w=x===void 0?"miter":x,C=i.miterLimit,E=C===void 0?10:C,M=i.letterSpacing,R=M===void 0?0:M,L=i.stroke,N=i.fill,D=i.fillRule,H=i.fillOpacity,U=H===void 0?1:H,q=i.strokeOpacity,K=q===void 0?1:q,Q=i.opacity,X=Q===void 0?1:Q,te=i.metrics,ee=i.x,Z=ee===void 0?0:ee,re=i.y,oe=re===void 0?0:re,ce=i.dx,le=i.dy,pe=i.shadowColor,ye=i.shadowBlur,_e=te.font,Se=te.lines,Re=te.height,je=te.lineHeight,Fe=te.lineMetrics;r.font=_e,r.lineWidth=u,r.textAlign=h==="middle"?"center":h;var ze=v;ze==="alphabetic"&&(ze="bottom"),r.lineJoin=w,ri(E)||(r.miterLimit=E);var Ze=oe;v==="middle"?Ze+=-Re/2-je/2:v==="bottom"||v==="alphabetic"||v==="ideographic"?Ze+=-Re:(v==="top"||v==="hanging")&&(Ze+=-je);var st=Z+(ce||0);Ze+=le||0,Se.length===1&&(ze==="bottom"?(ze="middle",Ze-=.5*Re):ze==="top"&&(ze="middle",Ze+=.5*Re)),r.textBaseline=ze;var Ue=!ri(pe)&&ye>0;qI(a,r,Ue);for(var Ne=0;Ne<Se.length;Ne++){var qe=u/2+st;Ze+=je,!ri(L)&&!L.isNone&&u&&this.drawLetterSpacing(r,a,Se[Ne],Fe[Ne],h,qe,Ze,R,N,D,U,L,K,X,!0,s,o,l),ri(N)||this.drawLetterSpacing(r,a,Se[Ne],Fe[Ne],h,qe,Ze,R,N,D,U,L,K,X,!1,s,o,l)}}},{key:"drawLetterSpacing",value:function(r,i,a,s,o,l,c,u,d,h,g,v,x,w,C,E,M,R){if(u===0){C?this.strokeText(r,i,a,l,c,v,x,E,M,R):this.fillText(r,i,a,l,c,d,h,g,w,E,M,R);return}var L=r.textAlign;r.textAlign="left";var N=l;o==="center"||o==="middle"?N=l-s.width/2:(o==="right"||o==="end")&&(N=l-s.width);for(var D=Array.from(a),H=r.measureText(a).width,U=0,q=0;q<D.length;++q){var K=D[q];C?this.strokeText(r,i,K,N,c,v,x,E,M,R):this.fillText(r,i,K,N,c,d,h,g,w,E,M,R),U=r.measureText(a.substring(q+1)).width,N+=H-U+u,H=U}r.textAlign=L}},{key:"fillText",value:function(r,i,a,s,o,l,c,u,d,h,g,v){Pse(r,i,l,c,h,g,v,this.imagePool,!0);var x,w=!ri(u)&&u!==1;w&&(x=r.globalAlpha,r.globalAlpha=u*d),r.fillText(a,s,o),w&&(r.globalAlpha=x)}},{key:"strokeText",value:function(r,i,a,s,o,l,c,u,d,h){U5(r,i,l,u,d,h,this.imagePool,!0);var g,v=!ri(c)&&c!==1;v&&(g=r.globalAlpha,r.globalAlpha=c),r.strokeText(a,s,o),v&&(r.globalAlpha=g)}},{key:"drawToContext",value:function(r,i,a,s,o){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,s,o)}}])}(c8),ZWe=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),n=ea(this,t),n.name="canvas-renderer",n.options=r,n}return qr(t,e),On(t,[{key:"init",value:function(){var r,i=Pe({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,s=new c8(a),o=(r={},Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(r,mn.CIRCLE,s),mn.ELLIPSE,s),mn.RECT,s),mn.IMAGE,new YWe(a)),mn.TEXT,new XWe(a)),mn.LINE,s),mn.POLYLINE,s),mn.POLYGON,s),mn.PATH,s),mn.GROUP,void 0),Te(Te(Te(r,mn.HTML,void 0),mn.MESH,void 0),mn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=o,this.context.styleRendererFactory=o,this.addRenderingPlugin(new Ise(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(k1);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.21
 * @date 1/23/2025, 8:33:09 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Rse=function(){function e(){En(this,e)}return On(e,[{key:"apply",value:function(n,r){var i=this,a=n.renderingService,s=n.renderingContext,o=n.config;this.context=n;var l=s.root.ownerDocument.defaultView,c=function(H){a.hooks.pointerMove.call(H)},u=function(H){a.hooks.pointerUp.call(H)},d=function(H){a.hooks.pointerDown.call(H)},h=function(H){a.hooks.pointerOver.call(H)},g=function(H){a.hooks.pointerOut.call(H)},v=function(H){a.hooks.pointerCancel.call(H)},x=function(H){a.hooks.pointerWheel.call(H)},w=function(H){a.hooks.click.call(H)},C=function(H){r.globalThis.document.addEventListener("pointermove",c,!0),H.addEventListener("pointerdown",d,!0),H.addEventListener("pointerleave",g,!0),H.addEventListener("pointerover",h,!0),r.globalThis.addEventListener("pointerup",u,!0),r.globalThis.addEventListener("pointercancel",v,!0)},E=function(H){H.addEventListener("touchstart",d,!0),H.addEventListener("touchend",u,!0),H.addEventListener("touchmove",c,!0),H.addEventListener("touchcancel",v,!0)},M=function(H){r.globalThis.document.addEventListener("mousemove",c,!0),H.addEventListener("mousedown",d,!0),H.addEventListener("mouseout",g,!0),H.addEventListener("mouseover",h,!0),r.globalThis.addEventListener("mouseup",u,!0)},R=function(H){r.globalThis.document.removeEventListener("pointermove",c,!0),H.removeEventListener("pointerdown",d,!0),H.removeEventListener("pointerleave",g,!0),H.removeEventListener("pointerover",h,!0),r.globalThis.removeEventListener("pointerup",u,!0),r.globalThis.removeEventListener("pointercancel",v,!0)},L=function(H){H.removeEventListener("touchstart",d,!0),H.removeEventListener("touchend",u,!0),H.removeEventListener("touchmove",c,!0),H.removeEventListener("touchcancel",v,!0)},N=function(H){r.globalThis.document.removeEventListener("mousemove",c,!0),H.removeEventListener("mousedown",d,!0),H.removeEventListener("mouseout",g,!0),H.removeEventListener("mouseover",h,!0),r.globalThis.removeEventListener("mouseup",u,!0)};a.hooks.init.tap(e.tag,function(){var D=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(D.style.msContentZooming="none",D.style.msTouchAction="none"):l.supportsPointerEvents&&(D.style.touchAction="none"),l.supportsPointerEvents?C(D):M(D),l.supportsTouchEvents&&E(D),o.useNativeClickEvent&&D.addEventListener("click",w,!0),D.addEventListener("wheel",x,{passive:!0,capture:!0})}),a.hooks.destroy.tap(e.tag,function(){var D=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(D.style.msContentZooming="",D.style.msTouchAction=""):l.supportsPointerEvents&&(D.style.touchAction=""),l.supportsPointerEvents?R(D):N(D),l.supportsTouchEvents&&L(D),o.useNativeClickEvent&&D.removeEventListener("click",w,!0),D.removeEventListener("wheel",x,!0)})}}])}();Rse.tag="DOMInteraction";var QWe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="dom-interaction",n}return qr(t,e),On(t,[{key:"init",value:function(){this.addRenderingPlugin(new Rse)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(k1);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.21
 * @date 1/23/2025, 8:33:20 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var JWe="g-canvas-camera",$se=function(){function e(){En(this,e),this.displayObjectHTMLElementMap=new WeakMap}return On(e,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var i=this,a=n.camera,s=n.renderingContext,o=n.renderingService;this.context=n;var l=s.root.ownerDocument.defaultView,c=l.context.eventService.nativeHTMLMap,u=function(C,E){E.style.transform=i.joinTransformMatrix(C.getWorldTransform(),C.getOrigin())},d=function(C){var E=C.target;if(E.nodeName===mn.HTML){i.$camera||(i.$camera=i.createCamera(a));var M=i.getOrCreateEl(E);i.$camera.appendChild(M),Object.keys(E.attributes).forEach(function(R){i.updateAttribute(R,E)}),u(E,M),c.set(M,E)}},h=function(C){var E=C.target;if(E.nodeName===mn.HTML&&i.$camera){var M=i.getOrCreateEl(E);M&&(M.remove(),c.delete(M))}},g=function(C){var E=C.target;if(E.nodeName===mn.HTML){var M=C.attrName;i.updateAttribute(M,E)}},v=function(C){var E=C.target,M=E.nodeName===mn.FRAGMENT?E.childNodes:[E];M.forEach(function(R){if(R.nodeName===mn.HTML){var L=i.getOrCreateEl(R);u(R,L)}})},x=function(){if(i.$camera){var C=i.context.config,E=C.width,M=C.height;i.$camera.parentElement.style.width="".concat(E||0,"px"),i.$camera.parentElement.style.height="".concat(M||0,"px")}};o.hooks.init.tap(e.tag,function(){l.addEventListener(rg.RESIZE,x),l.addEventListener(ia.MOUNTED,d),l.addEventListener(ia.UNMOUNTED,h),l.addEventListener(ia.ATTR_MODIFIED,g),l.addEventListener(ia.BOUNDS_CHANGED,v)}),o.hooks.endFrame.tap(e.tag,function(){i.$camera&&s.renderReasons.has(_S.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),o.hooks.destroy.tap(e.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(rg.RESIZE,x),l.removeEventListener(ia.MOUNTED,d),l.removeEventListener(ia.UNMOUNTED,h),l.removeEventListener(ia.ATTR_MODIFIED,g),l.removeEventListener(ia.BOUNDS_CHANGED,v)})}},{key:"createCamera",value:function(n){var r=this.context.config,i=r.document,a=r.width,s=r.height,o=this.context.contextService.getDomElement(),l=o.parentNode;if(l){var c=JWe,u=l.querySelector("#".concat(c));if(!u){var d=(i||document).createElement("div");d.style.overflow="hidden",d.style.pointerEvents="none",d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.width="".concat(a||0,"px"),d.style.height="".concat(s||0,"px");var h=(i||document).createElement("div");u=h,h.id=c,h.style.position="absolute",h.style.left="".concat(o.offsetLeft||0,"px"),h.style.top="".concat(o.offsetTop||0,"px"),h.style.transformOrigin="left top",h.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),h.style.pointerEvents="none",h.style.width="100%",h.style.height="100%",d.appendChild(h),l.appendChild(d)}return u}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(n);return i||(i=(r||document).createElement("div"),n.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(n,i),n.id&&(i.id=n.id),n.name&&i.setAttribute("name",n.name),n.className&&(i.className=n.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),i}},{key:"updateAttribute",value:function(n,r){var i=this.getOrCreateEl(r);switch(n){case"innerHTML":var a=r.parsedStyle.innerHTML;el(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var s=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(s[0].buildCSSText(null,null,"")," ").concat(s[1].buildCSSText(null,null,""));break;case"width":var o=r.parsedStyle.width;i.style.width=qs(o)?"".concat(o,"px"):o.toString();break;case"height":var l=r.parsedStyle.height;i.style.height=qs(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;i.style["z-index"]="".concat(c);break;case"visibility":var u=r.parsedStyle.visibility;i.style.visibility=u;break;case"pointerEvents":var d=r.parsedStyle.pointerEvents,h=d===void 0?"auto":d;i.style.pointerEvents=h;break;case"opacity":var g=r.parsedStyle.opacity;i.style.opacity="".concat(g);break;case"fill":var v=r.parsedStyle.fill,x="";MI(v)?v.isNone?x="transparent":x=r.getAttribute("fill"):Array.isArray(v)?x=r.getAttribute("fill"):_x(v),i.style.background=x;break;case"stroke":var w=r.parsedStyle.stroke,C="";MI(w)?w.isNone?C="transparent":C=r.getAttribute("stroke"):Array.isArray(w)?C=r.getAttribute("stroke"):_x(w),i.style["border-color"]=C,i.style["border-style"]="solid";break;case"lineWidth":var E=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(E||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var M=r.style.filter;i.style.filter=M;break;default:!ri(r.style[n])&&r.style[n]!==""&&(i.style[n]=r.style[n])}}}])}();$se.tag="HTMLRendering";var eqe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="html-renderer",n}return qr(t,e),On(t,[{key:"init",value:function(){this.addRenderingPlugin(new $se)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(k1);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.40
 * @date 2/27/2025, 8:29:44 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var tqe=function(){function e(t){En(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return On(e,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,i=n.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=el(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,IBe(this.$canvas,n,r)),this.renderingContext.renderReasons.add(_S.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:function(){var t=Cd(Vo().mark(function r(){var i,a,s,o=arguments;return Vo().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=o.length>0&&o[0]!==void 0?o[0]:{},a=i.type,s=i.encoderOptions,c.abrupt("return",this.context.canvas.toDataURL(a,s));case 3:case"end":return c.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),nqe=function(e){function t(){var n;En(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ea(this,t,[].concat(i)),n.name="canvas-context-register",n}return qr(t,e),On(t,[{key:"init",value:function(){this.context.ContextService=tqe}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(k1),kse=function(e){function t(n){var r;return En(this,t),r=ea(this,t,[n]),r.registerPlugin(new nqe),r.registerPlugin(new GWe),r.registerPlugin(new wWe),r.registerPlugin(new ZWe),r.registerPlugin(new QWe),r.registerPlugin(new FWe),r.registerPlugin(new eqe),r}return qr(t,e),On(t)}(E4e);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.32
 * @date 1/23/2025, 8:33:12 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Lse=function(){function e(t){En(this,e),this.dragndropPluginOptions=t}return On(e,[{key:"apply",value:function(n){var r=this,i=n.renderingService,a=n.renderingContext,s=a.root.ownerDocument,o=s.defaultView,l=function(u){var d=u.target,h=d===s,g=h&&r.dragndropPluginOptions.isDocumentDraggable?s:d.closest&&d.closest("[draggable=true]");if(g){var v=!1,x=u.timeStamp,w=[u.clientX,u.clientY],C=null,E=[u.clientX,u.clientY],M=function(){var L=Cd(Vo().mark(function N(D){var H,U,q,K,Q,X;return Vo().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(v){ee.next=8;break}if(H=D.timeStamp-x,U=ah([D.clientX,D.clientY],w),!(H<=r.dragndropPluginOptions.dragstartTimeThreshold||U<=r.dragndropPluginOptions.dragstartDistanceThreshold)){ee.next=5;break}return ee.abrupt("return");case 5:D.type="dragstart",g.dispatchEvent(D),v=!0;case 8:if(D.type="drag",D.dx=D.clientX-E[0],D.dy=D.clientY-E[1],g.dispatchEvent(D),E=[D.clientX,D.clientY],h){ee.next=21;break}return q=r.dragndropPluginOptions.overlap==="pointer"?[D.canvasX,D.canvasY]:d.getBounds().center,ee.next=17,s.elementsFromPoint(q[0],q[1]);case 17:K=ee.sent,Q=K[K.indexOf(d)+1],X=Q?.closest("[droppable=true]")||(r.dragndropPluginOptions.isDocumentDroppable?s:null),C!==X&&(C&&(D.type="dragleave",D.target=C,C.dispatchEvent(D)),X&&(D.type="dragenter",D.target=X,X.dispatchEvent(D)),C=X,C&&(D.type="dragover",D.target=C,C.dispatchEvent(D)));case 21:case"end":return ee.stop()}},N)}));return function(D){return L.apply(this,arguments)}}();o.addEventListener("pointermove",M);var R=function(N){if(v){N.detail={preventClick:!0};var D=N.clone();C&&(D.type="drop",D.target=C,C.dispatchEvent(D)),D.type="dragend",g.dispatchEvent(D),v=!1}o.removeEventListener("pointermove",M)};d.addEventListener("pointerup",R,{once:!0}),d.addEventListener("pointerupoutside",R,{once:!0})}};i.hooks.init.tap(e.tag,function(){o.addEventListener("pointerdown",l)}),i.hooks.destroy.tap(e.tag,function(){o.removeEventListener("pointerdown",l)})}}])}();Lse.tag="Dragndrop";var Nse=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En(this,t),n=ea(this,t),n.name="dragndrop",n.options=r,n}return qr(t,e),On(t,[{key:"init",value:function(){this.addRenderingPlugin(new Lse(Pe({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])}(k1),rqe="*",u8=function(){function e(){this._events={}}return e.prototype.on=function(t,n,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!r}),this},e.prototype.once=function(t,n){return this.on(t,n,!0)},e.prototype.emit=function(t){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[t]||[],s=this._events[rqe]||[],o=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var d=l[u],h=d.callback,g=d.once;g&&(l.splice(u,1),l.length===0&&delete n._events[t],c--,u--),h.apply(n,r)}};o(a),o(s)},e.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var r=this._events[t]||[],i=r.length,a=0;a<i;a++)r[a].callback===n&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}();const Ho={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},iqe={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class Ic extends Error{constructor(t,n,r){super(t),this.position=n,this.token=r,this.name="ExpressionError"}}var Wi;(function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.NULL=3]="NULL",e[e.IDENTIFIER=4]="IDENTIFIER",e[e.OPERATOR=5]="OPERATOR",e[e.FUNCTION=6]="FUNCTION",e[e.DOT=7]="DOT",e[e.BRACKET_LEFT=8]="BRACKET_LEFT",e[e.BRACKET_RIGHT=9]="BRACKET_RIGHT",e[e.PAREN_LEFT=10]="PAREN_LEFT",e[e.PAREN_RIGHT=11]="PAREN_RIGHT",e[e.COMMA=12]="COMMA",e[e.QUESTION=13]="QUESTION",e[e.COLON=14]="COLON",e[e.DOLLAR=15]="DOLLAR"})(Wi||(Wi={}));const aqe=new Set([32,9,10,13]),oqe=new Set([43,45,42,47,37,33,38,124,61,60,62]),sqe=new Map([["true",Wi.BOOLEAN],["false",Wi.BOOLEAN],["null",Wi.NULL]]),EL=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),lqe=new Map([[46,Wi.DOT],[91,Wi.BRACKET_LEFT],[93,Wi.BRACKET_RIGHT],[40,Wi.PAREN_LEFT],[41,Wi.PAREN_RIGHT],[44,Wi.COMMA],[63,Wi.QUESTION],[58,Wi.COLON],[36,Wi.DOLLAR]]),Dse=new Map;for(const[e,t]of lqe.entries())Dse.set(e,{type:t,value:String.fromCharCode(e)});function jC(e){return e>=48&&e<=57}function G5(e){return e>=97&&e<=122||e>=65&&e<=90||e===95}function rW(e){return G5(e)||jC(e)}function cqe(e){return oqe.has(e)}var Ml;(function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"})(Ml||(Ml={}));const uqe=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),fqe={type:Ml.Literal,value:null},dqe={type:Ml.Literal,value:!0},hqe={type:Ml.Literal,value:!1},pqe=e=>{let t=0;const n=e.length,r=()=>t>=n?null:e[t],i=()=>e[t++],a=d=>{const h=r();return h!==null&&h.type===d},s=d=>d.type===Wi.OPERATOR?uqe.get(d.value)||-1:d.type===Wi.DOT||d.type===Wi.BRACKET_LEFT?9:d.type===Wi.QUESTION?1:-1,o=d=>{let h,g;if(i().type===Wi.DOT){if(!a(Wi.IDENTIFIER)){const x=r();throw new Ic("Expected property name",t,x?x.value:"<end of input>")}const v=i();h={type:Ml.Identifier,name:v.value},g=!1}else{if(h=c(0),!a(Wi.BRACKET_RIGHT)){const v=r();throw new Ic("Expected closing bracket",t,v?v.value:"<end of input>")}i(),g=!0}return{type:Ml.MemberExpression,object:d,property:h,computed:g}},l=()=>{const d=r();if(!d)throw new Ic("Unexpected end of input",t,"<end of input>");if(d.type===Wi.OPERATOR&&(d.value==="!"||d.value==="-")){i();const h=l();return{type:Ml.UnaryExpression,operator:d.value,argument:h,prefix:!0}}switch(d.type){case Wi.NUMBER:return i(),{type:Ml.Literal,value:Number(d.value)};case Wi.STRING:return i(),{type:Ml.Literal,value:d.value};case Wi.BOOLEAN:return i(),d.value==="true"?dqe:hqe;case Wi.NULL:return i(),fqe;case Wi.IDENTIFIER:return i(),{type:Ml.Identifier,name:d.value};case Wi.FUNCTION:return(()=>{const h=i(),g=[];if(!a(Wi.PAREN_LEFT)){const v=r();throw new Ic("Expected opening parenthesis after function name",t,v?v.value:"<end of input>")}for(i();;){if(a(Wi.PAREN_RIGHT)){i();break}if(!r()){const x=r();throw new Ic("Expected closing parenthesis",t,x?x.value:"<end of input>")}if(g.length>0){if(!a(Wi.COMMA)){const x=r();throw new Ic("Expected comma between function arguments",t,x?x.value:"<end of input>")}i()}const v=c(0);g.push(v)}return{type:Ml.CallExpression,callee:{type:Ml.Identifier,name:h.value},arguments:g}})();case Wi.PAREN_LEFT:{i();const h=c(0);if(!a(Wi.PAREN_RIGHT)){const g=r();throw new Ic("Expected closing parenthesis",t,g?g.value:"<end of input>")}return i(),h}default:throw new Ic(`Unexpected token: ${d.type}`,t,d.value)}},c=(d=0)=>{let h=l();for(;t<n;){const g=e[t],v=s(g);if(v<=d)break;if(g.type!==Wi.QUESTION)if(g.type!==Wi.OPERATOR){if(g.type!==Wi.DOT&&g.type!==Wi.BRACKET_LEFT)break;h=o(h)}else{i();const x=c(v);h={type:Ml.BinaryExpression,operator:g.value,left:h,right:x}}else{i();const x=c(0);if(!a(Wi.COLON)){const C=r();throw new Ic("Expected : in conditional expression",t,C?C.value:"<end of input>")}i();const w=c(0);h={type:Ml.ConditionalExpression,test:h,consequent:x,alternate:w}}}return h},u=c();return{type:Ml.Program,body:u}},gqe=(e,t,n)=>{let r=t;n&&(r={...t,context:{...t.context,...n}});const i=a=>{switch(a.type){case Ml.Literal:return(s=>s.value)(a);case Ml.Identifier:return(s=>{if(!(s.name in r.context))throw new Ic(`Undefined variable: ${s.name}`);return r.context[s.name]})(a);case Ml.MemberExpression:return(s=>{const o=i(s.object);if(o==null)throw new Ic("Cannot access property of null or undefined");return o[s.computed?i(s.property):s.property.name]})(a);case Ml.CallExpression:return(s=>{const o=r.functions[s.callee.name];if(!o)throw new Ic(`Undefined function: ${s.callee.name}`);return o(...s.arguments.map(l=>i(l)))})(a);case Ml.BinaryExpression:return(s=>{if(s.operator==="&&"){const c=i(s.left);return c&&i(s.right)}if(s.operator==="||")return i(s.left)||i(s.right);const o=i(s.left),l=i(s.right);switch(s.operator){case"+":return o+l;case"-":return o-l;case"*":return o*l;case"/":return o/l;case"%":return o%l;case"===":return o===l;case"!==":return o!==l;case">":return o>l;case">=":return o>=l;case"<":return o<l;case"<=":return o<=l;default:throw new Ic(`Unknown operator: ${s.operator}`)}})(a);case Ml.UnaryExpression:return(s=>{const o=i(s.argument);if(s.prefix)switch(s.operator){case"!":return!o;case"-":if(typeof o!="number")throw new Ic(`Cannot apply unary - to non-number: ${o}`);return-o;default:throw new Ic(`Unknown operator: ${s.operator}`)}throw new Ic(`Postfix operators are not supported: ${s.operator}`)})(a);case Ml.ConditionalExpression:return(s=>{const o=i(s.test);return i(o?s.consequent:s.alternate)})(a);default:throw new Ic(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(e.body)};function mqe(e){const t=(i=>{const a=i,s=a.length,o=new Array(Math.ceil(s/3));let l=0,c=0;function u(w){const C=c+1;c++;let E="",M=!1;for(;c<s;){const R=a.charCodeAt(c);if(R===w)return M||(E=a.substring(C,c)),c++,{type:Wi.STRING,value:E};R===92?(M||(E=a.substring(C,c),M=!0),c++,E+=a[c]):M&&(E+=a[c]),c++}throw new Ic(`Unterminated string starting with ${String.fromCharCode(w)}`,c,a.substring(Math.max(0,c-10),c))}function d(){const w=c;for(a.charCodeAt(c)===45&&c++;c<s&&jC(a.charCodeAt(c));)c++;if(c<s&&a.charCodeAt(c)===46)for(c++;c<s&&jC(a.charCodeAt(c));)c++;const C=a.slice(w,c);return{type:Wi.NUMBER,value:C}}function h(){c++;const w=c;if(c<s&&G5(a.charCodeAt(c)))for(c++;c<s&&rW(a.charCodeAt(c));)c++;const C=a.slice(w,c);return{type:Wi.FUNCTION,value:C}}function g(){const w=c++;for(;c<s&&rW(a.charCodeAt(c));)c++;const C=a.slice(w,c),E=sqe.get(C);return E?{type:E,value:C}:{type:Wi.IDENTIFIER,value:C}}function v(){if(c+2<s){const C=a.substring(c,c+3);if(EL.has(C))return c+=3,{type:Wi.OPERATOR,value:C}}if(c+1<s){const C=a.substring(c,c+2);if(EL.has(C))return c+=2,{type:Wi.OPERATOR,value:C}}const w=a[c];if(EL.has(w))return c++,{type:Wi.OPERATOR,value:w};throw new Ic(`Unknown operator at position ${c}: ${a.substring(c,c+1)}`,c,a.substring(Math.max(0,c-10),c))}for(;c<s;){const w=a.charCodeAt(c);if(x=w,aqe.has(x)){c++;continue}const C=Dse.get(w);if(C)o[l++]=C,c++;else if(w!==34&&w!==39)if(jC(w)||w===45&&c+1<s&&jC(a.charCodeAt(c+1)))o[l++]=d();else if(w!==64)if(G5(w))o[l++]=g();else{if(!cqe(w))throw new Ic(`Unexpected character: ${a[c]}`,c,a.substring(Math.max(0,c-10),c));o[l++]=v()}else o[l++]=h();else o[l++]=u(w)}var x;return l===o.length?o:o.slice(0,l)})(e),n=pqe(t),r=((i={},a={})=>({context:i,functions:a}))({},iqe);return(i={})=>gqe(n,r,i)}const vqe=["style","encode","labels","children"],yqe=Eae(e=>{const t=mqe(e);return(...n)=>{const r=Array.from({length:n.length},(a,s)=>String.fromCharCode(97+s)),i=Object.fromEntries(n.map((a,s)=>[r[s],a]));return t(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},e=>e,128);function _A(e,t=!0){if(Array.isArray(e))return e.map((n,r)=>_A(e[r],t));if(typeof e=="object"&&e)return R3e(e,(n,r)=>t&&vqe.includes(r)?_A(n,r==="children"):t?n:_A(n,!1));if(typeof e=="string"){const n=e.trim();if(n.startsWith("{")&&n.endsWith("}"))return yqe(n.slice(1,-1))}return e}const bqe=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var _qe={}.toString,R$=function(e,t){return _qe.call(e)==="[object "+t+"]"};const zse=function(e){return R$(e,"Function")},Bse=function(e){return Array.isArray?Array.isArray(e):R$(e,"Array")},xqe=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function wqe(e,t){if(e){var n;if(Bse(e))for(var r=0,i=e.length;r<i&&(n=t(e[r],r),n!==!1);r++);else if(xqe(e)){for(var a in e)if(e.hasOwnProperty(a)&&(n=t(e[a],a),n===!1))break}}}var Sqe=function(e){return typeof e=="object"&&e!==null},iW=function(e){if(!Sqe(e)||!R$(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};const Cqe=function(e){return R$(e,"String")};var Eqe=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return wqe(e,function(n,r){zse(e)&&r==="prototype"||t.push(n)}),t};const Oqe=function(e,t){if(!zse(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return s.set(a,o),o};return n.cache=new Map,n};var Tqe=5;function jse(e,t,n,r){n=n||0,r=r||Tqe;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];a!==null&&iW(a)?(iW(e[i])||(e[i]={}),n<r?jse(e[i],a,n+1,r):e[i]=t[i]):Bse(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var Fse=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)jse(e,t[r]);return e};const f8=function(e){return e};var AM;Oqe(function(e,t){t===void 0&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,a=t.fontStyle,s=t.fontVariant;return AM||(AM=document.createElement("canvas").getContext("2d")),AM.font=[a,s,i,n+"px",r].join(" "),AM.measureText(Cqe(e)?e:"").width},function(e,t){return t===void 0&&(t={}),CLe([e],Eqe(t)).join("")});function Hse(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?t.reduce(function(r,i){return function(a){return i(r(a))}},e):f8}function Vse(e){return e instanceof Float32Array||e instanceof Array}var Use=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Gse=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function Mqe(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=2){var i=[t[r],t[r+1]],a=e(i);n.push.apply(n,Gse([],Use(a),!1))}return n}}function Aqe(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=3){var i=[t[r],t[r+1],t[r+2]],a=e(i);n.push.apply(n,Gse([],Use(a),!1))}return n}}function Wse(e,t,n){for(;e<t;)e+=Math.PI*2;for(;e>n;)e-=Math.PI*2;return e}var Iqe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Pqe=function(e,t,n,r,i){var a=Iqe(e,2),s=a[0],o=a[1],l=j2();return j3e(l,[s,o])},aW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Rqe=function(e,t,n,r,i){var a=new ks({range:[t,t+r]}),s=new ks({range:[n,n+i]});return{transform:function(o){var l=aW(o,2),c=l[0],u=l[1];return[a.map(c),s.map(u)]},untransform:function(o){var l=aW(o,2),c=l[0],u=l[1];return[a.invert(c),s.invert(u)]}}},$qe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},kqe=function(e,t,n,r,i){var a=$qe(e,1),s=a[0];return s(t,n,r,i)},Lqe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Nqe=function(e,t,n,r,i){var a=Lqe(e,1),s=a[0];return s},OL=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Dqe=function(e,t,n,r,i){var a=OL(e,4),s=a[0],o=a[1],l=a[2],c=a[3],u=new ks({range:[l,c]}),d=new ks({range:[s,o]}),h=i/r,g=h>1?1:h,v=h>1?1/h:1;return{transform:function(x){var w=OL(x,2),C=w[0],E=w[1],M=d.map(C),R=u.map(E),L=R*Math.cos(M)*g,N=R*Math.sin(M)*v,D=L*.5+.5,H=N*.5+.5;return[D,H]},untransform:function(x){var w=OL(x,2),C=w[0],E=w[1],M=(C-.5)*2/g,R=(E-.5)*2/v,L=Math.sqrt(Math.pow(M,2)+Math.pow(R,2)),N=Math.atan2(R,M),D=Wse(N,s,o),H=d.invert(D),U=u.invert(L);return[H,U]}}},oW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},zqe=function(e,t,n,r,i){return{transform:function(a){var s=oW(a,2),o=s[0],l=s[1];return[l,o]},untransform:function(a){var s=oW(a,2),o=s[0],l=s[1];return[l,o]}}},Bqe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},$$=function(e,t,n,r,i){var a=Bqe(e,2),s=a[0],o=a[1],l=j2();return H3e(l,[s,o])},d8=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},h8=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},jqe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $$.apply(void 0,h8([[-1,-1]],d8(t),!1))},Fqe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $$.apply(void 0,h8([[-1,1]],d8(t),!1))},Hqe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return $$.apply(void 0,h8([[1,-1]],d8(t),!1))},Vqe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Uqe=function(e,t,n,r,i){var a=Vqe(e,1),s=a[0],o=j2();return F3e(o,s)},TL=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Gqe=function(e,t,n,r,i){var a=TL(e,4),s=a[0],o=a[1],l=a[2],c=a[3],u=(o-0)/(2*Math.PI)+1,d=(c-l)/u,h=d/(Math.PI*2),g=new ks({range:[l,l+d*.99]}),v=new ks({range:[s,o]}),x=i/r,w=x>1?1:x,C=x>1?1/x:1;return{transform:function(E){var M=TL(E,2),R=M[0],L=M[1],N=v.map(R),D=g.map(L),H=Math.cos(N)*(h*N+D)*w,U=Math.sin(N)*(h*N+D)*C,q=H*.5+.5,K=U*.5+.5;return[q,K]},untransform:function(E){var M=TL(E,2),R=M[0],L=M[1],N=(R-.5)*2/w,D=(L-.5)*2/C,H=Math.sqrt(Math.pow(N,2)+Math.pow(D,2)),U=Math.atan2(D,N)+Math.floor(H/d)*Math.PI*2,q=Wse(U,s,o),K=H-h*q,Q=v.invert(q),X=g.invert(K);return[Q,X]}}},Wqe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},qqe=function(e,t,n,r,i){var a=Wqe(e,4),s=a[0],o=a[1],l=a[2],c=a[3],u=new ks({range:[l,c]});return{transform:function(d){for(var h=[],g=d.length,v=new Yee({domain:new Array(g).fill(0).map(function(M,R){return R}),range:[s,o]}),x=0;x<g;x++){var w=d[x],C=v.map(x),E=u.map(w);h.push(C,E)}return h},untransform:function(d){for(var h=[],g=0;g<d.length;g+=2){var v=d[g+1];h.push(u.invert(v))}return h}}},xS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function qse(e){return 1/Math.tan(e)}var Kqe=function(e,t,n,r,i){var a=xS(e,1),s=a[0],o=qse(s);return{transform:function(l){var c=xS(l,2),u=c[0],d=c[1],h=u+d*o;return[h,d]},untransform:function(l){var c=xS(l,2),u=c[0],d=c[1],h=u-d*o;return[h,d]}}},Yqe=function(e,t,n,r,i){var a=xS(e,1),s=a[0],o=qse(s);return{transform:function(l){var c=xS(l,2),u=c[0],d=c[1],h=d+u*o;return[u,h]},untransform:function(l){var c=xS(l,2),u=c[0],d=c[1],h=d-u*o;return[u,h]}}},fg=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a};function lO(e,t,n,r,i){var a=e<t,s=(a?t-r:i-t)||i-r,o=a?-1:1;return o*s*(n+1)/(n+s/((e-t)*o))+t}function cO(e,t,n,r,i){var a=e<t,s=(a?t-r:i-t)||i-r,o=a?-1:1;return s/(s*(n+1)/(e-t)-n*o)+t}function KI(e,t,n){if(!n)return e;var r=new ks({range:[0,1],domain:[0,t]});return r.map(e)}var Xqe=function(e,t,n,r,i){var a=fg(e,3),s=a[0],o=a[1],l=a[2],c=l===void 0?!1:l,u=KI(s,r,c);return{transform:function(d){var h=fg(d,2),g=h[0],v=h[1],x=lO(g,u,o,0,1);return[x,v]},untransform:function(d){var h=fg(d,2),g=h[0],v=h[1],x=cO(g,u,o,0,1);return[x,v]}}},Zqe=function(e,t,n,r,i){var a=fg(e,3),s=a[0],o=a[1],l=a[2],c=l===void 0?!1:l,u=KI(s,i,c);return{transform:function(d){var h=fg(d,2),g=h[0],v=h[1],x=lO(v,u,o,0,1);return[g,x]},untransform:function(d){var h=fg(d,2),g=h[0],v=h[1],x=cO(v,u,o,0,1);return[g,x]}}},Qqe=function(e,t,n,r,i){var a=fg(e,5),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=u===void 0?!1:u,h=KI(s,r,d),g=KI(o,i,d);return{transform:function(v){var x=fg(v,2),w=x[0],C=x[1],E=lO(w,h,l,0,1),M=lO(C,g,c,0,1);return[E,M]},untransform:function(v){var x=fg(v,2),w=x[0],C=x[1],E=cO(w,h,l,0,1),M=cO(C,g,c,0,1);return[E,M]}}},Jqe=function(e,t,n,r,i){var a=fg(e,5),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=u===void 0?!1:u,h=new ks({range:[0,r]}),g=new ks({range:[0,i]}),v=d?s:h.map(s),x=d?o:g.map(o);return{transform:function(w){var C=fg(w,2),E=C[0],M=C[1],R=h.map(E)-v,L=g.map(M)-x,N=Math.sqrt(R*R+L*L);if(N>l)return[E,M];var D=lO(N,0,c,0,l),H=Math.atan2(L,R),U=v+D*Math.cos(H),q=x+D*Math.sin(H);return[h.invert(U),g.invert(q)]},untransform:function(w){var C=fg(w,2),E=C[0],M=C[1],R=h.map(E)-v,L=g.map(M)-x,N=Math.sqrt(R*R+L*L);if(N>l)return[E,M];var D=cO(N,0,c,0,l),H=Math.atan2(L,R),U=v+D*Math.cos(H),q=x+D*Math.sin(H);return[h.invert(U),g.invert(q)]}}},sW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},eKe=function(e,t,n,r,i,a,s){var o=new ks({range:[t,t+i]}),l=new ks({range:[n,n+a]}),c=new ks({range:[r,r+s]});return{transform:function(u){var d=sW(u,3),h=d[0],g=d[1],v=d[2];return[o.map(h),l.map(g),c.map(v)]},untransform:function(u){var d=sW(u,3),h=d[0],g=d[1],v=d[2];return[o.invert(h),l.invert(g),c.invert(v)]}}},tKe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},nKe=function(e,t,n,r,i,a,s){var o=tKe(e,3),l=o[0],c=o[1],u=o[2];return Ey(es(),[l,c,u])},lW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},rKe=function(e,t,n,r,i,a,s){return{transform:function(o){var l=lW(o,3),c=l[0],u=l[1],d=l[2];return[u,c,d]},untransform:function(o){var l=lW(o,3),c=l[0],u=l[1],d=l[2];return[u,c,d]}}},iKe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},aKe=function(e,t,n,r,i,a,s){var o=iKe(e,3),l=o[0],c=o[1],u=o[2];return Jb(es(),[l,c,u])},Iw=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},Pw=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},oKe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sKe=function(){function e(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:Rqe,translate:Pqe,custom:kqe,matrix:Nqe,polar:Dqe,transpose:zqe,scale:$$,"shear.x":Kqe,"shear.y":Yqe,reflect:jqe,"reflect.x":Fqe,"reflect.y":Hqe,rotate:Uqe,helix:Gqe,parallel:qqe,fisheye:Qqe,"fisheye.x":Xqe,"fisheye.y":Zqe,"fisheye.circular":Jqe},this.update(t)}return e.prototype.update=function(t){this.options=Fse({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height;return[n,r]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,i=t.width,a=t.height;return[(n*2+i)/2,(r*2+a)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Pw(Pw([],Iw(r),!1),[Pw([],Iw(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var i=t?Pw([],Iw(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(D){return D.untransform}:function(D){return D.transform},s=[],o=[],l=function(D,H){return H===void 0&&(H=!0),o.push(H?Mqe(D):D)};try{for(var c=oKe(i),u=c.next();!u.done;u=c.next()){var d=Iw(u.value),h=d[0],g=d.slice(1),v=this.transformers[h];if(v){var x=this.options,w=x.x,C=x.y,E=x.width,M=x.height,R=v(Pw([],Iw(g),!1),w,C,E,M);if(Vse(R))s.push(R);else{if(s.length){var L=this.createMatrixTransform(s,t);l(L),s.splice(0,s.length)}var N=a(R)||f8;l(N,h!=="parallel")}}}}catch(D){n={error:D}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(s.length){var N=this.createMatrixTransform(s,t);l(N)}return Hse.apply(void 0,Pw([],Iw(o),!1))},e.prototype.createMatrixTransform=function(t,n){var r=j2();return n&&t.reverse(),t.forEach(function(i){return V3e(r,r,i)}),n&&z3e(r,N3e(r)),function(i){var a=[i[0],i[1],1];return yee(a,a,r),[a[0],a[1]]}},e}(),Rw=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},$w=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},lKe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cKe=function(){function e(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:eKe,translate3D:nKe,scale3D:aKe,transpose3D:rKe},this.update(t)}return e.prototype.update=function(t){this.options=Fse({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height,i=t.depth;return[n,r,i]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,i=t.z,a=t.width,s=t.height,o=t.depth;return[(n*2+a)/2,(r*2+s)/2,(i*2+o)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:$w($w([],Rw(r),!1),[$w([],Rw(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var i=t?$w([],Rw(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(U){return U.untransform}:function(U){return U.transform},s=[],o=[],l=function(U,q){return q===void 0&&(q=!0),o.push(q?Aqe(U):U)};try{for(var c=lKe(i),u=c.next();!u.done;u=c.next()){var d=Rw(u.value),h=d[0],g=d.slice(1),v=this.transformers[h];if(v){var x=this.options,w=x.x,C=x.y,E=x.z,M=x.width,R=x.height,L=x.depth,N=v($w([],Rw(g),!1),w,C,E,M,R,L);if(Vse(N))s.push(N);else{if(s.length){var D=this.createMatrixTransform(s,t);l(D),s.splice(0,s.length)}var H=a(N)||f8;l(H,!0)}}}}catch(U){n={error:U}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(s.length){var H=this.createMatrixTransform(s,t);l(H)}return Hse.apply(void 0,$w([],Rw(o),!1))},e.prototype.createMatrixTransform=function(t,n){var r=es();return n&&t.reverse(),t.forEach(function(i){return kB(r,r,i)}),n&&Sm(r,RB(r)),function(i){var a=[i[0],i[1],i[2],1];return Hv(a,a,r),[a[0],a[1],a[2]]}},e}(),uKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function fT(e){return(t,...n)=>Pn({},e(t,...n),t)}function Ux(e){return(t,...n)=>Pn({},t,e(t,...n))}function fKe(e){return e instanceof Date?!1:typeof e=="object"}function p8(e,t){if(!e)return t;if(Array.isArray(e))return e;if(fKe(e)){const{value:n=t}=e,r=uKe(e,["value"]);return Object.assign(Object.assign({},r),{value:n})}return e}var dKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Kse=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{x:n=0,y:r=0,width:i,height:a,data:s}=e;return t.map(o=>{var{data:l,x:c,y:u,width:d,height:h}=o,g=dKe(o,["data","x","y","width","height"]);return Object.assign(Object.assign({},g),{data:p8(l,s),x:c??n,y:u??r,width:d??i,height:h??a})})};Kse.props={};var hKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yse=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{direction:n="row",ratio:r=t.map(()=>1),padding:i=0,data:a}=e,[s,o,l,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((x,w)=>x+w),d=e[o]-i*(t.length-1),h=r.map(x=>d*(x/u)),g=[];let v=e[s]||0;for(let x=0;x<h.length;x+=1){const w=t[x],{data:C}=w,E=hKe(w,["data"]),M=p8(C,a);g.push(Object.assign({[s]:v,[o]:h[x],[c]:e[c]||0,[l]:e[l],data:M},E)),v+=h[x]+i}return g};Yse.props={};var ML=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Xse=()=>e=>{const{children:t}=e,n=ML(e,["children"]);if(!Array.isArray(t))return[];const{data:r,scale:i={},axis:a={},legend:s={},encode:o={},transform:l=[]}=n,c=ML(n,["data","scale","axis","legend","encode","transform"]),u=t.map(d=>{var{data:h,scale:g={},axis:v={},legend:x={},encode:w={},transform:C=[]}=d,E=ML(d,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:p8(h,r),scale:Pn({},i,g),encode:Pn({},o,w),transform:[...l,...C],axis:v&&a?Pn({},a,v):!1,legend:x&&s?Pn({},s,x):!1},E)});return[Object.assign(Object.assign({},c),{marks:u,type:"standardView"})]};Xse.props={};var pKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zse=({static:e=!1}={})=>t=>{const{width:n,height:r,depth:i,paddingLeft:a,paddingRight:s,paddingTop:o,paddingBottom:l,padding:c,inset:u,insetLeft:d,insetTop:h,insetRight:g,insetBottom:v,margin:x,marginLeft:w,marginBottom:C,marginTop:E,marginRight:M,data:R,coordinate:L,theme:N,component:D,interaction:H,x:U,y:q,z:K,key:Q,frame:X,labelTransform:te,parentKey:ee,clip:Z,viewStyle:re,title:oe}=t,ce=pKe(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:U,y:q,z:K,key:Q,width:n,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:s,paddingTop:o,inset:u,insetLeft:d,insetTop:h,insetRight:g,insetBottom:v,paddingBottom:l,theme:N,coordinate:L,component:D,interaction:H,frame:X,labelTransform:te,margin:x,marginLeft:w,marginBottom:C,marginTop:E,marginRight:M,parentKey:ee,clip:Z,style:re},!e&&{title:oe}),{marks:[Object.assign(Object.assign(Object.assign({},ce),{key:`${Q}-0`,data:R}),e&&{title:oe})]})]};Zse.props={};class dT{constructor(t){this.$value=t}static of(t){return new dT(t)}call(t,...n){return this.$value=t(this.$value,...n),this}value(){return this.$value}}var gKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mKe=fT(e=>{const{encode:t,data:n,scale:r,shareSize:i=!1}=e,{x:a,y:s}=t,o=(l,c)=>{var u;if(l===void 0||!i)return{};const d=Rs(n,v=>v[l]),h=((u=r?.[c])===null||u===void 0?void 0:u.domain)||Array.from(d.keys()),g=h.map(v=>d.has(v)?d.get(v).length:1);return{domain:h,flex:g}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),o(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:s===void 0?null:{position:"right"}},s===void 0&&{paddingInner:0}),o(s,"y"))}}}),g8=Ux(e=>{const{data:t,scale:n,legend:r}=e,i=[e];let a,s,o;for(;i.length;){const h=i.shift(),{children:g,encode:v={},scale:x={},legend:w={}}=h,{color:C}=v,{color:E}=x,{color:M}=w;C!==void 0&&(a=C),E!==void 0&&(s=E),M!==void 0&&(o=M),Array.isArray(g)&&i.push(...g)}const l=()=>{var h;const g=(h=n?.color)===null||h===void 0?void 0:h.domain;if(g!==void 0)return[g];if(a===void 0)return[void 0];const v=typeof a=="function"?a:w=>w[a],x=t.map(v);return x.some(w=>typeof w=="number")?[zy(x)]:[Array.from(new Set(x)),"ordinal"]},c=typeof a=="string"?a:"",[u,d]=l();return Object.assign({encode:{color:{type:"column",value:u??[]}},scale:{color:Pn({},s,{domain:u,type:d})}},r===void 0&&{legend:{color:Pn({title:c},o)}})}),m8=fT(()=>({animate:{enterType:"fadeIn"}})),v8=Ux(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),y8=Ux(()=>({type:"cell"})),Qse=Ux(e=>{const{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=e,{x:a,y:s}=i,o=a?Array.from(new Set(r.map(u=>u[a]))):[],l=s?Array.from(new Set(r.map(u=>u[s]))):[];return(()=>{if(o.length&&l.length){const u=[];for(const d of o)for(const h of l)u.push({[a]:d,[s]:h});return u}if(o.length)return o.map(u=>({[a]:u}));if(l.length)return l.map(u=>({[s]:u}))})()}}]}}}),Jse=Ux((e,t=vKe,n=yKe,r=bKe,i={})=>{const{data:a,encode:s,children:o,scale:l,x:c=0,y:u=0,shareData:d=!1,key:h}=e,{value:g}=a,{x:v,y:x}=s,{color:w}=l,{domain:C}=w;return{children:(M,R,L)=>{const{x:N,y:D}=R,{paddingLeft:H,paddingTop:U,marginLeft:q,marginTop:K}=L,{domain:Q}=N.getOptions(),{domain:X}=D.getOptions(),te=Lx(M),ee=M.map(t),Z=M.map(({x:ye,y:_e})=>[N.invert(ye),D.invert(_e)]),oe=Z.map(([ye,_e])=>Se=>{const{[v]:Re,[x]:je}=Se;return(v!==void 0?Re===ye:!0)&&(x!==void 0?je===_e:!0)}).map(ye=>g.filter(ye)),ce=d?Uo(oe,ye=>ye.length):void 0,le=Z.map(([ye,_e])=>({columnField:v,columnIndex:Q.indexOf(ye),columnValue:ye,columnValuesLength:Q.length,rowField:x,rowIndex:X.indexOf(_e),rowValue:_e,rowValuesLength:X.length})),pe=le.map(ye=>Array.isArray(o)?o:[o(ye)].flat(1));return te.flatMap(ye=>{const[_e,Se,Re,je]=ee[ye],Fe=le[ye],ze=oe[ye];return pe[ye].map(st=>{var Ue,Ne,{scale:qe,key:We,facet:rt=!0,axis:ht={},legend:ft={}}=st,Rt=gKe(st,["scale","key","facet","axis","legend"]);const Yt=((Ue=qe?.y)===null||Ue===void 0?void 0:Ue.guide)||ht.y,Jt=((Ne=qe?.x)===null||Ne===void 0?void 0:Ne.guide)||ht.x,xt={x:{tickCount:v?5:void 0},y:{tickCount:x?5:void 0}},Ft=rt?ze:ze.length===0?[]:g,Lt={color:{domain:C}},Kt={x:cW(Jt,n)(Fe,Ft),y:cW(Yt,r)(Fe,Ft)};return Object.assign(Object.assign({key:`${We}-${ye}`,data:Ft,margin:0,x:_e+H+c+q,y:Se+U+u+K,parentKey:h,width:Re,height:je,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Ft.length,dataDomain:ce,scale:Pn(xt,qe,Lt),axis:Pn({},ht,Kt),legend:!1},Rt),i)})})}}});function vKe(e){const{points:t}=e;return JB(t)}function k$(e,t){return t.length?Pn({title:!1,tick:null,label:null},e):Pn({title:!1,tick:null,label:null,grid:null},e)}function yKe(e){return(t,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:s}=t;if(r!==i-1)return k$(e,n);const o=a!==s-1?!1:void 0,l=n.length?void 0:null;return Pn({title:o,grid:l},e)}}function bKe(e){return(t,n)=>{const{rowIndex:r,columnIndex:i}=t;if(i!==0)return k$(e,n);const a=r!==0?!1:void 0,s=n.length?void 0:null;return Pn({title:a,grid:s},e)}}function cW(e,t){return typeof e=="function"?e:e===null||e===!1?()=>null:t(e)}const ele=()=>e=>[dT.of(e).call(y8).call(g8).call(m8).call(mKe).call(v8).call(Qse).call(Jse).value()];ele.props={};var W5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _Ke=fT(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),xKe=Ux(e=>{const{data:t,children:n,x:r=0,y:i=0,key:a}=e;return{children:(o,l,c)=>{const{x:u,y:d}=l,{paddingLeft:h,paddingTop:g,marginLeft:v,marginTop:x}=c,{domain:w}=u.getOptions(),{domain:C}=d.getOptions(),E=Lx(o),M=o.map(({points:D})=>JB(D)),R=o.map(({x:D,y:H})=>[u.invert(D),d.invert(H)]),L=R.map(([D,H])=>({columnField:D,columnIndex:w.indexOf(D),columnValue:D,columnValuesLength:w.length,rowField:H,rowIndex:C.indexOf(H),rowValue:H,rowValuesLength:C.length})),N=L.map(D=>Array.isArray(n)?n:[n(D)].flat(1));return E.flatMap(D=>{const[H,U,q,K]=M[D],[Q,X]=R[D],te=L[D];return N[D].map(Z=>{var re,oe;const{scale:ce,key:le,encode:pe,axis:ye,interaction:_e}=Z,Se=W5(Z,["scale","key","encode","axis","interaction"]),Re=(re=ce?.y)===null||re===void 0?void 0:re.guide,je=(oe=ce?.x)===null||oe===void 0?void 0:oe.guide,Fe={x:{facet:!1},y:{facet:!1}},ze={x:SKe(je)(te,t),y:CKe(Re)(te,t)},Ze={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:t,parentKey:a,key:`${le}-${D}`,x:H+h+r+v,y:U+g+i+x,width:q,height:K,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Pn(Fe,ce),axis:Pn(Ze,ye,ze),legend:!1,encode:Pn({},pe,{x:Q,y:X}),interaction:Pn({},_e,{legendFilter:!1})},Se)})})}}}),wKe=Ux(e=>{const{encode:t}=e,n=W5(e,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=t,s=W5(t,["position","x","y"]),o=[];for(const l of[i].flat(1))for(const c of[a].flat(1))o.push({$x:l,$y:c});return Object.assign(Object.assign({},n),{data:o,encode:Object.assign(Object.assign({},s),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function SKe(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{rowIndex:r,rowValuesLength:i}=t;if(r!==i-1)return k$(e,n)}}function CKe(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{columnIndex:r}=t;if(r!==0)return k$(e,n)}}const EKe=()=>e=>[dT.of(e).call(y8).call(g8).call(xKe).call(wKe).call(m8).call(v8).call(_Ke).value()];var OKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const TKe=fT(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),MKe=fT(e=>({coordinate:{type:"polar"}})),AKe=e=>{const{encode:t}=e,n=OKe(e,["encode"]),{position:r}=t;return Object.assign(Object.assign({},n),{encode:{x:r}})};function uW(e){return t=>null}function IKe(e){const{points:t}=e,[n,r,i,a]=t,s=ml(n,a),o=Rl(n,a),l=Rl(r,i),c=qte(o,l),u=1/Math.sin(c/2),d=s/(1+u),h=d*Math.sqrt(2),[g,v]=i,w=t2(o)+c/2,C=d*u,E=g+C*Math.sin(w),M=v-C*Math.cos(w);return[E-h/2,M-h/2,h,h]}const PKe=()=>e=>[dT.of(e).call(y8).call(AKe).call(g8).call(MKe).call(Qse).call(Jse,IKe,uW,uW,{frame:!1}).call(m8).call(v8).call(TKe).value()];function RKe(e,t,n){const i=n,a=[0,i],s=[-i+1,1];if(e==="normal")return a;if(e==="reverse")return s;if(e==="alternate")return t%2===0?a:s;if(e==="reverse-alternate")return t%2===0?s:a}function $Ke(e,t,n){const r=[e];for(;r.length;){const i=r.pop();i.animate=Pn({enter:{duration:t},update:{duration:t,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return e}const tle=()=>e=>{const{children:t=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=e,s=t.length;if(!Array.isArray(t)||s===0)return[];const{key:o}=t[0],l=t.map(c=>Object.assign(Object.assign({},c),{key:o})).map(c=>$Ke(c,n,a));return function*(){let c=0,u;for(;r==="infinite"||c<r;){const[d,h]=RKe(i,c,s);for(let g=d;g<h;g+=1){const v=Math.abs(g);u!==v&&(yield l[v]),u=v}c++}}};tle.props={};var kKe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const nle=()=>e=>{const{type:t,data:n,scale:r,encode:i,style:a,animate:s,key:o,state:l}=e,c=kKe(e,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},c),{children:[{type:"geoPath",key:`${o}-0`,data:{value:n},scale:r,encode:i,style:a,animate:s,state:l}]})]};nle.props={};var Mi=1e-6,LKe=1e-12,Pa=Math.PI,Ul=Pa/2,fW=Pa/4,pp=Pa*2,Rf=180/Pa,Al=Pa/180,Po=Math.abs,q2=Math.atan,qy=Math.atan2,xa=Math.cos,IM=Math.ceil,rle=Math.exp,YI=Math.log,AL=Math.pow,Ji=Math.sin,sg=Math.sign||function(e){return e>0?1:e<0?-1:0},ph=Math.sqrt,b8=Math.tan;function ile(e){return e>1?0:e<-1?Pa:Math.acos(e)}function bg(e){return e>1?Ul:e<-1?-Ul:Math.asin(e)}function lg(){}function XI(e,t){e&&hW.hasOwnProperty(e.type)&&hW[e.type](e,t)}var dW={Feature:function(e,t){XI(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)XI(n[r].geometry,t)}},hW={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){q5(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)q5(n[r],t,0)},Polygon:function(e,t){pW(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pW(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)XI(n[r],t)}};function q5(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function pW(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)q5(e[n],t,1);t.polygonEnd()}function Hw(e,t){e&&dW.hasOwnProperty(e.type)?dW[e.type](e,t):XI(e,t)}function K5(e){return[qy(e[1],e[0]),bg(e[2])]}function d2(e){var t=e[0],n=e[1],r=xa(n);return[r*xa(t),r*Ji(t),Ji(n)]}function PM(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ZI(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function IL(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function RM(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Y5(e){var t=ph(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function X5(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Z5(e,t){return Po(e)>Pa&&(e-=Math.round(e/pp)*pp),[e,t]}Z5.invert=Z5;function ale(e,t,n){return(e%=pp)?t||n?X5(mW(e),vW(t,n)):mW(e):t||n?vW(t,n):Z5}function gW(e){return function(t,n){return t+=e,Po(t)>Pa&&(t-=Math.round(t/pp)*pp),[t,n]}}function mW(e){var t=gW(e);return t.invert=gW(-e),t}function vW(e,t){var n=xa(e),r=Ji(e),i=xa(t),a=Ji(t);function s(o,l){var c=xa(l),u=xa(o)*c,d=Ji(o)*c,h=Ji(l),g=h*n+u*r;return[qy(d*i-g*a,u*n-h*r),bg(g*i+d*a)]}return s.invert=function(o,l){var c=xa(l),u=xa(o)*c,d=Ji(o)*c,h=Ji(l),g=h*i-d*a;return[qy(d*i+h*a,u*n+g*r),bg(g*n-u*r)]},s}function NKe(e){e=ale(e[0]*Al,e[1]*Al,e.length>2?e[2]*Al:0);function t(n){return n=e(n[0]*Al,n[1]*Al),n[0]*=Rf,n[1]*=Rf,n}return t.invert=function(n){return n=e.invert(n[0]*Al,n[1]*Al),n[0]*=Rf,n[1]*=Rf,n},t}function DKe(e,t,n,r,i,a){if(n){var s=xa(t),o=Ji(t),l=r*n;i==null?(i=t+r*pp,a=t-l/2):(i=yW(s,i),a=yW(s,a),(r>0?i<a:i>a)&&(i+=r*pp));for(var c,u=i;r>0?u>a:u<a;u-=l)c=K5([s,-o*xa(u),-o*Ji(u)]),e.point(c[0],c[1])}}function yW(e,t){t=d2(t),t[0]-=e,Y5(t);var n=ile(-t[1]);return((-t[2]<0?-n:n)+pp-Mi)%pp}function ole(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:lg,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function xA(e,t){return Po(e[0]-t[0])<Mi&&Po(e[1]-t[1])<Mi}function $M(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function sle(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(v){if(!((x=v.length-1)<=0)){var x,w=v[0],C=v[x],E;if(xA(w,C)){if(!w[2]&&!C[2]){for(i.lineStart(),o=0;o<x;++o)i.point((w=v[o])[0],w[1]);i.lineEnd();return}C[0]+=2*Mi}a.push(E=new $M(w,v,null,!0)),s.push(E.o=new $M(w,null,E,!1)),a.push(E=new $M(C,v,null,!1)),s.push(E.o=new $M(C,null,E,!0))}}),!!a.length){for(s.sort(t),bW(a),bW(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,g=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,g=!g}while(!h.v);i.lineEnd()}}}function bW(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function PL(e){return Po(e[0])<=Pa?e[0]:sg(e[0])*((Po(e[0])+Pa)%pp-Pa)}function zKe(e,t){var n=PL(t),r=t[1],i=Ji(r),a=[Ji(n),-xa(n),0],s=0,o=0,l=new gx;i===1?r=Ul+Mi:i===-1&&(r=-Ul-Mi);for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,g=d[h-1],v=PL(g),x=g[1]/2+fW,w=Ji(x),C=xa(x),E=0;E<h;++E,v=R,w=N,C=D,g=M){var M=d[E],R=PL(M),L=M[1]/2+fW,N=Ji(L),D=xa(L),H=R-v,U=H>=0?1:-1,q=U*H,K=q>Pa,Q=w*N;if(l.add(qy(Q*U*Ji(q),C*D+Q*xa(q))),s+=K?H+U*pp:H,K^v>=n^R>=n){var X=ZI(d2(g),d2(M));Y5(X);var te=ZI(a,X);Y5(te);var ee=(K^H>=0?-1:1)*bg(te[2]);(r>ee||r===ee&&(X[0]||X[1]))&&(o+=K^H>=0?1:-1)}}return(s<-1e-6||s<Mi&&l<-1e-12)^o&1}function lle(e,t,n,r){return function(i){var a=t(i),s=ole(),o=t(s),l=!1,c,u,d,h={point:g,lineStart:x,lineEnd:w,polygonStart:function(){h.point=C,h.lineStart=E,h.lineEnd=M,u=[],c=[]},polygonEnd:function(){h.point=g,h.lineStart=x,h.lineEnd=w,u=Ree(u);var R=zKe(c,r);u.length?(l||(i.polygonStart(),l=!0),sle(u,jKe,R,n,i)):R&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(R,L){e(R,L)&&i.point(R,L)}function v(R,L){a.point(R,L)}function x(){h.point=v,a.lineStart()}function w(){h.point=g,a.lineEnd()}function C(R,L){d.push([R,L]),o.point(R,L)}function E(){o.lineStart(),d=[]}function M(){C(d[0][0],d[0][1]),o.lineEnd();var R=o.clean(),L=s.result(),N,D=L.length,H,U,q;if(d.pop(),c.push(d),d=null,!!D){if(R&1){if(U=L[0],(H=U.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),N=0;N<H;++N)i.point((q=U[N])[0],q[1]);i.lineEnd()}return}D>1&&R&2&&L.push(L.pop().concat(L.shift())),u.push(L.filter(BKe))}}return h}}function BKe(e){return e.length>1}function jKe(e,t){return((e=e.x)[0]<0?e[1]-Ul-Mi:Ul-e[1])-((t=t.x)[0]<0?t[1]-Ul-Mi:Ul-t[1])}const _W=lle(function(){return!0},FKe,VKe,[-Pa,-Ul]);function FKe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?Pa:-Pa,l=Po(a-t);Po(l-Pa)<Mi?(e.point(t,n=(n+s)/2>0?Ul:-Ul),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=Pa&&(Po(t-r)<Mi&&(t-=r*Mi),Po(a-o)<Mi&&(a-=o*Mi),n=HKe(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function HKe(e,t,n,r){var i,a,s=Ji(e-n);return Po(s)>Mi?q2((Ji(t)*(a=xa(r))*Ji(n)-Ji(r)*(i=xa(t))*Ji(e))/(i*a*s)):(t+r)/2}function VKe(e,t,n,r){var i;if(e==null)i=n*Ul,r.point(-Pa,i),r.point(0,i),r.point(Pa,i),r.point(Pa,0),r.point(Pa,-i),r.point(0,-i),r.point(-Pa,-i),r.point(-Pa,0),r.point(-Pa,i);else if(Po(e[0]-t[0])>Mi){var a=e[0]<t[0]?Pa:-Pa;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function UKe(e){var t=xa(e),n=2*Al,r=t>0,i=Po(t)>Mi;function a(u,d,h,g){DKe(g,e,n,h,u,d)}function s(u,d){return xa(u)*xa(d)>t}function o(u){var d,h,g,v,x;return{lineStart:function(){v=g=!1,x=1},point:function(w,C){var E=[w,C],M,R=s(w,C),L=r?R?0:c(w,C):R?c(w+(w<0?Pa:-Pa),C):0;if(!d&&(v=g=R)&&u.lineStart(),R!==g&&(M=l(d,E),(!M||xA(d,M)||xA(E,M))&&(E[2]=1)),R!==g)x=0,R?(u.lineStart(),M=l(E,d),u.point(M[0],M[1])):(M=l(d,E),u.point(M[0],M[1],2),u.lineEnd()),d=M;else if(i&&d&&r^R){var N;!(L&h)&&(N=l(E,d,!0))&&(x=0,r?(u.lineStart(),u.point(N[0][0],N[0][1]),u.point(N[1][0],N[1][1]),u.lineEnd()):(u.point(N[1][0],N[1][1]),u.lineEnd(),u.lineStart(),u.point(N[0][0],N[0][1],3)))}R&&(!d||!xA(d,E))&&u.point(E[0],E[1]),d=E,g=R,h=L},lineEnd:function(){g&&u.lineEnd(),d=null},clean:function(){return x|(v&&g)<<1}}}function l(u,d,h){var g=d2(u),v=d2(d),x=[1,0,0],w=ZI(g,v),C=PM(w,w),E=w[0],M=C-E*E;if(!M)return!h&&u;var R=t*C/M,L=-t*E/M,N=ZI(x,w),D=RM(x,R),H=RM(w,L);IL(D,H);var U=N,q=PM(D,U),K=PM(U,U),Q=q*q-K*(PM(D,D)-1);if(!(Q<0)){var X=ph(Q),te=RM(U,(-q-X)/K);if(IL(te,D),te=K5(te),!h)return te;var ee=u[0],Z=d[0],re=u[1],oe=d[1],ce;Z<ee&&(ce=ee,ee=Z,Z=ce);var le=Z-ee,pe=Po(le-Pa)<Mi,ye=pe||le<Mi;if(!pe&&oe<re&&(ce=re,re=oe,oe=ce),ye?pe?re+oe>0^te[1]<(Po(te[0]-ee)<Mi?re:oe):re<=te[1]&&te[1]<=oe:le>Pa^(ee<=te[0]&&te[0]<=Z)){var _e=RM(U,(-q+X)/K);return IL(_e,D),[te,K5(_e)]}}}function c(u,d){var h=r?e:Pa-e,g=0;return u<-h?g|=1:u>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return lle(s,o,a,r?[0,-e]:[-Pa,e-Pa])}function GKe(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],c=t[1],u=0,d=1,h=l-s,g=c-o,v;if(v=n-s,!(!h&&v>0)){if(v/=h,h<0){if(v<u)return;v<d&&(d=v)}else if(h>0){if(v>d)return;v>u&&(u=v)}if(v=i-s,!(!h&&v<0)){if(v/=h,h<0){if(v>d)return;v>u&&(u=v)}else if(h>0){if(v<u)return;v<d&&(d=v)}if(v=r-o,!(!g&&v>0)){if(v/=g,g<0){if(v<u)return;v<d&&(d=v)}else if(g>0){if(v>d)return;v>u&&(u=v)}if(v=a-o,!(!g&&v<0)){if(v/=g,g<0){if(v>d)return;v>u&&(u=v)}else if(g>0){if(v<u)return;v<d&&(d=v)}return u>0&&(e[0]=s+u*h,e[1]=o+u*g),d<1&&(t[0]=s+d*h,t[1]=o+d*g),!0}}}}}var kM=1e9,LM=-1e9;function cle(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function a(c,u,d,h){var g=0,v=0;if(c==null||(g=s(c,d))!==(v=s(u,d))||l(c,u)<0^d>0)do h.point(g===0||g===3?e:n,g>1?r:t);while((g=(g+d+4)%4)!==v);else h.point(u[0],u[1])}function s(c,u){return Po(c[0]-e)<Mi?u>0?0:3:Po(c[0]-n)<Mi?u>0?2:1:Po(c[1]-t)<Mi?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=ole(),h,g,v,x,w,C,E,M,R,L,N,D={point:H,lineStart:Q,lineEnd:X,polygonStart:q,polygonEnd:K};function H(ee,Z){i(ee,Z)&&u.point(ee,Z)}function U(){for(var ee=0,Z=0,re=g.length;Z<re;++Z)for(var oe=g[Z],ce=1,le=oe.length,pe=oe[0],ye,_e,Se=pe[0],Re=pe[1];ce<le;++ce)ye=Se,_e=Re,pe=oe[ce],Se=pe[0],Re=pe[1],_e<=r?Re>r&&(Se-ye)*(r-_e)>(Re-_e)*(e-ye)&&++ee:Re<=r&&(Se-ye)*(r-_e)<(Re-_e)*(e-ye)&&--ee;return ee}function q(){u=d,h=[],g=[],N=!0}function K(){var ee=U(),Z=N&&ee,re=(h=Ree(h)).length;(Z||re)&&(c.polygonStart(),Z&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),re&&sle(h,o,ee,a,c),c.polygonEnd()),u=c,h=g=v=null}function Q(){D.point=te,g&&g.push(v=[]),L=!0,R=!1,E=M=NaN}function X(){h&&(te(x,w),C&&R&&d.rejoin(),h.push(d.result())),D.point=H,R&&u.lineEnd()}function te(ee,Z){var re=i(ee,Z);if(g&&v.push([ee,Z]),L)x=ee,w=Z,C=re,L=!1,re&&(u.lineStart(),u.point(ee,Z));else if(re&&R)u.point(ee,Z);else{var oe=[E=Math.max(LM,Math.min(kM,E)),M=Math.max(LM,Math.min(kM,M))],ce=[ee=Math.max(LM,Math.min(kM,ee)),Z=Math.max(LM,Math.min(kM,Z))];GKe(oe,ce,e,t,n,r)?(R||(u.lineStart(),u.point(oe[0],oe[1])),u.point(ce[0],ce[1]),re||u.lineEnd(),N=!1):re&&(u.lineStart(),u.point(ee,Z),N=!1)}E=ee,M=Z,R=re}return D}}function xW(e,t,n){var r=nS(e,t-Mi,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function wW(e,t,n){var r=nS(e,t-Mi,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function WKe(){var e,t,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,g,v,x,w=2.5;function C(){return{type:"MultiLineString",coordinates:E()}}function E(){return nS(IM(r/u)*u,n,u).map(v).concat(nS(IM(o/d)*d,s,d).map(x)).concat(nS(IM(t/l)*l,e,l).filter(function(M){return Po(M%u)>Mi}).map(h)).concat(nS(IM(a/c)*c,i,c).filter(function(M){return Po(M%d)>Mi}).map(g))}return C.lines=function(){return E().map(function(M){return{type:"LineString",coordinates:M}})},C.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(x(s).slice(1),v(n).reverse().slice(1),x(o).reverse().slice(1))]}},C.extent=function(M){return arguments.length?C.extentMajor(M).extentMinor(M):C.extentMinor()},C.extentMajor=function(M){return arguments.length?(r=+M[0][0],n=+M[1][0],o=+M[0][1],s=+M[1][1],r>n&&(M=r,r=n,n=M),o>s&&(M=o,o=s,s=M),C.precision(w)):[[r,o],[n,s]]},C.extentMinor=function(M){return arguments.length?(t=+M[0][0],e=+M[1][0],a=+M[0][1],i=+M[1][1],t>e&&(M=t,t=e,e=M),a>i&&(M=a,a=i,i=M),C.precision(w)):[[t,a],[e,i]]},C.step=function(M){return arguments.length?C.stepMajor(M).stepMinor(M):C.stepMinor()},C.stepMajor=function(M){return arguments.length?(u=+M[0],d=+M[1],C):[u,d]},C.stepMinor=function(M){return arguments.length?(l=+M[0],c=+M[1],C):[l,c]},C.precision=function(M){return arguments.length?(w=+M,h=xW(a,i,90),g=wW(t,e,w),v=xW(o,s,90),x=wW(r,n,w),C):w},C.extentMajor([[-180,-90+Mi],[180,90-Mi]]).extentMinor([[-180,-80-Mi],[180,80+Mi]])}function qKe(){return WKe()()}const uO=e=>e;var RL=new gx,Q5=new gx,ule,fle,J5,e4,My={point:lg,lineStart:lg,lineEnd:lg,polygonStart:function(){My.lineStart=KKe,My.lineEnd=XKe},polygonEnd:function(){My.lineStart=My.lineEnd=My.point=lg,RL.add(Po(Q5)),Q5=new gx},result:function(){var e=RL/2;return RL=new gx,e}};function KKe(){My.point=YKe}function YKe(e,t){My.point=dle,ule=J5=e,fle=e4=t}function dle(e,t){Q5.add(e4*e-J5*t),J5=e,e4=t}function XKe(){dle(ule,fle)}var h2=1/0,QI=h2,fO=-h2,JI=fO,eP={point:ZKe,lineStart:lg,lineEnd:lg,polygonStart:lg,polygonEnd:lg,result:function(){var e=[[h2,QI],[fO,JI]];return fO=JI=-(QI=h2=1/0),e}};function ZKe(e,t){e<h2&&(h2=e),e>fO&&(fO=e),t<QI&&(QI=t),t>JI&&(JI=t)}var t4=0,n4=0,FC=0,tP=0,nP=0,aS=0,r4=0,i4=0,HC=0,hle,ple,kv,Lv,og={point:Sx,lineStart:SW,lineEnd:CW,polygonStart:function(){og.lineStart=eYe,og.lineEnd=tYe},polygonEnd:function(){og.point=Sx,og.lineStart=SW,og.lineEnd=CW},result:function(){var e=HC?[r4/HC,i4/HC]:aS?[tP/aS,nP/aS]:FC?[t4/FC,n4/FC]:[NaN,NaN];return t4=n4=FC=tP=nP=aS=r4=i4=HC=0,e}};function Sx(e,t){t4+=e,n4+=t,++FC}function SW(){og.point=QKe}function QKe(e,t){og.point=JKe,Sx(kv=e,Lv=t)}function JKe(e,t){var n=e-kv,r=t-Lv,i=ph(n*n+r*r);tP+=i*(kv+e)/2,nP+=i*(Lv+t)/2,aS+=i,Sx(kv=e,Lv=t)}function CW(){og.point=Sx}function eYe(){og.point=nYe}function tYe(){gle(hle,ple)}function nYe(e,t){og.point=gle,Sx(hle=kv=e,ple=Lv=t)}function gle(e,t){var n=e-kv,r=t-Lv,i=ph(n*n+r*r);tP+=i*(kv+e)/2,nP+=i*(Lv+t)/2,aS+=i,i=Lv*e-kv*t,r4+=i*(kv+e),i4+=i*(Lv+t),HC+=i*3,Sx(kv=e,Lv=t)}function mle(e){this._context=e}mle.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,pp);break}}},result:lg};var a4=new gx,$L,vle,yle,VC,UC,dO={point:lg,lineStart:function(){dO.point=rYe},lineEnd:function(){$L&&ble(vle,yle),dO.point=lg},polygonStart:function(){$L=!0},polygonEnd:function(){$L=null},result:function(){var e=+a4;return a4=new gx,e}};function rYe(e,t){dO.point=ble,vle=VC=e,yle=UC=t}function ble(e,t){VC-=e,UC-=t,a4.add(ph(VC*VC+UC*UC)),VC=e,UC=t}let EW,rP,OW,TW;class MW{constructor(t){this._append=t==null?_le:iYe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==OW||this._append!==rP){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,OW=r,rP=this._append,TW=this._,this._=i}this._+=TW;break}}}result(){const t=this._;return this._="",t.length?t:null}}function _le(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iYe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return _le;if(t!==EW){const n=10**t;EW=t,rP=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return rP}function xle(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Hw(o,i(a))),a.result()}return s.area=function(o){return Hw(o,i(My)),My.result()},s.measure=function(o){return Hw(o,i(dO)),dO.result()},s.bounds=function(o){return Hw(o,i(eP)),eP.result()},s.centroid=function(o){return Hw(o,i(og)),og.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,uO):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new MW(n)):new mle(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new MW(n)),s},s.projection(e).digits(n).context(t)}function L$(e){return function(t){var n=new o4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function o4(){}o4.prototype={constructor:o4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _8(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Hw(n,e.stream(eP)),t(eP.result()),r!=null&&e.clipExtent(r),e}function N$(e,t,n){return _8(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function x8(e,t,n){return N$(e,[[0,0],t],n)}function w8(e,t,n){return _8(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function S8(e,t,n){return _8(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var AW=16,aYe=xa(30*Al);function IW(e,t){return+t?sYe(e,t):oYe(e)}function oYe(e){return L$({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function sYe(e,t){function n(r,i,a,s,o,l,c,u,d,h,g,v,x,w){var C=c-r,E=u-i,M=C*C+E*E;if(M>4*t&&x--){var R=s+h,L=o+g,N=l+v,D=ph(R*R+L*L+N*N),H=bg(N/=D),U=Po(Po(N)-1)<Mi||Po(a-d)<Mi?(a+d)/2:qy(L,R),q=e(U,H),K=q[0],Q=q[1],X=K-r,te=Q-i,ee=E*X-C*te;(ee*ee/M>t||Po((C*X+E*te)/M-.5)>.3||s*h+o*g+l*v<aYe)&&(n(r,i,a,s,o,l,K,Q,U,R/=D,L/=D,N,x,w),w.point(K,Q),n(K,Q,U,R,L,N,c,u,d,h,g,v,x,w))}}return function(r){var i,a,s,o,l,c,u,d,h,g,v,x,w={point:C,lineStart:E,lineEnd:R,polygonStart:function(){r.polygonStart(),w.lineStart=L},polygonEnd:function(){r.polygonEnd(),w.lineStart=E}};function C(H,U){H=e(H,U),r.point(H[0],H[1])}function E(){d=NaN,w.point=M,r.lineStart()}function M(H,U){var q=d2([H,U]),K=e(H,U);n(d,h,u,g,v,x,d=K[0],h=K[1],u=H,g=q[0],v=q[1],x=q[2],AW,r),r.point(d,h)}function R(){w.point=C,r.lineEnd()}function L(){E(),w.point=N,w.lineEnd=D}function N(H,U){M(i=H,U),a=d,s=h,o=g,l=v,c=x,w.point=M}function D(){n(d,h,u,g,v,x,a,s,i,o,l,c,AW,r),w.lineEnd=R,R()}return w}}var lYe=L$({point:function(e,t){this.stream.point(e*Al,t*Al)}});function cYe(e){return L$({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function uYe(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function PW(e,t,n,r,i,a){if(!a)return uYe(e,t,n,r,i);var s=xa(a),o=Ji(a),l=s*e,c=o*e,u=s/e,d=o/e,h=(o*n-s*t)/e,g=(o*t+s*n)/e;function v(x,w){return x*=r,w*=i,[l*x-c*w+t,n-c*x-l*w]}return v.invert=function(x,w){return[r*(u*x-d*w+h),i*(g-d*x-u*w)]},v}function y0(e){return C8(function(){return e})()}function C8(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,g=1,v=null,x=_W,w=null,C,E,M,R=uO,L=.5,N,D,H,U,q;function K(ee){return H(ee[0]*Al,ee[1]*Al)}function Q(ee){return ee=H.invert(ee[0],ee[1]),ee&&[ee[0]*Rf,ee[1]*Rf]}K.stream=function(ee){return U&&q===ee?U:U=lYe(cYe(u)(x(N(R(q=ee)))))},K.preclip=function(ee){return arguments.length?(x=ee,v=void 0,te()):x},K.postclip=function(ee){return arguments.length?(R=ee,w=C=E=M=null,te()):R},K.clipAngle=function(ee){return arguments.length?(x=+ee?UKe(v=ee*Al):(v=null,_W),te()):v*Rf},K.clipExtent=function(ee){return arguments.length?(R=ee==null?(w=C=E=M=null,uO):cle(w=+ee[0][0],C=+ee[0][1],E=+ee[1][0],M=+ee[1][1]),te()):w==null?null:[[w,C],[E,M]]},K.scale=function(ee){return arguments.length?(n=+ee,X()):n},K.translate=function(ee){return arguments.length?(r=+ee[0],i=+ee[1],X()):[r,i]},K.center=function(ee){return arguments.length?(a=ee[0]%360*Al,s=ee[1]%360*Al,X()):[a*Rf,s*Rf]},K.rotate=function(ee){return arguments.length?(o=ee[0]%360*Al,l=ee[1]%360*Al,c=ee.length>2?ee[2]%360*Al:0,X()):[o*Rf,l*Rf,c*Rf]},K.angle=function(ee){return arguments.length?(d=ee%360*Al,X()):d*Rf},K.reflectX=function(ee){return arguments.length?(h=ee?-1:1,X()):h<0},K.reflectY=function(ee){return arguments.length?(g=ee?-1:1,X()):g<0},K.precision=function(ee){return arguments.length?(N=IW(D,L=ee*ee),te()):ph(L)},K.fitExtent=function(ee,Z){return N$(K,ee,Z)},K.fitSize=function(ee,Z){return x8(K,ee,Z)},K.fitWidth=function(ee,Z){return w8(K,ee,Z)},K.fitHeight=function(ee,Z){return S8(K,ee,Z)};function X(){var ee=PW(n,0,0,h,g,d).apply(null,t(a,s)),Z=PW(n,r-ee[0],i-ee[1],h,g,d);return u=ale(o,l,c),D=X5(t,Z),H=X5(u,D),N=IW(D,L),te()}function te(){return U=q=null,K}return function(){return t=e.apply(this,arguments),K.invert=t.invert&&Q,X()}}function E8(e){var t=0,n=Pa/3,r=C8(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*Al,n=a[1]*Al):[t*Rf,n*Rf]},i}function fYe(e){var t=xa(e);function n(r,i){return[r*t,Ji(i)/t]}return n.invert=function(r,i){return[r/t,bg(i*t)]},n}function wle(e,t){var n=Ji(e),r=(n+Ji(t))/2;if(Po(r)<Mi)return fYe(e);var i=1+n*(2*r-n),a=ph(i)/r;function s(o,l){var c=ph(i-2*r*Ji(l))/r;return[c*Ji(o*=r),a-c*xa(o)]}return s.invert=function(o,l){var c=a-l,u=qy(o,Po(c))*sg(c);return c*r<0&&(u-=Pa*sg(o)*sg(c)),[u/r,bg((i-(o*o+c*c)*r*r)/(2*r))]},s}function iP(){return E8(wle).scale(155.424).center([0,33.6442])}function Sle(){return iP().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function dYe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function hYe(){var e,t,n=Sle(),r,i=iP().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=iP().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,g){l=[h,g]}};function u(h){var g=h[0],v=h[1];return l=null,r.point(g,v),l||(a.point(g,v),l)||(o.point(g,v),l)}u.invert=function(h){var g=n.scale(),v=n.translate(),x=(h[0]-v[0])/g,w=(h[1]-v[1])/g;return(w>=.12&&w<.234&&x>=-.425&&x<-.214?i:w>=.166&&w<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=dYe([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var g=n.scale(),v=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[v-.455*g,x-.238*g],[v+.455*g,x+.238*g]]).stream(c),a=i.translate([v-.307*g,x+.201*g]).clipExtent([[v-.425*g+Mi,x+.12*g+Mi],[v-.214*g-Mi,x+.234*g-Mi]]).stream(c),o=s.translate([v-.205*g,x+.212*g]).clipExtent([[v-.214*g+Mi,x+.166*g+Mi],[v-.115*g-Mi,x+.234*g-Mi]]).stream(c),d()},u.fitExtent=function(h,g){return N$(u,h,g)},u.fitSize=function(h,g){return x8(u,h,g)},u.fitWidth=function(h,g){return w8(u,h,g)},u.fitHeight=function(h,g){return S8(u,h,g)};function d(){return e=t=null,u}return u.scale(1070)}function Cle(e){return function(t,n){var r=xa(t),i=xa(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Ji(t),a*Ji(n)]}}function hT(e){return function(t,n){var r=ph(t*t+n*n),i=e(r),a=Ji(i),s=xa(i);return[qy(t*a,r*s),bg(r&&n*a/r)]}}var O8=Cle(function(e){return ph(2/(1+e))});O8.invert=hT(function(e){return 2*bg(e/2)});function pYe(){return y0(O8).scale(124.75).clipAngle(180-.001)}var T8=Cle(function(e){return(e=ile(e))&&e/Ji(e)});T8.invert=hT(function(e){return e});function gYe(){return y0(T8).scale(79.4188).clipAngle(180-.001)}function pT(e,t){return[e,YI(b8((Ul+t)/2))]}pT.invert=function(e,t){return[e,2*q2(rle(t))-Ul]};function mYe(){return Ele(pT).scale(961/pp)}function Ele(e){var t=y0(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,c;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=Pa*r(),h=t(NKe(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===pT?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function NM(e){return b8((Ul+e)/2)}function Ole(e,t){var n=xa(e),r=e===t?Ji(e):YI(n/xa(t))/YI(NM(t)/NM(e)),i=n*AL(NM(e),r)/r;if(!r)return pT;function a(s,o){i>0?o<-Ul+Mi&&(o=-Ul+Mi):o>Ul-Mi&&(o=Ul-Mi);var l=i/AL(NM(o),r);return[l*Ji(r*s),i-l*xa(r*s)]}return a.invert=function(s,o){var l=i-o,c=sg(r)*ph(s*s+l*l),u=qy(s,Po(l))*sg(l);return l*r<0&&(u-=Pa*sg(s)*sg(l)),[u/r,2*q2(AL(i/c,1/r))-Ul]},a}function vYe(){return E8(Ole).scale(109.5).parallels([30,30])}function hO(e,t){return[e,t]}hO.invert=hO;function yYe(){return y0(hO).scale(152.63)}function Tle(e,t){var n=xa(e),r=e===t?Ji(e):(n-xa(t))/(t-e),i=n/r+e;if(Po(r)<Mi)return hO;function a(s,o){var l=i-o,c=r*s;return[l*Ji(c),i-l*xa(c)]}return a.invert=function(s,o){var l=i-o,c=qy(s,Po(l))*sg(l);return l*r<0&&(c-=Pa*sg(s)*sg(l)),[c/r,i-sg(r)*ph(s*s+l*l)]},a}function bYe(){return E8(Tle).scale(131.154).center([0,13.9389])}var hE=1.340264,pE=-.081106,gE=893e-6,mE=.003796,aP=ph(3)/2,_Ye=12;function M8(e,t){var n=bg(aP*Ji(t)),r=n*n,i=r*r*r;return[e*xa(n)/(aP*(hE+3*pE*r+i*(7*gE+9*mE*r))),n*(hE+pE*r+i*(gE+mE*r))]}M8.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<_Ye&&(o=n*(hE+pE*r+i*(gE+mE*r))-t,l=hE+3*pE*r+i*(7*gE+9*mE*r),n-=s=o/l,r=n*n,i=r*r*r,!(Po(s)<LKe));++a);return[aP*e*(hE+3*pE*r+i*(7*gE+9*mE*r))/xa(n),bg(Ji(n)/aP)]};function xYe(){return y0(M8).scale(177.158)}function A8(e,t){var n=xa(t),r=xa(e)*n;return[n*Ji(e)/r,Ji(t)/r]}A8.invert=hT(q2);function wYe(){return y0(A8).scale(144.049).clipAngle(60)}function SYe(){var e=1,t=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,g=1,v=L$({point:function(R,L){var N=M([R,L]);this.stream.point(N[0],N[1])}}),x=uO,w,C;function E(){return h=e*r,g=e*i,w=C=null,M}function M(R){var L=R[0]*h,N=R[1]*g;if(a){var D=N*s-L*o;L=L*s+N*o,N=D}return[L+t,N+n]}return M.invert=function(R){var L=R[0]-t,N=R[1]-n;if(a){var D=N*s+L*o;L=L*s-N*o,N=D}return[L/h,N/g]},M.stream=function(R){return w&&C===R?w:w=v(x(C=R))},M.postclip=function(R){return arguments.length?(x=R,l=c=u=d=null,E()):x},M.clipExtent=function(R){return arguments.length?(x=R==null?(l=c=u=d=null,uO):cle(l=+R[0][0],c=+R[0][1],u=+R[1][0],d=+R[1][1]),E()):l==null?null:[[l,c],[u,d]]},M.scale=function(R){return arguments.length?(e=+R,E()):e},M.translate=function(R){return arguments.length?(t=+R[0],n=+R[1],E()):[t,n]},M.angle=function(R){return arguments.length?(a=R%360*Al,o=Ji(a),s=xa(a),E()):a*Rf},M.reflectX=function(R){return arguments.length?(r=R?-1:1,E()):r<0},M.reflectY=function(R){return arguments.length?(i=R?-1:1,E()):i<0},M.fitExtent=function(R,L){return N$(M,R,L)},M.fitSize=function(R,L){return x8(M,R,L)},M.fitWidth=function(R,L){return w8(M,R,L)},M.fitHeight=function(R,L){return S8(M,R,L)},M}function I8(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}I8.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Po(i)>Mi&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function CYe(){return y0(I8).scale(175.295)}function P8(e,t){return[xa(t)*Ji(e),Ji(t)]}P8.invert=hT(bg);function EYe(){return y0(P8).scale(249.5).clipAngle(90+Mi)}function R8(e,t){var n=xa(t),r=1+xa(e)*n;return[n*Ji(e)/r,Ji(t)/r]}R8.invert=hT(function(e){return 2*q2(e)});function OYe(){return y0(R8).scale(250).clipAngle(142)}function $8(e,t){return[YI(b8((Ul+t)/2)),-e]}$8.invert=function(e,t){return[-t,2*q2(rle(e))-Ul]};function TYe(){var e=Ele($8),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const MYe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:Sle,geoAlbersUsa:hYe,geoAzimuthalEqualArea:pYe,geoAzimuthalEqualAreaRaw:O8,geoAzimuthalEquidistant:gYe,geoAzimuthalEquidistantRaw:T8,geoConicConformal:vYe,geoConicConformalRaw:Ole,geoConicEqualArea:iP,geoConicEqualAreaRaw:wle,geoConicEquidistant:bYe,geoConicEquidistantRaw:Tle,geoEqualEarth:xYe,geoEqualEarthRaw:M8,geoEquirectangular:yYe,geoEquirectangularRaw:hO,geoGnomonic:wYe,geoGnomonicRaw:A8,geoIdentity:SYe,geoMercator:mYe,geoMercatorRaw:pT,geoNaturalEarth1:CYe,geoNaturalEarth1Raw:I8,geoOrthographic:EYe,geoOrthographicRaw:P8,geoProjection:y0,geoProjectionMutator:C8,geoStereographic:OYe,geoStereographicRaw:R8,geoTransverseMercator:TYe,geoTransverseMercatorRaw:$8},Symbol.toStringTag,{value:"Module"}));var AYe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function IYe(e){if(typeof e=="function")return e;const t=`geo${P1(e)}`,n=MYe[t];if(!n)throw new Error(`Unknown coordinate: ${e}`);return n}function PYe(e){return{type:"FeatureCollection",features:e.flatMap(t=>RYe(t).features)}}function RYe(e){const t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const n=t[e.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(n==="feature")return{type:"FeatureCollection",features:[e]};if(n==="featureCollection")return e}function $Ye(e,t){var n;for(const[r,i]of Object.entries(t))(n=e[r])===null||n===void 0||n.call(e,i)}function kYe(e,t,n,r){const i=()=>{const o=t.filter(Mle);return o.find(c=>c.sphere)?{type:"Sphere"}:PYe(o.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:s="fitExtent"}=r;if(s==="fitExtent")return LYe(e,a,n);if(s==="fitWidth")return NYe(e,a,n)}function LYe(e,t,n){const{x:r,y:i,width:a,height:s}=n;e.fitExtent([[r,i],[a,s]],t)}function NYe(e,t,n){const{width:r,height:i}=n,[[a,s],[o,l]]=xle(e.fitWidth(r,t)).bounds(t),c=Math.ceil(l-s),u=Math.min(Math.ceil(o-a),c),d=e.scale()*(u-1)/u,[h,g]=e.translate(),v=g+(i-c)/2;e.scale(d).translate([h,v]).precision(.2)}function DYe(e){const{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});const{type:n}=t;return n==="graticule10"?Object.assign(Object.assign({},e),{data:{value:[qKe()]}}):n==="sphere"?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function Mle(e){return e.type==="geoPath"}const Ale=()=>e=>{const{children:t,coordinate:n={}}=e;if(!Array.isArray(t))return[];const{type:r="equalEarth"}=n,i=AYe(n,["type"]),a=IYe(r),s=t.map(DYe);let o;function l(){return[["custom",(d,h,g,v)=>{const x=a();kYe(x,s,{x:d,y:h,width:g,height:v},i),$Ye(x,i),o=xle(x);const C=new ks({domain:[d,d+g]}),E=new ks({domain:[h,h+v]}),M=L=>{const N=x(L);if(!N)return[null,null];const[D,H]=N;return[C.map(D),E.map(H)]},R=L=>{if(!L)return null;const[N,D]=L,H=[C.invert(N),E.invert(D)];return x.invert(H)};return{transform:L=>M(L),untransform:L=>R(L)}}]]}function c(d){const{style:h,tooltip:g={}}=d;return Object.assign(Object.assign({},d),{type:"path",tooltip:jI(g,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},h),{d:v=>o(v)||[]})})}const u=d=>Mle(d)?c(d):d;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:s.flatMap(u)})]};Ale.props={};function zYe(e){return mT(e,t=>t.className==="component")}function BYe(e){return mT(e,t=>t.className==="element")}function jYe(e){return mT(e,t=>t.className==="label")}function xu(e,t,n,r=i=>!0){return i=>{if(!r(i))return;n.emit(`plot:${e}`,i);const{target:a}=i;if(!a)return;const{className:s}=a;if(s==="plot")return;const o=BYe(a),l=zYe(a),c=jYe(a),u=o||l||c;if(!u)return;const{className:d,markType:h}=u,g=Object.assign(Object.assign({},i),{nativeEvent:!0});d==="element"?(g.data={data:ute(u,t)},n.emit(`element:${e}`,g),n.emit(`${h}:${e}`,g)):d==="label"?(g.data={data:u.attributes.datum},n.emit(`label:${e}`,g),n.emit(`${s}:${e}`,g)):(n.emit(`component:${e}`,g),n.emit(`${s}:${e}`,g))}}function Ile(){return(e,t,n)=>{const{container:r,view:i}=e,a=xu(Ho.CLICK,i,n,D=>D.detail===1),s=xu(Ho.DBLCLICK,i,n,D=>D.detail===2),o=xu(Ho.POINTER_TAP,i,n),l=xu(Ho.POINTER_DOWN,i,n),c=xu(Ho.POINTER_UP,i,n),u=xu(Ho.POINTER_OVER,i,n),d=xu(Ho.POINTER_OUT,i,n),h=xu(Ho.POINTER_MOVE,i,n),g=xu(Ho.POINTER_ENTER,i,n),v=xu(Ho.POINTER_LEAVE,i,n),x=xu(Ho.POINTER_UPOUTSIDE,i,n),w=xu(Ho.DRAG_START,i,n),C=xu(Ho.DRAG,i,n),E=xu(Ho.DRAG_END,i,n),M=xu(Ho.DRAG_ENTER,i,n),R=xu(Ho.DRAG_LEAVE,i,n),L=xu(Ho.DRAG_OVER,i,n),N=xu(Ho.DROP,i,n);return r.addEventListener("click",a),r.addEventListener("click",s),r.addEventListener("pointertap",o),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",d),r.addEventListener("pointermove",h),r.addEventListener("pointerenter",g),r.addEventListener("pointerleave",v),r.addEventListener("pointerupoutside",x),r.addEventListener("dragstart",w),r.addEventListener("drag",C),r.addEventListener("dragend",E),r.addEventListener("dragenter",M),r.addEventListener("dragleave",R),r.addEventListener("dragover",L),r.addEventListener("drop",N),()=>{r.removeEventListener("click",a),r.removeEventListener("click",s),r.removeEventListener("pointertap",o),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",d),r.removeEventListener("pointermove",h),r.removeEventListener("pointerenter",g),r.removeEventListener("pointerleave",v),r.removeEventListener("pointerupoutside",x),r.removeEventListener("dragstart",w),r.removeEventListener("drag",C),r.removeEventListener("dragend",E),r.removeEventListener("dragenter",M),r.removeEventListener("dragleave",R),r.removeEventListener("dragover",L),r.removeEventListener("drop",N)}}}Ile.props={reapplyWhenUpdate:!0};function FYe(){return{"component.axisRadar":lse,"component.axisLinear":B1,"component.axisArc":ase,"component.legendContinuousBlock":cse,"component.legendContinuousBlockSize":use,"component.legendContinuousSize":a8,"interaction.event":Ile,"composition.mark":Zse,"composition.view":Xse,"shape.label.label":_ae}}var HYe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ws(e,t){const n=Object.assign(Object.assign({},FYe()),t),r=a=>{if(typeof a!="string")return a;const s=`${e}.${a}`;return n[s]||JS(`Unknown Component: ${s}`)};return[(a,s)=>{const{type:o}=a,l=HYe(a,["type"]);o||JS("Plot type is required!");const c=r(o);return c?.(l,s)},r]}function Ple(e){const{canvas:t,group:n}=e;return t?.document||n?.ownerDocument||JS("Cannot find library document")}var RW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function VYe(e,t,n){const[r]=Ws("coordinate",n),{innerHeight:i,innerWidth:a,insetLeft:s,insetTop:o,insetRight:l,insetBottom:c}=e,{coordinates:u=[]}=t,d=YYe(u),h=d[0].type==="cartesian3D",g=Object.assign(Object.assign({},e),{x:s,y:o,width:a-s-l,height:i-c-o,transformations:d.flatMap(r)});return h?new cKe(g):new sKe(g)}function Rle(e,t){const{coordinate:n={},coordinates:r}=e,i=RW(e,["coordinate","coordinates"]);if(r)return e;const{type:a,transform:s=[]}=n,o=RW(n,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:s});const[,l]=Ws("coordinate",t),{transform:c=!1}=l(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},o),...s]})}function $m(e,t){return e.filter(n=>n.type===t)}function X_(e){return $m(e,"polar").length>0}function UYe(e){return $m(e,"helix").length>0}function wS(e){return $m(e,"transpose").length%2===1}function GYe(e){return $m(e,"parallel").length>0}function $le(e){return $m(e,"theta").length>0}function WYe(e){return $m(e,"reflect").length>0}function vE(e){return $m(e,"radial").length>0}function qYe(e){return $m(e,"radar").length>0}function KYe(e){return $m(e,"reflectY").length>0}function YYe(e){return e.find(t=>t.type==="cartesian"||t.type==="cartesian3D")?e:[...e,{type:"cartesian"}]}function sa(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const XYe=sa("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ZYe=sa("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),QYe=sa("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),JYe=sa("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),eXe=sa("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),tXe=sa("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),nXe=sa("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),rXe=sa("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),iXe=sa("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),aXe=sa("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),oXe=sa("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function D$(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function k8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function K2(){}var Cx=.7,p2=1/Cx,SS="\\s*([+-]?\\d+)\\s*",pO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sXe=/^#([0-9a-f]{3,8})$/,lXe=new RegExp(`^rgb\\(${SS},${SS},${SS}\\)$`),cXe=new RegExp(`^rgb\\(${e0},${e0},${e0}\\)$`),uXe=new RegExp(`^rgba\\(${SS},${SS},${SS},${pO}\\)$`),fXe=new RegExp(`^rgba\\(${e0},${e0},${e0},${pO}\\)$`),dXe=new RegExp(`^hsl\\(${pO},${e0},${e0}\\)$`),hXe=new RegExp(`^hsla\\(${pO},${e0},${e0},${pO}\\)$`),$W={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D$(K2,L8,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kW,formatHex:kW,formatHex8:pXe,formatHsl:gXe,formatRgb:LW,toString:LW});function kW(){return this.rgb().formatHex()}function pXe(){return this.rgb().formatHex8()}function gXe(){return Lle(this).formatHsl()}function LW(){return this.rgb().formatRgb()}function L8(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sXe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?NW(t):n===3?new Df(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?DM(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?DM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lXe.exec(e))?new Df(t[1],t[2],t[3],1):(t=cXe.exec(e))?new Df(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uXe.exec(e))?DM(t[1],t[2],t[3],t[4]):(t=fXe.exec(e))?DM(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dXe.exec(e))?BW(t[1],t[2]/100,t[3]/100,1):(t=hXe.exec(e))?BW(t[1],t[2]/100,t[3]/100,t[4]):$W.hasOwnProperty(e)?NW($W[e]):e==="transparent"?new Df(NaN,NaN,NaN,0):null}function NW(e){return new Df(e>>16&255,e>>8&255,e&255,1)}function DM(e,t,n,r){return r<=0&&(e=t=n=NaN),new Df(e,t,n,r)}function kle(e){return e instanceof K2||(e=L8(e)),e?(e=e.rgb(),new Df(e.r,e.g,e.b,e.opacity)):new Df}function gO(e,t,n,r){return arguments.length===1?kle(e):new Df(e,t,n,r??1)}function Df(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}D$(Df,gO,k8(K2,{brighter(e){return e=e==null?p2:Math.pow(p2,e),new Df(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cx:Math.pow(Cx,e),new Df(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Df(ax(this.r),ax(this.g),ax(this.b),oP(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DW,formatHex:DW,formatHex8:mXe,formatRgb:zW,toString:zW}));function DW(){return`#${Z_(this.r)}${Z_(this.g)}${Z_(this.b)}`}function mXe(){return`#${Z_(this.r)}${Z_(this.g)}${Z_(this.b)}${Z_((isNaN(this.opacity)?1:this.opacity)*255)}`}function zW(){const e=oP(this.opacity);return`${e===1?"rgb(":"rgba("}${ax(this.r)}, ${ax(this.g)}, ${ax(this.b)}${e===1?")":`, ${e})`}`}function oP(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ax(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Z_(e){return e=ax(e),(e<16?"0":"")+e.toString(16)}function BW(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wm(e,t,n,r)}function Lle(e){if(e instanceof wm)return new wm(e.h,e.s,e.l,e.opacity);if(e instanceof K2||(e=L8(e)),!e)return new wm;if(e instanceof wm)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new wm(s,o,l,e.opacity)}function vXe(e,t,n,r){return arguments.length===1?Lle(e):new wm(e,t,n,r??1)}function wm(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}D$(wm,vXe,k8(K2,{brighter(e){return e=e==null?p2:Math.pow(p2,e),new wm(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cx:Math.pow(Cx,e),new wm(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Df(kL(e>=240?e-240:e+120,i,r),kL(e,i,r),kL(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new wm(jW(this.h),zM(this.s),zM(this.l),oP(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oP(this.opacity);return`${e===1?"hsl(":"hsla("}${jW(this.h)}, ${zM(this.s)*100}%, ${zM(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jW(e){return e=(e||0)%360,e<0?e+360:e}function zM(e){return Math.max(0,Math.min(1,e||0))}function kL(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yXe=Math.PI/180,bXe=180/Math.PI;var Nle=-.14861,N8=1.78277,D8=-.29227,z$=-.90649,mO=1.97294,FW=mO*z$,HW=mO*N8,VW=N8*D8-z$*Nle;function _Xe(e){if(e instanceof ox)return new ox(e.h,e.s,e.l,e.opacity);e instanceof Df||(e=kle(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(VW*r+FW*t-HW*n)/(VW+FW-HW),a=r-i,s=(mO*(n-i)-D8*a)/z$,o=Math.sqrt(s*s+a*a)/(mO*i*(1-i)),l=o?Math.atan2(s,a)*bXe-120:NaN;return new ox(l<0?l+360:l,o,i,e.opacity)}function d0(e,t,n,r){return arguments.length===1?_Xe(e):new ox(e,t,n,r??1)}function ox(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}D$(ox,d0,k8(K2,{brighter(e){return e=e==null?p2:Math.pow(p2,e),new ox(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cx:Math.pow(Cx,e),new ox(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*yXe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Df(255*(t+n*(Nle*r+N8*i)),255*(t+n*(D8*r+z$*i)),255*(t+n*(mO*r)),this.opacity)}}));function xXe(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function wXe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return xXe((n-r/t)*t,s,i,a,o)}}const z8=e=>()=>e;function Dle(e,t){return function(n){return e+n*t}}function SXe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function CXe(e,t){var n=t-e;return n?Dle(e,n>180||n<-180?n-360*Math.round(n/360):n):z8(isNaN(e)?t:e)}function EXe(e){return(e=+e)==1?CS:function(t,n){return n-t?SXe(t,n,e):z8(isNaN(t)?n:t)}}function CS(e,t){var n=t-e;return n?Dle(e,n):z8(isNaN(e)?t:e)}(function e(t){var n=EXe(t);function r(i,a){var s=n((i=gO(i)).r,(a=gO(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=CS(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function OXe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=gO(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var TXe=OXe(wXe);function zle(e){return function t(n){n=+n;function r(i,a){var s=e((i=d0(i)).h,(a=d0(a)).h),o=CS(i.s,a.s),l=CS(i.l,a.l),c=CS(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=o(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}zle(CXe);var B8=zle(CS);const Ns=e=>TXe(e[e.length-1]);var Ble=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sa);const MXe=Ns(Ble);var jle=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sa);const AXe=Ns(jle);var Fle=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sa);const IXe=Ns(Fle);var Hle=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sa);const PXe=Ns(Hle);var Vle=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sa);const RXe=Ns(Vle);var Ule=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sa);const $Xe=Ns(Ule);var Gle=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sa);const kXe=Ns(Gle);var Wle=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sa);const LXe=Ns(Wle);var qle=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sa);const NXe=Ns(qle);var Kle=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sa);const DXe=Ns(Kle);var Yle=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sa);const zXe=Ns(Yle);var Xle=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sa);const BXe=Ns(Xle);var Zle=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sa);const jXe=Ns(Zle);var Qle=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sa);const FXe=Ns(Qle);var Jle=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sa);const HXe=Ns(Jle);var ece=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sa);const VXe=Ns(ece);var tce=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sa);const UXe=Ns(tce);var nce=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sa);const GXe=Ns(nce);var rce=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sa);const WXe=Ns(rce);var ice=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sa);const qXe=Ns(ice);var ace=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sa);const KXe=Ns(ace);var oce=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sa);const YXe=Ns(oce);var sce=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sa);const XXe=Ns(sce);var lce=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sa);const ZXe=Ns(lce);var cce=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sa);const QXe=Ns(cce);var uce=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sa);const JXe=Ns(uce);var fce=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sa);const eZe=Ns(fce);function tZe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const nZe=B8(d0(300,.5,0),d0(-240,.5,1));var rZe=B8(d0(-100,.75,.35),d0(80,1.5,.8)),iZe=B8(d0(260,.75,.35),d0(80,1.5,.8)),BM=d0();function aZe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return BM.h=360*e-100,BM.s=1.5-1.5*t,BM.l=.8-.9*t,BM+""}var jM=gO(),oZe=Math.PI/3,sZe=Math.PI*2/3;function lZe(e){var t;return e=(.5-e)*Math.PI,jM.r=255*(t=Math.sin(e))*t,jM.g=255*(t=Math.sin(e+oZe))*t,jM.b=255*(t=Math.sin(e+sZe))*t,jM+""}function cZe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function B$(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const uZe=B$(sa("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var fZe=B$(sa("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),dZe=B$(sa("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hZe=B$(sa("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const s4=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:YXe,interpolateBrBG:MXe,interpolateBuGn:DXe,interpolateBuPu:zXe,interpolateCividis:tZe,interpolateCool:iZe,interpolateCubehelixDefault:nZe,interpolateGnBu:BXe,interpolateGreens:XXe,interpolateGreys:ZXe,interpolateInferno:dZe,interpolateMagma:fZe,interpolateOrRd:jXe,interpolateOranges:eZe,interpolatePRGn:AXe,interpolatePiYG:IXe,interpolatePlasma:hZe,interpolatePuBu:HXe,interpolatePuBuGn:FXe,interpolatePuOr:PXe,interpolatePuRd:VXe,interpolatePurples:QXe,interpolateRainbow:aZe,interpolateRdBu:RXe,interpolateRdGy:$Xe,interpolateRdPu:UXe,interpolateRdYlBu:kXe,interpolateRdYlGn:LXe,interpolateReds:JXe,interpolateSinebow:lZe,interpolateSpectral:NXe,interpolateTurbo:cZe,interpolateViridis:uZe,interpolateWarm:rZe,interpolateYlGn:WXe,interpolateYlGnBu:GXe,interpolateYlOrBr:qXe,interpolateYlOrRd:KXe,schemeAccent:ZYe,schemeBlues:oce,schemeBrBG:Ble,schemeBuGn:Kle,schemeBuPu:Yle,schemeCategory10:XYe,schemeDark2:QYe,schemeGnBu:Xle,schemeGreens:sce,schemeGreys:lce,schemeObservable10:JYe,schemeOrRd:Zle,schemeOranges:fce,schemePRGn:jle,schemePaired:eXe,schemePastel1:tXe,schemePastel2:nXe,schemePiYG:Fle,schemePuBu:Jle,schemePuBuGn:Qle,schemePuOr:Hle,schemePuRd:ece,schemePurples:cce,schemeRdBu:Vle,schemeRdGy:Ule,schemeRdPu:tce,schemeRdYlBu:Gle,schemeRdYlGn:Wle,schemeReds:uce,schemeSet1:rXe,schemeSet2:iXe,schemeSet3:aXe,schemeSpectral:qle,schemeTableau10:oXe,schemeYlGn:rce,schemeYlGnBu:nce,schemeYlOrBr:ice,schemeYlOrRd:ace},Symbol.toStringTag,{value:"Module"}));function pZe(e,t,n,r,i,a){const{guide:s={}}=n,o=CZe(e,t,n);if(typeof o!="string")return n;const l=EZe(o,e,t,n),c=xZe(o,l,n);return Object.assign(Object.assign(Object.assign({},n),TZe(o,e,t,n,r)),{domain:c,range:OZe(o,e,t,n,c,i,a),expectedDomain:l,guide:s,name:e,type:o})}function gZe(e,t){const n={};for(const r of e){const{values:i,name:a}=r,s=t[a];for(const o of i){const{name:l,value:c}=o;n[l]=c.map(u=>s.map(u))}}return n}function mZe(e,t){const n=Array.from(e.values()).flatMap(i=>i.channels);BB(n,i=>i.map(a=>t.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(s=>s.getOptions().groupTransform)[0];a(i)})}function vZe(e,t){var n;const{components:r=[]}=t,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(e.flatMap(o=>o.channels.map(l=>l.scale)))),s=new Map(a.map(o=>[o.name,o]));for(const o of r){const l=_Ze(o);for(const c of l){const u=s.get(c),d=((n=o.scale)===null||n===void 0?void 0:n[c])||{},{independent:h=!1}=d;if(u&&!h){const{guide:g}=u,v=typeof g=="boolean"?{}:g;u.guide=Pn({},v,o),Object.assign(u,d)}else{const g=Object.assign(Object.assign({},d),{expectedDomain:d.domain,name:c,guide:PB(o,i)});a.push(g)}}}return a}function yZe(e){if(!e||!Array.isArray(e))return[yx,yx];let t,n;return[a=>{var s;t=a.map.bind(a),n=(s=a.invert)===null||s===void 0?void 0:s.bind(a);const o=e.filter(([h])=>typeof h=="function"),l=e.filter(([h])=>typeof h!="function"),c=new Map(l);if(a.map=h=>{for(const[g,v]of o)if(g(h))return v;return c.has(h)?c.get(h):t(h)},!n)return a;const u=new Map(l.map(([h,g])=>[g,h])),d=new Map(o.map(([h,g])=>[g,h]));return a.invert=h=>d.has(h)?h:u.has(h)?u.get(h):n(h),a},a=>(t!==null&&(a.map=t),n!==null&&(a.invert=n),a)]}function UW(e,t){const n=Object.keys(e);for(const r of Object.values(t)){const{name:i}=r.getOptions();if(!(i in e))e[i]=r;else{const a=n.filter(l=>l.startsWith(i)).map(l=>+(l.replace(i,"")||0)),s=Uo(a)+1,o=`${i}${s}`;e[o]=r,r.getOptions().key=o}}return e}function GW(e,t){const[n]=Ws("scale",t),{relations:r}=e,[i]=yZe(r),a=n(e);return i(a)}function bZe(e){const t=e.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));WW(t,"x"),WW(t,"y")}function _Ze(e){const{channels:t=[],type:n,scale:r={}}=e,i=["shape","color","opacity","size"];return t.length!==0?t:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function WW(e,t){const n=e.filter(({name:a,facet:s=!0})=>s&&a===t),r=n.flatMap(a=>a.domain),i=n.every(dce)?zy(r):n.every(hce)?Array.from(new Set(r)):null;if(i!==null)for(const a of n)a.domain=i}function xZe(e,t,n){const{ratio:r}=n;return r==null?t:dce({type:e})?wZe(t,r,e):hce({type:e})?SZe(t,r):t}function wZe(e,t,n){const r=e.map(Number),i=new ks({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*t]});return n==="time"?e.map(a=>new Date(i.map(a))):e.map(a=>i.map(a))}function SZe(e,t){const n=Math.round(e.length*t);return e.slice(0,n)}function dce(e){const{type:t}=e;return typeof t!="string"?!1:["linear","log","pow","time"].includes(t)}function hce(e){const{type:t}=e;return typeof t!="string"?!1:["band","point","ordinal"].includes(t)}function CZe(e,t,n){const{type:r,domain:i,range:a,quantitative:s,ordinal:o}=n;return r!==void 0?r:BZe(t)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?LL(e,o):i!==void 0?XW([i])?LL(e,o):ZW(t)?"time":KW(e,a,s):XW(t)?LL(e,o):ZW(t)?"time":KW(e,a,s)}function EZe(e,t,n,r){const{domain:i}=r;if(i!==void 0)return i;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return YW(kZe(n,r),r);case"band":case"ordinal":case"point":return LZe(n);case"quantile":return NZe(n);case"sequential":return YW(DZe(n),r);default:return[]}}function OZe(e,t,n,r,i,a,s){const{range:o}=r;if(typeof o=="string")return MZe(o);if(o!==void 0)return o;const{rangeMin:l,rangeMax:c}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=qW(n,r,i,a,s),[d,h]=zZe(t,u);return[l??d,c??h]}case"band":case"point":return[l??(t==="size"?5:0),c??(t==="size"?10:1)];case"ordinal":return qW(n,r,i,a,s);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function TZe(e,t,n,r,i){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return PZe(i,r);case"band":case"point":return RZe(e,t,i,r);case"sequential":return IZe(r);default:return r}}function qW(e,t,n,r,i){const[a]=Ws("palette",i),{category10:s,category20:o}=r,l=JDe(n).length<=s.length?s:o,{palette:c=l,offset:u}=t;if(Array.isArray(c))return c;try{return a({type:c})}catch{const h=AZe(c,n,u);if(h)return h;throw new Error(`Unknown Component: ${c} `)}}function MZe(e){return e.split("-")}function AZe(e,t,n=r=>r){if(!e)return null;const r=P1(e),i=s4[`scheme${r}`],a=s4[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const s=i[t.length];if(s)return s}return t.map((s,o)=>a(n(o/t.length)))}function IZe(e){const{palette:t="ylGnBu",offset:n}=e,r=P1(t),i=s4[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?a=>i(n(a)):i}}function PZe(e,t){const{interpolate:n=XO,nice:r=!1,tickCount:i=5}=t;return Object.assign(Object.assign({},t),{interpolate:n,nice:r,tickCount:i})}function RZe(e,t,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=$Ze(e,t,n),{paddingInner:a=i,paddingOuter:s=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:s,padding:i,unknown:NaN})}function $Ze(e,t,n){return t==="enterDelay"||t==="enterDuration"||t==="size"?0:e==="band"?$le(n)?0:.1:e==="point"?.5:0}function LL(e,t){return t||(jZe(e)?"point":"ordinal")}function KW(e,t,n){return n||(e!=="color"||t?"linear":"sequential")}function YW(e,t){if(e.length===0)return e;const{domainMin:n,domainMax:r}=t,[i,a]=e;return[n??i,r??a]}function kZe(e,t){const{zero:n=!1}=t;let r=1/0,i=-1/0;for(const a of e)for(const s of a)Es(s)&&(r=Math.min(r,+s),i=Math.max(i,+s));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function LZe(e){return Array.from(new Set(e.flat()))}function NZe(e){return e.flat().sort()}function DZe(e){let t=1/0,n=-1/0;for(const r of e)for(const i of r)Es(i)&&(t=Math.min(t,+i),n=Math.max(n,+i));return t===1/0?[]:[t<0?-n:t,n]}function zZe(e,t){return e==="enterDelay"?[0,1e3]:e=="enterDuration"?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:e==="color"?[QDe(t),hte(t)]:e==="opacity"?[0,1]:e==="size"?[1,10]:[0,1]}function XW(e){return j8(e,t=>{const n=typeof t;return n==="string"||n==="boolean"})}function ZW(e){return j8(e,t=>t instanceof Date)}function BZe(e){return j8(e,e2)}function j8(e,t){for(const n of e)if(n.some(t))return!0;return!1}function jZe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}function FZe(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e==="enterDelay"||e==="enterDuration"||e==="updateDelay"||e==="updateDuration"||e==="exitDelay"||e==="exitDuration"}function HZe(e){if(!e||!e.type)return!1;if(typeof e.type=="function")return!0;const{type:t,domain:n,range:r,interpolator:i}=e,a=n&&n.length>0,s=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&a&&s||["sequential"].includes(t)&&a&&(s||i)||["constant","identity"].includes(t)&&s)}const VZe={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},UZe={threshold:"threshold",quantize:"quantize",quantile:"quantile"},GZe={ordinal:"ordinal",band:"band",point:"point"},WZe={constant:"constant"};var F1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qZe(e,t,n){const{coordinates:r=[],title:i}=t,[,a]=Ws("component",n),s=e.filter(({guide:u})=>u!==null),o=[],l=rQe(t,e,n);if(o.push(...l),i){const{props:u}=a("title"),{defaultPosition:d,defaultOrientation:h,defaultOrder:g,defaultSize:v,defaultCrossPadding:x}=u,w=typeof i=="string"?{title:i}:i;o.push(Object.assign({type:"title",position:d,orientation:h,order:g,crossPadding:x[0],defaultSize:v},w))}return QZe(s,r).forEach(([u,d])=>{const{props:h}=a(u),{defaultPosition:g,defaultPlane:v="xy",defaultOrientation:x,defaultSize:w,defaultOrder:C,defaultLength:E,defaultPadding:M=[0,0],defaultCrossPadding:R=[0,0]}=h,L=Pn({},...d),{guide:N,field:D}=L,H=Array.isArray(N)?N:[N];for(const U of H){const[q,K]=tQe(u,g,x,U,d,s,r);if(!q&&!K)continue;const Q=q==="left"||q==="right",X=Q?M[1]:M[0],te=Q?R[1]:R[0],{size:ee,order:Z=C,length:re=E,padding:oe=X,crossPadding:ce=te}=U;o.push(Object.assign(Object.assign({title:D},U),{defaultSize:w,length:re,position:q,plane:v,orientation:K,padding:oe,order:Z,crossPadding:ce,size:ee,type:u,scales:d}))}}),o}function QW(e,t,n,r,i){const[a]=Ws("component",r),{scaleInstances:s,scale:o,bbox:l}=e,c=F1(e,["scaleInstances","scale","bbox"]),u={bbox:l,library:r};return a(c)({coordinate:t,library:r,markState:i,scales:s,theme:n,value:u,scale:o})}function KZe(e){return e.map(t=>{const n=Pn(t,t.style);return delete n.style,n})}function pce(e,t){const n=["left","right","bottom","top"];return DB(e,({type:a,position:s,group:o})=>n.includes(s)?o===void 0?a.startsWith("legend")?`legend-${s}`:Symbol("independent"):o==="independent"?Symbol("independent"):o:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(t!==void 0){const u=a.filter(x=>x.length!==void 0).map(x=>x.length),d=ug(u);if(d>t)return a.forEach(x=>x.group=Symbol("independent")),a;const h=t-d,g=a.length-u.length,v=h/g;a.forEach(x=>{x.length===void 0&&(x.length=v)})}const s=Uo(a,u=>u.size),o=Uo(a,u=>u.order),l=Uo(a,u=>u.crossPadding),c=a[0].position;return{type:"group",size:s,order:o,position:c,children:a,crossPadding:l}})}function YZe(e,t){const n=["shape","size","color","opacity"],r=(h,g)=>h==="constant"&&g==="size",i=e.filter(({type:h,name:g})=>typeof h=="string"&&n.includes(g)&&!r(h,g)),a=i.filter(({type:h})=>h==="constant"),s=i.filter(({type:h})=>h!=="constant"),l=DB(s,h=>h.field?h.field:Symbol("independent")).map(([h,g])=>[h,[...g,...a]]).filter(([,h])=>h.some(g=>g.type!=="constant")),c=new Map(l);if(c.size===0)return[];const u=h=>h.sort(([g],[v])=>g.localeCompare(v));return Array.from(c).map(([,h])=>{const v=e5e(h).sort((x,w)=>w.length-x.length).map(x=>({combination:x,option:x.map(w=>[w.name,XZe(w)])}));for(const{option:x,combination:w}of v)if(!x.every(C=>C[1]==="constant")&&x.every(C=>C[1]==="discrete"||C[1]==="constant"))return["legendCategory",w];for(const[x,w]of bqe)for(const{option:C,combination:E}of v)if(w.some(M=>cI(u(M),u(C))))return[x,E];return null}).filter(Es)}function XZe(e){const{type:t}=e;return typeof t!="string"?null:t in VZe?"continuous":t in GZe?"discrete":t in UZe?"distribution":t in WZe?"constant":null}function ZZe(e,t){return e.map(n=>{const{name:r}=n;if(UYe(t)||$le(t)||wS(t)&&(X_(t)||vE(t)))return null;if(r.startsWith("x"))return X_(t)?["axisArc",[n]]:vE(t)?["axisLinear",[n]]:[wS(t)?"axisY":"axisX",[n]];if(r.startsWith("y"))return X_(t)?["axisLinear",[n]]:vE(t)?["axisArc",[n]]:[wS(t)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(qYe(t))return["axisRadar",[n]];if(!X_(t))return["axisY",[n]]}return null}).filter(Es)}function QZe(e,t){const n=e.filter(r=>HZe(r));return[...YZe(n),...ZZe(n,t)]}function l4(e){const t=$m(e,"polar");if(t.length){const r=t[t.length-1],{startAngle:i,endAngle:a}=DJ(r);return[i,a]}const n=$m(e,"radial");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=jJ(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function JZe(e){const t=/position(\d*)/g.exec(e);return t?+t[1]:null}function eQe(e,t,n,r,i){const{name:a}=n[0];if(e==="axisRadar"){const s=r.filter(d=>d.name.startsWith("position")),o=JZe(a);if(a===s.slice(-1)[0].name||o===null)return[null,null];const[l,c]=l4(i);return["center",(c-l)/(s.length-1)*o+l]}if(e==="axisY"&&GYe(i))return wS(i)?["center","horizontal"]:["center","vertical"];if(e==="axisLinear"){const[s]=l4(i);return["center",s]}return e==="axisArc"?t[0]==="inner"?["inner",null]:["outer",null]:X_(i)?["center",null]:vE(i)?["center",null]:e==="axisX"&&WYe(i)||e==="axisX"&&KYe(i)?["top",null]:t}function tQe(e,t,n,r,i,a,s){const[o]=l4(s),l=[r.position||t,o??n];return typeof e=="string"&&e.startsWith("axis")?eQe(e,l,i,a,s):typeof e=="string"&&e.startsWith("legend")&&X_(s)&&r.position==="center"?["center","vertical"]:l}function nQe(e,t,n=[]){return e==="x"?wS(n)?`${t}Y`:`${t}X`:e==="y"?wS(n)?`${t}X`:`${t}Y`:null}function rQe(e,t,n){const[,r]=Ws("component",n),{coordinates:i}=e;function a(s,o,l,c){const u=nQe(o,s,i);if(!c||!u)return;const{props:d}=r(u),{defaultPosition:h,defaultSize:g,defaultOrder:v,defaultCrossPadding:[x]}=d;return Object.assign(Object.assign({position:h,defaultSize:g,order:v,type:u,crossPadding:x},c),{scales:[l]})}return t.filter(s=>s.slider||s.scrollbar).flatMap(s=>{const{slider:o,scrollbar:l,name:c}=s;return[a("slider",c,s,o),a("scrollbar",c,s,l)]}).filter(s=>!!s)}function gce(e,t,n,r,i,a){const{type:s}=e;if(!["left","right","bottom","top"].includes(r)||typeof s!="string")return;const l=s;return(l.startsWith("axis")?lQe:l.startsWith("group")?iQe:l.startsWith("legendContinuous")?cQe:l==="legendCategory"?uQe:l.startsWith("slider")?sQe:l==="title"?oQe:l.startsWith("scrollbar")?aQe:()=>{})(e,t,n,r,i,a)}function iQe(e,t,n,r,i,a){const{children:s}=e,o=Uo(s,c=>c.crossPadding);s.forEach(c=>c.crossPadding=o),s.forEach(c=>gce(c,t,n,r,i,a));const l=Uo(s,c=>c.size);e.size=l,s.forEach(c=>c.size=l)}function aQe(e,t,n,r,i,a){const{trackSize:s=6}=Pn({},i.scrollbar,e);e.size=s}function oQe(e,t,n,r,i,a){const s=Pn({},i.title,e),{title:o,subtitle:l,spacing:c=0}=s,u=F1(s,["title","subtitle","spacing"]);if(o){const d=or(u,"title"),h=sP(o,d);e.size=h.height}if(l){const d=or(u,"subtitle"),h=sP(l,d);e.size+=c+h.height}}function sQe(e,t,n,r,i,a){const s=()=>{const{slider:u}=i;return Pn({},u,e)},{trackSize:o,handleIconSize:l}=s(),c=Math.max(o,l*2.4);e.size=c}function lQe(e,t,n,r,i,a){var s;e.transform=e.transform||[{type:"hide"}];const o=r==="left"||r==="right",l=mce(e,r,i),{tickLength:c=0,labelSpacing:u=0,titleSpacing:d=0,labelAutoRotate:h}=l,g=F1(l,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),v=j$(e,a),x=F$(g,v),w=c+u;if(x&&x.length){const E=Uo(x,R=>R.width),M=Uo(x,R=>R.height);if(o)e.size=E+w;else{const{tickFilter:R,labelTransform:L}=e;hQe(v,x,t,n,R)&&!L&&h!==!1&&h!==null?(e.labelTransform="rotate(90)",e.size=E+w):(e.labelTransform=(s=e.labelTransform)!==null&&s!==void 0?s:"rotate(0)",e.size=M+w)}}else e.size=c;const C=H$(g);C&&(o?e.size+=d+C.width:e.size+=d+C.height)}function cQe(e,t,n,r,i,a){const o=(()=>{const{legendContinuous:R}=i;return Pn({},R,e)})(),{labelSpacing:l=0,titleSpacing:c=0}=o,u=F1(o,["labelSpacing","titleSpacing"]),d=r==="left"||r==="right",h=or(u,"ribbon"),{size:g}=h,v=or(u,"handleIcon"),{size:x}=v,w=Math.max(g,x*2.4);e.size=w;const C=j$(e,a),E=F$(u,C);if(E){const R=d?"width":"height",L=Uo(E,N=>N[R]);e.size+=L+l}const M=H$(u);M&&(d?e.size=Math.max(e.size,M.width):e.size+=c+M.height)}function uQe(e,t,n,r,i,a){const o=(()=>{const{legendCategory:te}=i,{title:ee}=e,[Z,re]=Array.isArray(ee)?[ee,void 0]:[void 0,ee];return Pn({title:Z},te,Object.assign(Object.assign({},e),{title:re}))})(),{itemSpacing:l,itemMarkerSize:c,titleSpacing:u,rowPadding:d,colPadding:h,maxCols:g=1/0,maxRows:v=1/0}=o,x=F1(o,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:w,length:C}=e,E=te=>Math.min(te,v),M=te=>Math.min(te,g),R=r==="left"||r==="right",L=C===void 0?t+(R?0:n[0]+n[1]):C,N=H$(x),D=j$(e,a),H=F$(x,D,"itemLabel"),U=Math.max(H[0].height,c)+d,q=(te,ee=0)=>c+te+l[0]+ee;R?(()=>{let te=-1/0,ee=0,Z=1,re=0,oe=-1/0,ce=-1/0;const le=N?N.height:0,pe=L-le;for(const{width:ye}of H){const _e=q(ye,h);te=Math.max(te,_e),ee+U>pe?(Z++,oe=Math.max(oe,re),ce=Math.max(ce,ee),re=1,ee=U):(ee+=U,re++)}Z<=1&&(oe=re,ce=ee),e.size=te*M(Z),e.length=ce+le,Pn(e,{cols:M(Z),gridRow:oe})})():typeof w=="number"?(()=>{const te=Math.ceil(H.length/w),ee=Uo(H,Z=>q(Z.width))*w;e.size=U*E(te)-d,e.length=Math.min(ee,L)})():(()=>{let te=1,ee=0,Z=-1/0;for(const{width:re}of H){const oe=q(re,h);ee+oe>L?(Z=Math.max(Z,ee),ee=oe,te++):ee+=oe}te===1&&(Z=ee),e.size=U*E(te)-d,e.length=Z})(),N&&(R?e.size=Math.max(e.size,N.width):e.size+=u+N.height)}function j$(e,t){const[n]=Ws("scale",t),{scales:r,tickCount:i,tickMethod:a}=e,s=r.find(o=>o.type!=="constant"&&o.type!=="identity");return i!==void 0&&(s.tickCount=i),a!==void 0&&(s.tickMethod=a),n(s)}function F$(e,t,n="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=e,s=F1(e,["labelFormatter","tickFilter","label"]);if(!a)return null;const o=fQe(t,r,i),l=or(s,n),c=o.map((h,g)=>Object.fromEntries(Object.entries(l).map(([v,x])=>[v,typeof x=="function"?x(h,g):x]))),u=o.map((h,g)=>{const v=c[g];return sP(h,v)});if(!c.some(h=>h.transform)){const h=o.map((g,v)=>v);e.indexBBox=new Map(h.map(g=>[g,[o[g],u[g]]]))}return u}function H$(e){const t=c=>c===!1||c===null,{title:n}=e,r=F1(e,["title"]);if(t(n)||n===void 0)return null;const i=or(r,"title"),{direction:a,transform:s}=i,o=Array.isArray(n)?n.join(","):n;return typeof o!="string"?null:sP(o,Object.assign(Object.assign({},i),{transform:s||(a==="vertical"?"rotate(-90)":"")}))}function mce(e,t,n){const{title:r}=e,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:s,[`axis${KB(t)}`]:o}=n;return Pn({title:i},s,o,Object.assign(Object.assign({},e),{title:a}))}function vce(e,t){const n=e.getTicks?e.getTicks():e.getOptions().domain;return t?n.filter(t):n}function fQe(e,t,n){const i=vce(e,n).map(s=>typeof s=="number"?$I(s):s),a=t?typeof t=="string"?z1(t):t:e.getFormatter?e.getFormatter():s=>`${s}`;return i.map(a)}function dQe(e,t){return e.getBandWidth?e.getBandWidth(t)/2:0}function hQe(e,t,n,r,i){if(ug(t,g=>g.width)>n)return!0;const s=e.clone();s.update({range:[0,n]});const o=vce(e,i),l=o.map(g=>s.map(g)+dQe(s,g)),c=o.map((g,v)=>v),u=-r[0],d=n+r[1],h=(g,v)=>{const{width:x}=v;return[g-x/2,g+x/2]};for(let g=0;g<c.length;g++){const v=l[g],[x,w]=h(v,t[g]);if(x<u||w>d)return!0;const C=l[g+1];if(C){const[E]=h(C,t[g+1]);if(w>E)return!0}}return!1}function sP(e,t){const n=pQe(e),{filter:r}=t,i=F1(t,["filter"]);return n.attr(Object.assign(Object.assign({},i),{visibility:"none"})),n.getBBox()}function pQe(e){return e instanceof Ls?e:new vg({style:{text:`${e}`}})}function gQe(e){const t=e.find(({type:i})=>i==="axisX"),n=e.find(({type:i})=>i==="axisY"),r=e.find(({type:i})=>i==="axisZ");t&&n&&r&&(t.plane="xy",n.plane="xy",r.plane="yz",r.origin=[t.bbox.x,t.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=t.bbox.x,r.bbox.y=t.bbox.y,e.push(Object.assign(Object.assign({},t),{plane:"xz",showLabel:!1,showTitle:!1,origin:[t.bbox.x,t.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function mQe(e,t,n,r){var i,a;const{width:s,height:o,depth:l,x:c=0,y:u=0,z:d=0,inset:h=(i=n.inset)!==null&&i!==void 0?i:0,insetLeft:g=h,insetTop:v=h,insetBottom:x=h,insetRight:w=h,margin:C=(a=n.margin)!==null&&a!==void 0?a:0,marginLeft:E=C,marginBottom:M=C,marginTop:R=C,marginRight:L=C,padding:N=n.padding,paddingBottom:D=N,paddingLeft:H=N,paddingRight:U=N,paddingTop:q=N}=yQe(e,t,n,r),K=1/4,Q=(st,Ue,Ne,qe,We)=>{const{marks:rt}=t;if(rt.length===0)return[qe,We];if(st-qe-We-st*K>0)return[qe,We];const Rt=st*(1-K);return[Ue==="auto"?Rt*qe/(qe+We):qe,Ne==="auto"?Rt*We/(qe+We):We]},X=st=>st==="auto"?20:st??20,te=X(q),ee=X(D),Z=JW(e,o-te-ee,[te+R,ee+M],["left","right"],t,n,r),{paddingLeft:re,paddingRight:oe}=Z,ce=s-E-L,[le,pe]=Q(ce,H,U,re,oe),ye=ce-le-pe,_e=JW(e,ye,[le+E,pe+L],["bottom","top"],t,n,r),{paddingTop:Se,paddingBottom:Re}=_e,je=o-M-R,[Fe,ze]=Q(je,D,q,Re,Se),Ze=je-Fe-ze;return{width:s,height:o,depth:l,insetLeft:g,insetTop:v,insetBottom:x,insetRight:w,innerWidth:ye,innerHeight:Ze,paddingLeft:le,paddingRight:pe,paddingTop:ze,paddingBottom:Fe,marginLeft:E,marginBottom:M,marginTop:R,marginRight:L,x:c,y:u,z:d}}function vQe(e){const{height:t,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:s=r,paddingBottom:o=r,margin:l=16,marginLeft:c=l,marginRight:u=l,marginTop:d=l,marginBottom:h=l,inset:g=0,insetLeft:v=g,insetRight:x=g,insetTop:w=g,insetBottom:C=g}=e,E=L=>L==="auto"?20:L,M=n-E(i)-E(a)-c-u-v-x,R=t-E(s)-E(o)-d-h-w-C;return{width:M,height:R}}function yQe(e,t,n,r){const{coordinates:i}=t;if(!X_(i)&&!vE(i))return t;const a=e.filter(C=>typeof C.type=="string"&&C.type.startsWith("axis"));if(a.length===0)return t;const s=a.map(C=>{const E=C.type==="axisArc"?"arc":"linear";return mce(C,E,n)}),o=Uo(s,C=>{var E;return(E=C.labelSpacing)!==null&&E!==void 0?E:0}),l=a.flatMap((C,E)=>{const M=s[E],R=j$(C,r);return F$(M,R)}).filter(Es),c=Uo(l,C=>C.height)+o,u=a.flatMap((C,E)=>{const M=s[E];return H$(M)}).filter(C=>C!==null),d=u.length===0?0:Uo(u,C=>C.height),{inset:h=c,insetLeft:g=h,insetBottom:v=h,insetTop:x=h+d,insetRight:w=h}=t;return Object.assign(Object.assign({},t),{insetLeft:g,insetBottom:v,insetTop:x,insetRight:w})}function JW(e,t,n,r,i,a,s){const o=Rs(e,v=>v.position),{padding:l=a.padding,paddingLeft:c=l,paddingRight:u=l,paddingBottom:d=l,paddingTop:h=l}=i,g={paddingBottom:d,paddingLeft:c,paddingTop:h,paddingRight:u};for(const v of r){const x=`padding${KB(I6(v))}`,w=o.get(v)||[],C=g[x],E=U=>{U.size===void 0&&(U.size=U.defaultSize)},M=U=>{U.type==="group"?(U.children.forEach(E),U.size=Uo(U.children,q=>q.size)):U.size=U.defaultSize},R=U=>{U.size||(C!=="auto"?M(U):(gce(U,t,n,v,a,s),E(U)))},L=U=>{U.type.startsWith("axis")&&U.labelAutoHide===void 0&&(U.labelAutoHide=!0)},N=v==="bottom"||v==="top",D=hp(w,U=>U.order),H=w.filter(U=>U.type.startsWith("axis")&&U.order==D);if(H.length&&(H[0].crossPadding=0),typeof C=="number")w.forEach(E),w.forEach(L);else if(w.length===0)g[x]=0;else{const U=N?t+n[0]+n[1]:t,q=pce(w,U);q.forEach(R);const K=q.reduce((Q,{size:X,crossPadding:te=12})=>Q+X+te,0);g[x]=K}}return g}function bQe(e,t,n){const r=Rs(e,N=>`${N.plane||"xy"}-${N.position}`),{paddingLeft:i,paddingRight:a,paddingTop:s,paddingBottom:o,marginLeft:l,marginTop:c,marginBottom:u,marginRight:d,innerHeight:h,innerWidth:g,insetBottom:v,insetLeft:x,insetRight:w,insetTop:C,height:E,width:M,depth:R}=n,L={xy:NL({width:M,height:E,paddingLeft:i,paddingRight:a,paddingTop:s,paddingBottom:o,marginLeft:l,marginTop:c,marginBottom:u,marginRight:d,innerHeight:h,innerWidth:g,insetBottom:v,insetLeft:x,insetRight:w,insetTop:C}),yz:NL({width:R,height:E,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:R,innerHeight:E,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:NL({width:M,height:R,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:M,innerHeight:R,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[N,D]of r.entries()){const[H,U]=N.split("-"),q=L[H][U],[K,Q]=pte(D,X=>typeof X.type!="string"?!1:!!(U==="center"||X.type.startsWith("axis")&&["inner","outer"].includes(U)));K.length&&_Qe(K,t,q,U),Q.length&&AQe(D,t,q)}}function NL({width:e,height:t,paddingLeft:n,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:s,marginTop:o,marginBottom:l,marginRight:c,innerHeight:u,innerWidth:d,insetBottom:h,insetLeft:g,insetRight:v,insetTop:x}){const w=n+s,C=i+o,E=r+c,M=a+l,R=e-s-c,L=[w+g,C+x,d-g-v,u-x-h,"center",null,null];return{top:[w,0,d,C,"vertical",!0,Il,s,R],right:[e-E,C,E,u,"horizontal",!1,Il],bottom:[w,t-M,d,M,"vertical",!1,Il,s,R],left:[0,C,w,u,"horizontal",!0,Il],"top-left":[w,0,d,C,"vertical",!0,Il],"top-right":[w,0,d,C,"vertical",!0,Il],"bottom-left":[w,t-M,d,M,"vertical",!1,Il],"bottom-right":[w,t-M,d,M,"vertical",!1,Il],center:L,inner:L,outer:L}}function _Qe(e,t,n,r){const[i,a]=pte(e,s=>!!(typeof s.type=="string"&&s.type.startsWith("axis")));xQe(i,t,n,r),IQe(a,t,n)}function xQe(e,t,n,r){r==="center"?n4e(t)?MQe(e,t,n):gs(t)?CQe(e,t,n):u$(t)&&EQe(e,t,n,e[0].orientation):r==="inner"?wQe(e,t,n):r==="outer"&&SQe(e,t,n)}function wQe(e,t,n){const[r,i,,a]=n,[s,o]=t.getCenter(),[l]=f$(t),c=a/2,u=l*c,d=s-u,h=o-u;for(let g=0;g<e.length;g++){const v=e[g];v.bbox={x:r+d,y:i+h,width:u*2,height:u*2}}}function SQe(e,t,n){const[r,i,a,s]=n;for(const o of e)o.bbox={x:r,y:i,width:a,height:s}}function CQe(e,t,n){const[r,i,a,s]=n;for(const o of e)o.bbox={x:r,y:i,width:a,height:s}}function EQe(e,t,n,r){r==="horizontal"?TQe(e,t,n):r==="vertical"&&OQe(e,t,n)}function OQe(e,t,n){const[r,i,,a]=n,s=new Array(e.length).fill(0),l=t.map(s).filter((c,u)=>u%2===0).map(c=>c+r);for(let c=0;c<e.length;c++){const u=e[c],d=l[c],h=l[c+1]-d;u.bbox={x:d,y:i,width:h,height:a}}}function TQe(e,t,n){const[r,i,a]=n,s=new Array(e.length).fill(0),l=t.map(s).filter((c,u)=>u%2===1).map(c=>c+i);for(let c=0;c<e.length;c++){const u=e[c],d=l[c],h=l[c+1]-d;u.bbox={x:r,y:d,width:a,height:h}}}function MQe(e,t,n,r){const[i,a,s,o]=n;for(const l of e)l.bbox={x:i,y:a,width:s,height:o},l.radar={index:e.indexOf(l),count:e.length}}function AQe(e,t,n){const[r,i,a,s,o,l,c,u,d]=n,[h,g,v,x,w,C,E,M]=o==="vertical"?["y",i,"x",r,"height",s,"width",a]:["x",r,"y",i,"width",a,"height",s];e.sort((U,q)=>c?.(U.order,q.order));const R=U=>U==="title"||U==="group"||U.startsWith("legend"),L=(U,q,K)=>K===void 0?q:R(U)?K:q,N=(U,q,K)=>K===void 0?q:R(U)?K:q,D=l?g+C:g;for(let U=0,q=D;U<e.length;U++){const K=e[U],{crossPadding:Q=0,type:X}=K,{size:te}=K;K.bbox={[h]:l?q-te-Q:q+Q,[v]:N(X,x,u),[w]:te,[E]:L(X,M,d)},q+=(te+Q)*(l?-1:1)}const H=e.filter(U=>U.type==="group");for(const U of H){const{bbox:q,children:K}=U,Q=q[E],X=Q/K.length,te=K.reduce((ce,le)=>{var pe;const ye=(pe=le.layout)===null||pe===void 0?void 0:pe.justifyContent;return ye||ce},"flex-start"),ee=K.map((ce,le)=>{const{length:pe=X,padding:ye=0}=ce;return pe+(le===K.length-1?0:ye)}),Z=ug(ee),re=Q-Z,oe=te==="flex-start"?0:te==="center"?re/2:re;for(let ce=0,le=q[v]+oe;ce<K.length;ce++){const pe=K[ce],{padding:ye=0}=pe,_e=ce===K.length-1?0:ye;pe.bbox={[w]:q[w],[h]:q[h],[v]:le,[E]:ee[ce]-_e},Pn(pe,{layout:{justifyContent:te}}),le+=ee[ce]}}}function IQe(e,t,n){if(e.length===0)return;const[r,i,a,s]=n,[o]=f$(t),l=s/2*o/Math.sqrt(2),c=r+a/2,u=i+s/2;for(let d=0;d<e.length;d++){const h=e[d];h.bbox={x:c-l,y:u-l,width:l*2,height:l*2}}}var PQe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},g2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yce=Symbol("CALLBACK_ITEM");function RQe(e,t,n){const{encode:r={},scale:i={},transform:a=[]}=t,s=g2(t,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},s),{encode:r,scale:i,transform:a})]}function bce(e,t,n){return PQe(this,void 0,void 0,function*(){const{library:r}=n,{data:i}=t,[a]=Ws("data",r),s=GQe(i),{transform:o=[]}=s,u=[g2(s,["transform"]),...o].map(g=>a(g,n)),d=yield KDe(u)(i),h=i&&!Array.isArray(i)&&!Array.isArray(d)?{value:d}:d;return[Array.isArray(d)?Lx(d):[],Object.assign(Object.assign({},t),{data:h})]})}function $Qe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const i={};for(const[a,s]of Object.entries(r))if(Array.isArray(s))for(let o=0;o<s.length;o++){const l=`${a}${o===0?"":o}`;i[l]=s[o]}else i[a]=s;return[e,Object.assign(Object.assign({},t),{encode:i})]}function kQe(e,t,n){const{encode:r,data:i}=t;if(!r)return[e,t];const a=l0(r,s=>HQe(s)?s:{type:VQe(i,s),value:s});return[e,Object.assign(Object.assign({},t),{encode:a})]}function LQe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const i=l0(r,(a,s)=>{const{type:o}=a;return o!=="constant"||FZe(s)?a:Object.assign(Object.assign({},a),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:i})]}function NQe(e,t,n){const{encode:r,data:i}=t;if(!r)return[e,t];const{library:a}=n,s=KQe(a),o=l0(r,l=>s(i,l));return[e,Object.assign(Object.assign({},t),{encode:o})]}function DQe(e,t,n){const{tooltip:r={}}=t;return Vy(r)?[e,t]:Array.isArray(r)?[e,Object.assign(Object.assign({},t),{tooltip:{items:r}})]:e2(r)&&qae(r)?[e,Object.assign(Object.assign({},t),{tooltip:r})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[r]}})]}function zQe(e,t,n){const{data:r,encode:i,tooltip:a={}}=t;if(Vy(a))return[e,t];const s=d=>{if(!d)return d;if(typeof d=="string")return e.map(h=>({name:d,value:r[h][d]}));if(e2(d)){const{field:h,channel:g,color:v,name:x=h,valueFormatter:w=N=>N}=d,C=typeof w=="string"?z1(w):w,E=g&&i[g],M=E&&i[g].field,R=x||M||g,L=[];for(const N of e){const D=h?r[N][h]:E?i[g].value[N]:null;L[N]={name:R,color:v,value:C(D)}}return L}if(typeof d=="function"){const h=[];for(const g of e){const v=d(r[g],g,r,i);e2(v)?h[g]=Object.assign(Object.assign({},v),{[yce]:!0}):h[g]={value:v}}return h}return d},{title:o,items:l=[]}=a,c=g2(a,["title","items"]),u=Object.assign({title:s(o),items:Array.isArray(l)?l.map(s):[]},c);return[e,Object.assign(Object.assign({},t),{tooltip:u})]}function BQe(e,t,n){const{encode:r}=t,i=g2(t,["encode"]);if(!r)return[e,t];const a=Object.entries(r),s=a.filter(([,l])=>{const{value:c}=l;return Array.isArray(c[0])}).flatMap(([l,c])=>{const u=[[l,new Array(e.length).fill(void 0)]],{value:d}=c,h=g2(c,["value"]);for(let g=0;g<d.length;g++){const v=d[g];if(Array.isArray(v))for(let x=0;x<v.length;x++){const w=u[x]||[`${l}${x}`,new Array(e).fill(void 0)];w[1][g]=v[x],u[x]=w}}return u.map(([g,v])=>[g,Object.assign({type:"column",value:v},h)])}),o=Object.fromEntries([...a,...s]);return[e,Object.assign(Object.assign({},i),{encode:o})]}function jQe(e,t,n){const{axis:r={},legend:i={},slider:a={},scrollbar:s={}}=t,o=(c,u)=>{if(typeof c=="boolean")return c?{}:null;const d=c[u];return d===void 0||d?d:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return Pn(t,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(c=>{const u=o(s,c);return[c,Object.assign({guide:o(r,c),slider:o(a,c),scrollbar:u},u&&{ratio:u.ratio===void 0?.5:u.ratio})]}))),{color:{guide:o(i,"color")},size:{guide:o(i,"size")},shape:{guide:o(i,"shape")},opacity:{guide:o(i,"opacity")}})}),[e,t]}function FQe(e,t,n){const{animate:r}=t;return r||r===void 0?[e,t]:(Pn(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t])}function HQe(e){if(typeof e!="object"||e instanceof Date||e===null)return!1;const{type:t}=e;return Es(t)}function VQe(e,t){return typeof t=="function"?"transform":typeof t=="string"&&UQe(e,t)?"field":"constant"}function UQe(e,t){return Array.isArray(e)?e.some(n=>n[t]!==void 0):!1}function GQe(e){if(qs(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:t="inline"}=e,n=g2(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}var _ce=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},WQe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qQe(e,t,n){return _ce(this,void 0,void 0,function*(){const[r,i]=yield YQe(e,t,n),{encode:a,scale:s,data:o,tooltip:l}=i;if(Array.isArray(o)===!1)return null;const{channels:c}=t,u=BB(Object.entries(a).filter(([,h])=>Es(h)),h=>h.map(([g,v])=>Object.assign({name:g},v)),([h])=>{var g;const v=(g=/([^\d]+)\d*$/.exec(h))===null||g===void 0?void 0:g[1],x=c.find(w=>w.name===v);return x?.independent?h:v}),d=c.filter(h=>{const{name:g,required:v}=h;if(u.find(([x])=>x===g))return!0;if(v)throw new Error(`Missing encoding for channel: ${g}.`);return!1}).flatMap(h=>{const{name:g,scale:v,scaleKey:x,range:w,quantitative:C,ordinal:E}=h;return u.filter(([R])=>R.startsWith(g)).map(([R,L],N)=>{const D=L.some(Z=>Z.visual),H=L.some(Z=>Z.constant),U=s[R]||{},{independent:q=!1,key:K=x||R,type:Q=H?"constant":D?"identity":v}=U,X=WQe(U,["independent","key","type"]),te=Q==="constant",ee=te?void 0:w;return{name:R,values:L,scaleKey:q||te?Symbol("independent"):K,scale:Object.assign(Object.assign({type:Q,range:ee},X),{quantitative:C,ordinal:E})}})});return[i,Object.assign(Object.assign({},t),{index:r,channels:d,tooltip:l})]})}function KQe(e){const[t]=Ws("encode",e);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:t(r)(n),field:XQe(r)})}function YQe(e,t,n){return _ce(this,void 0,void 0,function*(){const{library:r}=n,[i]=Ws("transform",r),{preInference:a=[],postInference:s=[]}=t,{transform:o=[]}=e,l=[RQe,bce,$Qe,kQe,LQe,NQe,BQe,FQe,jQe,DQe,...a.map(i),...o.map(i),...s.map(i),zQe];let c=[],u=e;for(const d of l)[c,u]=yield d(c,u,n);return[c,u]})}function XQe(e){const{type:t,value:n}=e;return t==="field"&&typeof n=="string"?n:null}var jy=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},x1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function F8(e,t,n){var r;return jy(this,void 0,void 0,function*(){const{library:i}=n,[a]=Ws("composition",i),[s]=Ws("interaction",i),o=new Set(Object.keys(i).map(X=>{var te;return(te=/mark\.(.*)/.exec(X))===null||te===void 0?void 0:te[1]}).filter(Es)),l=new Set(Object.keys(i).map(X=>{var te;return(te=/component\.(.*)/.exec(X))===null||te===void 0?void 0:te[1]}).filter(Es)),c=X=>{const{type:te}=X;if(typeof te=="function"){const{props:ee={}}=te,{composite:Z=!0}=ee;if(Z)return"mark"}return typeof te!="string"?te:o.has(te)||l.has(te)?"mark":te},u=X=>c(X)==="mark",d=X=>c(X)==="standardView",h=X=>{const{type:te}=X;return typeof te!="string"?!1:!!l.has(te)},g=X=>{if(d(X))return[X];const te=c(X);return a({type:te,static:h(X)})(X)},v=[],x=new Map,w=new Map,C=[e],E=[];for(;C.length;){const X=C.shift();if(d(X)){const te=w.get(X),[ee,Z]=te?Sce(te,X,i):yield xce(X,n);x.set(ee,X),v.push(ee);const re=Z.flatMap(g).map(oe=>Rle(oe,i));if(C.push(...re),re.every(d)){const oe=yield Promise.all(re.map(ce=>wce(ce,n)));bZe(oe);for(let ce=0;ce<re.length;ce++){const le=re[ce],pe=oe[ce];w.set(le,pe)}}}else{const te=u(X)?X:yield Tce(X,n),ee=g(te);Array.isArray(ee)?C.push(...ee):typeof ee=="function"&&E.push(ee())}}n.emitter.emit(Ho.BEFORE_PAINT);const M=new Map,R=new Map,L=[];t.selectAll(Gv(F5)).data(v,X=>X.key).join(X=>X.append("g").attr("className",F5).attr("id",te=>te.key).call(eq).each(function(te,ee,Z){u4(te,Jr(Z),L,n),M.set(te,Z)}),X=>X.call(eq).each(function(te,ee,Z){u4(te,Jr(Z),L,n),R.set(te,Z)}),X=>X.each(function(te,ee,Z){const re=Z.nameInteraction.values();for(const oe of re)oe.destroy()}).remove());const N=(X,te,ee)=>Array.from(X.entries()).map(([Z,re])=>{const oe=ee||new Map,ce=(ye,_e=Se=>Se)=>oe.set(ye,_e),le=x.get(Z),pe=QQe(Jr(re),le,n);return{view:Z,container:re,options:le,setState:ce,update:(ye,_e)=>jy(this,void 0,void 0,function*(){const Re=qB(Array.from(oe.values()))(le);return yield pe(Re,ye,()=>{Qc(_e)&&te(X,_e,oe)})})}}),D=(X=R,te,ee)=>{var Z;const re=N(X,D,ee);for(const oe of re){const{options:ce,container:le}=oe,pe=le.nameInteraction;let ye=lP(ce);te&&(ye=ye.filter(_e=>te.includes(_e[0])));for(const _e of ye){const[Se,Re]=_e,je=pe.get(Se);if(je&&((Z=je.destroy)===null||Z===void 0||Z.call(je)),Re){const ze=c4(oe.view,Se,Re,s)(oe,re,n.emitter);pe.set(Se,{destroy:ze})}}}},H=N(M,D);for(const X of H){const{options:te}=X,ee=new Map;X.container.nameInteraction=ee;for(const Z of lP(te)){const[re,oe]=Z;if(oe){const le=c4(X.view,re,oe,s)(X,H,n.emitter);ee.set(re,{destroy:le})}}}D();const{width:U,height:q}=e,K=[];for(const X of E){const te=new Promise(ee=>jy(this,void 0,void 0,function*(){for(const Z of X){const re=Object.assign({width:U,height:q},Z);yield F8(re,t,n)}ee()}));K.push(te)}n.views=v,(r=n.animations)===null||r===void 0||r.forEach(X=>X?.cancel()),n.animations=L,n.emitter.emit(Ho.AFTER_PAINT);const Q=L.filter(Es).map(hJe).map(X=>X.finished);return Promise.all([...Q,...K])})}function eq(e){e.style("transform",t=>`translate(${t.layout.x}, ${t.layout.y})`)}function ZQe(e){const[,t]=Ws("interaction",e);return n=>{const[r,i]=n;try{return[r,t(r)]}catch{return[r,i.type]}}}function QQe(e,t,n){const{library:r}=n,i=ZQe(r),a=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,o=lP(t).map(i).filter(a).map(l=>l[0]);return(l,c,u)=>jy(this,void 0,void 0,function*(){const d=[],[h,g]=yield xce(l,n);u4(h,e,d,n);for(const v of o.filter(x=>x!==c))JQe(v,e,l,h,n);for(const v of g)F8(v,e,n);return u(),{options:l,view:h}})}function JQe(e,t,n,r,i){var a;const{library:s}=i,[o]=Ws("interaction",s),c=t.node().nameInteraction,u=lP(n).find(([x])=>x===e),d=c.get(e);if(!d||((a=d.destroy)===null||a===void 0||a.call(d),!u[1]))return;const h=c4(r,e,u[1],o),g={options:n,view:r,container:t.node(),update:x=>Promise.resolve(x)},v=h(g,[],i.emitter);c.set(e,{destroy:v})}function xce(e,t){return jy(this,void 0,void 0,function*(){const{library:n}=t,r=yield tJe(e,t),i=eJe(r);e.interaction=i.interaction,e.coordinate=i.coordinate,e.marks=[...i.marks,...i.components];const a=Rle(i,n),s=yield wce(a,t);return Sce(s,a,n)})}function eJe(e){const{coordinate:t={},interaction:n={},style:r={},marks:i}=e,a=x1(e,["coordinate","interaction","style","marks"]),s=i.map(h=>h.coordinate||{}),o=i.map(h=>h.interaction||{}),l=i.map(h=>h.viewStyle||{}),c=[...s,t].reduceRight((h,g)=>Pn(h,g),{}),u=[n,...o].reduce((h,g)=>Pn(h,g),{}),d=[...l,r].reduce((h,g)=>Pn(h,g),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:u,style:d})}function tJe(e,t){return jy(this,void 0,void 0,function*(){const{library:n}=t,[r,i]=Ws("mark",n),a=new Set(Object.keys(n).map(g=>{var v;return(v=/component\.(.*)/.exec(g))===null||v===void 0?void 0:v[1]}).filter(Es)),{marks:s}=e,o=[],l=[],c=[...s],{width:u,height:d}=vQe(e),h={options:e,width:u,height:d};for(;c.length;){const[g]=c.splice(0,1),v=yield Tce(g,t),{type:x=JS("G2Mark type is required."),key:w}=v;if(a.has(x))l.push(v);else{const{props:C={}}=i(x),{composite:E=!0}=C;if(!E)o.push(v);else{const{data:M}=v,R=Object.assign(Object.assign({},v),{data:M&&(Array.isArray(M)?M:M.value)}),L=yield r(R,h),N=Array.isArray(L)?L:[L];c.unshift(...N.map((D,H)=>Object.assign(Object.assign({},D),{key:`${w}-${H}`})))}}}return Object.assign(Object.assign({},e),{marks:o,components:l})})}function wce(e,t){return jy(this,void 0,void 0,function*(){const{library:n}=t,[r]=Ws("theme",n),[,i]=Ws("mark",n),{theme:a,marks:s,coordinates:o=[]}=e,l=r(Oce(a)),c=new Map;for(const d of s){const{type:h}=d,{props:g={}}=i(h),v=yield qQe(d,g,t);if(v){const[x,w]=v;c.set(x,w)}}const u=Rs(Array.from(c.values()).flatMap(d=>d.channels),({scaleKey:d})=>d);for(const d of u.values()){const h=d.reduce((R,{scale:L})=>Pn(R,L),{}),{scaleKey:g}=d[0],{values:v}=d[0],x=Array.from(new Set(v.map(R=>R.field).filter(Es))),w=Pn({guide:{title:x.length===0?void 0:x},field:x[0]},h),{name:C}=d[0],E=d.flatMap(({values:R})=>R.map(L=>L.value)),M=Object.assign(Object.assign({},pZe(C,E,w,o,l,n)),{uid:Symbol("scale"),key:g});d.forEach(R=>R.scale=M)}return c})}function c4(e,t,n,r){const i=e.theme,a=typeof t=="string"?i[t]||{}:{};return r(Pn(a,Object.assign({type:t},n)))}function Sce(e,t,n){var r;const[i]=Ws("mark",n),[a]=Ws("theme",n),[s]=Ws("labelTransform",n),{key:o,frame:l=!1,theme:c,clip:u,style:d={},labelTransform:h=[]}=t,g=a(Oce(c)),v=Array.from(e.values()),x=vZe(v,t),w=KZe(qZe(vJe(Array.from(x),v,e),t,n)),C=mQe(w,t,g,n),E=VYe(C,t,n),M=l?Pn({mainLineWidth:1,mainStroke:"#000"},d):d;bQe(pce(w),E,C),gQe(w);const R=new Map(Array.from(e.values()).flatMap(H=>{const{channels:U}=H;return U.map(({scale:q})=>[q.uid,GW(q,n)])}));mZe(e,R);const L={};for(const H of w){const{scales:U=[]}=H,q=[];for(const K of U){const{name:Q,uid:X}=K,te=(r=R.get(X))!==null&&r!==void 0?r:GW(K,n);q.push(te),Q==="y"&&te.update(Object.assign(Object.assign({},te.getOptions()),{xScale:L.x})),UW(L,{[Q]:te})}H.scaleInstances=q}const N=[];for(const[H,U]of e.entries()){const{children:q,dataDomain:K,modifier:Q,key:X}=H,{index:te,channels:ee,tooltip:Z}=U,re=Object.fromEntries(ee.map(({name:st,scale:Ue})=>[st,Ue])),oe=l0(re,({uid:st})=>R.get(st));UW(L,oe);const ce=gZe(ee,oe),le=i(H),[pe,ye,_e]=iJe(le(te,oe,ce,E)),Se=K||pe.length,Re=Q?Q(ye,Se,C):[],je=st=>{var Ue,Ne;return(Ne=(Ue=Z.title)===null||Ue===void 0?void 0:Ue[st])===null||Ne===void 0?void 0:Ne.value},Fe=st=>Z.items.map(Ue=>Ue[st]),ze=pe.map((st,Ue)=>{const Ne=Object.assign({points:ye[Ue],transform:Re[Ue],index:st,markKey:X,viewKey:o},Z&&{title:je(st),items:Fe(st)});for(const[qe,We]of Object.entries(ce))Ne[qe]=We[st],_e&&(Ne[`series${P1(qe)}`]=_e[Ue].map(rt=>We[rt]));return _e&&(Ne.seriesIndex=_e[Ue]),_e&&Z&&(Ne.seriesItems=_e[Ue].map(qe=>Fe(qe)),Ne.seriesTitle=_e[Ue].map(qe=>je(qe))),Ne});U.data=ze,U.index=pe;const Ze=q?.(ze,oe,C);N.push(...Ze||[])}return[{layout:C,theme:g,coordinate:E,markState:e,key:o,clip:u,scale:L,style:M,components:w,labelTransform:qB(h.map(s))},N]}function u4(e,t,n,r){return jy(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:s,layout:o,markState:l,coordinate:c,key:u,style:d,clip:h,scale:g}=e,{x:v,y:x,width:w,height:C}=o,E=x1(o,["x","y","width","height"]),M=["view","plot","main","content"],R=M.map((oe,ce)=>ce),L=["a","margin","padding","inset"],N=M.map(oe=>fte(Object.assign({},s.view,d),oe)),D=L.map(oe=>or(E,oe)),H=oe=>oe.style("x",ce=>X[ce].x).style("y",ce=>X[ce].y).style("width",ce=>X[ce].width).style("height",ce=>X[ce].height).each(function(ce,le,pe){yJe(Jr(pe),N[ce])});let U=0,q=0,K=w,Q=C;const X=R.map(oe=>{const ce=D[oe],{left:le=0,top:pe=0,bottom:ye=0,right:_e=0}=ce;return U+=le,q+=pe,K-=le+_e,Q-=pe+ye,{x:U,y:q,width:K,height:Q}});t.selectAll(Gv(JG)).data(R.filter(oe=>Es(N[oe])),oe=>M[oe]).join(oe=>oe.append("rect").attr("className",JG).style("zIndex",-2).call(H),oe=>oe.call(H),oe=>oe.remove());const te=lJe(l),ee=te?{duration:te[1]}:!1;for(const[,oe]of DB(a,ce=>`${ce.type}-${ce.position}`))oe.forEach((ce,le)=>ce.index=le);const Z=t.selectAll(Gv(QG)).data(a,oe=>`${oe.type}-${oe.position}-${oe.index}`).join(oe=>oe.append("g").style("zIndex",({zIndex:ce})=>ce||-1).attr("className",QG).append(ce=>QW(Pn({animate:ee,scale:g},ce),c,s,i,l)),oe=>oe.transition(function(ce,le,pe){const{preserve:ye=!1}=ce;if(ye)return;const _e=QW(Pn({animate:ee,scale:g},ce),c,s,i,l),{attributes:Se}=_e,[Re]=pe.childNodes;return Re.update(Se,!1)})).transitions();n.push(...Z.flat().filter(Es));const re=t.selectAll(Gv(sO)).data([o],()=>u).join(oe=>oe.append("rect").style("zIndex",0).style("fill","transparent").attr("className",sO).call(tq).call(nq,Array.from(l.keys())).call(rq,h),oe=>oe.call(nq,Array.from(l.keys())).call(ce=>te?mJe(ce,te):tq(ce)).call(rq,h)).transitions();n.push(...re.flat());for(const[oe,ce]of l.entries()){const{data:le}=ce,{key:pe,class:ye,type:_e}=oe,Se=t.select(`#${pe}`),Re=fJe(oe,ce,e,r),je=dJe(oe,ce,e,i),Fe=pJe(oe,ce,e,i),ze=gJe(oe,ce,e,i),Ze=cJe(t,Se,ye,"element"),st=Se.selectAll(Gv(Sy)).selectFacetAll(Ze).data(le,Ue=>Ue.key,Ue=>Ue.groupKey).join(Ue=>Ue.append(Re).attr("className",Sy).attr("markType",_e).transition(function(Ne,qe,We){return je(Ne,[We])}),Ue=>Ue.call(Ne=>{const qe=Ne.parent(),We=YDe(rt=>{const[ht,ft]=rt.getBounds().min;return[ht,ft]});Ne.transition(function(rt,ht,ft){uJe(ft,qe,We);const Rt=Re(rt,ht),Yt=Fe(rt,[ft],[Rt]);return Yt?.length||(ft.nodeName===Rt.nodeName&&Rt.nodeName!=="g"?YB(ft,Rt):(ft.parentNode.replaceChild(Rt,ft),Rt.className=Sy,Rt.markType=_e,Rt.__data__=ft.__data__)),Yt}).attr("markType",_e).attr("className",Sy)}),Ue=>Ue.each(function(Ne,qe,We){We.__removed__=!0}).transition(function(Ne,qe,We){return ze(Ne,[We])}).remove(),Ue=>Ue.append(Re).attr("className",Sy).attr("markType",_e).transition(function(Ne,qe,We){const{__fromElements__:rt}=We,ht=Fe(Ne,rt,[We]);return new RI(rt,null,We.parentNode).transition(ht).remove(),ht}),Ue=>Ue.transition(function(Ne,qe,We){const ht=new RI([],We.__toData__,We.parentNode).append(Re).attr("className",Sy).attr("markType",_e).nodes();return Fe(Ne,[We],ht)}).remove()).transitions();n.push(...st.flat())}nJe(e,t,n,i,r)})}function nJe(e,t,n,r,i){const[a]=Ws("labelTransform",r),{markState:s,labelTransform:o}=e,l=t.select(Gv(j5)).node(),c=new Map,u=new Map,d=Array.from(s.entries()).flatMap(([C,E])=>{const{labels:M=[],key:R}=C,L=sJe(C,E,e,r,i),N=t.select(`#${R}`).selectAll(Gv(Sy)).nodes().filter(D=>!D.__removed__);return M.flatMap((D,H)=>{const{transform:U=[]}=D,q=x1(D,["transform"]);return N.flatMap(K=>{const Q=rJe(q,H,K);return Q.forEach(X=>{c.set(X,te=>L(Object.assign(Object.assign({},te),{element:K}))),u.set(X,D)}),Q})})}),h=Jr(l).selectAll(Gv(H5)).data(d,C=>C.key).join(C=>C.append(E=>c.get(E)(E)).attr("className",H5),C=>C.each(function(E,M,R){const N=c.get(E)(E);YB(R,N)}),C=>C.remove()).nodes(),g=Rs(h,C=>u.get(C.__data__)),{coordinate:v,layout:x}=e,w={canvas:i.canvas,coordinate:v,layout:x};for(const[C,E]of g){const{transform:M=[]}=C;qB(M.map(a))(E,w)}o&&o(h,w)}function rJe(e,t,n){const{seriesIndex:r,seriesKey:i,points:a,key:s,index:o}=n.__data__,l=oJe(n);if(!r)return[Object.assign(Object.assign({},e),{key:`${s}-${t}`,bounds:l,index:o,points:a,dependentElement:n})];const c=aJe(e),u=r.map((d,h)=>Object.assign(Object.assign({},e),{key:`${i[h]}-${t}`,bounds:[a[h]],index:d,points:a,dependentElement:n}));return c?c(u):u}function iJe([e,t,n]){if(n)return[e,t,n];const r=[],i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a];o.every(([l,c])=>Es(l)&&Es(c))&&(r.push(s),i.push(o))}return[r,i]}function aJe(e){const{selector:t}=e;if(!t)return null;if(typeof t=="function")return t;if(t==="first")return n=>[n[0]];if(t==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${t}`)}function oJe(e){const t=e.cloneNode(),n=e.getAnimations();t.style.visibility="hidden",n.forEach(s=>{const o=s.effect.getKeyframes();t.attr(o[o.length-1])}),e.parentNode.appendChild(t);const r=t.getLocalBounds();t.destroy();const{min:i,max:a}=r;return[i,a]}function sJe(e,t,n,r,i){const[a]=Ws("shape",r),{data:s,encode:o}=e,{data:l,defaultLabelShape:c}=t,u=l.map(x=>x.points),d=l0(o,x=>x.value),{theme:h,coordinate:g}=n,v=Object.assign(Object.assign({},i),{document:Ple(i),theme:h,coordinate:g});return x=>{const{index:w,points:C}=x,E=s[w],{formatter:M=ce=>`${ce}`,transform:R,style:L,render:N,selector:D,element:H}=x,U=x1(x,["formatter","transform","style","render","selector","element"]),q=l0(Object.assign(Object.assign({},U),L),ce=>Cce(ce,E,w,s,{channel:d,element:H})),{shape:K=c,text:Q}=q,X=x1(q,["shape","text"]),te=typeof M=="string"?z1(M):M,ee=Object.assign(Object.assign({},X),{text:te(Q,E,w,s),datum:E}),Z=Object.assign({type:`label.${K}`,render:N},X),re=a(Z,v),oe=Ece(h,"label",K,"label");return re(C,ee,oe,u)}}function Cce(e,t,n,r,i){return typeof e=="function"?e(t,n,r,i):typeof e!="string"?e:e2(t)&&t[e]!==void 0?t[e]:e}function lJe(e){let t=-1/0,n=1/0;for(const[r,i]of e){const{animate:a={}}=r,{data:s}=i,{enter:o={},update:l={},exit:c={}}=a,{type:u,duration:d=300,delay:h=0}=l,{type:g,duration:v=300,delay:x=0}=o,{type:w,duration:C=300,delay:E=0}=c;for(const M of s){const{updateType:R=u,updateDuration:L=d,updateDelay:N=h,enterType:D=g,enterDuration:H=v,enterDelay:U=x,exitDuration:q=C,exitDelay:K=E,exitType:Q=w}=M;(R===void 0||R)&&(t=Math.max(t,L+N),n=Math.min(n,N)),(Q===void 0||Q)&&(t=Math.max(t,q+K),n=Math.min(n,K)),(D===void 0||D)&&(t=Math.max(t,H+U),n=Math.min(n,U))}}return t===-1/0?null:[n,t-n]}function cJe(e,t,n,r){return e.node().parentElement.findAll(a=>a.style.facet!==void 0&&a.style.facet===n&&a!==t.node()).flatMap(a=>a.getElementsByClassName(r))}function uJe(e,t,n){if(!e.__facet__)return;const r=e.parentNode.parentNode,i=t.parentNode,[a,s]=n(r),[o,l]=n(i),c=`translate(${a-o}, ${s-l})`;XDe(e,c),t.append(e)}function fJe(e,t,n,r){const{library:i}=r,[a]=Ws("shape",i),{data:s,encode:o}=e,{defaultShape:l,data:c,shape:u}=t,d=l0(o,E=>E.value),h=c.map(E=>E.points),{theme:g,coordinate:v}=n,{type:x,style:w={}}=e,C=Object.assign(Object.assign({},r),{document:Ple(r),coordinate:v,theme:g});return E=>{const{shape:M=l}=w,{shape:R=M,points:L,seriesIndex:N,index:D}=E,H=x1(E,["shape","points","seriesIndex","index"]),U=Object.assign(Object.assign({},H),{index:D}),q=N?N.map(ee=>s[ee]):s[D],K=N||D,Q=l0(w,ee=>Cce(ee,q,K,s,{channel:d})),X=u[R]?u[R](Q,C):a(Object.assign(Object.assign({},Q),{type:Mce(e,R)}),C),te=Ece(g,x,R,l);return X(L,U,te,h)}}function Ece(e,t,n,r){if(typeof t!="string")return;const{color:i}=e,a=e[t]||{},s=a[n]||a[r];return Object.assign({color:i},s)}function H8(e,t,n,r,i){var a,s;const[,o]=Ws("shape",i),[l]=Ws("animation",i),{defaultShape:c,shape:u}=n,{theme:d,coordinate:h}=r,v=`default${P1(e)}Animation`,{[v]:x}=((a=u[c])===null||a===void 0?void 0:a.props)||o(Mce(t,c)).props,{[e]:w={}}=d,C=((s=t.animate)===null||s===void 0?void 0:s[e])||{},E={coordinate:h};return(M,R,L)=>{const{[`${e}Type`]:N,[`${e}Delay`]:D,[`${e}Duration`]:H,[`${e}Easing`]:U}=M,q=Object.assign({type:N||x},C);if(!q.type)return null;const X=l(q,E)(R,L,Pn(w,{delay:D,duration:H,easing:U}));let te=[];return Array.isArray(X)?te=X:te=[X],te.filter(Boolean)}}function dJe(e,t,n,r){return H8("enter",e,t,n,r)}function hJe(e){return e.finished.then(()=>{e.cancel()}),e}function pJe(e,t,n,r){return H8("update",e,t,n,r)}function gJe(e,t,n,r){return H8("exit",e,t,n,r)}function Oce(e={}){if(typeof e=="string")return{type:e};const{type:t="light"}=e,n=x1(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}function lP(e){const t={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=e;return Object.entries(Pn(t,n)).reverse()}function Tce(e,t){return jy(this,void 0,void 0,function*(){const{data:n}=e,r=x1(e,["data"]);if(n==null)return e;const[,{data:i}]=yield bce([],{data:n},t);return Object.assign({data:i},r)})}function tq(e){e.style("transform",t=>`translate(${t.paddingLeft+t.marginLeft}, ${t.paddingTop+t.marginTop})`).style("width",t=>t.innerWidth).style("height",t=>t.innerHeight)}function mJe(e,t){const[n,r]=t;e.transition(function(i,a,s){const{transform:o,width:l,height:c}=s.style,{paddingLeft:u,paddingTop:d,innerWidth:h,innerHeight:g,marginLeft:v,marginTop:x}=i,w=[{transform:o,width:l,height:c},{transform:`translate(${u+v}, ${d+x})`,width:h,height:g}];return s.animate(w,{delay:n,duration:r,fill:"both"})})}function Mce(e,t){const{type:n}=e;return typeof t=="string"?`${n}.${t}`:t}function nq(e,t){const n=a=>a.class!==void 0?`${a.class}`:"";e.nodes().length===0||(e.selectAll(Gv(ZG)).data(t,a=>a.key).join(a=>a.append("g").attr("className",ZG).attr("id",s=>s.key).style("facet",n).style("fill","transparent").style("zIndex",s=>{var o;return(o=s.zIndex)!==null&&o!==void 0?o:0}),a=>a.style("facet",n).style("fill","transparent").style("zIndex",s=>{var o;return(o=s.zIndex)!==null&&o!==void 0?o:0}),a=>a.remove()),e.select(Gv(j5)).node())||e.append("g").attr("className",j5).style("zIndex",0)}function Gv(...e){return e.map(t=>`.${t}`).join("")}function rq(e,t){e.node()&&e.style("clipPath",n=>{if(!t)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:s,innerWidth:o,innerHeight:l}=n;return new L1({style:{x:i+a,y:r+s,width:o,height:l}})})}function vJe(e,t,n){var r;for(const[c]of n.entries())if(c.type==="cell")return e.filter(u=>u.name!=="shape");if(t.length!==1||e.some(c=>c.name==="shape"))return e;const{defaultShape:i}=t[0];if(!["point","line","rect","hollow"].includes(i))return e;const s={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=e.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[s[i]]};return[...e,l]}function yJe(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function bJe(...e){return t=>e.reduce((n,r)=>r(n),t)}function _Je(e){const{style:t,scale:n,type:r}=e,i={},a=Ua(t,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},n?.x),{padding:1-a})),Object.assign(Object.assign({},e),{scale:Object.assign(Object.assign({},n),i)})}function Ace(e){const t=xJe(e);return t.children&&Array.isArray(t.children)&&(t.children=t.children.map(n=>Ace(n))),t}function xJe(e){return bJe(_Je)(e)}function wJe(e){const t=Pn({},e),n=new Map([[t,null]]),r=new Map([[null,-1]]),i=[t];for(;i.length;){const a=i.shift();if(a.key===void 0){const o=n.get(a),l=r.get(a),c=o===null?"0":`${o.key}-${l}`;a.key=c}const{children:s=[]}=a;if(Array.isArray(s))for(let o=0;o<s.length;o++){const l=Pn({},s[o]);s[o]=l,n.set(l,a),r.set(l,o),i.push(l)}}return t}function SJe(e,t){const n=new kse;return n.registerPlugin(new Nse),new ore({width:e,height:t,container:document.createElement("div"),renderer:n})}function CJe(e,t={},n=()=>{},r=i=>{throw i}){const i=_A(e),{width:a=640,height:s=480,depth:o=0}=i,l=Ace(i),c=wJe(l),{canvas:u=SJe(a,s),emitter:d=new u8,library:h}=t;t.canvas=u,t.emitter=d;const{width:g,height:v}=u.getConfig();(g!==a||v!==s)&&u.resize(a,s),d.emit(Ho.BEFORE_RENDER);const x=Jr(u.document.documentElement);return u.ready.then(()=>F8(Object.assign(Object.assign({},c),{width:a,height:s,depth:o}),x,t)).then(()=>{if(o){const[w,C]=u.document.documentElement.getPosition();u.document.documentElement.setPosition(w,C,-o/2)}u.requestAnimationFrame(()=>{u.requestAnimationFrame(()=>{d.emit(Ho.AFTER_RENDER),n?.()})})}).catch(w=>{r?.(w)}),OJe(u.getConfig().container)}function iq(e,t={},n=!1){const{canvas:r,emitter:i}=t;r&&(EJe(r),n?r.destroy():r.destroyChildren()),i.off()}function EJe(e){const t=e.getRoot().querySelectorAll(`.${F5}`);t?.forEach(n=>{const{nameInteraction:r=new Map}=n;r?.size>0&&Array.from(r?.values()).forEach(i=>{i?.destroy()})})}function OJe(e){return typeof e=="string"?document.getElementById(e):e}const TJe={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function MJe(e,t){var n;return(n=e.style[t])!==null&&n!==void 0?n:TJe[t]}function V8(e,t,n,r){e.style[t]=n,e.children.forEach(i=>V8(i,t,n))}function U8(e){V8(e,"visibility","hidden")}function V$(e){V8(e,"visibility","visible")}var yE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function w1(e){return Jr(e).selectAll(`.${Sy}`).nodes().filter(t=>!t.__removed__)}function Ice(e,t){return f4(e,t).flatMap(({container:n})=>w1(n))}function f4(e,t){return t.filter(n=>n!==e&&n.options.parentKey===e.options.key)}function b0(e){return Jr(e).select(`.${sO}`).node()}function Pce(e){if(e.tagName==="g")return e.getRenderBounds();const t=e.getGeometryBounds(),n=new lc;return n.setFromTransformedAABB(t,e.getWorldTransform()),n}function m2(e,t){const{offsetX:n,offsetY:r}=t,i=Pce(e),{min:[a,s],max:[o,l]}=i,c=n<a||n>o,u=r<s||r>l;return c||u?null:[n-a,r-s]}function DL(e,t){const{offsetX:n,offsetY:r}=t,[i,a,s,o]=AJe(e);return[Math.min(s,Math.max(i,n))-i,Math.min(o,Math.max(a,r))-a]}function AJe(e){const t=e.getRenderBounds(),{min:[n,r],max:[i,a]}=t;return[n,r,i,a]}function Rce(e){return t=>t.__data__.color}function U$(e){return t=>t.__data__.x}function Ex(e){const t=Array.isArray(e)?e:[e],n=new Map(t.flatMap(r=>Array.from(r.markState.keys()).map(a=>[cP(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:s}=r.__data__;return n.get(cP(s,a))[i]}}function Fy(e,t=(r,i)=>r,n=(r,i,a)=>r.setAttribute(i,a)){const r="__states__",i="__ordinal__",a=u=>{const{[r]:d=[],[i]:h={}}=u,g=d.reduce((v,x)=>Object.assign(Object.assign({},v),e[x]),h);if(Object.keys(g).length!==0){for(const[v,x]of Object.entries(g)){const w=MJe(u,v),C=t(x,u);n(u,v,C),v in h||(h[v]=w)}u[i]=h}},s=u=>{u[r]||(u[r]=[])};return{setState:(u,...d)=>{s(u),u[r]=[...d],a(u)},removeState:(u,...d)=>{s(u);for(const h of d){const g=u[r].indexOf(h);g!==-1&&u[r].splice(g,1)}a(u)},hasState:(u,d)=>(s(u),u[r].indexOf(d)!==-1)}}function IJe(e){return e===void 0?!0:typeof e!="object"?!1:Object.keys(e).length===0}function cP(e,t){return`${e},${t}`}function v2(e,t){const r=(Array.isArray(e)?e:[e]).flatMap(a=>a.marks.map(s=>[cP(a.key,s.key),s.state])),i={};for(const a of t){const[s,o]=Array.isArray(a)?a:[a,{}];i[s]=r.reduce((l,c)=>{const[u,d={}]=c,h=IJe(d[s])?o:d[s];for(const[g,v]of Object.entries(h)){const x=l[g],w=(C,E,M,R)=>{const L=cP(R.__data__.viewKey,R.__data__.markKey);return u!==L?x?.(C,E,M,R):typeof v!="function"?v:v(C,E,M,R)};l[g]=w}return l},{})}return i}function gT(e,t){const n=new Map(e.map((i,a)=>[i,a])),r=t?e.map(t):e;return(i,a)=>{if(typeof i!="function")return i;const s=n.get(a),o=t?t(a):a;return i(o,s,r,a)}}function $ce(e){var{link:t=!1,valueof:n=(u,d)=>u,coordinate:r}=e,i=yE(e,["link","valueof","coordinate"]);const a="element-link";if(!t)return[()=>{},()=>{}];const s=u=>u.__data__.points,o=(u,d)=>{const[,h,g]=u,[v,,,x]=d;return[h,v,x,g]};return[u=>{var d;if(u.length<=1)return;const h=Tm(u,(g,v)=>{const{x}=g.__data__,{x:w}=v.__data__;return x-w});for(let g=1;g<h.length;g++){const v=Sg(),x=h[g-1],w=h[g],[C,E,M,R]=o(s(x),s(w));v.moveTo(...C),v.lineTo(...E),v.lineTo(...M),v.lineTo(...R),v.closePath();const L=l0(i,U=>n(U,x)),{fill:N=x.getAttribute("fill")}=L,D=yE(L,["fill"]),H=new Td({className:a,style:Object.assign({d:v.toString(),fill:N,zIndex:-2},D)});(d=x.link)===null||d===void 0||d.remove(),x.parentNode.appendChild(H),x.link=H}},u=>{var d;(d=u.link)===null||d===void 0||d.remove(),u.link=null}]}function kce(e,t,n){const r=i=>{const{transform:a}=e.style;return a?`${a} ${i}`:i};if(gs(n)){const{points:i}=e.__data__,[a,s]=Gs(n)?b$(i):i,o=n.getCenter(),l=Rl(a,o),c=Rl(s,o),u=mg(l),d=qte(l,c),h=u+d/2,g=t*Math.cos(h),v=t*Math.sin(h);return r(`translate(${g}, ${v})`)}return Gs(n)?r(`translate(${t}, 0)`):r(`translate(0, ${-t})`)}function Lce(e){var{document:t,background:n,scale:r,coordinate:i,valueof:a}=e,s=yE(e,["document","background","scale","coordinate","valueof"]);const o="element-background";if(!n)return[()=>{},()=>{}];const l=(C,E,M)=>{const R=C.invert(E),L=E+C.getBandWidth(R)/2,N=C.getStep(R)/2,D=N*M;return[L-N+D,L+N-D]},c=(C,E)=>{const{x:M}=r;if(!dE(M))return[0,1];const{__data__:R}=C,{x:L}=R,[N,D]=l(M,L,E);return[N,D]},u=(C,E)=>{const{y:M}=r;if(!dE(M))return[0,1];const{__data__:R}=C,{y:L}=R,[N,D]=l(M,L,E);return[N,D]},d=(C,E)=>{const{padding:M}=E,[R,L]=c(C,M),[N,D]=u(C,M),H=[[R,N],[L,N],[L,D],[R,D]].map(Q=>i.map(Q)),{__data__:U}=C,{y:q,y1:K}=U;return vre(t,H,{y:q,y1:K},i,E)},h=(C,E)=>{const{transform:M="scale(1.2, 1.2)",transformOrigin:R="center center",stroke:L=""}=E,N=yE(E,["transform","transformOrigin","stroke"]),D=Object.assign({transform:M,transformOrigin:R,stroke:L},N),H=C.cloneNode(!0);for(const[U,q]of Object.entries(D))H.style[U]=q;return H},g=()=>{const{x:C,y:E}=r;return[C,E].some(dE)};return[C=>{C.background&&C.background.remove();const E=l0(s,Q=>a(Q,C)),{fill:M="#CCD6EC",fillOpacity:R=.3,zIndex:L=-2,padding:N=.001,lineWidth:D=0}=E,H=yE(E,["fill","fillOpacity","zIndex","padding","lineWidth"]),U=Object.assign(Object.assign({},H),{fill:M,fillOpacity:R,zIndex:L,padding:N,lineWidth:D}),K=(g()?d:h)(C,U);K.className=o,C.parentNode.parentNode.appendChild(K),C.background=K},C=>{var E;(E=C.background)===null||E===void 0||E.remove(),C.background=null},C=>C.className===o]}function Xb(e,t){const r=e.getRootNode().defaultView.getContextService().getDomElement();r?.style&&(e.cursor=r.style.cursor,r.style.cursor=t)}function PJe(e){Xb(e,e.cursor)}function G8(e,t,n){return e.find(r=>Object.entries(t).every(([i,a])=>n(r)[i]===a))}function uP(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function SC(e,t=!1){const n=qJ(e,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return t&&n.push(["Z"]),n}function Nce(e){return e.querySelectorAll(".element")}function RJe(e,t,n=0){const r=[["M",...t[1]]],i=uP(e,t[1]),a=uP(e,t[0]);return i===0?r.push(["L",...t[3]],["A",a,a,0,n,1,...t[0]],["Z"]):r.push(["A",i,i,0,n,0,...t[2]],["L",...t[3]],["A",a,a,0,n,1,...t[0]],["Z"]),r}function mT(e,t){if(t(e))return e;let n=e.parent;for(;n&&!t(n);)n=n.parent;return n}const Dce=["interval","point","density"];function $Je({elementsof:e,root:t,coordinate:n,scale:r,validFindByXMarks:i=Dce}){var a,s;let o=e(t);const l=u=>i.includes(u.markType);if(o.find(l)){o=o.filter(l);const u=r.x,d=r.series,h=(s=(a=u?.getBandWidth)===null||a===void 0?void 0:a.call(u))!==null&&s!==void 0?s:0,g=d?v=>{const x=Math.round(1/d.valueBandWidth);return v.__data__.x+v.__data__.series*h+h/(x*2)}:v=>v.__data__.x+h/2;return o.sort((v,x)=>g(v)-g(x)),v=>{const x=m2(t,v);if(!x)return;const[w]=n.invert(x),C=Dy(g).center,E=C(o,w);return o[E]}}return u=>{const{target:d}=u;return mT(d,h=>h.classList?h.classList.includes("element"):!1)}}var kJe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function LJe(e,{elements:t,datum:n,groupKey:r=d=>d,link:i=!1,background:a=!1,delay:s=60,scale:o,coordinate:l,emitter:c,state:u={}}){var d;const h=t(e),g=new Set(h),v=Rs(h,r),x=gT(h,n),[w,C]=$ce(Object.assign({elements:h,valueof:x,link:i,coordinate:l},or(u.active,"link"))),[E,M,R]=Lce(Object.assign({document:e.ownerDocument,scale:o,coordinate:l,background:a,valueof:x},or(u.active,"background"))),L=Pn(u,{active:Object.assign({},((d=u.active)===null||d===void 0?void 0:d.offset)&&{transform:(...re)=>{const oe=u.active.offset(...re),[,ce]=re;return kce(h[ce],oe,l)}})}),{setState:N,removeState:D,hasState:H}=Fy(L,x);let U;const q=re=>{const{target:oe,nativeEvent:ce=!0}=re;if(!g.has(oe))return;U&&clearTimeout(U);const le=r(oe),pe=v.get(le),ye=new Set(pe);for(const _e of h)ye.has(_e)?H(_e,"active")||N(_e,"active"):(N(_e,"inactive"),C(_e)),_e!==oe&&M(_e);E(oe),w(pe),ce&&c.emit("element:highlight",{nativeEvent:ce,data:{data:n(oe),group:pe.map(n)}})},K=()=>{U&&clearTimeout(U),U=setTimeout(()=>{Q(),U=null},s)},Q=(re=!0)=>{for(const oe of h)D(oe,"active","inactive"),M(oe),C(oe);re&&c.emit("element:unhighlight",{nativeEvent:re})},X=re=>{const{target:oe}=re;a&&!R(oe)||!a&&!g.has(oe)||(s>0?K():Q())},te=()=>{Q()};e.addEventListener("pointerover",q),e.addEventListener("pointerout",X),e.addEventListener("pointerleave",te);const ee=re=>{const{nativeEvent:oe}=re;oe||Q(!1)},Z=re=>{const{nativeEvent:oe}=re;if(oe)return;const{data:ce}=re.data,le=G8(h,ce,n);le&&q({target:le,nativeEvent:!1})};return c.on("element:highlight",Z),c.on("element:unhighlight",ee),()=>{e.removeEventListener("pointerover",q),e.removeEventListener("pointerout",X),e.removeEventListener("pointerleave",te),c.off("element:highlight",Z),c.off("element:unhighlight",ee);for(const re of h)M(re),C(re)}}function G$(e){var{delay:t,createGroup:n,background:r=!1,link:i=!1}=e,a=kJe(e,["delay","createGroup","background","link"]);return(s,o,l)=>{const{container:c,view:u,options:d}=s,{scale:h,coordinate:g}=u,v=b0(c);return LJe(v,Object.assign({elements:w1,datum:Ex(u),groupKey:n?n(u):void 0,coordinate:g,scale:h,state:v2(d,[["active",r?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:r,link:i,delay:t,emitter:l},a))}}G$.props={reapplyWhenUpdate:!0};function zce(e){return G$(Object.assign(Object.assign({},e),{createGroup:U$}))}zce.props={reapplyWhenUpdate:!0};function Bce(e){return G$(Object.assign(Object.assign({},e),{createGroup:Rce}))}Bce.props={reapplyWhenUpdate:!0};var NJe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function DJe(e,{elements:t,datum:n,groupKey:r=v=>v,regionGroupKey:i=v=>v,link:a=!1,single:s=!1,multipleSelectHotkey:o,coordinate:l,background:c=!1,scale:u,emitter:d,state:h={},region:g=!1}){var v;const x=t(e),w=new Set(x),C=$Je({elementsof:t,root:e,coordinate:l,scale:u}),E=Rs(x,r),M=Rs(x,i),R=gT(x,n),[L,N]=$ce(Object.assign({link:a,elements:x,valueof:R,coordinate:l},or(h.selected,"link"))),[D,H]=Lce(Object.assign({document:e.ownerDocument,background:c,coordinate:l,scale:u,valueof:R},or(h.selected,"background"))),U=Pn(h,{selected:Object.assign({},((v=h.selected)===null||v===void 0?void 0:v.offset)&&{transform:(...Se)=>{const Re=h.selected.offset(...Se),[,je]=Se;return kce(x[je],Re,l)}})}),{setState:q,removeState:K,hasState:Q}=Fy(U,R);let X=!s,te=null;const ee=(Se=!0)=>{for(const Re of x)K(Re,"selected","unselected"),N(Re),H(Re);Se&&d.emit("element:unselect",{nativeEvent:!0})},Z=({event:Se,element:Re,nativeEvent:je=!0,filter:Fe=st=>!0,groupBy:ze=r,groupMap:Ze=E})=>{const st=x.filter(Fe);if(Q(Re,"selected"))ee();else{const Ue=ze(Re),Ne=Ze.get(Ue),qe=new Set(Ne);for(const We of st)qe.has(We)?q(We,"selected"):(q(We,"unselected"),N(We)),We!==Re&&H(We);if(L(Ne),D(Re),!je)return;d.emit("element:select",Object.assign(Object.assign({},Se),{nativeEvent:je,data:{data:[n(Re),...Ne.map(n)]}}))}},re=({event:Se,element:Re,nativeEvent:je=!0,filter:Fe=st=>!0,groupBy:ze=r,groupMap:Ze=E})=>{const st=ze(Re),Ue=Ze.get(st),Ne=new Set(Ue),qe=x.filter(Fe);if(Q(Re,"selected")){if(!x.some(rt=>!Ne.has(rt)&&Q(rt,"selected")))return ee();for(const rt of Ue)q(rt,"unselected"),N(rt),H(rt)}else{const We=Ue.some(rt=>Q(rt,"selected"));for(const rt of qe)Ne.has(rt)?q(rt,"selected"):Q(rt,"selected")||q(rt,"unselected");!We&&a&&L(Ue),D(Re)}je&&d.emit("element:select",Object.assign(Object.assign({},Se),{nativeEvent:je,data:{data:x.filter(We=>Q(We,"selected")).map(n)}}))},oe=Se=>{const{target:Re,nativeEvent:je=!0}=Se,Fe=X?re:Z;let ze=Re;const Ze=w.has(Re);return!g||Ze?Ze?Fe({event:Se,element:ze,nativeEvent:je,groupBy:r}):ee():(ze=C(Se),w.has(ze)?Fe({event:Se,element:ze,nativeEvent:je,filter:st=>Dce.includes(st.markType),groupBy:i,groupMap:M}):ee())},ce=Array.isArray(o)?o:[o],le=Se=>{ce.includes(Se.code)&&!te&&(te=Se.code,X=!0)},pe=Se=>{Se.code===te&&(te=null,X=!1)};e.addEventListener("click",oe),o&&(X=!1,document.addEventListener("keydown",le),document.addEventListener("keyup",pe));const ye=Se=>{const{nativeEvent:Re,data:je}=Se;if(Re)return;const Fe=X?je.data:je.data.slice(0,1);for(const ze of Fe){const Ze=G8(x,ze,n);oe({target:Ze,nativeEvent:!1})}},_e=()=>{ee(!1)};return d.on("element:select",ye),d.on("element:unselect",_e),()=>{for(const Se of x)N(Se);e.removeEventListener("click",oe),o&&(document.removeEventListener("keydown",le),document.removeEventListener("keyup",pe)),d.off("element:select",ye),d.off("element:unselect",_e)}}function W$(e){var{createGroup:t,createRegionGroup:n,background:r=!1,link:i=!1}=e,a=NJe(e,["createGroup","createRegionGroup","background","link"]);return(s,o,l)=>{const{container:c,view:u,options:d}=s,{coordinate:h,scale:g}=u,v=b0(c);return DJe(v,Object.assign({elements:w1,datum:Ex(u),groupKey:t?t(u):void 0,regionGroupKey:n?n(u):U$(),coordinate:h,scale:g,state:v2(d,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:l},a))}}W$.props={reapplyWhenUpdate:!0};function jce(e){return W$(Object.assign(Object.assign({},e),{createGroup:U$}))}jce.props={reapplyWhenUpdate:!0};function Fce(e){return W$(Object.assign(Object.assign({},e),{createGroup:Rce}))}Fce.props={reapplyWhenUpdate:!0};var zJe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},BJe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function jJe(e){const{transform:t=[]}=e,n=t.find(i=>i.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return t.push(r),e.transform=t,r}function FJe(e,t,n){const[r]=Array.from(e.entries()).filter(([i])=>i.type===t).map(([i])=>{const{encode:a}=i,s=o=>{const l=a[o];return[o,l?l.value:void 0]};return Object.fromEntries(n.map(s))});return r}function Hce(e){var{wait:t=20,leading:n,trailing:r=!1,labelFormatter:i=s=>`${s}`}=e,a=BJe(e,["wait","leading","trailing","labelFormatter"]);return s=>{const{view:o,container:l,update:c,setState:u}=s,{markState:d,scale:h,coordinate:g}=o,v=FJe(d,"line",["x","y","series"]);if(!v)return;const{y:x,x:w,series:C=[]}=v,E=x.map((re,oe)=>oe),M=Tm(E.map(re=>w[re])),R=b0(l),L=l.getElementsByClassName(Sy),N=l.getElementsByClassName(H5),H=Rs(N,re=>re.__data__.key.split("-")[0]),U=new Bx({style:Object.assign({x1:0,y1:0,x2:0,y2:R.getAttribute("height"),stroke:"black",lineWidth:1},or(a,"rule"))}),q=new vg({style:Object.assign({x:0,y:R.getAttribute("height"),text:"",fontSize:10},or(a,"label"))});U.append(q),R.appendChild(U);const K=(re,oe,ce)=>{const[le]=re.invert(ce),pe=oe.invert(le);return M[aNe(M,pe)]},Q=(re,oe)=>{U.setAttribute("x1",re[0]),U.setAttribute("x2",re[0]),q.setAttribute("text",i(oe))};let X;const te=re=>zJe(this,void 0,void 0,function*(){const{x:oe}=h,ce=K(g,oe,re);Q(re,ce),u("chartIndex",pe=>{const ye=Pn({},pe),_e=ye.marks.find(ze=>ze.type==="line"),Re=Uo(zB(E,ze=>Uo(ze,Ze=>+x[Ze])/hp(ze,Ze=>+x[Ze]),ze=>C[ze]).values()),je=[1/Re,Re];Pn(_e,{scale:{y:{domain:je}}});const Fe=jJe(_e);Fe.groupBy="color",Fe.basis=(ze,Ze)=>{const st=ze[Dy(Ue=>w[+Ue]).center(ze,ce)];return Ze[st]};for(const ze of ye.marks)ze.animate=!1;return ye}),X=(yield c("chartIndex")).view}),ee=re=>{const{scale:oe,coordinate:ce}=X,{x:le,y:pe}=oe,ye=K(ce,le,re);Q(re,ye);for(const _e of L){const{seriesIndex:Se,key:Re}=_e.__data__,je=Se[Dy(qe=>w[+qe]).center(Se,ye)],Fe=[0,pe.map(1)],ze=[0,pe.map(x[je]/x[Se[0]])],[,Ze]=ce.map(Fe),[,st]=ce.map(ze),Ue=Ze-st;_e.setAttribute("transform",`translate(0, ${Ue})`);const Ne=H.get(Re)||[];for(const qe of Ne)qe.setAttribute("dy",Ue)}},Z=dx(re=>{const oe=m2(R,re);oe&&ee(oe)},t,{leading:n,trailing:r});return te([0,0]),R.addEventListener("pointerenter",Z),R.addEventListener("pointermove",Z),R.addEventListener("pointerleave",Z),()=>{U.remove(),R.removeEventListener("pointerenter",Z),R.removeEventListener("pointermove",Z),R.removeEventListener("pointerleave",Z)}}}Hce.props={reapplyWhenUpdate:!0};function HJe(e){const{coordinate:t={}}=e,{transform:n=[]}=t,r=n.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return n.push(i),t.transform=n,e.coordinate=t,i}function VJe({wait:e=30,leading:t,trailing:n=!1}){return r=>{const{options:i,update:a,setState:s,container:o}=r,l=b0(o),c=dx(u=>{const d=m2(l,u);if(!d){s("fisheye"),a();return}s("fisheye",h=>{const g=Pn({},h,{interaction:{tooltip:{preserve:!0}}});for(const C of g.marks)C.animate=!1;const[v,x]=d,w=HJe(g);return w.focusX=v,w.focusY=x,w.visual=!0,g}),a()},e,{leading:t,trailing:n});return l.addEventListener("pointerenter",c),l.addEventListener("pointermove",c),l.addEventListener("pointerleave",c),()=>{l.removeEventListener("pointerenter",c),l.removeEventListener("pointermove",c),l.removeEventListener("pointerleave",c)}}}var Ox=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function fP(e,t){return t?typeof t=="string"?document.querySelector(t):t:e.ownerDocument.defaultView.getContextService().getDomElement().parentElement}function UJe(e){const t=e.getRenderBounds(),{min:[n,r],max:[i,a]}=t;return{x:n,y:r,width:i-n,height:a-r}}function GJe(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function WJe(e,t,n,r,i,a,s,o={},l=[10,10]){const c={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},u=new H7e({className:"tooltip",style:{x:t,y:n,container:s,data:[],bounding:a,position:r,enterable:i,title:"",offset:l,template:{prefixCls:"g2-"},style:Pn(c,o)}});return e.appendChild(u.HTMLTooltipElement),u}function Vce({root:e,data:t,x:n,y:r,render:i,event:a,single:s,position:o="right-bottom",enterable:l=!1,css:c,mount:u,bounding:d,offset:h}){const g=fP(e,u),v=fP(e),x=s?v:e,w=d||UJe(e),C=GJe(v,g),{tooltipElement:E=WJe(g,n,r,o,l,w,C,c,h)}=x,{items:M,title:R=""}=t;E.update(Object.assign({x:n,y:r,data:M,title:R,position:o,enterable:l,container:C},i!==void 0&&{content:i(a,{items:M,title:R})})),x.tooltipElement=E}function t1({root:e,single:t,emitter:n,nativeEvent:r=!0,event:i=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const a=fP(e),s=t?a:e,{tooltipElement:o}=s;o&&o.hide(i?.clientX,i?.clientY),qce(e),Kce(e),Yce(e)}function d4({root:e,single:t}){const n=fP(e),r=t?n:e;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),qce(e),Kce(e),Yce(e)}function Uce(e){const{value:t}=e;return Object.assign(Object.assign({},e),{value:t===void 0?"undefined":t})}function qJe(e){const{__data__:t}=e,{title:n,items:r=[]}=t,i=r.filter(Es).map(a=>{var{color:s=Gce(e)}=a,o=Ox(a,["color"]);return Object.assign(Object.assign({},o),{color:s})}).map(Uce);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function Gce(e){const t=e.getAttribute("fill"),n=e.getAttribute("stroke"),{__data__:r}=e,{color:i=t&&t!=="transparent"?t:n}=r;return i}function aq(e,t=n=>n){const n=new Map(e.map(r=>[t(r),r]));return Array.from(n.values())}function Wce(e,t,n,r=e.map(a=>a.__data__),i={}){const a=l=>l instanceof Date?+l:l,s=aq(r.map(l=>l.title),a).filter(Es),o=r.flatMap((l,c)=>{const u=e.find(x=>{var w;return((w=x.__data__.seriesKey)===null||w===void 0?void 0:w.includes(l.key))||x.__data__.key===l.key}),{items:d=[],title:h}=l,g=d.filter(Es),v=n!==void 0?n:d.length<=1;return g.map(x=>{var{color:w=Gce(u)||i.color,name:C}=x,E=Ox(x,["color","name"]);const M=qDe(t,l),R=v&&!(yce in E)?M||C:C||M;return Object.assign(Object.assign({},E),{color:w,name:R||h})})}).map(Uce);return Object.assign(Object.assign({},s.length>0&&{title:s.join(",")}),{items:aq(o,l=>`(${a(l.name)}, ${a(l.value)}, ${a(l.color)})`)})}function KJe(e,t,n,r){var{plotWidth:i,plotHeight:a,mainWidth:s,mainHeight:o,startX:l,startY:c,transposed:u,polar:d,insetLeft:h,insetTop:g}=r,v=Ox(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const x=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},v),w=(N,D,H)=>{const U=new Uy({style:Object.assign({cx:N,cy:D,r:H},x)});return e.appendChild(U),U},C=(N,D,H,U)=>{const q=new Bx({style:Object.assign({x1:N,x2:D,y1:H,y2:U},x)});return e.appendChild(q),q},M=((N,D)=>{if(D.length===1)return D[0];const H=D.map(q=>ml(q,N)),U=YO(H,q=>q);return D[U]})(n,t),R=()=>u?[l+M[0],l+M[0],c,c+a]:[l,l+i,M[1]+c,M[1]+c],L=()=>{const N=l+h+s/2,D=c+g+o/2,H=ml([N,D],M);return[N,D,H]};if(d){const[N,D,H]=L(),U=e.ruleX||w(N,D,H);U.style.cx=N,U.style.cy=D,U.style.r=H,e.ruleX=U}else{const[N,D,H,U]=R(),q=e.ruleX||C(N,D,H,U);q.style.x1=N,q.style.x2=D,q.style.y1=H,q.style.y2=U,e.ruleX=q}}function YJe(e,t,n){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:s,startX:o,startY:l,transposed:c,polar:u,insetLeft:d,insetTop:h}=n,g=Ox(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const v=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},g),x=t.map(U=>U[1]),w=t.map(U=>U[0]),C=GE(x),E=GE(w),M=()=>{if(u){const U=Math.min(a,s)/2,q=o+d+a/2,K=l+h+s/2,Q=mg(Rl([E,C],[q,K])),X=q+U*Math.cos(Q),te=K+U*Math.sin(Q);return[q,X,K,te]}return c?[o,o+r,C+l,C+l]:[E+o,E+o,l,l+i]},[R,L,N,D]=M(),H=()=>{const U=new Bx({style:Object.assign({x1:R,x2:L,y1:N,y2:D},v)});return e.appendChild(U),U};if(w.length>0){const U=e.ruleY||H();U.style.x1=R,U.style.x2=L,U.style.y1=N,U.style.y2=D,e.ruleY=U}}function qce(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function Kce(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function XJe(e,{data:t,style:n,theme:r}){e.markers&&e.markers.forEach(s=>s.remove());const{type:i=""}=n,a=t.filter(s=>{const[{x:o,y:l}]=s;return Es(o)&&Es(l)}).map(s=>{const[{color:o,element:l},c]=s,u=o||l.style.fill||l.style.stroke||r.color,d=i==="hollow"?"transparent":u,h=i==="hollow"?u:"#fff";return new Uy({className:"g2-tooltip-marker",style:Object.assign({cx:c[0],cy:c[1],fill:d,r:4,stroke:h,lineWidth:2,pointerEvents:"none"},n)})});for(const s of a)e.appendChild(s);e.markers=a}function Yce(e){e.markers&&(e.markers.forEach(t=>t.remove()),e.markers=[])}function oq(e,t){return Array.from(e.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[t]})}function fy(e,t){return e===void 0?t:e}function Xce(e){const{title:t,items:n}=e;return n.length===0&&t===void 0}function ZJe(e){return Array.from(e.values()).some(t=>{var n;return((n=t.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&t.tooltip})}function sq(e,t){var n,r,{elements:i,sort:a,filter:s,scale:o,coordinate:l,crosshairs:c,crosshairsX:u,crosshairsY:d,render:h,groupName:g,emitter:v,wait:x=50,leading:w=!0,trailing:C=!1,startX:E=0,startY:M=0,body:R=!0,single:L=!0,position:N,enterable:D,mount:H,bounding:U,theme:q,offset:K,disableNative:Q=!1,marker:X=!0,preserve:te=!1,style:ee={},css:Z={}}=t,re=Ox(t,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const oe=i(e),ce=Gs(l),le=gs(l),pe=Pn(ee,re),{innerWidth:ye,innerHeight:_e,width:Se,height:Re,insetLeft:je,insetTop:Fe}=l.getOptions(),ze=[],Ze=[];for(const Gt of oe){const{__data__:He}=Gt,{seriesX:be,title:we,items:xe}=He;be?ze.push(Gt):(we||xe)&&Ze.push(Gt)}const st=Gt=>Gt.markType==="interval",Ue=Ze.length&&Ze.every(st)&&!gs(l),Ne=Gt=>Gt.__data__.x,We=!!o.x.getBandWidth&&Ze.length>0;ze.sort((Gt,He)=>{const be=ce?0:1,we=xe=>xe.getBounds().min[be];return ce?we(He)-we(Gt):we(Gt)-we(He)});const rt=Gt=>{const He=ce?1:0,{min:be,max:we}=Gt.getLocalBounds();return Tm([be[He],we[He]])};Ue?oe.sort((Gt,He)=>Ne(Gt)-Ne(He)):Ze.sort((Gt,He)=>{const[be,we]=rt(Gt),[xe,Ye]=rt(He),lt=(be+we)/2,ct=(xe+Ye)/2;return ce?ct-lt:lt-ct});const ht=new Map(ze.map(Gt=>{const{__data__:He}=Gt,{seriesX:be}=He,we=be.map((Ye,lt)=>lt),xe=Tm(we,Ye=>be[+Ye]);return[Gt,[xe,be]]})),{x:ft}=o,Rt=(r=(n=ft?.getStep)===null||n===void 0?void 0:n.call(ft))!==null&&r!==void 0?r:0,Yt=ft?.getBandWidth?ft.getBandWidth()/2:0,Jt=Gt=>{const[He]=l.invert(Gt);return He-Yt},xt=(Gt,He,be,we)=>{const xe=(zt,Dt,Tt)=>zt<Dt||zt>Tt,Ye=(zt,Dt,Tt)=>!zt&&Dt&&Tt,{_x:lt}=Gt,ct=lt!==void 0?ft.map(lt):Jt(He),_t=we.filter(Es),[yt,jt]=Tm([_t[0],_t[_t.length-1]]),$t=yt===jt;if(Ye(We,xe(ct,yt,jt),!$t))return null;const vt=Dy(zt=>we[+zt]).center,It=vt(be,ct);if($t){const zt=ft.adjustedRange;return Ye(We,xe(ct,zt[0],zt[zt.length-1]),zt.length!==1)?null:be[It]}return be[It]},Ft=Gt=>{const[He]=l.invert(Gt),be=ft.rangeIndexMap,we=Array.from(be.keys()).map(Ye=>Ye-(Rt-ft.getBandWidth())/2),xe=Mee(we,He);return ft.sortedDomain[xe-1]},Lt=Ue?(Gt,He)=>{const be=Dy(Ne).center,we=Jt(Gt),Ye=Rs(He,_t=>_t.parentNode),lt=[],ct=Ft(Gt);return Ye.forEach(_t=>{const yt=be(_t,we),jt=_t[yt];ct===jt.__data__.title&&lt.push(jt)}),lt}:(Gt,He)=>{const we=Gt[ce?1:0],xe=He.filter(ct=>{const[_t,yt]=rt(ct);return we>=_t&&we<=yt});if(!We||xe.length>0)return xe;const Ye=Dy(ct=>{const[_t,yt]=rt(ct);return(_t+yt)/2}).center,lt=Ye(He,we);return[He[lt]].filter(Es)},Kt=(Gt,He)=>{const{__data__:be}=Gt;return Object.fromEntries(Object.entries(be).filter(([we])=>we.startsWith("series")&&we!=="series").map(([we,xe])=>{const Ye=xe[He];return[QJ(we.replace("series","")),Ye]}))},hn=dx(Gt=>{var He;const be=m2(e,Gt);if(!be)return;const we=Pce(e),xe=we.min[0],Ye=we.min[1],lt=[be[0]-E,be[1]-M];if(!lt)return;const ct=Lt(lt,Ze),_t=[],yt=[];for(const Bt of ze){const[nn,Fn]=ht.get(Bt),Ht=xt(Gt,lt,nn,Fn);if(Ht!==null){_t.push(Bt);const ln=Kt(Bt,Ht),{x:rn,y:Tn}=ln,Un=l.map([(rn||0)+Yt,Tn||0]);yt.push([Object.assign(Object.assign({},ln),{element:Bt}),Un])}}const jt=Array.from(new Set(yt.map(Bt=>Bt[0].x))),$t=jt[YO(jt,Bt=>Math.abs(Bt-Jt(lt)))],vt=yt.filter(Bt=>Bt[0].x===$t),It=[...vt.map(Bt=>Bt[0]),...ct.map(Bt=>Bt.__data__)],zt=[..._t,...ct],Dt=Wce(zt,o,g,It,q);if(a&&Dt.items.sort((Bt,nn)=>a(Bt)-a(nn)),s&&(Dt.items=Dt.items.filter(s)),zt.length===0||Xce(Dt)){dn(Gt);return}if(R&&Vce({root:e,data:Dt,x:be[0]+xe,y:be[1]+Ye,render:h,event:Gt,single:L,position:N,enterable:D,mount:H,bounding:U,css:Z,offset:K}),c||u||d){const Bt=or(pe,"crosshairs"),nn=Object.assign(Object.assign({},Bt),or(pe,"crosshairsX")),Fn=Object.assign(Object.assign({},Bt),or(pe,"crosshairsY")),Ht=vt.map(ln=>ln[1]);u&&KJe(e,Ht,be,Object.assign(Object.assign({},nn),{plotWidth:ye,plotHeight:_e,mainWidth:Se,mainHeight:Re,insetLeft:je,insetTop:Fe,startX:E,startY:M,transposed:ce,polar:le})),d&&YJe(e,Ht,Object.assign(Object.assign({},Fn),{plotWidth:ye,plotHeight:_e,mainWidth:Se,mainHeight:Re,insetLeft:je,insetTop:Fe,startX:E,startY:M,transposed:ce,polar:le}))}if(X){const Bt=or(pe,"marker");XJe(e,{data:vt,style:Bt,theme:q})}const Tt=(He=vt[0])===null||He===void 0?void 0:He[0].x,xn=Tt??Jt(lt);v.emit("tooltip:show",Object.assign(Object.assign({},Gt),{nativeEvent:!0,data:Object.assign(Object.assign({},Dt),{data:{x:u2(o.x,xn,!0)}})}))},x,{leading:w,trailing:C}),dn=Gt=>{t1({root:e,single:L,emitter:v,event:Gt})},Cn=()=>{d4({root:e,single:L})},kn=Gt=>{var He,{nativeEvent:be,data:we,offsetX:xe,offsetY:Ye}=Gt,lt=Ox(Gt,["nativeEvent","data","offsetX","offsetY"]);if(be)return;const ct=(He=we?.data)===null||He===void 0?void 0:He.x,yt=o.x.map(ct),[jt,$t]=l.map([yt,.5]),vt=e.getRenderBounds(),It=vt.min[0],zt=vt.min[1];hn(Object.assign(Object.assign({},lt),{offsetX:xe!==void 0?xe:It+jt,offsetY:Ye!==void 0?Ye:zt+$t,_x:ct}))},sn=()=>{t1({root:e,single:L,emitter:v,nativeEvent:!1})},un=()=>{Ln(),Cn()},gn=()=>{Qt()},Qt=()=>{Q||(e.addEventListener("pointerenter",hn),e.addEventListener("pointermove",hn),e.addEventListener("pointerleave",Gt=>{m2(e,Gt)||dn(Gt)}))},Ln=()=>{Q||(e.removeEventListener("pointerenter",hn),e.removeEventListener("pointermove",hn),e.removeEventListener("pointerleave",dn))};return Qt(),v.on("tooltip:show",kn),v.on("tooltip:hide",sn),v.on("tooltip:disable",un),v.on("tooltip:enable",gn),()=>{Ln(),v.off("tooltip:show",kn),v.off("tooltip:hide",sn),v.off("tooltip:disable",un),v.off("tooltip:enable",gn),te?t1({root:e,single:L,emitter:v,nativeEvent:!1}):Cn()}}function QJe(e,{elements:t,coordinate:n,scale:r,render:i,groupName:a,sort:s,filter:o,emitter:l,wait:c=50,leading:u=!0,trailing:d=!1,groupKey:h=K=>K,single:g=!0,position:v,enterable:x,datum:w,view:C,mount:E,bounding:M,theme:R,offset:L,shared:N=!1,body:D=!0,disableNative:H=!1,preserve:U=!1,css:q={}}){var K,Q,X,te;const ee=t(e),Z=Rs(ee,h),re=We=>We.markType==="interval",oe=ee.every(re)&&!gs(n),ce=r.x,le=r.series,pe=(Q=(K=ce?.getBandWidth)===null||K===void 0?void 0:K.call(ce))!==null&&Q!==void 0?Q:0,ye=(te=(X=ce?.getStep)===null||X===void 0?void 0:X.call(ce))!==null&&te!==void 0?te:0,_e=le?We=>{const rt=Math.round(1/le.valueBandWidth);return We.__data__.x+We.__data__.series*pe+pe/(rt*2)}:We=>We.__data__.x+pe/2;oe&&ee.sort((We,rt)=>_e(We)-_e(rt));const Se=We=>{const{target:rt}=We;return mT(rt,ht=>ht.classList?ht.classList.includes("element"):!1)},Re=oe?We=>{const rt=m2(e,We);if(!rt)return;const[ht]=n.invert(rt),ft=Dy(_e).center,Rt=ft(ee,ht),Yt=ee[Rt],Jt=ye>0,xt=Jt?_e(Yt)-ye/2:_e(Yt)+ye/2,Ft=Jt?_e(Yt)+ye/2:_e(Yt)-ye/2;if(!(ht<xt||ht>Ft))return!N&&ee.find(Kt=>Kt!==Yt&&_e(Kt)===_e(Yt))?Se(We):Yt}:Se,je=dx(We=>{const rt=Re(We);if(!rt){t1({root:e,single:g,emitter:l,event:We});return}const ht=h(rt),ft=Z.get(ht);if(!ft)return;const Rt=ft.length===1&&!N?qJe(ft[0]):Wce(ft,r,a,void 0,R);if(s&&Rt.items.sort((xt,Ft)=>s(xt)-s(Ft)),o&&(Rt.items=Rt.items.filter(o)),Xce(Rt)){t1({root:e,single:g,emitter:l,event:We});return}const{offsetX:Yt,offsetY:Jt}=We;D&&Vce({root:e,data:Rt,x:Yt,y:Jt,render:i,event:We,single:g,position:v,enterable:x,mount:E,bounding:M,css:q,offset:L}),l.emit("tooltip:show",Object.assign(Object.assign({},We),{nativeEvent:!0,data:Object.assign(Object.assign({},Rt),{data:ute(rt,C)})}))},c,{leading:u,trailing:d}),Fe=We=>{t1({root:e,single:g,emitter:l,event:We})},ze=()=>{H||(e.addEventListener("pointermove",je),e.addEventListener("pointerleave",Fe))},Ze=()=>{H||(e.removeEventListener("pointermove",je),e.removeEventListener("pointerleave",Fe))},st=({nativeEvent:We,offsetX:rt,offsetY:ht,data:ft})=>{if(We)return;const{data:Rt}=ft,Yt=G8(ee,Rt,w);if(!Yt)return;const Jt=Yt.getBBox(),{x:xt,y:Ft,width:Lt,height:Kt}=Jt,hn=e.getBBox();je({target:Yt,offsetX:rt!==void 0?rt+hn.x:xt+Lt/2,offsetY:ht!==void 0?ht+hn.y:Ft+Kt/2})},Ue=({nativeEvent:We}={})=>{We||t1({root:e,single:g,emitter:l,nativeEvent:!1})},Ne=()=>{Ze(),d4({root:e,single:g})},qe=()=>{ze()};return l.on("tooltip:show",st),l.on("tooltip:hide",Ue),l.on("tooltip:enable",qe),l.on("tooltip:disable",Ne),ze(),()=>{Ze(),l.off("tooltip:show",st),l.off("tooltip:hide",Ue),U?t1({root:e,single:g,emitter:l,nativeEvent:!1}):d4({root:e,single:g})}}function Zce(e){const{shared:t,crosshairs:n,crosshairsX:r,crosshairsY:i,series:a,name:s,item:o=()=>({}),facet:l=!1}=e,c=Ox(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(u,d,h)=>{const{container:g,view:v}=u,{scale:x,markState:w,coordinate:C,theme:E}=v,M=oq(w,"seriesTooltip"),R=oq(w,"crosshairs"),L=b0(g),N=fy(a,M),D=fy(n,R);if(N&&ZJe(w)&&!l)return sq(L,Object.assign(Object.assign({},c),{theme:E,elements:w1,scale:x,coordinate:C,crosshairs:D,crosshairsX:fy(fy(r,n),!1),crosshairsY:fy(i,D),item:o,emitter:h}));if(N&&l){const H=d.filter(te=>te!==u&&te.options.parentKey===u.options.key),U=Ice(u,d),q=H[0].view.scale,K=L.getBounds(),Q=K.min[0],X=K.min[1];return Object.assign(q,{facet:!0}),sq(L.parentNode.parentNode,Object.assign(Object.assign({},c),{theme:E,elements:()=>U,scale:q,coordinate:C,crosshairs:fy(n,R),crosshairsX:fy(fy(r,n),!1),crosshairsY:fy(i,D),item:o,startX:Q,startY:X,emitter:h}))}return QJe(L,Object.assign(Object.assign({},c),{datum:Ex(v),elements:w1,scale:x,coordinate:C,groupKey:t?U$():void 0,item:o,emitter:h,view:v,theme:E,shared:t}))}}Zce.props={reapplyWhenUpdate:!0};var wA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const Qce="legend-category",JJe="legend-continuous",eet="items-item",tet="legend-category-item-marker",net="legend-category-item-label";function Jce(e){return e.getElementsByClassName(tet)[0]}function eue(e){return e.getElementsByClassName(net)[0]}function tue(e){return e.getElementsByClassName(eet)}function W8(e){return e.getElementsByClassName(Qce)}function nue(e){return e.getElementsByClassName(JJe)}function ret(e,t){[...W8(e),...nue(e)].forEach(r=>{t(r,i=>i)})}function h4(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function iet(e,{legends:t,marker:n,label:r,datum:i,filter:a,emitter:s,channel:o,state:l={}}){const c=new Map,u=new Map,d=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,g={unselected:or(h,"marker")},v={unselected:or(h,"label")},{setState:x,removeState:w}=Fy(g,void 0),{setState:C,removeState:E}=Fy(v,void 0),M=Array.from(t(e));let R=M.map(i);const L=()=>{for(const H of M){const U=i(H),q=n(H),K=r(H);R.includes(U)?(w(q,"unselected"),E(K,"unselected")):(x(q,"unselected"),C(K,"unselected"))}};for(const H of M){const U=()=>{Xb(e,"pointer")},q=()=>{PJe(e)},K=Q=>wA(this,void 0,void 0,function*(){const X=i(H),te=R.indexOf(X);te===-1?R.push(X):R.splice(te,1),yield a(R),L();const{nativeEvent:ee=!0}=Q;ee&&(R.length===M.length?s.emit("legend:reset",{nativeEvent:ee}):s.emit("legend:filter",Object.assign(Object.assign({},Q),{nativeEvent:ee,data:{channel:o,values:R}})))});H.addEventListener("click",K),H.addEventListener("pointerenter",U),H.addEventListener("pointerout",q),c.set(H,K),u.set(H,U),d.set(H,q)}const N=H=>wA(this,void 0,void 0,function*(){const{nativeEvent:U}=H;if(U)return;const{data:q}=H,{channel:K,values:Q}=q;K===o&&(R=Q,yield a(R),L())}),D=H=>wA(this,void 0,void 0,function*(){const{nativeEvent:U}=H;U||(R=M.map(i),yield a(R),L())});return s.on("legend:filter",N),s.on("legend:reset",D),()=>{for(const H of M)H.removeEventListener("click",c.get(H)),H.removeEventListener("pointerenter",u.get(H)),H.removeEventListener("pointerout",d.get(H)),s.off("legend:filter",N),s.off("legend:reset",D)}}function aet(e,{legend:t,filter:n,emitter:r,channel:i}){const a=({detail:{value:s}})=>{n(s),r.emit({nativeEvent:!0,data:{channel:i,values:s}})};return t.addEventListener("valuechange",a),()=>{t.removeEventListener("valuechange",a)}}function rue(e,{legend:t,channel:n,value:r,ordinal:i,channels:a,allChannels:s,facet:o=!1}){return wA(this,void 0,void 0,function*(){const{view:l,update:c,setState:u}=e;u(t,d=>{const{marks:h}=d,g=h.map(v=>{if(v.type==="legends")return v;const{transform:x=[],data:w=[]}=v,C=x.findIndex(({type:R})=>R.startsWith("group")||R.startsWith("bin")),E=[...x];w.length&&E.splice(C+1,0,{type:"filter",[n]:{value:r,ordinal:i}});const M=Object.fromEntries(a.map(R=>[R,{domain:l.scale[R].getOptions().domain}]));return Pn({},v,Object.assign(Object.assign({transform:E,scale:M},!i&&{animate:!1}),{legend:o?!1:Object.fromEntries(s.map(R=>[R,{preserve:!0}]))}))});return Object.assign(Object.assign({},d),{marks:g})}),yield c()})}function oet(e,t){for(const n of e)rue(n,Object.assign(Object.assign({},t),{facet:!0}))}function set(){return(e,t,n)=>{const{container:r}=e,i=t.filter(d=>d!==e),a=i.length>0,s=d=>h4(d).scales.map(h=>h.name),o=[...W8(r),...nue(r)],l=o.flatMap(s),c=a?dx(oet,50,{trailing:!0}):dx(rue,50,{trailing:!0}),u=o.map(d=>{const{name:h,domain:g}=h4(d).scales[0],v=s(d),x={legend:d,channel:h,channels:v,allChannels:l};return d.className===Qce?iet(r,{legends:tue,marker:Jce,label:eue,datum:w=>{const{__data__:C}=w,{index:E}=C;return g[E]},filter:w=>{const C=Object.assign(Object.assign({},x),{value:w,ordinal:!0});c(a?i:e,C)},state:d.attributes.state,channel:h,emitter:n}):aet(r,{legend:d,filter:w=>{const C=Object.assign(Object.assign({},x),{value:w,ordinal:!1});c(a?i:e,C)},emitter:n,channel:h})});return()=>{u.forEach(d=>d())}}}function cet(){return(e,t,n)=>{const{container:r,view:i,options:a}=e,s=W8(r),o=w1(r),l=g=>h4(g).scales[0].name,c=g=>{const{scale:{[g]:v}}=i;return v},u=v2(a,["active","inactive"]),d=gT(o,Ex(i)),h=[];for(const g of s){const v=le=>{const{data:pe}=g.attributes,{__data__:ye}=le,{index:_e}=ye;return pe[_e].label},x=l(g),w=tue(g),C=c(x),E=Rs(o,le=>C.invert(le.__data__[x])),{state:M={}}=g.attributes,{inactive:R={}}=M,{setState:L,removeState:N}=Fy(u,d),D={inactive:or(R,"marker")},H={inactive:or(R,"label")},{setState:U,removeState:q}=Fy(D),{setState:K,removeState:Q}=Fy(H),X=le=>{for(const pe of w){const ye=Jce(pe),_e=eue(pe);pe===le||le===null?(q(ye,"inactive"),Q(_e,"inactive")):(U(ye,"inactive"),K(_e,"inactive"))}},te=(le,pe)=>{const ye=v(pe),_e=new Set(E.get(ye));for(const Re of o)_e.has(Re)?L(Re,"active"):L(Re,"inactive");X(pe);const{nativeEvent:Se=!0}=le;Se&&n.emit("legend:highlight",Object.assign(Object.assign({},le),{nativeEvent:Se,data:{channel:x,value:ye}}))},ee=new Map;for(const le of w){const pe=ye=>{te(ye,le)};le.addEventListener("pointerover",pe),ee.set(le,pe)}const Z=le=>{for(const ye of o)N(ye,"inactive","active");X(null);const{nativeEvent:pe=!0}=le;pe&&n.emit("legend:unhighlight",{nativeEvent:pe})},re=le=>{const{nativeEvent:pe,data:ye}=le;if(pe)return;const{channel:_e,value:Se}=ye;if(_e!==x)return;const Re=w.find(je=>v(je)===Se);Re&&te({nativeEvent:!1},Re)},oe=le=>{const{nativeEvent:pe}=le;pe||Z({nativeEvent:!1})};g.addEventListener("pointerleave",Z),n.on("legend:highlight",re),n.on("legend:unhighlight",oe);const ce=()=>{g.removeEventListener(Z),n.off("legend:highlight",re),n.off("legend:unhighlight",oe);for(const[le,pe]of ee)le.removeEventListener(pe)};h.push(ce)}return()=>h.forEach(g=>g())}}var Jp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uet(e,t){const[n,r,i,a]=e,[s,o,l,c]=t;return!(s>i||l<n||o>a||c<r)}function fet(e,t,n,r,i){const[a,s,o,l]=i;return[Math.max(a,Math.min(e,n)),Math.max(s,Math.min(t,r)),Math.min(o,Math.max(e,n)),Math.min(l,Math.max(t,r))]}function det(e){const{width:t,height:n}=e.getBBox();return[0,0,t,n]}function dy(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}const lq=a2(e=>{const t=e.attributes,{x:n,y:r,width:i,height:a,class:s,renders:o={},handleSize:l=10,document:c}=t,u=Jp(t,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||n===void 0||r===void 0)return;const d=l/2,h=(Se,Re,je)=>{Se.handle||(Se.handle=je.createElement("rect"),Se.append(Se.handle));const{handle:Fe}=Se;return Fe.attr(Re),Fe},g=or(F3(u,"handleNW","handleNE"),"handleN"),{render:v=h}=g,x=Jp(g,["render"]),w=or(u,"handleE"),{render:C=h}=w,E=Jp(w,["render"]),M=or(F3(u,"handleSE","handleSW"),"handleS"),{render:R=h}=M,L=Jp(M,["render"]),N=or(u,"handleW"),{render:D=h}=N,H=Jp(N,["render"]),U=or(u,"handleNW"),{render:q=h}=U,K=Jp(U,["render"]),Q=or(u,"handleNE"),{render:X=h}=Q,te=Jp(Q,["render"]),ee=or(u,"handleSE"),{render:Z=h}=ee,re=Jp(ee,["render"]),oe=or(u,"handleSW"),{render:ce=h}=oe,le=Jp(oe,["render"]),pe=(Se,Re)=>{const{id:je}=Se,Fe=Re(Se,Se.attributes,c);Fe.id=je,Fe.style.draggable=!0},ye=Se=>()=>{const Re=a2(je=>pe(je,Se));return new Re({})},_e=Jr(e).attr("className",s).style("transform",`translate(${n}, ${r})`).style("draggable",!0);_e.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(dy,Object.assign(Object.assign({width:i,height:a},F3(u,"handle")),{transform:void 0})),_e.maybeAppend("handle-n",ye(v)).style("x",d).style("y",-d).style("width",i-l).style("height",l).style("fill","transparent").call(dy,x),_e.maybeAppend("handle-e",ye(C)).style("x",i-d).style("y",d).style("width",l).style("height",a-l).style("fill","transparent").call(dy,E),_e.maybeAppend("handle-s",ye(R)).style("x",d).style("y",a-d).style("width",i-l).style("height",l).style("fill","transparent").call(dy,L),_e.maybeAppend("handle-w",ye(D)).style("x",-d).style("y",d).style("width",l).style("height",a-l).style("fill","transparent").call(dy,H),_e.maybeAppend("handle-nw",ye(q)).style("x",-d).style("y",-d).style("width",l).style("height",l).style("fill","transparent").call(dy,K),_e.maybeAppend("handle-ne",ye(X)).style("x",i-d).style("y",-d).style("width",l).style("height",l).style("fill","transparent").call(dy,te),_e.maybeAppend("handle-se",ye(Z)).style("x",i-d).style("y",a-d).style("width",l).style("height",l).style("fill","transparent").call(dy,re),_e.maybeAppend("handle-sw",ye(ce)).style("x",-d).style("y",a-d).style("width",l).style("height",l).style("fill","transparent").call(dy,le)});function q8(e,t){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:s=()=>{},extent:o=det(e),brushRegion:l=(Fe,ze,Ze,st,Ue)=>[Fe,ze,Ze,st],reverse:c=!1,fill:u="#777",fillOpacity:d="0.3",stroke:h="#fff",selectedHandles:g=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,v=Jp(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let x=null,w=null,C=null,E=null,M=null,R=!1;const[L,N,D,H]=o;Xb(e,"crosshair"),e.style.draggable=!0;const U=(Fe,ze,Ze)=>{if(a(Ze),E&&E.remove(),M&&M.remove(),x=[Fe,ze],c)return q();K()},q=()=>{M=new Td({style:Object.assign(Object.assign({},v),{fill:u,fillOpacity:d,stroke:h,pointerEvents:"none"})}),E=new lq({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(M),e.appendChild(E)},K=()=>{E=new lq({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},v),{fill:u,fillOpacity:d,stroke:h,draggable:!0}),className:"mask"}),e.appendChild(E)},Q=(Fe=!0)=>{E&&E.remove(),M&&M.remove(),x=null,w=null,C=null,R=!1,E=null,M=null,r(Fe)},X=(Fe,ze,Ze=!0)=>{const[st,Ue,Ne,qe]=fet(Fe[0],Fe[1],ze[0],ze[1],o),[We,rt,ht,ft]=l(st,Ue,Ne,qe,o);return c?ee(We,rt,ht,ft):te(We,rt,ht,ft),n(We,rt,ht,ft,Ze),[We,rt,ht,ft]},te=(Fe,ze,Ze,st)=>{E.style.x=Fe,E.style.y=ze,E.style.width=Ze-Fe,E.style.height=st-ze},ee=(Fe,ze,Ze,st)=>{M.style.d=`
      M${L},${N}L${D},${N}L${D},${H}L${L},${H}Z
      M${Fe},${ze}L${Fe},${st}L${Ze},${st}L${Ze},${ze}Z
    `,E.style.x=Fe,E.style.y=ze,E.style.width=Ze-Fe,E.style.height=st-ze},Z=Fe=>{const ze=(rt,ht,ft,Rt,Yt)=>rt+ht<Rt?Rt-ht:rt+ft>Yt?Yt-ft:rt,Ze=Fe[0]-C[0],st=Fe[1]-C[1],Ue=ze(Ze,x[0],w[0],L,D),Ne=ze(st,x[1],w[1],N,H),qe=[x[0]+Ue,x[1]+Ne],We=[w[0]+Ue,w[1]+Ne];X(qe,We)},re={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},oe=Fe=>le(Fe)||ce(Fe),ce=Fe=>{const{id:ze}=Fe;return g.indexOf(ze)===-1?!1:new Set(Object.keys(re)).has(ze)},le=Fe=>Fe===E.getElementById("selection"),pe=Fe=>{const{target:ze}=Fe,[Ze,st]=DL(e,Fe);if(!E||!oe(ze)){U(Ze,st,Fe),R=!0;return}oe(ze)&&(C=[Ze,st])},ye=Fe=>{const{target:ze}=Fe,Ze=DL(e,Fe);if(!x)return;if(!C)return X(x,Ze);if(le(ze))return Z(Ze);const[st,Ue]=[Ze[0]-C[0],Ze[1]-C[1]],{id:Ne}=ze;if(re[Ne]){const[qe,We,rt,ht]=re[Ne].vector;return X([x[0]+st*qe,x[1]+Ue*We],[w[0]+st*rt,w[1]+Ue*ht])}},_e=Fe=>{if(C){C=null;const{x:Ne,y:qe,width:We,height:rt}=E.style;x=[Ne,qe],w=[Ne+We,qe+rt],s(Ne,qe,Ne+We,qe+rt,Fe);return}w=DL(e,Fe);const[ze,Ze,st,Ue]=X(x,w);R=!1,i(ze,Ze,st,Ue,Fe)},Se=Fe=>{const{target:ze}=Fe;E&&!oe(ze)&&Q()},Re=Fe=>{const{target:ze}=Fe;!E||!oe(ze)||R?Xb(e,"crosshair"):le(ze)?Xb(e,"move"):ce(ze)&&Xb(e,re[ze.id].cursor)},je=()=>{Xb(e,"default")};return e.addEventListener("dragstart",pe),e.addEventListener("drag",ye),e.addEventListener("dragend",_e),e.addEventListener("click",Se),e.addEventListener("pointermove",Re),e.addEventListener("pointerleave",je),{mask:E,move(Fe,ze,Ze,st,Ue=!0){E||U(Fe,ze,{}),x=[Fe,ze],w=[Ze,st],X([Fe,ze],[Ze,st],Ue)},remove(Fe=!0){E&&Q(Fe)},destroy(){E&&Q(!1),Xb(e,"default"),e.removeEventListener("dragstart",pe),e.removeEventListener("drag",ye),e.removeEventListener("dragend",_e),e.removeEventListener("click",Se),e.removeEventListener("pointermove",Re),e.removeEventListener("pointerleave",je)}}}function K8(e,t,n){return t.filter(r=>{if(r===e)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===n)})}function het(e,t,n){return K8(e,t,n).map(r=>b0(r.container))}function pet(e,t,n){return K8(e,t,n).map(r=>r.options)}function cq(e,t){var{elements:n,selectedHandles:r,siblings:i=ye=>[],datum:a,brushRegion:s,extent:o,reverse:l,scale:c,coordinate:u,series:d=!1,key:h=ye=>ye,bboxOf:g=ye=>{const{x:_e,y:Se,width:Re,height:je}=ye.style;return{x:_e,y:Se,width:Re,height:je}},state:v={},emitter:x}=t,w=Jp(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const C=n(e),E=i(e),M=E.flatMap(n),R=gT(C,a),L=or(w,"mask"),{setState:N,removeState:D}=Fy(v,R),H=new Map,{width:U,height:q,x:K=0,y:Q=0}=g(e),X=o||[0,0,U,q],te=()=>{for(const ye of[...C,...M])D(ye,"active","inactive")},ee=(ye,_e,Se,Re)=>{var je;for(const ze of E)(je=ze.brush)===null||je===void 0||je.remove();const Fe=new Set;for(const ze of C){const{min:Ze,max:st}=ze.getLocalBounds(),[Ue,Ne]=Ze,[qe,We]=st;uet([Ue,Ne,qe,We],[ye,_e,Se,Re])?(N(ze,"active"),Fe.add(h(ze))):N(ze,"inactive")}for(const ze of M)Fe.has(h(ze))?N(ze,"active"):N(ze,"inactive")},Z=()=>{for(const ye of C)D(ye,"inactive");for(const ye of H.values())ye.remove();H.clear()},re=(ye,_e,Se,Re)=>{const je=ze=>{const Ze=ze.cloneNode();return Ze.__data__=ze.__data__,ze.parentNode.appendChild(Ze),H.set(ze,Ze),Ze},Fe=new L1({style:{x:ye+K,y:_e+Q,width:Se-ye,height:Re-_e}});e.appendChild(Fe);for(const ze of C){const Ze=H.get(ze)||je(ze);Ze.style.clipPath=Fe,N(ze,"inactive"),N(Ze,"active")}},oe=q8(e,Object.assign(Object.assign({},L),{extent:X,brushRegion:s,reverse:l,selectedHandles:r,brushended:ye=>{const _e=d?Z:te;ye&&x.emit("brush:remove",{nativeEvent:!0}),_e()},brushed:(ye,_e,Se,Re,je)=>{const Fe=bA(ye,_e,Se,Re,c,u);je&&x.emit("brush:highlight",{nativeEvent:!0,data:{selection:Fe}}),(d?re:ee)(ye,_e,Se,Re)},brushcreated:(ye,_e,Se,Re,je)=>{const Fe=bA(ye,_e,Se,Re,c,u);x.emit("brush:end",Object.assign(Object.assign({},je),{nativeEvent:!0,data:{selection:Fe}}))},brushupdated:(ye,_e,Se,Re,je)=>{const Fe=bA(ye,_e,Se,Re,c,u);x.emit("brush:end",Object.assign(Object.assign({},je),{nativeEvent:!0,data:{selection:Fe}}))},brushstarted:ye=>{x.emit("brush:start",ye)}})),ce=({nativeEvent:ye,data:_e})=>{if(ye)return;const{selection:Se}=_e,[Re,je,Fe,ze]=YGe(Se,c,u);oe.move(Re,je,Fe,ze,!1)};x.on("brush:highlight",ce);const le=({nativeEvent:ye}={})=>{ye||oe.remove(!1)};x.on("brush:remove",le);const pe=oe.destroy.bind(oe);return oe.destroy=()=>{x.off("brush:highlight",ce),x.off("brush:remove",le),pe()},oe}function Y8(e){var{facet:t,brushKey:n}=e,r=Jp(e,["facet","brushKey"]);return(i,a,s)=>{const{container:o,view:l,options:c}=i,u=b0(o),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},h=["active",["inactive",{opacity:.5}]],{scale:g,coordinate:v}=l;if(t){const w=u.getBounds(),C=w.min[0],E=w.min[1],M=w.max[0],R=w.max[1];return cq(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>Ice(i,a),datum:Ex(f4(i,a).map(L=>L.view)),brushRegion:(L,N,D,H)=>[L,N,D,H],extent:[C,E,M,R],state:v2(f4(i,a).map(L=>L.options),h),emitter:s,scale:g,coordinate:v,selectedHandles:void 0},d),r))}const x=cq(u,Object.assign(Object.assign({elements:w1,key:w=>w.__data__.key,siblings:()=>het(i,a,n),datum:Ex([l,...K8(i,a,n).map(w=>w.view)]),brushRegion:(w,C,E,M)=>[w,C,E,M],extent:void 0,state:v2([c,...pet(i,a,n)],h),emitter:s,scale:g,coordinate:v,selectedHandles:void 0},d),r));return u.brush=x,()=>x.destroy()}}function X8(e,t,n,r,i){const[,a,,s]=i;return[e,a,n,s]}function get(e){return Y8(Object.assign(Object.assign({},e),{brushRegion:X8,selectedHandles:["handle-e","handle-w"]}))}function Z8(e,t,n,r,i){const[a,,s]=i;return[a,t,s,r]}function met(e){return Y8(Object.assign(Object.assign({},e),{brushRegion:Z8,selectedHandles:["handle-n","handle-s"]}))}var Q8=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vet="axis",yet="axis-line",bet="axis-main-group",iue="axis-hot-area";function _et(e){return e.getElementsByClassName(vet)}function aue(e){return e.getElementsByClassName(yet)[0]}function xet(e){return e.getElementsByClassName(bet)[0]}function oue(e){return xet(e).getLocalBounds()}function wet(e,t){var{cross:n,offsetX:r,offsetY:i}=t,a=Q8(t,["cross","offsetX","offsetY"]);const s=oue(e),o=aue(e),[l]=o.getLocalBounds().min,[c,u]=s.min,[d,h]=s.max,g=(d-c)*2;return{brushRegion:Z8,hotZone:new L1({className:iue,style:Object.assign({width:n?g/2:g,transform:`translate(${(n?c:l-g/2).toFixed(2)}, ${u})`,height:h-u},a)}),extent:n?(v,x,w,C)=>[-1/0,x,1/0,C]:(v,x,w,C)=>[Math.floor(c-r),x,Math.ceil(d-r),C]}}function Cet(e,t){var{offsetY:n,offsetX:r,cross:i=!1}=t,a=Q8(t,["offsetY","offsetX","cross"]);const s=oue(e),o=aue(e),[,l]=o.getLocalBounds().min,[c,u]=s.min,[d,h]=s.max,g=h-u;return{brushRegion:X8,hotZone:new L1({className:iue,style:Object.assign({width:d-c,height:i?g:g*2,transform:`translate(${c}, ${i?u:l-g})`},a)}),extent:i?(v,x,w,C)=>[v,-1/0,w,1/0]:(v,x,w,C)=>[v,Math.floor(u-n),w,Math.ceil(h-n)]}}function Eet(e,t){var{axes:n,elements:r,points:i,horizontal:a,datum:s,offsetY:o,offsetX:l,reverse:c=!1,state:u={},emitter:d,coordinate:h}=t,g=Q8(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const v=r(e),x=n(e),w=gT(v,s),{setState:C,removeState:E}=Fy(u,w),M=new Map,R=or(g,"mask"),L=ce=>Array.from(M.values()).every(([le,pe,ye,_e])=>ce.some(([Se,Re])=>Se>=le&&Se<=ye&&Re>=pe&&Re<=_e)),N=x.map(ce=>ce.attributes.scale),D=ce=>ce.length>2?[ce[0],ce[ce.length-1]]:ce,H=new Map,U=()=>{H.clear();for(let ce=0;ce<x.length;ce++){const le=N[ce],{domain:pe}=le.getOptions();H.set(ce,D(pe))}};U();const q=(ce,le)=>{const pe=[];for(const _e of v){const Se=i(_e);L(Se)?(C(_e,"active"),pe.push(_e)):C(_e,"inactive")}if(H.set(ce,Q(pe,ce)),!le)return;const ye=()=>{if(!X)return Array.from(H.values());const _e=[];for(const[Se,Re]of H){const je=N[Se],{name:Fe}=je.getOptions();Fe==="x"?_e[0]=Re:_e[1]=Re}return _e};d.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:ye()}})},K=ce=>{for(const le of v)E(le,"active","inactive");U(),ce&&d.emit("brushAxis:remove",{nativeEvent:!0})},Q=(ce,le)=>{const pe=N[le],{name:ye}=pe.getOptions(),_e=ce.map(Se=>{const Re=Se.__data__;return pe.invert(Re[ye])});return D(l1(pe,_e))},X=x.some(a)&&x.some(ce=>!a(ce)),te=[];for(let ce=0;ce<x.length;ce++){const le=x[ce],pe=a(le)?Cet:wet,{hotZone:ye,brushRegion:_e,extent:Se}=pe(le,{offsetY:o,offsetX:l,cross:X,zIndex:999,fill:"transparent"});le.parentNode.appendChild(ye);const Re=q8(ye,Object.assign(Object.assign({},R),{reverse:c,brushRegion:_e,brushended(je){M.delete(le),Array.from(M.entries()).length===0?K(je):q(ce,je)},brushed(je,Fe,ze,Ze,st){M.set(le,Se(je,Fe,ze,Ze)),q(ce,st)}}));te.push(Re)}const ee=(ce={})=>{const{nativeEvent:le}=ce;le||te.forEach(pe=>pe.remove(!1))},Z=(ce,le,pe)=>{const[ye,_e]=ce,Se=Fe=>Fe.getStep?Fe.getStep():0,Re=re(ye,le,pe),je=re(_e,le,pe)+Se(le);return a(pe)?[Re,-1/0,je,1/0]:[-1/0,Re,1/0,je]},re=(ce,le,pe)=>{const{height:ye,width:_e}=h.getOptions(),Se=le.clone();return a(pe)?Se.update({range:[0,_e]}):Se.update({range:[ye,0]}),Se.map(ce)},oe=ce=>{const{nativeEvent:le}=ce;if(le)return;const{selection:pe}=ce.data;for(let ye=0;ye<te.length;ye++){const _e=pe[ye],Se=te[ye],Re=x[ye];if(_e){const je=N[ye];Se.move(...Z(_e,je,Re),!1)}else Se.remove(!1)}};return d.on("brushAxis:remove",ee),d.on("brushAxis:highlight",oe),()=>{te.forEach(ce=>ce.destroy()),d.off("brushAxis:remove",ee),d.off("brushAxis:highlight",oe)}}function Oet(e){return(t,n,r)=>{const{container:i,view:a,options:s}=t,o=b0(i),{x:l,y:c}=o.getBBox(),{coordinate:u}=a;return Eet(i,Object.assign({elements:w1,axes:_et,offsetY:c,offsetX:l,points:d=>d.__data__.points,horizontal:d=>{const{startPos:[h,g],endPos:[v,x]}=d.attributes;return h!==v&&g===x},datum:Ex(a),state:v2(s,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},e))}}var Tet=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},sue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Met(e=300){let t=null;return n=>{const{timeStamp:r}=n;return t!==null&&r-t<e?(t=r,!0):(t=r,!1)}}function Aet(e,t){var{filter:n,reset:r,brushRegion:i,extent:a,reverse:s,emitter:o,scale:l,coordinate:c,selection:u,series:d=!1}=t,h=sue(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const g=or(h,"mask"),{width:v,height:x}=e.getBBox(),w=a||[0,0,v,x],C=Met(),E=q8(e,Object.assign(Object.assign({},g),{extent:w,brushRegion:i,reverse:s,brushcreated:M}));e.addEventListener("click",R);function M(N,D,H,U,q){q.nativeEvent=!0,n(u(N,D,H,U),q),E.remove()}function R(N){C(N)&&(N.nativeEvent=!0,r(N))}const L=({nativeEvent:N,data:D})=>{if(N)return;const{selection:H}=D;n(H,{nativeEvent:!1})};return o.on("brush:filter",L),()=>{E.destroy(),o.off("brush:filter",L),e.removeEventListener("click",R)}}function J8(e){var{hideX:t=!0,hideY:n=!0}=e,r=sue(e,["hideX","hideY"]);return(i,a,s)=>{const{container:o,view:l,options:c,update:u,setState:d}=i,h=b0(o),g={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let v=!1,x=!1,w=l;const{scale:C,coordinate:E}=l;return Aet(h,Object.assign(Object.assign({brushRegion:(M,R,L,N)=>[M,R,L,N],selection:(M,R,L,N)=>{const{scale:D,coordinate:H}=w;return bA(M,R,L,N,D,H)},filter:(M,R)=>Tet(this,void 0,void 0,function*(){if(x)return;x=!0;const[L,N]=M;d("brushFilter",H=>{const{marks:U}=H,q=U.map(K=>Pn({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},K,{scale:{x:{domain:L,nice:!1},y:{domain:N,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:q,clip:!0})}),s.emit("brush:filter",Object.assign(Object.assign({},R),{data:{selection:[L,N]}})),w=(yield u()).view,x=!1,v=!0}),reset:M=>{if(x||!v)return;const{scale:R}=l,{x:L,y:N}=R,D=L.getOptions().domain,H=N.getOptions().domain;s.emit("brush:filter",Object.assign(Object.assign({},M),{data:{selection:[D,H]}})),v=!1,w=l,d("brushFilter"),u()},extent:void 0,emitter:s,scale:C,coordinate:E},g),r))}}function Iet(e){return J8(Object.assign(Object.assign({hideX:!0},e),{brushRegion:X8}))}function Pet(e){return J8(Object.assign(Object.assign({hideY:!0},e),{brushRegion:Z8}))}var Ret=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const $et="slider";function ket(e,t,n,r=!1,i="x",a="y"){const{marks:s}=e,o=s.map(l=>{var c,u;return Pn({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:t,[n]:Object.assign(Object.assign({},((c=l[n])===null||c===void 0?void 0:c[i])&&{[i]:Object.assign({preserve:!0},r&&{ratio:null})}),((u=l[n])===null||u===void 0?void 0:u[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:o,clip:!0,animate:!1})}function Let(e,t,n){const[r,i]=e,a=n?l=>1-l:l=>l,s=u2(t,a(r),!0),o=u2(t,a(i),!1);return l1(t,[s,o])}function FM(e){return[e[0],e[e.length-1]]}function lue({initDomain:e={},className:t=$et,prefix:n="slider",setValue:r=(c,u)=>c.setValues(u),hasState:i=!1,wait:a=50,leading:s=!0,trailing:o=!1,getInitValues:l=c=>{var u;const d=(u=c?.attributes)===null||u===void 0?void 0:u.values;if(d[0]!==0||d[1]!==1)return d}}){return(c,u,d)=>{const{container:h,view:g,update:v,setState:x}=c,w=h.getElementsByClassName(t);if(!w.length)return()=>{};let C=!1;const{scale:E,coordinate:M,layout:R}=g,{paddingLeft:L,paddingTop:N,paddingBottom:D,paddingRight:H}=R,{x:U,y:q}=E,K=Gs(M),Q=Z=>{const re=Z==="vertical"?"y":"x",oe=Z==="vertical"?"x":"y";return K?[oe,re]:[re,oe]},X=new Map,te=new Set,ee={x:e.x||U.getOptions().domain,y:e.y||q.getOptions().domain};for(const Z of w){const{orientation:re}=Z.attributes,[oe,ce]=Q(re),le=`${n}${P1(oe)}:filter`,pe=oe==="x",{ratio:ye}=U.getOptions(),{ratio:_e}=q.getOptions(),Se=ze=>{if(ze.data){const{selection:qe}=ze.data,[We=FM(ee.x),rt=FM(ee.y)]=qe;return pe?[l1(U,We,ye),l1(q,rt,_e)]:[l1(q,rt,_e),l1(U,We,ye)]}const{value:Ze}=ze.detail,st=E[oe],Ue=Let(Ze,st,K&&re==="horizontal"),Ne=ee[ce];return[Ue,Ne]},Re=dx(ze=>Ret(this,void 0,void 0,function*(){const{initValue:Ze=!1}=ze;if(C&&!Ze)return;C=!0;const{nativeEvent:st=!0}=ze,[Ue,Ne]=Se(ze);if(ee[oe]=Ue,ee[ce]=Ne,st){const qe=pe?Ue:Ne,We=pe?Ne:Ue;d.emit(le,Object.assign(Object.assign({},ze),{nativeEvent:st,data:{selection:[FM(qe),FM(We)]}}))}x(Z,qe=>Object.assign(Object.assign({},ket(qe,{[oe]:{domain:Ue,nice:!1}},n,i,oe,ce)),{paddingLeft:L,paddingTop:N,paddingBottom:D,paddingRight:H})),yield v(),C=!1}),a,{leading:s,trailing:o}),je=ze=>{const{nativeEvent:Ze}=ze;if(Ze)return;const{data:st}=ze,{selection:Ue}=st,[Ne,qe]=Ue;Z.dispatchEvent(new hs("valuechange",{data:st,nativeEvent:!1}));const We=pe?UI(Ne,U):UI(qe,q);r(Z,We)};d.on(le,je),Z.addEventListener("valuechange",Re),X.set(Z,Re),te.add([le,je]);const Fe=l(Z);Fe&&Z.dispatchEvent(new hs("valuechange",{detail:{value:Fe},nativeEvent:!1,initValue:!0}))}return()=>{for(const[Z,re]of X)Z.removeEventListener("valuechange",re);for(const[Z,re]of te)d.off(Z,re)}}}const uq="g2-scrollbar";function Net(e={}){return(t,n,r)=>{const{view:i,container:a}=t;if(!a.getElementsByClassName(uq).length)return()=>{};const{scale:o}=i,{x:l,y:c}=o,u={x:[...l.getOptions().domain],y:[...c.getOptions().domain]};return l.update({domain:l.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),lue(Object.assign(Object.assign({},e),{initDomain:u,className:uq,prefix:"scrollbar",hasState:!0,setValue:(h,g)=>h.setValue(g[0]),getInitValues:h=>{const g=h.slider.attributes.values;if(g[0]!==0)return g}}))(t,n,r)}}var Det=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zet(e,t,n){return`<${e} style="${Object.entries(n).map(([r,i])=>`${nje(r)}:${i}`).join(";")}">${t}</${e}>`}const Bet={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function fq(e){return e.nodeName!=="text"?!1:!!e.isOverflowing()}function cue(e){var{offsetX:t=8,offsetY:n=8}=e,r=Det(e,["offsetX","offsetY"]);return i=>{const{container:a}=i,[s,o]=a.getBounds().min,l=or(r,"tip"),c=new Set,u=h=>{const{target:g}=h;if(!fq(g)){h.stopPropagation();return}const{offsetX:v,offsetY:x}=h,w=v+t-s,C=x+n-o;if(g.tip){g.tip.style.x=w,g.tip.style.y=C;return}const{text:E}=g.style,M=new iT({className:"poptip",style:{innerHTML:zet("div",E,Object.assign(Object.assign({},Bet),l)),x:w,y:C}});a.appendChild(M),g.tip=M,c.add(M)},d=h=>{const{target:g}=h;if(!fq(g)){h.stopPropagation();return}g.tip&&(g.tip.remove(),g.tip=null,c.delete(g.tip))};return a.addEventListener("pointerover",u),a.addEventListener("pointerout",d),()=>{a.removeEventListener("pointerover",u),a.removeEventListener("pointerout",d),c.forEach(h=>h.remove())}}}cue.props={reapplyWhenUpdate:!0};var jet=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},Fet=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Het(e){return Jr(e).select(`.${sO}`).node()}const Vet={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function Uet(e={}){const{originData:t=[],layout:n}=e,r=Fet(e,["originData","layout"]),i=Pn({},Vet,r),a=or(i,"breadCrumb"),s=or(i,"active");return o=>{const{update:l,setState:c,container:u,options:d}=o,h=Het(u),g=d.marks[0],{state:v}=g,x=new Jc;h.appendChild(x);const w=(R,L)=>jet(this,void 0,void 0,function*(){if(x.removeChildren(),L){let N="",D=a.y,H=0;const U=[],q=h.getBBox().width,K=R.map((Q,X)=>{N=`${N}${Q}/`,U.push(Q);const te=new vg({name:N.replace(/\/$/,""),style:Object.assign(Object.assign({text:Q,x:H,path:[...U],depth:X},a),{y:D})});x.appendChild(te),H+=te.getBBox().width;const ee=new vg({style:Object.assign(Object.assign({x:H,text:" / "},a),{y:D})});return x.appendChild(ee),H+=ee.getBBox().width,H>q&&(D=x.getBBox().height+a.y,H=0,te.attr({x:H,y:D}),H+=te.getBBox().width,ee.attr({x:H,y:D}),H+=ee.getBBox().width),X===FE(R)-1&&ee.remove(),te});K.forEach((Q,X)=>{if(X===FE(K)-1)return;const te=Object.assign({},Q.attributes);Q.attr("cursor","pointer"),Q.addEventListener("mouseenter",()=>{Q.attr(s)}),Q.addEventListener("mouseleave",()=>{Q.attr(te)}),Q.addEventListener("click",()=>{w(Ua(Q,["style","path"]),Ua(Q,["style","depth"]))})})}ret(u,c),c("treemapDrillDown",N=>{const{marks:D}=N,H=R.join("/"),U=D.map(q=>{if(q.type!=="rect")return q;let K=t;if(L){const X=t.filter(oe=>{const ce=Ua(oe,["id"]);return ce&&(ce.match(`${H}/`)||H.match(ce))}).map(oe=>({value:oe.height===0?Ua(oe,["value"]):void 0,name:Ua(oe,["id"])})),{paddingLeft:te,paddingBottom:ee,paddingRight:Z}=n,re=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||x.getBBox().height+10)/(L+1),paddingLeft:te/(L+1),paddingBottom:ee/(L+1),paddingRight:Z/(L+1),path:oe=>oe.name,layer:oe=>oe.depth===L+1});K=soe(X,re,{value:"value"})[0]}else K=t.filter(X=>X.depth===1);const Q=[];return K.forEach(({path:X})=>{Q.push(WO(X))}),Pn({},q,{data:K,scale:{color:{domain:Q}}})});return Object.assign(Object.assign({},N),{marks:U})}),yield l(void 0,["legendFilter"])}),C=R=>{const L=R.target;if(Ua(L,["markType"])!=="rect")return;const N=Ua(L,["__data__","key"]),D=qS(t,H=>H.id===N);Ua(D,"height")&&w(Ua(D,"path"),Ua(D,"depth"))};h.addEventListener("click",C);const E=AB(Object.assign(Object.assign({},v.active),v.inactive)),M=()=>{Nce(h).forEach(L=>{const N=Ua(L,["style","cursor"]),D=qS(t,H=>H.id===Ua(L,["__data__","key"]));if(N!=="pointer"&&D?.height){L.style.cursor="pointer";const H=IB(L.attributes,E);L.addEventListener("mouseenter",()=>{L.attr(v.active)}),L.addEventListener("mouseleave",()=>{L.attr(Pn(H,v.inactive))})}})};return M(),h.addEventListener("mousemove",M),()=>{x.remove(),h.removeEventListener("click",C),h.removeEventListener("mousemove",M)}}}var zL=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},Get=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Wet={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},BL="movePoint",dq=e=>{const t=e.target,{markType:n}=t;n==="line"&&(t.attr("_lineWidth",t.attr("lineWidth")||1),t.attr("lineWidth",t.attr("_lineWidth")+3)),n==="interval"&&(t.attr("_opacity",t.attr("opacity")||1),t.attr("opacity",.7*t.attr("_opacity")))},hq=e=>{const t=e.target,{markType:n}=t;n==="line"&&t.attr("lineWidth",t.attr("_lineWidth")),n==="interval"&&t.attr("opacity",t.attr("_opacity"))},qet=(e,t,n)=>t.map(r=>["x","color"].reduce((a,s)=>{const o=n[s];return o&&r[o]!==e[o]?!1:a},!0)?Object.assign(Object.assign({},r),e):r),Ket=e=>{const t=Ua(e,["__data__","y"]),r=Ua(e,["__data__","y1"])-t,{__data__:{data:i,encode:a,transform:s},childNodes:o}=e.parentNode,l=qS(s,({type:d})=>d==="normalizeY"),c=Ua(a,["y","field"]),u=i[o.indexOf(e)][c];return(d,h=!1)=>l||h?d/(1-d)/(r/(1-r))*u:d},Yet=(e,t)=>{const n=Ua(e,["__data__","seriesItems",t,"0","value"]),r=Ua(e,["__data__","seriesIndex",t]),{__data__:{data:i,encode:a,transform:s}}=e.parentNode,o=qS(s,({type:u})=>u==="normalizeY"),l=Ua(a,["y","field"]),c=i[r][l];return u=>o?n===1?u:u/(1-u)/(n/(1-n))*c:u},pq=(e,t,n)=>{e.forEach((r,i)=>{r.attr("stroke",t[1]===i?n.activeStroke:n.stroke)})},gq=(e,t,n,r)=>{const i=new Td({style:n}),a=new vg({style:r});return t.appendChild(a),e.appendChild(i),[i,a]},mq=(e,t)=>{if(!Ua(e,["options","range","indexOf"]))return;const r=e.options.range.indexOf(t);return e.sortedDomain[r]},jL=(e,t,n)=>{const r=uP(e,t),a=uP(e,n)/r,s=e[0]+(t[0]-e[0])*a,o=e[1]+(t[1]-e[1])*a;return[s,o]};function Xet(e={}){const{selection:t=[],precision:n=2}=e,r=Get(e,["selection","precision"]),i=Object.assign(Object.assign({},Wet),r||{}),a=or(i,"path"),s=or(i,"label"),o=or(i,"point");return(l,c,u)=>{const{update:d,setState:h,container:g,view:v,options:{marks:x,coordinate:w}}=l,C=b0(g);let E=Nce(C),M,R=t;const{transform:L=[],type:N}=w,D=!!qS(L,({type:oe})=>oe==="transpose"),H=N==="polar",U=N==="theta",q=!!qS(E,({markType:oe})=>oe==="area");q&&(E=E.filter(({markType:oe})=>oe==="area"));const K=new Jc({style:{zIndex:2}});C.appendChild(K);const Q=()=>{u.emit("element-point:select",{nativeEvent:!0,data:{selection:R}})},X=(oe,ce)=>{u.emit("element-point:moved",{nativeEvent:!0,data:{changeData:oe,data:ce}})},te=oe=>{const ce=oe.target;R=[ce.parentNode.childNodes.indexOf(ce)],Q(),Z(ce)},ee=oe=>{const{data:{selection:ce},nativeEvent:le}=oe;if(le)return;R=ce;const pe=Ua(E,[R?.[0]]);pe&&Z(pe)},Z=oe=>{const{attributes:ce,markType:le,__data__:pe}=oe,{stroke:ye}=ce,{points:_e,seriesTitle:Se,color:Re,title:je,seriesX:Fe,y1:ze}=pe;if(D&&le!=="interval")return;const{scale:Ze,coordinate:st}=M?.view||v,{color:Ue,y:Ne,x:qe}=Ze,We=st.getCenter();K.removeChildren();let rt;const ht=(ft,Rt,Yt,Jt)=>zL(this,void 0,void 0,function*(){return h("elementPointMove",xt=>{var Ft;const Lt=(((Ft=M?.options)===null||Ft===void 0?void 0:Ft.marks)||x).map(Kt=>{if(!Jt.includes(Kt.type))return Kt;const{data:hn,encode:dn}=Kt,kn=Object.keys(dn).reduce((un,gn)=>{const Qt=dn[gn];return gn==="x"&&(un[Qt]=ft),gn==="y"&&(un[Qt]=Rt),gn==="color"&&(un[Qt]=Yt),un},{}),sn=qet(kn,hn,dn);return X(kn,sn),Pn({},Kt,{data:sn,animate:!1})});return Object.assign(Object.assign({},xt),{marks:Lt})}),yield d("elementPointMove")});if(["line","area"].includes(le))_e.forEach((ft,Rt)=>{const Yt=qe.invert(Fe[Rt]);if(!Yt)return;const Jt=new Uy({name:BL,style:Object.assign({cx:ft[0],cy:ft[1],fill:ye},o)}),xt=Yet(oe,Rt);Jt.addEventListener("mousedown",Ft=>{const Lt=st.output([Fe[Rt],0]),Kt=Se?.length;g.attr("cursor","move"),R[1]!==Rt&&(R[1]=Rt,Q()),pq(K.childNodes,R,o);const[hn,dn]=gq(K,Jt,a,s),Cn=sn=>{const un=ft[1]+sn.clientY-rt[1];if(q)if(H){const gn=ft[0]+sn.clientX-rt[0],[Qt,Ln]=jL(We,Lt,[gn,un]),[,Gt]=st.output([1,Ne.output(0)]),[,He]=st.invert([Qt,Gt-(_e[Rt+Kt][1]-Ln)]),be=(Rt+1)%Kt,we=(Rt-1+Kt)%Kt,xe=SC([_e[we],[Qt,Ln],Se[be]&&_e[be]]);dn.attr("text",xt(Ne.invert(He)).toFixed(n)),hn.attr("d",xe),Jt.attr("cx",Qt),Jt.attr("cy",Ln)}else{const[,gn]=st.output([1,Ne.output(0)]),[,Qt]=st.invert([ft[0],gn-(_e[Rt+Kt][1]-un)]),Ln=SC([_e[Rt-1],[ft[0],un],Se[Rt+1]&&_e[Rt+1]]);dn.attr("text",xt(Ne.invert(Qt)).toFixed(n)),hn.attr("d",Ln),Jt.attr("cy",un)}else{const[,gn]=st.invert([ft[0],un]),Qt=SC([_e[Rt-1],[ft[0],un],_e[Rt+1]]);dn.attr("text",Ne.invert(gn).toFixed(n)),hn.attr("d",Qt),Jt.attr("cy",un)}};rt=[Ft.clientX,Ft.clientY],window.addEventListener("mousemove",Cn);const kn=()=>zL(this,void 0,void 0,function*(){if(g.attr("cursor","default"),window.removeEventListener("mousemove",Cn),g.removeEventListener("mouseup",kn),Cs(dn.attr("text")))return;const sn=Number(dn.attr("text")),un=mq(Ue,Re);M=yield ht(Yt,sn,un,["line","area"]),dn.remove(),hn.remove(),Z(oe)});g.addEventListener("mouseup",kn)}),K.appendChild(Jt)}),pq(K.childNodes,R,o);else if(le==="interval"){let ft=[(_e[0][0]+_e[1][0])/2,_e[0][1]];D?ft=[_e[0][0],(_e[0][1]+_e[1][1])/2]:U&&(ft=_e[0]);const Rt=Ket(oe),Yt=new Uy({name:BL,style:Object.assign(Object.assign({cx:ft[0],cy:ft[1],fill:ye},o),{stroke:o.activeStroke})});Yt.addEventListener("mousedown",Jt=>{g.attr("cursor","move");const xt=mq(Ue,Re),[Ft,Lt]=gq(K,Yt,a,s),Kt=dn=>{if(D){const Cn=ft[0]+dn.clientX-rt[0],[kn]=st.output([Ne.output(0),Ne.output(0)]),[,sn]=st.invert([kn+(Cn-_e[2][0]),ft[1]]),un=SC([[Cn,_e[0][1]],[Cn,_e[1][1]],_e[2],_e[3]],!0);Lt.attr("text",Rt(Ne.invert(sn)).toFixed(n)),Ft.attr("d",un),Yt.attr("cx",Cn)}else if(U){const Cn=ft[1]+dn.clientY-rt[1],kn=ft[0]+dn.clientX-rt[0],[sn,un]=jL(We,[kn,Cn],ft),[gn,Qt]=jL(We,[kn,Cn],_e[1]),Ln=st.invert([sn,un])[1],Gt=ze-Ln;if(Gt<0)return;const He=RJe(We,[[sn,un],[gn,Qt],_e[2],_e[3]],Gt>.5?1:0);Lt.attr("text",Rt(Gt,!0).toFixed(n)),Ft.attr("d",He),Yt.attr("cx",sn),Yt.attr("cy",un)}else{const Cn=ft[1]+dn.clientY-rt[1],[,kn]=st.output([1,Ne.output(0)]),[,sn]=st.invert([ft[0],kn-(_e[2][1]-Cn)]),un=SC([[_e[0][0],Cn],[_e[1][0],Cn],_e[2],_e[3]],!0);Lt.attr("text",Rt(Ne.invert(sn)).toFixed(n)),Ft.attr("d",un),Yt.attr("cy",Cn)}};rt=[Jt.clientX,Jt.clientY],window.addEventListener("mousemove",Kt);const hn=()=>zL(this,void 0,void 0,function*(){if(g.attr("cursor","default"),g.removeEventListener("mouseup",hn),window.removeEventListener("mousemove",Kt),Cs(Lt.attr("text")))return;const dn=Number(Lt.attr("text"));M=yield ht(je,dn,xt,[le]),Lt.remove(),Ft.remove(),Z(oe)});g.addEventListener("mouseup",hn)}),K.appendChild(Yt)}};E.forEach((oe,ce)=>{R[0]===ce&&Z(oe),oe.addEventListener("click",te),oe.addEventListener("mouseenter",dq),oe.addEventListener("mouseleave",hq)});const re=oe=>{const ce=oe?.target;(!ce||ce.name!==BL&&!E.includes(ce))&&(R=[],Q(),K.removeChildren())};return u.on("element-point:select",ee),u.on("element-point:unselect",re),g.addEventListener("mousedown",re),()=>{K.remove(),u.off("element-point:select",ee),u.off("element-point:unselect",re),g.removeEventListener("mousedown",re),E.forEach(oe=>{oe.removeEventListener("click",te),oe.removeEventListener("mouseenter",dq),oe.removeEventListener("mouseleave",hq)})}}}var vq={},FL={},HL=34,CC=10,VL=13;function uue(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Zet(e,t){var n=uue(e);return function(r,i){return t(n(r),i,e)}}function yq(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ih(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Qet(e){return e<0?"-"+ih(-e,6):e>9999?"+"+ih(e,6):ih(e,4)}function Jet(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Qet(e.getUTCFullYear())+"-"+ih(e.getUTCMonth()+1,2)+"-"+ih(e.getUTCDate(),2)+(i?"T"+ih(t,2)+":"+ih(n,2)+":"+ih(r,2)+"."+ih(i,3)+"Z":r?"T"+ih(t,2)+":"+ih(n,2)+":"+ih(r,2)+"Z":n||t?"T"+ih(t,2)+":"+ih(n,2)+"Z":"")}function ett(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,h){var g,v,x=i(d,function(w,C){if(g)return g(w,C-1);v=w,g=h?Zet(w,h):uue(w)});return x.columns=v||[],x}function i(d,h){var g=[],v=d.length,x=0,w=0,C,E=v<=0,M=!1;d.charCodeAt(v-1)===CC&&--v,d.charCodeAt(v-1)===VL&&--v;function R(){if(E)return FL;if(M)return M=!1,vq;var N,D=x,H;if(d.charCodeAt(D)===HL){for(;x++<v&&d.charCodeAt(x)!==HL||d.charCodeAt(++x)===HL;);return(N=x)>=v?E=!0:(H=d.charCodeAt(x++))===CC?M=!0:H===VL&&(M=!0,d.charCodeAt(x)===CC&&++x),d.slice(D+1,N-1).replace(/""/g,'"')}for(;x<v;){if((H=d.charCodeAt(N=x++))===CC)M=!0;else if(H===VL)M=!0,d.charCodeAt(x)===CC&&++x;else if(H!==n)continue;return d.slice(D,N)}return E=!0,d.slice(D,v)}for(;(C=R())!==FL;){for(var L=[];C!==vq&&C!==FL;)L.push(C),C=R();h&&(L=h(L,w++))==null||g.push(L)}return g}function a(d,h){return d.map(function(g){return h.map(function(v){return u(g[v])}).join(e)})}function s(d,h){return h==null&&(h=yq(d)),[h.map(u).join(e)].concat(a(d,h)).join(`
`)}function o(d,h){return h==null&&(h=yq(d)),a(d,h).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?Jet(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:u}}function ttt(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))ntt&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const ntt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var rtt=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const fue=e=>{const{value:t,format:n=t.split(".").pop(),delimiter:r=",",autoType:i=!0}=e;return()=>rtt(void 0,void 0,void 0,function*(){const a=yield fetch(t);if(n==="csv"){const s=yield a.text();return ett(r).parse(s,i?ttt:yx)}else if(n==="json")return yield a.json();throw new Error(`Unknown format: ${n}.`)})};fue.props={};function itt(e){return!e||Object.keys(e).length===0}const due=e=>{const{fields:t,key:n="key",value:r="value"}=e;return i=>itt(t)?i:i.flatMap(a=>t.map(s=>Object.assign(Object.assign({},a),{[n]:s,[r]:a[s]})))};due.props={};function att(e){return e!=null&&!Number.isNaN(e)}const hue=e=>{const{callback:t=att}=e;return n=>n.filter(t)};hue.props={};const pue=e=>{const{callback:t}=e;return n=>Array.isArray(n)?[...n].sort(t):n};pue.props={};function ott(e,t=[]){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}const gue=e=>{const{fields:t}=e;return n=>n.map(r=>ott(r,t))};gue.props={};function stt(e){return Object.keys(e).length===0}const mue=e=>t=>{if(!e||stt(e))return t;const n=r=>Object.entries(r).reduce((i,[a,s])=>(i[e[a]||a]=s,i),{});return t.map(n)};mue.props={};function ltt(e,t){return e.map(n=>{if(Array.isArray(n)){const[r,i=t]=n;return[r,i]}return[n,t]})}const vue=e=>{const{fields:t=[]}=e,n=ltt(t,!0);return r=>{const i=(a,s)=>n.reduce((o,[l,c=!0])=>o!==0?o:c?a[l]<s[l]?-1:+(a[l]!==s[l]):a[l]>s[l]?-1:+(a[l]!==s[l]),0);return[...r].sort(i)}};vue.props={};const yue=e=>{const{value:t}=e;return()=>t};yue.props={};const bue=e=>{const{callback:t=yx}=e;return n=>t(n)};bue.props={};const _ue=e=>{const{callback:t=yx}=e;return n=>Array.isArray(n)?n.map(t):n};_ue.props={};var ctt=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};function utt(e,t){return{set(n,r,i){if(t[n]===void 0)return this;const a=r?r.call(null,t[n]):t[n];return i?i.call(null,a):typeof e[n]=="function"?e[n](a):e[n]=a,this},setAsync(n,r,i){return ctt(this,void 0,void 0,function*(){if(t[n]===void 0)return this;const a=r?yield r.call(null,t[n]):t[n];return i?i.call(null,a):typeof e[n]=="function"?e[n](a):e[n]=a,this})}}}const UL=Math.PI/180,GC=64,SA=2048;function ftt(e){return e.text}function dtt(){return"serif"}function bq(){return"normal"}function htt(e){return e.value}function ptt(){return~~(Math.random()*2)*90}function gtt(){return 1}function mtt(){}function vtt(e,t,n,r){if(t.sprite)return;const i=e.context,a=e.ratio;i.clearRect(0,0,(GC<<5)/a,SA/a);let s=0,o=0,l=0;const c=n.length;for(--r;++r<c;){t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;let h=i.measureText(t.text+"m").width*a,g=t.size<<1;if(t.rotate){const v=Math.sin(t.rotate*UL),x=Math.cos(t.rotate*UL),w=h*x,C=h*v,E=g*x,M=g*v;h=Math.max(Math.abs(w+M),Math.abs(w-M))+31>>5<<5,g=~~Math.max(Math.abs(C+E),Math.abs(C-E))}else h=h+31>>5<<5;if(g>l&&(l=g),s+h>=GC<<5&&(s=0,o+=l,l=0),o+g>=SA)break;i.translate((s+(h>>1))/a,(o+(g>>1))/a),t.rotate&&i.rotate(t.rotate*UL),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=h,t.height=g,t.xoff=s,t.yoff=o,t.x1=h>>1,t.y1=g>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=h}const u=i.getImageData(0,0,(GC<<5)/a,SA/a).data,d=[];for(;--r>=0;){if(t=n[r],!t.hasText)continue;const h=t.width,g=h>>5;let v=t.y1-t.y0;for(let C=0;C<v*g;C++)d[C]=0;if(s=t.xoff,s==null)return;o=t.yoff;let x=0,w=-1;for(let C=0;C<v;C++){for(let E=0;E<h;E++){const M=g*C+(E>>5),R=u[(o+C)*(GC<<5)+(s+E)<<2]?1<<31-E%32:0;d[M]|=R,x|=R}x?w=C:(t.y0++,v--,C--,o++)}t.y1=t.y0+w,t.sprite=d.slice(0,(t.y1-t.y0)*g)}}function ytt(e,t,n){n>>=5;const r=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=a&127,o=32-s,l=e.y1-e.y0;let c=(e.y+e.y0)*n+(a>>5),u;for(let d=0;d<l;d++){u=0;for(let h=0;h<=i;h++)if((u<<o|(h<i?(u=r[d*i+h])>>>s:0))&t[c+h])return!0;c+=n}return!1}function btt(e,t){const n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function _tt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function xue(e){const t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function xtt(e){const n=4*e[0]/e[1];let r=0,i=0;return function(a){const s=a<0?-1:1;switch(Math.sqrt(1+4*s*a)-s&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4;break}return[r,i]}}function _q(e){const t=[];let n=-1;for(;++n<e;)t[n]=0;return t}function wtt(){return document.createElement("canvas")}function hy(e){return typeof e=="function"?e:function(){return e}}const Stt={archimedean:xue,rectangular:xtt};function Ctt(){let e=[256,256],t=ftt,n=dtt,r=htt,i=bq,a=ptt,s=gtt,o=xue,l=Math.random,c=mtt,u=[],d=null,h=1/0,g=wtt;const v=bq,x={};x.start=function(){const[E,M]=e,R=w(g()),L=x.board?x.board:_q((e[0]>>5)*e[1]),N=u.length,D=[],H=u.map(function(Q,X,te){return Q.text=t.call(this,Q,X,te),Q.font=n.call(this,Q,X,te),Q.style=v.call(this,Q,X,te),Q.weight=i.call(this,Q,X,te),Q.rotate=a.call(this,Q,X,te),Q.size=~~r.call(this,Q,X,te),Q.padding=s.call(this,Q,X,te),Q}).sort(function(Q,X){return X.size-Q.size});let U=-1,q=x.board?[{x:0,y:0},{x:E,y:M}]:void 0;d&&clearInterval(d),d=setInterval(K,0),K();function K(){const Q=Date.now();for(;Date.now()-Q<h&&++U<N;){const X=H[U];X.x=E*(l()+.5)>>1,X.y=M*(l()+.5)>>1,vtt(R,X,H,U),X.hasText&&C(L,X,q)&&(c.call(null,"word",{cloud:x,word:X}),D.push(X),q?x.hasImage||btt(q,X):q=[{x:X.x+X.x0,y:X.y+X.y0},{x:X.x+X.x1,y:X.y+X.y1}],X.x-=e[0]>>1,X.y-=e[1]>>1)}x._tags=D,x._bounds=q,U>=N&&(x.stop(),c.call(null,"end",{cloud:x,words:D,bounds:q}))}return x},x.stop=function(){return d&&(clearInterval(d),d=null),x};function w(E){E.width=E.height=1;const M=Math.sqrt(E.getContext("2d").getImageData(0,0,1,1).data.length>>2);E.width=(GC<<5)/M,E.height=SA/M;const R=E.getContext("2d");return R.fillStyle=R.strokeStyle="red",R.textAlign="center",R.textBaseline="middle",{context:R,ratio:M}}function C(E,M,R){const L=M.x,N=M.y,D=Math.sqrt(e[0]*e[0]+e[1]*e[1]),H=o(e),U=l()<.5?1:-1;let q,K=-U,Q,X;for(;(q=H(K+=U))&&(Q=~~q[0],X=~~q[1],!(Math.min(Math.abs(Q),Math.abs(X))>=D));)if(M.x=L+Q,M.y=N+X,!(M.x+M.x0<0||M.y+M.y0<0||M.x+M.x1>e[0]||M.y+M.y1>e[1])&&(!R||!ytt(M,E,e[0]))&&(!R||_tt(M,R))){const te=M.sprite,ee=M.width>>5,Z=e[0]>>5,re=M.x-(ee<<4),oe=re&127,ce=32-oe,le=M.y1-M.y0;let pe,ye=(M.y+M.y0)*Z+(re>>5);for(let _e=0;_e<le;_e++){pe=0;for(let Se=0;Se<=ee;Se++)E[ye+Se]|=pe<<ce|(Se<ee?(pe=te[_e*ee+Se])>>>oe:0);ye+=Z}return delete M.sprite,!0}return!1}return x.createMask=E=>{const M=document.createElement("canvas"),[R,L]=e;if(!R||!L)return;const N=R>>5,D=_q((R>>5)*L);M.width=R,M.height=L;const H=M.getContext("2d");H.drawImage(E,0,0,E.width,E.height,0,0,R,L);const U=H.getImageData(0,0,R,L).data;for(let q=0;q<L;q++)for(let K=0;K<R;K++){const Q=N*q+(K>>5),X=q*R+K<<2,ee=U[X]>=250&&U[X+1]>=250&&U[X+2]>=250?1<<31-K%32:0;D[Q]|=ee}x.board=D,x.hasImage=!0},x.timeInterval=function(E){h=E??1/0},x.words=function(E){u=E},x.size=function(E=[]){e=[+E[0],+E[1]]},x.text=function(E){t=hy(E)},x.font=function(E){n=hy(E)},x.fontWeight=function(E){i=hy(E)},x.rotate=function(E){a=hy(E)},x.canvas=function(E){g=hy(E)},x.spiral=function(E){o=Stt[E]||E},x.fontSize=function(E){r=hy(E)},x.padding=function(E){s=hy(E)},x.random=function(E){l=hy(E)},x.on=function(E){c=hy(E)},x}var Ett=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})},Ott=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ttt={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function Mtt(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}if(typeof e=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=()=>t(r),r.onerror=()=>{console.error(`'image ${e} load failed !!!'`),n()};return}n()})}function Att(e,t){if(typeof e=="function")return e;if(Array.isArray(e)){const[n,r]=e;if(!t)return()=>(r+n)/2;const[i,a]=t;return a===i?()=>(r+n)/2:({value:s})=>(r-n)/(a-i)*(s-i)+n}return()=>e}const wue=(e,t)=>n=>Ett(void 0,void 0,void 0,function*(){const r=Object.assign({},Ttt,e,{canvas:t.createCanvas}),i=Ctt();yield utt(i,r).set("fontSize",E=>{const M=n.map(R=>R.value);return Att(E,[hp(M),Uo(M)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",Mtt,i.createMask),i.words([...n]);const a=i.start(),[s,o]=r.size,l=[{x:0,y:0},{x:s,y:o}],{_bounds:c=l,_tags:u,hasImage:d}=a,h=u.map(E=>{var{x:M,y:R,font:L}=E,N=Ott(E,["x","y","font"]);return Object.assign(Object.assign({},N),{x:M+s/2,y:R+o/2,fontFamily:L})}),[{x:g,y:v},{x,y:w}]=c,C={text:"",value:0,opacity:0,fontSize:0};return h.push(Object.assign(Object.assign({},C),{x:d?0:g,y:d?0:v}),Object.assign(Object.assign({},C),{x:d?s:x,y:d?o:w})),h});wue.props={};function xq(e){return typeof e=="string"?t=>t[e]:e}const Sue=e=>{const{join:t,on:n,select:r=[],as:i=r,unknown:a=NaN}=e,[s,o]=n,l=xq(o),c=xq(s),u=zB(t,([d])=>d,d=>l(d));return d=>d.map(h=>{const g=u.get(c(h));return Object.assign(Object.assign({},h),r.reduce((v,x,w)=>(v[i[w]]=g?g[x]:a,v),{}))})};Sue.props={};const Cue=e=>{const{start:t,end:n}=e;return r=>r.slice(t,n)};Cue.props={};var GL={exports:{}},WL={exports:{}},wq;function Itt(){return wq||(wq=1,function(e){var t=e.exports;e.exports.isNumber=function(n){return typeof n=="number"},e.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.min(r,n[i]);return r},e.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.max(r,n[i]);return r},e.exports.findMinMulti=function(n){for(var r=t.findMin(n[0]),i=1;i<n.length;i++)r=Math.min(r,t.findMin(n[i]));return r},e.exports.findMaxMulti=function(n){for(var r=t.findMax(n[0]),i=1;i<n.length;i++)r=Math.max(r,t.findMax(n[i]));return r},e.exports.inside=function(n,r,i){return n<=i&&i<=r}}(WL)),WL.exports}var Sq;function Ptt(){return Sq||(Sq=1,function(e){var t=50,n=2,r=Math.log(2),i=e.exports,a=Itt();function s(l){return 1-Math.abs(l)}e.exports.getUnifiedMinMax=function(l,c){return i.getUnifiedMinMaxMulti([l],c)},e.exports.getUnifiedMinMaxMulti=function(l,c){c=c||{};var u=!1,d=!1,h=a.isNumber(c.width)?c.width:n,g=a.isNumber(c.size)?c.size:t,v=a.isNumber(c.min)?c.min:(u=!0,a.findMinMulti(l)),x=a.isNumber(c.max)?c.max:(d=!0,a.findMaxMulti(l)),w=x-v,C=w/(g-1);return u&&(v=v-2*h*C),d&&(x=x+2*h*C),{min:v,max:x}},e.exports.create=function(l,c){if(c=c||{},!l||l.length===0)return[];var u=a.isNumber(c.size)?c.size:t,d=a.isNumber(c.width)?c.width:n,h=i.getUnifiedMinMax(l,{size:u,width:d,min:c.min,max:c.max}),g=h.min,v=h.max,x=v-g,w=x/(u-1);if(x===0)return[{x:g,y:1}];for(var C=[],E=0;E<u;E++)C.push({x:g+E*w,y:0});var M=function(K){return Math.floor((K-g)/w)},R=o(s,d),L=R[d],N=R[d-1]-R[d-2],D=0;l.forEach(function(K){var Q=M(K);if(!(Q+d<0||Q-d>=C.length)){var X=Math.max(Q-d,0),te=Q,ee=Math.min(Q+d,C.length-1),Z=X-(Q-d),re=Q+d-ee,oe=R[-d-1+Z]||0,ce=R[-d-1+re]||0,le=L/(L-oe-ce);Z>0&&(D+=le*(Z-1)*N);var pe=Math.max(0,Q-d+1);a.inside(0,C.length-1,pe)&&(C[pe].y+=le*1*N),a.inside(0,C.length-1,te+1)&&(C[te+1].y-=le*2*N),a.inside(0,C.length-1,ee+1)&&(C[ee+1].y+=le*1*N)}});var H=D,U=0,q=0;return C.forEach(function(K){U+=K.y,H+=U,K.y=H,q+=H}),q>0&&C.forEach(function(K){K.y/=q}),C};function o(l,c){for(var u={},d=0,h=-c;h<=c;h++)d+=l(h/c),u[h]=d;return u}e.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){c+=u.x*u.y}),c}},e.exports.getXWithLeftTailArea=function(l,c){if(!(!l||l.length===0)){for(var u=0,d=0,h=0;h<l.length&&(d=h,u+=l[h].y,!(u>=c));h++);return l[d].x}},e.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){var d=Math.log(u.y);isFinite(d)&&(c+=u.y*d)}),c=-c/r,Math.pow(2,c)}}}(GL)),GL.exports}var Rtt=Ptt();const $tt=Ky(Rtt),Eue=e=>{const{field:t,groupBy:n,as:r=["y","size"],min:i,max:a,size:s=10,width:o}=e,[l,c]=r;return u=>Array.from(Rs(u,h=>n.map(g=>h[g]).join("-")).values()).map(h=>{const g=$tt.create(h.map(w=>w[t]),{min:i,max:a,size:s,width:o}),v=g.map(w=>w.x),x=g.map(w=>w.y);return Object.assign(Object.assign({},h[0]),{[l]:v,[c]:x})})};Eue.props={};function ktt(e,t,n,r){r=r||{};var i=r.maxIterations||100,a=r.tolerance||1e-10,s=e(t),o=e(n),l=n-t;if(s*o>0)throw"Initial bisect points must have opposite signs";if(s===0)return t;if(o===0)return n;for(var c=0;c<i;++c){l/=2;var u=t+l,d=e(u);if(d*s>=0&&(t=u),Math.abs(l)<a||d===0)return u}return t+l}function p4(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function Cq(e,t){return p4(e).map(function(){return p4(t)})}function ES(e,t){for(var n=0,r=0;r<e.length;++r)n+=e[r]*t[r];return n}function g4(e){return Math.sqrt(ES(e,e))}function m4(e,t,n){for(var r=0;r<t.length;++r)e[r]=t[r]*n}function Ay(e,t,n,r,i){for(var a=0;a<e.length;++a)e[a]=t*n[a]+r*i[a]}function Ltt(e,t,n){n=n||{};var r=n.maxIterations||t.length*200,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,o=n.minErrorDelta||1e-5,l=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,u=n.psi!==void 0?n.psi:-.5,d=n.sigma!==void 0?n.sigma:.5,h,g=t.length,v=new Array(g+1);v[0]=t,v[0].fx=e(t),v[0].id=0;for(var x=0;x<g;++x){var w=t.slice();w[x]=w[x]?w[x]*i:a,v[x+1]=w,v[x+1].fx=e(w),v[x+1].id=x+1}function C(Q){for(var X=0;X<Q.length;X++)v[g][X]=Q[X];v[g].fx=Q.fx}for(var E=function(Q,X){return Q.fx-X.fx},M=t.slice(),R=t.slice(),L=t.slice(),N=t.slice(),D=0;D<r;++D){if(v.sort(E),n.history){var H=v.map(function(Q){var X=Q.slice();return X.fx=Q.fx,X.id=Q.id,X});H.sort(function(Q,X){return Q.id-X.id}),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:H})}for(h=0,x=0;x<g;++x)h=Math.max(h,Math.abs(v[0][x]-v[1][x]));if(Math.abs(v[0].fx-v[g].fx)<s&&h<o)break;for(x=0;x<g;++x){M[x]=0;for(var U=0;U<g;++U)M[x]+=v[U][x];M[x]/=g}var q=v[g];if(Ay(R,1+l,M,-l,q),R.fx=e(R),R.fx<v[0].fx)Ay(N,1+c,M,-c,q),N.fx=e(N),N.fx<R.fx?C(N):C(R);else if(R.fx>=v[g-1].fx){var K=!1;if(R.fx>q.fx?(Ay(L,1+u,M,-u,q),L.fx=e(L),L.fx<q.fx?C(L):K=!0):(Ay(L,1-u*l,M,u*l,q),L.fx=e(L),L.fx<R.fx?C(L):K=!0),K){if(d>=1)break;for(x=1;x<v.length;++x)Ay(v[x],1-d,v[0],d,v[x]),v[x].fx=e(v[x])}}else C(R)}return v.sort(E),{fx:v[0].fx,x:v[0]}}function Ntt(e,t,n,r,i,a,s){var o=n.fx,l=ES(n.fxprime,t),c=o,u=o,d=l,h=0;i=i||1,a=a||1e-6,s=s||.1;function g(x,w,C){for(var E=0;E<16;++E)if(i=(x+w)/2,Ay(r.x,1,n.x,i,t),c=r.fx=e(r.x,r.fxprime),d=ES(r.fxprime,t),c>o+a*i*l||c>=C)w=i;else{if(Math.abs(d)<=-s*l)return i;d*(w-x)>=0&&(w=x),x=i,C=c}return 0}for(var v=0;v<10;++v){if(Ay(r.x,1,n.x,i,t),c=r.fx=e(r.x,r.fxprime),d=ES(r.fxprime,t),c>o+a*i*l||v&&c>=u)return g(h,i,u);if(Math.abs(d)<=-s*l)return i;if(d>=0)return g(i,h,c);u=c,h=i,i*=2}return i}function Dtt(e,t,n){var r={x:t.slice(),fx:0,fxprime:t.slice()},i={x:t.slice(),fx:0,fxprime:t.slice()},a=t.slice(),s,o,l=1,c;n=n||{},c=n.maxIterations||t.length*20,r.fx=e(r.x,r.fxprime),s=r.fxprime.slice(),m4(s,r.fxprime,-1);for(var u=0;u<c;++u){if(l=Ntt(e,s,r,i,l),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),!l)m4(s,r.fxprime,-1);else{Ay(a,1,i.fxprime,-1,r.fxprime);var d=ES(r.fxprime,r.fxprime),h=Math.max(0,ES(a,i.fxprime)/d);Ay(s,h,s,-1,i.fxprime),o=r,r=i,i=o}if(g4(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:l}),r}const Oue=1e-10;function Tue(e,t){const n=Btt(e),r=n.filter(function(l){return ztt(l,e)});let i=0,a=0,s;const o=[];if(r.length>1){const l=jtt(r);for(s=0;s<r.length;++s){const u=r[s];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(u,d){return d.angle-u.angle});let c=r[r.length-1];for(s=0;s<r.length;++s){const u=r[s];a+=(c.x+u.x)*(u.y-c.y);const d={x:(u.x+c.x)/2,y:(u.y+c.y)/2};let h=null;for(let g=0;g<u.parentIndex.length;++g)if(c.parentIndex.indexOf(u.parentIndex[g])>-1){const v=e[u.parentIndex[g]],x=Math.atan2(u.x-v.x,u.y-v.y),w=Math.atan2(c.x-v.x,c.y-v.y);let C=w-x;C<0&&(C+=2*Math.PI);const E=w-C/2;let M=vO(d,{x:v.x+v.radius*Math.sin(E),y:v.y+v.radius*Math.cos(E)});M>v.radius*2&&(M=v.radius*2),(h===null||h.width>M)&&(h={circle:v,width:M,p1:u,p2:c})}h!==null&&(o.push(h),i+=v4(h.circle.radius,h.width),c=u)}}else{let l=e[0];for(s=1;s<e.length;++s)e[s].radius<l.radius&&(l=e[s]);let c=!1;for(s=0;s<e.length;++s)if(vO(e[s],l)>Math.abs(l.radius-e[s].radius)){c=!0;break}c?i=a=0:(i=l.radius*l.radius*Math.PI,o.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-Oue,y:l.y+l.radius},width:l.radius*2}))}return a/=2,t&&(t.area=i+a,t.arcArea=i,t.polygonArea=a,t.arcs=o,t.innerPoints=r,t.intersectionPoints=n),i+a}function ztt(e,t){for(let n=0;n<t.length;++n)if(vO(e,t[n])>t[n].radius+Oue)return!1;return!0}function Btt(e){const t=[];for(let n=0;n<e.length;++n)for(let r=n+1;r<e.length;++r){const i=Aue(e[n],e[r]);for(let a=0;a<i.length;++a){const s=i[a];s.parentIndex=[n,r],t.push(s)}}return t}function v4(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function vO(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function Mue(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);const r=e-(n*n-t*t+e*e)/(2*n),i=t-(n*n-e*e+t*t)/(2*n);return v4(e,r)+v4(t,i)}function Aue(e,t){const n=vO(e,t),r=e.radius,i=t.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const a=(r*r-i*i+n*n)/(2*n),s=Math.sqrt(r*r-a*a),o=e.x+a*(t.x-e.x)/n,l=e.y+a*(t.y-e.y)/n,c=-(t.y-e.y)*(s/n),u=-(t.x-e.x)*(s/n);return[{x:o+c,y:l-u},{x:o-c,y:l+u}]}function jtt(e){const t={x:0,y:0};for(let n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function Ftt(e,t){t=t||{},t.maxIterations=t.maxIterations||500;const n=t.initialLayout||Gtt,r=t.lossFunction||ej;e=Htt(e);const i=n(e,t),a=[],s=[];let o;for(o in i)i.hasOwnProperty(o)&&(a.push(i[o].x),a.push(i[o].y),s.push(o));const c=Ltt(function(u){const d={};for(let h=0;h<s.length;++h){const g=s[h];d[g]={x:u[2*h],y:u[2*h+1],radius:i[g].radius}}return r(d,e)},a,t).x;for(let u=0;u<s.length;++u)o=s[u],i[o].x=c[2*u],i[o].y=c[2*u+1];return i}const Iue=1e-10;function y4(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+Iue?Math.abs(e-t):ktt(function(r){return Mue(e,t,r)-n},0,e+t)}function Htt(e){e=e.slice();const t=[],n={};let r,i,a,s;for(r=0;r<e.length;++r){const o=e[r];o.sets.length==1?t.push(o.sets[0]):o.sets.length==2&&(a=o.sets[0],s=o.sets[1],n[[a,s]]=!0,n[[s,a]]=!0)}for(t.sort((o,l)=>o>l?1:-1),r=0;r<t.length;++r)for(a=t[r],i=r+1;i<t.length;++i)s=t[i],[a,s]in n||e.push({sets:[a,s],size:0});return e}function Vtt(e,t,n){const r=Cq(t.length,t.length),i=Cq(t.length,t.length);return e.filter(function(a){return a.sets.length==2}).map(function(a){const s=n[a.sets[0]],o=n[a.sets[1]],l=Math.sqrt(t[s].size/Math.PI),c=Math.sqrt(t[o].size/Math.PI),u=y4(l,c,a.size);r[s][o]=r[o][s]=u;let d=0;a.size+1e-10>=Math.min(t[s].size,t[o].size)?d=1:a.size<=1e-10&&(d=-1),i[s][o]=i[o][s]=d}),{distances:r,constraints:i}}function Utt(e,t,n,r){let i=0,a;for(a=0;a<t.length;++a)t[a]=0;for(a=0;a<n.length;++a){const s=e[2*a],o=e[2*a+1];for(let l=a+1;l<n.length;++l){const c=e[2*l],u=e[2*l+1],d=n[a][l],h=r[a][l],g=(c-s)*(c-s)+(u-o)*(u-o),v=Math.sqrt(g),x=g-d*d;h>0&&v<=d||h<0&&v>=d||(i+=2*x*x,t[2*a]+=4*x*(s-c),t[2*a+1]+=4*x*(o-u),t[2*l]+=4*x*(c-s),t[2*l+1]+=4*x*(u-o))}}return i}function Gtt(e,t){let n=qtt(e,t);const r=t.lossFunction||ej;if(e.length>=8){const i=Wtt(e,t),a=r(i,e),s=r(n,e);a+1e-8<s&&(n=i)}return n}function Wtt(e,t){t=t||{};const n=t.restarts||10,r=[],i={};let a;for(a=0;a<e.length;++a){const x=e[a];x.sets.length==1&&(i[x.sets[0]]=r.length,r.push(x))}const s=Vtt(e,r,i);let o=s.distances;const l=s.constraints,c=g4(o.map(g4))/o.length;o=o.map(function(x){return x.map(function(w){return w/c})});const u=function(x,w){return Utt(x,w,o,l)};let d,h;for(a=0;a<n;++a){const x=p4(o.length*2).map(Math.random);h=Dtt(u,x,t),(!d||h.fx<d.fx)&&(d=h)}const g=d.x,v={};for(a=0;a<r.length;++a){const x=r[a];v[x.sets[0]]={x:g[2*a]*c,y:g[2*a+1]*c,radius:Math.sqrt(x.size/Math.PI)}}if(t.history)for(a=0;a<t.history.length;++a)m4(t.history[a].x,c);return v}function qtt(e,t){const n=t&&t.lossFunction?t.lossFunction:ej,r={},i={};let a;for(let d=0;d<e.length;++d){const h=e[d];h.sets.length==1&&(a=h.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:h.size,radius:Math.sqrt(h.size/Math.PI)},i[a]=[])}e=e.filter(function(d){return d.sets.length==2});for(let d=0;d<e.length;++d){const h=e[d];let g=h.hasOwnProperty("weight")?h.weight:1;const v=h.sets[0],x=h.sets[1];h.size+Iue>=Math.min(r[v].size,r[x].size)&&(g=0),i[v].push({set:x,size:h.size,weight:g}),i[x].push({set:v,size:h.size,weight:g})}const s=[];for(a in i)if(i.hasOwnProperty(a)){let d=0;for(let h=0;h<i[a].length;++h)d+=i[a][h].size*i[a][h].weight;s.push({set:a,size:d})}function o(d,h){return h.size-d.size}s.sort(o);const l={};function c(d){return d.set in l}function u(d,h){r[h].x=d.x,r[h].y=d.y,l[h]=!0}u({x:0,y:0},s[0].set);for(let d=1;d<s.length;++d){const h=s[d].set,g=i[h].filter(c);if(a=r[h],g.sort(o),g.length===0)throw"ERROR: missing pairwise overlap information";const v=[];for(let C=0;C<g.length;++C){const E=r[g[C].set],M=y4(a.radius,E.radius,g[C].size);v.push({x:E.x+M,y:E.y}),v.push({x:E.x-M,y:E.y}),v.push({y:E.y+M,x:E.x}),v.push({y:E.y-M,x:E.x});for(let R=C+1;R<g.length;++R){const L=r[g[R].set],N=y4(a.radius,L.radius,g[R].size),D=Aue({x:E.x,y:E.y,radius:M},{x:L.x,y:L.y,radius:N});for(let H=0;H<D.length;++H)v.push(D[H])}}let x=1e50,w=v[0];for(let C=0;C<v.length;++C){r[h].x=v[C].x,r[h].y=v[C].y;const E=n(r,e);E<x&&(x=E,w=v[C])}u(w,h)}return r}function ej(e,t){let n=0;function r(i){return i.map(function(a){return e[a]})}for(let i=0;i<t.length;++i){const a=t[i];let s;if(a.sets.length==1)continue;if(a.sets.length==2){const l=e[a.sets[0]],c=e[a.sets[1]];s=Mue(l.radius,c.radius,vO(l,c))}else s=Tue(r(a.sets));const o=a.hasOwnProperty("weight")?a.weight:1;n+=o*(s-a.size)*(s-a.size)}return n}function Ktt(e){const t=function(n){const r=Math.max.apply(null,e.map(function(a){return a[n]+a.radius})),i=Math.min.apply(null,e.map(function(a){return a[n]-a.radius}));return{max:r,min:i}};return{xRange:t("x"),yRange:t("y")}}function Ytt(e,t,n,r){const i=[],a=[];for(const x in e)e.hasOwnProperty(x)&&(a.push(x),i.push(e[x]));t-=2*r,n-=2*r;const s=Ktt(i),o=s.xRange,l=s.yRange;if(o.max==o.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;const c=t/(o.max-o.min),u=n/(l.max-l.min),d=Math.min(u,c),h=(t-(o.max-o.min)*d)/2,g=(n-(l.max-l.min)*d)/2,v={};for(let x=0;x<i.length;++x){const w=i[x];v[a[x]]={radius:d*w.radius,x:r+h+(w.x-o.min)*d,y:r+g+(w.y-l.min)*d}}return v}function Xtt(e,t,n){const r=[],i=e-n,a=t;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}function Ztt(e){const t={};Tue(e,t);const n=t.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return Xtt(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let i=0;i<n.length;++i){const a=n[i],s=a.circle.radius,o=a.width>s;r.push(`
A`,s,s,0,o?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const Pue=e=>{const{sets:t="sets",size:n="size",as:r=["key","path"],padding:i=0}=e,[a,s]=r;return o=>{const l=o.map(d=>Object.assign(Object.assign({},d),{sets:d[t],size:d[n],[a]:d.sets.join("&")}));l.sort((d,h)=>d.sets.length-h.sets.length);const c=Ftt(l);let u;return l.map(d=>{const h=d[t],g=({width:v,height:x})=>{u=u||Ytt(c,v,x,i);const w=h.map(E=>u[E]);let C=Ztt(w);return/[zZ]$/.test(C)||(C+=" Z"),C};return Object.assign(Object.assign({},d),{[s]:g})})}};Pue.props={};const Rue=()=>e=>(console.log("G2 data section:",e),e);Rue.props={};function Qtt(e,t){if(t<0||t>1)throw new Error("alpha must be between 0 and 1.");if(e.length===0)return[];let n=e[0];const r=[];for(const i of e){if(i==null){r.push(i),console.warn("EMAThe value is null or undefined",e);continue}n==null&&(n=i);const a=n*t+(1-t)*i;r.push(a),n=a}return r}const $ue=e=>{const{field:t="y",alpha:n=.6,as:r=t}=e;return i=>{const a=i.map(o=>o[t]),s=Qtt(a,n);return i.map((o,l)=>Object.assign(Object.assign({},o),{[r]:s[l]}))}};$ue.props={};const kue=.01;function b4(e){const{min:t,max:n}=e;return[[t[0],t[1]],[n[0],n[1]]]}function Eq(e,t,n=kue){const[r,i]=e,[a,s]=t;return r>=a[0]-n&&r<=s[0]+n&&i>=a[1]-n&&i<=s[1]+n}function Jtt(e,t,n=kue){const[r,i]=e;return!(Eq(r,t,n)&&Eq(i,t,n))}function ent(e,t){const[n,r]=e,[i,a]=t;return n[0]<a[0]&&r[0]>i[0]&&n[1]<a[1]&&r[1]>i[1]}const tnt=e=>{const{priority:t}=e;return n=>{const r=[];return t&&n.sort(t),n.forEach(i=>{V$(i);const a=i.getLocalBounds();r.some(o=>ent(b4(a),b4(o.getLocalBounds())))?U8(i):r.push(i)}),n}};function nnt([e,t],[n,r]){return r>e&&t>n}function HM(){const e=new Map;return[r=>e.get(r),(r,i)=>e.set(r,i)]}function rnt(e){const t=e.cloneNode(!0),n=t.getElementById("connector");n&&t.removeChild(n);const{min:r,max:i}=t.getRenderBounds();return t.destroy(),{min:r,max:i}}const int=e=>{const{maxIterations:t=10,maxError:n=.1,padding:r=1}=e;return i=>{const a=i.length;if(a<=1)return i;const[s,o]=HM(),[l,c]=HM(),[u,d]=HM(),[h,g]=HM();for(const v of i){const{min:x,max:w}=rnt(v),[C,E]=x,[M,R]=w;o(v,E),c(v,E),d(v,R-E),g(v,[C,M])}for(let v=0;v<t;v++){i.sort((w,C)=>Il(l(w),l(C)));let x=0;for(let w=0;w<a-1;w++){const C=i[w];let E=w+1,M;for(;(M=i[E])&&!nnt(h(C),h(M));)E+=1;if(M){const R=l(C),L=u(C),N=l(M),D=N-(R+L);if(D<r){const H=(r-D)/2;x=Math.max(x,H),c(C,R-H),c(M,N+H)}}}if(x<n)break}for(const v of i)v.style.y+=l(v)-s(v);return i}};function ant(e){return typeof e=="object"?e:p1(e)}function qL(e){let t=e/255;return t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),t}function Oq(e,t,n){return .2126*qL(e)+.7152*qL(t)+.0722*qL(n)}function Lue(e,t){if(!e||!t||e===t)return 1;const{r:n,g:r,b:i}=e,{r:a,g:s,b:o}=t,l=Oq(n,r,i),c=Oq(a,s,o);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function ont(e,t){const n=F2(t,r=>Lue(e,ant(r)));return t[n]}const snt=e=>{const{threshold:t=4.5,palette:n=["#000","#fff"]}=e;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,s=i.parsedStyle.fill;Lue(s,a)<t&&i.attr("fill",ont(a,n))}),r)},lnt=()=>e=>(e.forEach(t=>{V$(t);const n=t.attr("bounds"),r=t.getLocalBounds();Jtt(b4(r),n)&&U8(t)}),e),cnt=(e,t)=>{const[[n,r],[i,a]]=t,[[s,o],[l,c]]=e;let u=0,d=0;return s<n?u=n-s:l>i&&(u=i-l),o<r?d=r-o:c>a&&(d=a-c),[u,d]},unt=()=>(e,{canvas:t,layout:n})=>(e.forEach(r=>{V$(r);const{max:i,min:a}=r.getRenderBounds(),[s,o]=i,[l,c]=a,u=cnt([[l,c],[s,o]],[[n.x,n.y],[n.x+n.width,n.y+n.height]]);r.style.connector&&r.style.connectorPoints&&(r.style.connectorPoints[0][0]-=u[0],r.style.connectorPoints[0][1]-=u[1]),r.style.x+=u[0],r.style.y+=u[1]}),e);function fnt(){return{"data.fetch":fue,"data.inline":yue,"data.sortBy":vue,"data.sort":pue,"data.filter":hue,"data.pick":gue,"data.rename":mue,"data.fold":due,"data.slice":Cue,"data.custom":bue,"data.map":_ue,"data.join":Sue,"data.kde":Eue,"data.log":Rue,"data.wordCloud":wue,"data.ema":$ue,"transform.stackY":bte,"transform.binX":Xte,"transform.bin":e6,"transform.dodgeX":Ite,"transform.jitter":$te,"transform.jitterX":kte,"transform.jitterY":Lte,"transform.symmetryY":Nte,"transform.diffY":Dte,"transform.stackEnter":Pte,"transform.normalizeY":Rte,"transform.select":o$,"transform.selectX":zte,"transform.selectY":Bte,"transform.groupX":jte,"transform.groupY":Fte,"transform.groupColor":Hte,"transform.group":JO,"transform.sortX":Vte,"transform.sortY":Gte,"transform.sortColor":Ute,"transform.flexX":Wte,"transform.pack":Yte,"transform.sample":Zte,"transform.filter":Qte,"coordinate.cartesian":NJ,"coordinate.polar":UO,"coordinate.transpose":EB,"coordinate.theta":BJ,"coordinate.parallel":TB,"coordinate.fisheye":FJ,"coordinate.radial":OB,"coordinate.radar":HJ,"coordinate.helix":zJ,"encode.constant":VJ,"encode.field":GJ,"encode.transform":UJ,"encode.column":WJ,"mark.interval":Aae,"mark.rect":Iae,"mark.line":Pae,"mark.point":Rae,"mark.text":$ae,"mark.cell":kae,"mark.area":Lae,"mark.link":K6,"mark.image":Nae,"mark.polygon":Dae,"mark.box":zae,"mark.vector":Bae,"mark.lineX":Fae,"mark.lineY":jae,"mark.connector":Hae,"mark.range":Vae,"mark.rangeX":Uae,"mark.rangeY":Gae,"mark.path":Xae,"mark.shape":hoe,"mark.density":Toe,"mark.heatmap":Moe,"mark.wordCloud":e8,"palette.category10":Ioe,"palette.category20":Poe,"scale.linear":$oe,"scale.ordinal":koe,"scale.band":Roe,"scale.identity":Loe,"scale.point":Noe,"scale.time":Doe,"scale.log":zoe,"scale.pow":Boe,"scale.sqrt":Voe,"scale.threshold":joe,"scale.quantile":Foe,"scale.quantize":Hoe,"scale.sequential":Uoe,"scale.constant":Goe,"theme.classic":Woe,"theme.classicDark":Koe,"theme.academy":Yoe,"theme.light":n8,"theme.dark":qoe,"component.axisX":ose,"component.axisY":sse,"component.legendCategory":i8,"component.legendContinuous":j1,"component.legends":mse,"component.title":fse,"component.sliderX":dse,"component.sliderY":hse,"component.scrollbarX":pse,"component.scrollbarY":gse,"animation.scaleInX":o8,"animation.scaleOutX":tWe,"animation.scaleInY":vse,"animation.scaleOutY":nWe,"animation.waveIn":wse,"animation.fadeIn":yse,"animation.fadeOut":bse,"animation.zoomIn":hWe,"animation.zoomOut":pWe,"animation.pathIn":Sse,"animation.morphing":xse,"animation.growInX":Cse,"animation.growInY":Ese,"interaction.elementHighlight":G$,"interaction.elementHighlightByX":zce,"interaction.elementHighlightByColor":Bce,"interaction.elementSelect":W$,"interaction.elementSelectByX":jce,"interaction.elementSelectByColor":Fce,"interaction.fisheye":VJe,"interaction.chartIndex":Hce,"interaction.tooltip":Zce,"interaction.legendFilter":set,"interaction.legendHighlight":cet,"interaction.brushHighlight":Y8,"interaction.brushXHighlight":get,"interaction.brushYHighlight":met,"interaction.brushAxisHighlight":Oet,"interaction.brushFilter":J8,"interaction.brushXFilter":Iet,"interaction.brushYFilter":Pet,"interaction.sliderFilter":lue,"interaction.scrollbarFilter":Net,"interaction.poptip":cue,"interaction.treemapDrillDown":Uet,"interaction.elementPointMove":Xet,"composition.spaceLayer":Kse,"composition.spaceFlex":Yse,"composition.facetRect":ele,"composition.repeatMatrix":EKe,"composition.facetCircle":PKe,"composition.timingKeyframe":tle,"labelTransform.overlapHide":tnt,"labelTransform.overlapDodgeY":int,"labelTransform.overflowHide":lnt,"labelTransform.contrastReverse":snt,"labelTransform.exceedAdjust":unt}}function dnt(){return{"composition.geoView":Ale,"composition.geoPath":nle}}function hnt(){return{"data.arc":X6,"data.cluster":Soe,"mark.forceGraph":xoe,"mark.tree":Eoe,"mark.pack":coe,"mark.sankey":Kae,"mark.chord":Yae,"mark.treemap":loe}}function pnt(){return{"data.venn":Pue,"mark.boxplot":doe,"mark.gauge":Ooe,"mark.wordCloud":e8,"mark.liquid":Aoe}}function Nue(){return Object.assign(Object.assign(Object.assign(Object.assign({},dnt()),hnt()),pnt()),fnt())}function gnt(e,t){class n extends e{constructor(i){super(Object.assign(Object.assign({},i),{lib:t}))}}return n}const Due={};function zue(e,t){e.startsWith("symbol.")?tje(e.split(".").pop(),t):Object.assign(Due,{[e]:t})}const kw=e=>e?parseInt(e):0;function mnt(e){const t=getComputedStyle(e),n=e.clientWidth||kw(t.width),r=e.clientHeight||kw(t.height),i=kw(t.paddingLeft)+kw(t.paddingRight),a=kw(t.paddingTop)+kw(t.paddingBottom);return{width:n-i,height:r-a}}function KL(e,t){const n=[e];for(;n.length;){const r=n.shift();t&&t(r);const i=r.children||[];for(const a of i)n.push(a)}}class tj{constructor(t={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=t}map(t=n=>n){const n=t(this.value);return this.value=n,this}attr(t,n){return arguments.length===1?this.value[t]:this.map(r=>(r[t]=n,r))}append(t){const n=new t({});return n.children=[],this.push(n),n}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:n}=t,r=n.findIndex(i=>i===this);n.splice(r,1)}return this}getNodeByKey(t){let n=null;return KL(this,i=>{t===i.attr("key")&&(n=i)}),n}getNodesByType(t){const n=[];return KL(this,i=>{t===i.type&&n.push(i)}),n}getNodeByType(t){let n=null;return KL(this,r=>{n||t===r.type&&(n=r)}),n}call(t,...n){return t(this.map(),...n),this}getRoot(){let t=this;for(;t&&t.parentNode;)t=t.parentNode;return t}}var Bue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _4=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],jue="__remove__",Fue="__callback__",Tq=1,Mq=1;function vnt(e){if(e===void 0){const t=document.createElement("div");return t[jue]=!0,t}return typeof e=="string"?document.getElementById(e):e}function ynt(e){const t=e.parentNode;t&&t.removeChild(e)}function bnt(e){if(e.type!==null)return e;const t=e.children[e.children.length-1];for(const n of _4)t.attr(n,e.attr(n));return t}function Aq(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function YL(e,t){const{width:n,height:r,autoFit:i,depth:a=0}=e;let s=640,o=480;if(i){const{width:l,height:c}=mnt(t);s=l||s,o=c||o}return s=n||s,o=r||o,{width:Math.max(qs(s)?s:Tq,Tq),height:Math.max(qs(o)?o:Mq,Mq),depth:a}}function _nt(e){const t=bnt(e),n=[t],r=new Map;for(r.set(t,Aq(t));n.length;){const i=n.pop(),a=r.get(i),{children:s=[]}=i;for(const o of s)if(o.type===Fue)a.children=o.value;else{const l=Aq(o),{children:c=[]}=a;c.push(l),n.push(o),r.set(o,l),a.children=c}}return r.get(t)}function xnt(e,t){return typeof e=="function"?!0:new Set(Object.keys(t)).has(e)}function wnt(e,t){return typeof e!="function"&&new Set(Object.keys(t)).has(e)}function Snt(e,t,n,r,i){const{type:a}=e,{type:s=n||a}=t;if(wnt(s,i)){for(const o of _4)e.attr(o)!==void 0&&t[o]===void 0&&(t[o]=e.attr(o));return t}if(xnt(s,r)){const o={type:"view"},l=Object.assign({},t);for(const c of _4)l[c]!==void 0&&(o[c]=l[c],delete l[c]);return Object.assign(Object.assign({},o),{children:[l]})}return t}function Cnt(e,t,n){if(typeof e=="function")return t.mark;const i=Object.assign(Object.assign({},t),n)[e];if(!i)throw new Error(`Unknown mark: ${e}.`);return i}function Ent(e,t,n){if(typeof e=="function"){const l=new tj;return l.value=e,l.type=Fue,l}const{type:r,children:i}=e,a=Bue(e,["type","children"]),s=Cnt(r,t,n),o=new s;return o.value=a,o.type=r,o}function Ont(e,t){const{type:n,children:r}=t,i=Bue(t,["type","children"]);e.type===n||n===void 0?dte(e.value,i):typeof n=="string"&&(e.type=n,e.value=i)}function Tnt(e,t,n,r){if(!e)return;const i=[[e,t]];for(;i.length;){const[a,s]=i.shift(),o=Ent(s,n,r);Array.isArray(a.children)&&a.push(o);const{children:l}=s;if(Array.isArray(l))for(const c of l)i.push([o,c]);else typeof l=="function"&&i.push([o,l])}}function Mnt(e,t,n,r,i){const a=Snt(e,t,n,r,i),s=[[null,e,a]];for(;s.length;){const[o,l,c]=s.shift();if(!l)Tnt(o,c,r,i);else if(!c)l.remove();else{Ont(l,c);const{children:u}=c,{children:d}=l;if(Array.isArray(u)&&Array.isArray(d)){const h=Math.max(u.length,d.length);for(let g=0;g<h;g++){const v=u[g],x=d[g];s.push([l,x,v])}}else typeof u=="function"&&s.push([l,null,u])}}}function Ant(){let e,t;return[new Promise((r,i)=>{t=r,e=i}),t,e]}function Int(e,t,{key:n=t}){e.prototype[t]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function Pnt(e,t,{key:n=t}){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const i=[...this.attr(n)||[],r];return this.attr(n,i)}}function Rnt(e,t,{key:n=t}){e.prototype[t]=function(r,i){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const a=this.attr(n)||{};return a[r]=arguments.length===1?!0:i,this.attr(n,a)}}function $nt(e,t,n){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(t);if(Array.isArray(r))return this.attr(t,{items:r});if(e2(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(t,r);if(r===null||r===!1)return this.attr(t,r);const i=this.attr(t)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(t,i)}}function knt(e,t,{ctor:n}){e.prototype[t]=function(r){const i=this.append(n);return t==="mark"&&(i.type=r),i}}function Lnt(e,t,{ctor:n}){e.prototype[t]=function(){return this.type=null,this.append(n)}}function dP(e){return t=>{for(const[n,r]of Object.entries(e)){const{type:i}=r;i==="value"?Int(t,n,r):i==="array"?Pnt(t,n,r):i==="object"?Rnt(t,n,r):i==="node"?knt(t,n,r):i==="container"?Lnt(t,n,r):i==="mix"&&$nt(t,n)}return t}}function Iq(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{type:"node",ctor:n}]))}const Hue={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},Nnt=Object.assign(Object.assign({},Hue),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),Dnt=Object.assign(Object.assign({},Hue),{labelTransform:{type:"array"}});var znt=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let hP=class extends tj{changeData(t){var n;const r=this.getRoot();if(r)return this.attr("data",t),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(i=>{i.attr("data",t)}),r?.render()}getView(){const t=this.getRoot(),{views:n}=t.getContext();if(n?.length)return n.find(r=>r.key===this._key)}getScale(){var t;return(t=this.getView())===null||t===void 0?void 0:t.scale}getScaleByChannel(t){const n=this.getScale();if(n)return n[t]}getCoordinate(){var t;return(t=this.getView())===null||t===void 0?void 0:t.coordinate}getTheme(){var t;return(t=this.getView())===null||t===void 0?void 0:t.theme}getGroup(){const t=this._key;return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}show(){const t=this.getGroup();t&&!t.isVisible()&&V$(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&U8(t)}};hP=znt([dP(Dnt)],hP);var Bnt=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let x4=class extends tj{changeData(t){const n=this.getRoot();if(n)return this.attr("data",t),n?.render()}getMark(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(!n)return;const{markState:r}=n,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(n)return n?.scale}getScaleByChannel(t){var n,r;const i=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(i)return(r=i?.scale)===null||r===void 0?void 0:r[t]}getGroup(){const t=this.attr("key");return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}};x4=Bnt([dP(Nnt)],x4);var jnt=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fnt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Hnt="G2_CHART_KEY";class Vnt extends hP{constructor(t){const{container:n,canvas:r,renderer:i,plugins:a,lib:s,createCanvas:o}=t,l=Fnt(t,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=JJ(()=>{this.forceFit()},300),this._renderer=i||new kse,this._plugins=a||[],this._container=vnt(n),this._emitter=new u8,this._context={library:Object.assign(Object.assign({},s),Due),emitter:this._emitter,canvas:r,createCanvas:o},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise((a,s)=>CJe(this._computedOptions(),this._context,this._createResolve(a),this._createReject(s))),[n,r,i]=Ant();return t.then(r).catch(i).then(()=>this._renderTrailing()),n}options(t){if(arguments.length===0)return _nt(this);const{type:n}=t;return n&&(this._previousDefinedType=n),Mnt(this,t,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(t,n,r){return this._emitter.on(t,n,r),this}once(t,n){return this._emitter.once(t,n),this}emit(t,...n){return this._emitter.emit(t,...n),this}off(t,n){return this._emitter.off(t,n),this}clear(){const t=this.options();this.emit(Ho.BEFORE_CLEAR),this._reset(),iq(t,this._context,!1),this.emit(Ho.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(Ho.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),iq(t,this._context,!0),this._container[jue]&&ynt(this._container),this.emit(Ho.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:t,height:n}=YL(this.options(),this._container);if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(Ho.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(Ho.AFTER_CHANGE_SIZE)}),r}changeSize(t,n){if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(Ho.BEFORE_CHANGE_SIZE),this.attr("width",t),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(Ho.AFTER_CHANGE_SIZE)}),r}_create(){const{library:t}=this._context,n=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(t).filter(n)];this._marks={};for(const a of r){const s=a.split(".").pop();class o extends x4{constructor(){super({},s)}}this._marks[s]=o,this[s]=function(l){const c=this.append(o);return s==="mark"&&(c.type=l),c}}const i=["composition.view",...Object.keys(t).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const s=a.split(".").pop();let o=class extends hP{constructor(){super({},s)}};return o=jnt([dP(Iq(this._marks))],o),[s,o]}));for(const a of Object.values(this._compositions))dP(Iq(this._compositions))(a);for(const a of i){const s=a.split(".").pop();this[s]=function(){const o=this._compositions[s];return this.type=null,this.append(o)}}}_reset(){const t=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||t.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)}).catch(t=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(t)}))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return n=>{this._rendering=!1,t(n)}}_computedOptions(){const t=this.options(),{key:n=Hnt}=t,{width:r,height:i,depth:a}=YL(t,this._container);return this._width=r,this._height=i,this._key=n,Object.assign(Object.assign({key:this._key},t),{width:r,height:i,depth:a})}_createCanvas(){const{width:t,height:n}=YL(this.options(),this._container);this._plugins.push(new Nse),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new ore({container:this._container,width:t,height:n,renderer:this._renderer})}_addToTrailing(){var t;return(t=this._trailingResolve)===null||t===void 0||t.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const t=this.options(),{autoFit:n}=t;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}Object.assign({},Nue());var w4=function(){return w4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},w4.apply(this,arguments)},vT=w4({},CY),Unt=vT.version,Gnt=vT.render;vT.unmountComponentAtNode;var nj;try{var Wnt=Number((Unt||"").split(".")[0]);Wnt>=18&&(nj=vT.createRoot)}catch{}function Pq(e){var t=vT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&typeof t=="object"&&(t.usingClientEntryPoint=e)}var Rq="__rc_react_root__";function qnt(e,t){Pq(!0);var n=t[Rq]||nj(t);Pq(!1),n.render(e),t[Rq]=n}function Knt(e,t){Gnt(e,t)}function Ynt(e,t){if(nj){qnt(e,t);return}Knt(e,t)}var CA=new Map;typeof document<"u"&&CA.set("tooltip",document.createElement("div"));var Xnt=function(e,t){t===void 0&&(t=!1);var n=null;if(t)n=CA.get("tooltip");else if(n=document.createElement("div"),e?.key){var r=CA.get(e.key);r?n=r:CA.set(e.key,n)}return Ynt(e,n),n},Znt=function(e){if(typeof document>"u")return"loading";var t=e.attachShadow({mode:"open"}),n=document.createElement("div"),r=document.createElement("style");r.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `,n.classList.add("loading"),n.innerHTML="<div></div><div></div><div></div><div></div>",t.appendChild(r),t.appendChild(n)},Qnt=function(e){var t=e.loadingTemplate,n=e.theme,r=n===void 0?"light":n,i=it.useRef(null);it.useEffect(function(){!t&&i.current&&Znt(i.current)},[]);var a=function(){return t||it.createElement("div",{ref:i})};return it.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:r==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},a())},Jnt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ert=function(e){Jnt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(r){var i=n.props.errorTemplate;return typeof i=="function"?i(r):i||it.createElement("h5",null," ",r.message)},n}return t.getDerivedStateFromError=function(n){return{hasError:!0,error:n}},t.getDerivedStateFromProps=function(n,r){return r.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null},t.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):it.createElement(I.Fragment,null,this.props.children)},t}(it.Component),WC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var trt=WC.exports,$q;function nrt(){return $q||($q=1,function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,h=2,g=4,v=1,x=2,w=1,C=2,E=4,M=8,R=16,L=32,N=64,D=128,H=256,U=512,q=30,K="...",Q=800,X=16,te=1,ee=2,Z=3,re=1/0,oe=9007199254740991,ce=17976931348623157e292,le=NaN,pe=4294967295,ye=pe-1,_e=pe>>>1,Se=[["ary",D],["bind",w],["bindKey",C],["curry",M],["curryRight",R],["flip",U],["partial",L],["partialRight",N],["rearg",H]],Re="[object Arguments]",je="[object Array]",Fe="[object AsyncFunction]",ze="[object Boolean]",Ze="[object Date]",st="[object DOMException]",Ue="[object Error]",Ne="[object Function]",qe="[object GeneratorFunction]",We="[object Map]",rt="[object Number]",ht="[object Null]",ft="[object Object]",Rt="[object Promise]",Yt="[object Proxy]",Jt="[object RegExp]",xt="[object Set]",Ft="[object String]",Lt="[object Symbol]",Kt="[object Undefined]",hn="[object WeakMap]",dn="[object WeakSet]",Cn="[object ArrayBuffer]",kn="[object DataView]",sn="[object Float32Array]",un="[object Float64Array]",gn="[object Int8Array]",Qt="[object Int16Array]",Ln="[object Int32Array]",Gt="[object Uint8Array]",He="[object Uint8ClampedArray]",be="[object Uint16Array]",we="[object Uint32Array]",xe=/\b__p \+= '';/g,Ye=/\b(__p \+=) '' \+/g,lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ct=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,yt=RegExp(ct.source),jt=RegExp(_t.source),$t=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xn=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp(xn.source),nn=/^\s+/,Fn=/\s/,Ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ln=/\{\n\/\* \[wrapped with (.+)\] \*/,rn=/,? & /,Tn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Un=/[()=,{}\[\]\/\s]/,ir=/\\(\\)?/g,Dn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Er=/\w*$/,Cr=/^[-+]0x[0-9a-f]+$/i,$r=/^0b[01]+$/i,Zr=/^\[object .+?Constructor\]$/,li=/^0o[0-7]+$/i,Kr=/^(?:0|[1-9]\d*)$/,$n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sr=/($^)/,tr=/['\n\r\u2028\u2029\\]/g,Yn="\\ud800-\\udfff",br="\\u0300-\\u036f",Hr="\\ufe20-\\ufe2f",ki="\\u20d0-\\u20ff",Vi=br+Hr+ki,pr="\\u2700-\\u27bf",_r="a-z\\xdf-\\xf6\\xf8-\\xff",Vr="\\xac\\xb1\\xd7\\xf7",ta="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wo="\\u2000-\\u206f",Ks=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$o="A-Z\\xc0-\\xd6\\xd8-\\xde",ma="\\ufe0e\\ufe0f",ms=Vr+ta+Wo+Ks,Ys="[']",ko="["+Yn+"]",il="["+ms+"]",ai="["+Vi+"]",gr="\\d+",Jn="["+pr+"]",ur="["+_r+"]",ci="[^"+Yn+ms+gr+pr+_r+$o+"]",Ci="\\ud83c[\\udffb-\\udfff]",Ei="(?:"+ai+"|"+Ci+")",ro="[^"+Yn+"]",Br="(?:\\ud83c[\\udde6-\\uddff]){2}",Ui="[\\ud800-\\udbff][\\udc00-\\udfff]",Fa="["+$o+"]",bo="\\u200d",Tr="(?:"+ur+"|"+ci+")",xr="(?:"+Fa+"|"+ci+")",ei="(?:"+Ys+"(?:d|ll|m|re|s|t|ve))?",ka="(?:"+Ys+"(?:D|LL|M|RE|S|T|VE))?",Ii=Ei+"?",La="["+ma+"]?",Ki="(?:"+bo+"(?:"+[ro,Br,Ui].join("|")+")"+La+Ii+")*",qo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",na=La+Ii+Ki,tu="(?:"+[Jn,Br,Ui].join("|")+")"+na,$c="(?:"+[ro+ai+"?",ai,Br,Ui,ko].join("|")+")",kc=RegExp(Ys,"g"),nr=RegExp(ai,"g"),fr=RegExp(Ci+"(?="+Ci+")|"+$c+na,"g"),Gi=RegExp([Fa+"?"+ur+"+"+ei+"(?="+[il,Fa,"$"].join("|")+")",xr+"+"+ka+"(?="+[il,Fa+Tr,"$"].join("|")+")",Fa+"?"+Tr+"+"+ei,Fa+"+"+ka,Lo,qo,gr,tu].join("|"),"g"),Lr=RegExp("["+bo+Yn+Vi+ma+"]"),Ir=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pi=-1,ra={};ra[sn]=ra[un]=ra[gn]=ra[Qt]=ra[Ln]=ra[Gt]=ra[He]=ra[be]=ra[we]=!0,ra[Re]=ra[je]=ra[Cn]=ra[ze]=ra[kn]=ra[Ze]=ra[Ue]=ra[Ne]=ra[We]=ra[rt]=ra[ft]=ra[Jt]=ra[xt]=ra[Ft]=ra[hn]=!1;var gi={};gi[Re]=gi[je]=gi[Cn]=gi[kn]=gi[ze]=gi[Ze]=gi[sn]=gi[un]=gi[gn]=gi[Qt]=gi[Ln]=gi[We]=gi[rt]=gi[ft]=gi[Jt]=gi[xt]=gi[Ft]=gi[Lt]=gi[Gt]=gi[He]=gi[be]=gi[we]=!0,gi[Ue]=gi[Ne]=gi[hn]=!1;var vp={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},al={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ju={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Uf=parseFloat,Nm=parseInt,Gf=typeof ST=="object"&&ST&&ST.Object===Object&&ST,Dm=typeof self=="object"&&self&&self.Object===Object&&self,fo=Gf||Dm||Function("return this")(),vs=t&&!t.nodeType&&t,Cu=vs&&!0&&e&&!e.nodeType&&e,_0=Cu&&Cu.exports===vs,ol=_0&&Gf.process,Na=function(){try{var Vt=Cu&&Cu.require&&Cu.require("util").types;return Vt||ol&&ol.binding&&ol.binding("util")}catch{}}(),hc=Na&&Na.isArrayBuffer,yh=Na&&Na.isDate,zm=Na&&Na.isMap,x0=Na&&Na.isRegExp,ef=Na&&Na.isSet,Bm=Na&&Na.isTypedArray;function pc(Vt,Rn,pn){switch(pn.length){case 0:return Vt.call(Rn);case 1:return Vt.call(Rn,pn[0]);case 2:return Vt.call(Rn,pn[0],pn[1]);case 3:return Vt.call(Rn,pn[0],pn[1],pn[2])}return Vt.apply(Rn,pn)}function jm(Vt,Rn,pn,hr){for(var jr=-1,ya=Vt==null?0:Vt.length;++jr<ya;){var Os=Vt[jr];Rn(hr,Os,pn(Os),Vt)}return hr}function Wl(Vt,Rn){for(var pn=-1,hr=Vt==null?0:Vt.length;++pn<hr&&Rn(Vt[pn],pn,Vt)!==!1;);return Vt}function Eu(Vt,Rn){for(var pn=Vt==null?0:Vt.length;pn--&&Rn(Vt[pn],pn,Vt)!==!1;);return Vt}function w0(Vt,Rn){for(var pn=-1,hr=Vt==null?0:Vt.length;++pn<hr;)if(!Rn(Vt[pn],pn,Vt))return!1;return!0}function Dl(Vt,Rn){for(var pn=-1,hr=Vt==null?0:Vt.length,jr=0,ya=[];++pn<hr;){var Os=Vt[pn];Rn(Os,pn,Vt)&&(ya[jr++]=Os)}return ya}function yp(Vt,Rn){var pn=Vt==null?0:Vt.length;return!!pn&&Tu(Vt,Rn,0)>-1}function Rd(Vt,Rn,pn){for(var hr=-1,jr=Vt==null?0:Vt.length;++hr<jr;)if(pn(Rn,Vt[hr]))return!0;return!1}function _o(Vt,Rn){for(var pn=-1,hr=Vt==null?0:Vt.length,jr=Array(hr);++pn<hr;)jr[pn]=Rn(Vt[pn],pn,Vt);return jr}function Ou(Vt,Rn){for(var pn=-1,hr=Rn.length,jr=Vt.length;++pn<hr;)Vt[jr+pn]=Rn[pn];return Vt}function nu(Vt,Rn,pn,hr){var jr=-1,ya=Vt==null?0:Vt.length;for(hr&&ya&&(pn=Vt[++jr]);++jr<ya;)pn=Rn(pn,Vt[jr],jr,Vt);return pn}function V1(Vt,Rn,pn,hr){var jr=Vt==null?0:Vt.length;for(hr&&jr&&(pn=Vt[--jr]);jr--;)pn=Rn(pn,Vt[jr],jr,Vt);return pn}function $d(Vt,Rn){for(var pn=-1,hr=Vt==null?0:Vt.length;++pn<hr;)if(Rn(Vt[pn],pn,Vt))return!0;return!1}var Tg=Ig("length");function bp(Vt){return Vt.split("")}function nb(Vt){return Vt.match(Tn)||[]}function Mg(Vt,Rn,pn){var hr;return pn(Vt,function(jr,ya,Os){if(Rn(jr,ya,Os))return hr=ya,!1}),hr}function Ag(Vt,Rn,pn,hr){for(var jr=Vt.length,ya=pn+(hr?1:-1);hr?ya--:++ya<jr;)if(Rn(Vt[ya],ya,Vt))return ya;return-1}function Tu(Vt,Rn,pn){return Rn===Rn?Sh(Vt,Rn,pn):Ag(Vt,bh,pn)}function S0(Vt,Rn,pn,hr){for(var jr=pn-1,ya=Vt.length;++jr<ya;)if(hr(Vt[jr],Rn))return jr;return-1}function bh(Vt){return Vt!==Vt}function rb(Vt,Rn){var pn=Vt==null?0:Vt.length;return pn?Rg(Vt,Rn)/pn:le}function Ig(Vt){return function(Rn){return Rn==null?n:Rn[Vt]}}function _h(Vt){return function(Rn){return Vt==null?n:Vt[Rn]}}function Pg(Vt,Rn,pn,hr,jr){return jr(Vt,function(ya,Os,la){pn=hr?(hr=!1,ya):Rn(pn,ya,Os,la)}),pn}function Fm(Vt,Rn){var pn=Vt.length;for(Vt.sort(Rn);pn--;)Vt[pn]=Vt[pn].value;return Vt}function Rg(Vt,Rn){for(var pn,hr=-1,jr=Vt.length;++hr<jr;){var ya=Rn(Vt[hr]);ya!==n&&(pn=pn===n?ya:pn+ya)}return pn}function Wf(Vt,Rn){for(var pn=-1,hr=Array(Vt);++pn<Vt;)hr[pn]=Rn(pn);return hr}function xh(Vt,Rn){return _o(Rn,function(pn){return[pn,Vt[pn]]})}function $g(Vt){return Vt&&Vt.slice(0,C0(Vt)+1).replace(nn,"")}function gc(Vt){return function(Rn){return Vt(Rn)}}function kd(Vt,Rn){return _o(Rn,function(pn){return Vt[pn]})}function _p(Vt,Rn){return Vt.has(Rn)}function tf(Vt,Rn){for(var pn=-1,hr=Vt.length;++pn<hr&&Tu(Rn,Vt[pn],0)>-1;);return pn}function wh(Vt,Rn){for(var pn=Vt.length;pn--&&Tu(Rn,Vt[pn],0)>-1;);return pn}function U1(Vt,Rn){for(var pn=Vt.length,hr=0;pn--;)Vt[pn]===Rn&&++hr;return hr}var kg=_h(vp),Hm=_h(al);function Vm(Vt){return"\\"+Pd[Vt]}function Lg(Vt,Rn){return Vt==null?n:Vt[Rn]}function qf(Vt){return Lr.test(Vt)}function Ng(Vt){return Ir.test(Vt)}function Mu(Vt){for(var Rn,pn=[];!(Rn=Vt.next()).done;)pn.push(Rn.value);return pn}function xp(Vt){var Rn=-1,pn=Array(Vt.size);return Vt.forEach(function(hr,jr){pn[++Rn]=[jr,hr]}),pn}function Um(Vt,Rn){return function(pn){return Vt(Rn(pn))}}function nf(Vt,Rn){for(var pn=-1,hr=Vt.length,jr=0,ya=[];++pn<hr;){var Os=Vt[pn];(Os===Rn||Os===u)&&(Vt[pn]=u,ya[jr++]=pn)}return ya}function Dg(Vt){var Rn=-1,pn=Array(Vt.size);return Vt.forEach(function(hr){pn[++Rn]=hr}),pn}function va(Vt){var Rn=-1,pn=Array(Vt.size);return Vt.forEach(function(hr){pn[++Rn]=[hr,hr]}),pn}function Sh(Vt,Rn,pn){for(var hr=pn-1,jr=Vt.length;++hr<jr;)if(Vt[hr]===Rn)return hr;return-1}function ql(Vt,Rn,pn){for(var hr=pn+1;hr--;)if(Vt[hr]===Rn)return hr;return hr}function rf(Vt){return qf(Vt)?E0(Vt):Tg(Vt)}function ru(Vt){return qf(Vt)?O0(Vt):bp(Vt)}function C0(Vt){for(var Rn=Vt.length;Rn--&&Fn.test(Vt.charAt(Rn)););return Rn}var ib=_h(Ju);function E0(Vt){for(var Rn=fr.lastIndex=0;fr.test(Vt);)++Rn;return Rn}function O0(Vt){return Vt.match(fr)||[]}function ab(Vt){return Vt.match(Gi)||[]}var Kf=function Vt(Rn){Rn=Rn==null?fo:Au.defaults(fo.Object(),Rn,Au.pick(fo,dc));var pn=Rn.Array,hr=Rn.Date,jr=Rn.Error,ya=Rn.Function,Os=Rn.Math,la=Rn.Object,af=Rn.RegExp,zg=Rn.String,zl=Rn.TypeError,Ld=pn.prototype,Gm=ya.prototype,Ch=la.prototype,of=Rn["__core-js_shared__"],sf=Gm.toString,Ta=Ch.hasOwnProperty,Lc=0,Yi=function(){var P=/[^.]+$/.exec(of&&of.keys&&of.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),sl=Ch.toString,mc=sf.call(la),Eh=fo._,Oh=af("^"+sf.call(Ta).replace(xn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Th=_0?Rn.Buffer:n,iu=Rn.Symbol,Mh=Rn.Uint8Array,Ah=Th?Th.allocUnsafe:n,lf=Um(la.getPrototypeOf,la),Yf=la.create,cf=Ch.propertyIsEnumerable,wp=Ld.splice,Bl=iu?iu.isConcatSpreadable:n,Nd=iu?iu.iterator:n,ll=iu?iu.toStringTag:n,Xf=function(){try{var P=Bh(la,"defineProperty");return P({},"",{}),P}catch{}}(),Ih=Rn.clearTimeout!==fo.clearTimeout&&Rn.clearTimeout,Ph=hr&&hr.now!==fo.Date.now&&hr.now,Bg=Rn.setTimeout!==fo.setTimeout&&Rn.setTimeout,Rh=Os.ceil,Iu=Os.floor,au=la.getOwnPropertySymbols,$h=Th?Th.isBuffer:n,Dd=Rn.isFinite,Kl=Ld.join,bl=Um(la.keys,la),Ha=Os.max,Ko=Os.min,uf=hr.now,io=Rn.parseInt,Zf=Os.random,vc=Ld.reverse,kh=Bh(Rn,"DataView"),ys=Bh(Rn,"Map"),xo=Bh(Rn,"Promise"),mi=Bh(Rn,"Set"),Yl=Bh(Rn,"WeakMap"),_l=Bh(la,"create"),zd=Yl&&new Yl,Nc={},Wm=Fh(kh),qm=Fh(ys),ff=Fh(xo),Pu=Fh(mi),T0=Fh(Yl),Qf=iu?iu.prototype:n,Bd=Qf?Qf.valueOf:n,Jf=Qf?Qf.toString:n;function Ve(P){if(Qo(P)&&!oi(P)&&!(P instanceof Oi)){if(P instanceof Ka)return P;if(Ta.call(P,"__wrapped__"))return Cl(P)}return new Ka(P)}var cl=function(){function P(){}return function(j){if(!jo(j))return{};if(Yf)return Yf(j);P.prototype=j;var ie=new P;return P.prototype=n,ie}}();function xl(){}function Ka(P,j){this.__wrapped__=P,this.__actions__=[],this.__chain__=!!j,this.__index__=0,this.__values__=n}Ve.templateSettings={escape:$t,evaluate:vt,interpolate:It,variable:"",imports:{_:Ve}},Ve.prototype=xl.prototype,Ve.prototype.constructor=Ve,Ka.prototype=cl(xl.prototype),Ka.prototype.constructor=Ka;function Oi(P){this.__wrapped__=P,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function jl(){var P=new Oi(this.__wrapped__);return P.__actions__=So(this.__actions__),P.__dir__=this.__dir__,P.__filtered__=this.__filtered__,P.__iteratees__=So(this.__iteratees__),P.__takeCount__=this.__takeCount__,P.__views__=So(this.__views__),P}function Dc(){if(this.__filtered__){var P=new Oi(this);P.__dir__=-1,P.__filtered__=!0}else P=this.clone(),P.__dir__*=-1;return P}function jd(){var P=this.__wrapped__.value(),j=this.__dir__,ie=oi(P),ge=j<0,Le=ie?P.length:0,Qe=Wx(0,Le,this.__views__),St=Qe.start,Nt=Qe.end,Zt=Nt-St,Gn=ge?Nt:St-1,Wn=this.__iteratees__,er=Wn.length,Ar=0,Ur=Ko(Zt,this.__takeCount__);if(!ie||!ge&&Le==Zt&&Ur==Zt)return id(P,this.__actions__);var yi=[];e:for(;Zt--&&Ar<Ur;){Gn+=j;for(var _a=-1,bi=P[Gn];++_a<er;){var Ba=Wn[_a],Ja=Ba.iteratee,ep=Ba.type,gd=Ja(bi);if(ep==ee)bi=gd;else if(!gd){if(ep==te)continue e;break e}}yi[Ar++]=bi}return yi}Oi.prototype=cl(xl.prototype),Oi.prototype.constructor=Oi;function ca(P){var j=-1,ie=P==null?0:P.length;for(this.clear();++j<ie;){var ge=P[j];this.set(ge[0],ge[1])}}function df(){this.__data__=_l?_l(null):{},this.size=0}function Km(P){var j=this.has(P)&&delete this.__data__[P];return this.size-=j?1:0,j}function G1(P){var j=this.__data__;if(_l){var ie=j[P];return ie===l?n:ie}return Ta.call(j,P)?j[P]:n}function M0(P){var j=this.__data__;return _l?j[P]!==n:Ta.call(j,P)}function W1(P,j){var ie=this.__data__;return this.size+=this.has(P)?0:1,ie[P]=_l&&j===n?l:j,this}ca.prototype.clear=df,ca.prototype.delete=Km,ca.prototype.get=G1,ca.prototype.has=M0,ca.prototype.set=W1;function Ma(P){var j=-1,ie=P==null?0:P.length;for(this.clear();++j<ie;){var ge=P[j];this.set(ge[0],ge[1])}}function Lh(){this.__data__=[],this.size=0}function wl(P){var j=this.__data__,ie=vf(j,P);if(ie<0)return!1;var ge=j.length-1;return ie==ge?j.pop():wp.call(j,ie,1),--this.size,!0}function lr(P){var j=this.__data__,ie=vf(j,P);return ie<0?n:j[ie][1]}function Ym(P){return vf(this.__data__,P)>-1}function Ru(P,j){var ie=this.__data__,ge=vf(ie,P);return ge<0?(++this.size,ie.push([P,j])):ie[ge][1]=j,this}Ma.prototype.clear=Lh,Ma.prototype.delete=wl,Ma.prototype.get=lr,Ma.prototype.has=Ym,Ma.prototype.set=Ru;function Xl(P){var j=-1,ie=P==null?0:P.length;for(this.clear();++j<ie;){var ge=P[j];this.set(ge[0],ge[1])}}function Nh(){this.size=0,this.__data__={hash:new ca,map:new(ys||Ma),string:new ca}}function ed(P){var j=Ip(this,P).delete(P);return this.size-=j?1:0,j}function A0(P){return Ip(this,P).get(P)}function Li(P){return Ip(this,P).has(P)}function hf(P,j){var ie=Ip(this,P),ge=ie.size;return ie.set(P,j),this.size+=ie.size==ge?0:1,this}Xl.prototype.clear=Nh,Xl.prototype.delete=ed,Xl.prototype.get=A0,Xl.prototype.has=Li,Xl.prototype.set=hf;function pf(P){var j=-1,ie=P==null?0:P.length;for(this.__data__=new Xl;++j<ie;)this.add(P[j])}function Fd(P){return this.__data__.set(P,l),this}function I0(P){return this.__data__.has(P)}pf.prototype.add=pf.prototype.push=Fd,pf.prototype.has=I0;function Zl(P){var j=this.__data__=new Ma(P);this.size=j.size}function Xm(){this.__data__=new Ma,this.size=0}function Sp(P){var j=this.__data__,ie=j.delete(P);return this.size=j.size,ie}function jg(P){return this.__data__.get(P)}function P0(P){return this.__data__.has(P)}function Cp(P,j){var ie=this.__data__;if(ie instanceof Ma){var ge=ie.__data__;if(!ys||ge.length<i-1)return ge.push([P,j]),this.size=++ie.size,this;ie=this.__data__=new Xl(ge)}return ie.set(P,j),this.size=ie.size,this}Zl.prototype.clear=Xm,Zl.prototype.delete=Sp,Zl.prototype.get=jg,Zl.prototype.has=P0,Zl.prototype.set=Cp;function R0(P,j){var ie=oi(P),ge=!ie&&Jd(P),Le=!ie&&!ge&&Yh(P),Qe=!ie&&!ge&&!Le&&um(P),St=ie||ge||Le||Qe,Nt=St?Wf(P.length,zg):[],Zt=Nt.length;for(var Gn in P)(j||Ta.call(P,Gn))&&!(St&&(Gn=="length"||Le&&(Gn=="offset"||Gn=="parent")||Qe&&(Gn=="buffer"||Gn=="byteLength"||Gn=="byteOffset")||jc(Gn,Zt)))&&Nt.push(Gn);return Nt}function Ep(P){var j=P.length;return j?P[bn(0,j-1)]:n}function gf(P,j){return lv(So(P),vr(j,0,P.length))}function ho(P){return lv(So(P))}function yc(P,j,ie){(ie!==n&&!Vc(P[j],ie)||ie===n&&!(j in P))&&Ds(P,j,ie)}function mf(P,j,ie){var ge=P[j];(!(Ta.call(P,j)&&Vc(ge,ie))||ie===n&&!(j in P))&&Ds(P,j,ie)}function vf(P,j){for(var ie=P.length;ie--;)if(Vc(P[ie][0],j))return ie;return-1}function td(P,j,ie,ge){return yf(P,function(Le,Qe,St){j(ge,Le,ie(Le),St)}),ge}function ou(P,j){return P&&As(j,dt(j),P)}function Fg(P,j){return P&&As(j,Wt(j),P)}function Ds(P,j,ie){j=="__proto__"&&Xf?Xf(P,j,{configurable:!0,enumerable:!0,value:ie,writable:!0}):P[j]=ie}function nd(P,j){for(var ie=-1,ge=j.length,Le=pn(ge),Qe=P==null;++ie<ge;)Le[ie]=Qe?n:Xe(P,j[ie]);return Le}function vr(P,j,ie){return P===P&&(ie!==n&&(P=P<=ie?P:ie),j!==n&&(P=P>=j?P:j)),P}function wr(P,j,ie,ge,Le,Qe){var St,Nt=j&d,Zt=j&h,Gn=j&g;if(ie&&(St=Le?ie(P,ge,Le,Qe):ie(P)),St!==n)return St;if(!jo(P))return P;var Wn=oi(P);if(Wn){if(St=Q1(P),!Nt)return So(P,St)}else{var er=Hl(P),Ar=er==Ne||er==qe;if(Yh(P))return No(P,Nt);if(er==ft||er==Re||Ar&&!Le){if(St=Zt||Ar?{}:J1(P),!Nt)return Zt?Dh(P,Fg(St,P)):zu(P,ou(St,P))}else{if(!gi[er])return Le?P:{};St=B0(P,er,Nt)}}Qe||(Qe=new Zl);var Ur=Qe.get(P);if(Ur)return Ur;Qe.set(P,St),O_(P)?P.forEach(function(bi){St.add(wr(bi,j,ie,bi,P,Qe))}):zb(P)&&P.forEach(function(bi,Ba){St.set(Ba,wr(bi,j,ie,Ba,P,Qe))});var yi=Gn?Zt?N0:ub:Zt?Wt:dt,_a=Wn?n:yi(P);return Wl(_a||P,function(bi,Ba){_a&&(Ba=bi,bi=P[Ba]),mf(St,Ba,wr(bi,j,ie,Ba,P,Qe))}),St}function Hg(P){var j=dt(P);return function(ie){return Vg(ie,P,j)}}function Vg(P,j,ie){var ge=ie.length;if(P==null)return!ge;for(P=la(P);ge--;){var Le=ie[ge],Qe=j[Le],St=P[Le];if(St===n&&!(Le in P)||!Qe(St))return!1}return!0}function rd(P,j,ie){if(typeof P!="function")throw new zl(s);return ov(function(){P.apply(n,ie)},j)}function Ts(P,j,ie,ge){var Le=-1,Qe=yp,St=!0,Nt=P.length,Zt=[],Gn=j.length;if(!Nt)return Zt;ie&&(j=_o(j,gc(ie))),ge?(Qe=Rd,St=!1):j.length>=i&&(Qe=_p,St=!1,j=new pf(j));e:for(;++Le<Nt;){var Wn=P[Le],er=ie==null?Wn:ie(Wn);if(Wn=ge||Wn!==0?Wn:0,St&&er===er){for(var Ar=Gn;Ar--;)if(j[Ar]===er)continue e;Zt.push(Wn)}else Qe(j,er,ge)||Zt.push(Wn)}return Zt}var yf=Tp(Xs),ul=Tp(_f,!0);function $0(P,j){var ie=!0;return yf(P,function(ge,Le,Qe){return ie=!!j(ge,Le,Qe),ie}),ie}function Ql(P,j,ie){for(var ge=-1,Le=P.length;++ge<Le;){var Qe=P[ge],St=j(Qe);if(St!=null&&(Nt===n?St===St&&!Uc(St):ie(St,Nt)))var Nt=St,Zt=Qe}return Zt}function Nr(P,j,ie,ge){var Le=P.length;for(ie=ui(ie),ie<0&&(ie=-ie>Le?0:Le+ie),ge=ge===n||ge>Le?Le:ui(ge),ge<0&&(ge+=Le),ge=ie>ge?0:yu(ge);ie<ge;)P[ie++]=j;return P}function Xr(P,j){var ie=[];return yf(P,function(ge,Le,Qe){j(ge,Le,Qe)&&ie.push(ge)}),ie}function Xi(P,j,ie,ge,Le){var Qe=-1,St=P.length;for(ie||(ie=qd),Le||(Le=[]);++Qe<St;){var Nt=P[Qe];j>0&&ie(Nt)?j>1?Xi(Nt,j-1,ie,ge,Le):Ou(Le,Nt):ge||(Le[Le.length]=Nt)}return Le}var bf=Kg(),Fl=Kg(!0);function Xs(P,j){return P&&bf(P,j,dt)}function _f(P,j){return P&&Fl(P,j,dt)}function $u(P,j){return Dl(j,function(ie){return mu(P[ie])})}function fl(P,j){j=Ms(j,P);for(var ie=0,ge=j.length;P!=null&&ie<ge;)P=P[oo(j[ie++])];return ie&&ie==ge?P:n}function Zm(P,j,ie){var ge=j(P);return oi(P)?ge:Ou(ge,ie(P))}function ji(P){return P==null?P===n?Kt:ht:ll&&ll in la(P)?Pp(P):F0(P)}function ku(P,j){return P>j}function Ug(P,j){return P!=null&&Ta.call(P,j)}function Gg(P,j){return P!=null&&j in la(P)}function Hd(P,j,ie){return P>=Ko(j,ie)&&P<Ha(j,ie)}function Wg(P,j,ie){for(var ge=ie?Rd:yp,Le=P[0].length,Qe=P.length,St=Qe,Nt=pn(Qe),Zt=1/0,Gn=[];St--;){var Wn=P[St];St&&j&&(Wn=_o(Wn,gc(j))),Zt=Ko(Wn.length,Zt),Nt[St]=!ie&&(j||Le>=120&&Wn.length>=120)?new pf(St&&Wn):n}Wn=P[0];var er=-1,Ar=Nt[0];e:for(;++er<Le&&Gn.length<Zt;){var Ur=Wn[er],yi=j?j(Ur):Ur;if(Ur=ie||Ur!==0?Ur:0,!(Ar?_p(Ar,yi):ge(Gn,yi,ie))){for(St=Qe;--St;){var _a=Nt[St];if(!(_a?_p(_a,yi):ge(P[St],yi,ie)))continue e}Ar&&Ar.push(yi),Gn.push(Ur)}}return Gn}function qg(P,j,ie,ge){return Xs(P,function(Le,Qe,St){j(ge,ie(Le),Qe,St)}),ge}function Lu(P,j,ie){j=Ms(j,P),P=Kd(P,j);var ge=P==null?P:P[oo(ec(j))];return ge==null?n:pc(ge,P,ie)}function Op(P){return Qo(P)&&ji(P)==Re}function z(P){return Qo(P)&&ji(P)==Cn}function f(P){return Qo(P)&&ji(P)==Ze}function y(P,j,ie,ge,Le){return P===j?!0:P==null||j==null||!Qo(P)&&!Qo(j)?P!==P&&j!==j:T(P,j,ie,ge,y,Le)}function T(P,j,ie,ge,Le,Qe){var St=oi(P),Nt=oi(j),Zt=St?je:Hl(P),Gn=Nt?je:Hl(j);Zt=Zt==Re?ft:Zt,Gn=Gn==Re?ft:Gn;var Wn=Zt==ft,er=Gn==ft,Ar=Zt==Gn;if(Ar&&Yh(P)){if(!Yh(j))return!1;St=!0,Wn=!1}if(Ar&&!Wn)return Qe||(Qe=new Zl),St||um(P)?rv(P,j,ie,ge,Le,Qe):lu(P,j,Zt,ie,ge,Le,Qe);if(!(ie&v)){var Ur=Wn&&Ta.call(P,"__wrapped__"),yi=er&&Ta.call(j,"__wrapped__");if(Ur||yi){var _a=Ur?P.value():P,bi=yi?j.value():j;return Qe||(Qe=new Zl),Le(_a,bi,ie,ge,Qe)}}return Ar?(Qe||(Qe=new Zl),Sl(P,j,ie,ge,Le,Qe)):!1}function $(P){return Qo(P)&&Hl(P)==We}function F(P,j,ie,ge){var Le=ie.length,Qe=Le,St=!ge;if(P==null)return!Qe;for(P=la(P);Le--;){var Nt=ie[Le];if(St&&Nt[2]?Nt[1]!==P[Nt[0]]:!(Nt[0]in P))return!1}for(;++Le<Qe;){Nt=ie[Le];var Zt=Nt[0],Gn=P[Zt],Wn=Nt[1];if(St&&Nt[2]){if(Gn===n&&!(Zt in P))return!1}else{var er=new Zl;if(ge)var Ar=ge(Gn,Wn,Zt,P,j,er);if(!(Ar===n?y(Wn,Gn,v|x,ge,er):Ar))return!1}}return!0}function W(P){if(!jo(P)||Zg(P))return!1;var j=mu(P)?Oh:Zr;return j.test(Fh(P))}function ne(P){return Qo(P)&&ji(P)==Jt}function se(P){return Qo(P)&&Hl(P)==xt}function de(P){return Qo(P)&&eh(P.length)&&!!ra[ji(P)]}function ve(P){return typeof P=="function"?P:P==null?on:typeof P=="object"?oi(P)?Je(P[0],P[1]):tt(P):Qa(P)}function Ee(P){if(!Xa(P))return bl(P);var j=[];for(var ie in la(P))Ta.call(P,ie)&&ie!="constructor"&&j.push(ie);return j}function Ce(P){if(!jo(P))return ju(P);var j=Xa(P),ie=[];for(var ge in P)ge=="constructor"&&(j||!Ta.call(P,ge))||ie.push(ge);return ie}function ke(P,j){return P<j}function Be(P,j){var ie=-1,ge=pl(P)?pn(P.length):[];return yf(P,function(Le,Qe,St){ge[++ie]=j(Le,Qe,St)}),ge}function tt(P){var j=iv(P);return j.length==1&&j[0][2]?t_(j[0][0],j[0][1]):function(ie){return ie===P||F(ie,P,j)}}function Je(P,j){return Xo(P)&&e_(j)?t_(oo(P),j):function(ie){var ge=Xe(ie,P);return ge===n&&ge===j?Ot(ie,P):y(j,ge,v|x)}}function nt(P,j,ie,ge,Le){P!==j&&bf(j,function(Qe,St){if(Le||(Le=new Zl),jo(Qe))pt(P,j,St,ie,nt,ge,Le);else{var Nt=ge?ge(H0(P,St),Qe,St+"",P,j,Le):n;Nt===n&&(Nt=Qe),yc(P,St,Nt)}},Wt)}function pt(P,j,ie,ge,Le,Qe,St){var Nt=H0(P,ie),Zt=H0(j,ie),Gn=St.get(Zt);if(Gn){yc(P,ie,Gn);return}var Wn=Qe?Qe(Nt,Zt,ie+"",P,j,St):n,er=Wn===n;if(er){var Ar=oi(Zt),Ur=!Ar&&Yh(Zt),yi=!Ar&&!Ur&&um(Zt);Wn=Zt,Ar||Ur||yi?oi(Nt)?Wn=Nt:go(Nt)?Wn=So(Nt):Ur?(er=!1,Wn=No(Zt,!0)):yi?(er=!1,Wn=Qm(Zt,!0)):Wn=[]:Vu(Zt)||Jd(Zt)?(Wn=Nt,Jd(Nt)?Wn=Bb(Nt):(!jo(Nt)||mu(Nt))&&(Wn=J1(Zt))):er=!1}er&&(St.set(Zt,Wn),Le(Wn,Zt,ge,Qe,St),St.delete(Zt)),yc(P,ie,Wn)}function bt(P,j){var ie=P.length;if(ie)return j+=j<0?ie:0,jc(j,ie)?P[j]:n}function wt(P,j,ie){j.length?j=_o(j,function(Qe){return oi(Qe)?function(St){return fl(St,Qe.length===1?Qe[0]:Qe)}:Qe}):j=[on];var ge=-1;j=_o(j,gc(Yr()));var Le=Be(P,function(Qe,St,Nt){var Zt=_o(j,function(Gn){return Gn(Qe)});return{criteria:Zt,index:++ge,value:Qe}});return Fm(Le,function(Qe,St){return ob(Qe,St,ie)})}function Et(P,j){return Pt(P,j,function(ie,ge){return Ot(P,ge)})}function Pt(P,j,ie){for(var ge=-1,Le=j.length,Qe={};++ge<Le;){var St=j[ge],Nt=fl(P,St);ie(Nt,St)&&yr(Qe,Ms(St,P),Nt)}return Qe}function Mt(P){return function(j){return fl(j,P)}}function en(P,j,ie,ge){var Le=ge?S0:Tu,Qe=-1,St=j.length,Nt=P;for(P===j&&(j=So(j)),ie&&(Nt=_o(P,gc(ie)));++Qe<St;)for(var Zt=0,Gn=j[Qe],Wn=ie?ie(Gn):Gn;(Zt=Le(Nt,Wn,Zt,ge))>-1;)Nt!==P&&wp.call(Nt,Zt,1),wp.call(P,Zt,1);return P}function Xt(P,j){for(var ie=P?j.length:0,ge=ie-1;ie--;){var Le=j[ie];if(ie==ge||Le!==Qe){var Qe=Le;jc(Le)?wp.call(P,Le,1):dl(P,Le)}}return P}function bn(P,j){return P+Iu(Zf()*(j-P+1))}function wn(P,j,ie,ge){for(var Le=-1,Qe=Ha(Rh((j-P)/(ie||1)),0),St=pn(Qe);Qe--;)St[ge?Qe:++Le]=P,P+=ie;return St}function vn(P,j){var ie="";if(!P||j<1||j>oe)return ie;do j%2&&(ie+=P),j=Iu(j/2),j&&(P+=P);while(j);return ie}function Mn(P,j){return sv($p(P,j,on),P+"")}function Zn(P){return Ep(_s(P))}function Nn(P,j){var ie=_s(P);return lv(ie,vr(j,0,ie.length))}function yr(P,j,ie,ge){if(!jo(P))return P;j=Ms(j,P);for(var Le=-1,Qe=j.length,St=Qe-1,Nt=P;Nt!=null&&++Le<Qe;){var Zt=oo(j[Le]),Gn=ie;if(Zt==="__proto__"||Zt==="constructor"||Zt==="prototype")return P;if(Le!=St){var Wn=Nt[Zt];Gn=ge?ge(Wn,Zt,Nt):n,Gn===n&&(Gn=jo(Wn)?Wn:jc(j[Le+1])?[]:{})}mf(Nt,Zt,Gn),Nt=Nt[Zt]}return P}var ti=zd?function(P,j){return zd.set(P,j),P}:on,Zi=Xf?function(P,j){return Xf(P,"toString",{configurable:!0,enumerable:!1,value:an(j),writable:!0})}:on;function vi(P){return lv(_s(P))}function Ni(P,j,ie){var ge=-1,Le=P.length;j<0&&(j=-j>Le?0:Le+j),ie=ie>Le?Le:ie,ie<0&&(ie+=Le),Le=j>ie?0:ie-j>>>0,j>>>=0;for(var Qe=pn(Le);++ge<Le;)Qe[ge]=P[ge+j];return Qe}function ao(P,j){var ie;return yf(P,function(ge,Le,Qe){return ie=j(ge,Le,Qe),!ie}),!!ie}function Va(P,j,ie){var ge=0,Le=P==null?ge:P.length;if(typeof j=="number"&&j===j&&Le<=_e){for(;ge<Le;){var Qe=ge+Le>>>1,St=P[Qe];St!==null&&!Uc(St)&&(ie?St<=j:St<j)?ge=Qe+1:Le=Qe}return Le}return wa(P,j,on,ie)}function wa(P,j,ie,ge){var Le=0,Qe=P==null?0:P.length;if(Qe===0)return 0;j=ie(j);for(var St=j!==j,Nt=j===null,Zt=Uc(j),Gn=j===n;Le<Qe;){var Wn=Iu((Le+Qe)/2),er=ie(P[Wn]),Ar=er!==n,Ur=er===null,yi=er===er,_a=Uc(er);if(St)var bi=ge||yi;else Gn?bi=yi&&(ge||Ar):Nt?bi=yi&&Ar&&(ge||!Ur):Zt?bi=yi&&Ar&&!Ur&&(ge||!_a):Ur||_a?bi=!1:bi=ge?er<=j:er<j;bi?Le=Wn+1:Qe=Wn}return Ko(Qe,ye)}function Da(P,j){for(var ie=-1,ge=P.length,Le=0,Qe=[];++ie<ge;){var St=P[ie],Nt=j?j(St):St;if(!ie||!Vc(Nt,Zt)){var Zt=Nt;Qe[Le++]=St===0?0:St}}return Qe}function Yo(P){return typeof P=="number"?P:Uc(P)?le:+P}function Aa(P){if(typeof P=="string")return P;if(oi(P))return _o(P,Aa)+"";if(Uc(P))return Jf?Jf.call(P):"";var j=P+"";return j=="0"&&1/P==-1/0?"-0":j}function wo(P,j,ie){var ge=-1,Le=yp,Qe=P.length,St=!0,Nt=[],Zt=Nt;if(ie)St=!1,Le=Rd;else if(Qe>=i){var Gn=j?null:X1(P);if(Gn)return Dg(Gn);St=!1,Le=_p,Zt=new pf}else Zt=j?[]:Nt;e:for(;++ge<Qe;){var Wn=P[ge],er=j?j(Wn):Wn;if(Wn=ie||Wn!==0?Wn:0,St&&er===er){for(var Ar=Zt.length;Ar--;)if(Zt[Ar]===er)continue e;j&&Zt.push(er),Nt.push(Wn)}else Le(Zt,er,ie)||(Zt!==Nt&&Zt.push(er),Nt.push(Wn))}return Nt}function dl(P,j){return j=Ms(j,P),P=Kd(P,j),P==null||delete P[oo(ec(j))]}function Nu(P,j,ie,ge){return yr(P,j,ie(fl(P,j)),ge)}function bc(P,j,ie,ge){for(var Le=P.length,Qe=ge?Le:-1;(ge?Qe--:++Qe<Le)&&j(P[Qe],Qe,P););return ie?Ni(P,ge?0:Qe,ge?Qe+1:Le):Ni(P,ge?Qe+1:0,ge?Le:Qe)}function id(P,j){var ie=P;return ie instanceof Oi&&(ie=ie.value()),nu(j,function(ge,Le){return Le.func.apply(Le.thisArg,Ou([ge],Le.args))},ie)}function su(P,j,ie){var ge=P.length;if(ge<2)return ge?wo(P[0]):[];for(var Le=-1,Qe=pn(ge);++Le<ge;)for(var St=P[Le],Nt=-1;++Nt<ge;)Nt!=Le&&(Qe[Le]=Ts(Qe[Le]||St,P[Nt],j,ie));return wo(Xi(Qe,1),j,ie)}function ad(P,j,ie){for(var ge=-1,Le=P.length,Qe=j.length,St={};++ge<Le;){var Nt=ge<Qe?j[ge]:n;ie(St,P[ge],Nt)}return St}function zc(P){return go(P)?P:[]}function Bc(P){return typeof P=="function"?P:on}function Ms(P,j){return oi(P)?P:Xo(P,j)?[P]:cd(Za(P))}var xf=Mn;function _c(P,j,ie){var ge=P.length;return ie=ie===n?ge:ie,!j&&ie>=ge?P:Ni(P,j,ie)}var Vd=Ih||function(P){return fo.clearTimeout(P)};function No(P,j){if(j)return P.slice();var ie=P.length,ge=Ah?Ah(ie):new P.constructor(ie);return P.copy(ge),ge}function Ya(P){var j=new P.constructor(P.byteLength);return new Mh(j).set(new Mh(P)),j}function bs(P,j){var ie=j?Ya(P.buffer):P.buffer;return new P.constructor(ie,P.byteOffset,P.byteLength)}function za(P){var j=new P.constructor(P.source,Er.exec(P));return j.lastIndex=P.lastIndex,j}function od(P){return Bd?la(Bd.call(P)):{}}function Qm(P,j){var ie=j?Ya(P.buffer):P.buffer;return new P.constructor(ie,P.byteOffset,P.length)}function Du(P,j){if(P!==j){var ie=P!==n,ge=P===null,Le=P===P,Qe=Uc(P),St=j!==n,Nt=j===null,Zt=j===j,Gn=Uc(j);if(!Nt&&!Gn&&!Qe&&P>j||Qe&&St&&Zt&&!Nt&&!Gn||ge&&St&&Zt||!ie&&Zt||!Le)return 1;if(!ge&&!Qe&&!Gn&&P<j||Gn&&ie&&Le&&!ge&&!Qe||Nt&&ie&&Le||!St&&Le||!Zt)return-1}return 0}function ob(P,j,ie){for(var ge=-1,Le=P.criteria,Qe=j.criteria,St=Le.length,Nt=ie.length;++ge<St;){var Zt=Du(Le[ge],Qe[ge]);if(Zt){if(ge>=Nt)return Zt;var Gn=ie[ge];return Zt*(Gn=="desc"?-1:1)}}return P.index-j.index}function Jm(P,j,ie,ge){for(var Le=-1,Qe=P.length,St=ie.length,Nt=-1,Zt=j.length,Gn=Ha(Qe-St,0),Wn=pn(Zt+Gn),er=!ge;++Nt<Zt;)Wn[Nt]=j[Nt];for(;++Le<St;)(er||Le<Qe)&&(Wn[ie[Le]]=P[Le]);for(;Gn--;)Wn[Nt++]=P[Le++];return Wn}function ev(P,j,ie,ge){for(var Le=-1,Qe=P.length,St=-1,Nt=ie.length,Zt=-1,Gn=j.length,Wn=Ha(Qe-Nt,0),er=pn(Wn+Gn),Ar=!ge;++Le<Wn;)er[Le]=P[Le];for(var Ur=Le;++Zt<Gn;)er[Ur+Zt]=j[Zt];for(;++St<Nt;)(Ar||Le<Qe)&&(er[Ur+ie[St]]=P[Le++]);return er}function So(P,j){var ie=-1,ge=P.length;for(j||(j=pn(ge));++ie<ge;)j[ie]=P[ie];return j}function As(P,j,ie,ge){var Le=!ie;ie||(ie={});for(var Qe=-1,St=j.length;++Qe<St;){var Nt=j[Qe],Zt=ge?ge(ie[Nt],P[Nt],Nt,ie,P):n;Zt===n&&(Zt=P[Nt]),Le?Ds(ie,Nt,Zt):mf(ie,Nt,Zt)}return ie}function zu(P,j){return As(P,jh(P),j)}function Dh(P,j){return As(P,db(P),j)}function sd(P,j){return function(ie,ge){var Le=oi(ie)?jm:td,Qe=j?j():{};return Le(ie,P,Yr(ge,2),Qe)}}function wf(P){return Mn(function(j,ie){var ge=-1,Le=ie.length,Qe=Le>1?ie[Le-1]:n,St=Le>2?ie[2]:n;for(Qe=P.length>3&&typeof Qe=="function"?(Le--,Qe):n,St&&Fc(ie[0],ie[1],St)&&(Qe=Le<3?n:Qe,Le=1),j=la(j);++ge<Le;){var Nt=ie[ge];Nt&&P(j,Nt,ge,Qe)}return j})}function Tp(P,j){return function(ie,ge){if(ie==null)return ie;if(!pl(ie))return P(ie,ge);for(var Le=ie.length,Qe=j?Le:-1,St=la(ie);(j?Qe--:++Qe<Le)&&ge(St[Qe],Qe,St)!==!1;);return ie}}function Kg(P){return function(j,ie,ge){for(var Le=-1,Qe=la(j),St=ge(j),Nt=St.length;Nt--;){var Zt=St[P?Nt:++Le];if(ie(Qe[Zt],Zt,Qe)===!1)break}return j}}function q1(P,j,ie){var ge=j&w,Le=Sf(P);function Qe(){var St=this&&this!==fo&&this instanceof Qe?Le:P;return St.apply(ge?ie:this,arguments)}return Qe}function Bu(P){return function(j){j=Za(j);var ie=qf(j)?ru(j):n,ge=ie?ie[0]:j.charAt(0),Le=ie?_c(ie,1).join(""):j.slice(1);return ge[P]()+Le}}function Jl(P){return function(j){return nu(J(To(j).replace(kc,"")),P,"")}}function Sf(P){return function(){var j=arguments;switch(j.length){case 0:return new P;case 1:return new P(j[0]);case 2:return new P(j[0],j[1]);case 3:return new P(j[0],j[1],j[2]);case 4:return new P(j[0],j[1],j[2],j[3]);case 5:return new P(j[0],j[1],j[2],j[3],j[4]);case 6:return new P(j[0],j[1],j[2],j[3],j[4],j[5]);case 7:return new P(j[0],j[1],j[2],j[3],j[4],j[5],j[6])}var ie=cl(P.prototype),ge=P.apply(ie,j);return jo(ge)?ge:ie}}function sb(P,j,ie){var ge=Sf(P);function Le(){for(var Qe=arguments.length,St=pn(Qe),Nt=Qe,Zt=Xg(Le);Nt--;)St[Nt]=arguments[Nt];var Gn=Qe<3&&St[0]!==Zt&&St[Qe-1]!==Zt?[]:nf(St,Zt);if(Qe-=Gn.length,Qe<ie)return Y1(P,j,Co,Le.placeholder,n,St,Gn,n,n,ie-Qe);var Wn=this&&this!==fo&&this instanceof Le?ge:P;return pc(Wn,this,St)}return Le}function Ud(P){return function(j,ie,ge){var Le=la(j);if(!pl(j)){var Qe=Yr(ie,3);j=dt(j),ie=function(Nt){return Qe(Le[Nt],Nt,Le)}}var St=P(j,ie,ge);return St>-1?Le[Qe?j[St]:St]:n}}function ld(P){return Do(function(j){var ie=j.length,ge=ie,Le=Ka.prototype.thru;for(P&&j.reverse();ge--;){var Qe=j[ge];if(typeof Qe!="function")throw new zl(s);if(Le&&!St&&D0(Qe)=="wrapper")var St=new Ka([],!0)}for(ge=St?ge:ie;++ge<ie;){Qe=j[ge];var Nt=D0(Qe),Zt=Nt=="wrapper"?fb(Qe):n;Zt&&j0(Zt[0])&&Zt[1]==(D|M|L|H)&&!Zt[4].length&&Zt[9]==1?St=St[D0(Zt[0])].apply(St,Zt[3]):St=Qe.length==1&&j0(Qe)?St[Nt]():St.thru(Qe)}return function(){var Gn=arguments,Wn=Gn[0];if(St&&Gn.length==1&&oi(Wn))return St.plant(Wn).value();for(var er=0,Ar=ie?j[er].apply(this,Gn):Wn;++er<ie;)Ar=j[er].call(this,Ar);return Ar}})}function Co(P,j,ie,ge,Le,Qe,St,Nt,Zt,Gn){var Wn=j&D,er=j&w,Ar=j&C,Ur=j&(M|R),yi=j&U,_a=Ar?n:Sf(P);function bi(){for(var Ba=arguments.length,Ja=pn(Ba),ep=Ba;ep--;)Ja[ep]=arguments[ep];if(Ur)var gd=Xg(bi),tp=U1(Ja,gd);if(ge&&(Ja=Jm(Ja,ge,Le,Ur)),Qe&&(Ja=ev(Ja,Qe,St,Ur)),Ba-=tp,Ur&&Ba<Gn){var ic=nf(Ja,gd);return Y1(P,j,Co,bi.placeholder,ie,Ja,ic,Nt,Zt,Gn-Ba)}var dm=er?ie:this,ly=Ar?dm[P]:P;return Ba=Ja.length,Nt?Ja=Yd(Ja,Nt):yi&&Ba>1&&Ja.reverse(),Wn&&Zt<Ba&&(Ja.length=Zt),this&&this!==fo&&this instanceof bi&&(ly=_a||Sf(ly)),ly.apply(dm,Ja)}return bi}function k0(P,j){return function(ie,ge){return qg(ie,P,j(ge),{})}}function Gd(P,j){return function(ie,ge){var Le;if(ie===n&&ge===n)return j;if(ie!==n&&(Le=ie),ge!==n){if(Le===n)return ge;typeof ie=="string"||typeof ge=="string"?(ie=Aa(ie),ge=Aa(ge)):(ie=Yo(ie),ge=Yo(ge)),Le=P(ie,ge)}return Le}}function Mp(P){return Do(function(j){return j=_o(j,gc(Yr())),Mn(function(ie){var ge=this;return P(j,function(Le){return pc(Le,ge,ie)})})})}function Ap(P,j){j=j===n?" ":Aa(j);var ie=j.length;if(ie<2)return ie?vn(j,P):j;var ge=vn(j,Rh(P/rf(j)));return qf(j)?_c(ru(ge),0,P).join(""):ge.slice(0,P)}function K1(P,j,ie,ge){var Le=j&w,Qe=Sf(P);function St(){for(var Nt=-1,Zt=arguments.length,Gn=-1,Wn=ge.length,er=pn(Wn+Zt),Ar=this&&this!==fo&&this instanceof St?Qe:P;++Gn<Wn;)er[Gn]=ge[Gn];for(;Zt--;)er[Gn++]=arguments[++Nt];return pc(Ar,Le?ie:this,er)}return St}function zh(P){return function(j,ie,ge){return ge&&typeof ge!="number"&&Fc(j,ie,ge)&&(ie=ge=n),j=Ef(j),ie===n?(ie=j,j=0):ie=Ef(ie),ge=ge===n?j<ie?1:-1:Ef(ge),wn(j,ie,ge,P)}}function Yg(P){return function(j,ie){return typeof j=="string"&&typeof ie=="string"||(j=bu(j),ie=bu(ie)),P(j,ie)}}function Y1(P,j,ie,ge,Le,Qe,St,Nt,Zt,Gn){var Wn=j&M,er=Wn?St:n,Ar=Wn?n:St,Ur=Wn?Qe:n,yi=Wn?n:Qe;j|=Wn?L:N,j&=~(Wn?N:L),j&E||(j&=-4);var _a=[P,j,Le,Ur,er,yi,Ar,Nt,Zt,Gn],bi=ie.apply(n,_a);return j0(P)&&Xd(bi,_a),bi.placeholder=ge,kp(bi,P,j)}function L0(P){var j=Os[P];return function(ie,ge){if(ie=bu(ie),ge=ge==null?0:Ko(ui(ge),292),ge&&Dd(ie)){var Le=(Za(ie)+"e").split("e"),Qe=j(Le[0]+"e"+(+Le[1]+ge));return Le=(Za(Qe)+"e").split("e"),+(Le[0]+"e"+(+Le[1]-ge))}return j(ie)}}var X1=mi&&1/Dg(new mi([,-0]))[1]==re?function(P){return new mi(P)}:Sr;function tv(P){return function(j){var ie=Hl(j);return ie==We?xp(j):ie==xt?va(j):xh(j,P(j))}}function Wd(P,j,ie,ge,Le,Qe,St,Nt){var Zt=j&C;if(!Zt&&typeof P!="function")throw new zl(s);var Gn=ge?ge.length:0;if(Gn||(j&=-97,ge=Le=n),St=St===n?St:Ha(ui(St),0),Nt=Nt===n?Nt:ui(Nt),Gn-=Le?Le.length:0,j&N){var Wn=ge,er=Le;ge=Le=n}var Ar=Zt?n:fb(P),Ur=[P,j,ie,ge,Le,Wn,er,Qe,St,Nt];if(Ar&&Qg(Ur,Ar),P=Ur[0],j=Ur[1],ie=Ur[2],ge=Ur[3],Le=Ur[4],Nt=Ur[9]=Ur[9]===n?Zt?0:P.length:Ha(Ur[9]-Gn,0),!Nt&&j&(M|R)&&(j&=-25),!j||j==w)var yi=q1(P,j,ie);else j==M||j==R?yi=sb(P,j,Nt):(j==L||j==(w|L))&&!Le.length?yi=K1(P,j,ie,ge):yi=Co.apply(n,Ur);var _a=Ar?ti:Xd;return kp(_a(yi,Ur),P,j)}function nv(P,j,ie,ge){return P===n||Vc(P,Ch[ie])&&!Ta.call(ge,ie)?j:P}function lb(P,j,ie,ge,Le,Qe){return jo(P)&&jo(j)&&(Qe.set(j,P),nt(P,j,n,lb,Qe),Qe.delete(j)),P}function cb(P){return Vu(P)?n:P}function rv(P,j,ie,ge,Le,Qe){var St=ie&v,Nt=P.length,Zt=j.length;if(Nt!=Zt&&!(St&&Zt>Nt))return!1;var Gn=Qe.get(P),Wn=Qe.get(j);if(Gn&&Wn)return Gn==j&&Wn==P;var er=-1,Ar=!0,Ur=ie&x?new pf:n;for(Qe.set(P,j),Qe.set(j,P);++er<Nt;){var yi=P[er],_a=j[er];if(ge)var bi=St?ge(_a,yi,er,j,P,Qe):ge(yi,_a,er,P,j,Qe);if(bi!==n){if(bi)continue;Ar=!1;break}if(Ur){if(!$d(j,function(Ba,Ja){if(!_p(Ur,Ja)&&(yi===Ba||Le(yi,Ba,ie,ge,Qe)))return Ur.push(Ja)})){Ar=!1;break}}else if(!(yi===_a||Le(yi,_a,ie,ge,Qe))){Ar=!1;break}}return Qe.delete(P),Qe.delete(j),Ar}function lu(P,j,ie,ge,Le,Qe,St){switch(ie){case kn:if(P.byteLength!=j.byteLength||P.byteOffset!=j.byteOffset)return!1;P=P.buffer,j=j.buffer;case Cn:return!(P.byteLength!=j.byteLength||!Qe(new Mh(P),new Mh(j)));case ze:case Ze:case rt:return Vc(+P,+j);case Ue:return P.name==j.name&&P.message==j.message;case Jt:case Ft:return P==j+"";case We:var Nt=xp;case xt:var Zt=ge&v;if(Nt||(Nt=Dg),P.size!=j.size&&!Zt)return!1;var Gn=St.get(P);if(Gn)return Gn==j;ge|=x,St.set(P,j);var Wn=rv(Nt(P),Nt(j),ge,Le,Qe,St);return St.delete(P),Wn;case Lt:if(Bd)return Bd.call(P)==Bd.call(j)}return!1}function Sl(P,j,ie,ge,Le,Qe){var St=ie&v,Nt=ub(P),Zt=Nt.length,Gn=ub(j),Wn=Gn.length;if(Zt!=Wn&&!St)return!1;for(var er=Zt;er--;){var Ar=Nt[er];if(!(St?Ar in j:Ta.call(j,Ar)))return!1}var Ur=Qe.get(P),yi=Qe.get(j);if(Ur&&yi)return Ur==j&&yi==P;var _a=!0;Qe.set(P,j),Qe.set(j,P);for(var bi=St;++er<Zt;){Ar=Nt[er];var Ba=P[Ar],Ja=j[Ar];if(ge)var ep=St?ge(Ja,Ba,Ar,j,P,Qe):ge(Ba,Ja,Ar,P,j,Qe);if(!(ep===n?Ba===Ja||Le(Ba,Ja,ie,ge,Qe):ep)){_a=!1;break}bi||(bi=Ar=="constructor")}if(_a&&!bi){var gd=P.constructor,tp=j.constructor;gd!=tp&&"constructor"in P&&"constructor"in j&&!(typeof gd=="function"&&gd instanceof gd&&typeof tp=="function"&&tp instanceof tp)&&(_a=!1)}return Qe.delete(P),Qe.delete(j),_a}function Do(P){return sv($p(P,n,fu),P+"")}function ub(P){return Zm(P,dt,jh)}function N0(P){return Zm(P,Wt,db)}var fb=zd?function(P){return zd.get(P)}:Sr;function D0(P){for(var j=P.name+"",ie=Nc[j],ge=Ta.call(Nc,j)?ie.length:0;ge--;){var Le=ie[ge],Qe=Le.func;if(Qe==null||Qe==P)return Le.name}return j}function Xg(P){var j=Ta.call(Ve,"placeholder")?Ve:P;return j.placeholder}function Yr(){var P=Ve.iteratee||ni;return P=P===ni?ve:P,arguments.length?P(arguments[0],arguments[1]):P}function Ip(P,j){var ie=P.__data__;return cu(j)?ie[typeof j=="string"?"string":"hash"]:ie.map}function iv(P){for(var j=dt(P),ie=j.length;ie--;){var ge=j[ie],Le=P[ge];j[ie]=[ge,Le,e_(Le)]}return j}function Bh(P,j){var ie=Lg(P,j);return W(ie)?ie:n}function Pp(P){var j=Ta.call(P,ll),ie=P[ll];try{P[ll]=n;var ge=!0}catch{}var Le=sl.call(P);return ge&&(j?P[ll]=ie:delete P[ll]),Le}var jh=au?function(P){return P==null?[]:(P=la(P),Dl(au(P),function(j){return cf.call(P,j)}))}:ek,db=au?function(P){for(var j=[];P;)Ou(j,jh(P)),P=lf(P);return j}:ek,Hl=ji;(kh&&Hl(new kh(new ArrayBuffer(1)))!=kn||ys&&Hl(new ys)!=We||xo&&Hl(xo.resolve())!=Rt||mi&&Hl(new mi)!=xt||Yl&&Hl(new Yl)!=hn)&&(Hl=function(P){var j=ji(P),ie=j==ft?P.constructor:n,ge=ie?Fh(ie):"";if(ge)switch(ge){case Wm:return kn;case qm:return We;case ff:return Rt;case Pu:return xt;case T0:return hn}return j});function Wx(P,j,ie){for(var ge=-1,Le=ie.length;++ge<Le;){var Qe=ie[ge],St=Qe.size;switch(Qe.type){case"drop":P+=St;break;case"dropRight":j-=St;break;case"take":j=Ko(j,P+St);break;case"takeRight":P=Ha(P,j-St);break}}return{start:P,end:j}}function Z1(P){var j=P.match(ln);return j?j[1].split(rn):[]}function z0(P,j,ie){j=Ms(j,P);for(var ge=-1,Le=j.length,Qe=!1;++ge<Le;){var St=oo(j[ge]);if(!(Qe=P!=null&&ie(P,St)))break;P=P[St]}return Qe||++ge!=Le?Qe:(Le=P==null?0:P.length,!!Le&&eh(Le)&&jc(St,Le)&&(oi(P)||Jd(P)))}function Q1(P){var j=P.length,ie=new P.constructor(j);return j&&typeof P[0]=="string"&&Ta.call(P,"index")&&(ie.index=P.index,ie.input=P.input),ie}function J1(P){return typeof P.constructor=="function"&&!Xa(P)?cl(lf(P)):{}}function B0(P,j,ie){var ge=P.constructor;switch(j){case Cn:return Ya(P);case ze:case Ze:return new ge(+P);case kn:return bs(P,ie);case sn:case un:case gn:case Qt:case Ln:case Gt:case He:case be:case we:return Qm(P,ie);case We:return new ge;case rt:case Ft:return new ge(P);case Jt:return za(P);case xt:return new ge;case Lt:return od(P)}}function qx(P,j){var ie=j.length;if(!ie)return P;var ge=ie-1;return j[ge]=(ie>1?"& ":"")+j[ge],j=j.join(ie>2?", ":" "),P.replace(Ht,`{
/* [wrapped with `+j+`] */
`)}function qd(P){return oi(P)||Jd(P)||!!(Bl&&P&&P[Bl])}function jc(P,j){var ie=typeof P;return j=j??oe,!!j&&(ie=="number"||ie!="symbol"&&Kr.test(P))&&P>-1&&P%1==0&&P<j}function Fc(P,j,ie){if(!jo(ie))return!1;var ge=typeof j;return(ge=="number"?pl(ie)&&jc(j,ie.length):ge=="string"&&j in ie)?Vc(ie[j],P):!1}function Xo(P,j){if(oi(P))return!1;var ie=typeof P;return ie=="number"||ie=="symbol"||ie=="boolean"||P==null||Uc(P)?!0:Dt.test(P)||!zt.test(P)||j!=null&&P in la(j)}function cu(P){var j=typeof P;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?P!=="__proto__":P===null}function j0(P){var j=D0(P),ie=Ve[j];if(typeof ie!="function"||!(j in Oi.prototype))return!1;if(P===ie)return!0;var ge=fb(ie);return!!ge&&P===ge[0]}function Zg(P){return!!Yi&&Yi in P}var Rp=of?mu:tk;function Xa(P){var j=P&&P.constructor,ie=typeof j=="function"&&j.prototype||Ch;return P===ie}function e_(P){return P===P&&!jo(P)}function t_(P,j){return function(ie){return ie==null?!1:ie[P]===j&&(j!==n||P in la(ie))}}function av(P){var j=J0(P,function(ge){return ie.size===c&&ie.clear(),ge}),ie=j.cache;return j}function Qg(P,j){var ie=P[1],ge=j[1],Le=ie|ge,Qe=Le<(w|C|D),St=ge==D&&ie==M||ge==D&&ie==H&&P[7].length<=j[8]||ge==(D|H)&&j[7].length<=j[8]&&ie==M;if(!(Qe||St))return P;ge&w&&(P[2]=j[2],Le|=ie&w?0:E);var Nt=j[3];if(Nt){var Zt=P[3];P[3]=Zt?Jm(Zt,Nt,j[4]):Nt,P[4]=Zt?nf(P[3],u):j[4]}return Nt=j[5],Nt&&(Zt=P[5],P[5]=Zt?ev(Zt,Nt,j[6]):Nt,P[6]=Zt?nf(P[5],u):j[6]),Nt=j[7],Nt&&(P[7]=Nt),ge&D&&(P[8]=P[8]==null?j[8]:Ko(P[8],j[8])),P[9]==null&&(P[9]=j[9]),P[0]=j[0],P[1]=Le,P}function ju(P){var j=[];if(P!=null)for(var ie in la(P))j.push(ie);return j}function F0(P){return sl.call(P)}function $p(P,j,ie){return j=Ha(j===n?P.length-1:j,0),function(){for(var ge=arguments,Le=-1,Qe=Ha(ge.length-j,0),St=pn(Qe);++Le<Qe;)St[Le]=ge[j+Le];Le=-1;for(var Nt=pn(j+1);++Le<j;)Nt[Le]=ge[Le];return Nt[j]=ie(St),pc(P,this,Nt)}}function Kd(P,j){return j.length<2?P:fl(P,Ni(j,0,-1))}function Yd(P,j){for(var ie=P.length,ge=Ko(j.length,ie),Le=So(P);ge--;){var Qe=j[ge];P[ge]=jc(Qe,ie)?Le[Qe]:n}return P}function H0(P,j){if(!(j==="constructor"&&typeof P[j]=="function")&&j!="__proto__")return P[j]}var Xd=Jg(ti),ov=Bg||function(P,j){return fo.setTimeout(P,j)},sv=Jg(Zi);function kp(P,j,ie){var ge=j+"";return sv(P,qx(ge,Kx(Z1(ge),ie)))}function Jg(P){var j=0,ie=0;return function(){var ge=uf(),Le=X-(ge-ie);if(ie=ge,Le>0){if(++j>=Q)return arguments[0]}else j=0;return P.apply(n,arguments)}}function lv(P,j){var ie=-1,ge=P.length,Le=ge-1;for(j=j===n?ge:j;++ie<j;){var Qe=bn(ie,Le),St=P[Qe];P[Qe]=P[ie],P[ie]=St}return P.length=j,P}var cd=av(function(P){var j=[];return P.charCodeAt(0)===46&&j.push(""),P.replace(Tt,function(ie,ge,Le,Qe){j.push(Le?Qe.replace(ir,"$1"):ge||ie)}),j});function oo(P){if(typeof P=="string"||Uc(P))return P;var j=P+"";return j=="0"&&1/P==-1/0?"-0":j}function Fh(P){if(P!=null){try{return sf.call(P)}catch{}try{return P+""}catch{}}return""}function Kx(P,j){return Wl(Se,function(ie){var ge="_."+ie[0];j&ie[1]&&!yp(P,ge)&&P.push(ge)}),P.sort()}function Cl(P){if(P instanceof Oi)return P.clone();var j=new Ka(P.__wrapped__,P.__chain__);return j.__actions__=So(P.__actions__),j.__index__=P.__index__,j.__values__=P.__values__,j}function Z2(P,j,ie){(ie?Fc(P,j,ie):j===n)?j=1:j=Ha(ui(j),0);var ge=P==null?0:P.length;if(!ge||j<1)return[];for(var Le=0,Qe=0,St=pn(Rh(ge/j));Le<ge;)St[Qe++]=Ni(P,Le,Le+=j);return St}function hb(P){for(var j=-1,ie=P==null?0:P.length,ge=0,Le=[];++j<ie;){var Qe=P[j];Qe&&(Le[ge++]=Qe)}return Le}function n_(){var P=arguments.length;if(!P)return[];for(var j=pn(P-1),ie=arguments[0],ge=P;ge--;)j[ge-1]=arguments[ge];return Ou(oi(ie)?So(ie):[ie],Xi(j,1))}var Zo=Mn(function(P,j){return go(P)?Ts(P,Xi(j,1,go,!0)):[]}),Hc=Mn(function(P,j){var ie=ec(j);return go(ie)&&(ie=n),go(P)?Ts(P,Xi(j,1,go,!0),Yr(ie,2)):[]}),ud=Mn(function(P,j){var ie=ec(j);return go(ie)&&(ie=n),go(P)?Ts(P,Xi(j,1,go,!0),n,ie):[]});function r_(P,j,ie){var ge=P==null?0:P.length;return ge?(j=ie||j===n?1:ui(j),Ni(P,j<0?0:j,ge)):[]}function i_(P,j,ie){var ge=P==null?0:P.length;return ge?(j=ie||j===n?1:ui(j),j=ge-j,Ni(P,0,j<0?0:j)):[]}function pb(P,j){return P&&P.length?bc(P,Yr(j,3),!0,!0):[]}function gb(P,j){return P&&P.length?bc(P,Yr(j,3),!0):[]}function uu(P,j,ie,ge){var Le=P==null?0:P.length;return Le?(ie&&typeof ie!="number"&&Fc(P,j,ie)&&(ie=0,ge=Le),Nr(P,j,ie,ge)):[]}function Fu(P,j,ie){var ge=P==null?0:P.length;if(!ge)return-1;var Le=ie==null?0:ui(ie);return Le<0&&(Le=Ha(ge+Le,0)),Ag(P,Yr(j,3),Le)}function em(P,j,ie){var ge=P==null?0:P.length;if(!ge)return-1;var Le=ge-1;return ie!==n&&(Le=ui(ie),Le=ie<0?Ha(ge+Le,0):Ko(Le,ge-1)),Ag(P,Yr(j,3),Le,!0)}function fu(P){var j=P==null?0:P.length;return j?Xi(P,1):[]}function mb(P){var j=P==null?0:P.length;return j?Xi(P,re):[]}function Cf(P,j){var ie=P==null?0:P.length;return ie?(j=j===n?1:ui(j),Xi(P,j)):[]}function Hh(P){for(var j=-1,ie=P==null?0:P.length,ge={};++j<ie;){var Le=P[j];ge[Le[0]]=Le[1]}return ge}function Vh(P){return P&&P.length?P[0]:n}function a_(P,j,ie){var ge=P==null?0:P.length;if(!ge)return-1;var Le=ie==null?0:ui(ie);return Le<0&&(Le=Ha(ge+Le,0)),Tu(P,j,Le)}function vb(P){var j=P==null?0:P.length;return j?Ni(P,0,-1):[]}var fd=Mn(function(P){var j=_o(P,zc);return j.length&&j[0]===P[0]?Wg(j):[]}),Yx=Mn(function(P){var j=ec(P),ie=_o(P,zc);return j===ec(ie)?j=n:ie.pop(),ie.length&&ie[0]===P[0]?Wg(ie,Yr(j,2)):[]}),cv=Mn(function(P){var j=ec(P),ie=_o(P,zc);return j=typeof j=="function"?j:n,j&&ie.pop(),ie.length&&ie[0]===P[0]?Wg(ie,n,j):[]});function Uh(P,j){return P==null?"":Kl.call(P,j)}function ec(P){var j=P==null?0:P.length;return j?P[j-1]:n}function uv(P,j,ie){var ge=P==null?0:P.length;if(!ge)return-1;var Le=ge;return ie!==n&&(Le=ui(ie),Le=Le<0?Ha(ge+Le,0):Ko(Le,ge-1)),j===j?ql(P,j,Le):Ag(P,bh,Le,!0)}function Xx(P,j){return P&&P.length?bt(P,ui(j)):n}var Zx=Mn(fv);function fv(P,j){return P&&P.length&&j&&j.length?en(P,j):P}function Qx(P,j,ie){return P&&P.length&&j&&j.length?en(P,j,Yr(ie,2)):P}function yb(P,j,ie){return P&&P.length&&j&&j.length?en(P,j,n,ie):P}var o_=Do(function(P,j){var ie=P==null?0:P.length,ge=nd(P,j);return Xt(P,_o(j,function(Le){return jc(Le,ie)?+Le:Le}).sort(Du)),ge});function s_(P,j){var ie=[];if(!(P&&P.length))return ie;var ge=-1,Le=[],Qe=P.length;for(j=Yr(j,3);++ge<Qe;){var St=P[ge];j(St,ge,P)&&(ie.push(St),Le.push(ge))}return Xt(P,Le),ie}function bb(P){return P==null?P:vc.call(P)}function so(P,j,ie){var ge=P==null?0:P.length;return ge?(ie&&typeof ie!="number"&&Fc(P,j,ie)?(j=0,ie=ge):(j=j==null?0:ui(j),ie=ie===n?ge:ui(ie)),Ni(P,j,ie)):[]}function zo(P,j){return Va(P,j)}function ua(P,j,ie){return wa(P,j,Yr(ie,2))}function fa(P,j){var ie=P==null?0:P.length;if(ie){var ge=Va(P,j);if(ge<ie&&Vc(P[ge],j))return ge}return-1}function po(P,j){return Va(P,j,!0)}function du(P,j,ie){return wa(P,j,Yr(ie,2),!0)}function Lp(P,j){var ie=P==null?0:P.length;if(ie){var ge=Va(P,j,!0)-1;if(Vc(P[ge],j))return ge}return-1}function dv(P){return P&&P.length?Da(P):[]}function l_(P,j){return P&&P.length?Da(P,Yr(j,2)):[]}function Zd(P){var j=P==null?0:P.length;return j?Ni(P,1,j):[]}function zs(P,j,ie){return P&&P.length?(j=ie||j===n?1:ui(j),Ni(P,0,j<0?0:j)):[]}function Np(P,j,ie){var ge=P==null?0:P.length;return ge?(j=ie||j===n?1:ui(j),j=ge-j,Ni(P,j<0?0:j,ge)):[]}function dd(P,j){return P&&P.length?bc(P,Yr(j,3),!1,!0):[]}function _b(P,j){return P&&P.length?bc(P,Yr(j,3)):[]}var hu=Mn(function(P){return wo(Xi(P,1,go,!0))}),tm=Mn(function(P){var j=ec(P);return go(j)&&(j=n),wo(Xi(P,1,go,!0),Yr(j,2))}),as=Mn(function(P){var j=ec(P);return j=typeof j=="function"?j:n,wo(Xi(P,1,go,!0),n,j)});function xc(P){return P&&P.length?wo(P):[]}function c_(P,j){return P&&P.length?wo(P,Yr(j,2)):[]}function xb(P,j){return j=typeof j=="function"?j:n,P&&P.length?wo(P,n,j):[]}function Dp(P){if(!(P&&P.length))return[];var j=0;return P=Dl(P,function(ie){if(go(ie))return j=Ha(ie.length,j),!0}),Wf(j,function(ie){return _o(P,Ig(ie))})}function nm(P,j){if(!(P&&P.length))return[];var ie=Dp(P);return j==null?ie:_o(ie,function(ge){return pc(j,n,ge)})}var zp=Mn(function(P,j){return go(P)?Ts(P,j):[]}),tc=Mn(function(P){return su(Dl(P,go))}),Bp=Mn(function(P){var j=ec(P);return go(j)&&(j=n),su(Dl(P,go),Yr(j,2))}),hv=Mn(function(P){var j=ec(P);return j=typeof j=="function"?j:n,su(Dl(P,go),n,j)}),rm=Mn(Dp);function nc(P,j){return ad(P||[],j||[],mf)}function V0(P,j){return ad(P||[],j||[],yr)}var u_=Mn(function(P){var j=P.length,ie=j>1?P[j-1]:n;return ie=typeof ie=="function"?(P.pop(),ie):n,nm(P,ie)});function Hu(P){var j=Ve(P);return j.__chain__=!0,j}function pv(P,j){return j(P),P}function hl(P,j){return j(P)}var im=Do(function(P){var j=P.length,ie=j?P[0]:0,ge=this.__wrapped__,Le=function(Qe){return nd(Qe,P)};return j>1||this.__actions__.length||!(ge instanceof Oi)||!jc(ie)?this.thru(Le):(ge=ge.slice(ie,+ie+(j?1:0)),ge.__actions__.push({func:hl,args:[Le],thisArg:n}),new Ka(ge,this.__chain__).thru(function(Qe){return j&&!Qe.length&&Qe.push(n),Qe}))});function wc(){return Hu(this)}function U0(){return new Ka(this.value(),this.__chain__)}function Jx(){this.__values__===n&&(this.__values__=vu(this.value()));var P=this.__index__>=this.__values__.length,j=P?n:this.__values__[this.__index__++];return{done:P,value:j}}function Q2(){return this}function Gh(P){for(var j,ie=this;ie instanceof xl;){var ge=Cl(ie);ge.__index__=0,ge.__values__=n,j?Le.__wrapped__=ge:j=ge;var Le=ge;ie=ie.__wrapped__}return Le.__wrapped__=P,j}function G0(){var P=this.__wrapped__;if(P instanceof Oi){var j=P;return this.__actions__.length&&(j=new Oi(this)),j=j.reverse(),j.__actions__.push({func:hl,args:[bb],thisArg:n}),new Ka(j,this.__chain__)}return this.thru(bb)}function f_(){return id(this.__wrapped__,this.__actions__)}var am=sd(function(P,j,ie){Ta.call(P,ie)?++P[ie]:Ds(P,ie,1)});function d_(P,j,ie){var ge=oi(P)?w0:$0;return ie&&Fc(P,j,ie)&&(j=n),ge(P,Yr(j,3))}function wb(P,j){var ie=oi(P)?Dl:Xr;return ie(P,Yr(j,3))}var Sb=Ud(Fu),h_=Ud(em);function Cb(P,j){return Xi(pu(P,j),1)}function J2(P,j){return Xi(pu(P,j),re)}function eC(P,j,ie){return ie=ie===n?1:ui(ie),Xi(pu(P,j),ie)}function ew(P,j){var ie=oi(P)?Wl:yf;return ie(P,Yr(j,3))}function p_(P,j){var ie=oi(P)?Eu:ul;return ie(P,Yr(j,3))}var tw=sd(function(P,j,ie){Ta.call(P,ie)?P[ie].push(j):Ds(P,ie,[j])});function om(P,j,ie,ge){P=pl(P)?P:_s(P),ie=ie&&!ge?ui(ie):0;var Le=P.length;return ie<0&&(ie=Ha(Le+ie,0)),ay(P)?ie<=Le&&P.indexOf(j,ie)>-1:!!Le&&Tu(P,j,ie)>-1}var W0=Mn(function(P,j,ie){var ge=-1,Le=typeof j=="function",Qe=pl(P)?pn(P.length):[];return yf(P,function(St){Qe[++ge]=Le?pc(j,St,ie):Lu(St,j,ie)}),Qe}),gv=sd(function(P,j,ie){Ds(P,ie,j)});function pu(P,j){var ie=oi(P)?_o:Be;return ie(P,Yr(j,3))}function Wh(P,j,ie,ge){return P==null?[]:(oi(j)||(j=j==null?[]:[j]),ie=ge?n:ie,oi(ie)||(ie=ie==null?[]:[ie]),wt(P,j,ie))}var g_=sd(function(P,j,ie){P[ie?0:1].push(j)},function(){return[[],[]]});function Eb(P,j,ie){var ge=oi(P)?nu:Pg,Le=arguments.length<3;return ge(P,Yr(j,4),ie,Le,yf)}function nw(P,j,ie){var ge=oi(P)?V1:Pg,Le=arguments.length<3;return ge(P,Yr(j,4),ie,Le,ul)}function Ob(P,j){var ie=oi(P)?Dl:Xr;return ie(P,ey(Yr(j,3)))}function q0(P){var j=oi(P)?Ep:Zn;return j(P)}function Tb(P,j,ie){(ie?Fc(P,j,ie):j===n)?j=1:j=ui(j);var ge=oi(P)?gf:Nn;return ge(P,j)}function Bo(P){var j=oi(P)?ho:vi;return j(P)}function K0(P){if(P==null)return 0;if(pl(P))return ay(P)?rf(P):P.length;var j=Hl(P);return j==We||j==xt?P.size:Ee(P).length}function m_(P,j,ie){var ge=oi(P)?$d:ao;return ie&&Fc(P,j,ie)&&(j=n),ge(P,Yr(j,3))}var sm=Mn(function(P,j){if(P==null)return[];var ie=j.length;return ie>1&&Fc(P,j[0],j[1])?j=[]:ie>2&&Fc(j[0],j[1],j[2])&&(j=[j[0]]),wt(P,Xi(j,1),[])}),Y0=Ph||function(){return fo.Date.now()};function rw(P,j){if(typeof j!="function")throw new zl(s);return P=ui(P),function(){if(--P<1)return j.apply(this,arguments)}}function Mb(P,j,ie){return j=ie?n:j,j=P&&j==null?P.length:j,Wd(P,D,n,n,n,n,j)}function mv(P,j){var ie;if(typeof j!="function")throw new zl(s);return P=ui(P),function(){return--P>0&&(ie=j.apply(this,arguments)),P<=1&&(j=n),ie}}var hd=Mn(function(P,j,ie){var ge=w;if(ie.length){var Le=nf(ie,Xg(hd));ge|=L}return Wd(P,ge,j,ie,Le)}),X0=Mn(function(P,j,ie){var ge=w|C;if(ie.length){var Le=nf(ie,Xg(X0));ge|=L}return Wd(j,ge,P,ie,Le)});function Z0(P,j,ie){j=ie?n:j;var ge=Wd(P,M,n,n,n,n,n,j);return ge.placeholder=Z0.placeholder,ge}function Ab(P,j,ie){j=ie?n:j;var ge=Wd(P,R,n,n,n,n,n,j);return ge.placeholder=Ab.placeholder,ge}function qh(P,j,ie){var ge,Le,Qe,St,Nt,Zt,Gn=0,Wn=!1,er=!1,Ar=!0;if(typeof P!="function")throw new zl(s);j=bu(j)||0,jo(ie)&&(Wn=!!ie.leading,er="maxWait"in ie,Qe=er?Ha(bu(ie.maxWait)||0,j):Qe,Ar="trailing"in ie?!!ie.trailing:Ar);function Ur(ic){var dm=ge,ly=Le;return ge=Le=n,Gn=ic,St=P.apply(ly,dm),St}function yi(ic){return Gn=ic,Nt=ov(Ba,j),Wn?Ur(ic):St}function _a(ic){var dm=ic-Zt,ly=ic-Gn,Pj=j-dm;return er?Ko(Pj,Qe-ly):Pj}function bi(ic){var dm=ic-Zt,ly=ic-Gn;return Zt===n||dm>=j||dm<0||er&&ly>=Qe}function Ba(){var ic=Y0();if(bi(ic))return Ja(ic);Nt=ov(Ba,_a(ic))}function Ja(ic){return Nt=n,Ar&&ge?Ur(ic):(ge=Le=n,St)}function ep(){Nt!==n&&Vd(Nt),Gn=0,ge=Zt=Le=Nt=n}function gd(){return Nt===n?St:Ja(Y0())}function tp(){var ic=Y0(),dm=bi(ic);if(ge=arguments,Le=this,Zt=ic,dm){if(Nt===n)return yi(Zt);if(er)return Vd(Nt),Nt=ov(Ba,j),Ur(Zt)}return Nt===n&&(Nt=ov(Ba,j)),St}return tp.cancel=ep,tp.flush=gd,tp}var Qd=Mn(function(P,j){return rd(P,1,j)}),Q0=Mn(function(P,j,ie){return rd(P,bu(j)||0,ie)});function tC(P){return Wd(P,U)}function J0(P,j){if(typeof P!="function"||j!=null&&typeof j!="function")throw new zl(s);var ie=function(){var ge=arguments,Le=j?j.apply(this,ge):ge[0],Qe=ie.cache;if(Qe.has(Le))return Qe.get(Le);var St=P.apply(this,ge);return ie.cache=Qe.set(Le,St)||Qe,St};return ie.cache=new(J0.Cache||Xl),ie}J0.Cache=Xl;function ey(P){if(typeof P!="function")throw new zl(s);return function(){var j=arguments;switch(j.length){case 0:return!P.call(this);case 1:return!P.call(this,j[0]);case 2:return!P.call(this,j[0],j[1]);case 3:return!P.call(this,j[0],j[1],j[2])}return!P.apply(this,j)}}function Ib(P){return mv(2,P)}var Kh=xf(function(P,j){j=j.length==1&&oi(j[0])?_o(j[0],gc(Yr())):_o(Xi(j,1),gc(Yr()));var ie=j.length;return Mn(function(ge){for(var Le=-1,Qe=Ko(ge.length,ie);++Le<Qe;)ge[Le]=j[Le].call(this,ge[Le]);return pc(P,this,ge)})}),Pb=Mn(function(P,j){var ie=nf(j,Xg(Pb));return Wd(P,L,n,j,ie)}),ty=Mn(function(P,j){var ie=nf(j,Xg(ty));return Wd(P,N,n,j,ie)}),v_=Do(function(P,j){return Wd(P,H,n,n,n,j)});function y_(P,j){if(typeof P!="function")throw new zl(s);return j=j===n?j:ui(j),Mn(P,j)}function iw(P,j){if(typeof P!="function")throw new zl(s);return j=j==null?0:Ha(ui(j),0),Mn(function(ie){var ge=ie[j],Le=_c(ie,0,j);return ge&&Ou(Le,ge),pc(P,this,Le)})}function ny(P,j,ie){var ge=!0,Le=!0;if(typeof P!="function")throw new zl(s);return jo(ie)&&(ge="leading"in ie?!!ie.leading:ge,Le="trailing"in ie?!!ie.trailing:Le),qh(P,j,{leading:ge,maxWait:j,trailing:Le})}function Rb(P){return Mb(P,1)}function ry(P,j){return Pb(Bc(j),P)}function aw(){if(!arguments.length)return[];var P=arguments[0];return oi(P)?P:[P]}function lm(P){return wr(P,g)}function ow(P,j){return j=typeof j=="function"?j:n,wr(P,g,j)}function gu(P){return wr(P,d|g)}function Fi(P,j){return j=typeof j=="function"?j:n,wr(P,d|g,j)}function $b(P,j){return j==null||Vg(P,j,dt(j))}function Vc(P,j){return P===j||P!==P&&j!==j}var kb=Yg(ku),b_=Yg(function(P,j){return P>=j}),Jd=Op(function(){return arguments}())?Op:function(P){return Qo(P)&&Ta.call(P,"callee")&&!cf.call(P,"callee")},oi=pn.isArray,Lb=hc?gc(hc):z;function pl(P){return P!=null&&eh(P.length)&&!mu(P)}function go(P){return Qo(P)&&pl(P)}function sw(P){return P===!0||P===!1||Qo(P)&&ji(P)==ze}var Yh=$h||tk,__=yh?gc(yh):f;function x_(P){return Qo(P)&&P.nodeType===1&&!Vu(P)}function Nb(P){if(P==null)return!0;if(pl(P)&&(oi(P)||typeof P=="string"||typeof P.splice=="function"||Yh(P)||um(P)||Jd(P)))return!P.length;var j=Hl(P);if(j==We||j==xt)return!P.size;if(Xa(P))return!Ee(P).length;for(var ie in P)if(Ta.call(P,ie))return!1;return!0}function Eo(P,j){return y(P,j)}function Db(P,j,ie){ie=typeof ie=="function"?ie:n;var ge=ie?ie(P,j):n;return ge===n?y(P,j,n,ie):!!ge}function Is(P){if(!Qo(P))return!1;var j=ji(P);return j==Ue||j==st||typeof P.message=="string"&&typeof P.name=="string"&&!Vu(P)}function lw(P){return typeof P=="number"&&Dd(P)}function mu(P){if(!jo(P))return!1;var j=ji(P);return j==Ne||j==qe||j==Fe||j==Yt}function iy(P){return typeof P=="number"&&P==ui(P)}function eh(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=oe}function jo(P){var j=typeof P;return P!=null&&(j=="object"||j=="function")}function Qo(P){return P!=null&&typeof P=="object"}var zb=zm?gc(zm):$;function w_(P,j){return P===j||F(P,j,iv(j))}function nC(P,j,ie){return ie=typeof ie=="function"?ie:n,F(P,j,iv(j),ie)}function cm(P){return C_(P)&&P!=+P}function Vl(P){if(Rp(P))throw new jr(a);return W(P)}function Xh(P){return P===null}function S_(P){return P==null}function C_(P){return typeof P=="number"||Qo(P)&&ji(P)==rt}function Vu(P){if(!Qo(P)||ji(P)!=ft)return!1;var j=lf(P);if(j===null)return!0;var ie=Ta.call(j,"constructor")&&j.constructor;return typeof ie=="function"&&ie instanceof ie&&sf.call(ie)==mc}var vv=x0?gc(x0):ne;function E_(P){return iy(P)&&P>=-9007199254740991&&P<=oe}var O_=ef?gc(ef):se;function ay(P){return typeof P=="string"||!oi(P)&&Qo(P)&&ji(P)==Ft}function Uc(P){return typeof P=="symbol"||Qo(P)&&ji(P)==Lt}var um=Bm?gc(Bm):de;function Uu(P){return P===n}function oy(P){return Qo(P)&&Hl(P)==hn}function T_(P){return Qo(P)&&ji(P)==dn}var yv=Yg(ke),fm=Yg(function(P,j){return P<=j});function vu(P){if(!P)return[];if(pl(P))return ay(P)?ru(P):So(P);if(Nd&&P[Nd])return Mu(P[Nd]());var j=Hl(P),ie=j==We?xp:j==xt?Dg:_s;return ie(P)}function Ef(P){if(!P)return P===0?P:0;if(P=bu(P),P===re||P===-1/0){var j=P<0?-1:1;return j*ce}return P===P?P:0}function ui(P){var j=Ef(P),ie=j%1;return j===j?ie?j-ie:j:0}function yu(P){return P?vr(ui(P),0,pe):0}function bu(P){if(typeof P=="number")return P;if(Uc(P))return le;if(jo(P)){var j=typeof P.valueOf=="function"?P.valueOf():P;P=jo(j)?j+"":j}if(typeof P!="string")return P===0?P:+P;P=$g(P);var ie=$r.test(P);return ie||li.test(P)?Nm(P.slice(2),ie?2:8):Cr.test(P)?le:+P}function Bb(P){return As(P,Wt(P))}function jp(P){return P?vr(ui(P),-9007199254740991,oe):P===0?P:0}function Za(P){return P==null?"":Aa(P)}var b=wf(function(P,j){if(Xa(j)||pl(j)){As(j,dt(j),P);return}for(var ie in j)Ta.call(j,ie)&&mf(P,ie,j[ie])}),p=wf(function(P,j){As(j,Wt(j),P)}),_=wf(function(P,j,ie,ge){As(j,Wt(j),P,ge)}),O=wf(function(P,j,ie,ge){As(j,dt(j),P,ge)}),k=Do(nd);function V(P,j){var ie=cl(P);return j==null?ie:ou(ie,j)}var G=Mn(function(P,j){P=la(P);var ie=-1,ge=j.length,Le=ge>2?j[2]:n;for(Le&&Fc(j[0],j[1],Le)&&(ge=1);++ie<ge;)for(var Qe=j[ie],St=Wt(Qe),Nt=-1,Zt=St.length;++Nt<Zt;){var Gn=St[Nt],Wn=P[Gn];(Wn===n||Vc(Wn,Ch[Gn])&&!Ta.call(P,Gn))&&(P[Gn]=Qe[Gn])}return P}),Y=Mn(function(P){return P.push(n,lb),pc(Vn,n,P)});function ae(P,j){return Mg(P,Yr(j,3),Xs)}function fe(P,j){return Mg(P,Yr(j,3),_f)}function he(P,j){return P==null?P:bf(P,Yr(j,3),Wt)}function me(P,j){return P==null?P:Fl(P,Yr(j,3),Wt)}function Oe(P,j){return P&&Xs(P,Yr(j,3))}function Ae(P,j){return P&&_f(P,Yr(j,3))}function $e(P){return P==null?[]:$u(P,dt(P))}function De(P){return P==null?[]:$u(P,Wt(P))}function Xe(P,j,ie){var ge=P==null?n:fl(P,j);return ge===n?ie:ge}function at(P,j){return P!=null&&z0(P,j,Ug)}function Ot(P,j){return P!=null&&z0(P,j,Gg)}var gt=k0(function(P,j,ie){j!=null&&typeof j.toString!="function"&&(j=sl.call(j)),P[j]=ie},an(on)),Me=k0(function(P,j,ie){j!=null&&typeof j.toString!="function"&&(j=sl.call(j)),Ta.call(P,j)?P[j].push(ie):P[j]=[ie]},Yr),Ke=Mn(Lu);function dt(P){return pl(P)?R0(P):Ee(P)}function Wt(P){return pl(P)?R0(P,!0):Ce(P)}function jn(P,j){var ie={};return j=Yr(j,3),Xs(P,function(ge,Le,Qe){Ds(ie,j(ge,Le,Qe),ge)}),ie}function cn(P,j){var ie={};return j=Yr(j,3),Xs(P,function(ge,Le,Qe){Ds(ie,Le,j(ge,Le,Qe))}),ie}var yn=wf(function(P,j,ie){nt(P,j,ie)}),Vn=wf(function(P,j,ie,ge){nt(P,j,ie,ge)}),Bn=Do(function(P,j){var ie={};if(P==null)return ie;var ge=!1;j=_o(j,function(Qe){return Qe=Ms(Qe,P),ge||(ge=Qe.length>1),Qe}),As(P,N0(P),ie),ge&&(ie=wr(ie,d|h|g,cb));for(var Le=j.length;Le--;)dl(ie,j[Le]);return ie});function Kn(P,j){return dr(P,ey(Yr(j)))}var Sn=Do(function(P,j){return P==null?{}:Et(P,j)});function dr(P,j){if(P==null)return{};var ie=_o(N0(P),function(ge){return[ge]});return j=Yr(j),Pt(P,ie,function(ge,Le){return j(ge,Le[0])})}function Fr(P,j,ie){j=Ms(j,P);var ge=-1,Le=j.length;for(Le||(Le=1,P=n);++ge<Le;){var Qe=P==null?n:P[oo(j[ge])];Qe===n&&(ge=Le,Qe=ie),P=mu(Qe)?Qe.call(P):Qe}return P}function kr(P,j,ie){return P==null?P:yr(P,j,ie)}function Mr(P,j,ie,ge){return ge=typeof ge=="function"?ge:n,P==null?P:yr(P,j,ie,ge)}var Di=tv(dt),Fo=tv(Wt);function Ps(P,j,ie){var ge=oi(P),Le=ge||Yh(P)||um(P);if(j=Yr(j,4),ie==null){var Qe=P&&P.constructor;Le?ie=ge?new Qe:[]:jo(P)?ie=mu(Qe)?cl(lf(P)):{}:ie={}}return(Le?Wl:Xs)(P,function(St,Nt,Zt){return j(ie,St,Nt,Zt)}),ie}function El(P,j){return P==null?!0:dl(P,j)}function Sc(P,j,ie){return P==null?P:Nu(P,j,Bc(ie))}function Gc(P,j,ie,ge){return ge=typeof ge=="function"?ge:n,P==null?P:Nu(P,j,Bc(ie),ge)}function _s(P){return P==null?[]:kd(P,dt(P))}function Oo(P){return P==null?[]:kd(P,Wt(P))}function Bs(P,j,ie){return ie===n&&(ie=j,j=n),ie!==n&&(ie=bu(ie),ie=ie===ie?ie:0),j!==n&&(j=bu(j),j=j===j?j:0),vr(bu(P),j,ie)}function js(P,j,ie){return j=Ef(j),ie===n?(ie=j,j=0):ie=Ef(ie),P=bu(P),Hd(P,j,ie)}function Zs(P,j,ie){if(ie&&typeof ie!="boolean"&&Fc(P,j,ie)&&(j=ie=n),ie===n&&(typeof j=="boolean"?(ie=j,j=n):typeof P=="boolean"&&(ie=P,P=n)),P===n&&j===n?(P=0,j=1):(P=Ef(P),j===n?(j=P,P=0):j=Ef(j)),P>j){var ge=P;P=j,j=ge}if(ie||P%1||j%1){var Le=Zf();return Ko(P+Le*(j-P+Uf("1e-"+((Le+"").length-1))),j)}return bn(P,j)}var rc=Jl(function(P,j,ie){return j=j.toLowerCase(),P+(ie?Cc(j):j)});function Cc(P){return B(Za(P).toLowerCase())}function To(P){return P=Za(P),P&&P.replace($n,kg).replace(nr,"")}function Fs(P,j,ie){P=Za(P),j=Aa(j);var ge=P.length;ie=ie===n?ge:vr(ui(ie),0,ge);var Le=ie;return ie-=j.length,ie>=0&&P.slice(ie,Le)==j}function Mo(P){return P=Za(P),P&&jt.test(P)?P.replace(_t,Hm):P}function xs(P){return P=Za(P),P&&Bt.test(P)?P.replace(xn,"\\$&"):P}var ws=Jl(function(P,j,ie){return P+(ie?"-":"")+j.toLowerCase()}),mo=Jl(function(P,j,ie){return P+(ie?" ":"")+j.toLowerCase()}),Ao=Bu("toLowerCase");function Of(P,j,ie){P=Za(P),j=ui(j);var ge=j?rf(P):0;if(!j||ge>=j)return P;var Le=(j-ge)/2;return Ap(Iu(Le),ie)+P+Ap(Rh(Le),ie)}function th(P,j,ie){P=Za(P),j=ui(j);var ge=j?rf(P):0;return j&&ge<j?P+Ap(j-ge,ie):P}function pd(P,j,ie){P=Za(P),j=ui(j);var ge=j?rf(P):0;return j&&ge<j?Ap(j-ge,ie)+P:P}function cw(P,j,ie){return ie||j==null?j=0:j&&(j=+j),io(Za(P).replace(nn,""),j||0)}function Zh(P,j,ie){return(ie?Fc(P,j,ie):j===n)?j=1:j=ui(j),vn(Za(P),j)}function Fp(){var P=arguments,j=Za(P[0]);return P.length<3?j:j.replace(P[1],P[2])}var bv=Jl(function(P,j,ie){return P+(ie?"_":"")+j.toLowerCase()});function Qh(P,j,ie){return ie&&typeof ie!="number"&&Fc(P,j,ie)&&(j=ie=n),ie=ie===n?pe:ie>>>0,ie?(P=Za(P),P&&(typeof j=="string"||j!=null&&!vv(j))&&(j=Aa(j),!j&&qf(P))?_c(ru(P),0,ie):P.split(j,ie)):[]}var Jh=Jl(function(P,j,ie){return P+(ie?" ":"")+B(j)});function M_(P,j,ie){return P=Za(P),ie=ie==null?0:vr(ui(ie),0,P.length),j=Aa(j),P.slice(ie,ie+j.length)==j}function _v(P,j,ie){var ge=Ve.templateSettings;ie&&Fc(P,j,ie)&&(j=n),P=Za(P),j=_({},j,ge,nv);var Le=_({},j.imports,ge.imports,nv),Qe=dt(Le),St=kd(Le,Qe),Nt,Zt,Gn=0,Wn=j.interpolate||sr,er="__p += '",Ar=af((j.escape||sr).source+"|"+Wn.source+"|"+(Wn===It?Dn:sr).source+"|"+(j.evaluate||sr).source+"|$","g"),Ur="//# sourceURL="+(Ta.call(j,"sourceURL")?(j.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pi+"]")+`
`;P.replace(Ar,function(bi,Ba,Ja,ep,gd,tp){return Ja||(Ja=ep),er+=P.slice(Gn,tp).replace(tr,Vm),Ba&&(Nt=!0,er+=`' +
__e(`+Ba+`) +
'`),gd&&(Zt=!0,er+=`';
`+gd+`;
__p += '`),Ja&&(er+=`' +
((__t = (`+Ja+`)) == null ? '' : __t) +
'`),Gn=tp+bi.length,bi}),er+=`';
`;var yi=Ta.call(j,"variable")&&j.variable;if(!yi)er=`with (obj) {
`+er+`
}
`;else if(Un.test(yi))throw new jr(o);er=(Zt?er.replace(xe,""):er).replace(Ye,"$1").replace(lt,"$1;"),er="function("+(yi||"obj")+`) {
`+(yi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Nt?", __e = _.escape":"")+(Zt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+er+`return __p
}`;var _a=ue(function(){return ya(Qe,Ur+"return "+er).apply(n,St)});if(_a.source=er,Is(_a))throw _a;return _a}function jb(P){return Za(P).toLowerCase()}function sy(P){return Za(P).toUpperCase()}function Fb(P,j,ie){if(P=Za(P),P&&(ie||j===n))return $g(P);if(!P||!(j=Aa(j)))return P;var ge=ru(P),Le=ru(j),Qe=tf(ge,Le),St=wh(ge,Le)+1;return _c(ge,Qe,St).join("")}function A_(P,j,ie){if(P=Za(P),P&&(ie||j===n))return P.slice(0,C0(P)+1);if(!P||!(j=Aa(j)))return P;var ge=ru(P),Le=wh(ge,ru(j))+1;return _c(ge,0,Le).join("")}function Tf(P,j,ie){if(P=Za(P),P&&(ie||j===n))return P.replace(nn,"");if(!P||!(j=Aa(j)))return P;var ge=ru(P),Le=tf(ge,ru(j));return _c(ge,Le).join("")}function m(P,j){var ie=q,ge=K;if(jo(j)){var Le="separator"in j?j.separator:Le;ie="length"in j?ui(j.length):ie,ge="omission"in j?Aa(j.omission):ge}P=Za(P);var Qe=P.length;if(qf(P)){var St=ru(P);Qe=St.length}if(ie>=Qe)return P;var Nt=ie-rf(ge);if(Nt<1)return ge;var Zt=St?_c(St,0,Nt).join(""):P.slice(0,Nt);if(Le===n)return Zt+ge;if(St&&(Nt+=Zt.length-Nt),vv(Le)){if(P.slice(Nt).search(Le)){var Gn,Wn=Zt;for(Le.global||(Le=af(Le.source,Za(Er.exec(Le))+"g")),Le.lastIndex=0;Gn=Le.exec(Wn);)var er=Gn.index;Zt=Zt.slice(0,er===n?Nt:er)}}else if(P.indexOf(Aa(Le),Nt)!=Nt){var Ar=Zt.lastIndexOf(Le);Ar>-1&&(Zt=Zt.slice(0,Ar))}return Zt+ge}function S(P){return P=Za(P),P&&yt.test(P)?P.replace(ct,ib):P}var A=Jl(function(P,j,ie){return P+(ie?" ":"")+j.toUpperCase()}),B=Bu("toUpperCase");function J(P,j,ie){return P=Za(P),j=ie?n:j,j===n?Ng(P)?ab(P):nb(P):P.match(j)||[]}var ue=Mn(function(P,j){try{return pc(P,n,j)}catch(ie){return Is(ie)?ie:new jr(ie)}}),Ie=Do(function(P,j){return Wl(j,function(ie){ie=oo(ie),Ds(P,ie,hd(P[ie],P))}),P});function Ge(P){var j=P==null?0:P.length,ie=Yr();return P=j?_o(P,function(ge){if(typeof ge[1]!="function")throw new zl(s);return[ie(ge[0]),ge[1]]}):[],Mn(function(ge){for(var Le=-1;++Le<j;){var Qe=P[Le];if(pc(Qe[0],this,ge))return pc(Qe[1],this,ge)}})}function Ct(P){return Hg(wr(P,d))}function an(P){return function(){return P}}function An(P,j){return P==null||P!==P?j:P}var Hn=ld(),fn=ld(!0);function on(P){return P}function ni(P){return ve(typeof P=="function"?P:wr(P,d))}function Qr(P){return tt(wr(P,d))}function Ri(P,j){return Je(P,wr(j,d))}var Ut=Mn(function(P,j){return function(ie){return Lu(ie,P,j)}}),kt=Mn(function(P,j){return function(ie){return Lu(P,ie,j)}});function qt(P,j,ie){var ge=dt(j),Le=$u(j,ge);ie==null&&!(jo(j)&&(Le.length||!ge.length))&&(ie=j,j=P,P=this,Le=$u(j,dt(j)));var Qe=!(jo(ie)&&"chain"in ie)||!!ie.chain,St=mu(P);return Wl(Le,function(Nt){var Zt=j[Nt];P[Nt]=Zt,St&&(P.prototype[Nt]=function(){var Gn=this.__chain__;if(Qe||Gn){var Wn=P(this.__wrapped__),er=Wn.__actions__=So(this.__actions__);return er.push({func:Zt,args:arguments,thisArg:P}),Wn.__chain__=Gn,Wn}return Zt.apply(P,Ou([this.value()],arguments))})}),P}function zn(){return fo._===this&&(fo._=Eh),this}function Sr(){}function ba(P){return P=ui(P),Mn(function(j){return bt(j,P)})}var Gr=Mp(_o),si=Mp(w0),Ec=Mp($d);function Qa(P){return Xo(P)?Ig(oo(P)):Mt(P)}function xv(P){return function(j){return P==null?n:fl(P,j)}}var J$=zh(),nhe=zh(!0);function ek(){return[]}function tk(){return!1}function rhe(){return{}}function ihe(){return""}function ahe(){return!0}function ohe(P,j){if(P=ui(P),P<1||P>oe)return[];var ie=pe,ge=Ko(P,pe);j=Yr(j),P-=pe;for(var Le=Wf(ge,j);++ie<P;)j(ie);return Le}function she(P){return oi(P)?_o(P,oo):Uc(P)?[P]:So(cd(Za(P)))}function lhe(P){var j=++Lc;return Za(P)+j}var che=Gd(function(P,j){return P+j},0),uhe=L0("ceil"),fhe=Gd(function(P,j){return P/j},1),dhe=L0("floor");function hhe(P){return P&&P.length?Ql(P,on,ku):n}function phe(P,j){return P&&P.length?Ql(P,Yr(j,2),ku):n}function ghe(P){return rb(P,on)}function mhe(P,j){return rb(P,Yr(j,2))}function vhe(P){return P&&P.length?Ql(P,on,ke):n}function yhe(P,j){return P&&P.length?Ql(P,Yr(j,2),ke):n}var bhe=Gd(function(P,j){return P*j},1),_he=L0("round"),xhe=Gd(function(P,j){return P-j},0);function whe(P){return P&&P.length?Rg(P,on):0}function She(P,j){return P&&P.length?Rg(P,Yr(j,2)):0}return Ve.after=rw,Ve.ary=Mb,Ve.assign=b,Ve.assignIn=p,Ve.assignInWith=_,Ve.assignWith=O,Ve.at=k,Ve.before=mv,Ve.bind=hd,Ve.bindAll=Ie,Ve.bindKey=X0,Ve.castArray=aw,Ve.chain=Hu,Ve.chunk=Z2,Ve.compact=hb,Ve.concat=n_,Ve.cond=Ge,Ve.conforms=Ct,Ve.constant=an,Ve.countBy=am,Ve.create=V,Ve.curry=Z0,Ve.curryRight=Ab,Ve.debounce=qh,Ve.defaults=G,Ve.defaultsDeep=Y,Ve.defer=Qd,Ve.delay=Q0,Ve.difference=Zo,Ve.differenceBy=Hc,Ve.differenceWith=ud,Ve.drop=r_,Ve.dropRight=i_,Ve.dropRightWhile=pb,Ve.dropWhile=gb,Ve.fill=uu,Ve.filter=wb,Ve.flatMap=Cb,Ve.flatMapDeep=J2,Ve.flatMapDepth=eC,Ve.flatten=fu,Ve.flattenDeep=mb,Ve.flattenDepth=Cf,Ve.flip=tC,Ve.flow=Hn,Ve.flowRight=fn,Ve.fromPairs=Hh,Ve.functions=$e,Ve.functionsIn=De,Ve.groupBy=tw,Ve.initial=vb,Ve.intersection=fd,Ve.intersectionBy=Yx,Ve.intersectionWith=cv,Ve.invert=gt,Ve.invertBy=Me,Ve.invokeMap=W0,Ve.iteratee=ni,Ve.keyBy=gv,Ve.keys=dt,Ve.keysIn=Wt,Ve.map=pu,Ve.mapKeys=jn,Ve.mapValues=cn,Ve.matches=Qr,Ve.matchesProperty=Ri,Ve.memoize=J0,Ve.merge=yn,Ve.mergeWith=Vn,Ve.method=Ut,Ve.methodOf=kt,Ve.mixin=qt,Ve.negate=ey,Ve.nthArg=ba,Ve.omit=Bn,Ve.omitBy=Kn,Ve.once=Ib,Ve.orderBy=Wh,Ve.over=Gr,Ve.overArgs=Kh,Ve.overEvery=si,Ve.overSome=Ec,Ve.partial=Pb,Ve.partialRight=ty,Ve.partition=g_,Ve.pick=Sn,Ve.pickBy=dr,Ve.property=Qa,Ve.propertyOf=xv,Ve.pull=Zx,Ve.pullAll=fv,Ve.pullAllBy=Qx,Ve.pullAllWith=yb,Ve.pullAt=o_,Ve.range=J$,Ve.rangeRight=nhe,Ve.rearg=v_,Ve.reject=Ob,Ve.remove=s_,Ve.rest=y_,Ve.reverse=bb,Ve.sampleSize=Tb,Ve.set=kr,Ve.setWith=Mr,Ve.shuffle=Bo,Ve.slice=so,Ve.sortBy=sm,Ve.sortedUniq=dv,Ve.sortedUniqBy=l_,Ve.split=Qh,Ve.spread=iw,Ve.tail=Zd,Ve.take=zs,Ve.takeRight=Np,Ve.takeRightWhile=dd,Ve.takeWhile=_b,Ve.tap=pv,Ve.throttle=ny,Ve.thru=hl,Ve.toArray=vu,Ve.toPairs=Di,Ve.toPairsIn=Fo,Ve.toPath=she,Ve.toPlainObject=Bb,Ve.transform=Ps,Ve.unary=Rb,Ve.union=hu,Ve.unionBy=tm,Ve.unionWith=as,Ve.uniq=xc,Ve.uniqBy=c_,Ve.uniqWith=xb,Ve.unset=El,Ve.unzip=Dp,Ve.unzipWith=nm,Ve.update=Sc,Ve.updateWith=Gc,Ve.values=_s,Ve.valuesIn=Oo,Ve.without=zp,Ve.words=J,Ve.wrap=ry,Ve.xor=tc,Ve.xorBy=Bp,Ve.xorWith=hv,Ve.zip=rm,Ve.zipObject=nc,Ve.zipObjectDeep=V0,Ve.zipWith=u_,Ve.entries=Di,Ve.entriesIn=Fo,Ve.extend=p,Ve.extendWith=_,qt(Ve,Ve),Ve.add=che,Ve.attempt=ue,Ve.camelCase=rc,Ve.capitalize=Cc,Ve.ceil=uhe,Ve.clamp=Bs,Ve.clone=lm,Ve.cloneDeep=gu,Ve.cloneDeepWith=Fi,Ve.cloneWith=ow,Ve.conformsTo=$b,Ve.deburr=To,Ve.defaultTo=An,Ve.divide=fhe,Ve.endsWith=Fs,Ve.eq=Vc,Ve.escape=Mo,Ve.escapeRegExp=xs,Ve.every=d_,Ve.find=Sb,Ve.findIndex=Fu,Ve.findKey=ae,Ve.findLast=h_,Ve.findLastIndex=em,Ve.findLastKey=fe,Ve.floor=dhe,Ve.forEach=ew,Ve.forEachRight=p_,Ve.forIn=he,Ve.forInRight=me,Ve.forOwn=Oe,Ve.forOwnRight=Ae,Ve.get=Xe,Ve.gt=kb,Ve.gte=b_,Ve.has=at,Ve.hasIn=Ot,Ve.head=Vh,Ve.identity=on,Ve.includes=om,Ve.indexOf=a_,Ve.inRange=js,Ve.invoke=Ke,Ve.isArguments=Jd,Ve.isArray=oi,Ve.isArrayBuffer=Lb,Ve.isArrayLike=pl,Ve.isArrayLikeObject=go,Ve.isBoolean=sw,Ve.isBuffer=Yh,Ve.isDate=__,Ve.isElement=x_,Ve.isEmpty=Nb,Ve.isEqual=Eo,Ve.isEqualWith=Db,Ve.isError=Is,Ve.isFinite=lw,Ve.isFunction=mu,Ve.isInteger=iy,Ve.isLength=eh,Ve.isMap=zb,Ve.isMatch=w_,Ve.isMatchWith=nC,Ve.isNaN=cm,Ve.isNative=Vl,Ve.isNil=S_,Ve.isNull=Xh,Ve.isNumber=C_,Ve.isObject=jo,Ve.isObjectLike=Qo,Ve.isPlainObject=Vu,Ve.isRegExp=vv,Ve.isSafeInteger=E_,Ve.isSet=O_,Ve.isString=ay,Ve.isSymbol=Uc,Ve.isTypedArray=um,Ve.isUndefined=Uu,Ve.isWeakMap=oy,Ve.isWeakSet=T_,Ve.join=Uh,Ve.kebabCase=ws,Ve.last=ec,Ve.lastIndexOf=uv,Ve.lowerCase=mo,Ve.lowerFirst=Ao,Ve.lt=yv,Ve.lte=fm,Ve.max=hhe,Ve.maxBy=phe,Ve.mean=ghe,Ve.meanBy=mhe,Ve.min=vhe,Ve.minBy=yhe,Ve.stubArray=ek,Ve.stubFalse=tk,Ve.stubObject=rhe,Ve.stubString=ihe,Ve.stubTrue=ahe,Ve.multiply=bhe,Ve.nth=Xx,Ve.noConflict=zn,Ve.noop=Sr,Ve.now=Y0,Ve.pad=Of,Ve.padEnd=th,Ve.padStart=pd,Ve.parseInt=cw,Ve.random=Zs,Ve.reduce=Eb,Ve.reduceRight=nw,Ve.repeat=Zh,Ve.replace=Fp,Ve.result=Fr,Ve.round=_he,Ve.runInContext=Vt,Ve.sample=q0,Ve.size=K0,Ve.snakeCase=bv,Ve.some=m_,Ve.sortedIndex=zo,Ve.sortedIndexBy=ua,Ve.sortedIndexOf=fa,Ve.sortedLastIndex=po,Ve.sortedLastIndexBy=du,Ve.sortedLastIndexOf=Lp,Ve.startCase=Jh,Ve.startsWith=M_,Ve.subtract=xhe,Ve.sum=whe,Ve.sumBy=She,Ve.template=_v,Ve.times=ohe,Ve.toFinite=Ef,Ve.toInteger=ui,Ve.toLength=yu,Ve.toLower=jb,Ve.toNumber=bu,Ve.toSafeInteger=jp,Ve.toString=Za,Ve.toUpper=sy,Ve.trim=Fb,Ve.trimEnd=A_,Ve.trimStart=Tf,Ve.truncate=m,Ve.unescape=S,Ve.uniqueId=lhe,Ve.upperCase=A,Ve.upperFirst=B,Ve.each=ew,Ve.eachRight=p_,Ve.first=Vh,qt(Ve,function(){var P={};return Xs(Ve,function(j,ie){Ta.call(Ve.prototype,ie)||(P[ie]=j)}),P}(),{chain:!1}),Ve.VERSION=r,Wl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(P){Ve[P].placeholder=Ve}),Wl(["drop","take"],function(P,j){Oi.prototype[P]=function(ie){ie=ie===n?1:Ha(ui(ie),0);var ge=this.__filtered__&&!j?new Oi(this):this.clone();return ge.__filtered__?ge.__takeCount__=Ko(ie,ge.__takeCount__):ge.__views__.push({size:Ko(ie,pe),type:P+(ge.__dir__<0?"Right":"")}),ge},Oi.prototype[P+"Right"]=function(ie){return this.reverse()[P](ie).reverse()}}),Wl(["filter","map","takeWhile"],function(P,j){var ie=j+1,ge=ie==te||ie==Z;Oi.prototype[P]=function(Le){var Qe=this.clone();return Qe.__iteratees__.push({iteratee:Yr(Le,3),type:ie}),Qe.__filtered__=Qe.__filtered__||ge,Qe}}),Wl(["head","last"],function(P,j){var ie="take"+(j?"Right":"");Oi.prototype[P]=function(){return this[ie](1).value()[0]}}),Wl(["initial","tail"],function(P,j){var ie="drop"+(j?"":"Right");Oi.prototype[P]=function(){return this.__filtered__?new Oi(this):this[ie](1)}}),Oi.prototype.compact=function(){return this.filter(on)},Oi.prototype.find=function(P){return this.filter(P).head()},Oi.prototype.findLast=function(P){return this.reverse().find(P)},Oi.prototype.invokeMap=Mn(function(P,j){return typeof P=="function"?new Oi(this):this.map(function(ie){return Lu(ie,P,j)})}),Oi.prototype.reject=function(P){return this.filter(ey(Yr(P)))},Oi.prototype.slice=function(P,j){P=ui(P);var ie=this;return ie.__filtered__&&(P>0||j<0)?new Oi(ie):(P<0?ie=ie.takeRight(-P):P&&(ie=ie.drop(P)),j!==n&&(j=ui(j),ie=j<0?ie.dropRight(-j):ie.take(j-P)),ie)},Oi.prototype.takeRightWhile=function(P){return this.reverse().takeWhile(P).reverse()},Oi.prototype.toArray=function(){return this.take(pe)},Xs(Oi.prototype,function(P,j){var ie=/^(?:filter|find|map|reject)|While$/.test(j),ge=/^(?:head|last)$/.test(j),Le=Ve[ge?"take"+(j=="last"?"Right":""):j],Qe=ge||/^find/.test(j);Le&&(Ve.prototype[j]=function(){var St=this.__wrapped__,Nt=ge?[1]:arguments,Zt=St instanceof Oi,Gn=Nt[0],Wn=Zt||oi(St),er=function(Ba){var Ja=Le.apply(Ve,Ou([Ba],Nt));return ge&&Ar?Ja[0]:Ja};Wn&&ie&&typeof Gn=="function"&&Gn.length!=1&&(Zt=Wn=!1);var Ar=this.__chain__,Ur=!!this.__actions__.length,yi=Qe&&!Ar,_a=Zt&&!Ur;if(!Qe&&Wn){St=_a?St:new Oi(this);var bi=P.apply(St,Nt);return bi.__actions__.push({func:hl,args:[er],thisArg:n}),new Ka(bi,Ar)}return yi&&_a?P.apply(this,Nt):(bi=this.thru(er),yi?ge?bi.value()[0]:bi.value():bi)})}),Wl(["pop","push","shift","sort","splice","unshift"],function(P){var j=Ld[P],ie=/^(?:push|sort|unshift)$/.test(P)?"tap":"thru",ge=/^(?:pop|shift)$/.test(P);Ve.prototype[P]=function(){var Le=arguments;if(ge&&!this.__chain__){var Qe=this.value();return j.apply(oi(Qe)?Qe:[],Le)}return this[ie](function(St){return j.apply(oi(St)?St:[],Le)})}}),Xs(Oi.prototype,function(P,j){var ie=Ve[j];if(ie){var ge=ie.name+"";Ta.call(Nc,ge)||(Nc[ge]=[]),Nc[ge].push({name:j,func:ie})}}),Nc[Co(n,C).name]=[{name:"wrapper",func:n}],Oi.prototype.clone=jl,Oi.prototype.reverse=Dc,Oi.prototype.value=jd,Ve.prototype.at=im,Ve.prototype.chain=wc,Ve.prototype.commit=U0,Ve.prototype.next=Jx,Ve.prototype.plant=Gh,Ve.prototype.reverse=G0,Ve.prototype.toJSON=Ve.prototype.valueOf=Ve.prototype.value=f_,Ve.prototype.first=Ve.prototype.head,Nd&&(Ve.prototype[Nd]=Q2),Ve},Au=Kf();Cu?((Cu.exports=Au)._=Au,vs._=Au):fo._=Au}).call(trt)}(WC,WC.exports)),WC.exports}var tn=nrt(),XL,rrt=function(){return XL||(XL=document.createElement("canvas").getContext("2d")),XL},irt=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};tn.memoize(function(e,t){t===void 0&&(t={});var n=t.fontSize,r=t.fontFamily,i=r===void 0?"sans-serif":r,a=t.fontWeight,s=t.fontStyle,o=t.fontVariant,l=rrt();return l.font=[s,a,o,"".concat(n,"px"),i].join(" "),l.measureText(tn.isString(e)?e:"")},function(e,t){return t===void 0&&(t={}),irt([e],tn.values(t),!0).join("")});var art=function(e){var t=/react|\.jsx|children:\[\(|return\s+[A-Za-z0-9].createElement\((?!['"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['"])([^\)])*,/i;return t.test(e)},S4=function(){return S4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},S4.apply(this,arguments)};function ort(e,t){var n=I.useRef(),r=I.useRef(),i=I.useRef(null),a=t.onReady,s=t.onEvent,o=function(u,d){var h;u===void 0&&(u="image/png");var g=(h=i.current)===null||h===void 0?void 0:h.getElementsByTagName("canvas")[0];return g?.toDataURL(u,d)},l=function(u,d,h){u===void 0&&(u="download"),d===void 0&&(d="image/png");var g=u;u.indexOf(".")===-1&&(g="".concat(u,".").concat(d.split("/")[1]));var v=o(d,h),x=document.createElement("a");return x.href=v,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),x=null,g},c=function(u,d){d===void 0&&(d=!1);var h=Object.keys(u),g=d;h.forEach(function(v){var x=u[v];v==="tooltip"&&(g=!0),tn.isFunction(x)&&art("".concat(x))?u[v]=function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];return Xnt(x.apply(void 0,w),g)}:tn.isArray(x)?x.forEach(function(w){c(w,g)}):tn.isObject(x)?c(x,g):g=d})};return I.useEffect(function(){n.current&&!tn.isEqual(r.current,t)&&(r.current=tn.cloneDeep(t),c(t),n.current.update(t),n.current.render())},[t]),I.useEffect(function(){if(!i.current)return function(){return null};r.current||(r.current=tn.cloneDeep(t)),c(t);var u=new e(i.current,S4({},t));u.toDataURL=o,u.downloadImage=l,u.render(),n.current=u,a&&a(u);var d=function(h){s&&s(u,h)};return u.on("*",d),function(){n.current&&(n.current.destroy(),n.current.off("*",d),n.current=void 0)}},[]),{chart:n,container:i}}const srt={field:"value",size:[1,1],round:!1,padding:0,sort:(e,t)=>t.value-e.value,as:["x","y"],ignoreParentValue:!0},lrt="nodeIndex",yO="childNodeCount",crt="nodeAncestor",ZL="Invalid field: it must be a string!";function urt(e,t){const{field:n,fields:r}=e;if(el(n))return n;if(Qc(n))return console.warn(ZL),n[0];if(console.warn(`${ZL} will try to get fields instead.`),el(r))return r;if(Qc(r)&&r.length)return r[0];throw new TypeError(ZL)}function frt(e){const t=[];if(e&&e.each){let n,r;e.each(i=>{var a,s;i.parent!==n?(n=i.parent,r=0):r+=1;const o=qJ((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(l=>t.find(c=>c.name===l.name)||l),({depth:l})=>l>0&&l<i.depth);i[crt]=o,i[yO]=((s=i.children)===null||s===void 0?void 0:s.length)||0,i[lrt]=r,t.push(i)})}else e&&e.eachNode&&e.eachNode(n=>{t.push(n)});return t}function drt(e,t){t=O3e({},srt,t);const n=t.as;if(!Qc(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let r;try{r=urt(t)}catch(l){console.warn(l)}const a=(l=>oVe().size(t.size).round(t.round).padding(t.padding)(W2(l).sum(c=>FE(c.children)?t.ignoreParentValue?0:c[r]-YJ(c.children,(u,d)=>u+d[r],0):c[r]).sort(t.sort)))(e),s=n[0],o=n[1];return a.each(l=>{var c,u;l[s]=[l.x0,l.x1,l.x1,l.x0],l[o]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((c=l.data)===null||c===void 0?void 0:c.name)||((u=l.data)===null||u===void 0?void 0:u.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(d=>{n.indexOf(d)===-1&&delete l[d]})}),frt(a)}var hrt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const OS="sunburst",rj="markType",Vue="path",pP="ancestor-node";function prt(e){const{data:t,encode:n}=e,{color:r,value:i}=n,s=drt(t,{field:i,type:"hierarchy.partition",as:["x","y"]}),o=[];return s.forEach(l=>{var c,u,d,h;if(l.depth===0)return null;let g=l.data.name;const v=[g];let x=Object.assign({},l);for(;x.depth>1;)g=`${(c=x.parent.data)===null||c===void 0?void 0:c.name} / ${g}`,v.unshift((u=x.parent.data)===null||u===void 0?void 0:u.name),x=x.parent;const w=Object.assign(Object.assign(Object.assign({},IB(l.data,[i])),{[Vue]:g,[pP]:x.data.name}),l);r&&r!==pP&&(w[r]=l.data[r]||((h=(d=l.parent)===null||d===void 0?void 0:d.data)===null||h===void 0?void 0:h[r])),o.push(w)}),o.map(l=>{const c=l.x.slice(0,2),u=[l.y[2],l.y[0]];return c[0]===c[1]&&(u[0]=u[1]=(l.y[2]+l.y[0])/2),Object.assign(Object.assign({},l),{x:c,y:u,fillOpacity:Math.pow(.85,l.depth)})})}const kq={id:OS,encode:{x:"x",y:"y",key:Vue,color:pP,value:"value"},axis:{x:!1,y:!1},style:{[rj]:OS,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[yO]:yO,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},Uue=e=>{const{encode:t,data:n=[]}=e,r=hrt(e,["encode","data"]),i=Object.assign(Object.assign({},r.coordinate),{innerRadius:Math.max(Ua(r,["coordinate","innerRadius"],.2),1e-5)}),a=Object.assign(Object.assign({},kq.encode),t),{value:s}=a,o=prt({encode:a,data:n});return[Pn({},kq,Object.assign(Object.assign({type:"rect",data:o,encode:a,tooltip:{title:"path",items:[l=>({name:s,value:l[s]})]}},r),{coordinate:i}))]};Uue.props={};var grt=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const mrt=e=>e.querySelectorAll(".element").filter(t=>Ua(t,["style",rj])===OS);function vrt(e){return Jr(e).select(`.${sO}`).node()}const yrt={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function brt(e={}){const{breadCrumb:t={},isFixedColor:n=!1}=e,r=Pn({},yrt,t);return i=>{const{update:a,setState:s,container:o,view:l,options:c}=i,u=o.ownerDocument,d=vrt(o),h=c.marks.find(({id:M})=>M===OS),{state:g}=h,v=u.createElement("g");d.appendChild(v);const x=(M,R)=>grt(this,void 0,void 0,function*(){if(v.removeChildren(),M){const L=u.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});v.appendChild(L);let N="";const D=M?.split(" / ");let H=r.style.y,U=v.getBBox().width;const q=d.getBBox().width,K=D.map((Q,X)=>{const te=u.createElement("text",{style:Object.assign(Object.assign({x:U,text:" / "},r.style),{y:H})});v.appendChild(te),U+=te.getBBox().width,N=`${N}${Q} / `;const ee=u.createElement("text",{name:N.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:Q,x:U,depth:X+1},r.style),{y:H})});return v.appendChild(ee),U+=ee.getBBox().width,U>q&&(H=v.getBBox().height,U=0,te.attr({x:U,y:H}),U+=te.getBBox().width,ee.attr({x:U,y:H}),U+=ee.getBBox().width),ee});[L,...K].forEach((Q,X)=>{if(X===K.length)return;const te=Object.assign({},Q.attributes);Q.attr("cursor","pointer"),Q.addEventListener("mouseenter",()=>{Q.attr(r.active)}),Q.addEventListener("mouseleave",()=>{Q.attr(te)}),Q.addEventListener("click",()=>{x(Q.name,Ua(Q,["style","depth"]))})})}s("drillDown",L=>{const{marks:N}=L,D=N.map(H=>{if(H.id!==OS&&H.type!=="rect")return H;const{data:U}=H,q=Object.fromEntries(["color"].map(Q=>[Q,{domain:l.scale[Q].getOptions().domain}])),K=U.filter(Q=>{const X=Q.path;return n||(Q[pP]=X.split(" / ")[R]),M?new RegExp(`^${M}.+`).test(X):!0});return Pn({},H,n?{data:K,scale:q}:{data:K})});return Object.assign(Object.assign({},L),{marks:D})}),yield a()}),w=M=>{const R=M.target;if(Ua(R,["style",rj])!==OS||Ua(R,["markType"])!=="rect"||!Ua(R,["style",yO]))return;const L=Ua(R,["__data__","key"]),N=Ua(R,["style","depth"]);R.style.cursor="pointer",x(L,N)};d.addEventListener("click",w);const C=AB(Object.assign(Object.assign({},g.active),g.inactive)),E=()=>{mrt(d).forEach(R=>{const L=Ua(R,["style",yO]);if(Ua(R,["style","cursor"])!=="pointer"&&L){R.style.cursor="pointer";const D=IB(R.attributes,C);R.addEventListener("mouseenter",()=>{R.attr(g.active)}),R.addEventListener("mouseleave",()=>{R.attr(Pn(D,g.inactive))})}})};return d.addEventListener("mousemove",E),()=>{v.remove(),d.removeEventListener("click",w),d.removeEventListener("mousemove",E)}}}function _rt(){return{"interaction.drillDown":brt,"mark.sunburst":Uue}}var gP=function(){return gP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gP.apply(this,arguments)},xrt=gnt(Vnt,gP(gP({},Nue()),_rt())),Go=function(e){var t=Srt(e),n=t.children,r=n===void 0?[]:n,i=tn.omit(t,[].concat(Gue,mP.map(function(c){return c.key}))),a=function(c){var u;return(u=Mrt.find(function(d){return d.key===c}))===null||u===void 0?void 0:u.callback},s=function(c,u,d){var h=a(u);h?h(c,u,d):c[u]=u1({},c[u],d)},o=function(c){Object.keys(c).forEach(function(u){if(c[u]){var d=mP.find(function(v){return v.key===u});if(d){var h=d.type,g=d.extend_keys;h?r.push(l(u1({},tn.pick(c,g),{type:h},c[u]))):tn.isArray(c[u])&&c[u].forEach(function(v){r.push(l(v))})}}})},l=function(c){return o(c),Object.keys(E4).forEach(function(u){var d=E4[u];if(!tn.isUndefined(c[u]))if(tn.isObject(d)){var h=d.value,g=d.target,v=h(c[u]);s(c,g,v)}else tn.set(c,d,c[u])}),c};return r.forEach(function(c){var u=u1({},i,c);l(u1(c,u))}),o(t),wrt(t),e},Lq=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},wrt=function(e){var t=e.children,n=t===void 0?[]:t,r=Object.keys(E4).concat(mP.map(function(i){return i.key}));return r.forEach(function(i){delete e[i]}),n.forEach(function(i){Object.keys(i).forEach(function(a){r.includes(a)&&delete i[a]})}),Object.keys(e).forEach(function(i){Lq(Lq([],Gue,!0),O4.map(function(a){return a.key}),!0).includes(i)||delete e[i]}),e},Srt=function(e){var t=e.options,n=t.children,r=n===void 0?[]:n;return r.forEach(function(i){Object.keys(i).forEach(function(a){tn.isArray(i[a])&&a!=="data"&&(i[a]=i[a].filter(function(s){return!s[C4]}))})}),t},Nq=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Crt=function(e,t){if(tn.isArray(t))return t},u1=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tn.mergeWith.apply(void 0,Nq(Nq([],e,!1),[Crt],!1))};function bO(e){switch(typeof e){case"function":return e;case"string":return function(t){return tn.get(t,[e])};default:return function(){return e}}}var _O=function(){return _O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_O.apply(this,arguments)},Ert=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Ort=["renderer"],Gue=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction"],C4="__transform__",Trt="__skipDelCustomKeys__",j_=function(e,t){return tn.isBoolean(t)?{type:e,available:t}:_O({type:e},t)},E4={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",sizeField:"encode.size",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(e){return j_("stackY",e)}},normalize:{target:"transform",value:function(e){return j_("normalizeY",e)}},percent:{target:"transform",value:function(e){return j_("normalizeY",e)}},group:{target:"transform",value:function(e){return j_("dodgeX",e)}},sort:{target:"transform",value:function(e){return j_("sortX",e)}},symmetry:{target:"transform",value:function(e){return j_("symmetryY",e)}},diff:{target:"transform",value:function(e){return j_("diffY",e)}},meta:{target:"scale",value:function(e){return e}},label:{target:"labels",value:function(e){return e}},shape:"style.shape",connectNulls:{target:"style",value:function(e){return tn.isBoolean(e)?{connect:e}:e}}},QL=["xField","yField","seriesField","colorField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],mP=[{key:"annotations",extend_keys:[]},{key:"line",type:"line",extend_keys:QL},{key:"point",type:"point",extend_keys:QL},{key:"area",type:"area",extend_keys:QL}],Mrt=[{key:"transform",callback:function(e,t,n){var r;e[t]=e[t]||[];var i=n.available,a=i===void 0?!0:i,s=Ert(n,["available"]);if(a)e[t].push(_O((r={},r[C4]=!0,r),s));else{var o=e[t].indexOf(function(l){return l.type===n.type});o!==-1&&e[t].splice(o,1)}}},{key:"labels",callback:function(e,t,n){var r;if(!n||tn.isArray(n)){e[t]=n||[];return}n.text||(n.text=e.yField),e[t]=e[t]||[],e[t].push(_O((r={},r[C4]=!0,r),n))}}],O4=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],Art=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vP=function(){return vP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vP.apply(this,arguments)},Irt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Wue=function(e){Art(t,e);function t(n){n===void 0&&(n={});var r=n.style,i=Irt(n,["style"]);return e.call(this,vP({style:vP({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},r)},i))||this}return t}(vg),Prt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yP=function(){return yP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yP.apply(this,arguments)},Rrt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},$rt=function(e){Prt(t,e);function t(n){n===void 0&&(n={});var r=n.style,i=Rrt(n,["style"]);return e.call(this,yP({style:yP({fill:"#eee"},r)},i))||this}return t}(jx),krt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),que=function(e){krt(t,e);function t(n,r,i){var a=e.call(this,{style:u1(i,r)})||this;return a.chart=n,a}return t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},t.prototype.disconnectedCallback=function(){},t.prototype.attributeChangedCallback=function(n){},t.prototype.update=function(n,r){var i;return this.attr(u1({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.getElementsLayout=function(){var n=this.chart.getContext().canvas,r=n.document.getElementsByClassName("element"),i=[];return r.forEach(function(a){var s=a.getBBox(),o=s.x,l=s.y,c=s.width,u=s.height,d=a.__data__;i.push({bbox:s,x:o,y:l,width:c,height:u,key:d.key,data:d})}),i},t.prototype.bindEvents=function(n,r){},t}(rT),Lrt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bP=function(){return bP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bP.apply(this,arguments)},Nrt=function(e){Lrt(t,e);function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return t.prototype.getConversionTagLayout=function(){var n=this.direction==="vertical",r=this.getElementsLayout(),i=r[0],a=i.x,s=i.y,o=i.height,l=i.width,c=i.data,u=["items",0,"value"],d=tn.get(c,u),h=n?r[1].y-s-o:r[1].x-a-l,g=[],v=this.attributes,x=v.size,w=x===void 0?40:x,C=v.arrowSize,E=C===void 0?20:C,M=v.spacing,R=M===void 0?4:M;return r.forEach(function(L,N){if(N>0){var D=L.x,H=L.y,U=L.height,q=L.width,K=L.data,Q=L.key,X=tn.get(K,u),te=w/2;if(n){var ee=D+q/2,Z=H;g.push({points:[[ee+te,Z-h+R],[ee+te,Z-E-R],[ee,Z-R],[ee-te,Z-E-R],[ee-te,Z-h+R]],center:[ee,Z-h/2-R],width:h,value:[d,X],key:Q})}else{var ee=D,Z=H+U/2;g.push({points:[[D-h+R,Z-te],[D-E-R,Z-te],[ee-R,Z],[D-E-R,Z+te],[D-h+R,Z+te]],center:[ee-h/2-R,Z],width:h,value:[d,X],key:Q})}d=X}}),g},t.prototype.render=function(){this.setDirection(),this.drawConversionTag()},t.prototype.setDirection=function(){var n=this.chart.getCoordinate(),r=tn.get(n,"options.transformations"),i="horizontal";r.forEach(function(a){a.includes("transpose")&&(i="vertical")}),this.direction=i},t.prototype.drawConversionTag=function(){var n=this,r=this.getConversionTagLayout(),i=this.attributes,a=i.style,s=i.text,o=s.style,l=s.formatter;r.forEach(function(c){var u=c.points,d=c.center,h=c.value,g=c.key,v=h[0],x=h[1],w=d[0],C=d[1],E=new $rt({style:bP({points:u,fill:"#eee"},a),id:"polygon-".concat(g)}),M=new Wue({style:bP({x:w,y:C,text:tn.isFunction(l)?l(v,x):(x/v*100).toFixed(2)+"%"},o),id:"text-".concat(g)});n.appendChild(E),n.appendChild(M)})},t.prototype.update=function(){var n=this,r=this.getConversionTagLayout();r.forEach(function(i){var a=i.points,s=i.center,o=i.key,l=s[0],c=s[1],u=n.getElementById("polygon-".concat(o)),d=n.getElementById("text-".concat(o));u.setAttribute("points",a),d.setAttribute("x",l),d.setAttribute("y",c)})},t.tag="ConversionTag",t}(que),T4=32,Dq=16,zq=48,Drt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bE=function(){return bE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bE.apply(this,arguments)},zrt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Brt=function(e){Drt(t,e);function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return t.prototype.render=function(){this.drawText()},t.prototype.getBidirectionalBarAxisTextLayout=function(){var n=this.attributes.layout,r=n==="vertical",i=this.getElementsLayout(),a=r?tn.uniqBy(i,"x"):tn.uniqBy(i,"y"),s=["title"],o=[],l=this.chart.getContext().views,c=tn.get(l,[0,"layout"]),u=c.width,d=c.height;return a.forEach(function(h){var g=h.x,v=h.y,x=h.height,w=h.width,C=h.data,E=h.key,M=tn.get(C,s);r?o.push({x:g+w/2,y:d,text:M,key:E}):o.push({x:u,y:v+x/2,text:M,key:E})}),tn.uniqBy(o,"text").length!==o.length&&(o=Object.values(tn.groupBy(o,"text")).map(function(h){var g,v=h.reduce(function(x,w){return x+(r?w.x:w.y)},0);return bE(bE({},h[0]),(g={},g[r?"x":"y"]=v/h.length,g))})),o},t.prototype.transformLabelStyle=function(n){var r={},i=/^label[A-Z]/;return Object.keys(n).forEach(function(a){i.test(a)&&(r[a.replace("label","").replace(/^[A-Z]/,function(s){return s.toLowerCase()})]=n[a])}),r},t.prototype.drawText=function(){var n=this,r=this.getBidirectionalBarAxisTextLayout(),i=this.attributes,a=i.layout,s=i.labelFormatter,o=zrt(i,["layout","labelFormatter"]);r.forEach(function(l){var c=l.x,u=l.y,d=l.text,h=l.key,g=new Wue({style:bE({x:c,y:u,text:tn.isFunction(s)?s(d):d,wordWrap:!0,wordWrapWidth:a==="horizontal"?T4*2:120,maxLines:2,textOverflow:"ellipsis"},n.transformLabelStyle(o)),id:"text-".concat(h)});n.appendChild(g)})},t.prototype.destroy=function(){this.clear()},t.prototype.update=function(){this.destroy(),this.drawText()},t.tag="BidirectionalBarAxisText",t}(que),jrt={ConversionTag:Nrt,BidirectionalBarAxisText:Brt},Frt=function(){function e(t,n){this.container=new Map,this.chart=t,this.config=n,this.init()}return e.prototype.init=function(){var t=this;O4.forEach(function(n){var r,i=n.key,a=n.shape,s=t.config[i];if(s){var o=new jrt[a](t.chart,s),l=t.chart.getContext().canvas;l.appendChild(o),t.container.set(i,o)}else(r=t.container.get(i))===null||r===void 0||r.clear()})},e.prototype.update=function(){var t=this;this.container.size&&O4.forEach(function(n){var r=n.key,i=t.container.get(r);i?.update()})},e}(),Hrt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oS=function(){return oS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},oS.apply(this,arguments)},Bq="data-chart-source-type",yo=function(e){Hrt(t,e);function t(n,r){var i=e.call(this)||this;return i.container=typeof n=="string"?document.getElementById(n):n,i.options=i.mergeOption(r),i.createG2(),i.bindEvents(),i}return t.prototype.getChartOptions=function(){return oS(oS({},tn.pick(this.options,Ort)),{container:this.container})},t.prototype.getSpecOptions=function(){return this.type==="base"||this[Trt]?oS(oS({},this.options),this.getChartOptions()):this.options},t.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new xrt(this.getChartOptions()),this.container.setAttribute(Bq,"Ant Design Charts")},t.prototype.bindEvents=function(){var n=this;this.chart&&this.chart.on("*",function(r){r?.type&&n.emit(r.type,r)})},t.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},t.prototype.getDefaultOptions=function(){},t.prototype.render=function(){var n=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){n.annotation=new Frt(n.chart,n.options)}),this.bindSizeSensor()},t.prototype.update=function(n){this.options=this.mergeOption(n)},t.prototype.mergeOption=function(n){return u1({},this.getBaseOptions(),this.getDefaultOptions(),n)},t.prototype.changeData=function(n){this.chart.changeData(n)},t.prototype.changeSize=function(n,r){this.chart.changeSize(n,r)},t.prototype.destroy=function(){this.chart.destroy(),this.off(),this.container.removeAttribute(Bq)},t.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor();n({chart:this.chart,options:this.options})},t.prototype.triggerResize=function(){this.chart.forceFit()},t.prototype.bindSizeSensor=function(){var n=this,r=this.options.autoFit,i=r===void 0?!0:r;i&&this.chart.on(Ho.AFTER_CHANGE_SIZE,function(){n.annotation.update()})},t}(u8),Vrt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Urt=function(e){Vrt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="base",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return function(n){return n}},t}(yo),M4=function(){return M4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},M4.apply(this,arguments)};function Grt(e){var t=e.options,n=t.stack,r=t.tooltip,i=t.xField;if(!n)return e;var a=mP.map(function(o){return o.type}).filter(function(o){return!!o}),s=!1;return a.forEach(function(o){t[o]&&(s=!0,tn.set(t,[o,"stack"],M4({y1:"y"},typeof n=="object"?n:{})))}),s&&!tn.isBoolean(r)&&!r&&tn.set(t,"tooltip",{title:i,items:[{channel:"y"}]}),e}function Nl(e){return tn.flow(Grt)(e)}function Wrt(e){var t=e.options.layout,n=t===void 0?"horizontal":t;return e.options.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}],e}function qrt(e){Wrt(e);var t=e.options.layout,n=t===void 0?"horizontal":t;return e.options.children.forEach(function(r){var i;!((i=r?.coordinate)===null||i===void 0)&&i.transform&&(r.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}])}),e}function Krt(e){return tn.flow(Nl,Go)(e)}var Yrt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xrt=function(e){Yrt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="area",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Krt},t}(yo),sS=function(){return sS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sS.apply(this,arguments)};function Kue(e){var t=function(n){var r=n.options;tn.get(r,"children.length")>1&&tn.set(r,"children",[{type:"interval"}]);var i=r.scale,a=r.markBackground,s=r.data,o=r.children,l=r.yField,c=tn.get(i,"y.domain",[]);if(a&&c.length&&tn.isArray(s)){var u="domainMax",d=s.map(function(h){var g;return sS(sS({originData:sS({},h)},tn.omit(h,l)),(g={},g[u]=c[c.length-1],g))});o.unshift(sS({type:"interval",data:d,yField:u,tooltip:!1,style:{fill:"#eee"},label:!1},a))}return n};return tn.flow(t,Nl,Go)(e)}var Zrt=function(){var e=function(t,n){return function(r){var i=t.fill,a=i===void 0?"#2888FF":i,s=t.stroke,o=t.fillOpacity,l=o===void 0?1:o,c=t.strokeOpacity,u=c===void 0?.2:c,d=t.pitch,h=d===void 0?8:d,g=r[0],v=r[1],x=r[2],w=r[3],C=(v[1]-g[1])/2,E=n.document,M=E.createElement("g",{}),R=E.createElement("polygon",{style:{points:[g,[g[0]-h,g[1]+C],[x[0]-h,g[1]+C],w],fill:a,fillOpacity:l,stroke:s,strokeOpacity:u,inset:30}}),L=E.createElement("polygon",{style:{points:[[g[0]-h,g[1]+C],v,x,[x[0]-h,g[1]+C]],fill:a,fillOpacity:l,stroke:s,strokeOpacity:u}}),N=E.createElement("polygon",{style:{points:[g,[g[0]-h,g[1]+C],v,[g[0]+h,g[1]+C]],fill:a,fillOpacity:l-.2}});return M.appendChild(R),M.appendChild(L),M.appendChild(N),M}};zue("shape.interval.bar25D",e)},Qrt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Zrt();var Jrt=function(e){Qrt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Bar",n}return t.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Kue},t}(yo),eit=function(){var e=function(t,n){return function(r){var i=t.fill,a=i===void 0?"#2888FF":i,s=t.stroke,o=t.fillOpacity,l=o===void 0?1:o,c=t.strokeOpacity,u=c===void 0?.2:c,d=t.pitch,h=d===void 0?8:d,g=r[1][0]-r[0][0],v=g/2+r[0][0],x=n.document,w=x.createElement("g",{}),C=x.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[v,r[1][1]+h],[v,r[3][1]+h],[r[3][0],r[3][1]]],fill:a,fillOpacity:l,stroke:s,strokeOpacity:u,inset:30}}),E=x.createElement("polygon",{style:{points:[[v,r[1][1]+h],[r[1][0],r[1][1]],[r[2][0],r[2][1]],[v,r[2][1]+h]],fill:a,fillOpacity:l,stroke:s,strokeOpacity:u}}),M=x.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[v,r[1][1]-h],[r[1][0],r[1][1]],[v,r[1][1]+h]],fill:a,fillOpacity:l-.2}});return w.appendChild(E),w.appendChild(C),w.appendChild(M),w}};zue("shape.interval.column25D",e)},tit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();eit();var nit=function(e){tit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="column",n}return t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Kue},t}(yo);function rit(e){var t=function(r){var i=r.options,a=i.children,s=a===void 0?[]:a,o=i.legend;return o&&s.forEach(function(l){if(!tn.get(l,"colorField")){var c=tn.get(l,"yField");tn.set(l,"colorField",function(){return c})}}),r},n=function(r){var i=r.options,a=i.annotations,s=a===void 0?[]:a,o=i.children,l=o===void 0?[]:o,c=i.scale,u=!1;return tn.get(c,"y.key")||l.forEach(function(d,h){if(!tn.get(d,"scale.y.key")){var g="child".concat(h,"Scale");tn.set(d,"scale.y.key",g);var v=d.annotations,x=v===void 0?[]:v;x.length>0&&(tn.set(d,"scale.y.independent",!1),x.forEach(function(w){tn.set(w,"scale.y.key",g)})),!u&&s.length>0&&tn.get(d,"scale.y.independent")===void 0&&(u=!0,tn.set(d,"scale.y.independent",!1),s.forEach(function(w){tn.set(w,"scale.y.key",g)}))}}),r};return tn.flow(t,n,Nl,Go)(e)}var iit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jq=function(e){iit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="DualAxes",n}return t.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return rit},t}(yo);function ait(e){var t=function(a){var s=a.options,o=s.xField,l=s.colorField;return l||tn.set(s,"colorField",o),a},n=function(a){var s=a.options,o=s.compareField,l=s.transform,c=s.isTransposed,u=c===void 0?!0:c,d=s.coordinate;return l||(o?tn.set(s,"transform",[]):tn.set(s,"transform",[{type:"symmetryY"}])),!d&&u&&tn.set(s,"coordinate",{transform:[{type:"transpose"}]}),a},r=function(a){var s=a.options,o=s.compareField,l=s.seriesField,c=s.data,u=s.children,d=s.yField,h=s.isTransposed,g=h===void 0?!0:h;if(o||l){var v=Object.values(tn.groupBy(c,function(x){return x[o||l]}));u[0].data=v[0],u.push({type:"interval",data:v[1],yField:function(x){return-x[d]}}),delete s.compareField,delete s.data}return l&&(tn.set(s,"type","spaceFlex"),tn.set(s,"ratio",[1,1]),tn.set(s,"direction",g?"row":"col"),delete s.seriesField),a},i=function(a){var s=a.options,o=s.tooltip,l=s.xField,c=s.yField;return o||tn.set(s,"tooltip",{title:!1,items:[function(u){return{name:u[l],value:u[c]}}]}),a};return tn.flow(t,n,r,i,Nl,Go)(e)}var oit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sit=function(e){oit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="column",n}return t.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return ait},t}(yo);function lit(e){return tn.flow(Nl,Go)(e)}var cit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uit=function(e){cit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="line",n}return t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return lit},t}(yo),Qp=function(){return Qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qp.apply(this,arguments)};function fit(e){var t=function(n){var r=n.options,i=r.angleField,a=r.data,s=r.label,o=r.tooltip,l=r.colorField,c=bO(l);if(tn.isArray(a)&&a.length>0){var u=a.reduce(function(h,g){return h+g[i]},0);if(u===0){var d=a.map(function(h){var g;return Qp(Qp({},h),(g={},g[i]=1,g))});tn.set(r,"data",d),s&&tn.set(r,"label",Qp(Qp({},s),{formatter:function(){return 0}})),o!==!1&&(tn.isFunction(o)?tn.set(r,"tooltip",function(h,g,v){var x;return o(Qp(Qp({},h),(x={},x[i]=0,x)),g,v.map(function(w){var C;return Qp(Qp({},w),(C={},C[i]=0,C))}))}):tn.set(r,"tooltip",Qp(Qp({},o),{items:[function(h,g,v){return{name:c(h,g,v),value:0}}]})))}}return n};return tn.flow(t,Go)(e)}var dit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hit=function(e){dit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="pie",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return fit},t}(yo);function pit(e){return tn.flow(Nl,Go)(e)}var git=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mit=function(e){git(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="scatter",n}return t.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return pit},t}(yo);function vit(e){var t=function(n){return tn.set(n,"options.coordinate",{type:tn.get(n,"options.coordinateType","polar")}),n};return tn.flow(t,Go)(e)}var yit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bit=function(e){yit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="radar",n}return t.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return vit},t}(yo),yy=function(){return yy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yy.apply(this,arguments)},_it="__stock-range__",xit="trend",wit="up",Sit="down";function Cit(e){var t=function(r){var i=r.options,a=i.data,s=i.yField;return r.options.data=tn.map(a,function(o){var l=o&&yy({},o);if(Array.isArray(s)&&l){var c=s[0],u=s[1],d=s[2],h=s[3];l[xit]=l[c]<=l[u]?wit:Sit,l[_it]=[l[c],l[u],l[d],l[h]]}return l}),r},n=function(r){var i=r.options,a=i.xField,s=i.yField,o=i.fallingFill,l=i.risingFill,c=s[0],u=s[1],d=s[2],h=s[3],g=bO(a);return r.options.children=tn.map(r.options.children,function(v,x){var w=x===0;return yy(yy({},v),{tooltip:{title:function(C,E,M){var R=g(C,E,M);return R instanceof Date?R.toLocaleString():R},items:[{field:d},{field:h},{field:c},{field:u}]},encode:yy(yy({},v.encode||{}),{y:w?[d,h]:[c,u],color:function(C){return Math.sign(C[u]-C[c])}}),style:yy(yy({},v.style||{}),{lineWidth:w?1:10})})}),delete i.yField,r.options.legend={color:!1},o&&tn.set(r,"options.scale.color.range[0]",o),l&&tn.set(r,"options.scale.color.range[2]",l),r};return tn.flow(t,n,Go)(e)}var Eit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oit=["#26a69a","#999999","#ef5350"],Tit=function(e){Eit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="stock",n}return t.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:Oit},y:{nice:!0}},children:[{type:"link"},{type:"link"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Cit},t}(yo);function Mit(e){return tn.flow(Nl,Go)(e)}var Ait=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iit=function(e){Ait(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyLine",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Mit},t}(yo);function Pit(e){return tn.flow(Nl,Go)(e)}var Rit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$it=function(e){Rit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyArea",n}return t.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Pit},t}(yo);function kit(e){return tn.flow(Nl,Go)(e)}var Lit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nit=function(e){Lit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyColumn",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return kit},t}(yo),A4=function(){return A4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},A4.apply(this,arguments)};function Dit(e){var t=function(n){var r=n.options,i=r.percent,a=r.color,s=a===void 0?[]:a;if(!i)return n;var o={scale:{color:{range:s.length?s:[]}},data:[1,i]};return Object.assign(r,A4({},o)),n};return tn.flow(t,Nl,Go)(e)}var zit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bit=function(e){zit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyProgress",n}return t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Dit},t}(yo),I4=function(){return I4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},I4.apply(this,arguments)};function jit(e){var t=function(r){var i=r.options,a=i.radius,s=a===void 0?.8:a;return tn.set(r,"options.coordinate.innerRadius",s),r},n=function(r){var i=r.options,a=i.percent,s=i.color,o=s===void 0?[]:s;if(!a)return r;var l={scale:{color:{range:o.length?o:[]}},data:[1,a]};return Object.assign(i,I4({},l)),r};return tn.flow(t,n,Nl,Go)(e)}var Fit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hit=function(e){Fit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyRing",n}return t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return jit},t}(yo);function Vit(e){return tn.flow(Go)(e)}var Uit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Git=function(e){Uit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="rose",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Vit},t}(yo),JL="__start__",Lw="__end__",P4="__waterfall_value__",R4=function(){return R4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},R4.apply(this,arguments)},Wit=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function qit(e){var t=function(r){var i=r.options,a=i.data,s=a===void 0?[]:a,o=i.yField;return s.length&&(s.reduce(function(l,c,u){var d,h=bO(o),g=h(c,u,s);if(u===0||c.isTotal)c[JL]=0,c[Lw]=g,c[P4]=g;else{var v=(d=l[Lw])!==null&&d!==void 0?d:h(l,u,s);c[JL]=v,c[Lw]=v+g,c[P4]=l[Lw]}return c},[]),Object.assign(i,{yField:[JL,Lw]})),r},n=function(r){var i=r.options,a=i.data,s=a===void 0?[]:a,o=i.xField,l=i.children,c=i.linkStyle,u=Wit([],s,!0);return u.reduce(function(d,h,g){return g>0&&(h.x1=d[o],h.x2=h[o],h.y1=d[Lw]),h},[]),u.shift(),l.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:u,style:R4({stroke:"#697474"},c),label:!1,tooltip:!1}),r};return tn.flow(t,n,Nl,Go)(e)}var Kit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yit=function(e){Kit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="waterfall",n}return t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:P4,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return qit},t}(yo);function Xit(e){var t=function(n){var r=n.options,i=r.data,a=r.binNumber,s=r.binWidth,o=r.children,l=r.channel,c=l===void 0?"count":l,u=tn.get(o,"[0].transform[0]",{});return tn.isNumber(s)?(tn.assign(u,{thresholds:tn.ceil(tn.divide(i.length,s)),y:c}),n):(tn.isNumber(a)&&tn.assign(u,{thresholds:a,y:c}),n)};return tn.flow(t,Nl,Go)(e)}var Zit=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qit=function(e){Zit(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Histogram",n}return t.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Xit},t}(yo);function Jit(e){var t=function(r){var i=r.options,a=i.tooltip,s=a===void 0?{}:a,o=i.colorField,l=i.sizeField;return s&&!s.field&&(s.field=o||l),r},n=function(r){var i=r.options,a=i.mark,s=i.children;return a&&(s[0].type=a),r};return tn.flow(t,n,Nl,Go)(e)}var eat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tat=function(e){eat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="heatmap",n}return t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point",interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Jit},t}(yo);function nat(e){var t=function(n){var r=n.options.boxType,i=r===void 0?"box":r;return n.options.children[0].type=i,n};return tn.flow(t,Nl,Go)(e)}var rat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iat=function(e){rat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="box",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return nat},t}(yo);function aat(e){var t=function(n){var r=n.options,i=r.data,a=[{type:"custom",callback:function(o){return{links:o}}}];if(tn.isArray(i))i.length>0?tn.set(r,"data",{value:i,transform:a}):delete r.children;else if(tn.get(i,"type")==="fetch"&&tn.get(i,"value")){var s=tn.get(i,"transform");tn.isArray(s)?tn.set(i,"transform",s.concat(a)):tn.set(i,"transform",a)}return n};return tn.flow(t,Nl,Go)(e)}var oat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sat=function(e){oat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="sankey",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return aat},t}(yo),gm=function(){return gm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gm.apply(this,arguments)},EA=["#f0efff","#5B8FF9","#3D76DD"];function eN(e,t,n,r){r===void 0&&(r=!0);var i=0,a=!1,s=tn.map(e,function(o){var l,c,u=tn.get(o,[t]);if(tn.isNil(u))return[];if(tn.isString(u)){var d=Number(u);return isNaN(d)?[]:(l={},l[n]=o[n],l[t]=d,l)}return tn.isArray(u)?(a=!0,i=Math.max(i,u.length),tn.map(r?u.sort(function(h,g){return g-h}):u,function(h,g){var v;return v={},v[n]=o[n],v[t]=h,v.index=g,v})):(i=Math.max(1,i),c={},c[n]=o[n],c[t]=u,c)}).flat();return a?[s.map(function(o){return gm({index:0},o)}),i]:[s,i]}function tN(e,t){return new Array(e).fill("").map(function(n,r){return tn.isArray(t)?t[r%t.length]:t})}function lat(e){var t=function(i){var a=i.options,s=a.color,o=a.rangeField,l=o===void 0?"ranges":o,c=a.measureField,u=c===void 0?"measures":c,d=a.targetField,h=d===void 0?"targets":d,g=a.xField,v=g===void 0?"title":g,x=a.mapField,w=a.data,C=eN(w,l,v),E=C[0],M=C[1],R=eN(w,u,v,!1),L=R[0],N=R[1],D=eN(w,h,v,!1),H=D[0],U=D[1],q=tn.get(s,[l],EA[0]),K=tn.get(s,[u],EA[1]),Q=tn.get(s,[h],EA[2]),X=[tN(M,q),tN(N,K),tN(U,Q)].flat();return i.options.children=tn.map(i.options.children,function(te,ee){var Z=[E,L,H][ee],re=[l,u,h][ee];return gm(gm({},te),{data:Z,encode:gm(gm({},te.encode||{}),{x:v,y:re,color:function(oe){var ce=oe.index,le=tn.isNumber(ce)?"".concat(re,"_").concat(ce):re;return x?tn.get(x,[re,ce],le):le}}),style:gm(gm({},te.style||{}),{zIndex:function(oe){return-oe[re]}}),labels:ee!==0?tn.map(te.labels,function(oe){return gm(gm({},oe),{text:re})}):void 0})}),i.options.scale.color.range=X,i.options.legend.color.itemMarker=function(te){return x&&tn.includes(x?.[h],te)||te?.replace(/\_\d$/,"")===h?"line":"square"},i},n=function(i){var a=i.options.layout,s=a===void 0?"horizontal":a;return s!=="horizontal"&&tn.set(i,"options.children[2].shapeField","hyphen"),i},r=function(i){var a=i.options,s=a.range,o=s===void 0?{}:s,l=a.measure,c=l===void 0?{}:l,u=a.target,d=u===void 0?{}:u,h=a.children;return i.options.children=[o,c,d].map(function(g,v){return u1(h[v],g)}),i};return tn.flow(t,n,r,qrt,Go)(e)}var cat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uat=function(e){cat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="bullet",n}return t.getDefaultOptions=function(){return{type:"view",scale:{color:{range:EA}},legend:{color:{itemMarker:function(n){return n==="target"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return lat},t}(yo);function fat(e){var t=function(n){var r=n.options.data;return n.options.data={value:r},n};return tn.flow(t,Nl,Go)(e)}var dat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hat=function(e){dat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Gauge",n}return t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return fat},t}(yo);function pat(e){var t=function(n){var r=n.options.percent;return tn.isNumber(r)&&(tn.set(n,"options.data",r),delete n.options.percent),n};return tn.flow(t,Nl,Go)(e)}var gat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mat=function(e){gat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Liquid",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return pat},t}(yo);function vat(e){return tn.flow(Nl,Go)(e)}var yat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bat=function(e){yat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="WordCloud",n}return t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return vat},t}(yo);function _at(e){var t=function(n){var r=n.options,i=r.data;return i&&tn.set(r,"data",{value:i}),n};return tn.flow(t,Nl,Go)(e)}var xat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wat=function(e){xat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="treemap",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return _at},t}(yo),W_=function(){return W_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},W_.apply(this,arguments)};function Sat(e){var t=function(i){var a=i.options,s=a.startAngle,o=a.maxAngle,l=a.coordinate,c=tn.isNumber(s)?s/(2*Math.PI)*360:-90,u=tn.isNumber(o)?(Number(o)+c)/180*Math.PI:Math.PI;return tn.set(i,["options","coordinate"],W_(W_({},l),{endAngle:u,startAngle:s??-Math.PI/2})),i},n=function(i){var a=i.options,s=a.tooltip,o=a.xField,l=a.yField,c=bO(o),u=bO(l);return s||tn.set(a,"tooltip",{title:!1,items:[function(d,h,g){return{name:c(d,h,g),value:u(d,h,g)}}]}),i},r=function(i){var a=i.options,s=a.markBackground,o=a.children,l=a.scale,c=a.coordinate,u=a.xField,d=tn.get(l,"y.domain",[]);return s&&o.unshift(W_({type:"interval",xField:u,yField:d[d.length-1],colorField:s.color,scale:{color:{type:"identity"}},style:{fillOpacity:s.opacity,fill:s.color?void 0:"#e0e4ee"},coordinate:W_(W_({},c),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},s)),i};return tn.flow(t,n,r,Nl,Go)(e)}var Cat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eat=function(e){Cat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="radial",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Sat},t}(yo);function Oat(e){return tn.flow(Go)(e)}var Tat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mat=function(e){Tat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="CirclePacking",n}return t.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Oat},t}(yo),_P=function(){return _P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_P.apply(this,arguments)};function Aat(e){var t=function(n){var r=n.options,i=r.xField,a=r.yField,s=r.seriesField,o=r.children,l=o?.map(function(c){return _P(_P({},c),{xField:i,yField:a,seriesField:s,colorField:s,data:c.type==="density"?{transform:[{type:"kde",field:a,groupBy:[i,s]}]}:c.data})}).filter(function(c){return r.violinType!=="density"||c.type==="density"});return tn.set(r,"children",l),r.violinType==="polar"&&tn.set(r,"coordinate",{type:"polar"}),tn.set(r,"violinType",void 0),n};return tn.flow(t,Nl,Go)(e)}var Iat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pat=function(e){Iat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="violin",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Aat},t}(yo),_E=function(){return _E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_E.apply(this,arguments)},Rat=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function $at(e){var t=function(a){var s=a.options,o=s.yField,l=s.children;return l.forEach(function(c,u){tn.set(c,"yField",o[u])}),a},n=function(a){var s=a.options,o=s.yField,l=s.children,c=s.data;if(tn.isPlainObject(c))return a;var u=tn.isArray(tn.get(c,[0]))?c:[c,c];return l.forEach(function(d,h){tn.set(d,"data",Rat([],u[h].map(function(g){return _E({groupKey:o[h]},g)}),!0))}),a},r=function(a){var s=a.options,o=s.yField,l=o[0],c=o[1],u=s.tooltip;return u||tn.set(s,"tooltip",{items:[{field:l,value:l},{field:c,value:c}]}),a},i=function(a){var s=a.options,o=s.children,l=s.layout,c=s.coordinate.transform,u=s.paddingBottom,d=u===void 0?zq:u,h=s.paddingLeft,g=h===void 0?zq:h,v=s.axis;tn.set(s,"axisText",_E(_E({},v?.x||{}),{layout:l}));var x=o[0],w=o[1];if(l==="vertical")tn.set(s,"direction","col"),tn.set(s,"paddingLeft",g),tn.set(s,"coordinate.transform",c.filter(function(L){return L.type!=="transpose"})),tn.set(x,"paddingBottom",Dq),tn.set(w,"paddingTop",Dq),tn.set(w,"axis",{x:{position:"top"}}),tn.set(w,"scale",{y:{range:[0,1]}});else{tn.set(s,"paddingBottom",d),tn.set(x,"scale",{y:{range:[0,1]}});var C=x.paddingRight,E=C===void 0?T4:C,M=w.paddingLeft,R=M===void 0?T4:M;tn.set(x,"paddingRight",E),tn.set(x,"axis",{x:{position:"right"}}),tn.set(w,"paddingLeft",R)}return a};return tn.flow(t,n,r,i,Nl,Go)(e)}var kat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lat=function(e){kat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="BidirectionalBar",n}return t.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return $at},t}(yo),sx;(function(e){e.color="key",e.d="path"})(sx||(sx={}));function Nat(e){var t=function(n){var r=n.options,i=r.data,a=r.setsField,s=r.sizeField;return tn.isArray(i)&&(tn.set(r,"data",{type:"inline",value:i,transform:[{type:"venn",sets:a,size:s,as:[sx.color,sx.d]}]}),tn.set(r,"colorField",a),tn.set(r,["children","0","encode","d"],sx.d)),tn.set(n,"options",tn.omit(r,["sizeField","setsField"])),n};return tn.flow(t,Go)(e)}var Dat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zat=function(e){Dat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="venn",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:sx.color,d:sx.d}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Nat},t}(yo);function Bat(e){var t=function(n){return n};return tn.flow(t,Go)(e)}var jat=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fat=function(e){jat(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Sunburst",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Bat},t}(yo),Hat={Base:Urt,Line:uit,Column:nit,Pie:hit,Area:Xrt,Bar:Jrt,DualAxes:jq,Funnel:sit,Scatter:mit,Radar:bit,Rose:Git,Stock:Tit,TinyLine:Iit,TinyArea:$it,TinyColumn:Nit,TinyProgress:Bit,TinyRing:Hit,Waterfall:Yit,Histogram:Qit,Heatmap:tat,Box:iat,Sankey:sat,Bullet:uat,Gauge:hat,Liquid:mat,WordCloud:bat,Treemap:wat,RadialBar:Eat,CirclePacking:Mat,Violin:Pat,BidirectionalBar:Lat,Venn:zat,Mix:jq,Sunburst:Fat},$4=function(){return $4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$4.apply(this,arguments)},Fq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Yue=I.forwardRef(function(e,t){var n=e.chartType,r=n===void 0?"Base":n,i=Fq(e,["chartType"]),a=i.containerStyle,s=a===void 0?{height:"inherit",flex:1}:a,o=i.containerAttributes,l=o===void 0?{}:o,c=i.className,u=i.loading,d=i.loadingTemplate,h=i.errorTemplate,g=Fq(i,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate"]),v=ort(Hat[r],g),x=v.chart,w=v.container;return I.useImperativeHandle(t,function(){return x.current}),it.createElement(ert,{errorTemplate:h},u&&it.createElement(Qnt,{loadingTemplate:d}),it.createElement("div",$4({className:c,style:s,ref:w},l)))}),k4=function(){return k4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},k4.apply(this,arguments)},Hq=I.forwardRef(function(e,t){return it.createElement(Yue,k4({},e,{chartType:"Column",ref:t}))}),L4=function(){return L4=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},L4.apply(this,arguments)},Vat=I.forwardRef(function(e,t){return it.createElement(Yue,L4({},e,{chartType:"Pie",ref:t}))});const{Title:Vq}=I1,Uat=({chartKey:e})=>{const{demographics:t}=I.useContext(AO),{filters:n,typeOfMap:r}=I.useContext(m0),i=n.county,a=n.town,{t:s,i18n:o}=A1(),l=t.cities[i].cities[a].population,c=ee=>ee.reduce((Z,re)=>Z+l.age[re],0),u={"0-4":c(["0-4"]),"5-14":c(["5-9","10-14"]),"15-19":c(["15-19"]),"20-24":c(["20-24"]),"25-64":c(["25-29","30-34","35-39","40-44","45-49","50-54","55-59","60-64"]),"65+":c(["65-69","70-74","75-79","80-84","85+"])},d=s("Primar")+", "+s("Precolar"),h=s("Liceal")+", "+s("Profesional"),g={[d]:c(["5-9"]),[s("Gimanzial")]:c(["10-14"]),[h]:c(["15-19"])},v={xField:"stage",yField:"number",autoFit:!0,style:{inset:10},tooltip:!1},x=["graduate","undergraduate","high_school","vocational","middle_school","primary","no_education"],w=t.cities[i].population.education.by_ethnicity,C=[],E=(ee,Z)=>{const[re,oe]=ee,[ce,le]=Z,pe=x.indexOf(re);return x.indexOf(ce)-pe};for(const[ee,Z]of Object.entries(w))if(delete Z.total,!(Object.values(Z).reduce((oe,ce)=>oe+ce,0)<10))for(const[oe,ce]of Object.entries(Z).sort(E))x.includes(oe)&&C.push({ethnicity:s(`ethnicity.${ee}`),education:s(`education_dem.${oe}`),value:ce});const M={data:C,xField:"ethnicity",yField:"value",colorField:"education",normalize:!0,stack:!0,tooltip:!1,axis:{y:{labelFormatter:ee=>new Intl.NumberFormat(o.language,{minimumFractionDigits:0,maximumFractionDigits:2}).format(ee*100)+"%"}}},R=Object.entries(u).map(([ee,Z])=>({stage:ee,number:Z})),L=Object.entries(g).map(([ee,Z])=>({stage:ee,number:Z})),N=vY(n),D=N.length,H=N[0]?.["Mediu loc. unitate"]==="Urban"?"Urban":"Rural",U=N.reduce((ee,Z)=>{const re=Z.total_elevi;return ee+=re,ee},0),q=I.useRef(null),[K,Q]=I.useState(0);I.useEffect(()=>{if(!q.current)return;const ee=new ResizeObserver(Z=>{for(let re of Z)Q(re.contentRect.width)});return ee.observe(q.current),()=>ee.disconnect()},[]);const[X,te]=I.useState(!1);return qn.jsxs(VR,{direction:"vertical",ref:q,style:{width:"100%",padding:"2vh"},children:[qn.jsxs(qTe,{children:[qn.jsxs(ID,{justify:"space-between",align:"middle",children:[qn.jsx(Vq,{level:1,style:{marginBottom:0},children:a}),qn.jsx(oI,{color:H==="Urban"?"#030852":"blue",children:H})]}),qn.jsx(Vq,{level:4,type:"secondary",children:BK[i]})]}),qn.jsxs(ID,{justify:"space-between",align:"middle",children:[qn.jsx(pS,{formatter:ee=>new Intl.NumberFormat(o.language,{minimumFractionDigits:Number.isInteger(ee)?0:2,maximumFractionDigits:Number.isInteger(ee)?0:2}).format(ee),title:s("Population"),value:l.total}),qn.jsx(pS,{formatter:ee=>new Intl.NumberFormat(o.language,{minimumFractionDigits:Number.isInteger(ee)?0:2,maximumFractionDigits:Number.isInteger(ee)?0:2}).format(ee),title:s("schools"),value:D}),qn.jsx(pS,{formatter:ee=>new Intl.NumberFormat(o.language,{minimumFractionDigits:Number.isInteger(ee)?0:2,maximumFractionDigits:Number.isInteger(ee)?0:2}).format(ee),title:s("students"),value:U})]}),qn.jsx(o3,{orientation:"left",children:s("Ethnic Breakdown")}),qn.jsx(Vat,{data:Object.entries(l.ethnicity).filter(([ee,Z])=>Z>0).map(([ee,Z])=>({type:s(`ethnicity.${ee}`),value:Z})),angleField:"value",colorField:"type",radius:1,label:{text:"value",position:"outside"},tooltip:!1,interactions:[{type:"element-active"}],width:K,height:K*.7}),qn.jsx(o3,{orientation:"left",children:s("Grupe de vrst")}),qn.jsx(NQ,{block:!0,options:["Total",s("School age")],value:X?s("School age"):"Total",onChange:ee=>{te(ee===s("School age"))}}),qn.jsx(Hq,{data:X?L:R,...v,width:K},100+e),qn.jsx(o3,{orientation:"left",children:s("Distribuia judeean a nivelului de educaie atins")}),qn.jsx(Hq,{...M,width:K},200+e)]})},{Title:Gat}=I1,Wat=({school:e})=>{const{t}=A1();return qn.jsxs(jw,{children:[qn.jsx(jw.Item,{label:t("Cod SIIR"),children:e.key}),qn.jsx(jw.Item,{label:t("Telefon"),children:qn.jsx("a",{href:`tel:+40${e.telefon}`,children:e.telefon})}),qn.jsx(jw.Item,{label:"Email",children:qn.jsx("a",{href:`mailto:${e.email}`,children:e.email})}),qn.jsx(jw.Item,{label:t("Adres"),children:qn.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`str. ${e.strada} nr. ${e.numar}, ${e.localitate}, ${e.judet}, Romania`)}`,target:"_blank",rel:"noopener noreferrer",children:["str. ",e.strada," nr. ",e.numar]})})]})},qat=()=>{const{filters:e}=I.useContext(m0),t=vY(e);console.log(t);const{t:n}=A1(),r=[{title:n("coal"),dataIndex:"nume",key:"nume"},{title:n("Limba de instruire"),dataIndex:"limbi",key:"limba",render:i=>i.map(a=>qn.jsx(oI,{children:n(a)},a))},{title:n("education"),dataIndex:"nivele",key:"nivel",render:i=>i.map(a=>qn.jsx(oI,{children:n(a)},a))},{title:n("Numr elevi"),dataIndex:"total_elevi",key:"elevi",sorter:(i,a)=>i.total_elevi-a.total_elevi}];return qn.jsxs(VR,{direction:"vertical",style:{width:"100%",padding:"2vh"},children:[qn.jsx(Gat,{level:1,style:{marginBottom:0},children:n("List coli")}),t?qn.jsx(Qy,{pagination:!1,columns:r,dataSource:t,rowKey:"nume",expandable:{expandedRowRender:i=>qn.jsx(Wat,{school:i}),rowExpandable:()=>!0}}):null]})},{Title:jut}=I1,Kat=()=>{const[e,t]=I.useState(0);return qn.jsx(Zy,{theme:{token:{colorBgContainer:"#fff"}},children:qn.jsx(nB,{style:{margin:"20px 50px"},styles:{body:{padding:0}},children:qn.jsxs(cA,{className:"splitter",style:{height:"80vh"},onResizeEnd:()=>{t(n=>n+1)},children:[qn.jsx(cA.Panel,{defaultSize:"40%",min:"20%",max:"70%",children:qn.jsx(Uat,{chartKey:e})}),qn.jsx(cA.Panel,{children:qn.jsx(qat,{})})]})})})};function Yat(){const[e,t]=I.useState(null),[n,r]=I.useState({x:0,y:0}),[i,a]=I.useState({min:0,max:0}),s=I.useRef(null),{countryGeoData:o}=I.useContext(AO),{filters:l,updateFilter:c}=I.useContext(m0);return hme(s,o,{setTooltipData:t,setTooltipPosition:r,setLegendLimits:a}),qn.jsxs("div",{className:"map-wrapper",children:[qn.jsx("div",{ref:s,className:"map-container"}),qn.jsx(m3e,{tooltipData:e,position:n}),qn.jsx(Ime,{limits:i}),l.county!=null&&l.town==null&&qn.jsx(kx,{type:"primary",style:{top:"5vh",bottom:"auto",zIndex:1e3,position:"absolute"},onClick:()=>{c("county",null)},icon:qn.jsx($O,{})})]})}function Xat(){const{filters:e,updateFilter:t}=I.useContext(m0),n=I.useRef(null),r=e.town;return I.useEffect(()=>{r&&n.current&&n.current.goTo(1)},[r]),qn.jsx(Zy,{theme:{token:{colorBgContainer:"#000000"},components:{Carousel:{dotWidth:30,dotActiveWidth:50,dotHeight:5,arrowSize:30,arrowOffset:20}}},children:qn.jsxs($Te,{ref:n,dots:r,speed:800,easing:"ease-out",afterChange:i=>{i===0&&t("town",null)},arrows:r,style:{height:"90vh"},swipe:!1,children:[qn.jsx(Yat,{}),r&&qn.jsx(Kat,{})]})})}function Zat(){const{i18n:e,t}=A1(),{filters:n,updateFilter:r,typeOfMap:i}=I.useContext(m0),a=[{key:"commonLanguages",type:"group",label:t("Common Languages"),children:LK.map(v=>({key:v,label:qn.jsx(ng,{checked:n.languages[v],onChange:x=>r(`languages.${v}`,x.target.checked),children:t(v)})}))},{key:"otherLanguages",label:t("Other Languages"),type:"group",children:NK.map(v=>({key:v,label:qn.jsx(ng,{checked:n.languages[v],onChange:x=>r(`languages.${v}`,x.target.checked),children:t(v)})}))}],s=DK.map(v=>({key:v,label:qn.jsx(ng,{checked:n.bacLanguages[v],onChange:x=>r(`bacLanguages.${v}`,x.target.checked),children:t(v)})})),o=[{key:"mainLevels",type:"group",label:t("Main Levels"),children:J4.map(v=>({key:v,label:qn.jsx(ng,{checked:n.levels[v],onChange:x=>r(`levels.${v}`,x.target.checked),children:t(v)})}))},{key:"otherLevels",label:t("Other Levels"),children:kK.map(v=>({key:v,label:qn.jsx(ng,{checked:n.levels[v],onChange:x=>r(`levels.${v}`,x.target.checked),children:t(v)})}))}],l=[{key:"perCapita",label:qn.jsx(s0,{title:t("perCapitaTooltip"),children:qn.jsxs(ID,{align:"middle",justify:"space-between",children:[qn.jsx("span",{children:"Per capita"}),qn.jsx(oA,{checked:n.perCapita,onChange:v=>r("perCapita",v),size:"small"})]})})},{key:"schoolAgeOnly",label:qn.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[qn.jsx("span",{children:t("schoolAge")}),qn.jsx(oA,{checked:n.schoolAgeOnly&&n.perCapita,onChange:v=>r("schoolAgeOnly",v),size:"small",disabled:!n.perCapita})]})}],c=[{key:"source-general",label:"General"},{key:"source-bac",label:"Bacalaureat"},{key:"source-en",label:"Evaluarea Naional"}],u=n.inBacData?"bac":n.inEvaluareData?"en":"general",d=[{key:"education",icon:qn.jsx(lIe,{}),label:t("education"),children:o},{key:"instruction-language",icon:qn.jsx(p3,{}),label:t("Limba de instruire"),children:a},...i!=="students"?[{key:"matchSettings",icon:qn.jsx(nH,{}),label:t("Match Settings"),children:[{key:"strictLevelLanguage",label:qn.jsx(s0,{title:t("strictLevelLanguageTooltip"),children:qn.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[qn.jsx("span",{children:t("strictLevelLanguage")}),qn.jsx(oA,{checked:n.strictLevelLanguage,onChange:v=>r("strictLevelLanguage",v),size:"small"})]})})}]}]:[]],h=[{key:"bac-language",icon:qn.jsx(p3,{}),label:t("Limba matern"),children:s},{key:"bacMatchSettings",icon:qn.jsx(nH,{}),label:t("Result Filters"),children:zK.map(v=>({key:v,label:qn.jsx(ng,{checked:n.bacResults[v],onChange:x=>r(`bacResults.${v}`,x.target.checked),children:t(v)})}))}],g=[{key:"sources",icon:qn.jsx(aIe,{}),label:t("Surs"),children:c},...u=="general"?d:u=="bac"?h:[],...i!=="grades"?[{key:"demographics",icon:qn.jsx(nJ,{}),label:t("Demografie"),children:l}]:[],{key:"language",icon:qn.jsx(p3,{}),label:t("language"),children:Object.keys(e.options.resources).map(v=>({key:`lng-${v}`,label:v==="ro"?"Romn":"English"}))}];return qn.jsx($x,{mode:"inline",defaultOpenKeys:["education"],style:{height:"100%",borderRight:0},items:g,selectable:!1,onClick:({key:v,domEvent:x})=>{if(!(x.target.tagName==="INPUT"||x.target.tagName==="LABEL")){if(v.startsWith("lng-")){const w=v.replace("lng-","");e.changeLanguage(w)}if(v.startsWith("source-")){const w=v.replace("source-","");r("inBacData",w==="bac"),r("inEvaluareData",w==="en")}}},selectedKeys:[`lng-${e.language}`,`source-${u}`]})}const Qat=new TextDecoder("utf-8"),N4=e=>Qat.decode(e),Jat=new TextEncoder,ij=e=>Jat.encode(e),eot=e=>typeof e=="number",Xue=e=>typeof e=="boolean",Wc=e=>typeof e=="function",gh=e=>e!=null&&Object(e)===e,Tx=e=>gh(e)&&Wc(e.then),yT=e=>gh(e)&&Wc(e[Symbol.iterator]),Y2=e=>gh(e)&&Wc(e[Symbol.asyncIterator]),D4=e=>gh(e)&&gh(e.schema),Zue=e=>gh(e)&&"done"in e&&"value"in e,Que=e=>gh(e)&&Wc(e.stat)&&eot(e.fd),Jue=e=>gh(e)&&aj(e.body),q$=e=>"_getDOMStream"in e&&"_getNodeStream"in e,tot=e=>gh(e)&&Wc(e.abort)&&Wc(e.getWriter)&&!q$(e),aj=e=>gh(e)&&Wc(e.cancel)&&Wc(e.getReader)&&!q$(e),not=e=>gh(e)&&Wc(e.end)&&Wc(e.write)&&Xue(e.writable)&&!q$(e),efe=e=>gh(e)&&Wc(e.read)&&Wc(e.pipe)&&Xue(e.readable)&&!q$(e),rot=e=>gh(e)&&Wc(e.clear)&&Wc(e.bytes)&&Wc(e.position)&&Wc(e.setPosition)&&Wc(e.capacity)&&Wc(e.getBufferIdentifier)&&Wc(e.createLong),oj=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function iot(e){const t=e[0]?[e[0]]:[];let n,r,i,a;for(let s,o,l=0,c=0,u=e.length;++l<u;){if(s=t[c],o=e[l],!s||!o||s.buffer!==o.buffer||o.byteOffset<s.byteOffset){o&&(t[++c]=o);continue}if({byteOffset:n,byteLength:i}=s,{byteOffset:r,byteLength:a}=o,n+i<r||r+a<n){o&&(t[++c]=o);continue}t[c]=new Uint8Array(s.buffer,n,r-n+a)}return t}function Uq(e,t,n=0,r=t.byteLength){const i=e.byteLength,a=new Uint8Array(e.buffer,e.byteOffset,i),s=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return a.set(s,n),e}function h0(e,t){const n=iot(e),r=n.reduce((u,d)=>u+d.byteLength,0);let i,a,s,o=0,l=-1;const c=Math.min(t||Number.POSITIVE_INFINITY,r);for(const u=n.length;++l<u;){if(i=n[l],a=i.subarray(0,Math.min(i.length,c-o)),c<=o+a.length){a.length<i.length?n[l]=i.subarray(a.length):a.length===i.length&&l++,s?Uq(s,a,o):s=a;break}Uq(s||(s=new Uint8Array(c)),a,o),o+=a.length}return[s||new Uint8Array(0),n.slice(l),r-(s?s.byteLength:0)]}function cs(e,t){let n=Zue(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=ij(n)),n instanceof ArrayBuffer?new e(n):n instanceof oj?new e(n):rot(n)?cs(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const EC=e=>cs(Int32Array,e),Gq=e=>cs(BigInt64Array,e),eo=e=>cs(Uint8Array,e),z4=e=>(e.next(),e);function*aot(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof oj?n(t):yT(t)?t:n(t);return yield*z4(function*(i){let a=null;do a=i.next(yield cs(e,a));while(!a.done)}(r[Symbol.iterator]())),new e}const oot=e=>aot(Uint8Array,e);function tfe(e,t){return Vv(this,arguments,function*(){if(Tx(t))return yield ha(yield ha(yield*fA(rx(tfe(e,yield ha(t))))));const r=function(s){return Vv(this,arguments,function*(){yield yield ha(yield ha(s))})},i=function(s){return Vv(this,arguments,function*(){yield ha(yield*fA(rx(z4(function*(o){let l=null;do l=o.next(yield l?.value);while(!l.done)}(s[Symbol.iterator]())))))})},a=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof oj?r(t):yT(t)?i(t):Y2(t)?t:r(t);return yield ha(yield*fA(rx(z4(function(s){return Vv(this,arguments,function*(){let o=null;do o=yield ha(s.next(yield yield ha(cs(e,o))));while(!o.done)})}(a[Symbol.asyncIterator]()))))),yield ha(new e)})}const sot=e=>tfe(Uint8Array,e);function nfe(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function lot(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const tg={fromIterable(e){return VM(cot(e))},fromAsyncIterable(e){return VM(uot(e))},fromDOMStream(e){return VM(fot(e))},fromNodeStream(e){return VM(hot(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},VM=e=>(e.next(),e);function*cot(e){let t,n=!1,r=[],i,a,s,o=0;function l(){return a==="peek"?h0(r,s)[0]:([i,r,o]=h0(r,s),i)}({cmd:a,size:s}=(yield null)||{cmd:"read",size:0});const c=oot(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(s-o)?c.next():c.next(s-o),!t&&i.byteLength>0&&(r.push(i),o+=i.byteLength),t||s<=o)do({cmd:a,size:s}=yield l());while(s<o);while(!t)}catch(u){(n=!0)&&typeof c.throw=="function"&&c.throw(u)}finally{n===!1&&typeof c.return=="function"&&c.return(null)}return null}function uot(e){return Vv(this,arguments,function*(){let n,r=!1,i=[],a,s,o,l=0;function c(){return s==="peek"?h0(i,o)[0]:([a,i,l]=h0(i,o),a)}({cmd:s,size:o}=(yield yield ha(null))||{cmd:"read",size:0});const u=sot(e)[Symbol.asyncIterator]();try{do if({done:n,value:a}=Number.isNaN(o-l)?yield ha(u.next()):yield ha(u.next(o-l)),!n&&a.byteLength>0&&(i.push(a),l+=a.byteLength),n||o<=l)do({cmd:s,size:o}=yield yield ha(c()));while(o<l);while(!n)}catch(d){(r=!0)&&typeof u.throw=="function"&&(yield ha(u.throw(d)))}finally{r===!1&&typeof u.return=="function"&&(yield ha(u.return(new Uint8Array(0))))}return yield ha(null)})}function fot(e){return Vv(this,arguments,function*(){let n=!1,r=!1,i=[],a,s,o,l=0;function c(){return s==="peek"?h0(i,o)[0]:([a,i,l]=h0(i,o),a)}({cmd:s,size:o}=(yield yield ha(null))||{cmd:"read",size:0});const u=new dot(e);try{do if({done:n,value:a}=Number.isNaN(o-l)?yield ha(u.read()):yield ha(u.read(o-l)),!n&&a.byteLength>0&&(i.push(eo(a)),l+=a.byteLength),n||o<=l)do({cmd:s,size:o}=yield yield ha(c()));while(o<l);while(!n)}catch(d){(r=!0)&&(yield ha(u.cancel(d)))}finally{r===!1?yield ha(u.cancel()):e.locked&&u.releaseLock()}return yield ha(null)})}class dot{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Hi(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Hi(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=eo(n)),n})}}const nN=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function hot(e){return Vv(this,arguments,function*(){const n=[];let r="error",i=!1,a=null,s,o,l=0,c=[],u;function d(){return s==="peek"?h0(c,o)[0]:([u,c,l]=h0(c,o),u)}if({cmd:s,size:o}=(yield yield ha(null))||{cmd:"read",size:0},e.isTTY)return yield yield ha(new Uint8Array(0)),yield ha(null);try{n[0]=nN(e,"end"),n[1]=nN(e,"error");do{if(n[2]=nN(e,"readable"),[r,a]=yield ha(Promise.race(n.map(g=>g[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(o-l)?(u=eo(e.read(o-l)),u.byteLength<o-l&&(u=eo(e.read()))):u=eo(e.read()),u.byteLength>0&&(c.push(u),l+=u.byteLength)),i||o<=l)do({cmd:s,size:o}=yield yield ha(d()));while(o<l)}while(!i)}finally{yield ha(h(n,r==="error"?a:null))}return yield ha(null);function h(g,v){return u=c=null,new Promise((x,w)=>{for(const[C,E]of g)e.off(C,E);try{const C=e.destroy;C&&C.call(e,v),v=void 0}catch(C){v=C||v}finally{v!=null?w(v):x()}})}})}var cc;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(cc||(cc={}));var Ff;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ff||(Ff={}));var Bf;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Bf||(Bf={}));var _g;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(_g||(_g={}));var _i;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(_i||(_i={}));var p0;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(p0||(p0={}));const rN=2,Nv=4,Iy=4,is=4,Zb=new Int32Array(2),Wq=new Float32Array(Zb.buffer),qq=new Float64Array(Zb.buffer),UM=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var B4;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(B4||(B4={}));let y2=class rfe{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new rfe(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return Zb[0]=this.readInt32(t),Wq[0]}readFloat64(t){return Zb[UM?0:1]=this.readInt32(t),Zb[UM?1:0]=this.readInt32(t+4),qq[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Wq[0]=n,this.writeInt32(t,Zb[0])}writeFloat64(t,n){qq[0]=n,this.writeInt32(t,Zb[UM?0:1]),this.writeInt32(t+4,Zb[UM?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Nv+Iy)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Iy;n++)t+=String.fromCharCode(this.readInt8(this.position_+Nv+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Nv;const i=this.bytes_.subarray(t,t+r);return n===B4.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Nv}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Iy)throw new Error("FlatBuffers: file identifier must be length "+Iy);for(let n=0;n<Iy;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Nv+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const a=t(i);a!==null&&r.push(a)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const a=t(i);a!==null&&r.push(a.unpack())}return r}},ife=class afe{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=y2.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=afe.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=y2.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Nv,0),this.writeInt32(this.offset()-t+Nv)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const a=(r+i)*rN;this.addInt16(a);let s=0;const o=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(a==this.bb.readInt16(l)){for(let c=rN;c<a;c+=rN)if(this.bb.readInt16(o+c)!=this.bb.readInt16(l+c))continue e;s=this.vtables[n];break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?is:0;if(n){const a=n;if(this.prep(this.minalign,Nv+Iy+i),a.length!=Iy)throw new TypeError("FlatBuffers: file identifier must be length "+Iy);for(let s=Iy-1;s>=0;s--)this.writeInt8(a.charCodeAt(s))}this.prep(this.minalign,Nv+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Nv,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var xP;(function(e){e[e.BUFFER=0]="BUFFER"})(xP||(xP={}));var wP;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(wP||(wP={}));class Qb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Qb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+is),(n||new Qb).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):wP.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):xP.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,wP.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,xP.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Qb.startBodyCompression(t),Qb.addCodec(t,n),Qb.addMethod(t,r),Qb.endBodyCompression(t)}}class ofe{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let sfe=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},by=class j4{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new j4).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+is),(n||new j4).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new sfe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ofe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Qb).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Vw=class F4{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new F4).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+is),(n||new F4).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new by).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var b2;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(b2||(b2={}));var SP;(function(e){e[e.DenseArray=0]="DenseArray"})(SP||(SP={}));class cp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new cp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+is),(n||new cp).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return cp.startInt(t),cp.addBitWidth(t,n),cp.addIsSigned(t,r),cp.endInt(t)}}class Py{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Py).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+is),(n||new Py).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new cp).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):SP.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,SP.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Kc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Kc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+is),(n||new Kc).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Kc.startKeyValue(t),Kc.addKey(t,n),Kc.addValue(t,r),Kc.endKeyValue(t)}}let Kq=class qC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new qC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+is),(n||new qC).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return qC.startBinary(t),qC.endBinary(t)}},Yq=class KC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new KC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+is),(n||new KC).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return KC.startBool(t),KC.endBool(t)}},OA=class Uw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Uw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+is),(n||new Uw).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_g.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,_g.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Uw.startDate(t),Uw.addUnit(t,n),Uw.endDate(t)}},Gw=class Kb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Kb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+is),(n||new Kb).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Kb.startDecimal(t),Kb.addPrecision(t,n),Kb.addScale(t,r),Kb.addBitWidth(t,i),Kb.endDecimal(t)}},TA=class Ww{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Ww).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+is),(n||new Ww).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_i.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,_i.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Ww.startDuration(t),Ww.addUnit(t,n),Ww.endDuration(t)}},MA=class qw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new qw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+is),(n||new qw).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return qw.startFixedSizeBinary(t),qw.addByteWidth(t,n),qw.endFixedSizeBinary(t)}},AA=class Kw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Kw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+is),(n||new Kw).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Kw.startFixedSizeList(t),Kw.addListSize(t,n),Kw.endFixedSizeList(t)}};class Dv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Dv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+is),(n||new Dv).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bf.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Bf.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Dv.startFloatingPoint(t),Dv.addPrecision(t,n),Dv.endFloatingPoint(t)}}class zv{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new zv).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+is),(n||new zv).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):p0.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,p0.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return zv.startInterval(t),zv.addUnit(t,n),zv.endInterval(t)}}let Xq=class YC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new YC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+is),(n||new YC).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return YC.startLargeBinary(t),YC.endLargeBinary(t)}},Zq=class XC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new XC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+is),(n||new XC).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return XC.startLargeUtf8(t),XC.endLargeUtf8(t)}},Qq=class ZC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new ZC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+is),(n||new ZC).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return ZC.startList(t),ZC.endList(t)}},IA=class Yw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Yw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+is),(n||new Yw).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Yw.startMap(t),Yw.addKeysSorted(t,n),Yw.endMap(t)}},Jq=class QC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new QC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+is),(n||new QC).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return QC.startNull(t),QC.endNull(t)}};class Q_{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Q_).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+is),(n||new Q_).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Q_.startStruct_(t),Q_.endStruct_(t)}}class ig{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ig).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+is),(n||new ig).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_i.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,_i.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ig.startTime(t),ig.addUnit(t,n),ig.addBitWidth(t,r),ig.endTime(t)}}class ag{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new ag).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+is),(n||new ag).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_i.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,_i.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return ag.startTimestamp(t),ag.addUnit(t,n),ag.addTimezone(t,r),ag.endTimestamp(t)}}class ch{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new ch).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+is),(n||new ch).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ff.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Ff.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return ch.startUnion(t),ch.addMode(t,n),ch.addTypeIds(t,r),ch.endUnion(t)}}let eK=class JC{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new JC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+is),(n||new JC).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return JC.startUtf8(t),JC.endUtf8(t)}};var Hs;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(Hs||(Hs={}));let Zp=class PA{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new PA).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+is),(n||new PA).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Hs.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Py).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new PA).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,Hs.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Iv=class my{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new my).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+is),(n||new my).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):b2.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Zp).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,b2.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,a){return my.startSchema(t),my.addEndianness(t,n),my.addFields(t,r),my.addCustomMetadata(t,i),my.addFeatures(t,a),my.endSchema(t)}};var Io;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Io||(Io={}));var At;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(At||(At={}));var _y;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(_y||(_y={}));const pot=void 0;function xO(e){if(e===null)return"null";if(e===pot)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>xO(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function $s(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function lfe(e,t){return $s(e/t)+$s(e%t)/$s(t)}const got=Symbol.for("isArrowBigNum");function Lm(e,...t){return t.length===0?Object.setPrototypeOf(cs(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Lm.prototype[got]=!0;Lm.prototype.toJSON=function(){return`"${SO(this)}"`};Lm.prototype.valueOf=function(e){return cfe(this,e)};Lm.prototype.toString=function(){return SO(this)};Lm.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return cfe(this);case"string":return SO(this);case"default":return yot(this)}return SO(this)};function TS(...e){return Lm.apply(this,e)}function MS(...e){return Lm.apply(this,e)}function wO(...e){return Lm.apply(this,e)}Object.setPrototypeOf(TS.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(MS.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(wO.prototype,Object.create(Uint32Array.prototype));Object.assign(TS.prototype,Lm.prototype,{constructor:TS,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(MS.prototype,Lm.prototype,{constructor:MS,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(wO.prototype,Lm.prototype,{constructor:wO,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const mot=BigInt(4294967296)*BigInt(4294967296),vot=mot-BigInt(1);function cfe(e,t){const{buffer:n,byteOffset:r,byteLength:i,signed:a}=e,s=new BigUint64Array(n,r,i/8),o=a&&s.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),c=0;if(o){for(const u of s)l|=(u^vot)*(BigInt(1)<<BigInt(64*c++));l*=BigInt(-1),l-=BigInt(1)}else for(const u of s)l|=u*(BigInt(1)<<BigInt(64*c++));if(typeof t=="number"){const u=BigInt(Math.pow(10,t)),d=l/u,h=l%u;return $s(d)+$s(h)/$s(u)}return $s(l)}function SO(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return iN(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return iN(e);t=t.slice();let r=1;for(let a=0;a<t.length;a++){const s=t[a],o=~s+r;t[a]=o,r&=s===0?1:0}return`-${iN(t)}`}function yot(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:SO(e)}function iN(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let a=-1;const s=r.length-1;do{for(n[0]=r[a=0];a<s;)r[a++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[a];r[a]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class sj{static new(t,n){switch(n){case!0:return new TS(t);case!1:return new MS(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new TS(t)}return t.byteLength===16?new wO(t):new MS(t)}static signed(t){return new TS(t)}static unsigned(t){return new MS(t)}static decimal(t){return new wO(t)}constructor(t,n){return sj.new(t,n)}}var ufe,ffe,dfe,hfe,pfe,gfe,mfe,vfe,yfe,bfe,_fe,xfe,wfe,Sfe,Cfe,Efe,Ofe,Tfe,Mfe,Afe,Ife,Pfe;class Wr{static isNull(t){return t?.typeId===At.Null}static isInt(t){return t?.typeId===At.Int}static isFloat(t){return t?.typeId===At.Float}static isBinary(t){return t?.typeId===At.Binary}static isLargeBinary(t){return t?.typeId===At.LargeBinary}static isUtf8(t){return t?.typeId===At.Utf8}static isLargeUtf8(t){return t?.typeId===At.LargeUtf8}static isBool(t){return t?.typeId===At.Bool}static isDecimal(t){return t?.typeId===At.Decimal}static isDate(t){return t?.typeId===At.Date}static isTime(t){return t?.typeId===At.Time}static isTimestamp(t){return t?.typeId===At.Timestamp}static isInterval(t){return t?.typeId===At.Interval}static isDuration(t){return t?.typeId===At.Duration}static isList(t){return t?.typeId===At.List}static isStruct(t){return t?.typeId===At.Struct}static isUnion(t){return t?.typeId===At.Union}static isFixedSizeBinary(t){return t?.typeId===At.FixedSizeBinary}static isFixedSizeList(t){return t?.typeId===At.FixedSizeList}static isMap(t){return t?.typeId===At.Map}static isDictionary(t){return t?.typeId===At.Dictionary}static isDenseUnion(t){return Wr.isUnion(t)&&t.mode===Ff.Dense}static isSparseUnion(t){return Wr.isUnion(t)&&t.mode===Ff.Sparse}constructor(t){this.typeId=t}}ufe=Symbol.toStringTag;Wr[ufe]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(Wr.prototype);class S1 extends Wr{constructor(){super(At.Null)}toString(){return"Null"}}ffe=Symbol.toStringTag;S1[ffe]=(e=>e[Symbol.toStringTag]="Null")(S1.prototype);class Mx extends Wr{constructor(t,n){super(At.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}dfe=Symbol.toStringTag;Mx[dfe]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Mx.prototype);class CO extends Mx{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(CO.prototype,"ArrayType",{value:Int32Array});class CP extends Wr{constructor(t){super(At.Float),this.precision=t}get ArrayType(){switch(this.precision){case Bf.HALF:return Uint16Array;case Bf.SINGLE:return Float32Array;case Bf.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}hfe=Symbol.toStringTag;CP[hfe]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(CP.prototype);class EP extends Wr{constructor(){super(At.Binary)}toString(){return"Binary"}}pfe=Symbol.toStringTag;EP[pfe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(EP.prototype);class OP extends Wr{constructor(){super(At.LargeBinary)}toString(){return"LargeBinary"}}gfe=Symbol.toStringTag;OP[gfe]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(OP.prototype);class TP extends Wr{constructor(){super(At.Utf8)}toString(){return"Utf8"}}mfe=Symbol.toStringTag;TP[mfe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(TP.prototype);class MP extends Wr{constructor(){super(At.LargeUtf8)}toString(){return"LargeUtf8"}}vfe=Symbol.toStringTag;MP[vfe]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(MP.prototype);class AP extends Wr{constructor(){super(At.Bool)}toString(){return"Bool"}}yfe=Symbol.toStringTag;AP[yfe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(AP.prototype);class IP extends Wr{constructor(t,n,r=128){super(At.Decimal),this.scale=t,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}bfe=Symbol.toStringTag;IP[bfe]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(IP.prototype);class PP extends Wr{constructor(t){super(At.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${_g[this.unit]}>`}get ArrayType(){return this.unit===_g.DAY?Int32Array:BigInt64Array}}_fe=Symbol.toStringTag;PP[_fe]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(PP.prototype);class RP extends Wr{constructor(t,n){super(At.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${_i[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}xfe=Symbol.toStringTag;RP[xfe]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(RP.prototype);class $P extends Wr{constructor(t,n){super(At.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${_i[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}wfe=Symbol.toStringTag;$P[wfe]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))($P.prototype);class kP extends Wr{constructor(t){super(At.Interval),this.unit=t}toString(){return`Interval<${p0[this.unit]}>`}}Sfe=Symbol.toStringTag;kP[Sfe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(kP.prototype);class LP extends Wr{constructor(t){super(At.Duration),this.unit=t}toString(){return`Duration<${_i[this.unit]}>`}}Cfe=Symbol.toStringTag;LP[Cfe]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(LP.prototype);class NP extends Wr{constructor(t){super(At.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Efe=Symbol.toStringTag;NP[Efe]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(NP.prototype);class wd extends Wr{constructor(t){super(At.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ofe=Symbol.toStringTag;wd[Ofe]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(wd.prototype);class DP extends Wr{constructor(t,n,r){super(At.Union),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,a,s)=>(i[a]=s)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Tfe=Symbol.toStringTag;DP[Tfe]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(DP.prototype);class zP extends Wr{constructor(t){super(At.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Mfe=Symbol.toStringTag;zP[Mfe]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(zP.prototype);class BP extends Wr{constructor(t,n){super(At.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Afe=Symbol.toStringTag;BP[Afe]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(BP.prototype);class jP extends Wr{constructor(t,n=!1){var r,i,a;if(super(At.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t?.type)===null||r===void 0)&&r.children)){const s=(i=t?.type)===null||i===void 0?void 0:i.children[0];s&&(s.name="key");const o=(a=t?.type)===null||a===void 0?void 0:a.children[1];o&&(o.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ife=Symbol.toStringTag;jP[Ife]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(jP.prototype);const bot=(e=>()=>++e)(-1);class _2 extends Wr{constructor(t,n,r,i){super(At.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?bot():$s(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Pfe=Symbol.toStringTag;_2[Pfe]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(_2.prototype);function xy(e){const t=e;switch(e.typeId){case At.Decimal:return e.bitWidth/32;case At.Interval:return 1+t.unit;case At.FixedSizeList:return t.listSize;case At.FixedSizeBinary:return t.byteWidth;default:return 1}}class Oa{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(a=>a[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return _ot(this,t,n)}getVisitFnByTypeId(t,n=!0){return Xw(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function _ot(e,t,n=!0){return typeof t=="number"?Xw(e,t,n):typeof t=="string"&&t in At?Xw(e,At[t],n):t&&t instanceof Wr?Xw(e,tK(t),n):t?.type&&t.type instanceof Wr?Xw(e,tK(t.type),n):Xw(e,At.NONE,n)}function Xw(e,t,n=!0){let r=null;switch(t){case At.Null:r=e.visitNull;break;case At.Bool:r=e.visitBool;break;case At.Int:r=e.visitInt;break;case At.Int8:r=e.visitInt8||e.visitInt;break;case At.Int16:r=e.visitInt16||e.visitInt;break;case At.Int32:r=e.visitInt32||e.visitInt;break;case At.Int64:r=e.visitInt64||e.visitInt;break;case At.Uint8:r=e.visitUint8||e.visitInt;break;case At.Uint16:r=e.visitUint16||e.visitInt;break;case At.Uint32:r=e.visitUint32||e.visitInt;break;case At.Uint64:r=e.visitUint64||e.visitInt;break;case At.Float:r=e.visitFloat;break;case At.Float16:r=e.visitFloat16||e.visitFloat;break;case At.Float32:r=e.visitFloat32||e.visitFloat;break;case At.Float64:r=e.visitFloat64||e.visitFloat;break;case At.Utf8:r=e.visitUtf8;break;case At.LargeUtf8:r=e.visitLargeUtf8;break;case At.Binary:r=e.visitBinary;break;case At.LargeBinary:r=e.visitLargeBinary;break;case At.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case At.Date:r=e.visitDate;break;case At.DateDay:r=e.visitDateDay||e.visitDate;break;case At.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case At.Timestamp:r=e.visitTimestamp;break;case At.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case At.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case At.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case At.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case At.Time:r=e.visitTime;break;case At.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case At.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case At.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case At.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case At.Decimal:r=e.visitDecimal;break;case At.List:r=e.visitList;break;case At.Struct:r=e.visitStruct;break;case At.Union:r=e.visitUnion;break;case At.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case At.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case At.Dictionary:r=e.visitDictionary;break;case At.Interval:r=e.visitInterval;break;case At.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case At.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case At.Duration:r=e.visitDuration;break;case At.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case At.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case At.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case At.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case At.FixedSizeList:r=e.visitFixedSizeList;break;case At.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${At[t]}'`)}function tK(e){switch(e.typeId){case At.Null:return At.Null;case At.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?At.Int8:At.Uint8;case 16:return n?At.Int16:At.Uint16;case 32:return n?At.Int32:At.Uint32;case 64:return n?At.Int64:At.Uint64}return At.Int}case At.Float:switch(e.precision){case Bf.HALF:return At.Float16;case Bf.SINGLE:return At.Float32;case Bf.DOUBLE:return At.Float64}return At.Float;case At.Binary:return At.Binary;case At.LargeBinary:return At.LargeBinary;case At.Utf8:return At.Utf8;case At.LargeUtf8:return At.LargeUtf8;case At.Bool:return At.Bool;case At.Decimal:return At.Decimal;case At.Time:switch(e.unit){case _i.SECOND:return At.TimeSecond;case _i.MILLISECOND:return At.TimeMillisecond;case _i.MICROSECOND:return At.TimeMicrosecond;case _i.NANOSECOND:return At.TimeNanosecond}return At.Time;case At.Timestamp:switch(e.unit){case _i.SECOND:return At.TimestampSecond;case _i.MILLISECOND:return At.TimestampMillisecond;case _i.MICROSECOND:return At.TimestampMicrosecond;case _i.NANOSECOND:return At.TimestampNanosecond}return At.Timestamp;case At.Date:switch(e.unit){case _g.DAY:return At.DateDay;case _g.MILLISECOND:return At.DateMillisecond}return At.Date;case At.Interval:switch(e.unit){case p0.DAY_TIME:return At.IntervalDayTime;case p0.YEAR_MONTH:return At.IntervalYearMonth}return At.Interval;case At.Duration:switch(e.unit){case _i.SECOND:return At.DurationSecond;case _i.MILLISECOND:return At.DurationMillisecond;case _i.MICROSECOND:return At.DurationMicrosecond;case _i.NANOSECOND:return At.DurationNanosecond}return At.Duration;case At.Map:return At.Map;case At.List:return At.List;case At.Struct:return At.Struct;case At.Union:switch(e.mode){case Ff.Dense:return At.DenseUnion;case Ff.Sparse:return At.SparseUnion}return At.Union;case At.FixedSizeBinary:return At.FixedSizeBinary;case At.FixedSizeList:return At.FixedSizeList;case At.Dictionary:return At.Dictionary}throw new Error(`Unrecognized type '${At[e.typeId]}'`)}Oa.prototype.visitInt8=null;Oa.prototype.visitInt16=null;Oa.prototype.visitInt32=null;Oa.prototype.visitInt64=null;Oa.prototype.visitUint8=null;Oa.prototype.visitUint16=null;Oa.prototype.visitUint32=null;Oa.prototype.visitUint64=null;Oa.prototype.visitFloat16=null;Oa.prototype.visitFloat32=null;Oa.prototype.visitFloat64=null;Oa.prototype.visitDateDay=null;Oa.prototype.visitDateMillisecond=null;Oa.prototype.visitTimestampSecond=null;Oa.prototype.visitTimestampMillisecond=null;Oa.prototype.visitTimestampMicrosecond=null;Oa.prototype.visitTimestampNanosecond=null;Oa.prototype.visitTimeSecond=null;Oa.prototype.visitTimeMillisecond=null;Oa.prototype.visitTimeMicrosecond=null;Oa.prototype.visitTimeNanosecond=null;Oa.prototype.visitDenseUnion=null;Oa.prototype.visitSparseUnion=null;Oa.prototype.visitIntervalDayTime=null;Oa.prototype.visitIntervalYearMonth=null;Oa.prototype.visitDuration=null;Oa.prototype.visitDurationSecond=null;Oa.prototype.visitDurationMillisecond=null;Oa.prototype.visitDurationMicrosecond=null;Oa.prototype.visitDurationNanosecond=null;const Rfe=new Float64Array(1),Nw=new Uint32Array(Rfe.buffer);function $fe(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function xot(e){if(e!==e)return 32256;Rfe[0]=e;const t=(Nw[1]&2147483648)>>16&65535;let n=Nw[1]&2146435072,r=0;return n>=1089470464?Nw[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Nw[1]&1048575)>>10):n<=1056964608?(r=1048576+(Nw[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Nw[1]&1048575)+512>>10),t|n|r&65535}class xi extends Oa{}function Ai(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const wot=(e,t,n)=>{e[t]=Math.floor(n/864e5)},kfe=(e,t,n,r)=>{if(n+1<t.length){const i=$s(t[n]),a=$s(t[n+1]);e.set(r.subarray(0,a-i),i)}},Sot=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Jy=({values:e},t,n)=>{e[t]=n},lj=({values:e},t,n)=>{e[t]=n},Lfe=({values:e},t,n)=>{e[t]=xot(n)},Cot=(e,t,n)=>{switch(e.type.precision){case Bf.HALF:return Lfe(e,t,n);case Bf.SINGLE:case Bf.DOUBLE:return lj(e,t,n)}},Nfe=({values:e},t,n)=>{wot(e,t,n.valueOf())},Dfe=({values:e},t,n)=>{e[t]=BigInt(n)},Eot=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},zfe=({values:e,valueOffsets:t},n,r)=>kfe(e,t,n,r),Bfe=({values:e,valueOffsets:t},n,r)=>kfe(e,t,n,ij(r)),Oot=(e,t,n)=>{e.type.unit===_g.DAY?Nfe(e,t,n):Dfe(e,t,n)},jfe=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},Ffe=({values:e},t,n)=>{e[t]=BigInt(n)},Hfe=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},Vfe=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},Tot=(e,t,n)=>{switch(e.type.unit){case _i.SECOND:return jfe(e,t,n);case _i.MILLISECOND:return Ffe(e,t,n);case _i.MICROSECOND:return Hfe(e,t,n);case _i.NANOSECOND:return Vfe(e,t,n)}},Ufe=({values:e},t,n)=>{e[t]=n},Gfe=({values:e},t,n)=>{e[t]=n},Wfe=({values:e},t,n)=>{e[t]=n},qfe=({values:e},t,n)=>{e[t]=n},Mot=(e,t,n)=>{switch(e.type.unit){case _i.SECOND:return Ufe(e,t,n);case _i.MILLISECOND:return Gfe(e,t,n);case _i.MICROSECOND:return Wfe(e,t,n);case _i.NANOSECOND:return qfe(e,t,n)}},Aot=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},Iot=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,a=xg.getVisitFn(r);if(Array.isArray(n))for(let s=-1,o=i[t],l=i[t+1];o<l;)a(r,o++,n[++s]);else for(let s=-1,o=i[t],l=i[t+1];o<l;)a(r,o++,n.get(++s))},Pot=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,a=xg.getVisitFn(r);let{[t]:s,[t+1]:o}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const c of l)if(a(r,s,c),++s>=o)break},Rot=(e,t)=>(n,r,i,a)=>r&&n(r,e,t[a]),$ot=(e,t)=>(n,r,i,a)=>r&&n(r,e,t.get(a)),kot=(e,t)=>(n,r,i,a)=>r&&n(r,e,t.get(i.name)),Lot=(e,t)=>(n,r,i,a)=>r&&n(r,e,t[i.name]),Not=(e,t,n)=>{const r=e.type.children.map(a=>xg.getVisitFn(a.type)),i=n instanceof Map?kot(t,n):n instanceof ts?$ot(t,n):Array.isArray(n)?Rot(t,n):Lot(t,n);e.type.children.forEach((a,s)=>i(r[s],e.children[s],a,s))},Dot=(e,t,n)=>{e.type.mode===Ff.Dense?Kfe(e,t,n):Yfe(e,t,n)},Kfe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];xg.visit(i,e.valueOffsets[t],n)},Yfe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];xg.visit(i,t,n)},zot=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Bot=(e,t,n)=>{e.type.unit===p0.DAY_TIME?Xfe(e,t,n):Zfe(e,t,n)},Xfe=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},Zfe=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},Qfe=({values:e},t,n)=>{e[t]=n},Jfe=({values:e},t,n)=>{e[t]=n},ede=({values:e},t,n)=>{e[t]=n},tde=({values:e},t,n)=>{e[t]=n},jot=(e,t,n)=>{switch(e.type.unit){case _i.SECOND:return Qfe(e,t,n);case _i.MILLISECOND:return Jfe(e,t,n);case _i.MICROSECOND:return ede(e,t,n);case _i.NANOSECOND:return tde(e,t,n)}},Fot=(e,t,n)=>{const{stride:r}=e,i=e.children[0],a=xg.getVisitFn(i);if(Array.isArray(n))for(let s=-1,o=t*r;++s<r;)a(i,o+s,n[s]);else for(let s=-1,o=t*r;++s<r;)a(i,o+s,n.get(s))};xi.prototype.visitBool=Ai(Sot);xi.prototype.visitInt=Ai(Jy);xi.prototype.visitInt8=Ai(Jy);xi.prototype.visitInt16=Ai(Jy);xi.prototype.visitInt32=Ai(Jy);xi.prototype.visitInt64=Ai(Jy);xi.prototype.visitUint8=Ai(Jy);xi.prototype.visitUint16=Ai(Jy);xi.prototype.visitUint32=Ai(Jy);xi.prototype.visitUint64=Ai(Jy);xi.prototype.visitFloat=Ai(Cot);xi.prototype.visitFloat16=Ai(Lfe);xi.prototype.visitFloat32=Ai(lj);xi.prototype.visitFloat64=Ai(lj);xi.prototype.visitUtf8=Ai(Bfe);xi.prototype.visitLargeUtf8=Ai(Bfe);xi.prototype.visitBinary=Ai(zfe);xi.prototype.visitLargeBinary=Ai(zfe);xi.prototype.visitFixedSizeBinary=Ai(Eot);xi.prototype.visitDate=Ai(Oot);xi.prototype.visitDateDay=Ai(Nfe);xi.prototype.visitDateMillisecond=Ai(Dfe);xi.prototype.visitTimestamp=Ai(Tot);xi.prototype.visitTimestampSecond=Ai(jfe);xi.prototype.visitTimestampMillisecond=Ai(Ffe);xi.prototype.visitTimestampMicrosecond=Ai(Hfe);xi.prototype.visitTimestampNanosecond=Ai(Vfe);xi.prototype.visitTime=Ai(Mot);xi.prototype.visitTimeSecond=Ai(Ufe);xi.prototype.visitTimeMillisecond=Ai(Gfe);xi.prototype.visitTimeMicrosecond=Ai(Wfe);xi.prototype.visitTimeNanosecond=Ai(qfe);xi.prototype.visitDecimal=Ai(Aot);xi.prototype.visitList=Ai(Iot);xi.prototype.visitStruct=Ai(Not);xi.prototype.visitUnion=Ai(Dot);xi.prototype.visitDenseUnion=Ai(Kfe);xi.prototype.visitSparseUnion=Ai(Yfe);xi.prototype.visitDictionary=Ai(zot);xi.prototype.visitInterval=Ai(Bot);xi.prototype.visitIntervalDayTime=Ai(Xfe);xi.prototype.visitIntervalYearMonth=Ai(Zfe);xi.prototype.visitDuration=Ai(jot);xi.prototype.visitDurationSecond=Ai(Qfe);xi.prototype.visitDurationMillisecond=Ai(Jfe);xi.prototype.visitDurationMicrosecond=Ai(ede);xi.prototype.visitDurationNanosecond=Ai(tde);xi.prototype.visitFixedSizeList=Ai(Fot);xi.prototype.visitMap=Ai(Pot);const xg=new xi,ym=Symbol.for("parent"),AS=Symbol.for("rowIndex");class cj{constructor(t,n){return this[ym]=t,this[AS]=n,new Proxy(this,new Vot)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[AS],n=this[ym],r=n.type.children,i={};for(let a=-1,s=r.length;++a<s;)i[r[a].name]=mh.visit(n.children[a],t);return i}toString(){return`{${[...this].map(([t,n])=>`${xO(t)}: ${xO(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Hot(this[ym],this[AS])}}class Hot{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,mh.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(cj.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ym]:{writable:!0,enumerable:!1,configurable:!1,value:null},[AS]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Vot{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ym].type.children.map(n=>n.name)}has(t,n){return t[ym].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ym].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ym].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=mh.visit(t[ym].children[r],t[AS]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ym].type.children.findIndex(a=>a.name===n);return i!==-1?(xg.visit(t[ym].children[i],t[AS],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class fi extends Oa{}function wi(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Uot=(e,t)=>864e5*e[t],Got=(e,t)=>null,nde=(e,t,n)=>{if(n+1>=t.length)return null;const r=$s(t[n]),i=$s(t[n+1]);return e.subarray(r,i)},Wot=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},rde=({values:e},t)=>Uot(e,t),ide=({values:e},t)=>$s(e[t]),H1=({stride:e,values:t},n)=>t[e*n],qot=({stride:e,values:t},n)=>$fe(t[e*n]),ade=({values:e},t)=>e[t],Kot=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),ode=({values:e,valueOffsets:t},n)=>nde(e,t,n),sde=({values:e,valueOffsets:t},n)=>{const r=nde(e,t,n);return r!==null?N4(r):null},Yot=({values:e},t)=>e[t],Xot=({type:e,values:t},n)=>e.precision!==Bf.HALF?t[n]:$fe(t[n]),Zot=(e,t)=>e.type.unit===_g.DAY?rde(e,t):ide(e,t),lde=({values:e},t)=>1e3*$s(e[t]),cde=({values:e},t)=>$s(e[t]),ude=({values:e},t)=>lfe(e[t],BigInt(1e3)),fde=({values:e},t)=>lfe(e[t],BigInt(1e6)),Qot=(e,t)=>{switch(e.type.unit){case _i.SECOND:return lde(e,t);case _i.MILLISECOND:return cde(e,t);case _i.MICROSECOND:return ude(e,t);case _i.NANOSECOND:return fde(e,t)}},dde=({values:e},t)=>e[t],hde=({values:e},t)=>e[t],pde=({values:e},t)=>e[t],gde=({values:e},t)=>e[t],Jot=(e,t)=>{switch(e.type.unit){case _i.SECOND:return dde(e,t);case _i.MILLISECOND:return hde(e,t);case _i.MICROSECOND:return pde(e,t);case _i.NANOSECOND:return gde(e,t)}},est=({values:e,stride:t},n)=>sj.decimal(e.subarray(t*n,t*(n+1))),tst=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:a,[t*r+1]:s}=n,l=i[0].slice(a,s-a);return new ts([l])},nst=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:a}=n,s=r[0];return new uj(s.slice(i,a-i))},rst=(e,t)=>new cj(e,t),ist=(e,t)=>e.type.mode===Ff.Dense?mde(e,t):vde(e,t),mde=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return mh.visit(r,e.valueOffsets[t])},vde=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return mh.visit(r,t)},ast=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},ost=(e,t)=>e.type.unit===p0.DAY_TIME?yde(e,t):bde(e,t),yde=({values:e},t)=>e.subarray(2*t,2*(t+1)),bde=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},_de=({values:e},t)=>e[t],xde=({values:e},t)=>e[t],wde=({values:e},t)=>e[t],Sde=({values:e},t)=>e[t],sst=(e,t)=>{switch(e.type.unit){case _i.SECOND:return _de(e,t);case _i.MILLISECOND:return xde(e,t);case _i.MICROSECOND:return wde(e,t);case _i.NANOSECOND:return Sde(e,t)}},lst=(e,t)=>{const{stride:n,children:r}=e,a=r[0].slice(t*n,n);return new ts([a])};fi.prototype.visitNull=wi(Got);fi.prototype.visitBool=wi(Wot);fi.prototype.visitInt=wi(Yot);fi.prototype.visitInt8=wi(H1);fi.prototype.visitInt16=wi(H1);fi.prototype.visitInt32=wi(H1);fi.prototype.visitInt64=wi(ade);fi.prototype.visitUint8=wi(H1);fi.prototype.visitUint16=wi(H1);fi.prototype.visitUint32=wi(H1);fi.prototype.visitUint64=wi(ade);fi.prototype.visitFloat=wi(Xot);fi.prototype.visitFloat16=wi(qot);fi.prototype.visitFloat32=wi(H1);fi.prototype.visitFloat64=wi(H1);fi.prototype.visitUtf8=wi(sde);fi.prototype.visitLargeUtf8=wi(sde);fi.prototype.visitBinary=wi(ode);fi.prototype.visitLargeBinary=wi(ode);fi.prototype.visitFixedSizeBinary=wi(Kot);fi.prototype.visitDate=wi(Zot);fi.prototype.visitDateDay=wi(rde);fi.prototype.visitDateMillisecond=wi(ide);fi.prototype.visitTimestamp=wi(Qot);fi.prototype.visitTimestampSecond=wi(lde);fi.prototype.visitTimestampMillisecond=wi(cde);fi.prototype.visitTimestampMicrosecond=wi(ude);fi.prototype.visitTimestampNanosecond=wi(fde);fi.prototype.visitTime=wi(Jot);fi.prototype.visitTimeSecond=wi(dde);fi.prototype.visitTimeMillisecond=wi(hde);fi.prototype.visitTimeMicrosecond=wi(pde);fi.prototype.visitTimeNanosecond=wi(gde);fi.prototype.visitDecimal=wi(est);fi.prototype.visitList=wi(tst);fi.prototype.visitStruct=wi(rst);fi.prototype.visitUnion=wi(ist);fi.prototype.visitDenseUnion=wi(mde);fi.prototype.visitSparseUnion=wi(vde);fi.prototype.visitDictionary=wi(ast);fi.prototype.visitInterval=wi(ost);fi.prototype.visitIntervalDayTime=wi(yde);fi.prototype.visitIntervalYearMonth=wi(bde);fi.prototype.visitDuration=wi(sst);fi.prototype.visitDurationSecond=wi(_de);fi.prototype.visitDurationMillisecond=wi(xde);fi.prototype.visitDurationMicrosecond=wi(wde);fi.prototype.visitDurationNanosecond=wi(Sde);fi.prototype.visitFixedSizeList=wi(lst);fi.prototype.visitMap=wi(nst);const mh=new fi,Zw=Symbol.for("keys"),IS=Symbol.for("vals"),Qw=Symbol.for("kKeysAsStrings"),H4=Symbol.for("_kKeysAsStrings");class uj{constructor(t){return this[Zw]=new ts([t.children[0]]).memoize(),this[IS]=t.children[1],new Proxy(this,new ust)}get[Qw](){return this[H4]||(this[H4]=Array.from(this[Zw].toArray(),String))}[Symbol.iterator](){return new cst(this[Zw],this[IS])}get size(){return this[Zw].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Zw],n=this[IS],r={};for(let i=-1,a=t.length;++i<a;)r[t.get(i)]=mh.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${xO(t)}: ${xO(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class cst{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),mh.visit(this.vals,t)]})}}class ust{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Qw]}has(t,n){return t[Qw].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Qw].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Qw].indexOf(n);if(r!==-1){const i=mh.visit(Reflect.get(t,IS),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Qw].indexOf(n);return i!==-1?(xg.visit(Reflect.get(t,IS),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(uj.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Zw]:{writable:!0,enumerable:!1,configurable:!1,value:null},[IS]:{writable:!0,enumerable:!1,configurable:!1,value:null},[H4]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let nK;function Cde(e,t,n,r){const{length:i=0}=e;let a=typeof t!="number"?0:t,s=typeof n!="number"?i:n;return a<0&&(a=(a%i+i)%i),s<0&&(s=(s%i+i)%i),s<a&&(nK=a,a=s,s=nK),s>i&&(s=i),r?r(e,a,s):[a,s]}const fj=(e,t)=>e<0?t+e:e,rK=e=>e!==e;function X2(e){if(typeof e!=="object"||e===null)return rK(e)?rK:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?lot(e,n):!1:e instanceof Map?dst(e):Array.isArray(e)?fst(e):e instanceof ts?hst(e):pst(e,!0)}function fst(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=X2(e[n]);return K$(t)}function dst(e){let t=-1;const n=[];for(const r of e.values())n[++t]=X2(r);return K$(n)}function hst(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=X2(e.get(n));return K$(t)}function pst(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,a=n.length;++i<a;)r[i]=X2(e[n[i]]);return K$(r,n)}function K$(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return gst(e,n);case Map:return iK(e,n,n.keys());case uj:case cj:case Object:case void 0:return iK(e,n,t||Object.keys(n))}return n instanceof ts?mst(e,n):!1}}function gst(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function mst(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function iK(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),a=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let s=0;const o=e.length;let l=a.next(),c=r.next(),u=i.next();for(;s<o&&!c.done&&!u.done&&!l.done&&!(c.value!==u.value||!e[s](l.value));++s,c=r.next(),u=i.next(),l=a.next());return s===o&&c.done&&u.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),a.return&&a.return(),!1)}function Ede(e,t,n,r){return(n&1<<r)!==0}function vst(e,t,n,r){return(n&1<<r)>>r}function FP(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):HP(new dj(n,e,t,null,Ede)).subarray(0,r)),i}return n}function HP(e){const t=[];let n=0,r=0,i=0;for(const s of e)s&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const a=new Uint8Array(t.length+7&-8);return a.set(t),a}class dj{constructor(t,n,r,i,a){this.bytes=t,this.length=r,this.context=i,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function V4(e,t,n){if(n-t<=0)return 0;if(n-t<8){let a=0;for(const s of new dj(e,t,n-t,e,vst))a+=s;return a}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return V4(e,t,i)+V4(e,r,n)+yst(e,i>>3,r-i>>3)}function yst(e,t,n){let r=0,i=Math.trunc(t);const a=new DataView(e.buffer,e.byteOffset,e.byteLength),s=n===void 0?e.byteLength:i+n;for(;s-i>=4;)r+=aN(a.getUint32(i)),i+=4;for(;s-i>=2;)r+=aN(a.getUint16(i)),i+=2;for(;s-i>=1;)r+=aN(a.getUint8(i)),i+=1;return r}function aN(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const bst=-1;class os{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return Wr.isSparseUnion(t)?this.children.some(n=>n.nullable):Wr.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:a}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),a&&(t+=a.byteLength),this.children.reduce((s,o)=>s+o.byteLength,t)}get nullCount(){if(Wr.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=bst&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-V4(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,a,s=[],o){this.type=t,this.children=s,this.dictionary=o,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;a instanceof os?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=xy(t),a&&((l=a[0])&&(this.valueOffsets=l),(l=a[1])&&(this.values=l),(l=a[2])&&(this.nullBitmap=l),(l=a[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(Wr.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],a=r.mode===Ff.Dense?this.valueOffsets[t]:t;return i.getValid(a)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(Wr.isUnion(i)){const a=i,s=this.children[a.typeIdToChildIndex[this.typeIds[t]]],o=a.mode===Ff.Dense?this.valueOffsets[t]:t;r=s.getValid(o),s.setValid(o,n)}else{let{nullBitmap:a}=this;const{offset:s,length:o}=this,l=s+t,c=1<<l%8,u=l>>3;(!a||a.byteLength<=u)&&(a=new Uint8Array((s+o+63&-64)>>3).fill(255),this.nullCount>0?(a.set(FP(s,o,this.nullBitmap),0),Object.assign(this,{nullBitmap:a})):Object.assign(this,{nullBitmap:a,_nullCount:0}));const d=a[u];r=(d&c)!==0,a[u]=n?d|c:d&~c}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,a=this,s=this.children){return new os(t,n,r,i,a,s,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:a}=this,s=+(this._nullCount===0)-1,o=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,s,l,a.length===0||this.valueOffsets?a:this._sliceChildren(a,o*t,o*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===At.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(FP(this.offset,n,this.nullBitmap),0);const a=this.buffers;return a[_y.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),a)}_sliceBuffers(t,n,r,i){let a;const{buffers:s}=this;return(a=s[_y.TYPE])&&(s[_y.TYPE]=a.subarray(t,t+n)),(a=s[_y.OFFSET])&&(s[_y.OFFSET]=a.subarray(t,t+n+1))||(a=s[_y.DATA])&&(s[_y.DATA]=i===6?a:a.subarray(r*t,r*(t+n))),s}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}os.prototype.children=Object.freeze([]);class xE extends Oa{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new os(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length>>3,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.data),a=eo(t.nullBitmap),s=EC(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,i,a])}visitLargeUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.data),a=eo(t.nullBitmap),s=Gq(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,i,a])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.data),a=eo(t.nullBitmap),s=EC(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,i,a])}visitLargeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.data),a=eo(t.nullBitmap),s=Gq(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,i,a])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,a=eo(t.nullBitmap),s=EC(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,void 0,a],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,a=eo(t.nullBitmap),{length:s=i.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,void 0,a],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,a=cs(n.ArrayType,t.typeIds),{["length"]:s=a.length,["nullCount"]:o=-1}=t;if(Wr.isSparseUnion(n))return new os(n,r,s,o,[void 0,void 0,void 0,a],i);const l=EC(t.valueOffsets);return new os(n,r,s,o,[l,void 0,void 0,a],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.indices.ArrayType,t.data),{["dictionary"]:s=new ts([new xE().visit({type:n.dictionary})])}=t,{["length"]:o=a.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[void 0,a,i],[],s)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=eo(t.nullBitmap),a=cs(n.ArrayType,t.data),{["length"]:s=a.length,["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,a,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new xE().visit({type:n.valueType})}=t,a=eo(t.nullBitmap),{["length"]:s=i.length/xy(n),["nullCount"]:o=t.nullBitmap?-1:0}=t;return new os(n,r,s,o,[void 0,void 0,a],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new xE().visit({type:n.childType})}=t,a=eo(t.nullBitmap),s=EC(t.valueOffsets),{["length"]:o=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new os(n,r,o,l,[s,void 0,a],[i])}}const _st=new xE;function Ia(e){return _st.visit(e)}class aK{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function xst(e){return e.some(t=>t.nullable)}function Ode(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Tde(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Mde(e,t,n,r){const i=[];for(let a=-1,s=e.length;++a<s;){const o=e[a],l=t[a],{length:c}=o;if(l>=r)break;if(n>=l+c)continue;if(l>=n&&l+c<=r){i.push(o);continue}const u=Math.max(0,n-l),d=Math.min(r-l,c);i.push(o.slice(u,d-u))}return i.length===0&&i.push(e[0].slice(0,0)),i}function hj(e,t,n,r){let i=0,a=0,s=t.length-1;do{if(i>=s-1)return n<t[s]?r(e,i,n-t[i]):null;a=i+Math.trunc((s-i)*.5),n<t[a]?s=a:i=a}while(i<s)}function pj(e,t){return e.getValid(t)}function VP(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return hj(r,this._offsets,n,t)}}function Ade(e){let t;function n(r,i,a){return e(r[i],a,t)}return function(r,i){const a=this.data;t=i;const s=hj(a,this._offsets,r,n);return t=void 0,s}}function Ide(e){let t;function n(r,i,a){let s=a,o=0,l=0;for(let c=i-1,u=r.length;++c<u;){const d=r[c];if(~(o=e(d,t,s)))return l+o;s=0,l+=d.length}return-1}return function(r,i){t=r;const a=this.data,s=typeof i!="number"?n(a,0,0):hj(a,this._offsets,i,n);return t=void 0,s}}class di extends Oa{}function wst(e,t){return t===null&&e.length>0?0:-1}function Sst(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new dj(n,e.offset+(t||0),e.length,n,Ede)){if(!i)return r;++r}return-1}function Bi(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case At.Union:break;case At.Dictionary:break;default:return Sst(e,n)}const r=mh.getVisitFn(e),i=X2(t);for(let a=(n||0)-1,s=e.length;++a<s;)if(i(r(e,a)))return a;return-1}function Pde(e,t,n){const r=mh.getVisitFn(e),i=X2(t);for(let a=(n||0)-1,s=e.length;++a<s;)if(i(r(e,a)))return a;return-1}di.prototype.visitNull=wst;di.prototype.visitBool=Bi;di.prototype.visitInt=Bi;di.prototype.visitInt8=Bi;di.prototype.visitInt16=Bi;di.prototype.visitInt32=Bi;di.prototype.visitInt64=Bi;di.prototype.visitUint8=Bi;di.prototype.visitUint16=Bi;di.prototype.visitUint32=Bi;di.prototype.visitUint64=Bi;di.prototype.visitFloat=Bi;di.prototype.visitFloat16=Bi;di.prototype.visitFloat32=Bi;di.prototype.visitFloat64=Bi;di.prototype.visitUtf8=Bi;di.prototype.visitLargeUtf8=Bi;di.prototype.visitBinary=Bi;di.prototype.visitLargeBinary=Bi;di.prototype.visitFixedSizeBinary=Bi;di.prototype.visitDate=Bi;di.prototype.visitDateDay=Bi;di.prototype.visitDateMillisecond=Bi;di.prototype.visitTimestamp=Bi;di.prototype.visitTimestampSecond=Bi;di.prototype.visitTimestampMillisecond=Bi;di.prototype.visitTimestampMicrosecond=Bi;di.prototype.visitTimestampNanosecond=Bi;di.prototype.visitTime=Bi;di.prototype.visitTimeSecond=Bi;di.prototype.visitTimeMillisecond=Bi;di.prototype.visitTimeMicrosecond=Bi;di.prototype.visitTimeNanosecond=Bi;di.prototype.visitDecimal=Bi;di.prototype.visitList=Bi;di.prototype.visitStruct=Bi;di.prototype.visitUnion=Bi;di.prototype.visitDenseUnion=Pde;di.prototype.visitSparseUnion=Pde;di.prototype.visitDictionary=Bi;di.prototype.visitInterval=Bi;di.prototype.visitIntervalDayTime=Bi;di.prototype.visitIntervalYearMonth=Bi;di.prototype.visitDuration=Bi;di.prototype.visitDurationSecond=Bi;di.prototype.visitDurationMillisecond=Bi;di.prototype.visitDurationMicrosecond=Bi;di.prototype.visitDurationNanosecond=Bi;di.prototype.visitFixedSizeList=Bi;di.prototype.visitMap=Bi;const UP=new di;class hi extends Oa{}function Si(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(Wr.isInt(t)&&t.bitWidth!==64||Wr.isTime(t)&&t.bitWidth!==64||Wr.isFloat(t)&&t.precision!==Bf.HALF))return new aK(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new aK(e.data.length,r=>{const a=e.data[r].length,s=e.slice(n,n+a);return n+=a,new Cst(s)})}class Cst{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}hi.prototype.visitNull=Si;hi.prototype.visitBool=Si;hi.prototype.visitInt=Si;hi.prototype.visitInt8=Si;hi.prototype.visitInt16=Si;hi.prototype.visitInt32=Si;hi.prototype.visitInt64=Si;hi.prototype.visitUint8=Si;hi.prototype.visitUint16=Si;hi.prototype.visitUint32=Si;hi.prototype.visitUint64=Si;hi.prototype.visitFloat=Si;hi.prototype.visitFloat16=Si;hi.prototype.visitFloat32=Si;hi.prototype.visitFloat64=Si;hi.prototype.visitUtf8=Si;hi.prototype.visitLargeUtf8=Si;hi.prototype.visitBinary=Si;hi.prototype.visitLargeBinary=Si;hi.prototype.visitFixedSizeBinary=Si;hi.prototype.visitDate=Si;hi.prototype.visitDateDay=Si;hi.prototype.visitDateMillisecond=Si;hi.prototype.visitTimestamp=Si;hi.prototype.visitTimestampSecond=Si;hi.prototype.visitTimestampMillisecond=Si;hi.prototype.visitTimestampMicrosecond=Si;hi.prototype.visitTimestampNanosecond=Si;hi.prototype.visitTime=Si;hi.prototype.visitTimeSecond=Si;hi.prototype.visitTimeMillisecond=Si;hi.prototype.visitTimeMicrosecond=Si;hi.prototype.visitTimeNanosecond=Si;hi.prototype.visitDecimal=Si;hi.prototype.visitList=Si;hi.prototype.visitStruct=Si;hi.prototype.visitUnion=Si;hi.prototype.visitDenseUnion=Si;hi.prototype.visitSparseUnion=Si;hi.prototype.visitDictionary=Si;hi.prototype.visitInterval=Si;hi.prototype.visitIntervalDayTime=Si;hi.prototype.visitIntervalYearMonth=Si;hi.prototype.visitDuration=Si;hi.prototype.visitDurationSecond=Si;hi.prototype.visitDurationMillisecond=Si;hi.prototype.visitDurationMicrosecond=Si;hi.prototype.visitDurationNanosecond=Si;hi.prototype.visitFixedSizeList=Si;hi.prototype.visitMap=Si;const gj=new hi;var Rde;const $de={},kde={};class ts{constructor(t){var n,r,i;const a=t[0]instanceof ts?t.flatMap(o=>o.data):t;if(a.length===0||a.some(o=>!(o instanceof os)))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=(n=a[0])===null||n===void 0?void 0:n.type;switch(a.length){case 0:this._offsets=[0];break;case 1:{const{get:o,set:l,indexOf:c}=$de[s.typeId],u=a[0];this.isValid=d=>pj(u,d),this.get=d=>o(u,d),this.set=(d,h)=>l(u,d,h),this.indexOf=d=>c(u,d),this._offsets=[0,u.length];break}default:Object.setPrototypeOf(this,kde[s.typeId]),this._offsets=Tde(a);break}this.data=a,this.type=s,this.stride=xy(s),this.numChildren=(i=(r=s.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return xst(this.data)}get nullCount(){return Ode(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${At[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(fj(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return gj.visit(this)}concat(...t){return new ts(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new ts(Cde(this,t,n,({data:r,_offsets:i},a,s)=>Mde(r,i,a,s)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:a}=this;switch(t.typeId){case At.Int:case At.Float:case At.Decimal:case At.Time:case At.Timestamp:switch(n.length){case 0:return new a;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((s,{values:o,length:l})=>(s.array.set(o.subarray(0,l*i),s.offset),s.offset+=l*i,s),{array:new a(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new ts(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Wr.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Wr.isDictionary(this.type)){const t=new GP(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new ts(n)}return new GP(this)}unmemoize(){if(Wr.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new ts(n)}return this}}Rde=Symbol.toStringTag;ts[Rde]=(e=>{e.type=Wr.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(At).map(n=>At[n]).filter(n=>typeof n=="number"&&n!==At.NONE);for(const n of t){const r=mh.getVisitFnByTypeId(n),i=xg.getVisitFnByTypeId(n),a=UP.getVisitFnByTypeId(n);$de[n]={get:r,set:i,indexOf:a},kde[n]=Object.create(e,{isValid:{value:VP(pj)},get:{value:VP(mh.getVisitFnByTypeId(n))},set:{value:Ade(xg.getVisitFnByTypeId(n))},indexOf:{value:Ide(UP.getVisitFnByTypeId(n))}})}return"Vector"})(ts.prototype);class GP extends ts{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,a=new Array(this.length);Object.defineProperty(this,"get",{value(s){const o=a[s];if(o!==void 0)return o;const l=n.call(this,s);return a[s]=l,l}}),Object.defineProperty(this,"set",{value(s,o){r.call(this,s,o),a[s]=o}}),Object.defineProperty(this,"slice",{value:(s,o)=>new GP(i.call(this,s,o))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new ts(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class U4{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}class sp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new sp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+is),(n||new sp).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cc.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Iv).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new U4).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new U4).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,cc.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class ns{constructor(t=[],n,r,i=cc.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=G4(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new ns(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new ns(n,this.metadata)}assign(...t){const n=t[0]instanceof ns?t[0]:Array.isArray(t[0])?new ns(t[0]):new ns(t),r=[...this.fields],i=GM(GM(new Map,this.metadata),n.metadata),a=n.fields.filter(o=>{const l=r.findIndex(c=>c.name===o.name);return~l?(r[l]=o.clone({metadata:GM(GM(new Map,r[l].metadata),o.metadata)}))&&!1:!0}),s=G4(a,new Map);return new ns([...r,...a],i,new Map([...this.dictionaries,...s]))}}ns.prototype.fields=null;ns.prototype.metadata=null;ns.prototype.dictionaries=null;class nl{static new(...t){let[n,r,i,a]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),a===void 0&&(a=t[0].metadata)),new nl(`${n}`,r,i,a)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,a]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,a=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:a=this.metadata}=t[0],nl.new(n,r,i,a)}}nl.prototype.type=null;nl.prototype.name=null;nl.prototype.nullable=null;nl.prototype.metadata=null;function GM(e,t){return new Map([...e||new Map,...t||new Map])}function G4(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const a=e[n].type;if(Wr.isDictionary(a)){if(!t.has(a.id))t.set(a.id,a.dictionary);else if(t.get(a.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}a.children&&a.children.length>0&&G4(a.children,t)}return t}var Est=ife,Ost=y2;class EO{static decode(t){t=new Ost(eo(t));const n=sp.getRootAsFooter(t),r=ns.decode(n.schema(),new Map,n.version());return new Tst(r,n)}static encode(t){const n=new Est,r=ns.encode(n,t.schema);sp.startRecordBatchesVector(n,t.numRecordBatches);for(const s of[...t.recordBatches()].slice().reverse())C1.encode(n,s);const i=n.endVector();sp.startDictionariesVector(n,t.numDictionaries);for(const s of[...t.dictionaryBatches()].slice().reverse())C1.encode(n,s);const a=n.endVector();return sp.startFooter(n),sp.addSchema(n,r),sp.addVersion(n,cc.V5),sp.addRecordBatches(n,i),sp.addDictionaries(n,a),sp.finishFooterBuffer(n,sp.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=cc.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Tst extends EO{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return C1.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return C1.decode(n)}return null}}class C1{static decode(t){return new C1(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),a=BigInt(n.bodyLength);return U4.createBlock(t,i,r,a)}constructor(t,n,r){this.metaDataLength=t,this.offset=$s(r),this.bodyLength=$s(n)}}const kl=Object.freeze({done:!0,value:void 0});class oK{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class mj{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Mst extends mj{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Hi(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(kl);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return tg.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return tg.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Hi(this,void 0,void 0,function*(){return yield this.abort(t),kl})}return(t){return Hi(this,void 0,void 0,function*(){return yield this.close(),kl})}read(t){return Hi(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Hi(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(kl)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class RA extends Mst{write(t){if((t=eo(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?N4(this.toUint8Array(!0)):this.toUint8Array(!1).then(N4)}toUint8Array(t=!1){return t?h0(this._values)[0]:Hi(this,void 0,void 0,function*(){var n,r,i,a;const s=[];let o=0;try{for(var l=!0,c=rx(this),u;u=yield c.next(),n=u.done,!n;l=!0){a=u.value,l=!1;const d=a;s.push(d),o+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}return h0(s,o)[0]})}}class WP{constructor(t){t&&(this.source=new Ast(tg.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class x2{constructor(t){t instanceof x2?this.source=t.source:t instanceof RA?this.source=new F_(tg.fromAsyncIterable(t)):efe(t)?this.source=new F_(tg.fromNodeStream(t)):aj(t)?this.source=new F_(tg.fromDOMStream(t)):Jue(t)?this.source=new F_(tg.fromDOMStream(t.body)):yT(t)?this.source=new F_(tg.fromIterable(t)):Tx(t)?this.source=new F_(tg.fromAsyncIterable(t)):Y2(t)&&(this.source=new F_(tg.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Ast{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||kl)}return(t){return Object.create(this.source.return&&this.source.return(t)||kl)}}class F_{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return Hi(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return Hi(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Hi(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return Hi(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(t){return Hi(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||kl;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return Hi(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||kl;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class sK extends WP{constructor(t,n){super(),this.position=0,this.buffer=eo(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:r}=this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),n.subarray(i,this.position)):null}readAt(t,n){const r=this.buffer,i=Math.min(this.size,t+n);return r?r.subarray(t,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class qP extends x2{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=Hi(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return Hi(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)})}seek(t){return Hi(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return Hi(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let a=i,s=0,o=0;const l=Math.min(r,a+Math.min(r-a,t)),c=new Uint8Array(Math.max(0,(this.position=l)-a));for(;(a+=o)<l&&(s+=o)<c.byteLength;)({bytesRead:o}=yield n.read(c,s,c.byteLength-s,a));return c}return null})}readAt(t,n){return Hi(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&t+n<i){const a=Math.min(i,t+n),s=new Uint8Array(a-t);return(yield r.read(s,0,n,t)).buffer}return new Uint8Array(n)})}close(){return Hi(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return Hi(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return Hi(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const Ist=65536;function lS(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const w2=8,vj=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Lde{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let a=i>>>16;return i=n[2]*r[3],a+=i,i=n[3]*r[2]>>>0,a+=i,this.buffer[0]+=a<<16,this.buffer[1]=a>>>0<i?Ist:0,this.buffer[1]+=a>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${lS(this.buffer[1])} ${lS(this.buffer[0])}`}}class ls extends Lde{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return ls.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ls.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.length,i=new ls(n);for(let a=0;a<r;){const s=w2<r-a?w2:r-a,o=new ls(new Uint32Array([Number.parseInt(t.slice(a,a+s),10),0])),l=new ls(new Uint32Array([vj[s],0]));i.times(l),i.plus(o),a+=s}return i}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)ls.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new ls(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ls(new Uint32Array(t.buffer)).plus(n)}}class sh extends Lde{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,r=t.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return sh.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return sh.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,a=new sh(n);for(let s=r?1:0;s<i;){const o=w2<i-s?w2:i-s,l=new sh(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),c=new sh(new Uint32Array([vj[o],0]));a.times(c),a.plus(l),s+=o}return r?a.negate():a}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)sh.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new sh(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new sh(new Uint32Array(t.buffer)).plus(n)}}class Pv{constructor(t){this.buffer=t}high(){return new sh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new sh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new ls(new Uint32Array([this.buffer[3],0])),r=new ls(new Uint32Array([this.buffer[2],0])),i=new ls(new Uint32Array([this.buffer[1],0])),a=new ls(new Uint32Array([this.buffer[0],0])),s=new ls(new Uint32Array([t.buffer[3],0])),o=new ls(new Uint32Array([t.buffer[2],0])),l=new ls(new Uint32Array([t.buffer[1],0])),c=new ls(new Uint32Array([t.buffer[0],0]));let u=ls.multiply(a,c);this.buffer[0]=u.low();const d=new ls(new Uint32Array([u.high(),0]));return u=ls.multiply(i,c),d.plus(u),u=ls.multiply(a,l),d.plus(u),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(u)?1:0,this.buffer[2]=d.high(),new ls(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ls.multiply(r,c)).plus(ls.multiply(i,l)).plus(ls.multiply(a,o)),this.buffer[3]+=ls.multiply(n,c).plus(ls.multiply(r,l)).plus(ls.multiply(i,o)).plus(ls.multiply(a,s)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${lS(this.buffer[3])} ${lS(this.buffer[2])} ${lS(this.buffer[1])} ${lS(this.buffer[0])}`}static multiply(t,n){return new Pv(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new Pv(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return Pv.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return Pv.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,a=new Pv(n);for(let s=r?1:0;s<i;){const o=w2<i-s?w2:i-s,l=new Pv(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0,0,0])),c=new Pv(new Uint32Array([vj[o],0,0,0]));a.times(c),a.plus(l),s+=o}return r?a.negate():a}static convertArray(t){const n=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)Pv.from(t[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class Nde extends Oa{constructor(t,n,r,i,a=cc.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=a}visit(t){return super.visit(t instanceof nl?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return Ia({type:t,length:n})}visitBool(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<cc.V5&&this.readNullBitmap(t,r),t.mode===Ff.Sparse?this.visitSparseUnion(t,{length:n,nullCount:r}):this.visitDenseUnion(t,{length:n,nullCount:r})}visitDenseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:r}=this.nextFieldNode()){return Ia({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,r=this.nextBufferRange()){return n>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class Pst extends Nde{constructor(t,n,r,i,a){super(new Uint8Array(0),n,r,i,a),this.sources=t}readNullBitmap(t,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):HP(this.sources[r])}readOffsets(t,{offset:n}=this.nextBufferRange()){return cs(Uint8Array,cs(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return cs(Uint8Array,cs(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return Wr.isTimestamp(t)||(Wr.isInt(t)||Wr.isTime(t))&&t.bitWidth===64||Wr.isDuration(t)||Wr.isDate(t)&&t.unit===_g.MILLISECOND?cs(Uint8Array,sh.convertArray(r[n])):Wr.isDecimal(t)?cs(Uint8Array,Pv.convertArray(r[n])):Wr.isBinary(t)||Wr.isLargeBinary(t)||Wr.isFixedSizeBinary(t)?Rst(r[n]):Wr.isBool(t)?HP(r[n]):Wr.isUtf8(t)||Wr.isLargeUtf8(t)?ij(r[n].join("")):cs(Uint8Array,cs(t.ArrayType,r[n].map(i=>+i)))}}function Rst(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}class pi extends Oa{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Id(e,t){return t instanceof e.constructor}function Gx(e,t){return e===t||Id(e,t)}function eb(e,t){return e===t||Id(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Y$(e,t){return e===t||Id(e,t)&&e.precision===t.precision}function $st(e,t){return e===t||Id(e,t)&&e.byteWidth===t.byteWidth}function yj(e,t){return e===t||Id(e,t)&&e.unit===t.unit}function bT(e,t){return e===t||Id(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function _T(e,t){return e===t||Id(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function kst(e,t){return e===t||Id(e,t)&&e.children.length===t.children.length&&E1.compareManyFields(e.children,t.children)}function Lst(e,t){return e===t||Id(e,t)&&e.children.length===t.children.length&&E1.compareManyFields(e.children,t.children)}function bj(e,t){return e===t||Id(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&E1.compareManyFields(e.children,t.children)}function Nst(e,t){return e===t||Id(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&E1.visit(e.indices,t.indices)&&E1.visit(e.dictionary,t.dictionary)}function _j(e,t){return e===t||Id(e,t)&&e.unit===t.unit}function xT(e,t){return e===t||Id(e,t)&&e.unit===t.unit}function Dst(e,t){return e===t||Id(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&E1.compareManyFields(e.children,t.children)}function zst(e,t){return e===t||Id(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&E1.compareManyFields(e.children,t.children)}pi.prototype.visitNull=Gx;pi.prototype.visitBool=Gx;pi.prototype.visitInt=eb;pi.prototype.visitInt8=eb;pi.prototype.visitInt16=eb;pi.prototype.visitInt32=eb;pi.prototype.visitInt64=eb;pi.prototype.visitUint8=eb;pi.prototype.visitUint16=eb;pi.prototype.visitUint32=eb;pi.prototype.visitUint64=eb;pi.prototype.visitFloat=Y$;pi.prototype.visitFloat16=Y$;pi.prototype.visitFloat32=Y$;pi.prototype.visitFloat64=Y$;pi.prototype.visitUtf8=Gx;pi.prototype.visitLargeUtf8=Gx;pi.prototype.visitBinary=Gx;pi.prototype.visitLargeBinary=Gx;pi.prototype.visitFixedSizeBinary=$st;pi.prototype.visitDate=yj;pi.prototype.visitDateDay=yj;pi.prototype.visitDateMillisecond=yj;pi.prototype.visitTimestamp=bT;pi.prototype.visitTimestampSecond=bT;pi.prototype.visitTimestampMillisecond=bT;pi.prototype.visitTimestampMicrosecond=bT;pi.prototype.visitTimestampNanosecond=bT;pi.prototype.visitTime=_T;pi.prototype.visitTimeSecond=_T;pi.prototype.visitTimeMillisecond=_T;pi.prototype.visitTimeMicrosecond=_T;pi.prototype.visitTimeNanosecond=_T;pi.prototype.visitDecimal=Gx;pi.prototype.visitList=kst;pi.prototype.visitStruct=Lst;pi.prototype.visitUnion=bj;pi.prototype.visitDenseUnion=bj;pi.prototype.visitSparseUnion=bj;pi.prototype.visitDictionary=Nst;pi.prototype.visitInterval=_j;pi.prototype.visitIntervalDayTime=_j;pi.prototype.visitIntervalYearMonth=_j;pi.prototype.visitDuration=xT;pi.prototype.visitDurationSecond=xT;pi.prototype.visitDurationMillisecond=xT;pi.prototype.visitDurationMicrosecond=xT;pi.prototype.visitDurationNanosecond=xT;pi.prototype.visitFixedSizeList=Dst;pi.prototype.visitMap=zst;const E1=new pi;function W4(e,t){return E1.compareSchemas(e,t)}function oN(e,t){return Bst(e,t.map(n=>n.data.concat()))}function Bst(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,h)=>Math.max(d,h.length),0)};let a=0,s=0,o=-1;const l=t.length;let c,u=[];for(;i.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,o=-1;++o<l;)u[o]=c=t[o].shift(),s=Math.min(s,c?c.length:s);Number.isFinite(s)&&(u=jst(n,s,u,t,i),s>0&&(r[a++]=Ia({type:new wd(n),length:s,nullCount:0,children:u.slice()})))}return[e=e.assign(n),r.map(d=>new uh(e,d))]}function jst(e,t,n,r,i){var a;const s=(t+63&-64)>>3;for(let o=-1,l=r.length;++o<l;){const c=n[o],u=c?.length;if(u>=t)u===t?n[o]=c:(n[o]=c.slice(0,t),i.numBatches=Math.max(i.numBatches,r[o].unshift(c.slice(t,u-t))));else{const d=e[o];e[o]=d.clone({nullable:!0}),n[o]=(a=c?._changeLengthAndBackfillNullBitmap(t))!==null&&a!==void 0?a:Ia({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(s)})}}return n}var Dde;class _d{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new ns([]),this._offsets=[0],this;let i,a;t[0]instanceof ns&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(a=t.pop());const s=l=>{if(l){if(l instanceof uh)return[l];if(l instanceof _d)return l.batches;if(l instanceof os){if(l.type instanceof wd)return[new uh(new ns(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>s(c));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(c=>s(c));if(typeof l=="object"){const c=Object.keys(l),u=c.map(g=>new ts([l[g]])),d=i??new ns(c.map((g,v)=>new nl(String(g),u[v].type,u[v].nullable))),[,h]=oN(d,u);return h.length===0?[new uh(l)]:h}}}return[]},o=t.flatMap(l=>s(l));if(i=(r=i??((n=o[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new ns([]),!(i instanceof ns))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of o){if(!(l instanceof uh))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!W4(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=o,this._offsets=a??Tde(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Ode(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(fj(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?gj.visit(new ts(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new _d(n,r.map(i=>new uh(n,i)))}slice(t,n){const r=this.schema;[t,n]=Cde({length:this.numRows},t,n);const i=Mde(this.data,this._offsets,t,n);return new _d(r,i.map(a=>new uh(r,a)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Ia({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new ts(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new ts([Ia({type:new S1,length:this.numRows})]));const a=r.fields.slice(),s=a[t].clone({type:n.type}),o=this.schema.fields.map((l,c)=>this.getChildAt(c));[a[t],o[t]]=[s,n],[r,i]=oN(r,o)}return new _d(r,i)}select(t){const n=this.schema.fields.reduce((r,i,a)=>r.set(i.name,a),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new _d(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((o,l,c)=>{const[u,d]=o,h=n.findIndex(g=>g.name===l.name);return~h?d[h]=c:u.push(c),o},[[],[]]),a=this.schema.assign(t.schema),s=[...n.map((o,l)=>[l,i[l]]).map(([o,l])=>l===void 0?this.getChildAt(o):t.getChildAt(l)),...r.map(o=>t.getChildAt(o))].filter(Boolean);return new _d(...oN(a,s))}}Dde=Symbol.toStringTag;_d[Dde]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=VP(pj),e.get=VP(mh.getVisitFn(At.Struct)),e.set=Ade(xg.getVisitFn(At.Struct)),e.indexOf=Ide(UP.getVisitFn(At.Struct)),"Table"))(_d.prototype);var zde;let uh=class eE{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof ns))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ia({nullCount:0,type:new wd(this.schema.fields),children:this.schema.fields.map(n=>Ia({type:n.type,nullCount:0}))})]=t,!(this.data instanceof os))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=lK(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:a}=Object.keys(n).reduce((l,c,u)=>(l.children[u]=n[c],l.length=Math.max(l.length,n[c].length),l.fields[u]=nl.new({name:c,type:n[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),s=new ns(r),o=Ia({type:new wd(r),length:a,children:i,nullCount:0});[this.schema,this.data]=lK(s,o.children,a);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Bde(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return mh.visit(this.data,t)}at(t){return this.get(fj(t,this.numRows))}set(t,n){return xg.visit(this.data,t,n)}indexOf(t,n){return UP.visit(this.data,t,n)}[Symbol.iterator](){return gj.visit(new ts([this.data]))}toArray(){return[...this]}concat(...t){return new _d(this.schema,[this,...t])}slice(t,n){const[r]=new ts([this.data]).slice(t,n).data;return new eE(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new ts([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new ts([Ia({type:new S1,length:this.numRows})]));const a=r.fields.slice(),s=i.children.slice(),o=a[t].clone({type:n.type});[a[t],s[t]]=[o,n.data[0]],r=new ns(a,new Map(this.schema.metadata)),i=Ia({type:new wd(a),children:s})}return new eE(r,i)}select(t){const n=this.schema.select(t),r=new wd(n.fields),i=[];for(const a of t){const s=this.schema.fields.findIndex(o=>o.name===a);~s&&(i[s]=this.data.children[s])}return new eE(n,Ia({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(a=>this.data.children[a]).filter(Boolean),i=Ia({type:new wd(n.fields),length:this.numRows,children:r});return new eE(n,i)}};zde=Symbol.toStringTag;uh[zde]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(uh.prototype);function lK(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],a=[...t],s=(n+63&-64)>>3;for(const[o,l]of e.fields.entries()){const c=t[o];(!c||c.length!==n)&&(i[o]=l.clone({nullable:!0}),a[o]=(r=c?._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Ia({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(s)}))}return[e.assign(i),Ia({type:new wd(i),length:n,children:a})]}function Bde(e,t,n=new Map){var r,i;if(((r=e?.length)!==null&&r!==void 0?r:0)>0&&e?.length===t?.length)for(let a=-1,s=e.length;++a<s;){const{type:o}=e[a],l=t[a];for(const c of[l,...((i=l?.dictionary)===null||i===void 0?void 0:i.data)||[]])Bde(o.children,c?.children,n);if(Wr.isDictionary(o)){const{id:c}=o;if(!n.has(c))l?.dictionary&&n.set(c,l.dictionary);else if(n.get(c)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class xj extends uh{constructor(t){const n=t.fields.map(i=>Ia({type:i.type})),r=Ia({type:new wd(t.fields),nullCount:0,children:n});super(t,r)}}let Gb=class Av{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Av).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+is),(n||new Av).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cc.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Io.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,cc.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Io.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,a,s){return Av.startMessage(t),Av.addVersion(t,n),Av.addHeaderType(t,r),Av.addHeader(t,i),Av.addBodyLength(t,a),Av.addCustomMetadata(t,s),Av.endMessage(t)}};class Fst extends Oa{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Jq.startNull(n),Jq.endNull(n)}visitInt(t,n){return cp.startInt(n),cp.addBitWidth(n,t.bitWidth),cp.addIsSigned(n,t.isSigned),cp.endInt(n)}visitFloat(t,n){return Dv.startFloatingPoint(n),Dv.addPrecision(n,t.precision),Dv.endFloatingPoint(n)}visitBinary(t,n){return Kq.startBinary(n),Kq.endBinary(n)}visitLargeBinary(t,n){return Xq.startLargeBinary(n),Xq.endLargeBinary(n)}visitBool(t,n){return Yq.startBool(n),Yq.endBool(n)}visitUtf8(t,n){return eK.startUtf8(n),eK.endUtf8(n)}visitLargeUtf8(t,n){return Zq.startLargeUtf8(n),Zq.endLargeUtf8(n)}visitDecimal(t,n){return Gw.startDecimal(n),Gw.addScale(n,t.scale),Gw.addPrecision(n,t.precision),Gw.addBitWidth(n,t.bitWidth),Gw.endDecimal(n)}visitDate(t,n){return OA.startDate(n),OA.addUnit(n,t.unit),OA.endDate(n)}visitTime(t,n){return ig.startTime(n),ig.addUnit(n,t.unit),ig.addBitWidth(n,t.bitWidth),ig.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return ag.startTimestamp(n),ag.addUnit(n,t.unit),r!==void 0&&ag.addTimezone(n,r),ag.endTimestamp(n)}visitInterval(t,n){return zv.startInterval(n),zv.addUnit(n,t.unit),zv.endInterval(n)}visitDuration(t,n){return TA.startDuration(n),TA.addUnit(n,t.unit),TA.endDuration(n)}visitList(t,n){return Qq.startList(n),Qq.endList(n)}visitStruct(t,n){return Q_.startStruct_(n),Q_.endStruct_(n)}visitUnion(t,n){ch.startTypeIdsVector(n,t.typeIds.length);const r=ch.createTypeIdsVector(n,t.typeIds);return ch.startUnion(n),ch.addMode(n,t.mode),ch.addTypeIds(n,r),ch.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Py.startDictionaryEncoding(n),Py.addId(n,BigInt(t.id)),Py.addIsOrdered(n,t.isOrdered),r!==void 0&&Py.addIndexType(n,r),Py.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return MA.startFixedSizeBinary(n),MA.addByteWidth(n,t.byteWidth),MA.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return AA.startFixedSizeList(n),AA.addListSize(n,t.listSize),AA.endFixedSizeList(n)}visitMap(t,n){return IA.startMap(n),IA.addKeysSorted(n,t.keysSorted),IA.endMap(n)}}const sN=new Fst;function Hst(e,t=new Map){return new ns(Ust(e,t),$A(e.metadata),t)}function jde(e){return new gp(e.count,Fde(e.columns),Hde(e.columns))}function Vst(e){return new g0(jde(e.data),e.id,e.isDelta)}function Ust(e,t){return(e.fields||[]).filter(Boolean).map(n=>nl.fromJSON(n,t))}function cK(e,t){return(e.children||[]).filter(Boolean).map(n=>nl.fromJSON(n,t))}function Fde(e){return(e||[]).reduce((t,n)=>[...t,new O1(n.count,Gst(n.VALIDITY)),...Fde(n.children)],[])}function Hde(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Wv(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Wv(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Wv(t.length,i.OFFSET.length)),i.DATA&&t.push(new Wv(t.length,i.DATA.length)),t=Hde(i.children,t)}return t}function Gst(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function Wst(e,t){let n,r,i,a,s,o;return!t||!(a=e.dictionary)?(s=fK(e,cK(e,t)),i=new nl(e.name,s,e.nullable,$A(e.metadata))):t.has(n=a.id)?(r=(r=a.indexType)?uK(r):new CO,o=new _2(t.get(n),r,n,a.isOrdered),i=new nl(e.name,o,e.nullable,$A(e.metadata))):(r=(r=a.indexType)?uK(r):new CO,t.set(n,s=fK(e,cK(e,t))),o=new _2(s,r,n,a.isOrdered),i=new nl(e.name,o,e.nullable,$A(e.metadata))),i||null}function $A(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function uK(e){return new Mx(e.isSigned,e.bitWidth)}function fK(e,t){const n=e.type.name;switch(n){case"NONE":return new S1;case"null":return new S1;case"binary":return new EP;case"largebinary":return new OP;case"utf8":return new TP;case"largeutf8":return new MP;case"bool":return new AP;case"list":return new NP((t||[])[0]);case"struct":return new wd(t||[]);case"struct_":return new wd(t||[])}switch(n){case"int":{const r=e.type;return new Mx(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new CP(Bf[r.precision])}case"decimal":{const r=e.type;return new IP(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new PP(_g[r.unit])}case"time":{const r=e.type;return new RP(_i[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new $P(_i[r.unit],r.timezone)}case"interval":{const r=e.type;return new kP(p0[r.unit])}case"duration":{const r=e.type;return new LP(_i[r.unit])}case"union":{const r=e.type,[i,...a]=(r.mode+"").toLowerCase(),s=i.toUpperCase()+a.join("");return new DP(Ff[s],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new zP(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new BP(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new jP((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var qst=ife,Kst=y2;class Sd{static fromJSON(t,n){const r=new Sd(0,cc.V5,n);return r._createHeader=Yst(t,n),r}static decode(t){t=new Kst(eo(t));const n=Gb.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),a=n.headerType(),s=new Sd(r,i,a);return s._createHeader=Xst(n,a),s}static encode(t){const n=new qst;let r=-1;return t.isSchema()?r=ns.encode(n,t.header()):t.isRecordBatch()?r=gp.encode(n,t.header()):t.isDictionaryBatch()&&(r=g0.encode(n,t.header())),Gb.startMessage(n),Gb.addVersion(n,cc.V5),Gb.addHeader(n,r),Gb.addHeaderType(n,t.headerType),Gb.addBodyLength(n,BigInt(t.bodyLength)),Gb.finishMessageBuffer(n,Gb.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof ns)return new Sd(0,cc.V5,Io.Schema,t);if(t instanceof gp)return new Sd(n,cc.V5,Io.RecordBatch,t);if(t instanceof g0)return new Sd(n,cc.V5,Io.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Io.Schema}isRecordBatch(){return this.headerType===Io.RecordBatch}isDictionaryBatch(){return this.headerType===Io.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=$s(t)}}class gp{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=$s(t)}}class g0{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=$s(n)}}class Wv{constructor(t,n){this.offset=$s(t),this.length=$s(n)}}class O1{constructor(t,n){this.length=$s(t),this.nullCount=$s(n)}}function Yst(e,t){return()=>{switch(t){case Io.Schema:return ns.fromJSON(e);case Io.RecordBatch:return gp.fromJSON(e);case Io.DictionaryBatch:return g0.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Io[t]}, type: ${t} }`)}}function Xst(e,t){return()=>{switch(t){case Io.Schema:return ns.decode(e.header(new Iv),new Map,e.version());case Io.RecordBatch:return gp.decode(e.header(new by),e.version());case Io.DictionaryBatch:return g0.decode(e.header(new Vw),e.version())}throw new Error(`Unrecognized Message type: { name: ${Io[t]}, type: ${t} }`)}}nl.encode=slt;nl.decode=alt;nl.fromJSON=Wst;ns.encode=olt;ns.decode=Zst;ns.fromJSON=Hst;gp.encode=llt;gp.decode=Qst;gp.fromJSON=jde;g0.encode=clt;g0.decode=Jst;g0.fromJSON=Vst;O1.encode=ult;O1.decode=tlt;Wv.encode=flt;Wv.decode=elt;function Zst(e,t=new Map,n=cc.V5){const r=ilt(e,t);return new ns(r,kA(e),t,n)}function Qst(e,t=cc.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new gp(e.length(),nlt(e),rlt(e,t))}function Jst(e,t=cc.V5){return new g0(gp.decode(e.data(),t),e.id(),e.isDelta())}function elt(e){return new Wv(e.offset(),e.length())}function tlt(e){return new O1(e.length(),e.nullCount())}function nlt(e){const t=[];for(let n,r=-1,i=-1,a=e.nodesLength();++r<a;)(n=e.nodes(r))&&(t[++i]=O1.decode(n));return t}function rlt(e,t){const n=[];for(let r,i=-1,a=-1,s=e.buffersLength();++i<s;)(r=e.buffers(i))&&(t<cc.V4&&(r.bb_pos+=8*(i+1)),n[++a]=Wv.decode(r));return n}function ilt(e,t){const n=[];for(let r,i=-1,a=-1,s=e.fieldsLength();++i<s;)(r=e.fields(i))&&(n[++a]=nl.decode(r,t));return n}function dK(e,t){const n=[];for(let r,i=-1,a=-1,s=e.childrenLength();++i<s;)(r=e.children(i))&&(n[++a]=nl.decode(r,t));return n}function alt(e,t){let n,r,i,a,s,o;return!t||!(o=e.dictionary())?(i=pK(e,dK(e,t)),r=new nl(e.name(),i,e.nullable(),kA(e))):t.has(n=$s(o.id()))?(a=(a=o.indexType())?hK(a):new CO,s=new _2(t.get(n),a,n,o.isOrdered()),r=new nl(e.name(),s,e.nullable(),kA(e))):(a=(a=o.indexType())?hK(a):new CO,t.set(n,i=pK(e,dK(e,t))),s=new _2(i,a,n,o.isOrdered()),r=new nl(e.name(),s,e.nullable(),kA(e))),r||null}function kA(e){const t=new Map;if(e)for(let n,r,i=-1,a=Math.trunc(e.customMetadataLength());++i<a;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function hK(e){return new Mx(e.isSigned(),e.bitWidth())}function pK(e,t){const n=e.typeType();switch(n){case Hs.NONE:return new S1;case Hs.Null:return new S1;case Hs.Binary:return new EP;case Hs.LargeBinary:return new OP;case Hs.Utf8:return new TP;case Hs.LargeUtf8:return new MP;case Hs.Bool:return new AP;case Hs.List:return new NP((t||[])[0]);case Hs.Struct_:return new wd(t||[])}switch(n){case Hs.Int:{const r=e.type(new cp);return new Mx(r.isSigned(),r.bitWidth())}case Hs.FloatingPoint:{const r=e.type(new Dv);return new CP(r.precision())}case Hs.Decimal:{const r=e.type(new Gw);return new IP(r.scale(),r.precision(),r.bitWidth())}case Hs.Date:{const r=e.type(new OA);return new PP(r.unit())}case Hs.Time:{const r=e.type(new ig);return new RP(r.unit(),r.bitWidth())}case Hs.Timestamp:{const r=e.type(new ag);return new $P(r.unit(),r.timezone())}case Hs.Interval:{const r=e.type(new zv);return new kP(r.unit())}case Hs.Duration:{const r=e.type(new TA);return new LP(r.unit())}case Hs.Union:{const r=e.type(new ch);return new DP(r.mode(),r.typeIdsArray()||[],t||[])}case Hs.FixedSizeBinary:{const r=e.type(new MA);return new zP(r.byteWidth())}case Hs.FixedSizeList:{const r=e.type(new AA);return new BP(r.listSize(),(t||[])[0])}case Hs.Map:{const r=e.type(new IA);return new jP((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Hs[n]}" (${n})`)}function olt(e,t){const n=t.fields.map(a=>nl.encode(e,a));Iv.startFieldsVector(e,n.length);const r=Iv.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Iv.createCustomMetadataVector(e,[...t.metadata].map(([a,s])=>{const o=e.createString(`${a}`),l=e.createString(`${s}`);return Kc.startKeyValue(e),Kc.addKey(e,o),Kc.addValue(e,l),Kc.endKeyValue(e)})):-1;return Iv.startSchema(e),Iv.addFields(e,r),Iv.addEndianness(e,dlt?b2.Little:b2.Big),i!==-1&&Iv.addCustomMetadata(e,i),Iv.endSchema(e)}function slt(e,t){let n=-1,r=-1,i=-1;const a=t.type;let s=t.typeId;Wr.isDictionary(a)?(s=a.dictionary.typeId,i=sN.visit(a,e),r=sN.visit(a.dictionary,e)):r=sN.visit(a,e);const o=(a.children||[]).map(u=>nl.encode(e,u)),l=Zp.createChildrenVector(e,o),c=t.metadata&&t.metadata.size>0?Zp.createCustomMetadataVector(e,[...t.metadata].map(([u,d])=>{const h=e.createString(`${u}`),g=e.createString(`${d}`);return Kc.startKeyValue(e),Kc.addKey(e,h),Kc.addValue(e,g),Kc.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Zp.startField(e),Zp.addType(e,r),Zp.addTypeType(e,s),Zp.addChildren(e,l),Zp.addNullable(e,!!t.nullable),n!==-1&&Zp.addName(e,n),i!==-1&&Zp.addDictionary(e,i),c!==-1&&Zp.addCustomMetadata(e,c),Zp.endField(e)}function llt(e,t){const n=t.nodes||[],r=t.buffers||[];by.startNodesVector(e,n.length);for(const s of n.slice().reverse())O1.encode(e,s);const i=e.endVector();by.startBuffersVector(e,r.length);for(const s of r.slice().reverse())Wv.encode(e,s);const a=e.endVector();return by.startRecordBatch(e),by.addLength(e,BigInt(t.length)),by.addNodes(e,i),by.addBuffers(e,a),by.endRecordBatch(e)}function clt(e,t){const n=gp.encode(e,t.data);return Vw.startDictionaryBatch(e),Vw.addId(e,BigInt(t.id)),Vw.addIsDelta(e,t.isDelta),Vw.addData(e,n),Vw.endDictionaryBatch(e)}function ult(e,t){return sfe.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function flt(e,t){return ofe.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const dlt=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),wj=e=>`Expected ${Io[e]} Message in stream, but was null or length 0.`,Sj=e=>`Header pointer of flatbuffer-encoded ${Io[e]} Message is null or length 0.`,Vde=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,Ude=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class Gde{constructor(t){this.source=t instanceof WP?t:new WP(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?kl:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(wj(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=eo(this.source.read(t));if(n.byteLength<t)throw new Error(Ude(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=Io.Schema,r=this.readMessage(n),i=r?.header();if(t&&!i)throw new Error(Sj(n));return i}readMetadataLength(){const t=this.source.read(X$),n=t&&new y2(t),r=n?.readInt32(0)||0;return{done:r===0,value:r}}readMetadata(t){const n=this.source.read(t);if(!n)return kl;if(n.byteLength<t)throw new Error(Vde(t,n.byteLength));return{done:!1,value:Sd.decode(n)}}}class hlt{constructor(t,n){this.source=t instanceof x2?t:Que(t)?new qP(t,n):new x2(t)}[Symbol.asyncIterator](){return this}next(){return Hi(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?kl:t})}throw(t){return Hi(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return Hi(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return Hi(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(wj(t));return n.value})}readMessageBody(t){return Hi(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=eo(yield this.source.read(t));if(n.byteLength<t)throw new Error(Ude(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return Hi(this,arguments,void 0,function*(t=!1){const n=Io.Schema,r=yield this.readMessage(n),i=r?.header();if(t&&!i)throw new Error(Sj(n));return i})}readMetadataLength(){return Hi(this,void 0,void 0,function*(){const t=yield this.source.read(X$),n=t&&new y2(t),r=n?.readInt32(0)||0;return{done:r===0,value:r}})}readMetadata(t){return Hi(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return kl;if(n.byteLength<t)throw new Error(Vde(t,n.byteLength));return{done:!1,value:Sd.decode(n)}})}}class plt extends Gde{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof oK?t:new oK(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Sd.fromJSON(t.schema,Io.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:Sd.fromJSON(n,Io.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Sd.fromJSON(n,Io.RecordBatch)}}return this._body=[],kl}readMessageBody(t){return n(this._body);function n(r){return(r||[]).reduce((i,a)=>[...i,...a.VALIDITY&&[a.VALIDITY]||[],...a.TYPE_ID&&[a.TYPE_ID]||[],...a.OFFSET&&[a.OFFSET]||[],...a.DATA&&[a.DATA]||[],...n(a.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(wj(t));return n.value}readSchema(){const t=Io.Schema,n=this.readMessage(t),r=n?.header();if(!n||!r)throw new Error(Sj(t));return r}}const X$=4,q4="ARROW1",OO=new Uint8Array(q4.length);for(let e=0;e<q4.length;e+=1)OO[e]=q4.codePointAt(e);function Cj(e,t=0){for(let n=-1,r=OO.length;++n<r;)if(OO[n]!==e[t+n])return!1;return!0}const wT=OO.length,Wde=wT+X$,glt=wT*2+X$;class dg extends mj{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return Tx(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return tg.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return tg.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof dg?t:D4(t)?blt(t):Que(t)?wlt(t):Tx(t)?Hi(this,void 0,void 0,function*(){return yield dg.from(yield t)}):Jue(t)||aj(t)||efe(t)||Y2(t)?xlt(new x2(t)):_lt(new WP(t))}static readAll(t){return t instanceof dg?t.isSync()?gK(t):mK(t):D4(t)||ArrayBuffer.isView(t)||yT(t)||Zue(t)?gK(t):mK(t)}}class KP extends dg{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Vv(this,arguments,function*(){yield ha(yield*fA(rx(this[Symbol.iterator]())))})}}class YP extends dg{constructor(t){super(t),this._impl=t}readAll(){return Hi(this,void 0,void 0,function*(){var t,n,r,i;const a=new Array;try{for(var s=!0,o=rx(this),l;l=yield o.next(),t=l.done,!t;s=!0){i=l.value,s=!1;const c=i;a.push(c)}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return a})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class qde extends KP{constructor(t){super(t),this._impl=t}}class mlt extends YP{constructor(t){super(t),this._impl=t}}class Kde{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const r=this._loadVectors(t,n,this.schema.fields),i=Ia({type:new wd(this.schema.fields),length:t.length,children:r});return new uh(this.schema,i)}_loadDictionaryBatch(t,n){const{id:r,isDelta:i}=t,{dictionaries:a,schema:s}=this,o=a.get(r),l=s.dictionaries.get(r),c=this._loadVectors(t.data,n,[l]);return(o&&i?o.concat(new ts(c)):new ts(c)).memoize()}_loadVectors(t,n,r){return new Nde(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class XP extends Kde{constructor(t,n){super(n),this._reader=D4(t)?new plt(this._handle=t):new Gde(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Xde(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):kl}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):kl}next(){if(this.closed)return kl;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength),a=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new xj(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class ZP extends Kde{constructor(t,n){super(n),this._reader=new hlt(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Hi(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return Hi(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Xde(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return Hi(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):kl})}return(t){return Hi(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):kl})}next(){return Hi(this,void 0,void 0,function*(){if(this.closed)return kl;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength),a=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,a)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new xj(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return Hi(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Yde extends XP{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof sK?t:new sK(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Io.RecordBatch);if(i?.isRecordBatch()){const a=i.header(),s=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(a,s)}}return null}_readDictionaryBatch(t){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Io.DictionaryBatch);if(i?.isDictionaryBatch()){const a=i.header(),s=this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(a,s);this.dictionaries.set(a.id,o)}}}_readFooter(){const{_handle:t}=this,n=t.size-Wde,r=t.readInt32(n),i=t.readAt(n-r,r);return EO.decode(i)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class vlt extends ZP{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(t instanceof qP?t:new qP(t,r),i)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return Hi(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return Hi(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Io.RecordBatch);if(i?.isRecordBatch()){const a=i.header(),s=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(a,s)}}return null})}_readDictionaryBatch(t){return Hi(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Io.DictionaryBatch);if(i?.isDictionaryBatch()){const a=i.header(),s=yield this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(a,s);this.dictionaries.set(a.id,o)}}})}_readFooter(){return Hi(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-Wde,r=yield t.readInt32(n),i=yield t.readAt(n-r,r);return EO.decode(i)})}_readNextMessageAndValidate(t){return Hi(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class ylt extends XP{constructor(t,n){super(t,n)}_loadVectors(t,n,r){return new Pst(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function Xde(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*gK(e){const t=dg.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function mK(e){return Vv(this,arguments,function*(){const n=yield ha(dg.from(e));try{if(!(yield ha(n.open({autoDestroy:!1}))).closed)do yield yield ha(n);while(!(yield ha(n.reset().open())).closed)}finally{yield ha(n.cancel())}})}function blt(e){return new KP(new ylt(e))}function _lt(e){const t=e.peek(wT+7&-8);return t&&t.byteLength>=4?Cj(t)?new qde(new Yde(e.read())):new KP(new XP(e)):new KP(new XP(function*(){}()))}function xlt(e){return Hi(this,void 0,void 0,function*(){const t=yield e.peek(wT+7&-8);return t&&t.byteLength>=4?Cj(t)?new qde(new Yde(yield e.read())):new YP(new ZP(e)):new YP(new ZP(function(){return Vv(this,arguments,function*(){})}()))})}function wlt(e){return Hi(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new qP(e,t);return t>=glt&&Cj(yield n.readAt(0,wT+7&-8))?new mlt(new vlt(n)):new YP(new ZP(n))})}class Ll extends Oa{static assemble(...t){const n=i=>i.flatMap(a=>Array.isArray(a)?n(a):a instanceof uh?a.data.children:a.data),r=new Ll;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof ts)return this.visitMany(t.data),this;const{type:n}=t;if(!Wr.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Wr.isUnion(n))this.nodes.push(new O1(r,0));else{const{nullCount:i}=t;Wr.isNull(n)||Am.call(this,i<=0?new Uint8Array(0):FP(t.offset,r,t.nullBitmap)),this.nodes.push(new O1(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Am(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Wv(this._byteLength,t)),this._byteLength+=t,this}function Slt(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:a}=e;if(Am.call(this,i),n.mode===Ff.Sparse)return K4.call(this,e);if(n.mode===Ff.Dense){if(e.offset<=0)return Am.call(this,a),K4.call(this,e);{const s=new Int32Array(r),o=Object.create(null),l=Object.create(null);for(let c,u,d=-1;++d<r;)(c=i[d])!==void 0&&((u=o[c])===void 0&&(u=o[c]=a[d]),s[d]=a[d]-u,l[c]=((t=l[c])!==null&&t!==void 0?t:0)+1);Am.call(this,s),this.visitMany(e.children.map((c,u)=>{const d=n.typeIds[u],h=o[d],g=l[d];return c.slice(h,Math.min(r,g))}))}}return this}function Clt(e){let t;return e.nullCount>=e.length?Am.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Am.call(this,FP(e.offset,e.length,t)):Am.call(this,HP(e.values))}function tb(e){return Am.call(this,e.values.subarray(0,e.length*e.stride))}function Z$(e){const{length:t,values:n,valueOffsets:r}=e,i=$s(r[0]),a=$s(r[t]),s=Math.min(a-i,n.byteLength-i);return Am.call(this,nfe(-i,t+1,r)),Am.call(this,n.subarray(i,i+s)),this}function Ej(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Am.call(this,nfe(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function K4(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Ll.prototype.visitBool=Clt;Ll.prototype.visitInt=tb;Ll.prototype.visitFloat=tb;Ll.prototype.visitUtf8=Z$;Ll.prototype.visitLargeUtf8=Z$;Ll.prototype.visitBinary=Z$;Ll.prototype.visitLargeBinary=Z$;Ll.prototype.visitFixedSizeBinary=tb;Ll.prototype.visitDate=tb;Ll.prototype.visitTimestamp=tb;Ll.prototype.visitTime=tb;Ll.prototype.visitDecimal=tb;Ll.prototype.visitList=Ej;Ll.prototype.visitStruct=K4;Ll.prototype.visitUnion=Slt;Ll.prototype.visitInterval=tb;Ll.prototype.visitDuration=tb;Ll.prototype.visitFixedSizeList=Ej;Ll.prototype.visitMap=Ej;class Zde extends mj{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new RA,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,gh(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Tx(t)?t.then(n=>this.writeAll(n)):Y2(t)?Aj(this,t):Mj(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof RA?this._sink=t:(this._sink=new RA,t&&tot(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&not(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!W4(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof _d&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof uh&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!W4(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof uh?t instanceof xj||this._writeRecordBatch(t):t instanceof _d?this.writeAll(t.batches):yT(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Sd.encode(t),a=i.byteLength,s=this._writeLegacyIpcFormat?4:8,o=a+s+r&~r,l=o-a-s;return t.headerType===Io.RecordBatch?this._recordBatchBlocks.push(new C1(o,t.bodyLength,this._position)):t.headerType===Io.DictionaryBatch&&this._dictionaryBlocks.push(new C1(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-s)),a>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=eo(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Sd.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(OO)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:a}=Ll.assemble(t),s=new gp(t.numRows,r,i),o=Sd.from(s,n);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(a)}_writeDictionaryBatch(t,n,r=!1){const{byteLength:i,nodes:a,bufferRegions:s,buffers:o}=Ll.assemble(new ts([t])),l=new gp(t.length,a,s),c=new g0(l,n,r),u=Sd.from(c,i);return this._writeMessage(u)._writeBodyBuffers(o)}_writeBodyBuffers(t){let n,r,i;for(let a=-1,s=t.length;++a<s;)(n=t[a])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){var n,r;for(const[i,a]of t.dictionaries){const s=(n=a?.data)!==null&&n!==void 0?n:[],o=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!o||o.data[0]!==s[0])for(const[c,u]of s.entries())this._writeDictionaryBatch(u,i,c>0);else if(l<s.length)for(const c of s.slice(l))this._writeDictionaryBatch(c,i,!0);this._seenDictionaries.set(i,a),this._dictionaryDeltaOffsets.set(i,s.length)}return this}}class Oj extends Zde{static writeAll(t,n){const r=new Oj(n);return Tx(t)?t.then(i=>r.writeAll(i)):Y2(t)?Aj(r,t):Mj(r,t)}}class Tj extends Zde{static writeAll(t){const n=new Tj;return Tx(t)?t.then(r=>n.writeAll(r)):Y2(t)?Aj(n,t):Mj(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,r)}_writeFooter(t){const n=EO.encode(new EO(t,cc.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Mj(e,t){let n=t;t instanceof _d&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function Aj(e,t){return Hi(this,void 0,void 0,function*(){var n,r,i,a,s,o,l;try{for(n=!0,r=rx(t);i=yield r.next(),a=i.done,!a;n=!0){l=i.value,n=!1;const c=l;e.write(c)}}catch(c){s={error:c}}finally{try{!n&&!a&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s.error}}return e.finish()})}function Elt(e,t="stream"){return(t==="stream"?Oj:Tj).writeAll(e).toUint8Array(!0)}var Olt=Object.create,Qde=Object.defineProperty,Tlt=Object.getOwnPropertyDescriptor,Mlt=Object.getOwnPropertyNames,Alt=Object.getPrototypeOf,Ilt=Object.prototype.hasOwnProperty,Plt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rlt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mlt(t))!Ilt.call(e,i)&&i!==n&&Qde(e,i,{get:()=>t[i],enumerable:!(r=Tlt(t,i))||r.enumerable});return e},$lt=(e,t,n)=>(n=e!=null?Olt(Alt(e)):{},Rlt(!e||!e.__esModule?Qde(n,"default",{value:e,enumerable:!0}):n,e)),klt=Plt((e,t)=>{t.exports=Worker}),Llt=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(Llt||{}),Nlt=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(Nlt||{}),Dlt=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(Dlt||{}),zlt=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(zlt||{}),Blt=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(Blt||{}),jlt=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(jlt||{}),Flt=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},Hlt=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(Hlt||{}),Vlt=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=dg.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new _d(n)}async send(e,t=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.startPendingQuery(this._conn,e,t);for(;n==null;)n=await this._bindings.pollPendingQuery(this._conn);let r=new Jde(this._bindings,this._conn,n),i=await dg.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new Ult(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=Elt(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},Jde=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},Ult=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=dg.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new _d(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new Jde(this.bindings,this.connectionId,t),r=await dg.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},Glt=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(Glt||{}),Wlt=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.PROGRESS_UPDATE="PROGRESS_UPDATE",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(Wlt||{}),lo=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function LA(e){switch(e.typeId){case At.Binary:return{sqlType:"binary"};case At.Bool:return{sqlType:"bool"};case At.Date:return{sqlType:"date"};case At.DateDay:return{sqlType:"date32[d]"};case At.DateMillisecond:return{sqlType:"date64[ms]"};case At.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case At.Float:return{sqlType:"float"};case At.Float16:return{sqlType:"float16"};case At.Float32:return{sqlType:"float32"};case At.Float64:return{sqlType:"float64"};case At.Int:return{sqlType:"int32"};case At.Int16:return{sqlType:"int16"};case At.Int32:return{sqlType:"int32"};case At.Int64:return{sqlType:"int64"};case At.Uint16:return{sqlType:"uint16"};case At.Uint32:return{sqlType:"uint32"};case At.Uint64:return{sqlType:"uint64"};case At.Uint8:return{sqlType:"uint8"};case At.IntervalDayTime:return{sqlType:"interval[dt]"};case At.IntervalYearMonth:return{sqlType:"interval[m]"};case At.List:return{sqlType:"list",valueType:LA(e.valueType)};case At.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case At.Null:return{sqlType:"null"};case At.Utf8:return{sqlType:"utf8"};case At.Struct:return{sqlType:"struct",fields:e.children.map(t=>Y4(t.name,t.type))};case At.Map:{let t=e;return{sqlType:"map",keyType:LA(t.keyType),valueType:LA(t.valueType)}}case At.Time:return{sqlType:"time[s]"};case At.TimeMicrosecond:return{sqlType:"time[us]"};case At.TimeMillisecond:return{sqlType:"time[ms]"};case At.TimeNanosecond:return{sqlType:"time[ns]"};case At.TimeSecond:return{sqlType:"time[s]"};case At.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case At.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case At.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case At.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case At.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function Y4(e,t){let n=LA(t);return n.name=e,n}var qlt=new TextEncoder,Klt=class{constructor(e,t=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(n.data);return}case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(t=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&t.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new lo("RESET",null);return await this.postTask(e)}async ping(){let e=new lo("PING",null);await this.postTask(e)}async dropFile(e){let t=new lo("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new lo("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new lo("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new lo("INSTANTIATE",[e,t]);return await this.postTask(r)}async getVersion(){let e=new lo("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new lo("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new lo("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new lo("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new lo("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new Vlt(this,e)}async disconnect(e){let t=new lo("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let n=new lo("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t,n=!1){let r=new lo("START_PENDING_QUERY",[e,t,n]);return await this.postTask(r)}async pollPendingQuery(e){let t=new lo("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new lo("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new lo("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new lo("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new lo("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new lo("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let r=new lo("RUN_PREPARED",[e,t,n]);return await this.postTask(r)}async sendPrepared(e,t,n){let r=new lo("SEND_PREPARED",[e,t,n]);return await this.postTask(r)}async globFiles(e){let t=new lo("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=qlt.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,r){t===void 0&&(t=e);let i=new lo("REGISTER_FILE_URL",[e,t,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,t){let n=new lo("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,r){let i=new lo("REGISTER_FILE_HANDLE",[e,t,n,r]);await this.postTask(i,[])}async registerOPFSFileName(e){let t=new lo("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(t,[])}async collectFileStatistics(e,t){let n=new lo("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new lo("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new lo("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new lo("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let r=new lo("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(r,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let a in n.columns){let s=n.columns[a];i.push(Y4(a,s))}n.columnsFlat=i,delete n.columns}let r=new lo("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(r)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let a in n.columns){let s=n.columns[a];i.push(Y4(a,s))}n.columnsFlat=i,delete n.columns}let r=new lo("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(r)}};function Ylt(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}Ylt();var Xlt=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(Xlt||{}),Zlt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Qlt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Jlt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),ect=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),tct={version:"1.29.1-dev132.0"},Ij=tct.version.split(".");Ij[0];Ij[1];Ij[2];var nct=()=>typeof navigator>"u",lN=null,cN=null,uN=null,fN=null,dN=null;async function rct(){return lN==null&&(lN=typeof BigInt64Array<"u"),cN==null&&(cN=await Qlt()),uN==null&&(uN=await ect()),fN==null&&(fN=await Jlt()),dN==null&&(dN=await Zlt()),{bigInt64Array:lN,crossOriginIsolated:nct()||globalThis.crossOriginIsolated||!1,wasmExceptions:cN,wasmSIMD:fN,wasmThreads:uN,wasmBulkMemory:dN}}async function ict(e){let t=await rct();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}$lt(klt());const act="/romania-educata/assets/duckdb-mvp-Cx8s1fVm.wasm",oct="/romania-educata/assets/duckdb-browser-mvp.worker-BU4f-ubc.js",sct="/romania-educata/assets/duckdb-eh-CY01qZ36.wasm",lct="/romania-educata/assets/duckdb-browser-eh.worker-Dr8caoCF.js",cct={mvp:{mainModule:act,mainWorker:oct},eh:{mainModule:sct,mainWorker:lct}},X4=await ict(cct),uct=new Worker(X4.mainWorker),fct=new Flt,Dw=new Klt(fct,uct);function dct(){const[e,t]=I.useState(null),[n,r]=I.useState(!1);return I.useEffect(()=>((async()=>{try{await Dw.instantiate(X4.mainModule,X4.pthreadWorker);const a=await Dw.connect(),s=await fetch("/data/school_info.parquet");await Dw.registerFileBuffer("school_info.parquet",new Uint8Array(await s.arrayBuffer())),await a.query("CREATE TABLE school_info AS SELECT * FROM 'school_info.parquet'");const o=await fetch("/data/student_stats.parquet");await Dw.registerFileBuffer("student_stats.parquet",new Uint8Array(await o.arrayBuffer())),await a.query("CREATE TABLE student_stats AS SELECT * FROM 'student_stats.parquet'");const l=await fetch("/data/bac_2024.parquet");await Dw.registerFileBuffer("bac_2024.parquet",new Uint8Array(await l.arrayBuffer())),await a.query("CREATE TABLE bac_2024 AS SELECT * FROM 'bac_2024.parquet'");const c=await fetch("/data/en_2024.parquet");await Dw.registerFileBuffer("en_2024.parquet",new Uint8Array(await c.arrayBuffer())),await a.query("CREATE TABLE en_2024 AS SELECT * FROM 'en_2024.parquet'"),t(a),r(!0)}catch(a){console.error("Error initializing DuckDB instance:",a)}})(),()=>{e&&e.close()}),[]),{dbConn:e,dbReady:n}}const{Title:hct}=I1,{Header:pct,Content:gct,Sider:mct}=y1,vct=()=>qn.jsx("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:qn.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),yct=()=>{const{t:e}=A1(),{filters:t,typeOfMap:n,setTypeOfMap:r,updateFilter:i}=I.useContext(m0);return t.town?null:qn.jsx(NQ,{options:[{value:"schools",icon:qn.jsx(iI,{component:LJ}),label:e("schools")},{value:"students",icon:qn.jsx(iI,{component:vct}),label:e("students")},...t.inBacData||t.inEvaluareData?[{value:"grades",icon:qn.jsx(JIe,{}),label:e("grades")}]:[]],value:n,onChange:a=>{a=="grades"&&(i("bacResults.Promovat",!0),i("bacResults.Nepromovat",!1),i("bacResults.Absent",!1),i("bacResults.Eliminat",!1),i("perCapita",!1)),r(a)},style:{position:"absolute",top:20,left:20,zIndex:1e3}})};function bct(){const{countryGeoData:e,demographics:t}=ime(),{dbConn:n,dbReady:r}=dct(),{token:{colorBgContainer:i,borderRadiusLG:a}}=bke.useToken(),{t:s}=A1();return qn.jsx(AO.Provider,{value:{countryGeoData:e,dbConn:n,dbReady:r,demographics:t},children:qn.jsx(epe,{children:qn.jsxs(y1,{style:{height:"100vh",background:i,display:"flex",flexDirection:"column"},children:[qn.jsx(pct,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:qn.jsx(hct,{level:1,style:{margin:0,color:"white"},children:s("title")})}),r?qn.jsxs(y1,{style:{flexDirection:"row",flex:1},children:[qn.jsx(mct,{width:250,style:{background:i,overflowY:"auto"},collapsible:!0,children:qn.jsx(Zat,{})}),qn.jsxs(gct,{style:{margin:0,background:i,borderRadius:a,flex:1,position:"relative"},children:[qn.jsx(yct,{}),qn.jsx(Xat,{})]})]}):qn.jsx(Zy,{theme:{token:{colorBgMask:"rgba(255, 255, 255, 0.7)"}},children:qn.jsx(fB,{indicator:qn.jsx(I2,{style:{fontSize:100}}),spinning:!r,fullscreen:!0})})]})})})}const qi=e=>typeof e=="string",OC=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},vK=e=>e==null?"":""+e,_ct=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},xct=/###/g,yK=e=>e&&e.indexOf("###")>-1?e.replace(xct,"."):e,bK=e=>!e||qi(e),wE=(e,t,n)=>{const r=qi(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(bK(e))return{};const a=yK(r[i]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return bK(e)?{}:{obj:e,k:yK(r[i])}},_K=(e,t,n)=>{const{obj:r,k:i}=wE(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],s=t.slice(0,t.length-1),o=wE(e,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=wE(e,s,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},wct=(e,t,n,r)=>{const{obj:i,k:a}=wE(e,t,Object);i[a]=i[a]||[],i[a].push(n)},QP=(e,t)=>{const{obj:n,k:r}=wE(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Sct=(e,t,n)=>{const r=QP(e,n);return r!==void 0?r:QP(t,n)},ehe=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?qi(e[r])||e[r]instanceof String||qi(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):ehe(e[r],t[r],n):e[r]=t[r]);return e},zw=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Cct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ect=e=>qi(e)?e.replace(/[&<>"'\/]/g,t=>Cct[t]):e;class Oct{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Tct=[" ",",","?","!",";"],Mct=new Oct(20),Act=(e,t,n)=>{t=t||"",n=n||"";const r=Tct.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Mct.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(e);if(!a){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(a=!0)}return a},Z4=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},JP=e=>e?.replace("_","-"),Ict={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class eR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Ict,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(qi(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new eR(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new eR(this.logger,t)}}var qv=new eR;class Q${constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[o,l]=s;for(let c=0;c<l;c++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[o,l]=s;for(let c=0;c<l;c++)o.apply(o,[t,...r])})}}class xK extends Q${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],r&&(Array.isArray(r)?o.push(...r):qi(r)&&a?o.push(...r.split(a)):o.push(r)));const l=QP(this.data,o);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!qi(r)?l:Z4(this.data?.[t]?.[n],r,a)}addResource(t,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[t,n];r&&(o=o.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(o=t.split("."),i=n,n=o[1]),this.addNamespaces(n),_K(this.data,o,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(qi(r[a])||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=QP(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ehe(l,r,a):l={...l,...r},_K(this.data,o,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var the={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{t=this.processors[a]?.process(t,n,r,i)??t}),t}};const wK={},SK=e=>!qi(e)&&typeof e!="boolean"&&typeof e!="number";class tR extends Q${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_ct(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qv.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return t==null?!1:this.resolve(t,n)?.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Act(t,r,i);if(s&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:qi(a)?[a]:a};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),t=c.join(i)}return{key:t,namespaces:qi(a)?[a]:a}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(t[t.length-1],n),l=o[o.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode"){if(u){const K=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${K}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${K}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const d=this.resolve(t,n);let h=d?.res;const g=d?.usedKey||s,v=d?.exactUsedKey||s,x=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,E=n.count!==void 0&&!qi(n.count),M=tR.hasDefaultValue(n),R=E?this.pluralResolver.getSuffix(c,n.count,n):"",L=n.ordinal&&E?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=E&&!n.ordinal&&n.count===0,D=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${R}`]||n[`defaultValue${L}`]||n.defaultValue;let H=h;C&&!h&&M&&(H=D);const U=SK(H),q=Object.prototype.toString.apply(H);if(C&&H&&U&&x.indexOf(q)<0&&!(qi(w)&&Array.isArray(H))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const K=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,H,{...n,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(d.res=K,d.usedParams=this.getUsedParamsDetails(n),d):K}if(a){const K=Array.isArray(H),Q=K?[]:{},X=K?v:g;for(const te in H)if(Object.prototype.hasOwnProperty.call(H,te)){const ee=`${X}${a}${te}`;M&&!h?Q[te]=this.translate(ee,{...n,defaultValue:SK(D)?D[te]:void 0,joinArrays:!1,ns:o}):Q[te]=this.translate(ee,{...n,joinArrays:!1,ns:o}),Q[te]===ee&&(Q[te]=H[te])}h=Q}}else if(C&&qi(w)&&Array.isArray(h))h=h.join(w),h&&(h=this.extendTranslation(h,t,n,r));else{let K=!1,Q=!1;!this.isValidLookup(h)&&M&&(K=!0,h=D),this.isValidLookup(h)||(Q=!0,h=s);const te=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:h,ee=M&&D!==h&&this.options.updateMissing;if(Q||K||ee){if(this.logger.log(ee?"updateKey":"missingKey",c,l,s,ee?D:h),a){const ce=this.resolve(s,{...n,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(let ce=0;ce<re.length;ce++)Z.push(re[ce]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(n.lng||this.language):Z.push(n.lng||this.language);const oe=(ce,le,pe)=>{const ye=M&&pe!==h?pe:te;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,l,le,ye,ee,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ce,l,le,ye,ee,n),this.emit("missingKey",ce,l,le,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?Z.forEach(ce=>{const le=this.pluralResolver.getSuffixes(ce,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(pe=>{oe([ce],s+pe,n[`defaultValue${pe}`]||D)})}):oe(Z,s,D))}h=this.extendTranslation(h,t,n,d,r),Q&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${s}`),(Q||K)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,K?h:void 0))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(n),d):h}extendTranslation(t,n,r,i,a){var s=this;if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=qi(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=t.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=r.replace&&!qi(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||i.usedLng,r),c){const h=t.match(this.interpolator.nestingRegexp),g=h&&h.length;u<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];return a?.[0]===g[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):s.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=qi(o)?[o]:o;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=the.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,a,s,o;return qi(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!qi(n.count),g=h&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(qi(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(w=>{this.isValidLookup(r)||(o=w,!wK[`${x[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(wK[`${x[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(C=>{if(this.isValidLookup(r))return;s=C;const E=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(E,u,C,w,n);else{let R;h&&(R=this.pluralResolver.getSuffix(C,n.count,n));const L=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(E.push(u+R),n.ordinal&&R.indexOf(N)===0&&E.push(u+R.replace(N,this.options.pluralSeparator)),g&&E.push(u+L)),v){const D=`${u}${this.options.contextSeparator}${n.context}`;E.push(D),h&&(E.push(D+R),n.ordinal&&R.indexOf(N)===0&&E.push(D+R.replace(N,this.options.pluralSeparator)),g&&E.push(D+L))}}let M;for(;M=E.pop();)this.isValidLookup(r)||(a=M,r=this.getResource(C,w,M,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!qi(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class CK{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qv.create("languageUtils")}getScriptPartFromCode(t){if(t=JP(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=JP(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(qi(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),qi(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return qi(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):qi(t)&&a(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const EK={zero:0,one:1,two:2,few:3,many:4,other:5},OK={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Pct{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=qv.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=JP(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),OK;if(!t.match(/-|_/))return OK;const l=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>EK[i]-EK[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const TK=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Sct(e,t,n);return!a&&i&&qi(n)&&(a=Z4(e,n,r),a===void 0&&(a=Z4(t,n,r))),a},hN=e=>e.replace(/\$/g,"$$$$");class Rct{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qv.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:x,nestingOptionsSeparator:w,maxReplaces:C,alwaysFormat:E}=t.interpolation;this.escape=n!==void 0?n:Ect,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?zw(a):s||"{{",this.suffix=o?zw(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?zw(h):g||zw("$t("),this.nestingSuffix=v?zw(v):x||zw(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=C||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const C=TK(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...i,...n,interpolationkey:g}):C}const v=g.split(this.formatSeparator),x=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(TK(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>hN(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?hN(this.escape(g)):hN(g)}].forEach(g=>{for(o=0;a=g.regex.exec(t);){const v=a[1].trim();if(s=c(v),s===void 0)if(typeof u=="function"){const w=u(t,a,i);s=qi(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),s="";else!qi(s)&&!this.useRawValueToEscape&&(s=vK(s));const x=g.safeValue(s);if(t=t.replace(a[0],x),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const g=h.match(/'/g),v=h.match(/"/g);((g?.length??0)%2===0&&!v||v.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&!qi(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===t&&!qi(a))return a;qi(a)||(a=vK(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),c&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const $ct=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},Bw=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=t[s];return o||(o=e(JP(r),i),t[s]=o),o(n)}};class kct{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qv.create("formatter"),this.options=t,this.formats={number:Bw((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return a=>i.format(a)}),currency:Bw((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>i.format(a)}),datetime:Bw((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return a=>i.format(a)}),relativetime:Bw((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return a=>i.format(a,r.range||"day")}),list:Bw((n,r)=>{const i=new Intl.ListFormat(n,{...r});return a=>i.format(a)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Bw(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{const{formatName:c,formatOptions:u}=$ct(l);if(this.formats[c]){let d=o;try{const h=i?.formatParams?.[i.interpolationkey]||{},g=h.locale||h.lng||i.locale||i.lng||r;d=this.formats[c](o,g,{...u,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${c}`);return o},t)}}const Lct=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Nct extends Q${constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=qv.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(t,n,r,i){const a={},s={},o={},l={};return t.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const o={};this.queue.forEach(l=>{wct(l.loaded,[a],s),Lct(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(t,n,o)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();qi(t)&&(t=this.languageUtils.toResolveHierarchy(t)),qi(n)&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(t,s,o)})}saveMissing(t,n,r,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...s,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(t,n,r,i,l):u=c(t,n,r,i),u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}else c(t,n,r,i,o,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const MK=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),qi(e[1])&&(t.defaultValue=e[1]),qi(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),AK=e=>(qi(e.ns)&&(e.ns=[e.ns]),qi(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),qi(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),WM=()=>{},Dct=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class TO extends Q${constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=AK(t),this.services={},this.logger=qv,this.modules={external:[]},Dct(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(qi(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=MK();this.options={...i,...this.options,...AK(n)},this.options.interpolation={...i.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?qv.init(a(this.modules.logger),this.options):qv.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=kct;const d=new CK(this.options);this.store=new xK(this.options.resources,this.options);const h=this.services;h.logger=qv,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new Pct(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=a(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Rct(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Nct(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var v=arguments.length,x=new Array(v>1?v-1:0),w=1;w<v;w++)x[w-1]=arguments[w];t.emit(g,...x)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new tR(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,x=new Array(v>1?v-1:0),w=1;w<v;w++)x[w-1]=arguments[w];t.emit(g,...x)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=WM),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const l=OC(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WM;const i=qi(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],s=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload?.forEach?.(o=>s(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(t,n,r){const i=OC();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=WM),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&the.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=OC();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=qi(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,u=>{s(u,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,n,r){var i=this;const a=function(s,o){let l;if(typeof o!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([s,o].concat(u))}else l={...o};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const h=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(s)?g=s.map(v=>`${l.keyPrefix}${h}${v}`):g=l.keyPrefix?`${l.keyPrefix}${h}${s}`:s,i.t(g,l)};return qi(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.translator?.translate(...n)}exists(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.translator?.exists(...n)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(a,t)))}loadNamespaces(t,n){const r=OC();return this.options.ns?(qi(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=OC();qi(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new CK(MK());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new TO(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WM;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new TO(i);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),{})),{});a.store=new xK(o,i),a.services.resourceStore=a.store}return a.translator=new tR(a.services,i),a.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];a.emit(o,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vf=TO.createInstance();Vf.createInstance=TO.createInstance;Vf.createInstance;Vf.dir;Vf.init;Vf.loadResources;Vf.reloadResources;Vf.use;Vf.changeLanguage;Vf.getFixedT;Vf.t;Vf.exists;Vf.setDefaultNamespace;Vf.hasLoadedNamespace;Vf.loadNamespaces;Vf.loadLanguages;const zct="Educated Romania",Bct="Education Level",jct="Students",Fct="Teachers",Hct="Student/Teacher Ratio",Vct="Language",Uct="Schools",Gct="Primary",Wct="Middle School",qct="High School",Kct="Post-High School",Yct="Vocational",Xct="Per 1000 inhabitants",Zct="Demography",Qct="Population",Jct="Values are normalized per 10,000 people at the county level and per 1,000 people at the town level.",eut="Strict Level-Language",tut="School age (519)",nut="Only includes schools that offer every selected education level with at least one of the selected languages. (Useful when selecting one language).",rut={romani:"Romanians",maghiari:"Hungarians",romi:"Roma",ucraineni:"Ukrainians",germani:"Germans",turci:"Turks",rusi_lipoveni:"Russian Lipovans",tatari:"Tatars",sarbi:"Serbs",slovaci:"Slovaks",bulgari:"Bulgarians",croati:"Croats",greci:"Greeks",italieni:"Italians",evrei:"Jews",cehi:"Czechs",polonezi:"Poles",ruteni:"Ruthenians",armeni:"Armenians",albanezi:"Albanians",macedoneni:"Macedonians",alta_etnie:"Other ethnicity",neidentificat:"Unspecified"},iut={graduate:"Graduate",undergraduate:"Undergraduate",high_school:"High school",vocational:"Vocational school",middle_school:"Middle school",primary:"Primary school",no_education:"No education"},aut="Passed",out="Failed",sut="Absent",lut="Disqualified",cut="Grades",uut="Phone",fut={title:zct,education:Bct,students:jct,teachers:Fct,ratio:Hct,language:Vct,schools:Uct,Primar:Gct,Gimnazial:Wct,Liceal:qct,Postliceal:Kct,Anteprecolar:"Pre-School",Precolar:"Kindergarten",Profesional:Yct,romn:"Romanian",maghiar:"Hungarian",german:"German","romani (rromani)":"Romani",slovac:"Slovak",srb:"Serbian",italian:"Italian",englez:"English",ceh:"Czech",croat:"Croatian",ucrainean:"Ukrainian",polon:"Polish",bulgar:"Bulgarian",turc:"Turkish",perCapita:Xct,Demografie:Zct,Surs:"Source","Limba de instruire":"Language of Instruction","Grupe de vrst":"Age Groups",coal:"School",Population:Qct,"School age":"School Age","Distribuia judeean a nivelului de educaie atins":"County Educational Attainment Breakdown",perCapitaTooltip:Jct,"Ethnic Breakdown":"Ethnic Breakdown","List coli":"Schools","Match Settings":"Match Settings","Other Levels":"Other Levels","Main Levels":"Main Levels","Main Languages":"Main Languages","Numr elevi":"Student Count","Common Languages":"Common Languages","Other Languages":"Other Languages",strictLevelLanguage:eut,"Limba matern":"Mother Tongue",schoolAge:tut,"Result Filters":"Result Filter",strictLevelLanguageTooltip:nut,ethnicity:rut,education_dem:iut,Promovat:aut,Nepromovat:out,Absent:sut,Eliminat:lut,grades:cut,Telefon:uut,Adres:"Address","Cod SIIR":"SIIR Code"},dut="Romnia Educat",hut="Nivel de instruire",put="Elevi",gut="Cadre Didactice",mut="Raport Elevi/Profesori",vut="Limb",yut="coli",but="Per 1000 rezideni",_ut="Vrst colar (5-19 ani)",xut="Strict nivel-limb",wut="Medii",Sut="Populaie",Cut="Valorile sunt normalizate la 10.000 de locuitori pentru judee i la 1.000 de locuitori pentru localiti.",Eut="Include doar colile care ofer fiecare nivel educaional selectat ntr-una dintre limbile selectate. (Util cnd selectezi o singur limb.)",Out={romani:"romni",maghiari:"maghiari",romi:"romi",ucraineni:"ucraineni",germani:"germani",turci:"turci",rusi_lipoveni:"rui lipoveni","rusi-lipoveni":"rui lipoveni",tatari:"ttari",sarbi:"srbi",slovaci:"slovaci",bulgari:"bulgari",croati:"croai",greci:"greci",italieni:"italieni",evrei:"evrei",cehi:"cehi",polonezi:"polonezi",ruteni:"ruteni",armeni:"armeni",albanezi:"albanezi",macedoneni:"macedoneni",alta_etnie:"alt etnie",neidentificat:"neidentificat",informatie_nedisponibila:"neidentificat"},Tut={graduate:"studii postuniversitare",undergraduate:"studii universitare",high_school:"liceu",vocational:"coal profesional",middle_school:"gimnaziu",primary:"coal primar",no_education:"fr coal"},Mut={title:dut,education:hut,students:put,teachers:gut,ratio:mut,language:vut,schools:yut,perCapita:but,"Match Settings":"Setri de corelare","Main Levels":"Niveluri principale","Other Levels":"Alte niveluri","Common Languages":"Limbi majoritare","Other Languages":"Alte limbi",schoolAge:_ut,strictLevelLanguage:xut,"Result Filters":"Filtru rezultate",grades:wut,Population:Sut,"Ethnic Breakdown":"Componen etnic",perCapitaTooltip:Cut,"School age":"Vrst colar",strictLevelLanguageTooltip:Eut,ethnicity:Out,education_dem:Tut};Vf.use(Eme).init({resources:{en:{translation:fut},ro:{translation:Mut}},lng:"ro",fallbackLng:"ro",interpolation:{escapeValue:!1}});const Aut=Rhe.createRoot(document.getElementById("root"));Aut.render(qn.jsx(bct,{}));
